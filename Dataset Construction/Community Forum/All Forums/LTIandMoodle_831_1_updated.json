{
  "forumName": "LTIandMoodle",
  "totalNumberOfPosts": 831,
  "posts": [
    {
      "PostID": 450918,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450918",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Announcement: Changes to LTI in Moodle 4.4 and beyond",
          "Text": "As many people in this forum may be aware, Moodle HQ is currently undertaking work to improve the LTI experience in the LMS.  The first steps in this work will be released in Moodle 4.3 with an improved configuration experience for course level LTI's.  The next steps however will require some significant changes to the LTI infrastructure before we can move forward in any significant way. I announced as part of my talk at the Global Moodle Moot that HQ is working with TurnItIn to move the existing mod_lti into a core subsystem for Moodle LMS.  TurnItIn will be doing the majority of this work as it is their aim to replace their existing 3 plugins with a single LTI integration.  In addition to this move to core they will also be implementing additional LTI Placements, and implementing a new LTI assett processor extension to facilitate their requirements.  Importantly it has been agreed that all work that will be undertaken will be in a standards compliant way and will be reusable by any other vendor or user of Moodle which is fantastic for the broader community.   Importantly this lays the ground work for additional placements to be added such as an LTI placement in the editor, course navigation etc. which is not currently possible. At this point the target timelines are Moodle 4.4 for the move to core and 4.5 for the implementation of the assett processor, this is obviously subject to change but this is the current intent.  Over the period of the move from Mod_LTI to core HQ will not be accepting additional changes to Mod_LTI to avoid code merge conflicts and the community doing work that will need to be re-implemented later.   If changes are to UI and other non- mod-lti related pieces we would consider them but please feel free to contact me and disucss if in doubt. I'm really excited about this move forward for the platform and I'm really looking forward to seeing how we can leverage this new capability once it is in place. (Edited by Jake Dallimore - original submission Wednesday, September 27, 2023, 3:50 PM) (Edited by Jake Dallimore - original submission Wednesday, September 27, 2023, 3:50 PM)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 27, 2023, 3:50 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI and Moodle",
          "Text": "Thanks Brett. Just want to clarify one little bit for others reading this (because we do get a fair few tool users on this forum) : The proposed changes will only impact the Platform side of Moodle's LTI implementation, not the Tool side. In terms of core changes, we're only talking about moving a good chunk of mod_lti plugin (and all of its associated source and service subplugins) into core. Nothing in Moodle's tool implementation ( enrol_lti , auth_lti ) will be changed or moved. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 27, 2023, 4:34 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI and Moodle",
          "Text": "Thanks for the clarfications Jake, much appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 27, 2023, 5:32 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI and Moodle",
          "Text": "Thanks Brett! - Awesome to see Turnitin funding this development - the work planned looks like it will provide a really great base for future LTI improvements that wouldn't easily be possible without this first step - looking forward to seeing this work land in the core release!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 28, 2023, 4:57 AM",
          "AuthorName": "Dan Marsden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21591&course=5",
          "role": [
            "Picture of Dan Marsden",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463150,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463150",
      "NoOfResponses": 14,
      "ResponsesInList": [
        {
          "Title": "LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Our LTI 1.3 integration is working fine with posting scores in Canvas and Brightspace. However when in the process of posting a score to moodle the `/mod/lti/token.php` endpoint returns a response with the `text/html` content-type instead of the json content type. Causing the mapping of the tokenResponse to fail. I found similar issues reported for other moodle responses here: https://moodle.org/mod/forum/discuss.php?d=462868#p1858374 I see a 200 response in the moodle logs, so my request is fine. 2024-10-23 12:11:47 172.18.0.1 - - [23/Oct/2024:10:11:46 +0000] \"POST /mod/lti/token.php HTTP/1.1\" 200 391 \"-\" \" Java /21.0.4\" A summary of my request <POST http://localhost:8000/mod/lti/token.php,{grant_type=[client_credentials], client_assertion_type=[urn:ietf:params:oauth:client-assertion-type:jwt-bearer], scope=[ https://purl.imsglobal.org/spec/lti-ags/scope/score ], client_assertion=[eyJraWQiOiJodHRwczovL3NsaW1zdGFtcGVuLXZhdWx0LWRldi52YXVsdC5henVyZS5uZXQva2V5cy9sdGktc2lnbmluZy1rZXkvNmYzMzNlYTU4NmE0NGRiNjgzNWVlYzlmYmUyNWJiNTkiLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJDYzBpU09xYmxPZFRPZWsiLCJzdWIiOiJDYzBpU09xYmxPZFRPZWsiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjgwMDAvbW9kL2x0aS90b2tlbi5waHAiLCJleHAiOjE3Mjk2NzgzNjYsImlhdCI6MTcyOTY3ODMwNiwianRpIjoiOWE1MGE5YzMtNjA3Mi00NWJlLTg0YjItNzJlOGFlZTFiMDJhIn0.3iOZco77R0aCBoTrilZlnJwwusZ0lmuXT22sQ4kD-qtdpoS3ZyNNasu9rwSPOxOWpP6ROWtXm3Qn1h6JcigNFU6R2bTPKNkvbNomCuDl5xu10YU6Y95XxapsmhZg0uLdqv_xkBKPIkQ3NGGegdtr2kBYvxIXxb-YLhh5e5gYn3DsscXhXgE92ZOf7RQjz2oWpLZHmvO2QEzGLb0k235yztj2v7qys6rqZ2Evl7bFuO1R3BA69W3CCsG5upEGBhYPlrvKYCeIGgboKz67uwkxXfUu9iU8NqAy1LzIGeWRrJVk9sIwv6lT2ZuhdZtXtdLyC6jFluoevAOUIypJzupKKw]},[Accept:\"application/json\"]>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2024, 6:05 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Well spotted, Tom. That's been missed in that endpoint, and falls back to text/html default as defined in our setup script. I suspect most tools don't really care/check this (nor does the certification suite), meaning it's gone unnoticed until now. A simple fix - I'll put up a patch tomorrow when I'm back online properly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2024, 8:31 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Great, thanks for the quick response Jake! Is it possible to merge this fix in MDL-83423 as well? Then I can test them both at the same time and I can be confident that the December release enables our client to add our tool to their Moodle environment. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2024, 8:55 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Hi Tom, Unfortunately, we need to keep these issues separated. We work on a one-issue-per-bug (or one-bug-per-issue) basis. I've created MDL-83538 to deal with this one, and have put up the patch for it (as mentioned, it's trivial). Feel free to check out the branch. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 24, 2024, 10:47 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Hi Jake, I've manually added this change in the MDL-83423 I was testing and can confirm that I'm now able to post scores successfully. Can I expect this to be in the December release? Best regards,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 24, 2024, 8:26 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "I can't guarantee that it will, but I'd expect that it probably will. Given It's such a minor issue with low priority, it'll just be progressed like many other issues (when someone has time to do the peer review).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 25, 2024, 9:45 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "It would be great if its reviewed in time, it would save me quite some work if this small bug is merged in time for the release.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 31, 2024, 5:16 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Any change on getting MDL-83538 some attention? Its still waiting for review and it would really help us if this is merged in the coming release.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 27, 2024, 8:09 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Tom The migration of LTI to core is taking priority over any other issues as any patch would need to be rebased and reemerged after that work is complete. As a general rule all LTI but fixes and improvements are being held till this is complete. If this doesn't make 5.0 as a result we will endeavour to get it into a minor after that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 28, 2024, 7:18 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Hi Brett, I don't mean 5.0 I need it to be in the december release of 4.5.1. As Jake mention this is such a minor fix, but would really solve some annoying issues for us. I think reviewing should not take more time than responding to this message",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, November 28, 2024, 4:04 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Hi Tom, It's not about the review time (that's trivial), it's about our processes. Essentially, we don't have a process for only landing bug fixes to stable branches during the LTI migration freeze. Bug fixes always go to any relevant branch, including main. Changing this would mean we'd need to go back and land the same fix in main later (and keep track of these things), which isn't handled in our current process. As such, at present, only major bugs are being considered as candidates to bypass the LTI freeze. You're of course welcome to cherry pick the patch locally, and maintain it there until it lands in core. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 29, 2024, 11:03 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Any updates on this? Its been 4 months and it still waiting for review",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 31, 2025, 10:53 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "up..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 20, 2025, 5:49 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Posting Score fails due to moodle sending incorrect content type?",
          "Text": "Hi Tom, The story is still the same as above. That migration work is planned for 5.2, after which all held LTI issues will be unblocked.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 21, 2025, 9:24 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470872,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470872",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.1 as LTI 1.3 Tool - no AGS token request and no /scores POST",
          "Text": "I’m integrating Moodle 4.1 as an LTI 1.3 Tool with our LMS Platform . OIDC login (resource launch) and Deep Linking both work. However, when a grade should be sent, Moodle never requests an OAuth token from our IdP and doesn’t POST to the AGS line item. IdP / issuer (from ID token): idp[dot]example/auth/realms/<realm> OAuth client_id (Moodle at IdP): <moodle-tool-client-id> Resource launch (AGS claim) sent by the Platform: scope: …/lti-ags/scope/score (score-only) lineitem: platform[dot]example/.../lineitems/<lineitem-id> (concrete URL ) Expected Tool behavior (Moodle): Discover token endpoint from issuer (iss). Request access token via client_credentials + private_key_jwt client_id = <moodle-tool-client-id> scope = …/lti-ags/scope/score POST {lineitem}/scores to the Platform’s AGS endpoint. Actual behavior: No call to the IdP token endpoint when grades change. No POST to the line item. Moodle configuration (as Tool): Publish as LTI tool: Enabled Tool registration: OIDC discovered; Platform JWKS set Services (per published tool): “Use this service for grade synchronization only” (to match score-only scope) Accept grades from the tool: Never (Moodle is the Tool) IdP setup: Client: <moodle-tool-client-id> Auth: private_key_jwt enabled; service accounts enabled (supports client_credentials) Tool public key/JWKS registered; small clock skew allowed Questions: With Moodle 4.1 as Tool and score-only scope + “grade synchronization only”, should Moodle request a token and POST `/scores` on grade change (without needing lineitem or result.readonly scopes)? Are there known 4.1 issues or extra switches that block the AGS token request unless “grade synchronization and column management” is selected? Which logs/components (or cron tasks) in 4.1 definitively show the outbound client_credentials request for AGS? I can share redacted ID tokens, screenshots of the Publish-as-Tool Services settings, and the IdP client config if helpful. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 12, 2025, 2:43 PM",
          "AuthorName": "Manoj Chaurasiya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5642785&course=5",
          "role": [
            "Picture of Manoj Chaurasiya"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Moodle 4.1 as LTI 1.3 Tool - no AGS token request and no /scores POST",
          "Text": "Hi Manoj, I just re-certified recently for 4.1, and can confirm AGS is definitely working both ways (Moodle as the tool can push grades and line items, Moodle as the platform can receive them). I suspect there's a configuration issue at play here. I notice that you mention LMS Platform but don't say that you're using Moodle. Is the platform you're using Moodle, or something else? I only ask because you mention things like \" Accept grades from the tool: Never \", which is a platform -side setting and isn't anything to do with using Moodle as an LTI tool . It would be good to clarify this. If you're using another platform, you shouldn't even be in this form on the Moodle tool site. The docs for setting up and using Moodle as an LTI tool might prove helpful. There is some mention of the Moodle platform side in there, but that's only one example. If it's another platform, then you'd need to check the specific docs for that platform.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 13, 2025, 8:51 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470805,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470805",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Improving display of external tool resource selection",
          "Text": "Hi, I'm looking for the correct home to suggest a minor UI improvement for when moodle is used as a tool and the other platform is making a resource selection from a moodle course Published content items. In my case, I used the Canvas LMS as our main teaching environment and moodle as a tool to provide specialised questions via a moodle course quiz.  Quizzes are published as LTI 1.3 tools.  On the Canvas side, our teaching staff link their accounts and then can see all their published moodle quizzes via a screen that looks like this: It's quite difficult to easily see where the list for one courses starts and ends.  I think this would benefit from stronger visual (and potentially accessibility attributes) cues to separate each course.  At the moment there are no class or IDs in the HTML to indicate course titles therefore moodle admins can't easily add any custom CSS to patch this is.  At a basic level, using a bold text to highlight each course in the list would greatly help: I'm happy to repost this suggestion to a more appropriate place if someone tells me where. Thanks.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1889973/image.png?1762512117017",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1889973/image%20%281%29.png"
          ],
          "Time": "Friday, November 7, 2025, 6:47 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Improving display of external tool resource selection",
          "Text": "There are several suggestions to improve the Deep Link chooser view in the bug/issue tracker for this component but this is a much more straightforward improvement than the idiosyncratic needs you'll find there. The html for that table comes from this template and it's styled from this css file .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 7, 2025, 9:31 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470366,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470366",
      "NoOfResponses": 17,
      "ResponsesInList": [
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "We have a problem which we don't fully understand. We have for many years used moodle as a Tool to provide specialised quiz services to Blackboard using LTI 1.1. This year we moved our main LMS over to Canvas and have changed the integration to moodle to LTI 1.3 Advantage . All was seeming looking good but now all our students have returned and we are scaled up, we are seeing worrying problems with our course membership synchronisation. Our users are being synced from Canvas course spaces to moodle course Spaces. However, it seems like only the first 50 are being processed per resource. Moodle logs show this type of action happening: \n```text\nRequesting names and roles for the resource link '181' for the resource '1641'\nMaking resource-link-level memberships request\n50 members received.\n```\n And then it moves on to the next resource And so on.... Further, when students access and complete a Moodle quiz using the canvas assignment, they are not automatically  enrolled in the moodle space, even though their attempts are counted by Moodle and synced back to Canvas as part of the Grades sync. I can see that on the Canvas/Platform side, membership data is paginated with a default of 50 NamesAndRoleMemberships returned in a page ( https://developerdocs.instructure.com/get_started#pagination-and-large-data ). The \"limit\" parameter is in the IMS spec for LTI Advantage ( https://www.imsglobal.org/spec/lti-nrps/v2p0#limit-query-parameter ). I've tried wading through the moodle source code for the implementation of this, but it's proving tricky to see what is going on. We are self-hosting and currently running moodle v4.1.11+ BUT we know we are behind on our patching and will be moving to moodle 4.5.x LTS release in the next few weeks. Can someone please confirm if pagination limits are handled in the moodle NRPS membership sync and if these has always been handled e.g. is our older version of moodle missing a patch which would fix this problem? Are there any other possible places to look for the cause (and fix) of this problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 13, 2025, 9:44 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "I've traced the latest moodle code through to where the pagination is handled: https://github.com/moodle/moodle/blob/main/public/enrol/lti/classes/local/ltiadvantage/task/sync_members.php#L114 https://github.com/moodle/moodle/blob/main/public/lib/lti1p3/src/ServiceRequest.php https://github.com/moodle/moodle/blob/main/public/lib/lti1p3/src/LtiNamesRolesProvisioningService.php The actual handling of the next page of data is handled here: https://github.com/moodle/moodle/blob/main/public/lib/lti1p3/src/LtiServiceConnector.php#L152 I can see the handling is there and looks all fine in this version of moodle. Have there been any historical issues with pagination handling of membership in past versions of moode?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 14, 2025, 3:41 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "I ran into this way back when I started working on LTI 1.3 into Canvas and forgot all about it until now. This is specific to Moodle 4.1, so the problem will go away when you upgrade. The bug is in the getNextUrl class method of LtiServiceConnector. Although RFC 8288 always uses \"Link \" for that header field name, RFC 9112 says header field names should be processed case-insensitively , so I would have preferred getResponseHeaders would have normalized the field names to upper or lower with array_change_key_case (and that was my fix until upgrading to 4.5). This works for the RFC 8288 and Canvas cases, though, so will get your full rosters synchronized.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 15, 2025, 8:31 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Many thanks for your reply Liam, everything in it makes 100% sense for what we are seeing. Canvas APIs do indeed send \"link\" instead of \"Link\", therefore the fix sounds perfectly sensible. I got approval from our Change Authority Board to apply this change which I had to do to our live environment directly - our test moodle instance cannot currently integrate with our test Canvas instance for reasons I won't go into. Nothing untoward happened as the change is quite simple. However, I'm not seeing any change to the membership sync behaviour. I suspect that the previous version of the script is being cached somewhere but I'm not au fait with how moodle handles caching of moodle PHP/Opcode. Do you happen to know if caching of the PHP is likely to be a cause of why we aren't seeing the impact of the change? Will a restart of the PHP service solve any caching issues? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 15, 2025, 9:39 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Restarting php services likely would not purge the cache depending on which cache method you're using, but the admin/cli/purge_cache.php command line script or the page at /admin/purgecaches.php would. I always refresh a moodle page a few times after purging cache since the theme js and scss has to be re-loaded into cache and try to suffer that myself wherever possible.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 15, 2025, 10:27 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "I think I was wrong about your purge cache question, but don't know enough about your environment to say. I do have opcache enabled in php-fpm, but just tested adding some debugging lines on a test server in a /lib/lti1p3 file and was able to see the message printed to file without doing anything to purge cache, so at least in my environments, those files aren't being cached.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 16, 2025, 12:17 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Thanks. Whilst I can't repeat your test in a /lib/lti1p3 file because I don't have an LTI integration in my firewalled test environment, I can do a similar test on CLI tasks else where and I see the change within a couple of minutes. I also have opcache running though my settings may be different to yours. Frustratingly the \"$subject = $headers['Link'] ?? $headers['link'] ?? '';\" fix isn't translating to any changed behaviour which doesn't make sense unless something else is preventing this change from having an effect (caching) or it isn't all of the fix. Unfortunately I can only \"test/fix\" direct to our live server which has ~1000 uses potentially accessing it. I'll ponder some more...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 16, 2025, 4:23 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "I'm equally baffled: I checked my commit history from that time and the only change I made to get pagination working was properly handling the casing of that header field name. Are you certain that the node or nodes performing cron tasks were patched and not the web workers? The only other thing I can think of is that the enrol_lti plugin does allow a maximum number of enrolled users like self enrollment does, but the default is 0 (unlimited), so it would have taken effort to set it 50 for all courses, which coincidentally happens to be the page size in Canvas' NRPS membership responses.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 16, 2025, 8:27 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "The change makes perfect sense, it really does. We only have the one moodle node/code base, we aren't quite ready for a cluster setup as we use moodle just for one Department for specialist mathematical tests using the STACK plugin. I'm going to do an out of hours reboot tonight so see if there are any unforeseen caching issues. Hopefully that fixes things, please God let it! Not sure where you mean by the \"enrol_lti plugin\". We are using the \"Publish as LTI tool\" setup to publish quizzes only (not entire courses) and I can't see any settings to limit enrolments in there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 16, 2025, 9:56 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Well, my reboot changed nothing. Still limited to 50 users when fetching the membership. I found the setting you were referring to - the enrol_lti plugin settings for an individual published activity. Nothing odd there either. So frustrating. We upgrade in a couple of weeks so I hope that resolves it all.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 17, 2025, 12:23 AM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "That is disappointing and perplexing. Synchronization for rosters larger than 50 definitely works out of the box in Moodle 4.5 with Canvas, but it's a bizarre shame that this change didn't get you in business like it did for me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 17, 2025, 1:00 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Thanks for your help anyway. Just one more question. I desperately need to set up a test integration so I can explore these things when they occur. My current moodle TEST instance is firewalled on security/policy grounds and prevents me from integrating moodle with anything outside the firewall such as our Instructure hosted Canvas instances. My options are either to beg for a security exception OR look at spinning up a self-hosted Canvas instance behind our firewall (maybe via Docker). Can you briefly tell me what your moodle->Canvas test setup looks like and if there were any challenges e.g. it occurred to me that the Canvas beta instance refresh data weekly which must mess up LTI integrations.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 17, 2025, 3:28 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "This is a big question. The easiest dev setup would be using a containerized Canvas instance , but you'd need to do the tool registration dance every time you spin up the container. What I currently do: we have a completely separate dev Moodle server environment that's integrated with a testing subaccount on the same production Canvas instance, but using its own lti keys and integration setup. The dev Moodle and Testing Canvas subaccount have representative courses in them that are adequate for testing release candidates but this setup doesn't allow for comprehensive testing since the real courses are on the production Moodle and the live subaccount in Canvas. What I'd like to do, and that I have set up for my dev subaccount and dev instance, is to be able to do comprehensive testing like you suggest at the end of your question by using the beta instance of Canvas that syncs from the production instance on a weekly schedule and runs the next release candidate of Canvas. But it's complicated... The setup is that I have a load balancer node that runs nginx with an upstream configuration for a Moodle production backend and another for the beta Moodle backend, plus a bunch of map directives. The most conceptually important map checks for the referer when the /enrol/lti/login.php is hit (this is the first request during a launch). If the referer is the beta Canvas instance, it sets a cookie to indicate this session originates from the beta Canvas instance and routes it to the beta Moodle backend; if the referer is not beta Canvas, it doesn't set that cookie and routes the request to the \"production\" Moodle backend. For any other requests to the load balancer, it checks for the cookie to determine which upstream to route the request to. When I sync the beta Moodle environment to the production Moodle, I run some sql commands on beta's db that updates the mdl_enrol_lti_resource_link.{lineitemservice,contextmembershipsurl} and the mdl_enrol_lti_app_registration.{platformid,authenticationrequesturl,jwksurl,accesstokenurl,platformclienthash} to make launches and sync members and grades tasks work correctly with the beta Canvas platform and to ensure tasks don't try to send beta data to the production Canvas. Those are mostly just fqdn replacement commands, and the value for platformclienthash is computed here . This works fine for me since I use several different browsers for specialized tasks, like this sort of testing; but some of the directives to unset the beta and session cookies don't seem to work reliably for a few of my colleagues and they get stuck routing to the wrong backend and report false errors. I haven't built that out for our production environment since I don't have approval to duplicate the file hosting backend, but hope to build it out using a weekly automatic refresh that matches Canvas's refresh period and ZFS clone on the file hosting partition so the only additional storage needed is the delta from the last refresh.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 17, 2025, 8:29 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "This is a pretty comprehensive answer so thanks for taking the time to write all that. After talking with colleagues about the problem I think we'll try to get beta/test Canvas integrated with our beta moodle environment so that we are as close to the Canvas Production setup as possible. I have no doubt it will be painful to setup and get working, but I need to do something! Thanks again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 21, 2025, 8:34 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Hi Liam, I just wanted to post a short follow-up message to thank you again for your support. Last Monday I upgraded our moodle instance to version 4.5 and our membership synchronisation time increased from ~15 mins to ~2 hours - the logs clearly showing that enrolment synchronisation was no longer capped at 50 users. I've also carefully checked grade synchronisation behaviour today too, as some of our staff had concerns over this. This all looks good too with the highest grade always being the one to sync back to Canvas. We have some clearing up to do from problems created pre-upgrade, but for now all looks good going forwards. Best wishes, Stuart Anderson User Attempt # Score on moodle Time of moodle attempt Score on Canvas Time Canvas received grade Time to sync (hh:mm) Comments ATTEMPT #1 Test-130 1 10.00 05/11/2025 16:20 10.0 05/11/2025 16:38 00:18 Test-131 1 7.50 06/11/2025 08:37 7.5 06/11/2025 08:39 00:02 Test-132 1 5.00 06/11/2025 08:41 5.0 06/11/2025 09:08 00:27 Test-133 1 2.50 06/11/2025 08:44 2.5 06/11/2025 09:08 00:24 Test-134 1 0.00 06/11/2025 08:46 - - - Zero marked attempt not sent Test-135 1 0.00 06/11/2025 08:48 - - - Zero marked attempt not sent Test-136 1 5.00 06/11/2025 08:50 5.0 06/11/2025 09:08 00:18 Test-137 1 10.00 06/11/2025 08:57 10.0 06/11/2025 09:08 00:11 ATTEMPT #2 Test-130 2 ↓ 7.50 06/11/2025 09:53 = 10.0 05/11/2025 16:38 Not updated Highest scored attempt kept Test-131 2 ↓ 5.00 06/11/2025 09:55 = 7.5 06/11/2025 08:39 Not updated Highest scored attempt kept Test-132 2 ↑ 10.00 06/11/2025 09:58 ↑ 10.00 06/11/2025 10:09 00:11 New high score attempt received Test-133 2 ↑ 5.00 06/11/2025 10:05 ↑ 5.00 06/11/2025 10:09 00:04 New high score attempt received Test-134 2 = 0.00 06/11/2025 10:07 - - - Zero marked attempt not sent Test-135 2 ↑ 2.50 06/11/2025 10:10 ↑ 2.50 06/11/2025 10:41 00:31 New high score attempt received Test-136 2 = 5.00 06/11/2025 10:13 = 5.0 06/11/2025 09:08 Not updated Not updated as no change to score Test-137 2 = 10.00 06/11/2025 10:16 = 10.00 06/11/2025 09:08 Not updated Not updated as no change to score ATTEMPT #3 Test-130 3 ↓ 5.00 06/11/2025 11:54 = 10.0 05/11/2025 16:38 Not updated Highest scored attempt kept Test-131 3 ↓ 0.00 06/11/2025 11:56 = 7.5 06/11/2025 08:39 Not updated Highest scored attempt kept Test-132 3 ↓ 5.00 06/11/2025 11:58 = 10.0 06/11/2025 10:09 Not updated Highest scored attempt kept Test-133 3 ↑ 7.50 06/11/2025 12:03 ↑ 7.50 06/11/2025 12:12 00:09 New high score attempt received Test-134 3 ↑ 2.50 06/11/2025 12:05 ↑ 2.50 06/11/2025 12:12 00:07 New high score attempt received Test-135 3 ↑ 5.00 06/11/2025 12:08 ↑ 5.00 06/11/2025 12:12 00:04 New high score attempt received Test-136 3 ↓ 2.50 06/11/2025 12:10 = 5.0 06/11/2025 09:08 Not updated Highest scored attempt kept Test-137 3 ↓ 0.00 06/11/2025 12:12 = 10.00 06/11/2025 09:08 Not updated Highest scored attempt kept",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 6, 2025, 10:05 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Thanks for that update, I am relieved the upgrade fixed it but still baffled why backporting the fix didn't do the trick. Something to keep an eye on, the NRPS specification includes an optional link header value with the \"differences\" relation that only returns changes from some timestamp specified in the URL . This isn't implemented in Canvas or Moodle (but possibly in D2L) and would dramatically improve the efficiency of periodic roster synchronization updates. In my instance, I'm using a platform-optimized sync memberships task inspired by the improvements to the sync_grades task introduced in Moodle 4.2 where the  primary efficiency improvement is having the actual syncing work done concurrently in ad hoc tasks spawned by the scheduled task. That way, the high enrollment courses don't block all the smaller courses from syncing on the expected schedule and the task overall gets done much, much more quickly than synchronizing each roster one at a time. The task as I wrote it is over-optimized for generic platform use, though. Hopefully the \"differences\" NRPS api call gets broadly implemented so efficiency optimization work moves from tool to platform instead.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 6, 2025, 11:02 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "That's good to know, thanks, I'll look out for it. At the moment, the 2 hours of time to sync memberships isn't going to be a problem for me because our upstream Canvas <-> Student Information System integration only pushes Canvas course enrolments once a day late at night. I plan to change the moodle membership Task sync time to once a day early in the morning. Very, very occasionally there might be some off schedule student enrolments in Canvas which ideally should be synced quicker, but generally I think it is unlikely to be anything too urgent. That said, it definitely would nice if it were more efficient so I will keep an eye out for only \"differences\" being implemented in the future.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 6, 2025, 11:59 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470517,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470517",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "contentitem_return.php is returning 404",
          "Text": "I am adding an LTI 1.3 tool to Moodle. After adding it, I go to my Moodle course, select my LTI tool, click Select Content , and try to choose assignments for students. After selecting and clicking Next , I get a 404 error.  I am making a request. I am sending: `https://cyberskiller.moodlecloud.com/mod/lti/contentitem_return.php?course=9&id=1&sesskey=wHen7CAgru` I receive a 404 status with the message: \"Consumer key is incorrect.\" This is what I am sending in the JWT (after decoding) - screen below.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1888796/Screenshot%202025-10-21%20at%2014.20.21.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1888796/Screenshot%202025-10-21%20at%2014.22.55.png?forcedownload=1"
          ],
          "Time": "Tuesday, October 21, 2025, 8:24 PM",
          "AuthorName": "Jakub Olszewski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7805029&course=5",
          "role": [
            "Picture of Jakub Olszewski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "contentitem_return.php is returning 404",
          "Text": "Hi Jakub, The \"iss\" and \"aud\" values that you're using in the Deep Linking Response JWT don't look correct to me. During the deep linking REQUEST message, \"iss\" should contain the HTTPS URL of the platform, while \"aud\" contains the LTI ClientId. However, during the response, these values are flipped, so the tool must send the ClientId value in \"iss\" and the HTTP platform URL in \"aud\". https://www.imsglobal.org/spec/lti-dl/v2p0#aud Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 4, 2025, 11:04 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470668,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470668",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "openid indentity provider needed",
          "Text": "I need to choose an openid identity provider for my LTI Advantage implementation.  Have anyone found one easier to use than others? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 30, 2025, 5:19 AM",
          "AuthorName": "Frank Vierling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399964&course=5",
          "role": [
            "Picture of Frank Vierling"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "openid indentity provider needed",
          "Text": "Hi Frank, We probably need some more detail on this post to properly understand what it is you're trying to do. With LTI 1.3 and LTI Advantage, since it's built on OpenId Connect, the platform IS the identity provider (e.g. Moodle, Canvas, Blackboard, D2L are the IdPs). If you're doing something else, you might need to add some more info. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 3, 2025, 1:32 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470587,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470587",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Advantage External Tool setup failing",
          "Text": "Using Moodle 5.0.3.  Trying to create and external tool pointing to another Moodle at 5.0.3. I go the \"site administration/plugins/external tool/manage tools\" and enter the Registration URL supplied by the provider site in then click \"Add LTI Advantage\".  The screen returns without displaying an error but without a tool created.  An error of \"A required parameter (openid_configuration) was missing\" is loggedl Where do I start to look for a solution.  I am able to connect to the provider site with a legacy tool using an tool url but not with an LTI advantage registration to the provider. All insights are appreciated, Frank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2025, 5:49 AM",
          "AuthorName": "Frank Vierling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399964&course=5",
          "role": [
            "Picture of Frank Vierling"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "LTI Advantage External Tool setup failing",
          "Text": "Hi Frank... I took the liberty of moving your post to the LTI forum. -Thom, HQ Moderator",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2025, 10:08 AM",
          "AuthorName": "Thom Rawson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821225&course=5",
          "role": [
            "Picture of Thom Rawson",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Advantage External Tool setup failing",
          "Text": "Thanks, Sorry I miss posted",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2025, 6:10 PM",
          "AuthorName": "Frank Vierling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399964&course=5",
          "role": [
            "Picture of Frank Vierling"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Advantage External Tool setup failing",
          "Text": "Hi Frank, Sorry for the late reply. I've been away on leave. Are you running debugging mode in the consumer site by any chance? I recall there being an issue in which a warning is escalated to an error during dynamic registration, and turning off debugging resolves this. MDL-80674 It could also be due to the default \"HTTP Security\" settings (via Site admin). When testing locally, localhost is blocked, so this could be a factor if you're running two local sites for testing purposes. When we do this, we need to remove the localhost entries from the HTTP security \"Blocked hosts\" setting on both the tool and platform (tool and consumer) sites. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 3, 2025, 1:29 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470489,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470489",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Registration URL gets \"Forbidden\" responce",
          "Text": "First time using Moodle advantage.- have 2 Moodle installations; Trying to establish Moodle P as a provider and Moodle C as a consumer On Moodle P have a course a course I wish to publish -Enrollment method configured with with Launch URL and Custom properties available to use Also on Moodle P have used document LTI Moodle to Moodle to register a platform with registration url available to use On Moodle C have used document LTI Moodle to Moodle to attempt to configure a consumer external tool using the registration url from Moodle P then clicking on button \"Add LTI Advantage\" - I get response : Forbidden You don't have permission to access this resource. How do I grant that premission to Moodle C ?  I think I am missing a step to establish a trust relationship between the 2 Moodles ? Thanks in advance for sharing you insight !  - Frank Trying to connect us",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 20, 2025, 3:39 AM",
          "AuthorName": "Frank Vierling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399964&course=5",
          "role": [
            "Picture of Frank Vierling"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Registration URL gets \"Forbidden\" responce",
          "Text": "This has been resolved, it was an Apache permissions issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 22, 2025, 5:45 AM",
          "AuthorName": "Frank Vierling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399964&course=5",
          "role": [
            "Picture of Frank Vierling"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470092,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470092",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI Advantage invalid request",
          "Text": "Hi, We have the following issue, we want to integrate Moodle as a tool in our platform (LTI Advantage). Our platform consists of a separate frontend (angular v18) and backend (c# .NET). We're running our own Moodle instance (version 4.3.3) from a bitnami installation. Currently our backend is running locally using ngrok to expose our backend endpoints. We keep running into the issue that apparently there is no session variable launchid. This prevents Moodle from retrieving the configuration. Our starting point is the frontend which accesses the backend in order tot retrieve the authentication endpoint in our Moodle instance. After retrieval of the authentication endpoint (including the required query parameters) https://moodle.intellicare.nl/mod/lti/auth.php? response_type=id_token& response_mode=form_post& scope=openid& client_id=0m70CUwBYAkOYI3& redirect_uri=https%3A%2F%2Fgoldfish-gorgeous-lovely.ngrok-free.app%2Flaunch-response& login_hint=2& state=5a65907a-c9f0-4faa-b1a1-8bdc954a6485& nonce=92f44470-25dc-4502-92cb-107c527479db& lti_message_hint=%7B%22launchid%22%3A%2203022a41-f20e-4ac2-968d-85f7429b10e8%22%7D& prompt=none ,we get the invalid request exception. We have gone over our configuration over and over, but can't find the issue. Our settings are in the picture below. The moodle configuration looks like this:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1887029/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1887029/image%20%281%29.png"
          ],
          "Time": "Thursday, September 25, 2025, 4:43 PM",
          "AuthorName": "Henk Koning",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7715524&course=5",
          "role": [
            "Picture of Henk Koning"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "LTI Advantage invalid request",
          "Text": "Hi Henk, This certainly presents like a third party cookies issue, and the handling differs across the browsers. Basically, if the browser is unable to keep the session within the frame, Moodle will return a set cookie header the second time and of course there will be no access to session vars. What browser are you seeing this problem on? Can you post the exception message? Can you include a browser network trace of the launch? Edit: I just re-read your post and Moodle is the Platform here, not the tool. The LTI tool is the application running on ngrok. The platform (Moodle in your case), is consuming that tool. That said, cookies are still the likely suspect and same question applies. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 26, 2025, 10:30 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Advantage invalid request",
          "Text": "Hi Jake, Thank you for your reply. I added a Screen recording , I have the follwoing network trace, i don't know whether it will provide you with more and useful information. The information is in the following images. The error occurs in line 75 in file mod/lti/auth.php. Is it possible that i'm missing settings besides the platform registration in our Moodle environment, i.e. i enabled the REST protocol. With regards, Henk",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1887234/Screenshot%202025-09-29%20122404.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1887234/Screenshot%202025-09-29%20122629.png"
          ],
          "Time": "Monday, September 29, 2025, 6:56 PM",
          "AuthorName": "Henk Koning",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7715524&course=5",
          "role": [
            "Picture of Henk Koning"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470025,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470025",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Issue with Matlab Grader LTI after Moodle Upgrade",
          "Text": "Hi, we are facing an issue and hope someone can help! Here is a short description: We have Matlab Grader LTI integrated in our Moodle system. Before upgrading Moodle (previous version 4.3), everything worked fine. After upgrading to version 4.5, it no longer works. When a user opens the activity, nothing loads. In the console, some errors appear (screenshot attached). We contacted Matlab support, but they couldn’t help us much. That’s why I´m reaching out to this community in the hope someone has already experienced this issue and can suggest a solution. The strange thing is that our other LTI providers (such as Pearson) are still working normally. Thank you very much for any help! Best regards, Nikola",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1886830/Console.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1886830/Matlab%20Activity.png?forcedownload=1"
          ],
          "Time": "Tuesday, September 23, 2025, 3:16 PM",
          "AuthorName": "Nikola Bogosavljevic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5267629&course=5",
          "role": [
            "Picture of Nikola Bogosavljevic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Issue with Matlab Grader LTI after Moodle Upgrade",
          "Text": "Hi Nikola, Any chance you could also include the iframe's HTML tag, which includes the permissions? You'd need to find it in the page using the element picker in dev tools, and it'd look something like: `<iframe id=\"contentframe\" height=\"600px\" width=\"100%\" src=\"http://localhost/testing/ltix/launch.php?id=2\" allow=\"microphone http://localhost; camera http://localhost; geolocation http://localhost; midi http://localhost; encrypted-media http://localhost; autoplay http://localhost\" allowfullscreen=\"1\" style=\"height: 602.5px;\"></iframe>` Also might be good to confirm whether the Moodle site itself is returning any Permissions-Policy header, which I believe can interact with the iframe permissions by potentially providing an empty allowlist, meaning despite the attempt to grant iframe permissions, it won't receive any. I'd probably need to do some more reading myself on this, as I'm certainly no expert myself either, but it's something to check at least. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 24, 2025, 9:43 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Issue with Matlab Grader LTI after Moodle Upgrade",
          "Text": "Hi Jake, iframe is there: We assume there is an issue with Matlab. When we check the network, we see that there have been some GET and POST requests, and the last call was to “ https://learningtool.mathworks.com/lti/redirect ”, which returned an empty response — i.e. neither content nor an error message. I thought that maybe someone else has had similar issues with LTI and might have found a solution. Thank you! BR",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 24, 2025, 3:26 PM",
          "AuthorName": "Nikola Bogosavljevic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5267629&course=5",
          "role": [
            "Picture of Nikola Bogosavljevic"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469934,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469934",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Unable to Post Scores Moodle 4.5",
          "Text": "We are implementing our first LTI integration with Moodle 4.5.2. The launch is working well, but we are unable to post scores back to Moodle with LTI 1.3. There have been quite a few posts with similar issues but not seeing what the resolution ultimately was if any. The endpoint appears to be unreachable. Does anyone have suggestions as to what we could look for, either in the tool configuration or in our Moodle config that could help? Tool config settings: This is the error message received: { \"status\" : 400 , \"reason\" : \"No handler found for   application/vnd.ims.lis.v1.score+json\" , \"request\" : { \"method\" : \"POST\" , \"url\" : \"/mod/lti/services.php/515/lineitems/7123/lineitem/scores?type_id=4\" , \"accept\" : \"*/*\" , \"contentType\" : \"application/vnd.ims.lis.v1.score+json\" } } The “lineitem” value we’re receiving from Moodle is: 'lineitem': ' https://yourmooodle/mod/lti/services.php/515/lineitems/7123/lineitem?type_id=4 ' The “lineitems”value we’re receiving from Moodle is: 'lineitems': 'https://yourmoodle/mod/lti/services.php/515/lineitems?type_id=4'",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1886524/image.png"
          ],
          "Time": "Thursday, September 18, 2025, 7:12 AM",
          "AuthorName": "Jace Kelly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2453578&course=5",
          "role": [
            "Picture of Jace Kelly"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Unable to Post Scores Moodle 4.5",
          "Text": "Hi Jace, That 'reason' string should include 3 variables , 2 of which are there in a POST: The path, and the content type. In your example above, you can see that path isn't printed, which indicates a problem with the web server's support for slashargs . In a working site, you'd see path being reported as \" /515/lineitems/7123/lineitem /scores\" in your example. Once that's configured, and the script can read slashargs, it should work fine. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 18, 2025, 11:14 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Unable to Post Scores Moodle 4.5",
          "Text": "Hi Jake! I work with Jace at the same company and I'm his System Admin and I have access to the server . You helpfully posted a link to configure slashargs. I looked at this document and I have done the following to try to enable SlashArguments and we are still getting a \"400\" error. - I added \"security.limit_extensions = .php\" to the www.conf file. - I added the FASTCGI configuration that was listed - In the \"Routing Engine\" section, I did change it from index.php to r.php - I restarted both php-fpm and nginx after making these changes Any help that you could provide would be greatly appreciated! And I know very little about Moodle, so you might need to talk to me like I don't know anything about it. I won't be offended. Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 24, 2025, 3:56 AM",
          "AuthorName": "David McCullough",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7335908&course=5",
          "role": [
            "Picture of David McCullough"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Unable to Post Scores Moodle 4.5",
          "Text": "Hi David, Unfortunately, I'm in almost the same boat as you, but rather than a lack of Moodle/LTI knowledge, my gap is in the server configuration domain . I build Moodle, but don't work with clients, nor hostings, so I really can't say exactly how that must be configured, only that it's a must for LTI (and I believe a few other things) to work properly. Perhaps others can chime in (and I know there are others here who DO host and configure ws, etc.). Perhaps you can also include some information about the server you're running the Moodle site on (linux flavour, iis , other?) and what version of PHP etc. That might help someone else provide the necessary guidance. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 24, 2025, 9:16 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469551,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469551",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI: scoreGiven not numeric when returning grades to LMS",
          "Text": "Hey all, I am currently trying to integrate a Moodle course into our LMS via LTI. Authentication and launch are working flawlessly, and I can complete the Moodle course within our LMS. However, Moodle does not seem to send a proper numeric score back to the LMS after completion. In the LMS logs I see the following error: \n```text\nBad Request (\n400\n): \nSchema\n property `scoreGiven` must be \nnumeric\n.\n```\n Did I miss something in the Moodle configuration that prevents a valid numeric value from being sent as the score? As far as I know, the `scoreGiven` field is optional, but when present it must be a positive number (including 0). If it is anything else, it breaks the specification. Our LMS uses the Rustici Engine for the LTI integration. With other LMS platforms we don’t encounter this issue – it only happens with Moodle regarding the score/completion. I am currently running Moodle 5.0 (Build: 20250414) . Any advice would be greatly appreciated – thanks in advance! Regards, Frederik",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 25, 2025, 6:11 PM",
          "AuthorName": "Felix Frederik Goldmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7566658&course=5",
          "role": [
            "Picture of Felix Frederik Goldmann"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "LTI: scoreGiven not numeric when returning grades to LMS",
          "Text": "Hi Frederik, scoreGiven must be numeric, yes, and is in fact compared to the existing grade as a float param. So, at least at that point in code , we know it's a float, otherwise it'd throw a fatal error. It would be useful also to include: a) what course grade you see for the user in the published course b) the logs from the LMS. It seems to suggest something isn't numeric, but what's the value it's seeing? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 26, 2025, 10:44 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI: scoreGiven not numeric when returning grades to LMS",
          "Text": "Ah, scratch that, we're not using strict types here, here's so the string value of the course grade is type juggled during float comparison, and it's not converted to a float proper at any point in time. Here's an example of the payload (local breakpoint, during a course grade push): I've created MDL-86437 to address this problem. Thanks for the report, Frederik! Cheers,",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1885047/string_value_scoreGiven.png"
          ],
          "Time": "Tuesday, August 26, 2025, 11:17 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI: scoreGiven not numeric when returning grades to LMS",
          "Text": "Hey Jake, i created a patch file with a fix for this issue MDL-86437 . Could you check if i met all necessary requirements for this patch to solve the problem ? Kind Regards Frederik",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 22, 2025, 9:39 PM",
          "AuthorName": "Felix Frederik Goldmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7566658&course=5",
          "role": [
            "Picture of Felix Frederik Goldmann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI: scoreGiven not numeric when returning grades to LMS",
          "Text": "Thanks Frederik! I just checked that one out and put a few comments there. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 23, 2025, 9:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469605,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469605",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "External tool (LTI) workflow change after upgrading to Moodle 4.5.4",
          "Text": "Hello, After upgrading from Moodle 4.1.15 to 4.5.4, we noticed that the \"External tool\" option is no longer directly available in the \"Add an activity or resource\" menu. In Moodle 4.1.x: - Site administrators registered the LTI tool with consumer key and shared secret. - Course teachers could simply add an activity, select \"External tool\", and only enter the Tool URL (different per content). - This allowed teachers to add LTI resources without knowing the secret credentials. In Moodle 4.5.4: - The activity chooser does not show \"External tool\" unless the tool is added via \"More > LTI External tools\". - Course teachers are required to know consumer key and shared secret when adding new tools, which is not possible in our organization (these credentials are not shared with teachers). Our ideal use case: - Admins register LTI tools with credentials once. - Course teachers should be able to add LTI activities only by specifying a Tool URL, as before. Question: - Is there any recommended workaround to allow course teachers to add LTI activities with only a Tool URL (without exposing consumer key/secret)? - Or is this simplified workflow no longer supported in Moodle 4.3+? Thank you very much for any guidance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 28, 2025, 7:48 PM",
          "AuthorName": "Sayori Tatsuki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4507461&course=5",
          "role": [
            "Picture of Sayori Tatsuki"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "External tool (LTI) workflow change after upgrading to Moodle 4.5.4",
          "Text": "Hi Sayori, Yes, this was changed in 4.3, as part of MDL-78573 . Now, tools must be created at either site or course level (this part hasn't changed), and used at course level by enabling the tool for use in the activity chooser. It is no longer possible to create specific links using a domain -match approach like in your example, since we've removed that \"External tool\" link from the activity chooser. You must configure the tool and go via that link in the activity chooser.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 4, 2025, 10:07 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "External tool (LTI) workflow change after upgrading to Moodle 4.5.4",
          "Text": "Hi Jake, Thank you very much for your kind and detailed response. I understand now that the only way would be to use custom parameters, but unfortunately the external tool we are working with does not support them. In this case, may I ask if there are really no alternative approaches available? If not, I fully understand, but I just wanted to confirm before giving up on this requirement. Thanks again for your helpful advice and your time. Best regards, Sayori",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 4, 2025, 3:55 PM",
          "AuthorName": "Sayori Tatsuki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4507461&course=5",
          "role": [
            "Picture of Sayori Tatsuki"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "External tool (LTI) workflow change after upgrading to Moodle 4.5.4",
          "Text": "Hi Sayori, At the moment, that's right, since we're unable to configure a link by specifying a specific, custom URL (including any URL parameters). I suspect the tool you're using does not support deep linking either? Otherwise, you'd likely be able to use that as a potential workaround. If deep linking sends back a tool URL, we'll save it; it's just not present for editing in the form any more. Am I right in assuming that the individual resources in your case are each identified by different URL parameters? I'm reading between the lines a little here, but just want to confirm that suspicion. I've seen that pattern used/mentioned elsewhere, and suspect it's what your tool is doing too. Basically, the tool security contract would sit at site level (like you said), and you'd then use different tool URLs (each with a different set of URL params) to identify different resources in the tool. The domain matching would have found the tool previously, and made the launch for the respective resource.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 4, 2025, 5:49 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "External tool (LTI) workflow change after upgrading to Moodle 4.5.4",
          "Text": "Hi Jake, Yes, you are right – in our case, each resource is identified by different URL parameters. I also checked and tested deep linking, but as you suspected, the tool we are using does not support it. Given this, we’ve decided to request the tool provider to add support in line with the Moodle updates. Thank you very much for your clear explanations and guidance! Best regards, Sayori",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 8, 2025, 2:36 PM",
          "AuthorName": "Sayori Tatsuki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4507461&course=5",
          "role": [
            "Picture of Sayori Tatsuki"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465186,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465186",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Membership API Not Returning Email Field in LTI 1.3 Integration with PebblePad",
          "Text": "Background: We have integrated PebblePad into Moodle using LTI 1.3. The integration uses email as the username and works correctly for the SSO component. However, there is an issue with the Memberships API, which is not returning the `email` field in the API call results. This is preventing user memberships from syncing between Moodle and PebblePad. Issue: The Memberships API call results show that users are found, but the `email` field is missing from the response. Without the email being passed, the integration cannot sync memberships properly. Steps Already Taken: The PebblePad Service Account Role has been reviewed, and the required permissions listed below are enabled: `moodle/user:update` `moodle/user:viewalldetails` `moodle/user:viewhiddendetails` `moodle/grade:edit` `gradereport/user:view` `moodle/course:managegroups` `moodle/course:useremail` `moodle/course:view` `moodle/course:viewhiddencourses` `moodle/course:viewparticipants` `moodle/user:viewdetails` `mod/lti:view` `moodle/site:accessallgroups` `moodle/site:viewfullnames` These permissions were enabled during the initial LTI setup. Are there any site-wide privacy settings in Moodle that could prevent the `email` field from being included in the API call response?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 14, 2025, 1:10 AM",
          "AuthorName": "Rajmale Kaur",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6578473&course=5",
          "role": [
            "Picture of Rajmale Kaur"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Membership API Not Returning Email Field in LTI 1.3 Integration with PebblePad",
          "Text": "Hi Rajmale, This isn't likely to be related to Moodle capabilities. Rather it's controlled by the tool config. Can you share the tool configuration for Pebble? Specifically, I'd like to see the \"Privacy\" settings of that tool. There are two settings: share launcher's name and share launcher's email. I believe you'll need both of those to be enabled, otherwise the NRPS service will omit name/email from the response to the tool. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 10:04 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Membership API Not Returning Email Field in LTI 1.3 Integration with PebblePad",
          "Text": "",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1867676/Tool%20Privacy%20Config.png"
          ],
          "Time": "Friday, January 17, 2025, 2:39 AM",
          "AuthorName": "Rajmale Kaur",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6578473&course=5",
          "role": [
            "Picture of Rajmale Kaur"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Membership API Not Returning Email Field in LTI 1.3 Integration with PebblePad",
          "Text": "Hi Jake, The privacy settings are configured to Share both the Launcher's name and email. See the attached image. Thanks, Raj",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2025, 2:40 AM",
          "AuthorName": "Rajmale Kaur",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6578473&course=5",
          "role": [
            "Picture of Rajmale Kaur"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Membership API Not Returning Email Field in LTI 1.3 Integration with PebblePad",
          "Text": "I'm unfamiliar with PebblePad but took a look at what I believe is their Moodle integration instructions . It appears that instead of using the LTI 1.3 Names & Roles Provisioning Service to synchronize rosters, it also uses Moodle core webservices. (It does say in Step 2 that it uses NRPS , though...)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2025, 6:38 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Membership API Not Returning Email Field in LTI 1.3 Integration with PebblePad",
          "Text": "We're just looking at this as well to move to their LTI 1.3, and the use of the Direct APIs with a *full* administrator capable user account, is giving me some concerns. Partly the group support for disclosing (or not) members of a group (that was implemented in response to things like FERPA regulations) would be bypassed by this, which seems pointless given the work done to ensure that only \"appropriate\" people can see those group memberships by Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 29, 2025, 9:39 PM",
          "AuthorName": "Michael Hughes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=838530&course=5",
          "role": [
            "Picture of Michael Hughes",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469473,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469473",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Issue when deploying MS LTI",
          "Text": "Hi all, I was testing to deploy MS 365 LTI onto my test instance. Followed this link and finished all necessary configurations. However when attempting to add a resource from MS via 'select content' to my course, it fails with error: Some of your details couldn’t be validated. Investigated further, I found a lot of errors in console like below: Content-Security-Policy: The page’s settings blocked the loading of a resource (font-src) at https://res-1.cdn.office.net/files/fabric-cdn-prod_20230815.002/assets/fonts/segoeui-georgian/segoeui-bold.woff2 because it violates the following directive: “font-src https://res.cdn.office.net/files/ https://res-1.cdn.office.net/files/fabric https://static2.sharepointonline.com https://spoprod-a.akamaihd.net ” 7f53468b-05a7-4da4-888c-d7a7c89b0f45--03903eb6-2b5e-4cb9-8f00-18b6d208d405 I've tried to add CSP header in my virtual host , or registered a new Azure app in case of any misconfiguration in this app, but neither worked. Any suggestions? Regards, Tony",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 20, 2025, 3:08 PM",
          "AuthorName": "Tony Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2516608&course=5",
          "role": [
            "Picture of Tony Zhang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Issue when deploying MS LTI",
          "Text": "I did see one ticket early very similar to mine but i tried both Public keyset that's mentioned there, none worked.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 20, 2025, 3:11 PM",
          "AuthorName": "Tony Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2516608&course=5",
          "role": [
            "Picture of Tony Zhang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469225,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469225",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Microsoft 365 LTI and Moodle 5",
          "Text": "Good Afternoon, I am trying to connect the new Microsoft 365 LTI to an instance of Moodle 5.0.  We have been following this Guide: https://learn.microsoft.com/en-us/microsoft-365/lti/microsoft-365-lti-moodle?view=o365-worldwide .  I get all the way to the stage where an admin needs to sign in and initialize the application, at which stage I get this screen: I have followed the troubleshooting guide, and everything looks to be in order, and I have tried every possible launch mechanism (new window, embedded, same window etc). Checking the network logs, I do see one on response in HTML saying \" <noscript>You need to enable JavaScript to run this app.</noscript>\", but all of my searches say that this should only happen if the tool is embedded and launching in a new window would fix this issue.  Am I missing some core Moodle feature in 5.0 that is blocking this LTI?  I am also currently working with the Microsoft team to look into this issue, but they seem to be just as lost as I am. The only other point that I can think of that may be causing issues is that the guide did not seem to cover these two variables when connecting Moodle to the LTI, but that should give a different error like a 403 shouldn't it? Any advice on how to further debug this would be greatly appreciated!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1883734/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1883734/image%20%281%29.png"
          ],
          "Time": "Saturday, August 2, 2025, 3:05 AM",
          "AuthorName": "Florian Tolk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2430902&course=5",
          "role": [
            "Picture of Florian Tolk"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Microsoft 365 LTI and Moodle 5",
          "Text": "When Im understand it right, Microsoft choose manuel integration and don't provide a lauch URL . You can try to use for public keyst Url https://login.microsoftonline.com/common/discovery/v2.0/keys",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 15, 2025, 5:08 PM",
          "AuthorName": "André Krüger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=8850&course=5",
          "role": [
            "Picture of André Krüger",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Microsoft 365 LTI and Moodle 5",
          "Text": "Sorry, I should have updated when I found a fix. There is a URL you can get (got it from someone on the microsoft forums) https://login.microsoftonline.com//v2.0/.well-known/openid-configuration On top of that, you need to enable IMS LTI Assignment and Grade Services and IMS LTI Names and Role Provisioning under the services options. Hopefully this documentation will/has been updated to include those steps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 15, 2025, 9:08 PM",
          "AuthorName": "Florian Tolk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2430902&course=5",
          "role": [
            "Picture of Florian Tolk"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469185,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469185",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "403 Error when accessing File via Hypothesis LTI",
          "Text": "When accessing a file in Moodle via the Hypothesis LTI , we are getting a 403 error. It used to work before. We are on https://hypothesisuniversity.moodlecloud.com/ . Moodle 5.0. I tried testing the same LTI tool in Moodle sandbox ( https://sandbox.moodledemo.net/ ) and it works perfectly. Any ideas on what possibly went wrong with our Moodle instance. Below is the error.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1883560/Screenshot%202025-07-30%20at%209.29.42%E2%80%AFPM.png"
          ],
          "Time": "Thursday, July 31, 2025, 3:40 AM",
          "AuthorName": "Janrae Valencia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7095691&course=5",
          "role": [
            "Picture of Janrae Valencia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "403 Error when accessing File via Hypothesis LTI",
          "Text": "Hi Janrae, We're sorry about this, due to extensive abuse from bots, MoodleCloud has had to put in much stricter \"firewall\" rules in place recently. We are still adjusting the rules, to make sure legitimate requests are not blocked. The rules have been updated and this request should now be allowed. Please contact MoodleCloud support, using the support widget, in the MoodleCloud portal, if there are ongoing issues. Kind regards, Mathieu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 31, 2025, 1:23 PM",
          "AuthorName": "Mathieu Petit-Clair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=423027&course=5",
          "role": [
            "Picture of Mathieu Petit-Clair",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of MoodleCloud team",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "403 Error when accessing File via Hypothesis LTI",
          "Text": "Hi Mathieu, Thank you for the swift action. I can confirm that this is working now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 31, 2025, 8:12 PM",
          "AuthorName": "Janrae Valencia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7095691&course=5",
          "role": [
            "Picture of Janrae Valencia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 468943,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468943",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Tool Not Launching",
          "Text": "Hi, I'm trying to set up an LTI 1.3 tool in Moodle using the provided initiate login URL and public key. The tool configuration completes successfully, but when launching the tool, an error appears: \"Invalid request.\" There is another tool already installed that uses the same configuration (with a different initiate login URL), and it is launching successfully. That tool was added in a previous version of Moodle before the upgrade to version 4.5.4 . We've also tried configuring the tool using two different initiate login URL, but the same error occurred. Is there a way to troubleshoot this further, or alternatively, can a new tool deployment be created based on the existing working one, effectively keeping the same configuration and generating a new deployment ID? From the tool provider's logs, it appears that the final LTI 1.3 launch message is not being received. Are there any recommended steps to troubleshoot potential issues or blocks on the LMS side that might prevent the launch from completing? Please can someone from Moodle assist me with this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 14, 2025, 11:40 PM",
          "AuthorName": "Pedro Santos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7491259&course=5",
          "role": [
            "Picture of Pedro Santos"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 468853,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468853",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to setup multiple deployments for Moodle",
          "Text": "Hello, I am using Moodle as an LTI Tool Consumer(Platform) and Panopto as an LTI Tool Provider(Tool). This is an LTI1.3 tool and I want to setup multiple deployment IDs under the same client ID that is used to register the External tool. How can I achieve this in Moodle? I noticed that there is documentation for setting up LTI1.3 Multiple Deployments when Moodle is the LTI Tool Provider: https://docs.moodle.org/500/en/Publish_as_LTI_tool I want to understand how to achieve this with Moodle as the Platform. Please can someone from Moodle assist me with this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 9, 2025, 4:46 AM",
          "AuthorName": "Aishwarya Harpale",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7475953&course=5",
          "role": [
            "Picture of Aishwarya Harpale"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "How to setup multiple deployments for Moodle",
          "Text": "Hi Aishwarya, The simple answer is \"that's unsupported\". Moodle uses a single deployment model. 1:1 registration-to-deployment. If you need another deployment id, that means registering a new tool, which of course means a new client id. Probably not the answer you were looking for, I'm afraid, but that's how the data model is set up.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 9, 2025, 10:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "How to setup multiple deployments for Moodle",
          "Text": "Hello Jake, Does Moodle plan on supporting this feature in any of the future releases? Best, Aish",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 9, 2025, 11:08 PM",
          "AuthorName": "Aishwarya Harpale",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7475953&course=5",
          "role": [
            "Picture of Aishwarya Harpale"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "How to setup multiple deployments for Moodle",
          "Text": "There are currently no plans to change the single deployment model, no. That's not to say it can't or won't happen, just that it's not something that's on the LTI roadmap for now. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 10, 2025, 9:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 468831,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468831",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 Grade Sync Issue",
          "Text": "Hi, I work with a provider that uses LTI 1.1 as an external tool.  When we try to sync grades back to Moodle the request is failing.  I'm seeing a \"The server responsed with an invalid XML document\". I have not worked much with Moodle (though this currently works with most other LMSs) and I'm guessing I messed something up with the tool configuration or something like that.  The assignment creation and completion work as expected, it is just the grade syncing. Any help or insight is appreciated. This is for an LTI 1.0/1.1 tool that supports deep linking.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1882148/Screenshot%202025-07-07%20at%203.19.53%E2%80%AFPM.png"
          ],
          "Time": "Tuesday, July 8, 2025, 5:20 AM",
          "AuthorName": "Jake Hart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7483197&course=5",
          "role": [
            "Picture of Jake Hart"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "LTI 1.1 Grade Sync Issue",
          "Text": "Hi Jake, That's going to be hard to troubleshoot unless we can see the raw response being sent back (the one that, presumably, triggers the \"The server responded with ...\" error message you've reported). Looking at that screenshot, it seems you've got it configured correctly, thouhg. In fact, for 1.1, where you're likely using the Basic Outcomes (BO) service anyway, you could likely use any of the options under the Assignment and Grade Services (AGS) select box, because it always support BO as a fall back anyway, from memory.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 9, 2025, 11:01 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 468433,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468433",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.11 share course as LTI provider with specific topic or section",
          "Text": "I am using Moodle 3.11 and want to use Moodle as an LTI Provider to share content with a client who will connect as an LTI consumer. However, my client only needs access to one specific topic (section) of the course — not the entire course. I am looking for a way to share just that topic via LTI, so that: The client only sees that specific topic when they access through LTI. Other topics or parts of the course remain hidden or inaccessible. Ideally, I don't want to duplicate the course if possible. I understand that Moodle’s default LTI provider shares the whole course. Are there any plugins, workarounds, or best practices that allow me to publish just a single topic or section via LTI Provider in Moodle 3.11?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 12, 2025, 4:40 PM",
          "AuthorName": "Tanmay Deshmukh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7434171&course=5",
          "role": [
            "Picture of Tanmay Deshmukh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Moodle 3.11 share course as LTI provider with specific topic or section",
          "Text": "Hi Tanmay, I just wanted to clarify that Moodle's tool implementation also permits activity publication in addition to course publication. It probably won't help in you achieve topic publication the way you might expect, but it's something else to consider as a means to grant access to a subset of activities . E.g. you could publish several activities and set up links to those in the platform. Of course a lot of this depends on how you want users to launch into the tool: a single link to course (or section in your example) vs several links to specific items. Hopefully others will be able to chime in regarding their workarounds. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 9, 2025, 10:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 468322,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468322",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Icon URL does not work",
          "Text": "Hi, I am trying to add custom icon for LTI external tool. My tool config: The icon also shows in Plugin list: But it does not show in course's activity list, nor activity select list Moodle version: 4.1 upward",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1880044/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1880044/image%20%282%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1880044/image%20%283%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1880044/image%20%284%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1880044/image%20%285%29.png"
          ],
          "Time": "Thursday, June 5, 2025, 1:31 PM",
          "AuthorName": "Tan Nguyen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7446326&course=5",
          "role": [
            "Picture of Tan Nguyen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "LTI Icon URL does not work",
          "Text": "Hi Tan, I don't see this on 4.1.18+. What specific version are you running? I know there was an issue with the whitening/filtering being applied to the LTI icons in the past, but we patched it (I think in MDL-77105 , maybe in another issue also) and it shouldn't be a problem now. It isn't a problem in main. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 5, 2025, 3:47 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Icon URL does not work",
          "Text": "Hi Jake, I don't have access to the moodle server , although I have an admin account. I checked in Site administration > Server > Environment, here is some infomation: Moodle version: 4.1 upwards Server checks: - Name: moodle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 6, 2025, 11:51 AM",
          "AuthorName": "Tan Nguyen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7446326&course=5",
          "role": [
            "Picture of Tan Nguyen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Icon URL does not work",
          "Text": "Hi Tan, You need to upgrade that server. It's running 4.1 and we're up to 4.1.18. Once you do, you'll see the icons issue is resolved. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 6, 2025, 12:00 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 468003,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468003",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle-to-Moodle LTI to pass users",
          "Text": "Hi there, One of our users would like to pass the users between two different Moodle sites. One site is our universities Moodle where students are enrolled in their semester course they take. The other site is a collection of courses containing tools and usecases students of the semestercourse should be able to access. Each tool and usecase is a separate Moodle course. We are looking for a possibility to pass the users from our universities site to the external site with the course collection. We do NOT want to display the courses from the external site within the semester course on our universities site. All we need is to pass the users from one site to the other. I read trough the docs regarding LTI and it is quite clear to me, how to establish the connection between the two sites. As far as I understand our universities site should be setup as the consumer and the external site as the provider. What I do not understand is, what happens to the users once I set up the LTI connection. Are they passed to the provider only if I display one of the courses in our semestercourse? Or is establishing the LTI connection between provider and consumer sufficient? It would be great anyone could explain this piece of setting up an LTI connection to me. Best regards, Antonia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 16, 2025, 3:07 PM",
          "AuthorName": "Antonia Bonaccorso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2003686&course=5",
          "role": [
            "Picture of Antonia Bonaccorso",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Moodle-to-Moodle LTI to pass users",
          "Text": "Hello Antonia, Your use case seems perfectly aligned for what LTI was designed to do. Once you have registered the remote Moodle site (now called \"tool\" instead of \"provider\") in your local Moodle site (now called \"platform\" instead of \"consumer\"), you can access courses and contents from the remote Moodle site directly within your Moodle site. The remote courses would appear as a link in one of your local courses. The students are pre-registered once you configure the tool in your course, so they get linked accounts in the tool before they have clicked the link, however, linked accounts are not completed until the student actually accesses the link in your platform.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 16, 2025, 3:47 PM",
          "AuthorName": "Thom Rawson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821225&course=5",
          "role": [
            "Picture of Thom Rawson",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Moodle-to-Moodle LTI to pass users",
          "Text": "Hi Thom, Thanks a lot for your fast and clear response! Best regards, Antonia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 27, 2025, 5:43 PM",
          "AuthorName": "Antonia Bonaccorso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2003686&course=5",
          "role": [
            "Picture of Antonia Bonaccorso",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 467691,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467691",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Cannot get rid of 'Tool' Moodle header on 'Platform' site",
          "Text": "I have a course hosted on a MoodleCloud site (the 'Tool' in LTI 1.3 speak) that is accessed from a customer's self-hosted Moodle (the 'Platform') as a course-level LTI activity. When displayed on the Platform site, when logged in as a student the Moodle header bar (Home / Dashboard / My Courses etc) from the Tool site is still displayed so the student can navigate out of the course. I gather the correct behaviour is that this header bar should only be displayed for teacher and admin users logged in with LTI, but for students it should not be displayed. See screenshot snippet below. I can use the force_embed=1 configuration in the LTI Tool settings on the Platform to hide the header for ALL users, however that's not ideal as this method also removes not just the site header bar but also the course left navigation block and course user menu, all of which should be retained for the student. See snippet below. I have a self-hosted dev site running the Classic theme that has the same behaviour, which is what these screenshots are taken from.  The Tool site is running the Boost theme. I can only think it's some kind of theme issue but not sure how to troubleshoot it and am trying to avoid the cost of hiring in a developer, hoping it's some kind of config issue! Any help very much appreciated",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1877553/Moodle%20With%20Header%20%20%281%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1877553/Moodle%20Without%20Header%20.png",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, April 25, 2025, 2:20 AM",
          "AuthorName": "Mark Aberdour",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=167572&course=5",
          "role": [
            "Picture of Mark Aberdour"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Cannot get rid of 'Tool' Moodle header on 'Platform' site",
          "Text": "Hi Mark, You've just discovered a long standing limitation and perhaps a good candidate for future improvement. With published activities , we force the page layout to embedded for student launches, and this works fine. With courses, we don't do this (we never have, even going back to before I ported the tool/provider to LTI1.3) so we'll fall back on the default 'course' layout in those cases (and yes, the header is shown in the course layout). FYI , you can see layouts here: https://docs.moodle.org/dev/Page_API#Base_theme_page_layouts . I think, ideally, we'd have a layout that we could use for course publishing, which excluded site nav, but I don't think a layout like that exists yet. Might be one to create a tracker issue for (using \"Publish as LTI tool\" as the component, if you do). Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 28, 2025, 10:44 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Cannot get rid of 'Tool' Moodle header on 'Platform' site",
          "Text": "Thanks Jake, that's good to know! I have spent so much time trying to work out what was going on. I shall just work around this limitation then. Tracker issue has been raised. https://tracker.moodle.org/browse/MDL-85314 Thanks, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 29, 2025, 10:35 PM",
          "AuthorName": "Mark Aberdour",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=167572&course=5",
          "role": [
            "Picture of Mark Aberdour"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 467671,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467671",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "No transmission of custom claim during launch",
          "Text": "Hello, I think I have a problem with Moodle. Moodle seems to accept my LtiDeepLinkingResponse but at Launch time with LtiResourceLinkRequest, the “custom” content_items fields returned during the Deep Linking response are never transmitted in the message payload. Do you have any idea why?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 23, 2025, 11:52 PM",
          "AuthorName": "Florentin Botton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6944026&course=5",
          "role": [
            "Picture of Florentin Botton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "No transmission of custom claim during launch",
          "Text": "Hi Florentin, Link custom params are definitely supported, so we need to know a bit more about your case. What version of Moodle are you using? When the content item(s) are returned and you see the activity settings form, can you see \"custom parameters\" form field? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 24, 2025, 9:01 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "No transmission of custom claim during launch",
          "Text": "Hello, thank you for your reply. I'm on Moodle 4.5 which I installed via XAMPP. Moodle runs locally on my computer. What I want is to receive in the LtiResourceLinkRequest message these custom parameters that I define in the LtiDeepLinkingResponse message to allow me to display the resource I want to show to users. In fact, when the content is selected, I do see the “custom parameters” field in the activity settings form, but I don't want the user to enter custom fields manually. If I do this, the “custom” fields will appear in the LtiResourceLinkRequest, but that's not what I want.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 25, 2025, 10:22 PM",
          "AuthorName": "Florentin Botton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6944026&course=5",
          "role": [
            "Picture of Florentin Botton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "No transmission of custom claim during launch",
          "Text": "Hi Florentin, As I say, custom params are definitely supported and working. I can't speak for your specific problem of course, but we use custom params via deep linking to launch into specific resources in our Moodle Tool implementation (A certified tool implementation). Note: the custom parameters field will always be visible in the form, even if it's set during deep linking, because we need to support the non-deep-linking use case too. See MDL-80914 for details. Content creators can either use deep linking, or set manually. When you say you see the custom parameters form field, can I confirm that you see values there too? If you don't see any values there, then is either with the response payload, or with the parsing of said payload. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 28, 2025, 11:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 467614,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467614",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding an external tool",
          "Text": "Hello, I would like to integer EBSCOhost to Moodle and I want to know if this is secure for moodle because it is mentionned in this site https://site.imsglobal.org/certifications?query=ebsco that EBSCOhost is not a certified  product. Thank you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1877248/Product-Certifications-1EdTech.png?forcedownload=1"
          ],
          "Time": "Monday, April 21, 2025, 6:34 PM",
          "AuthorName": "mimi nom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1074844&course=5",
          "role": [
            "Picture of mimi nom",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 467439,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467439",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Moodle to Moodle Exception - OpenSSL unable to sign data",
          "Text": "Hi all, please help. Sorry for my bad English. I want to connect two moodle in my localhost using LTI 1.3 dynamic registration so my Platform Moodle can access course from my Tool Moodle I have read and do step by step the documentation LTI_Moodle_to_Moodle Find error when put registration url from Tool moodle to Platform moodle no more information from moodle about this error Im using laragon as web server ,  PHP 8.3, apache24, mysql 8, moodle 4.5.3+ in laragon i have actived php extension for OpenSSL, and actived SSL on apached and add trust store Any help or suggestions would be much appreciated.  Thanks.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1876535/image.png"
          ],
          "Time": "Friday, April 11, 2025, 10:02 PM",
          "AuthorName": "PSDM BADUNG",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7215581&course=5",
          "role": [
            "Picture of PSDM BADUNG"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Moodle to Moodle Exception - OpenSSL unable to sign data",
          "Text": "Im using same version for Tool and Platform moodle 4.5.3+ when using manual registrasi there is an error : LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server. already do suggest from this https://moodle.org/mod/forum/discuss.php?d=454719&parent=1846367",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 11, 2025, 11:19 PM",
          "AuthorName": "PSDM BADUNG",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7215581&course=5",
          "role": [
            "Picture of PSDM BADUNG"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 467428,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467428",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Trying to set up LTI external tools on Moodle 4.5 similarly to Moodle 4.1",
          "Text": "Hi all, I post here to share a tracker I registered: https://tracker.moodle.org/browse/MDL-85163 I would like you take a look on it and share your thoughts and experience. The issue goal is to expose the difficulties to set up in the most similar way LTI external tools on Moodle 4.5 to that that was available on 4.1. Its context , as detailed on the tracker, is that we currently have the weekly Moodle 4.1 version on production, and we are planning to migrate to Moodle 4.5 on July. We need to test that current features we offer to teacher are kept. The easy way of configuring LTI external tools at course level on Moodle 4.5 is really hard and generating LTI external tool records at site level, duplicating them when importing LTI tools between Moodle courses. It is somehow an EPIC tracker or summary of detected things that should be improved or fixed. I decided to create a single issue on the tracker since I do not know the exact future of LTI integration on Moodle, as a platform, so that maybe there are proposals that make no sense. Maybe. But at least, they express an experience and viewpoint that we believe should be considered when designing and implementing further things about LTI. From a certain perspective, we are seeing this new LTI External tool configuration at the course level as an impediment and breaking the operation from previous Moodle versions. I do not know exactly when this new option was added. We talk about Moodle 4.5 since we are facing it on our next Moodle migration. In summary, the main goal we are looking for is to enable LTI tools at course level, in a simple and sustainable way. Thanks for your time, Jordi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 10, 2025, 11:45 PM",
          "AuthorName": "Jordi Pujol-Ahulló",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1518376&course=5",
          "role": [
            "Picture of Jordi Pujol-Ahulló",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 467188,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467188",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI vs Moodle Workplace LTI",
          "Text": "Hi, We have a Moodle LMS compatible LTI 1.3 integration of our tool. Is there a way to test this locally with Moodle Workplace? Are there any differences to take into account? We would love to show our compatibility + a setup instruction for Moodle Workplace but Im not quite sure where to start. -Tom",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 31, 2025, 10:33 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI vs Moodle Workplace LTI",
          "Text": "Hi Tom, Thanks for your message. In principle it should work without hiccups. The Moodle Certified Integrations team have carried out several validations in the past and they were always successful. The only paths that I'm aware of for such validation are this project or the support of a Premium Moodle Partner. Best, Carles 🤓",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 1, 2025, 2:05 AM",
          "AuthorName": "Carles Aguiló",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4784522&course=5",
          "role": [
            "Picture of Carles Aguiló",
            "Picture of Moodle HQ"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI vs Moodle Workplace LTI",
          "Text": "There are no code differences in the LTI systems between workplace and LMS, so it should just work.  If you find any issues please let us know.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 3, 2025, 12:23 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI vs Moodle Workplace LTI",
          "Text": "Great, it works fine on LMS. Is there a difference in appearance / workflow or is more or less the same?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 3, 2025, 3:08 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 467009,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467009",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Grade sync not sending grades for some students",
          "Text": "Kia ora! (hello!) We've noticed that some grades for completed quizzes are not being sent to Blackboard via the grade sync LTI feature. The grade sync log for these specific users states \"Skipping - Invalid grade for the user '####' in the tool '274' for the course '32'.\" which we are used to seeing for our students who do not attempt a quiz. However, the two impacted students (for this course - possibly more in other courses (TBC)), do not appear to have any differences from other students with regards to their work/workflows. Both students submitted well before the due date Other students have submitted before and after these students and their grades have synced as expected Other students have the same grades (100 & 91.18) that have synced as expected Prior quiz grades for the current impacted two students have synced as expected Any suggestions on what could be causing an issue that is isolated to these two students would be fantastic. Thanks, Caleb",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 24, 2025, 8:03 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade sync not sending grades for some students",
          "Text": "I've never encountered this issue, and the only way that can happen is if grade_get_grades() returns an empty grade for that module instance and userid . Not for lack of trying, I can't come up with a scenario that would explain particular students getting picked on. I assume you checked that there's no grade override or anything teacher-controlled preventing these students' grades from being delivered. Were I in your shoes, I'd temporarily log $grade and $user->getlocalid() values to file for a run of the sync_tool_grades task for this resource and work backwards from there. If their grades are in the gradebook correctly, but not being retrieved by that grade_get_grades call, then it would have to be some corruption betwixt the row for this resource in mdl_enrol_lti_resource_link to mdl_enrol_lti_user_resource_link to mdl_enrol_lti_users such that the ltiuserid being resolved isn't this student's correct userid. I've never seen such a corruption occur before, and the entity/repository design pattern Jake used for ltiadvantage classes protects against it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 27, 2025, 1:20 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade sync not sending grades for some students",
          "Text": "Morning Liam! Thanks for your response - sorry, I forgot to provide a further update here after posting this. Further investigation has allowed us to identify that the issue is not related to the grade sync tool. Looking through the grade history in the paper for the impacted users and the particular quiz, we see that after completion they have a revised grade , the row immediately afterwards contains an original grade but no revised grade. Then all rows following this (some have 5+ pages of rows after this) all contain no value in the revised or original grade columns, so it would appear their grade has been automatically (and ultimately instantly) overriden with NULL, which is why we're seeing \"Skipping - Invalid grade for the user '####' in the tool '274' for the course '32'.\" in the grade sync, and therefore no grade in their Blackboard grade book. This appears to be a long standing issue in Moodle, with a forum post about this dating back to 2010 ( https://moodle.org/mod/forum/discuss.php?d=146812 ) and a more recent post in 2018 ( https://moodle.org/mod/forum/discuss.php?d=377928 ), and also has an active tracker from 2021 which hasn't gained much traction ( https://tracker.moodle.org/browse/MDL-70825 ). So, this therefore likely needs moving across to the Gradebook section of Moodle forums, if possible. Thanks for your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 27, 2025, 4:15 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 467046,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467046",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Activity Name Not Displaying When Accessing LTI Component in a New Window",
          "Text": "Hi Team, We are facing an issue when accessing an LTI component from our LMS platform. When students attempt a Moodle activity configured to open in a new window, the activity name is not displayed. Expected Behavior: The activity name should be displayed within the activity page. Could you please guide me on where I should look to troubleshoot this issue? Your support would be greatly appreciated! Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1874962/Screenshot%202025-03-25%20175108.png?forcedownload=1"
          ],
          "Time": "Tuesday, March 25, 2025, 8:26 PM",
          "AuthorName": "Manoj P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6367525&course=5",
          "role": [
            "Picture of Manoj P"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Activity Name Not Displaying When Accessing LTI Component in a New Window",
          "Text": "When launching the tool, the default pagelayout is 'popup', which doesn't include the header (which is where the activity name resides). This has always been the case in the tool and there isn't currently a workaround, I'm afraid. Ideally, we'd be able to select a suitable pagelayout based on the https://purl.imsglobal.org/spec/lti/claim/launch_presentation claim (specifically the document_target prop), however, we'd need to have a suitable layout. Right now, I don't think there's an existing layout which includes the activity name without also including the other content in the header, e.g. navigation (which you don't want in an LTI context ).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 26, 2025, 9:10 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 466880,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=466880",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "issue with dynamic url - platform creation",
          "Text": "Hi, I've followed the official documentation but as I reach this point I got stuck. Basically my instance does not create the platform after I've added a new LTI via the Manage Tools page. I see the tool but there's not platform in the Enrolment > Publish as LTI section. Is there a manual way to create that? Thanks! F.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 18, 2025, 5:37 PM",
          "AuthorName": "Filippo Carnevali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2238231&course=5",
          "role": [
            "Picture of Filippo Carnevali"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: issue with dynamic url - platform creation",
          "Text": "To clarify: Are you doing an integration with Moodle as the platform LMS (as well as the Tool), using Dynamic Registration?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 18, 2025, 11:21 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: issue with dynamic url - platform creation",
          "Text": "Sorry, yes, I was very brief. I'm trying to configure two Moodle instances to communicate with each other via LTI. I've created a platform in Moodle 1, pasted the URL into the tool in Moodle 2, and if I understand correctly, a platform should automatically be created in Enrolment > Publish as LTI in Moodle 2.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2025, 1:13 AM",
          "AuthorName": "Filippo Carnevali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2238231&course=5",
          "role": [
            "Picture of Filippo Carnevali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ri: Re: issue with dynamic url - platform creation",
          "Text": "So if you navigate to (replace MOODLE-2 with your Moodle 2 domain name): https://MOODLE-2/admin/settings.php?section=enrolsettingslti_registrations There is no row listing for Moodle 1 as a registered platform. If I'm understanding you, I'd turn debug massages up to DEVELOPER on Moodle 2 (/admin/settings.php?section=debugging) and go through the steps of \"In Moodle (for Moodle-to-Moodle LTI):\" again. Dynamic registration is a really impressive piece of technology that Moodle-to-Moodle allows, so my guess is there's a network blockage between the two servers or something that you should see in an error when carefully stepping through those five instructions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2025, 5:26 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Ri: Re: issue with dynamic url - platform creation",
          "Text": "Hi!! I'll try it out! Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2025, 10:29 PM",
          "AuthorName": "Filippo Carnevali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2238231&course=5",
          "role": [
            "Picture of Filippo Carnevali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: issue with dynamic url - platform creation",
          "Text": "Try these docs here, which are specific to Moodle-to-Moodle. https://docs.moodle.org/405/en/LTI_Moodle_to_Moodle Those docs you're reading, while good, really are focussed on the tool side (Publish as LTI tool). HTH , Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2025, 9:57 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 466750,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=466750",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Passing user profile field as an LTI parameter",
          "Text": "Hi, I've defined a user profile field called 'region'. I am trying to pass this as an LTI parameter. I've tried several variations to pass the dynamic value for the particular user. However, in each case the actual text entered as a parameter, e.g. region=$USER->profile_filed_region, rather than value, is sent in the LTI message. I've tried the following: \n```text\nregion=$USER->profile_field_region\n\n\nregion=$User->\nprofile_field_region\n\n\nregion=$user->profile_field_region\n\n\nregion=$USER.profile_field_region\n\n\nregion=$User.\nprofile_field_region\n\n\nregion=$user.profile_field_region\n\n\nregion=$profile_field_region\n\n\nregion=$USER.region\n\n\n\n\nDoes anyone know if this is possible and what correct approach is?\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 13, 2025, 12:53 AM",
          "AuthorName": "Paddy Meyler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6341371&course=5",
          "role": [
            "Picture of Paddy Meyler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing user profile field as an LTI parameter",
          "Text": "Hi Paddy,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 13, 2025, 9:25 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing user profile field as an LTI parameter",
          "Text": "Thanks Jake for confirming that I'm not going mad",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, March 13, 2025, 6:50 PM",
          "AuthorName": "Paddy Meyler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6341371&course=5",
          "role": [
            "Picture of Paddy Meyler"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing user profile field as an LTI parameter",
          "Text": "Hi, just jumping on this thread as I have a related question - is it possible to set non-custom user profile fields in this way? I'd like to set the users' timezone - this doesn't even need to be dynamic, just a fixed value for the timezone will suffice. TIA",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 14, 2025, 11:58 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing user profile field as an LTI parameter",
          "Text": "Hi Greg, Yep, that substitution param is supported, see https://github.com/moodle/moodle/blob/e8ec0979dc01291c15392946e4ada4c225b1ab1f/mod/lti/locallib.php#L3903 . You should be able to use it, iirc, via something like: your_var_name=$Person.address.timezone HTH , Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 17, 2025, 10:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465257,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465257",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Hello, I am getting an error when a new account is provisioned, and the learner/student/teacher needs to agree to the Site Policies when login for the first time. In my case, we are using two Policies and an account is created, but when the user is redirected after agreeing to the Policies, is getting the following error. If I remove the Site Policies, the account is created during the first call and redirection is performed correctly. Thank you very much for any help. line 60 of /enrol/lti/classes/local/ltiadvantage/lib/issuer_database.php: coding_exception thrown line 428 of /lib/lti1p3/src/LtiMessageLaunch.php: call to enrol_lti\\local\\ltiadvantage\\lib\\issuer_database->findRegistrationByIssuer() line 122 of /lib/lti1p3/src/LtiMessageLaunch.php: call to Packback\\Lti1p3\\LtiMessageLaunch->validateRegistration() line 74 of /enrol/lti/launch.php: call to Packback\\Lti1p3\\LtiMessageLaunch::fromCache()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 12:45 PM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Can you share the version of Moodle you're using on the tool site? What type of user is launching when you see that error? E.g. Teacher, Student? And finally, what provisioning mode are you using for that respective role (the setting in the tool's configuration on the tool site)? I would enable developer debugging on the tool site too, so you can get a stack trace with more information when you see that error. At a glance, that error seems related to a missing clientId, but would be good to confirm on your site. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 1:22 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Thanks for your reply. The platform site is D2L, and the tool site is Moodle 4.3.5 The user is a student, however, the error seems to be the same using a teacher role (not sure about this). Student first launch provisioning mode: New accounts only (automatic) Students must accept Privacy Policy and Terms of Use during the first launch. When this step is removed there are no issues and the student is redirected successfully to the LTI Tool. Error Coding error detected, it must be fixed by a programmer: The param 'clientid' is required. Calling code must either pass in 'client_id' (generated by the platform during registration) or 'id' (found in the initiate login URI created by the tool) to identify the client. Debug info: Error code: codingerror Stack trace:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 18, 2025, 1:08 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Thanks for the info, Jan. Just to dig a bit deeper on this bit: \"Students must accept Privacy Policy and Terms of Use during the first launch\" Are you using tool_policy as the site policy handler? Are both Privacy Policy and Terms of Use being handled by that policy handler, as site policies? Or, is there something else in play? Just trying to rule things out. FWIW (not much) I'm running site policies on my local test tool, and can launch into it, including with several policy acceptance steps, so just trying to work out the specifics of your use case. Also, what browser are you using the do the launches? And finally, are the platform and tool on the same domain , or different domains?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 20, 2025, 10:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Thanks, Jake, for the time you are spending on this. Using tool_policy as Site Policy Handler. Privacy Policy and Terms of Use are Site Policies. Using Firefox Different domains. The platform is a Blackboard staging site: https://partner-smoke-test-b.blackboard.com and we use a domain for the Moodle tool. Thanks in advanced.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 21, 2025, 5:05 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Hello Jake, We have tested this again using a clean version of Moodle, the result is the same. When students/teachers need to accept a Policy the platform is throwing the same error consistently. If a policy is not present, there is no error being thrown. Default exception handler: Coding error detected, it must be fixed by a programmer: The param 'clientid' is required. Calling code must either pass in 'client_id' (generated by the platform during registration) or 'id' (found in the initiate login URI created by the tool) to identify the client. Debug: \\nError code: codingerror\\n* line 60 of /enrol/lti/classes/local/ltiadvantage/lib/issuer_database.php: coding_exception thrown\\n* line 428 of /lib/lti1p3/src/LtiMessageLaunch.php: call to enrol_lti\\\\local\\\\ltiadvantage\\\\lib\\\\issuer_database->findRegistrationByIssuer()\\n* line 122 of /lib/lti1p3/src/LtiMessageLaunch.php: call to Packback\\\\Lti1p3\\\\LtiMessageLaunch->validateRegistration()\\n* line 74 of /enrol/lti/launch.php: call to Packback\\\\Lti1p3\\\\LtiMessageLaunch::fromCache()\\n, referer: https://ameserver.ca/admin/tool/policy/view.php?versionid=4&returnurl=https%3A%2F%2Fameserver.ca%2Fadmin%2Ftool%2Fpolicy%2Findex.php Is there any fix for this available from your side? Thank you very much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 4, 2025, 11:58 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Hello Jake, Just following up on this. Wanted to know if there is some progress or more comments from you. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 14, 2025, 9:28 PM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 466758,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=466758",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI sync score error",
          "Text": "Hi, I am attempting to sync scores from the external tool, but the tool side encountered this error: LtiServiceException: HTTP response [ https://xxx.moodlecloud.com/mod/lti/services.php/44/lineitems/168/lineitem/scores?type_id=1 ]: 400 However, I received a different error yesterday, which was 502. We are able to create and view line items at the line item endpoint, but we are unable to assign a grade to them. Could someone tell me what we are doing wrong? Regards, Jun",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 13, 2025, 10:37 AM",
          "AuthorName": "Jun Tu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2253299&course=5",
          "role": [
            "Picture of Jun Tu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 466295,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=466295",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Not receiving the grades from Moodle",
          "Text": "Hi, We are upgrading our LTI 1.1 to LTI 1.3. So far we are able to launch a course from our (external) application in Moodle. We're very happy with that already. Now we want to receive the grades from the course, but unfortunately this is not working. We're launching the Moodle cource via the \" `LtiResourceLinkRequest` \". In we can see that the `serviceurl` has not been set. We probably need to provide it in a different way. I've added the payload of the `id_token` that we send to Moodle. As you can see the \" `lis_result_sourcedid` \" and \" `lis_outcome_service_url` \" are provided in the \" `https://purl.imsglobal.org/spec/lti-bo/claim/basicoutcome` \". Could someone tell me what we are doing wrong? Thans in advance, Ivar Kanters",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 22, 2025, 12:00 AM",
          "AuthorName": "Ivar Kanters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2779546&course=5",
          "role": [
            "Picture of Ivar Kanters"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Not receiving the grades from Moodle",
          "Text": "Hi Ivar, If you've configured the tool using LTI 1.3, you'll need to use the Assignment and Grades Service (AGS) claims in the launch. Basic Outcomes isn't used within LTI 1.3. Here's a link to the AGS spec and, more specifically, the service claims + scopes you can include in the claim: https://www.imsglobal.org/spec/lti-ags/v2p0#example-service-claims HTH , Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 24, 2025, 9:43 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Not receiving the grades from Moodle",
          "Text": "Hi Jake, Thanks! That's the part I was missing. I will implement that now. Cheers, Ivar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 24, 2025, 11:56 PM",
          "AuthorName": "Ivar Kanters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2779546&course=5",
          "role": [
            "Picture of Ivar Kanters"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 466023,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=466023",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "can't override launch container in activity",
          "Text": "We have Moodle in 4.3.10, with a tool configured with a default launch container of embedded. In previous versions it was possible to override the default when using the tool in an activity, but I don't see this in 4.3.10. Existing overrides still work though.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 13, 2025, 11:45 AM",
          "AuthorName": "Hamish Moffatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2556328&course=5",
          "role": [
            "Picture of Hamish Moffatt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 465728,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465728",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI and Calendar interraction",
          "Text": "After beginning the transition from \" Turnitin Tool 2\" to Turnitin's LTI 1.3 integration, I was surprised to see user complaints that the due dates for assignments no longer appear on the calendar. I was even more surprised to find out that LTI integrations seem to be incapable of pushing due dates or reminders to the calendar. I'm curious why this is the case, especially as it seems to be an open feature request for an extremely long time ( MDL-51430 ). LTI 1.3 seems to possess startDateTime and endDateTime as variables, are these values inconsistently used in a way that would prevent LTI assignments from reliably interacting with the calendar? Or is it simply a matter of LTI instances not having a due date column?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 3, 2025, 11:32 PM",
          "AuthorName": "Jason Massimino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5830684&course=5",
          "role": [
            "Picture of Jason Massimino"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI and Calendar interraction",
          "Text": "Most of the LTI implementation in Moodle was done by the commuinity and this was never a priority. We are currently moving LTI from a module to a core subsystem, Turn It in is helping with this work as there will also be enhancements to their LTI integration which as dependent on the move to core. The issue you listed is a high priority to be done once the core move is done, TII, Microsoft, and several other vendors have expressed that this is a major issue for their users so we are keen to resolve this. I dont have a timeline at the moment given the amount of othe work to be completed first but 5.2 would be the latest I would want to get to this if practical.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 4, 2025, 8:06 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465400,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465400",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "ALEKS McGraw Hill LTI",
          "Text": "Hi all, We have had a request to have ALEKS LTI integration and our semester just started today (We are on 4.1, moving to 4.5 after semester). I am new to this process and have only done one other integration in between semesters where traffic was very low. I am looking for some input as to anyone's experiences with this process - recommendations on whether this should be done ideally not during peak times or if it shouldn't really have too much of an impact during high traffic periods. Any other experiences you might have with this particular ALEKS integration are appreciated. Sounds like they'd like to set up deep linking to assignments and sync the grades with the Moodle gradebook. MJK",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 22, 2025, 5:44 AM",
          "AuthorName": "Marybeth Koon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6511068&course=5",
          "role": [
            "Picture of Marybeth Koon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: ALEKS McGraw Hill LTI",
          "Text": "Implementing an LT integration is generally considered very low risk and I've done this on both Moodle and other LMS at peak usage times with no issues. Its always best to test on a test system so you properly understand how the configuration works and all the implications of its usage but even if you dont do this if a small number of users are starting to use it in production straight out of the gate the risk is still low.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 22, 2025, 4:24 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: ALEKS McGraw Hill LTI",
          "Text": "Thank you Brett. I 've been a little cautious since in this last LTI integration, we needed to also uninstall a previous version which resulted in 'breaking' a users ability to create new activities . It was resolved fairly quickly but even so, was concerning in the moment! Take care, Marybeth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 22, 2025, 11:32 PM",
          "AuthorName": "Marybeth Koon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6511068&course=5",
          "role": [
            "Picture of Marybeth Koon"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465126,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465126",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Advantage passing lesson status and time back to consumer",
          "Text": "Hi there I am investigating LTI as a possible replacement for our existing AICC implementation for sharing elearning courses. We are replacing a rather long in the tooth bespoke LMS with a new LMS powered by Moodle 4.5 I have set up a couple of Moodle 4.5 instances online and have managed to access content from the Provider (Tool) instance from the Consumer (Platform) instance. On the Provider instance I can see the Report for my test user that includes the Status, Time and Score. I am unable to see the same information on the Comsumer instance. I am trying to determine if this is the expected behaviour or is there a setting I am missing to retrieve/show this data on the consumer instance. If the data is only available on the Provider instance, then it feels onerous for a teacher on a consumer instance to need to retrieve data for their students from multiple LTI providers assuming they have included LTI elearning from multiple LTI sources. Any clarification on this would be really helpful. Thanks Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 10, 2025, 8:35 PM",
          "AuthorName": "Paul Steven",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6406758&course=5",
          "role": [
            "Picture of Paul Steven"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Advantage passing lesson status and time back to consumer",
          "Text": "Hi Paul, It's probably worth also including some information about what activity you're using. Is it a lesson ? An assignment? Something else? I see you've mentioned Status, Time and Score. Maybe you can expand on that. LTI won't automatically send back anything to the platform (consumer), but it can be configured to post back grades ('scores', though only numeric scores are supported by LTI). This happens via a scheduled task on the tool (provider) site, and needs both tool and platform to be configured correctly. I.e. the tool configuration in the platform must be set to allow grade posting and the use of the AGS service. In the tool, this is configured out of the box, but does require cron to be running regularly as it's done via a scheduled + adhoc task. Let me know if you need anything above clarified Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 9:52 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Advantage passing lesson status and time back to consumer",
          "Text": "Hi Jake Thank you for your reply. The activities are mainly SCORM 1.2 learning resources. With AICC the third party LMS can see the lesson status, score and time spent for all the users using the AICC content that is hosted on the \"provider\" LMS. My tests with LTI have allowed me to access the SCORM content from the consumer LMS but I do not see any data for lesson status, or time spent or indeed score though it does appear to cater for a grade. We have several hundred LMS systems accessing our AICC content so a replacement with LTI would need to be as simple as possible for the consumer LMS admins and ideally they would be able to access the same data (lesson status, score and time). I can see that the \"teacher\" can login to the provider LMS and see this data so the data is at least captured somewhere. At this stage I am just trying to identify what is possible out of the box without the need for the consumer LMS admins needing to do any complex configuration. The LTI Advantage seems really straightforward to allow the access to the provider content. Your mention of a cron job does seem to imply whatever data comes back will not be instantaneous. Many thanks Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2025, 3:48 PM",
          "AuthorName": "Paul Steven",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6406758&course=5",
          "role": [
            "Picture of Paul Steven"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Advantage passing lesson status and time back to consumer",
          "Text": "Yep, you've pretty much got your head around it there, Paul. Really, the grade sync is a very simple service call, and pushes numeric grades only. There is no way LTI (and indeed our Moodle tool implementation) will handle the other bits and pieces since those are specific to the activity being published (SCORM, etc) and is not a generic thing able to be pushed via LTI services.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 20, 2025, 10:05 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465285,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465285",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI Basic Outcomes records grades as 0.0 in gradebook",
          "Text": "Hello, We are trying to keep some LTI 2.0 Moodle integrations alive while we migrate customers to our LTI 1.3 implementation. Grade release from our app to Moodle is not working for recent Moodle versions. 0.0 is recorded in the Moodle gradebook instead of the correct grade. I've searched for: grade and outcome related bugs or changes in Moodle Tracker grade and outcome in all Moodle release notes from 4.1.2 to 4.5.1 grade and outcome related Forums posts ...but have not found mention of this problem. Our app uses the LTI Basic Outcomes service to send grades to Moodle. We have access to Moodle versions 4.1.2, 4.3.5 and 4.5.0 for testing. When I send a grade to Moodle, the more up to date Moodle versions record the grade as 0.0 in the gradebook. Moodle version Gradebook shows 4.1.2 Correct grade 4.3.5 0.0 4.5.0 0.0 I've checked the replaceResultRequest sent to Moodle and the response received from Moodle. The request XML looks correct. The resultScore value is between 0.0 and 1.0 and the sourcedId data are correct because the correct grade item is updated in Moodle for the correct user albeit with an incorrect grade value. <? xml version = \"1.0\" encoding = \"UTF-8\" ?> < imsx_POXEnvelopeRequest xmlns = \" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \" > < imsx_POXHeader > < imsx_POXRequestHeaderInfo > < imsx_version > V1.0 </ imsx_version > < imsx_messageIdentifier > 1064de59-7328-4dcd-886c-f06915b9fd5e </ imsx_messageIdentifier > </ imsx_POXRequestHeaderInfo > </ imsx_POXHeader > < imsx_POXBody > < replaceResultRequest > < resultRecord > < sourcedGUID > < sourcedId > {\"data\":{\"instanceid\":\"265\",\"userid\":\"96\",\"typeid\":\"340\",\"launchid\":1986097215},\"hash\":\"edebe4702b9473a8ec9b2f64d80db30374280916f123f1807db234dd20dc13ec\"} </ sourcedId > </ sourcedGUID > < result > < resultScore > < language > en </ language > < textString > 0.75 </ textString > </ resultScore > </ result > </ resultRecord > </ replaceResultRequest > </ imsx_POXBody > </ imsx_POXEnvelopeRequest > The response XML indicates the grade was successfully recorded in Moodle: < imsx_POXEnvelopeResponse xmlns = \" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \" > < imsx_POXHeader > < imsx_POXResponseHeaderInfo > < imsx_version > V1.0 </ imsx_version > < imsx_messageIdentifier > 171544484 </ imsx_messageIdentifier > < imsx_statusInfo > < imsx_codeMajor > success </ imsx_codeMajor > < imsx_severity > status </ imsx_severity > < imsx_description > Grade replace response </ imsx_description > < imsx_messageRefIdentifier > 1064de59-7328-4dcd-886c-f06915b9fd5e </ imsx_messageRefIdentifier > < imsx_operationRefIdentifier > replaceResultRequest </ imsx_operationRefIdentifier > </ imsx_statusInfo > </ imsx_POXResponseHeaderInfo > </ imsx_POXHeader > < imsx_POXBody > < replaceResultResponse /> </ imsx_POXBody > </ imsx_POXEnvelopeResponse > From the point of view of our application, all seems well but the grade is recorded in Moodle as 0.0. Grade item settings look correct. Moodle logs for the release of the single grade show two user graded events. I don't know whether this is unusual or normal behaviour. I'm wondering whether anyone else has encountered this problem and what the cause/solution might be. Thanks in advance for any insight anyone can provide. Sam",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1867674/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1867674/image%20%281%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1867674/image%20%282%29.png"
          ],
          "Time": "Friday, January 17, 2025, 1:40 AM",
          "AuthorName": "Sam Rowley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5702656&course=5",
          "role": [
            "Picture of Sam Rowley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Basic Outcomes records grades as 0.0 in gradebook",
          "Text": "Not sure of a solution but just setting expectations that any LTI 1.1 or LTI 2.0 issue are not going to be fixed in core as 1EdTech deprecated all version of those standards in 2022 or before. We can't certify or test against them properly any more. I would expect an increasing level of breakage as we move forward and strongly suggest migrating to LTI 1.3, although it sounds like you are in the process of doing that already",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2025, 7:54 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Basic Outcomes records grades as 0.0 in gradebook",
          "Text": "Thanks for the confirmation, Brett. I assumed that would be the case. I'm posting just in case there's anything obvious I'm missing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2025, 5:06 PM",
          "AuthorName": "Sam Rowley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5702656&course=5",
          "role": [
            "Picture of Sam Rowley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465252,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465252",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Access Token sporadically fails for multiple sites",
          "Text": "Hello folks, Hope you're well. I've come across a recent issue that started this morning where API calls intermittently fail ~95% of the time. This would be fine for troubleshooting, but there seems to be a window 5% of the time where the LTI is actually accessible. My tool's logs get the attached error where it seems like Moodle is terminating the session and isn't accessible. Has anyone come across this behavior before? I have multiple Moodle sites and it seemed to resolve itself after a few hours on all but one. Not sure if I should just wait and see or if this is possible to diagnose. Thanks, Jay",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1867561/API%20failure.png?forcedownload=1"
          ],
          "Time": "Thursday, January 16, 2025, 4:59 AM",
          "AuthorName": "Jay VanPut",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7109628&course=5",
          "role": [
            "Picture of Jay VanPut"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Access Token sporadically fails for multiple sites",
          "Text": "Its an old cause and pretty uncommon these days but have you ensured all the machine clocks are synced properly. If the clocks are too far out requests may be rejected. Its almost never seen these days but its usually pretty easy to check",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2025, 7:23 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462984,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462984",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Dynamic registration API is giving error missing_registration_token",
          "Text": "Hi there. I am registering a tool using Dynamic Registration API. Registration endpoint I am calling is https://staging-moodle-4-3-3.companyname.com/mod/lti/openid-registration.php I am passing the registration token received from openid-configuration.php&registration_token=XXX But each time I am getting error as missing_registration_token I am passing registration token in header as follows in Rails. This same code works for canvas and Blackboard. But doesn't work for Moodle. Is it the case that staging site doesn't support dynamic registration or I am missing something? Thank you. \n```text\n  registration_response = HTTParty.post(registration_endpoint,\n\n\n                headers:{\n\n\n                  'Authorization' => \"Bearer #{registration_token}\",\n\n\n                  'Content-Type' => 'application/json'\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 17, 2024, 7:02 PM",
          "AuthorName": "Rahul Khedekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6883661&course=5",
          "role": [
            "Picture of Rahul Khedekar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Can you inspect the web traffic for that particular staging site? logs? Is some infrastructure stripping the Authorization header perhaps? The only reason you'd see that error is if Moodle can't read that header, but I can't guess as to why that would be. We test Moodle-to-Moodle dynamic registration often for various things and don't see an issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 18, 2024, 10:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Thank you for inputs. It turned out that Authorization header was getting stripped out. Git it fixed with help from infra team.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 5, 2024, 3:19 PM",
          "AuthorName": "Rahul Khedekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6883661&course=5",
          "role": [
            "Picture of Rahul Khedekar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Hi! I'd like to add here to devs like me that if you're hosting Moodle on your local environment, you'll get this error if you're not using localtunnel, ngrok or similar to run the code. Here's shortly about LocalTunnel by Gemini: \" LocalTunnel is a valuable tool for developers who need to expose their locally hosted web servers to the internet temporarily. It simplifies testing, collaboration, and sharing during the development process.\" And, yeah, you need to do that to avoid your authorisation header being stripped away. Other option is to rely on demo Moodle at https://sandbox.moodledemo.net/ Happy coding!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 4:17 AM",
          "AuthorName": "Heljä Hietala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7082701&course=5",
          "role": [
            "Picture of Heljä Hietala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "...and further to this, I'll just add that ngrok is now paywalled (free version has a limited request number that will quickly be exceeded in an LTI-centric dev environment), and localtunnel is VERY slow (to the point of unusable at lot of the time) and often drops entirely. There are other tunneling options like Cloudflare that provide a much better experience.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 12:01 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Hello Jake, I am able to register key using dynamic registration. I am tying to set few parameters to the tool settings I want to set tool_configuration_usage to \"Show in activity chooser and a preconfigured tool\" option and default_launch_container to \"existing window\". In dynamic registration request I am sending these values :tool_configuration => { :tool_configuration_usage => \"show_in_activity_chooser_and_as_preconfigured_tool\", :tool_configuration_url => \"my url\", :default_launch_container => 2 } I also tried \"\"show_as_preconfigured_tool\" but these 2 values are not set correctly. I am not able to find a document about how to set these values. Can you please point to the document where I can set these settings. Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 1:46 PM",
          "AuthorName": "Rahul Khedekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6883661&course=5",
          "role": [
            "Picture of Rahul Khedekar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "The simple answer is that neither \"Tool configuration usage\" nor \"Default launch container\" are configurable via dynamic registration. The former is defaulted to \"Show as a preconfigured tool\" while the latter defaults to \"Embed, without blocks\". These must be changed after tool registration. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 2:05 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Thank you for the help. Can you please point to the document link for different options I can use dynamic registration request?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 3:44 PM",
          "AuthorName": "Rahul Khedekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6883661&course=5",
          "role": [
            "Picture of Rahul Khedekar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Hi Rahul, The specifics of dynamic registration aren't documented on developer docs, so your best bet is to check the codebase. See the registration_to_config()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 4:39 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Thank you for sharing details. I will go through the code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 9:28 PM",
          "AuthorName": "Rahul Khedekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6883661&course=5",
          "role": [
            "Picture of Rahul Khedekar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465135,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465135",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Change from deployment_id to lti_deployment_id",
          "Text": "Canvas will be updating the Deployment ID Naming for LTI Compliance. Deployment_id will be named lti_deployment_id after this change. Here's the link of this announcement for reference. Please advise if this is a change that you will be implementing as well in the future. If yes, do you have any timeframe that you can share with us?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 10, 2025, 11:17 PM",
          "AuthorName": "Janrae Valencia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7095691&course=5",
          "role": [
            "Picture of Janrae Valencia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Change from deployment_id to lti_deployment_id",
          "Text": "For posterity, that Canvas breaking change announcement reads: \"Updated Deployment ID Naming for LTI Compliance To ensure compliance with the IMS LTI specification, the naming convention for the deployment ID in LTI login requests is changed to lti_deployment_id. Previously, the deployment ID was sent as deployment_id. \" Moodle was already compliant in its use of lti_deployment_id, so no changes are planned. See the code here: https://github.com/moodle/moodle/blob/e8ec0979dc01291c15392946e4ada4c225b1ab1f/mod/lti/locallib.php#L3671",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 9:44 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465108,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465108",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Re-using activities with LTI - is it a good idea?",
          "Text": "we have a number of courses in moodle 4.5 that share some activities (usually books).  In our old moodle 1.9, we used import to import shared activities to new courses but that obviously was a pain. I now thought about (actually, ChatGPT was suggesting it ) using LTI for this. The idea is to publish the shared activities using LTI and then share it wherever needed. So this would be an intra-moodle- server LTI use. Perhaps someone has already done so and can advise if this would be a good approach (or of course suggest a better approach).  Sharing activities using links doesn't do the trick for example, as students would then leave their course context , which would be confusing to say the least. Thanks for any advice, Christoph",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, January 10, 2025, 3:11 AM",
          "AuthorName": "Christoph Künkel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=331548&course=5",
          "role": [
            "Picture of Christoph Künkel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Re-using activities with LTI - is it a good idea?",
          "Text": "I wouldn't recommend it as it can greatly complicate trouble shooting in the system. We are currently looking at better methods of sharing and refusing content so hopefully this will be much easier over the coming version. We are in discovery now for one tactical piece and starting to develop a plan around another.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 11, 2025, 6:46 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re-using activities with LTI - is it a good idea?",
          "Text": "Thanks for the advice! So then, we'll be using the old method for the time being. The new plan will be addressed in 5.x I assume?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 11, 2025, 3:47 PM",
          "AuthorName": "Christoph Künkel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=331548&course=5",
          "role": [
            "Picture of Christoph Künkel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re-using activities with LTI - is it a good idea?",
          "Text": "Its on the roadmap and in early discovery but the timeline hasn't been fully defined, but we are targeing some time before Moodle 6.0 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 13, 2025, 7:28 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465106,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465106",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI not working in 4.5 on Windows",
          "Text": "Not sure if this is the right place, so forgive me if not. I was trying to implement LTI sharing (both ends) in my all-new moodle 4.5 installation.  This failed just exactly as described in https://moodle.org/mod/forum/discuss.php?d=433995 . This is because on my windows, the default ssl config file directory is underneath the PHP installation directory where I certainly do not want to allow access for the IUSR user (which is the one IIS happens to run with). However, the proposed fix (setting $CFG->opensslcnf) doesn't work as this configuration option is used inconsistently in moodle 4.5. It works as expected for mnet, as there is the following code there (e.g. mnet/lib.php): \n```text\n  if (!empty($CFG->opensslcnf)) { \n\n\n    //allow specification of openssl.cnf especially for Windows installs\n    $new_key = openssl_pkey_new(array(\"config\" => $CFG->opensslcnf));\n  } else {\n    $new_key = openssl_pkey_new();\n  }\n```\n However, in all other places, $CFG->opensslcnf is not used. For example (mod\\lti\\upgradelib.php): \n```text\n        $config = array(\n\n\n            \"digest_alg\" => \"sha256\",\n\n\n            \"private_key_bits\" => 2048,\n\n\n            \"private_key_type\" => OPENSSL_KEYTYPE_RSA,\n\n\n        );\n\n\n        $res = openssl_pkey_new($config);\n```\n I did not see another solution than patching the core source: \n```text\n$config = [\n    \"digest_alg\" => \"sha256\",\n\n\n    \"private_key_bits\" => 2048,\n    \"private_key_type\" => OPENSSL_KEYTYPE_RSA,\n        ] + (empty($CFG->opensslcnf) ? [] : [\"config\" => $CFG->opensslcnf]);\n```\n I would suggest that all occurences of `openssl_pkey_new` (), `openssl_csr_new` (), `openssl_csr_sign` (), `openssl_pkcs12_export` () and `openssl_pkcs12_create` () should be fixed accordingly. Or is there a better solution I overlooked? Regards, Christoph PS: I also tried to set windows global environment `OPENSSL_CONF` but it did not work and also, I wouldn't want to change the value for all applications running on my host .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 10, 2025, 1:40 AM",
          "AuthorName": "Christoph Künkel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=331548&course=5",
          "role": [
            "Picture of Christoph Künkel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI not working in 4.5 on Windows",
          "Text": "Unfortunately I was too quick to post this. Although my proposed solution works for the call to openssl_pkey_new(), it subsequently fails for the call to openssl_sign() in lib\\php-jwt\\src\\JWT.php. This function does not have a $config option. Ok, then bite the bullet I thought and gave the web server access to the default path (which I apparently can't change). Then, the calls to openssl_pkey_new() work without providing the \"config\" member in $conf. However, the call to openssl_sign() now fails with a new/different error code returned by openssl_error_string(): error:24070079:random number generator:RAND_write_file:Cannot open file I have no idea where this file is meant to be created. As it seems to be a temporary file, I checked both $_SERVER['TMP'] and $_SERVER['TEMP'] but both exist and are writable to the web server . Any help appreciated, Christoph",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 10, 2025, 6:17 PM",
          "AuthorName": "Christoph Künkel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=331548&course=5",
          "role": [
            "Picture of Christoph Künkel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465033,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465033",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Error \"Internal OIDC initiation server error\"",
          "Text": "Dear community, we are trying to create a link to another page using the External Tool activity. We have received the necessary parameters (Tool URL , Login URL, JWKS URL and Redirect URL), which I have stored in the activity. Unfortunately, when I call up the link I get this error message: \"Internal OIDC initiation server error\" Does anyone know this error message and how to fix it? This is the first time we have done something like this, which is why we are a bit inexperienced here - I would be very grateful for any kind of help. Best regards, Katrin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 7, 2025, 10:32 PM",
          "AuthorName": "Katrin Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6908255&course=5",
          "role": [
            "Picture of Katrin Lee"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error \"Internal OIDC initiation server error\"",
          "Text": "Hi Katrin, First, before using a tool (i.e. before you can create any links), you need to setup the tool registration, which is done via: Site Admin > Plugins > External tool > Manage tools. You'll need to set the LTI version to 1.3 and enter the data you've got. Once you save that tool configuration, you'll see the tool listed on the page, and you can click an icon to \"view configuration details\". This information (Platform ID, Client ID, Deployment ID, Keyset URL, Auth request URL and Access token URL) then needs to be entered in the tool site to complete the registration. The tool vendor will be able to tell you how you'd do that. Once that's done, you'll have a valid registration. You can't do this without Site admin access with LTI 1.3, unlike with 1.1, where you could configure it solely inside a course. Once you've done that, you can go to the the course and use the tool to create links (which might be achieved via deep linking). The tool vendor would have more information on how they want you to create links. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 8, 2025, 11:04 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error \"Internal OIDC initiation server error\"",
          "Text": "Dear Jake, Thank you very much for your input, it really helped me! With your help we got the tool up and running and the connection is established.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 8, 2025, 4:55 PM",
          "AuthorName": "Katrin Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6908255&course=5",
          "role": [
            "Picture of Katrin Lee"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error \"Internal OIDC initiation server error\"",
          "Text": "Glad to hear that, Katrin! All the best Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 9, 2025, 9:08 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464429,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464429",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Security settings for Publish as an LTI tool",
          "Text": "Dear Community, In the context of a larger project, we have just received a request to make our Moodle available as an LTI tool for a third-party system. This is technically feasible so far with LTI 1.3 on our Moodle 4.3.8 instance. However, the Moodle Docs recommend allowing the embedding of frames, which is prohibited by default, as otherwise errors may occur. This is exactly what happens on the other side. We only have little experience with LTI and we're a bit hesitating if changing that security setting is a good thing. So if anyone here with more experience could explain why that is needed and how we can avoid security risks in this connection and maybe in other parts of the system that would be very helpful. Kind regards Harald",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 11, 2024, 5:14 PM",
          "AuthorName": "Harald Schnurbusch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1031191&course=5",
          "role": [
            "Picture of Harald Schnurbusch"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Security settings for Publish as an LTI tool",
          "Text": "Hi Harald, Firstly, you'll still be able to use LTI with or without that setting checked, but it'll be a fairly limited experience. You'll NEED to launch in new windows in the platform (hopefully that's configurable there), and the same goes for deep linking/content selection; if the platform uses embed for that, it'll error. This issue with our (dated, it would seem) implementation of this (at least to my knowledge and after having just had a look at the underlying code), is that we're allowing embedding wholesale, permitting embedding by anyone, not JUST a specific third party/set of third parties. Then, of course, you can Google why that's potentially unwanted and you'll find things like click-jacking or the like mentioned. We're using the \"X-Frame-Options: sameorigin\" header normally, but this is omitted when \" allowframembedding\" is checked. That information might be useful for you. So, that header appears to be the biggest issue with enabling it; we don't have a mechanism which sets a \"Content-Security-Policy:\" header allowing embedding by certain trusted parties. You could of course make a modification to set this header for your site and you'd likely be able to make this work. I believe the \"Content-Security-Policy\" header will override the \"X-Frame-Options:\" header. That might be something worth looking into and which could work better for your site. Edit: Not sure what I was doing, but my original post was in fact almost entirely incorrect, so I've clarified what really happens in the first paragraph above - my apologies. You will see an error if trying to embed, or if your deep linking workflow uses an embed. New window/tab launches will be fine, however. YMMV depending on platform settings basically. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 12, 2024, 10:52 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Security settings for Publish as an LTI tool",
          "Text": "Hi Jake, thank you very much for your answer. It surely helps to understand things better. Two things about the \"open in new tab\" option: Would this option also work for deep linking to certain materials (if implemented correctly in the third party system)? Or does it only work for a whole course? If I open the course (or the material) in a new tab, is the user that is coming from the third party platform free to move around in our moodle instance, i.e. can he go to other courses on the platform and - if activated - self-enrol in courses? If it is like that our data privacy guys do not like that a lot. And if it is like that, is there any - preferably easy, built-in way without using additional plugins - to keep such a user from self-enrolling in other courses? We really want to find a way to support the project I mentioned in my original post. That's why I'm trying to find a way to make it happen. But right now the whole thing seems to have crucial disadvantages. But maybe you have the golden idea that points us towards something we can live with. Thanks again and kind regards Harald",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 17, 2024, 2:05 AM",
          "AuthorName": "Harald Schnurbusch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1031191&course=5",
          "role": [
            "Picture of Harald Schnurbusch"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Security settings for Publish as an LTI tool",
          "Text": "I'm not Jake, but I have been running a production Moodle environment optimized as an LTI tool for a while now. Opening the LTI window via deep linking to a module activity works exactly the same as launching to a whole course. Once the user is authenticated via LTI, they would be able to access anything else on the Moodle instance that their session allows them to access. The LTI launch does suppress some of the page content, but we modified our theme to get rid of almost all of the Moodle navigation, since we predicted it would be confusing if students opened a course activity from one course and then navigated to one of their other courses from there to do work. It doesn't break anything if they do that, but it does defy expectation. We don't allow self-enrollment: the LTI Launch can create the enrollment for the course launched into but not other courses; asynchronously, a scheduled task reconciles the platform course roster with the Moodle course roster periodically. There's considerable nuance to 2 and Moodle is, of course, highly configurable so you can make it do whatever you need it to with adequate motivation. The most notable nuance I would share is that if you're launching students into specific activities instead of courses, they are enrolled at the activity context level and NOT the course context level. This means that if students attempt to navigate around after launching into an activity, they would be denied access to the course the activity is contained within (unless the course was also published as an LTI resource on the Moodle LTI Tool). The same is true for teachers, although I modified my production Moodle branch to enroll teachers at the course context level so that they can manage the course to add new activities or whatever else they might want to do.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 17, 2024, 11:43 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Security settings for Publish as an LTI tool",
          "Text": "Hi Liam, thank you for for valuable input. This has helped us a lot! Best Harald",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 11:40 PM",
          "AuthorName": "Harald Schnurbusch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1031191&course=5",
          "role": [
            "Picture of Harald Schnurbusch"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464855,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464855",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Switching LTI tool version mid-course",
          "Text": "We currently use the Moodle to MyOpenMath LTI interface for some of our courses.  We had unintentionally set up LTI integration with version 1.1.  Since we are currently mid-year and no one is using the course, we wondered if we could switch to 1.3 without impact?  Or is it troublesome enough it is advisable to wait until we reach the end of the course. I am very familiar with Linux/PHP/ MariaDB platforms and don't mind considering some \"gotcha's\" if I know what they will be.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 3, 2025, 7:41 AM",
          "AuthorName": "Todd Sparrow",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2896713&course=5",
          "role": [
            "Picture of Todd Sparrow"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Switching LTI tool version mid-course",
          "Text": "Hi Todd, That's a fair question and one that MyOpenMath would also need to be asked I think. We can easily change the tool version over to 1.3 from 1.1 (as I'm sure you've seen. It can even be done via dynamic registration), however what the tool does with an entirely different story. There is, in one of the migration specs, a migration claim that can be included to migrate a tool from 1.1 to 1.3 during a launch, but we won't send that (not supported), so the tool won't know that a given consumer key maps to a registration/deployment and may end up creating an entirely new one. Some of the considerations for this, in general: 1. Do existing users who have launched into the 1.1 tool need to continue to have access in the coming semester for any reason (e.g. to view the activity or see results breakdowns etc)? 2. How will the tool handle a 1.3 launch WITHOUT a migration claim (e.g. will it create all new users etc)? If the tool can't identify the original 1.1 tool and a user launches into the tool from a 1.3 tool (the updated tool), there's every chance that the tool will be unable to show them what they'd previously done - and that's the main concern here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 11:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464893,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464893",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restrict access via Deployment ID",
          "Text": "In Moodle, there is no way to restrict a course's LTI enrollment method to a deployment ID.  What is a solution for restricting course access using a specific Deployment ID?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 5, 2025, 10:34 PM",
          "AuthorName": "Raymond Barrett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1943865&course=5",
          "role": [
            "Picture of Raymond Barrett"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restrict access via Deployment ID",
          "Text": "Hi Raymond, There isn't one yet. There is MDL-74233 which captures the general idea though, so feel free to add any thoughts you might have there. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 11:49 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464853,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464853",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "M 4.4 & LTI - Can no longer edit Tool URL",
          "Text": "We are using Moodle 4.4.4, just updated last month and about to start our first term of classes on this version. I have just had an issue with two different external tool providers where they require teachers to add course-specific info to the launch URL in order for our Moodle to connect to their tool.  However, that field is not longer on the Edit Settings screen.  If the tool is using LTI 1.1, then we can provide instructions for teachers to add that tool directly.  If the tool is using LTI 1.3, however, teachers cannot set that up on their own without admin assistance. I have one tool that is trying to use the LTI 1.3 protocol, but they are requiring teachers to enter a course-specific Tool launch URL.  How can we support these kinds of LTI providers?  Is there way for me to reveal the Tool URL field to our teachers?  Perhaps a setting somewhere?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 3, 2025, 12:50 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: M 4.4 & LTI - Can no longer edit Tool URL",
          "Text": "Hi Carly, For 1.1, as you say, each tool can be configured directly in the course. One tool per URL. Or, the tool can use deep linking (though I suspect they haven't implemented that). For 1.3, this should be achieved via Deep Linking (a requirement for LTI Advantage). Tools can either provide a custom param (or several), identifying the content to be launched, or they can pass back the tool URL to use. Moodle will store either one (or both) and use them in the launch. The URL isn't manually configurable, however, custom params are (you'll see custom params in the \"Show more\" part of the form). If the tool can use a custom param instead of a custom URL, then they can use that method instead. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 11:45 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464489,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464489",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Clarification on external tool launch flow",
          "Text": "We're implementing an LTI-compliant tool. We don't have any experience with Moodle or LTI, but do know about various OIDC authentication flows. Does the Moodle external tool launch flow look like Figure 7 in the LTI security spec? The end user (who has presumably authenticated with Moodle) will be prompted again to login at the tool using Moodle as the OIDC provider. Then Moodle will construct an id_token with complete launch parameters and send to the tool. If this isn't right, can you describe the flow in some technical detail? Or point to any Moodle technical documentation describing the LTI integration.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 14, 2024, 5:26 AM",
          "AuthorName": "Paul Tyson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7051748&course=5",
          "role": [
            "Picture of Paul Tyson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Clarification on external tool launch flow",
          "Text": "Note that LTI is a standard that can be used to launch a tool from any LMS. So, you should not ask \"Does Moodle ...\", you should ask \"Does the tool consumer ...\". Of course, Moodle is free, so I guess it is a useful option to test the tool you are developing with. The whole point of LTI is that the user will not be prompted again to log in. I should appear seamless. My suggestion to help you understand this is to find a existing (free) LTI tool, and connect it to a test Moodle install (you could use the test site at https://sandbox.moodledemo.net/ ). Then go in as a student and launch the tool, while watching the Network tab in the web browser developer tools. That will show you what then launch is. I don't know of a good free LTI tool to recommend for testing this, but while I was searching for one, I fould this, which might be helpful: https://github.com/SanDiegoCodeSchool/lti-node-example",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 14, 2024, 9:47 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Clarification on external tool launch flow",
          "Text": "Building on Tim's tips: Yes, Moodle follows the auth flow in the spec you referenced Yes, the user is typically already authenticated/logged-in on the Moodle/platform side when using an LTI tool (external tool) and it isn't common for the user to manually login to the tool separately as part of the LTI 1.3/OIDC flow The tool still controls what's required after successful LTI auth in order to interact with the requested tool resources/content/etc. Example: the LTI resource request sent after the LTI auth will include user data. This data can be used to create a user account on the tool side, lookup/find an existing user, assign the right role/capabilities to a user, etc. But perhaps something else is required, like tool-specific profile info or a tool-specific code to access a resource, before the resource can be served. The tool would handle these situations with direct user interaction. Even with the public standard/specs, tool can't assume every standard LTI 1.3 request or situation will be handled perfectly by every platform, even when intent is there. Sometimes there's a tool issue, sometimes a platform issue. Suggestion: Test the tool on multiple platforms before a prod launch - or at least test it on the platform(s) your customers/prospects will be using most frequently - Moodle, Canvas cloud or community, D2l/Brightspace, Schoology, Blackboard,etc. Any mention above of platform = LTI tool consumer, but not oAuth/OIDC consumer.  LTI 1.1 uses tool consumer, 1.3 uses  platform to avoid conflict with the oAuth/OIDC consumer - more info here Hope it goes well!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 15, 2024, 4:46 AM",
          "AuthorName": "John Doyle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2150656&course=5",
          "role": [
            "Picture of John Doyle"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Clarification on external tool launch flow",
          "Text": "Tim and John, thanks for the helpful replies. We use Spring Security framework to implement authentication. In our use cases so far we haven't needed the OIDC implicit flow , and it looks like Spring6 has removed support for it . It seems like supplying a bearer token in the Authorization header of the tool launch request would be the cleanest way to do this, but the LTI specs don't mention this (that I've found).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 16, 2024, 10:57 PM",
          "AuthorName": "Paul Tyson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7051748&course=5",
          "role": [
            "Picture of Paul Tyson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457960,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457960",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Help needed with user configuration in Moodle LTI integration",
          "Text": "Hello, We have Moodle 1 as an LTI provider and Moodle 2 as an LTI consumer site, both running Moodle version 4.3.3. We've set up a course from Moodle 1 as an activity within a course on Moodle 2. To achieve this, we followed the steps outlined in this link: https://docs.moodle.org/404/en/Publish_as_LTI_tool Prior to accessing the linked course, users do not exist in Moodle 1. We've noticed that when users access the shared activity for the first time, a new account is created in Moodle 1. The user's first name is the user ID from Moodle 2, and the user's last name is the Moodle 2 URL . For example: 6 https://mymoodle.com . The username is something like \"enrol_lti_13_xxxxxxxxxxxx\". Is there any way to configure the username, first name, and last name so they match those from Moodle 2? Any assistance would be greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 29, 2024, 4:03 PM",
          "AuthorName": "Magalí Lescano Correa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4754380&course=5",
          "role": [
            "Picture of Magalí Lescano Correa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Help needed with user configuration in Moodle LTI integration",
          "Text": "Yep, that's easily achieved. Just make sure you're sending the names and emails during the launch. To do that, edit the tool configuration on Moodle 2 (the platform site), setting \"Share launcher's name with tool\" and \"Share launcher's email with tool\" to \"Always\". If that's set to \"Never\", then the PII information is omitted from the launch data, and the tool will then generate some data for the firstname/surname/username stuff based on other fields. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 29, 2024, 4:25 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Help needed with user configuration in Moodle LTI integration",
          "Text": "Hello Jake, Thank you very much for your quick response! It worked! Kind regards",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, April 29, 2024, 6:43 PM",
          "AuthorName": "Magalí Lescano Correa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4754380&course=5",
          "role": [
            "Picture of Magalí Lescano Correa"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Help needed with user configuration in Moodle LTI integration",
          "Text": "This is helpful for us too. Do you have any suggestions for settings at either our end or the partner site to avoid LTI users having to answer our user profile fields? We have managed to avoid this when sharing LTI tools across other platforms but struggling with a moodle to moodle LTI share.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 7, 2024, 10:07 AM",
          "AuthorName": "Sharon Wetzig",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6443361&course=5",
          "role": [
            "Picture of Sharon Wetzig"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Help needed with user configuration in Moodle LTI integration",
          "Text": "I had to modify auth/lti/auth.php to set the username the same for the platform and reviewing again, it looks like it would always make a new username on Moodle2 as described in the original question, with enrol_lti_13_{hashed_string}. My situation may be a little unusual, but I wanted LTI launches to Tool3 originating from both Moodle1 and Moodle2 to use the same username so they'd see the same content in Tool3 no matter where they were coming from (and I didn't have to worry about clobbering other usernames in Moodle2 since auth_lti is the only one allowed aside from manual for site admins). Making that username extraction from launch or member data configurable instead of hard-coding in what I needed is one of the major goals for MDL-81571 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 10, 2024, 9:40 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Help needed with user configuration in Moodle LTI integration",
          "Text": "Thanks for the explanation Liam. We have a similar issue, where our Moodle is both accessible directly with saml2 and via LTI from our HR-platform. This creates double accounts for the same user, and thus confusing them because depending on their entry point, they will see different courses, different completions statuses etc. I will be voting for the tracker issue!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 13, 2024, 7:16 PM",
          "AuthorName": "Roald Santens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7050753&course=5",
          "role": [
            "Picture of Roald Santens"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463351,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463351",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Issues connecting to Canvas LMS using Advantage LTI",
          "Text": "Hi All I am having difficulties connecting to Canvas from Moodle using Advantage LTI. I'm getting this error message. I'm not familiar with Canvas so does anyone have any Canvas tips. Thanks Gareth",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1860249/image.png"
          ],
          "Time": "Wednesday, October 30, 2024, 11:24 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Issues connecting to Canvas LMS using Advantage LTI",
          "Text": "This post (and its parent) from a few months back has a setup procedure that is known to work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 31, 2024, 12:07 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issues connecting to Canvas LMS using Advantage LTI",
          "Text": "Thanks Liam, much appreciate your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 1, 2024, 6:23 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issues connecting to Canvas LMS using Advantage LTI",
          "Text": "Thanks Liam, We have followed these procedures and still getting an error. Any thoughts?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1864042/image.png?forcedownload=1"
          ],
          "Time": "Friday, December 6, 2024, 7:19 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issues connecting to Canvas LMS using Advantage LTI",
          "Text": "Where are you getting this error, or can you enable debugging on this environment to see the output of exactly what's calling it? It's almost surely being thrown by a call to create a URL string on a MoodleURL object, but being called on a variable with a string type. Also, did you use the documentation on Charles' github at the end of that thread? That's for a very specific use-case where you want everyone using the LTI tool to see one specific quiz, course, or other \"Published as LTI\" resource. Typically, you would want to set it up so that users can use deep-linking to select the resources they want to publish, since that's the killer feature for LTI versions higher than 1.1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 6, 2024, 9:30 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463863,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463863",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI in Moodle 4.4 and Beyond - Outcomes",
          "Text": "Hi Everyone, I hope all is well. Following on from the pinned topic about the upcoming changes to LTI: Moodle in English: Announcement: Changes to LTI in Moodle 4.4 and beyond | Moodle.org In order to prepare, I would like to find out how the new LTI update would work with Moodle's outcomes. The main reason why we use the Turnitin Direct plugin at Further Education (FE) level is so that we can use Moodle's assignment system for grading, primarily due to Moodle's outcomes facility which is especially useful for FE criteria such as Ps, Ms and Ds. The outcomes facility enables us to provide absolutely clarity about progress to students instead of one singular grade. In the majority of cases. The originality scores and AI tool are reviewed along with the coursework submission. Would the new changes to the LTI system have additional table entries to accommodate Moodle's outcomes? Thanks Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 19, 2024, 9:53 PM",
          "AuthorName": "Andrew C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1419857&course=5",
          "role": [
            "Picture of Andrew C"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI in Moodle 4.4 and Beyond - Outcomes",
          "Text": "At this point its a lift and shift of the current LTI implementation and some cleanup to get it into core, so no significant additional functionality should be expected in Moodle 5.0. There will be some new placements to support the assett processor, which is the work that TII is doing. The assett processor will allow the TII LTI integration to be used with Moodle assignments.That said as far as I am aware LTI doesn't support compentencies/outcomes directly and any additional data would need to be passed back outside that standard, although Jake may understand this better as he is the expert on the standard.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 20, 2024, 6:50 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle 4.4 and Beyond - Outcomes",
          "Text": "Thanks Brett, that is really interesting information about the assett processor, especially because the Moodle Assignment system is an area that has very usable Moodle Outcomes . If the LTI assett processor can enable the Moodle Assignment to work in a similar fashion to the Turnitin Direct plugin but via LTI, that would be fantastic. I look forward to hearing from Jake.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 20, 2024, 11:48 PM",
          "AuthorName": "Andrew C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1419857&course=5",
          "role": [
            "Picture of Andrew C"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle 4.4 and Beyond - Outcomes",
          "Text": "The migration work is being done to facilitate other placements, like AP, which is one being developed largely by Turnitin. I believe their goal is to move away from using (and importantly, from maintaining) Moodle plugins . So I'd say you're correct in that the eventual AP work will replace that plugin. I even says so on their plugin page: https://moodle.org/plugins/mod_turnitintooltwo With respect to outcomes: As Brett said, nothing in the migration project deals with anything outcomes related. However, once AP lands (eventually) and you're able to use Moodle's native assignment module + AP (if that setup works for you), then of course outcomes can be used.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 29, 2024, 11:14 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464141,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464141",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.3 & LTI 1.3 not supporting find by URL",
          "Text": "Ok, we are a tool provider that is IMS 1.3 certified, and we distribute our courses as native moodle backups to moodle clients. Up until version 4.3, the tool URL would be caught by an LTI 1.3 registration on the site level, but it is no longer \"catching\" the url, and therefore clicks on the External tool link are erroring out. Why does \"Automatic, based on tool URL\" no longer work for a course imported previously? Can anyone help? Thank you in advance!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1863343/Updating_External_tool_in_Unit_1__An_Overview_of_476-1750_C_E____mathcomp.png"
          ],
          "Time": "Friday, November 29, 2024, 8:27 AM",
          "AuthorName": "Richard Bitgood",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=628507&course=5",
          "role": [
            "Picture of Richard Bitgood"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4.3 & LTI 1.3 not supporting find by URL",
          "Text": "Hi Richard, When you say \"erroring out\". What's the specific error you see? And when you say \"imported previously\", do you mean that the course backups were restored into a 4.2 site prior to the site being upgraded to 4.3? The domain matching code (i.e. the 'catching' part) is still present and will identify a site level tool for these legacy, manually configured instances. It's matching the parent tool based on the tool URL. I've just re-checked this in a local site and restored, manually configured instances still link to the site-level tool, provided the site level tool exists, so it's hard to guess where this is going wrong for you. Of course, the backups don't include the site-level tool configuration, so that could be a potential issue. Hard to say without knowing what error you're seeing. Hopefully you can provide more info. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 29, 2024, 10:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464088,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464088",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Becoming a Certified Integration as an LTI tool",
          "Text": "Hi, I'm not sure if this is the right place to ask this question, but this seems the most relevant topic. We as the company MemoryLab provide an LTI integration that works well with Moodle. Can we apply for becoming a Certified Integration or this only meant for other types of Moodle specific plug-ins? I couldn't find this on the Moodle website. Best, Tom",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 27, 2024, 8:07 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Becoming a Certified Integration as an LTI tool",
          "Text": "Hello Tom. The information about becoming a Certified Integration Partner is here: Partner Application: Certified Integration Partner",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 27, 2024, 8:59 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463598,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463598",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI Tool Devlopment",
          "Text": "Hi, a little Background, Currently trying to learn more about development for Moodle. Previously, I set up a Moodle 4.2.1 Site hosted on a Server for the company I am working at. This is my first time every trying a project like this. Currently, I have been tasked with building a tool that will send the students to a webpage that allows them an amount of time to do an activity. From my research, I am thinking that using LTI would be the way of doing this. I need to pass information back into moodle after the time is over/once completed about the task to be stored somewhere inside of moodle. Is an External tool the direction I should be going? And if so, are there any resources to learn how to implement this? Thank you, Joel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 9, 2024, 3:05 AM",
          "AuthorName": "Joel Oram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6958968&course=5",
          "role": [
            "Picture of Joel Oram"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Tool Devlopment",
          "Text": "It will largely depends on the information you need to pass back. If it's simple grades then yes.  If it's other information that might be a different answer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 11, 2024, 1:38 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Devlopment",
          "Text": "It would be nice to have additional information, but if not possible, mostly Moodle just needs to know that it's completed, so the student can keep going forward with the course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 12, 2024, 9:33 PM",
          "AuthorName": "Joel Oram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6958968&course=5",
          "role": [
            "Picture of Joel Oram"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Devlopment",
          "Text": "Hi Joel, One thing worth pointing out, since you mention completion (and which might not be obvious) is that the activity completion status sent from the tool during score post (it's called activityProgress in that score post payload), isn't used by Moodle as a completion indicator. LTI services don't hook into completion like that currently. You'll need to set up completion rules on the activities in the consumer course to achieve this kind of thing. E.g. \"receive a grade\" criteria. Then, when the score is posted, Moodle's local completion rules trigger the activity completion. Worth mentioning, since it's a common post on this forum, and seems to be a common misconception about Moodle's LTI implementation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 13, 2024, 8:39 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Devlopment",
          "Text": "Thank You! Might have got stuck on that for a bit. Let say I wanted to pass custom information that's not part of the LTI post payload. Would I use another type of activity? Or maybe that would be heading into a custom plugin? Mostly looking for what option's there are. If you have any recommend starting points to look into, that would be great. Thank You again",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 14, 2024, 2:10 AM",
          "AuthorName": "Joel Oram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6958968&course=5",
          "role": [
            "Picture of Joel Oram"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463529,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463529",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 not synchronizing grades",
          "Text": "I have an integration with a third party integration using LTI 1.3. I can select the activity via LTI 1.3, students are able to complete the activity through the integration on the external platform but the grades are not coming in despite various settings for the grade integration: Under the LTI Setup, we have the following settings, which aligns with the settings for LTI 1.1 integration: We also tried setting the following services, consistent with other LTI 1.3 integrations but with no results. The third party tool uses JKWS on their end. Other LTI 1.3 integrations work fine. Our Moodle version is 4.4.1 LAMP .",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1860909/blobid0.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1860909/blobid1.png"
          ],
          "Time": "Thursday, November 7, 2024, 4:17 AM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 not synchronizing grades",
          "Text": "Hi Sali, Those tool settings look correct (also worth pointing out that 'tool settings' is a legacy service that you likely don't need to concern yourself with nowadays. It's not part of LTI 1.3). The issue with grade sync could come down to an issue in the activity grade settings though. Can you check that you've: Got a grade section in the activity settings and that there's a max grade set Can see the grade item in the gradebook If the above are ok, then we'd need to troubleshoot at the tool end. Is the tool sending the grade sync request? If so, what's it getting back? Does it log the responses? etc. Grade sync is certainly possible (we can't certify without that), so it's very likely a configuration issue on one end. Another thing to check would be the JWKS section of the tool configuration, making sure that's set to the tool JWKS endpoint. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 7, 2024, 10:28 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 not synchronizing grades",
          "Text": "Thank you, Jake, for taking the time to respond. The activity on the Moodle side has been configured to post a grade and the activity item shows up in the gradebook but the grades are not updated. On the tool end, I have limited access to only the configuration setup and cannot view logs etc. The provider suddenly is claiming that they will support LTI 1.3 with only Canvas despite having used their LTI 1.1 for years now and our students paying $20/per course.... Even the integration for the part that is working, I had to figure it out on my own. Is there somewhere on the Moodle side that I could check a log? Looking at the scheduled tasks log, I could not determine any that could shed some light on it. The public keyset on the tool config. on the Moodle side is set to point to the jkws instance number on the remote vendor configuration. Is that what you are referring to by \"making sure that's set to the tool JKWS endpoint\"? Thank you again.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1860986/image.png"
          ],
          "Time": "Thursday, November 7, 2024, 9:32 PM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 not synchronizing grades",
          "Text": "Hi Sali, Just to confirm the JWKS bit first: What you want is for the JWKS URL in the tool configuration to be set to the URL at which the tool JWKS resides. if you hit that URL in your browser, you need to see a list of keys. If you do, you know that's the right URL to use there. I'm not quite sure what you mean when you say 'instance number', however. With regards to tracking down the sync issues, it's not a case where we can look at scheduled tasks. All the syncs happen through a web service and tasks aren't involved. Unfortunately, the logging on the Moodle side is lacking and you'll likely only see a log when the grade is updated, but not when the service responds with any number of other responses, in cases where the grade cannot be set. This is why I suggested looking at the tool side, since they're the ones posting the grade and presumably would be able to tell you what response they're getting back for the various attempts to post. Sorry I can't give you much more to go on for now. I'd assume the tool vendor would provide assistance in this matter, given the issue is with their tool syncing grades. Hopefully, they can accommodate. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 8, 2024, 9:08 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 not synchronizing grades",
          "Text": "Hi Jake, Yes, the URL returns the keys as below but cropped intentionally. By 'instance number' I mean the configuration instance on their end. It seems that each time you create a new configuration, the number after the JKWS entry as in the URL from the snapshot changes. I will try to reach out again to their support. It appears they were recently acquired and they are no longer developing the product for some strange reason and thus the unwillingness. Thanks again for your time.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1861155/image.png"
          ],
          "Time": "Friday, November 8, 2024, 11:19 PM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 not synchronizing grades",
          "Text": "Hi Jake, Assuming the vendor will not make any provision, is there any workaround to still embed LTI 1.1 activities via a URL? Our old LTI 1.1 links still work for older courses. This issue started with the Moodle 4.4 upgrade changing the LTI setup and no longer allowing Direct LTI URLs.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 8, 2024, 11:28 PM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 not synchronizing grades",
          "Text": "I received the following from the vendor and am wondering whether there is any setting somewhere to omit the query parameter at the end of the URL for grades. Anyone have any input? \"Here's a rundown after looking at the logs. The LMS tells us where to send the grades by providing a url for a 'line_item.' We take that URL and append '/scores' to it to get the URL that we should post the scores to. The problem is the url for the 'line_item' that moodle is providing us looks like this: 'https://moodlelmsURL/mod/lti/services/php/31549/lineitems/380783/lineitem?type_id=50' . It has a query parameter at the end. So when we append '/scores' to that it's not a valid URL.\" Is there anything on our Moodle end that we can adjust?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 11, 2024, 10:26 PM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 not synchronizing grades",
          "Text": "Hi Sali, That's useful information. Thanks for reporting back. Basically, the tool is doing it wrong. Per the spec, the scores endpoint is defined as: \"The scores service endpoint MUST be the line item resource URL with the path appended with '/scores'. Any query or route parameters from the line item URL must also be added\". Basically, what they should end up with is a URL in the following format. Note /scores is appended before any query params. https://SITE/mod/lti/services.php/2/lineitems/1605/lineitem/scores?type_id=1 Once the tool does that it'll work fine. HTH , Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 12, 2024, 9:26 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460174,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460174",
      "NoOfResponses": 18,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Hi, I've been unable to get dynamic registration working when Moodle is the platform and any other LMS is the consumer. Moodle > Moodle seems to work every time. Moodle 4.1 > Canvas - When the dynamic reg link is added to Canvas the 'register app' window opens but is blank Moodle 4.1 > D2L - \"A required parameter (registration_token) was missing\" error shows from Moodle Moodle 4.1 > Blackboard - as above (I think..) - trying to attempt a manual config but struggling with that So it looks like the cause *might* be the same thing in all cases? I'm told that dynamic reg works for some other providers so this has me stumped. Any insights gratefully received.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 11, 2024, 10:58 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Hi Greg, First up, just to clarify, platform and consumer are synonyms in LTI land, but I know you meant Moodle is the tool (not platform). When we built the tool dynamic registration, at that time, no other LMSs had support for that spec, so it's not surprising there are hiccups. I've confirmed Blackboard does does work (or CAN work), but it's with a caveat: Blackboard need to fix a blocker bug on their end with URL encoding that (was, perhaps still is), preventing that from working. See MDL-81409 , where that problem with blackboard is mentioned. In a nutshell, they aren't passing over the one time use registration token properly, and it's not in our power to fix. I already lodged this with Blackboard but heard nothing back. Our Moodle US team was also hit by this and probably followed up directly with Blackboard too, but I've not heard any update. It could still be broken for all I know. Wrt to the others:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 12, 2024, 9:12 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "I'm now able to set up manual connections in Blackboard, so that's no longer an issue for us. Canvas however, I can't get to work. We did some investigation into why dynamic reg was failing on Canvas but didn't uncover anything untowards, so we're pursuing the manual setup route. Upon manual setup, we're seeing an error \"LTI 1.3 registration not found for issuer\" (attached) when trying to launch the tool on Canvas. I can't see anything obvious wrong with the set up - I referred to an earlier post here to map the fields from Moodle > Canvas to set up the tool. Does this error point to simply entering a wrong URL somewhere - and if so, which fields are the most likely candidates? Is there a guide or other resource that might help somewhere? thank you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1849053/Untitled.png"
          ],
          "Time": "Monday, July 22, 2024, 10:01 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Hi Greg: This is the procedure that I originally used to configure Canvas as a platform and Moodle as a tool, the context of which may be amusing to many. When configuring the LTI Key in Canvas: I don't use force_embed=1 in custom fields and do include other launch data there in step 12 of \"Setup Canvas as an LTI Consumer\". In step 14 of that section, I recommend including \"Assignment Selection\" in addition to \"Link Selection\" in the Placements field. Otherwise Moodle will be missing from the LTI picker list in the assignment configuration menu. Hope that helps you get unstuck.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 22, 2024, 10:48 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Thanks for providing the link to the Canvas Community post. This information helped a bit, but also sent me in the wrong direction as some of the information was wrong in my opinion. In the section titled \"Add the Deployment to Moodle\", the settings I needed to add to get this to work are listed in the below table.  This information is mostly pulled from the Canvas developer documentation here: https://canvas.instructure.com/doc/api/file.lti_dev_key_config.html , which wasn't easy to follow, but I got there in the end. Copy information from the platform registration into the Platform details area of the moodle platform registration. The field names correspond to each other as per this table: moodle naming Canvas naming Platform ID (issuer) Login Initiation For production environments: https://canvas.instructure.com For beta environments: https://canvas.beta.instructure.com For test environments: https://canvas.test.instructure.com Client ID Client ID e.g. 123450000000000123 Authentication request URL Canvas Authorization Endpoint For production environments: https://sso.canvaslms.com/api/lti/authorize_redirect For beta environments: https://sso.beta.canvaslms.com/api/lti/authorize_redirect For test environments: https://sso.test.canvaslms.com/api/lti/authorize_redirect Public keyset URL JWKs Endpoint For production environments: https://sso.canvaslms.com/api/lti/security/jwks For beta environments: https://sso.beta.canvaslms.com/api/lti/security/jwks For test environments: https://sso.test.canvaslms.com/api/lti/security/jwks Access token URL Canvas Access Token Endpoint For production environments: https://sso.canvaslms.com/login/oauth2/token For beta environments: https://sso.beta.canvaslms.com/login/oauth2/token For test environments: https://sso.test.canvaslms.com/login/oauth2/token Hope this helps others with moodle (tool) to Canvas (platform) integrations.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 1, 2024, 7:50 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Thanks for this: I set mine up prior to that documentation you linked to, so I should start updating my integrations to use that ne authentication fqdn and make sure that nothing breaks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 1, 2024, 9:06 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Hi Liam, You said \" I don't use force_embed=1 in custom fields and do include other launch data there \" and you linked to the variable substations page in the Canvas dev docs. Why don't you use force_embed (I've not looked into the effect of leaving it out yet)? What useful variable substitutions are supported by moodle LTI 1.3 as a tool? Is there a list anywhere? Best wishes, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 1, 2024, 7:55 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "That might be a little idiosyncratic, but the decision on force_embed was so we could control the layouts in the theme based on whether the initial launch arrived for a full course or an activity within a course. If a course design is using specific Moodle activities within canvas, we strip out all navigation for students and add minimal navigation for teachers so they can still easily manage their course; if the students are to launch into a course and click around different activities , then we need to leave navigation intact. We also make different postmessage calls against canvas depending on which of those two design options are in use to maximize space for the moodle-containing iframe and remove potentially confusing navigation controls in Canvas. $Canvas.user.loginId We needed the canonical username for user account creation instead of the obfuscated LTI sub username so that we can launch LTI activities from the Moodle LTI tool with the same user that the platform would use. (For example, so they see their video collection in our video management system). The lis_person_sourcedid is provided with sync_members data from the NRPS, but not with launch data (Moodle's mod_lti sends it in claim at launch, so great job, HQ). $com.instructure.User.sectionNames We needed to sync SIS-generated section names in Canvas with Moodle groups. $Canvas.user.sisIntegrationId This other id was needed for a library-related LTI integration we needed to support in the tool. $Canvas.api.baseUrl $Canvas.course.id $Canvas.moduleItem.id These are used for a local plugin I wrote to, among other things, route 403 requests to the launch point that gets the user closest to that requested context so that auth_lti acts like a real authentication plugin if someone follows a direct link to a resource on the LTI tool instead of arriving from the platform able to authenticate. baseurl was needed since, as you discovered, the app registration doesn't use the vanity urls for the instance of canvas, and I thought this preferable to parsing it from the NPRS or AGS urls, if provided.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 1, 2024, 9:49 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Thanks Liam. Had a busy week so only now getting chance to look at your reply in detail. RE: $Canvas.user.loginId We needed the canonical username for user account creation instead of the obfuscated LTI sub username so that we can launch LTI activities from the Moodle LTI tool with the same user that the platform would use. (For example, so they see their video collection in our video management system). The lis_person_sourcedid is provided with sync_members data from the NRPS, but not with launch data (Moodle's mod_lti sends it in claim at launch, so great job, HQ). This might be of interest to me I think, but I think I must have the setup wrong.  In the Canvas Developer Key settings for the moodle as a tool setup, under the Additional Settings I added the customer parameter: `User.username=$Canvas.user.loginId` I was trying to get new LTI accounts in moodle created the login name they have in Canvas, but the accounts in moodle were still created with the obfuscated LTI sub username.  Have I got that right?  The problem could also have been down to my testing process which relied on Canvas impersonation of a test user or another aspect of my test. Thanks, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 7, 2024, 7:35 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "This is a core hack that I haven't refined enough for a potential contribution... Here's the essential change we've used in production for almost a year . That's part of this issue , to allow for site-administration controls of auth_lti.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2024, 1:12 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Thanks. Sadly, I won't be able to add hacks to my moodle code because of our internal policy. However, I have \"upvoted\" the issue you raised in the Moodle Tracker .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2024, 3:40 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "FYI , Canvas student impersonation users are a little odd: They provide these roles: \" http://purl.imsglobal.org/vocab/lis/v2/membership#Learner \", \" http://purl.imsglobal.org/vocab/lis/v2/system/person#User \", \" http://purl.imsglobal.org/vocab/lti/system/person#TestUser \" And no email address. as I recall.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2024, 1:17 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Those links are dead, but it's fine I think. I didn't experience any problems with impersonations. I had accounts created in moodle with email address after the users sync and I had scores being pushed back from moodle to Canvas without any issue. For my use case, we only need moodle as a tool to run quizzes (using the STACK question type predominantly). Cheers for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2024, 4:15 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Are you trying to set this up in a Canvas Free for teacher account? that would be the only DNS using canvas.instructure.com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 23, 2024, 12:58 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "I don't believe that is so: all of my working integrations use that fqdn (or canvas.test.instructure.com) for platformid, authenticationrequesturl, jwksurl, and accesstokenurl in the enrol_lti_app_registration tables. The LTI Advantage service endpoints use the instance-specific vanity URLs, though. I recall finding the launch URLs odd when I first successfully configured an integration with Canvas.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 23, 2024, 7:50 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Thanks Liam, this is really helpful. I've put together a manual setup guide based on the one you shared and have sent this to a partner to test. I'll post an update here with the result l along with any additional info that others might find useful.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2024, 3:33 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "Possibly helpful (but also maybe not): When I tested end to end in Canvas back when building this (manual registration method only), they had a bug with their JWKS URL implementation meaning I had to manually use the key by copy-pasting it from the Moodle tool JWKS into Canvas. Iirc, there were a few posts on Canvas forums about this, but I also assume that it's probably now patched (though maybe not?). Probably not the source of your pain, but just something else that came to mind with Canvas.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2024, 4:47 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Dynamic Registration / Moodle > Non-Moodle LMS",
          "Text": "For anyone else planning to do this manually, you can check out what worked for me. Link below. If you have any suggestions to improve my document, please let me know so I can update it. Thanks! https://git.charlesbeadle.tech/charles/documentation/src/branch/master/Moodle/moodle-canvas-lti-advantage.md",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 9, 2024, 3:09 AM",
          "AuthorName": "Charles Beadle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5356087&course=5",
          "role": [
            "Picture of Charles Beadle"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463570,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463570",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Teams Assignment LTI v1.3 Advantage",
          "Text": "Hi everyone, Just checking if the Microsoft Teams Assignment LTI v1.3 Advantage has been implemented in Moodle? The overview article is here https://learn.microsoft.com/en-us/microsoft-365/lti/?view=o365-worldwide#teams-assignments-lti . It mentions Canvas and Schoology, but not specifically Moodle. We are keen to connect our Microsoft Teams classroom assignments with Moodle. Thanks! Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 8, 2024, 8:43 AM",
          "AuthorName": "Michael Woods",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=285779&course=5",
          "role": [
            "Picture of Michael Woods",
            "Picture of Core developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Teams Assignment LTI v1.3 Advantage",
          "Text": "For reference LTI integrations generally dont require any implementation in an LMS. That said the MS Teams assignment LTI uses some non-standard extensions provided by Canvas and Schoolology to achieve the way their assignments LTI works.  I dont believe it will work with Moodle because of this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 8, 2024, 9:25 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463157,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463157",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Can we pass a user's api-token as custom-parameter in an lti-launch",
          "Text": "We are developing a module that requires the use of the Rest-api's in Moodle, but we really don't want to store any user-credentials in our system, as the user is passed in via a regular LtiResourceLinkRequest-launch.  So passing a fresh token in this laucnh will enable us to call the rest-api's in Moodle using the current user's token rather than calling a new login at Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2024, 8:35 PM",
          "AuthorName": "Frode Halvorsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3972581&course=5",
          "role": [
            "Picture of Frode Halvorsen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can we pass a user's api-token as custom-parameter in an lti-launch",
          "Text": "Hi Frode, Unfortunately, not right now. You can see the substitution params list here: https://github.com/snake/moodle/blob/777d00ef37e8588a2ba74cea302e9553c2f0e85d/mod/lti/locallib.php#L3868 We definitely need to consider how we want to achieve this kind of thing in future though. I recall a few similar requests in the past.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 24, 2024, 11:36 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Svar: Re: Can we pass a user's api-token as custom-parameter in an lti-launch",
          "Text": "Ok - is there any url that can be used for a logged in user to get an api-token ? Because if there is, we can use that instead, since the user doing the lti-launch has a valid UI-session in Moodle, than then can be used to obtain the token.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 24, 2024, 5:28 PM",
          "AuthorName": "Frode Halvorsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3972581&course=5",
          "role": [
            "Picture of Frode Halvorsen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458410,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458410",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Deeplink error only in moodle 4.3",
          "Text": "When I add a resource with deeplink in moodle 4.3 I get this error. Exception - mod_lti\\local\\ltiopenid\\jwks_helper::fix_jwks_alg(): Argument #1 ($jwks) must be of type array, null given, called in [ dirroot ]/mod/lti/locallib.php on line 1335 In version 4.1 of Moodle everything is ok.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 13, 2024, 9:05 PM",
          "AuthorName": "Miguel Mc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6455657&course=5",
          "role": [
            "Picture of Miguel Mc"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Deeplink error only in moodle 4.3",
          "Text": "this is de log in moodle Output buffer: string(3) \" Blocked http://localhost:3000/keys: The URL is blocked. [user 2] line 111 of /lib/classes/event/url_blocked.php: call to debugging() line 785 of /lib/classes/event/base.php: call to core\\event\\url_blocked->validate_before_trigger() line 3962 of /lib/filelib.php: call to core\\event\\base->trigger() line 3785 of /lib/filelib.php: call to curl->trigger_url_blocked_event() line 4052 of /lib/filelib.php: call to curl->request() line 1616 of /lib/filelib.php: call to curl->get() line 1332 of /mod/lti/locallib.php: call to download_file_content()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 13, 2024, 9:44 PM",
          "AuthorName": "Miguel Mc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6455657&course=5",
          "role": [
            "Picture of Miguel Mc"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deeplink error only in moodle 4.3",
          "Text": "lib/classes/event/url_blocked.php suggests Moodle can't access the JWKS URL, meaning it won't be able to continue with the deep linking. I'd check your site's HTTP Security > Blocked Hosts (and perhaps allowed ports), to see what's different there between your 4.1 site and your 4.3 site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 16, 2024, 2:54 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deeplink error only in moodle 4.3",
          "Text": "It caused by cURL cannot access the JWKS keyset URL, it happens to me on local development, just go to http://yourmoodle.local/admin/settings.php?section=httpsecurity and on the cURL blocked host list, I delleted localhost and related since it run on local development and uses localhost, then everything works perfectly",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1859595/image.png"
          ],
          "Time": "Thursday, October 24, 2024, 3:32 PM",
          "AuthorName": "Hendri Triwanto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2169780&course=5",
          "role": [
            "Picture of Hendri Triwanto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deeplink error only in moodle 4.3",
          "Text": "hello was this error solved?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 29, 2024, 8:12 PM",
          "AuthorName": "Siddharth Roychoudhury",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6057907&course=5",
          "role": [
            "Picture of Siddharth Roychoudhury"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deeplink error only in moodle 4.3",
          "Text": "Was there a solution to this error? I am getting the same with a deep integration with Pearson's Math Lab.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 11, 2024, 12:43 AM",
          "AuthorName": "Frank Szatkowski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4269&course=5",
          "role": [
            "Picture of Frank Szatkowski"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deeplink error only in moodle 4.3",
          "Text": "Could you elaborate what is your setup like. What steps did you take to implement deeplinking for Pearson's Math Lab ? A bit of a background, I was a in a similar situation and I finally got a break through after reading docs and advices scattered across the internet, I was finally able to implement all features ( other than dynamic reg.-since not all LMSes support it yet  ) I recorded everything here link I got this same error when I was working with moodle locally using http domain . If you are on a similar path may be the article might help. I hope my answer did not throw you off on a tangent and sincerely hope it helps.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, September 11, 2024, 2:56 AM",
          "AuthorName": "Siddharth Roychoudhury",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6057907&course=5",
          "role": [
            "Picture of Siddharth Roychoudhury"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462499,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462499",
      "NoOfResponses": 17,
      "ResponsesInList": [
        {
          "Title": "JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "This bug was apparently also found in older 4.x version ( https://moodle.org/mod/forum/discuss.php?d=443389 ) and was supposed to be fixed in https://tracker.moodle.org/browse/MDL-77077 but im seeing this still when testing with Moodle 4.3.7+. I cloned the MOODLE_403_STABLE branch. My JWKS come from an Azure Key Vault and technically the key is not bound to a single algorithm. (RS256 or RS512, work both) so if i can prevent it I would not want to add the alg to the JWK. Is this something that can be fixed again? Below an example of a key from my keyset url and the stacktrace in moodle",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1856860/image%20%281%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1856860/image.png"
          ],
          "Time": "Monday, September 30, 2024, 9:28 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Hi Tom, I've just checked and the original issue is still being fixed by the current patch. I can step through the code on 4.3.7+ here and see it setting the missing alg on the key, as it runs the code inside fix_jwks_alg(), at least with the sites we test with (per that MDL). So, at the very least, we know that it can work. You may need to debug and step through the content item return from your tool. There are paths which will skip the key fix, such as if the kid in the JWT header doesn't match the kid in the key . Basically, I think we're going to need to dig into this and find out exactly why the fix isn't working for your specific key/launch. If you could provide any further information, e.g. the JWT headers or any information you glean from debugging further, that would be helpful. Many thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2024, 1:08 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Hi Jake, Thanks for the quick response, I checked the implementation in Moodle (im not a php dev) but I couldn't figure out at first glance what could cause this. Here an example of a header with the corresponding key on jwks endpoint. As you can see the the kid matches. Note that this key is one of multiple that are given back as an array. So maybe check if it can handle the array of jwks correctly? Our LTI implementation has been live in an brightspace setting for years so I'm pretty confident that the code is sound at its core. \n```text\n{\n      \"kty\": \"RSA\",\n      \"e\": \"AQAB\",\n      \"kid\": \"\nhttps://slimstampen-vault-dev.vault.azure.net/keys/lti-signing-key/0edc5c112e024c5598203201e30cd3d5\n\",\n      \"key_ops\": [\n        \"sign\",\n        \"verify\",\n        \"wrapKey\",\n        \"unwrapKey\",\n        \"encrypt\",\n        \"decrypt\"\n      ],\n      \"n\": \"x0d5B1dp8GgZ7mGvEdIeiJK3EKaAxinwKFlAQy_DpcNDnDfjfS3bIUmAfM6dQcGsLg9GBo2eTGkYe0iNHE68wtMbkZvAEUUiB3cHhkw2QVZYE005vbrqeNKlJPgXVWf78XScEt3Nsg6LarEkWaawL1KlsP0vDnmxu-rN-iORB9HXWoPEAf83uoq6H83RNmY3DXefI4uJNDE1SP5_fv1wmeCUwj8HylLABbDsatZBLIlRAQ-UT-QZSsisv-JI6U5cWk5oRb8Jo6ap6OnH3KrNTX6RbW2ylwk2tQOPsfQbEUmhLpNy0KZBiXjSfxQvnPUGtSphNMdrm0iFA8KlrWGWKQ\"\n    },\n```",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1856932/image.png"
          ],
          "Time": "Tuesday, October 1, 2024, 2:35 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Thanks Tom. I think that's almost ruled that one out then. Was worth a shot. I'll have to try to take what you've got above and step through it locally when I get a few mins spare (currently one week out from major release, so time poor). Hopefully, it'll be something obvious then and we can get started on a fix. Any chance you can share the public JWKS URL here? Would be great to pipe in the exact same data you're using. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2024, 3:26 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Hi, You can use https://app.test.slimstampen.nl/ruggedlearning/.well-known/jwks.json note this is our test env. So it has different key ids but otherwise its the same. Thanks for looking into this",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2024, 4:19 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Any luck finding some time to look into this? Deeplinking is currently the only thing that doesn't work in Moodle, so it would be great if we could resolve this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 9, 2024, 5:13 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "I can't figure out why it wasn't failing the unit tests, but is it that fix_jwks_keys is only adding the alg parameter to the key with the matching kid and skipping the others in the jwks' keys array, while parseKeySet is calling parseKey on all of them? The keys that didn't have alg added are throwing the reported exception. In any case, when php-jwt was upgraded to 6.4.0 , the call to parseKeySet in the exception block could have made use of that function's newly added second parameter of $defaultAlg (that wasn't available in Moodle until 2 months after MDL-77077 was patched). The discussion around the upstream pull request for this parameter and later asking why alg is required is consistent with this as the intent of that parameter. A function like fix_jwks_keys could simply return the header alg and use that if it's supplied or else fall back on 'RS256' as the presumed php-jwt default algorithm as per the comment in locallib.php when calling parseKeySet added when that library was upgraded to 6.0.0. Putting that new parameter to use would fix Tom's problem in this instance, I'm pretty sure.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 10, 2024, 9:44 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "See my other comment here. Yes, that's the cause, but that solution isn't one I'm overly fond of.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 10, 2024, 12:41 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Thanks for the bump. I did indeed, this morning. It's a case of a missing alg, post-fixing, for only those keys not matching the kid in the JWT header. You can see this exact case being verified in the test data provider , however, since there's no coverage of the actual decoding (along with a lot of stuff in mod_lti, frankly), we missed this one. I've put up a patch for this at MDL-83423 . At this point in the code, we know that we're only going to decode using one matched key (based on kid in JWT header), and either: - that key has an alg in the JWKS (not fixed) or; - that key didn't have an alg in the JWKS (and we fixed it). All other keys can just be dropped at this point in time since they won't be used during decode anyway. Note also: 4.3.x is now security support only, so won't get any fix. It's a candidate for 4.4, 4.5 and main only. It's also worth noting that while we're migrating a huge amount of our mod_lti code to a core subsystem, we're only accepting very small numbers of changes to mod_lti right now (read: basically a mod_lti specific code freeze). I've marked this one major, however, and will raise getting it into the upcoming minors, given the impact.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 10, 2024, 12:40 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Thanks for looking into this, glad my lti integration can be left untouched Ill upgrade my development version and wait for the patch.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, October 10, 2024, 3:08 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Filtering out the unused keys is a good strategy. I checked the jwt RFCs for guidance on whether an informative error should be thrown if the jwt doesn't include alg signing metadata either and conclude \"Not a plausible error\", and also note this section from IETF's RFC-8725 that supports your reluctance to fall back onto a default algorithm.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 10, 2024, 8:02 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Can you give me a heads up when I can try it in 4.4 or 4.5?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2024, 5:03 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Our next minors are due to be released on Monday December 9th, 2024. This fix will be included there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 17, 2024, 10:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Is there anyway to get access to this earlier, because this is almost 2 months away..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 17, 2024, 3:10 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "You'll need to pull the patch and apply it to your codebase. You can see the code linked in the issue - MDL-83423",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 18, 2024, 10:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Thanks, I can now confirm that this fixes my issue",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 22, 2024, 8:35 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain an \"alg\" parameter (Moodle 4.3.7+)",
          "Text": "Great to hear. Thanks for confirming, Tom!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2024, 9:08 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463054,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463054",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Using OAuth 2.0 to Access Moodle Web Service API from an External Tool",
          "Text": "Hello everyone, I am currently developing an external tool for Moodle that uses LTI 1.3, and I need to access Moodle Web Service API functions from the tool. Specifically, I’m looking for guidance on how to obtain an access token via OAuth 2.0 authentication in the context of LTI 1.3, so I can make API calls. Has anyone successfully implemented this or could offer advice on how to get the token and use it for API access? Any help would be greatly appreciated. Thank you in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 19, 2024, 5:47 PM",
          "AuthorName": "Gordana Tasic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5636002&course=5",
          "role": [
            "Picture of Gordana Tasic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using OAuth 2.0 to Access Moodle Web Service API from an External Tool",
          "Text": "At present, these are separate concepts in Moodle (web services vs LTI services). The LTI token is only valid for LTI services, while work is underway to modernise the web services in general (/ MDL-76834 ), and that probably will involve adding the ability to access these using OAuth2. At this stage, there isn't formal support for doing this via LTI, however.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 22, 2024, 9:03 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462916,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462916",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Using LTI to return grade to Moodle from external activity",
          "Text": "Hi All One of my clients uses LTI to launch an external test activity and passes the user credentials as part of the process. Once the user finishes the test is closed. Once the test has been checked usually within 24 hours they currently use Zappier to send the grade back to Moodle. Is there a way to return the grade using LTI instead of Zappier? Thanks Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 15, 2024, 7:01 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using LTI to return grade to Moodle from external activity",
          "Text": "Hi Gareth, Yes, there sure is. The preferred method is to use the Assignment and grade services (AGS - see https://www.imsglobal.org/spec/lti-ags/v2p0 ) to return the grade. The tool will obviously need to support this specification in order for that to work. Moodle already supports it on the platform/launch side, provided the service and \"Accept grades from the tool\" are both enabled on the tool configuration. Cheers Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2024, 9:08 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using LTI to return grade to Moodle from external activity",
          "Text": "Excellent, thanks for the prompt response Jake. Cheers Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2024, 4:51 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461714,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461714",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Learn LTI not generating user account",
          "Text": "Hi all! We have had an issue with 2 course instructors being unable to access their course through the LTI link in learn. For both of them, it gives them a message in the top left that they are 'logged in as a guest'. We have tried;\n- Several browsers, several devices and cleared caches. Thus, it should not be a cookies issue.\n- Removing the person and their preview account from the course and re-enrolling them. Thank you for any help!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1853830/Screenshot%202024-09-04%20132305.png?forcedownload=1"
          ],
          "Time": "Wednesday, September 4, 2024, 9:00 PM",
          "AuthorName": "Hayden Maudsley-Barton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6544924&course=5",
          "role": [
            "Picture of Hayden Maudsley-Barton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Learn LTI not generating user account",
          "Text": "Hi Hayden, Can you add some more information about your setup? Are you saying that you're consuming Moodle's \"Publish as LTI tool\" from Blackboard learn? Something else? What version of Moodle are you running? How have you configured LTI? Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 5, 2024, 8:35 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Learn LTI not generating user account",
          "Text": "Hi Jake, Yes it is the publish as LTI tool, which should pull enrollments when a user clicks the link in Learn. We are on moodle 4.1.13. I am not sure how the LTI is configured as that is run centrally. Sorry that that is not very helpful. Thank you, Hayden",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 5, 2024, 4:27 PM",
          "AuthorName": "Hayden Maudsley-Barton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6544924&course=5",
          "role": [
            "Picture of Hayden Maudsley-Barton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Learn LTI not generating user account",
          "Text": "Hi Hayden: I've never encountered this issue before, but my best guess is that the platform's Instructor role is being erroneously mapped to Guest for this resource.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 6, 2024, 2:03 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Learn LTI not generating user account",
          "Text": "I will look into this, thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 6, 2024, 4:05 PM",
          "AuthorName": "Hayden Maudsley-Barton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6544924&course=5",
          "role": [
            "Picture of Hayden Maudsley-Barton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Learn LTI not generating user account",
          "Text": "Hi Liam, This does not seem to be the issue, no roles are mapped to guest. Thank you, Hayden",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 9, 2024, 4:00 PM",
          "AuthorName": "Hayden Maudsley-Barton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6544924&course=5",
          "role": [
            "Picture of Hayden Maudsley-Barton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Learn LTI not generating user account",
          "Text": "I'm not very familiar with guest access, but read up a bit over the weekend. I assume this course isn't in use and it would not be disruptive to disable the guest enrolment method for this course. You'll need to get enrol lti to throw some launch errors you can work with since it must be bypassing lti enrolment and using guest.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 9, 2024, 8:15 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Learn LTI not generating user account",
          "Text": "Hi Liam, yes, the course is/was in use, unfortunately. Additionally, we have a server freeze from August in preparation for the new semester. However, we have now managed to reproduce this issue on a seperate server so we will give this a go! Thank you for the suggesion",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, September 16, 2024, 4:50 PM",
          "AuthorName": "Hayden Maudsley-Barton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6544924&course=5",
          "role": [
            "Picture of Hayden Maudsley-Barton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Learn LTI not generating user account",
          "Text": "I have how the LTI was set up \"The connection has been set up following manual registration from here: https://docs.moodle.org/400/en/Publish_as_LTI_tool#LTI_Advantage.2C_LTI_1.1_or_LTI_2.0.3F with support from (Add an LTI 1.3/Advantage Tool): https://help.blackboard.com/Learn/Administrator/SaaS/Integrations/Learning_Tools_Interoperability#add-a-new-lti-tool-provider_OTP-3 The plugin that makes the connection is based on the standard Moodle LTI plugin with some changes that were required for STACK .\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 6, 2024, 4:05 PM",
          "AuthorName": "Hayden Maudsley-Barton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6544924&course=5",
          "role": [
            "Picture of Hayden Maudsley-Barton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Learn LTI not generating user account",
          "Text": "For anyone in the future with this issue: This occurred due to the setting This Plugins / Manage authentication / Available authentication plugins / Guest login button being on. This meant that some COs on first access to the site, mistakenly clicked to attach an existing account to the LTI rather than create new account. Then on the login page they clicked 'access as guest'. This attached the guest role to their LTI account and locked them into this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 15, 2024, 6:15 PM",
          "AuthorName": "Hayden Maudsley-Barton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6544924&course=5",
          "role": [
            "Picture of Hayden Maudsley-Barton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Learn LTI not generating user account",
          "Text": "So the fix was to disable that authentication method and then delete all the rows in auth_lti_linked_logins where userid is 1 (or whatever id guest is in the users table) to allow the affected users to create new lti-auth accounts?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 15, 2024, 7:35 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462388,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462388",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Issue with LTI Integration: \"Refused to frame due to Content Security Policy\" Error",
          "Text": "Hello everyone, I am trying to implement LTI in Moodle to access a course from one Moodle instance to another. However, I’m encountering an issue where the course fails to load, and I receive the following error: \"Refused to frame ' https://lmsxxxxxxx.com ' because an ancestor violates the following Content Security Policy directive: 'frame-ancestors 'self'.\" Has anyone experienced this issue before or know how to resolve it? I’ve checked my LTI setup, but I’m unsure if the problem lies with Moodle’s configuration or the Content Security Policy settings. Any guidance or suggestions would be greatly appreciated. Thanks in advance!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1856446/Screenshot%202024-09-26%20144401.png"
          ],
          "Time": "Thursday, September 26, 2024, 3:45 PM",
          "AuthorName": "Feki Pangestu Wijaya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6577145&course=5",
          "role": [
            "Picture of Feki Pangestu Wijaya"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Issue with LTI Integration: \"Refused to frame due to Content Security Policy\" Error",
          "Text": "Have you checked the request in your browser's dev tools? Is that Content-Security-Policy header( https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy ) being sent in responses from the tool site?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 26, 2024, 4:29 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issue with LTI Integration: \"Refused to frame due to Content Security Policy\" Error",
          "Text": "Yes, I checked the request in the browser's dev tools, and I see that the Referrer-Policy is set to strict-origin-when-cross-origin. Could this be contributing to the issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 26, 2024, 10:20 PM",
          "AuthorName": "Feki Pangestu Wijaya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6577145&course=5",
          "role": [
            "Picture of Feki Pangestu Wijaya"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issue with LTI Integration: \"Refused to frame due to Content Security Policy\" Error",
          "Text": "I found the solution, the issue was related to the Content Security Policy between the two websites. Thank you for your insight!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 11, 2024, 3:04 PM",
          "AuthorName": "Feki Pangestu Wijaya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6577145&course=5",
          "role": [
            "Picture of Feki Pangestu Wijaya"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issue with LTI Integration: \"Refused to frame due to Content Security Policy\" Error",
          "Text": "I'm encountering an issue when trying to add material. I get the following error: The loading of “ https://lmsmoodle/enrol/lti/launch_deeplink.php” in a frame is denied by the “X-Frame-Options” directive set to “sameorigin” , and the screen goes blank. When I click on the URL to check further, I receive a message. Do you have any idea why this is happening? FYI , this is my configuration",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1858271/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1858271/image%20%281%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1858271/image%20%283%29.png"
          ],
          "Time": "Monday, October 14, 2024, 11:58 AM",
          "AuthorName": "Feki Pangestu Wijaya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6577145&course=5",
          "role": [
            "Picture of Feki Pangestu Wijaya"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issue with LTI Integration: \"Refused to frame due to Content Security Policy\" Error",
          "Text": "Have you enabled \"allow frame embedding\" on the tool site? You need that option enabled.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 14, 2024, 1:04 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issue with LTI Integration: \"Refused to frame due to Content Security Policy\" Error",
          "Text": "Yes, I enable it on both websites This is for the first site this is in the other site",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1858287/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1858287/image%20%281%29.png"
          ],
          "Time": "Monday, October 14, 2024, 2:11 PM",
          "AuthorName": "Feki Pangestu Wijaya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6577145&course=5",
          "role": [
            "Picture of Feki Pangestu Wijaya"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issue with LTI Integration: \"Refused to frame due to Content Security Policy\" Error",
          "Text": "I've already solved the previous issue by modifying the CSP configuration on my server . However, now I'm encountering a new error message when trying to import a course. Any insights on what might be causing this?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1858447/image.png"
          ],
          "Time": "Tuesday, October 15, 2024, 3:06 PM",
          "AuthorName": "Feki Pangestu Wijaya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6577145&course=5",
          "role": [
            "Picture of Feki Pangestu Wijaya"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issue with LTI Integration: \"Refused to frame due to Content Security Policy\" Error",
          "Text": "You need to configure the sites to be able to talk to one another. Go to \"Site admin > HTTP Security > Blocked hosts\" and make sure the hosts and ports are set properly there. By default, all localhost-related connections are blocked, which is why you'd see that error commonly on a dev setup. Can't speak for your setup, but that's the place to configure it at least. HTH , Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 15, 2024, 4:59 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462620,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462620",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 tool (McGraw Hill) does not display grade item if feedback is entered",
          "Text": "Environment:  Moodle 4.1.13 Using LTI 1.3, added McGraw-Hill Connect.  Professor successfully created an External Tool and deployed an activity (Chapter 1 HW).  Then, synched grades from McGraw-Hill system. Grades successfully deployed.  Professor went into Gradebook, edited grade item for one student, added a comment to \"Feedback\".  In User View, the assignment grade is now not visible - the whole row for that assignment is not visible - but the category grade accurately reflects the student's grade. Hiding the grade item, then making it visible did not change this behavior.  Deleting the feedback comment (including all the hidden HTML) did not change this behavior.  Multiple attempts to make the grade item visible in the User Report failed.  Ultimately, the professor deleted the activity and recreated it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 5, 2024, 12:55 AM",
          "AuthorName": "Joe Kennedy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1525097&course=5",
          "role": [
            "Picture of Joe Kennedy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 462551,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462551",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle support for LTI postmessage",
          "Text": "We have build a cookieless LTI using the LTI postmessage spec. https://www.imsglobal.org/spec/lti-pm-s/v0p1 We use this for LTI authentication when users use Safari or do not accept 3rd party cookies. This works fine in Brightspace, but it doesnt seem to work out of the box in Moodle. After some digging I found https://tracker.moodle.org/browse/MDL-72022 . So apparently Moodle does not support this yet. Is there an estimation when this is coming? This might become problematic quite soon when Chrome decides to stop just warning and start enforcing 3rd party cookie limitations.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 2, 2024, 8:57 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle support for LTI postmessage",
          "Text": "There is currently a large piece of work to migrate the LTI implementation into a core subsystem from being a module.  This is targeted for Moodle 5.0. The cookie shim work can't be done until this is complete but given the move toward blocking cookies for a number of browsers it will likely be looked at mid next year.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 3, 2024, 8:46 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle support for LTI postmessage",
          "Text": "Hi Tom, I'd just like to point out that, right now, that's not strictly a blocker to tool use in Safari. Of course if you've built the tool around that spec, then it is. Ideally, you'd be able to support the Storage Access API ( https://developer.mozilla.org/en-US/docs/Web/API/Storage_Access_API ) to include users in the process and allow them to opt in to the cookie storage, and you'd be fine without the need for any optional specs like this. Also, the Google/Chrome situation is a bit of a mess, yes, but also not a blocker at present. They've recently changed tack and left behind their original plans but haven't yet, afaik, provided any clear path forward. Right now, however, CHIPS works fine and allows embedded tools.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 3, 2024, 9:05 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle support for LTI postmessage",
          "Text": "Hi Brett, Jake, I understand that there are different options for chrome, but the reason for the LTI spec existing is of course that you can implement the spec and that it then works safely in all platforms that support it. So we're not really keen to create a separate implementation for Moodle. I think for now we'll need to accept that safari is not support on moodle for the time being.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 3, 2024, 3:18 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462520,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462520",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Adding a basic launch item for teachers only",
          "Text": "Our LTI tool can be used to add deeplinks to a course to add a specific assignment and the setup for that is pretty straightforward. In addition to this I want to have a basic launch where a teacher can login to the tool and manage his content using the LTI authentication. In Brightspace I could create a separate 'activity' or link and add it to the course menu where only teachers could use this link. I figured out I can create a basic launch by creating an activity and not select content, but this is not quite what I am looking for since this would also make it available to students and a teacher has to add this themselves Is it possible to add a basic launch item in the course menu somewhere whit which a teacher could access the tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2024, 8:16 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Adding a basic launch item for teachers only",
          "Text": "Tom, its not possible at this time. However the current work we are doing as part of bringing LTI into core aims to make use cases like this easy to achieve in the future. The aim is for this to land in Moodle 5.0 at this point. In the mean time you could add an activity to the timeline for the teachers and have that activity hidden from students or set to unavailable. I understand this is far from ideal but until we implement the new changes its about the only option.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 2, 2024, 9:21 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding a basic launch item for teachers only",
          "Text": "Is there a way for an admin to add this to all or a group of lessons? Or this only possible by adding this item manually to every course..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 2, 2024, 2:58 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding a basic launch item for teachers only",
          "Text": "Right now, tools must be added to every course they are used in, yes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 3, 2024, 8:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462501,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462501",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "External Tool outside the activity picker ... WHY??",
          "Text": "Hi there, Long time no post. The external tool no longer appears on the activity picker. External tool has been moved in a weird place on the \"more \" menu of the course, the interface does not make much sense and several LTI users have asked help about it directly to me. Please fix this interface issue or update the documentation here https://docs.moodle.org/311/en/External_tool Cheers!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 30, 2024, 10:05 PM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool outside the activity picker ... WHY??",
          "Text": "Hello there and nice to hear from you. That documentation refers to Moodle 3.11 and the external tool was moved in Moodle 4.3 so the documentation reflects this from 4.3 onwards: https://docs.moodle.org/403/en/LTI_External_tools (and also https://docs.moodle.org/404/en/LTI_External_tools and canonical link: https://docs.moodle.org/en/LTI_External_tools )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 30, 2024, 10:40 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool outside the activity picker ... WHY??",
          "Text": "Hi Ludo, It's configurable per tool. Either via the tool configuration at site admin, or via the \"Show in activity chooser\" toggle on the course tools page.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2024, 1:12 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool outside the activity picker ... WHY??",
          "Text": "Thanks, Jake and Mary, the \"Show in activity chooser\" toggle on the course tools page, is the key. IMO should be show by default, but now I know is there my problem is fixed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 2, 2024, 9:36 PM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool outside the activity picker ... WHY??",
          "Text": "That toggle default was chosen in order to respect the existing default behaviour for site tools. Site tools, according to their own default settings (See \"Tool configuration usage\") are not shown in the activity chooser in courses. When we added course-level overrides for this setting (i.e. the toggle), we didn't change that behavior. It's opt-in. If, however, a site tool is configured with \"Show in activity chooser and as a preconfigured tool\" then you'll see that toggle is enabled in all courses. Then, it becomes a per-course opt-out, rather than an opt-in as above.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 3, 2024, 8:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462512,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462512",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Legacy Moodle tool does not distinguish between LTI users",
          "Text": "Good day everyone! We have been trying to solve the problem for a month now. The external system accesses Moodle as LTI-tool. Version 1.1 (yes, we know that it is outdated, but it is the only thing the external system supports). The problem is that each external user is recognized by Moodle as the same user. So when a second user opens a Moodle page via LTI, they see the first user's grades. What data is transmitted by the external system: \n```text\nlis_outcome_service_url=\nhttps://stepik.org/<span\n class=\"speller-hint\" data-toggle=\"popover\" data-hint=\"0\" data-original-title=\"\" title=\"\">lti</span>/result/\nlis_result_sourcedid=62beeaa6-9c4b-49d1-879c-3643d95b65fa\n<span class=\"speller-hint\" data-toggle=\"popover\" data-hint=\"1\" data-original-title=\"\" title=\"\">lti</span>_message_type=basic-<span class=\"speller-hint\" data-toggle=\"popover\" data-hint=\"2\" data-original-title=\"\" title=\"\">lti</span>-launch-request\n<span class=\"speller-hint\" data-toggle=\"popover\" data-hint=\"3\" data-original-title=\"\" title=\"\">lti</span>_version=LTI-1p0\noauth_callback=about:blank\noauth_consumer_key=jisc.ac.uk\noauth_nonce=1c497d34-67e7-40af-af6d-8ace3d9ce1\noauth_signature=wDI2McWCXM4ab7GkoEV3JjbJA=\noauth_signature_method=HMAC-SHA1\noauth_timestamp=1727452915\noauth_version=1.0\nresource_link_id=29466-50eb-4edf-b908-243106ba0ec6\nroles=Learner\ntool_consumer_info_product_family_code=stepikorg\ntool_consumer_info_version=1.0\n\ntool_consumer_instance_contact_email=help@stepik.org\n\ntool_consumer_instance_description=Stepik\ntool_consumer_instance_guid=stepik.org\ntool_consumer_instance_name=Stepik\ntool_consumer_instance_url=\nhttps://stepik.org\n```\n User ID and Step ID are encrypted in lis_result_sourcedid by the external system. Please help with the following questions: 1. What information might Moodle lack from an external system to distinguish between users? 2. How to log on the Moodle side what LTI data was sent by the external system? Thank you all in advance, have a nice day! (Edited by Jake Dallimore - original submission Tuesday, October 1, 2024, 3:12 PM)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2024, 3:12 PM",
          "AuthorName": "Lilia Urmazova",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5383804&course=5",
          "role": [
            "Picture of Lilia Urmazova"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 462441,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462441",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to get Google Workspace LTI setup?",
          "Text": "We have been using the Assignments LTI in our Moodle for years, and suddenly this week it's stopped working. Anyone who attempts to use it gets an error that says the Workspace LTI is not configured correctly. However, I cannot find any info on how to configure it correctly.  I've been trying to find info from Google, and all they reference are Schoology and Canvas applications.  They reference 'other LMSs', but any time I try to find specifics, I get nothing. When I search their pages, I get results that seem promising but when I attempt to open these posts and help pages, I get a Page Not Found. Is anyone else having this issue?  How did you resolve it?  Is Assignments LTI just dead to us now? We are on Moodle 4.2.10",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 27, 2024, 9:47 PM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to get Google Workspace LTI setup?",
          "Text": "Well, I think I figured it out, no thanks to Google. I found that the Tool URL had unceremoniously changed to https://assignments.google.com/lti/a . Thanks to D2L for publicly posting this tidbit!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 28, 2024, 1:33 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462358,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462358",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Content selection - 'Add to gradebook' shown when grade sync is turned off",
          "Text": "Hi, When we turn grade sync off on an activity (e.g. a quiz) in the tool, the option to 'add to gradebook' is still offered in the platform's content selection window. This is confusing for users who would reasonably expect to be able to add it to their gradebook if offered. It looks like the option to 'add to gradebook' is based on the activity type alone - I'm wondering whether there's a good reason for this, or whether it's one for the tracker?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1856336/gradesyncon.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1856336/addtocourse.png"
          ],
          "Time": "Wednesday, September 25, 2024, 7:07 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Content selection - 'Add to gradebook' shown when grade sync is turned off",
          "Text": "Hi Greg, Yep, it's just based on supports grading at the moment. You can find that code here: https://github.com/moodle/moodle/blob/aea624fcb0229d40568850c9de808de2155d4beb/enrol/lti/classes/output/renderer.php#L88 There is definitely a lot of room for improvement on this view and there are other issues dealing with that in a more general sense, but I think this one warrants its own tracker issue given how self contained it will likely be. I'd say that we'd want to check both $resource->supportsgrades AND $resource->gradesync there to address the issue you've reported. However, we may also wish to include in the scope, the ability to also check the ags claim in the deep linking launch; a missing claim may also be a good reason to omit the 'add to gradebook' column here. We can check that claim using $launch->getLaunchData(). If you create the issue, I'll happily triage it. If you could link it here, that would be awesome! Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 26, 2024, 9:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Content selection - 'Add to gradebook' shown when grade sync is turned off",
          "Text": "Thanks Jake, I've added the tracker issue here - https://tracker.moodle.org/browse/MDL-83281",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 26, 2024, 8:41 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462337,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462337",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Can LTI pass over time-zone information?",
          "Text": "As we know, Moodle lets students set thier time zone in their user profile. And, for a number of other learning tools, which you might want to link to using LTI, it would be helpful for the tool to know the users time-zone? Is there a way for LTI to pass this information over? I have not been able to find one. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2024, 12:51 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can LTI pass over time-zone information?",
          "Text": "Tim LTI has \"Custom Paramater Subsitiutions\" as an optional extension in LTI 1.1 and 1.3, one of which is $Person.address.timezone which I believe is UTC + offset. These variables are entirely optional are not all supported on either side of the equation. I dont think Moodle current supports this one at this time.  A similar mechanisim can be used to pass due dates to and from tools (resourse link variables for start date, release date etc), and this is something I want to look at in future so dates can be managed in one place for LTI tools, opposed to having disconnected dates between Moodle and the toos, we could look at some other variables then.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2024, 7:58 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can LTI pass over time-zone information?",
          "Text": "Hi Tim, Yep, we support this. See https://github.com/moodle/moodle/blob/777d00ef37e8588a2ba74cea302e9553c2f0e85d/mod/lti/locallib.php#L3899 . If you configure the tool with a custom param, like so: usertimezone=$Person.address.timezone you'll see this come through in the ' https://purl.imsglobal.org/spec/lti/claim/custom' claim, under 'usertimezone'. This will be of the form \"Australia/Perth\". Of course you can name it whatever you like. I just used 'usertimezone' as an example. One important thing I've just noticed, and which will need fixing: Currently, if your user profile is set to \"User server default\", it'll be sent over to the tool as \"99\" (the select option value we use for \"server default\"), instead of first being resolved to the proper string (like \"Australia/Perth\"). If you've set a specific timezone, it'll come over as that, however. I'll create a ticket to fix this, since 99 is meaningless. I've found MDL-76400 which deals with this exact issue. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2024, 9:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can LTI pass over time-zone information?",
          "Text": "Awesome. Thanks Jake and Brett for the info.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2024, 3:52 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462285,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462285",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI 1.3 - Unable to find public key",
          "Text": "Hi, We're try to implement LTI 1.3. Our software would be used as a platform and the Moodle instance would be used as a tool. During the implementation we get the following error: Exception - Unable to find public key. The JWKS endpoint to get the public key is publicly accessible via a normal get-request. What could be the reasoning our Moodle instance isn't able to access the keys? Kind regards, Robin V.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1856049/Screenshot_10.png?forcedownload=1"
          ],
          "Time": "Monday, September 23, 2024, 7:26 PM",
          "AuthorName": "Robin Vangampelaere",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6743272&course=5",
          "role": [
            "Picture of Robin Vangampelaere"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI 1.3 - Unable to find public key",
          "Text": "Certainly seems like a connectivity issue between tool site and server . Yes, the JWKS is public, but that doesn't mean the Moodle tool site can automatically access it. It's possible that the Moodle tool has blocked requests to your platform application. This is configured in the tool site, under 'Site admin > Security > HTTP security'. You can't immediately tell whether this is the case with your debug settings as they are though. I'd suggest turning on 'debugdisplay' in the tool site (Site admin > Development > Debugging). Then, conduct a launch again. You may find you get an output section in the launch, below the stack trace. There, you might then find additional information from the Guzzle client, such as whether the URL is blocked or not. If that's the case, then simply updating the site's HTTP Security settings should resolve the issue. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 24, 2024, 10:43 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462136,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462136",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Issues creating a basic launch external learning tool and a deep linking tool",
          "Text": "Hello, We are running into an issue trying to create two LTI 1.3 external learning tools (one for a basic LTI launch, and one for a deep linking LTI link.) Our users previously used one configured tool for both a basic LTI launch, and for a deep linking LTI link. When they selected it from the dropdown, they had the option to NOT select content when adding the tool their content module, so it would just launch our tool (without any content linked). Or, if they wanted to, they could deep link to an assignment. Now, when I select the tool directly from the activity chooser(instead of external tool --> choosing from dropdown) I am required to select content when I am adding the tool to the content module or I can't save. I know this is due to an interface change. We are trying to resolve this issue by creating two tools, so the user can have a basic launch link to connect the tool, and then if they want to add deep links, they can do so with the second tool. The problem is that we are getting errors with the deep linking tool. We took a look and it looks like the the launch payload does not include the Names and Roles Service property, which is causing the error. We have that enabled in the tool settings. Is there a reason that having a second tool going to the same URL would not work? Thanks so much for any help! Carrie Bishop Digication",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 12:25 AM",
          "AuthorName": "Carrie Bishop",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2423033&course=5",
          "role": [
            "Picture of Carrie Bishop"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Issues creating a basic launch external learning tool and a deep linking tool",
          "Text": "Hi Carrie, The short answer: Update your site. This was fixed in MDL-82344 . This shouldn't have been forced when we didn't yet have the proper mechanism to support both launch types within the same tool (a longer term goal). it's been reverted accordingly. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 10:25 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issues creating a basic launch external learning tool and a deep linking tool",
          "Text": "Thanks, Jake! That's great news.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 9:49 PM",
          "AuthorName": "Carrie Bishop",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2423033&course=5",
          "role": [
            "Picture of Carrie Bishop"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 455734,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455734",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How we can get ResourceLink Id History info when copy a course",
          "Text": "Hi everyone. Our team is implementing Course Copy using LTI 1.3, according to the documentation we need to use $ResourceLink.id.history but according to this ticket https://tracker.moodle.org/browse/MDL-63545 this variable doesn't implemented at Moodle core. What is the best approach to get information related with the course copy, from activities and resources if we can use that variable in Moodle? Thanks a lot for your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 22, 2024, 12:20 AM",
          "AuthorName": "Daniel Fandino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6288658&course=5",
          "role": [
            "Picture of Daniel Fandino"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How we can get ResourceLink Id History info when copy a course",
          "Text": "I'm only seeing this post now but I have the same concerns. When copying assignments, its not possible to ensure the copy is a true copy if an LMS does not implement $ResourceLink.id.history substitution. IT seems everyone supports Context History, but why only Blackboard and D2L/Brightspace have done the Resource Link history is beyond me. This seems like a major oversight.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 5:20 AM",
          "AuthorName": "Erik Donohoo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5944506&course=5",
          "role": [
            "Picture of Erik Donohoo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How we can get ResourceLink Id History info when copy a course",
          "Text": "Thanks for the feedback both. Given most of Moodles LTI implimentation was done by the community there are some gaps but once the migration work we currently have on the cards is complete we will look at some issues like this. I'm not sure there is an existing tracker ticket but if not please feel free to create one.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 3:10 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461948,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461948",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle and CeLTIc score sending",
          "Text": "I am using Moodle as platform and my tool is in Laravel. I use the CeLTIc framework to communicate. I am trying to send back the scores of my tool to the platform. Using ltiMessage, I store the resourceLinkId and userResultId in session. I then retrieve that in the scoring function at the end of the use of my tool. \n```text\n                $score = 100;\n\n\n                $pointsPossible = 100;\n\n\n                $activityProgress = 'Submitted';\n\n\n                $gradingProgress = 'FullyGraded';\n\n\n                $outcome = new Outcome($score, $pointsPossible, $activityProgress, $gradingProgress);\n\n\n                $outcome->comment = '';\n\n\n                $ok = $tool->resourceLink->doOutcomesService(ServiceAction::Write, $outcome, $tool->userResult);\n\n\n                Log::info('doOutcomesService');\n\n\n                if ($ok) {\n\n\n                    Log::info('Result sent to LMS: ' . json_encode($outcome));\n\n\n                    return Helper::SUCCESS;\n\n\n                } else {\n\n\n                    Log::info('Result failed to sent to LMS: ' . json_encode($outcome));\n```\n However, the doOutcomesService function returns false, due to doScoreService returning false (ResourceLink.php). This is because `$http = $scoreService->getHttpMessage();` returns false with this error message: `{\"ok\":false,\"request\":null,\"requestHeaders\":[],\"response\":null,\"responseHeaders\":[],\"relativeLinks\":[],\"status\":0,\"error\":\"Unable to obtain an access token for scope: https:\\/\\/purl.imsglobal.org\\/spec\\/lti-ags\\/scope\\/score\"}` I understood that this token was automagically retrieved using the jwks funtionality. Additionally, I have set the required_scopes in the config/lti.php file to match the above required scope (score). In Moodle, I see that the client (the owner of the platform) has set the public keyset of the tool to: [his own site]/mod/lti/certs.php and Public Key type to keyset URL . Maybe that setting is incorrect?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 12, 2024, 5:00 AM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle and CeLTIc score sending",
          "Text": "I'd check the scopes being send by the platform, to the tool, in the launch JWT (id_token). These are the scopes available for the respective services and will live inside the service claims (e.g. the AGS claim). It's possible you've configured the tool incorrectly in the platform (e.g. without AGS service support), and you're just not able to post scores (thus get that error when trying to get a token to post scores) - but that's just a guess of course. And of course, I've no experience with that tool library; the problem could be there too.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 10:35 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462024,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462024",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Successfully fetched tool configuration from the selected content.",
          "Text": "I am doing a deep integration between Moodle 4.2 and Pearson's My Math Lab. When I select the content from My Math Lab, Moodle opens a new tab with the following message highlighted in green.\n\"Successfully fetched tool configuration from the selected content.\" but no content is added and my Pearson's External Tool still has \"This tool has not yet been used\" in the Manage Tools window.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 13, 2024, 11:02 PM",
          "AuthorName": "Frank Szatkowski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4269&course=5",
          "role": [
            "Picture of Frank Szatkowski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Successfully fetched tool configuration from the selected content.",
          "Text": "Hi Frank, What should happen is that during deep linking, you'll see a modal dialog, where you can select content from the tool. When the content it sent back (when you're done selecting it), that message \"Successfully fetched...\" is only very briefly displayed (in the modal, not a new browser tab), before the modal is closed and the original form updated. At this point, you'd just save the activity instance and you'd be able to launch. It sounds like that's not what's happening in your case, but it's a bit hard to know why without seeing it. Any chance you can upload a screen recording of what you're doing? Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 10:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461599,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461599",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Has Moodle deprecated LTI 1.1?",
          "Text": "Hi, Is there an official statement from Moodle that says that LTI 1.1 has been deprecated? I have some conflicting information about what is supported or not. For example, there is this page ( https://docs.moodle.org/404/en/Publish_as_LTI_tool , updated 11 January 2024, at 16:16) that clearly outlines the LTI 1.1 and 12.0 are deprecated. However, this site ( https://docs.moodle.org/404/en/LTI_External_tools , updated 26 March 2024, at 09:55), indicates that ONLY LTI 2.0 is deprecated. If there is an official statement or spec sheet, that would be great. Thanks Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 31, 2024, 11:20 PM",
          "AuthorName": "Chris Swinney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=430091&course=5",
          "role": [
            "Picture of Chris Swinney"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Has Moodle deprecated LTI 1.1?",
          "Text": "Thanks pointing out some of the documentation is in need of updating, the second document should mention LTI 1.1 is also deprecated. I'll look to get that updated. For reference Moodle has not been able to certify LTI 1.1 since 2021 and LTI 1.0, 1.1, 1.1.1, .1.2 and 2.0 have been completly deprecated by 1EdTech since 2022 or earlier. There are known security issues with LTI 1.1 particularly as it uses the OAuth 1.0 which has known issues, specifically session fixation attacks which could allow a user to get unauthorised access to things like grade endpoints and PII amoung other issues with the standard. We are not removing LTI 1.1 support as there are still a very large number of tools that have not moved to LT I1.3, but equally there will be no HQ resources dedicated to resolving LTI 1.1 related issues. We may accept community patches from time to time related to LTI 1.1 but they wont be a priority. At the moment any community contributions are on hold as we are migrating LTI from a module to core, this is only temporary however. 1EdTechs Notice of Deprecation https://www.1edtech.org/lti-security-announcement-and-deprecation-schedule",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 2, 2024, 8:02 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Has Moodle deprecated LTI 1.1?",
          "Text": "Just wanted to clarify that, to my knowledge, the earlier OAuth 1.0 session fixation problem you mentioned has no part to play with LTI 1.0 since LTI 1.0 doesn't involve user authorization flows. Also, at the time when LTI 1.0 arrived, OAuth 1.0a had already been released and was widely adopted anyway. If there were a problem, IMS would have included mitigation for that in the LTI spec (or an updated spec). I believe later-life LTI 1.0 and 1.1 did receive a security advisory around CSRF though, and I don't think Moodle adopted that particular update (1.1.2 and 1.0.1 - see https://www.imsglobal.org/spec/lti/security-update/v1p0#introduction-0 ). Re the provider code (\"Publish as LTI tool\" ), this feature (LTI 1.1 publication of tools) has been clearly marked as deprecated in Moodle's UI for quite a number of Moodle versions now. We probably do need to drop that from the platform entirely in future given sites have had ample time to upgrade to 1.3 by now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 2, 2024, 12:05 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Has Moodle deprecated LTI 1.1?",
          "Text": "Hi, Both @jake and @brett; thanks for the replies. There is a difference in the terms \"deprecated\" and \"supported\". It seems clear that whilst no active development from the Moodle team or security patches are to be published that relate to LTI 1.1 (thus, it appears to be deprecated), the fact that you are still creating a Moodle version that can integrate with LTI 1.1. tools, it is still supported (similar to what Brett suggested). Still, it would be good to see an official schedule for the deprecation and end of the support cycle of these (and other) components. @Jake, I represent a Tool software manufacturer (CloudShare), and we have only released our LTI 1.3 integration option in the past few weeks! While I know IMS/EdTech (I am never sure which is the ultimate source of truth for LTI) has deprecated LTI 1.1 for some time, it has taken us until now to schedule the developmental resource to build the LTI 1.3 integration. I suspect that other smaller tool manufacturers are in similar positions. Many years ago, as a customer of CloudShare (before I was an employee), I poked CloudShare to update their integration, so it took quite some time.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 2, 2024, 9:55 PM",
          "AuthorName": "Chris Swinney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=430091&course=5",
          "role": [
            "Picture of Chris Swinney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Has Moodle deprecated LTI 1.1?",
          "Text": "Chris, the situation you described is exacly why we are not planning to remove LTI 1.1 at this point.  There are a lot of providers in similar situations.  There will be seveal versions warning when we finally make the decision to remove LTI 1.1 but that will be a number years away at the earliest.  Most other major LMS continue to support LTI 1.1 for similar reasons.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 3, 2024, 9:26 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Has Moodle deprecated LTI 1.1?",
          "Text": "Hi Chris, Yep. As Brett said, that's the reason we still include our existing platform/consumer (the 'External tool' module) implementation in core. Moodle also ships a tool implementation though (\"Publish as LTI tool\"), and it was that which I was referring to above. Worth clarifying because often people don't know that we support both sides of LTI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 3, 2024, 9:35 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461309,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461309",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Moodle and Canvas LTI error",
          "Text": "I am trying to use Moodle as an LTI tool with Canvas, but it is not letting me. I did some testing and I thing this is the problem... I am getting this error with the launch URL . Please help!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1852247/image.png"
          ],
          "Time": "Thursday, August 22, 2024, 9:10 AM",
          "AuthorName": "Admin Account",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6403489&course=5",
          "role": [
            "Picture of Admin Account"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle and Canvas LTI error",
          "Text": "That message basically says that your link isn't set up correctly in Canvas. You need to configure the link to send the custom parameter 'id', as defined in the tool configuration on Moodle's side. Usually, you just use deep linking and this will be done for you as part of that workflow, but you can also set this manually. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 22, 2024, 10:12 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas LTI error",
          "Text": "Hi Jake, Thanks for the reply. I am not all that tech-sophisticated, so I don't know more of the advanced tech features, but I know enough; therefore, what exactly does that mean..? (sorry) I am running Canvas on a \"Free Teacher Account,\" and not with a custom domain (which costs $5000). I am trying to do the manual entry through Canvas, but it is showing this:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1852253/image.png"
          ],
          "Time": "Thursday, August 22, 2024, 11:46 AM",
          "AuthorName": "Admin Account",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6403489&course=5",
          "role": [
            "Picture of Admin Account"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas LTI error",
          "Text": "Not being a Canvas user, I'm not sure what that page is, I'm afraid. Perhaps some form data missing? It looks like you've got the right id=xxx string there at least. I assume you've already completed the tool-platform registration process via the site admin accounts on both tool and platform? FWIW, when I set this up for testing, I used the assignment selection placement and used deep linking. No manual link creation. Sorry I can't be of more help. Sounds like a question better suited to Canvas.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 22, 2024, 12:25 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas LTI error",
          "Text": "Jake, for Canvas Free for teacher accounts users do not have access to the admin pages to do a LTI 1.3 registration.  This is \"add apps\" page under the course settings, so its not possible to do an LTI 1.3 connection. The page appears to be the \"Maunal Entry\" page which is LTI 1.1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 23, 2024, 8:53 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas LTI error",
          "Text": "Thanks for confirming, Brett. In that case, you certainly can't use enrol/lti/launch.php with custom params, since that's an LTI 1.3 endpoint. Your only option is the (now deprecated) LTI 1.1 (see docs on that here: https://docs.moodle.org/404/en/Publish_as_LTI_tool#Sharing_access_to_a_course_or_activity_(LTI_1.1_and_2.0 ))",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 23, 2024, 9:01 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas LTI error",
          "Text": "I think it is a Moodle issue (I might have done something wrong) w/ setup, but I am not entirely sure. When I try the LTI 2 Registration Url method (as seen below) it does not work. The result is a blank page:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1852513/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1852513/image%20%281%29.png"
          ],
          "Time": "Saturday, August 24, 2024, 4:05 AM",
          "AuthorName": "Admin Account",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6403489&course=5",
          "role": [
            "Picture of Admin Account"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas LTI error",
          "Text": "Nothing here suggests a problem with Moodle. Moodle is just reporting (correctly) that not all the required information has been included in the launch. Also, please don't use LTI 1.1 or 2.0. These are deprecated standards and nobody should use these any more. If you're using LTI 1.3, you need an admin account to set up the tool-platform registration before you can create the links.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 26, 2024, 9:43 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461054,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461054",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI auth.php: invalid request",
          "Text": "Hello, We are unable to launch an external tool using LTI 1.3 at the point where the external platform makes the following request: https://moodle.franu.edu/mod/lti/auth.php?scope=openid&response_type=id_token&client_id=t6rp6MwRR6Dnfit&redirect_uri=https%3A%2F%2Fed.link%2Fapi%2Fauthentication%2Flti%2F7cea37a5-6b34-43c2-a390-afffb8a4e1cf%2Flaunch&login_hint=7455&state=XXlAp7hagCngDHQqLQQX2bFMFSnBbKdS&response_mode=form_post&nonce=cbec2d68-3193-499c-ab48-43c0da1a8589&prompt=none&lti_message_hint=%7B%22cmid%22%3A376129%2C%22launchid%22%3A%22ltilaunch1243_1640108836%22%7D And we get a page with an invalid request error but no details... We went over the query parameters and they look correct. Any guidance on how we could debug this issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 14, 2024, 4:24 AM",
          "AuthorName": "Gerald Truong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6487915&course=5",
          "role": [
            "Picture of Gerald Truong"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI auth.php: invalid request",
          "Text": "Hi Gerald, That error almost certainly comes from this code: https://github.com/moodle/moodle/blob/a800e7e62f73d82d04926f72333384d7cc31e01e/mod/lti/auth.php#L90-L94 So, either: The tool config cannot be found at all (probably unlikely) or The too config doesn't have ' https://ed.link/api/authentication/lti/7cea37a5-6b34-43c2-a390-afffb8a4e1cf/launch' stored as a redirection URI. You could enable developer debugging on the site, which would give you a stack trace during that launch and tell you which of the above you're tripping up on, or you could just double check the tool config's redirection URIs, which is where I suspect the issue will be. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 14, 2024, 9:57 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI auth.php: invalid request",
          "Text": "That did it Jake. Thank you for the quick useful response.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 20, 2024, 12:41 AM",
          "AuthorName": "Gerald Truong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6487915&course=5",
          "role": [
            "Picture of Gerald Truong"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450974,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450974",
      "NoOfResponses": 25,
      "ResponsesInList": [
        {
          "Title": "LTI configs when add external tool is switched off",
          "Text": "We have turned off the ability for staff to create their own LTI integrations via External Tool but still would like to have the capability for staff to add preconfigured tools to their courses pages. Does anyone have any experience of this? Or know if it is possible? We have tested various ways, but seem unable to have the set up we require. When we disallow allow course specific permissions then users are met with this error message: When we allow it then users still seem to have the ability to create external tool. They can create an instance okay, however when they save and edit it again then there is plus sign option and users can then add an external tool from here. These are the configs we have currently set up:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1812435/MicrosoftTeams-image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1812435/2.jpg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1812435/MicrosoftTeams-image%20%281%29.png"
          ],
          "Time": "Thursday, September 28, 2023, 7:00 PM",
          "AuthorName": "Christine Cumming",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5301286&course=5",
          "role": [
            "Picture of Christine Cumming"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Hi Christine, We've (Moodle HQ) have just spent the last little while picking apart the way tool permissions work because, as you're finding out out, it's really quite difficult to use in its current state. The way this works has been completely redone in 4.3, but of course that's probably not much help to you. The way it's set up prior to 4.3 (as you're seeing it), is as follows. I'll try to break down how each capability works and what it might result in. mod/lti:addmanualinstance: If you disable mod/lti:addmanualinstance at a course-level (for a teacher role, say), then teachers lose the 'External tool' tile in the activity chooser. This has a few repercussions: 1) Teachers can no longer get to the External tool instance form to manually configure a tool instance (the most obvious outcome) 2) Teachers can no longer configure course tools because they can no longer get to the External tool instance form (because, for some silly reason that's where the controls to add/edit were put in the past) 3) This third one is more subtle and only applicable when you're editing an existing instance which was created via a preconfigured tool tile in the activity chooser: Teachers cannot control manual configuration of the tool, and this includes things like custom params (but won't impact content selection) So, if you configure permissions this way, then the only way teachers can USE tools is if: a) you've got site-level preconfigured tools and; b) the site level preconfiguured tools are set up to show in the activity chooser (see \"Tool configuration usage\" in the tool's site admin settings). And then they won't be able to set custom params on a per-instance level. This last one is also a feature that has been removed in 4.3 and now can only be controlled at the tool level. So, if you just want teachers to be able to USE existing tools which are managed elsewhere by someone else, then this is an option. If the tool is set up with Content selection (tick the box), then they'll be able to use deep linking to pick something to launch into. They can't add any additional custom params though. Of course, this can get messy because you have no control over which tools appear in the activity choosers of specific courses/categories. If you set a tool to show in the activity chooser, it'll show in the activity chooser on every course for every teacher. Some institutions don't want this. mod/lti:addcoursetool: Assuming you have mod/lti:addmanualinstance allowed, and teachers can get to the External tool instance form, then this addcoursetool capability just controls the ability for teachers to add/edit a course-level tool definition (using the + icon and friends, as you've seen). This way this is implemented is messy to say the least, and disabling (prohibiting) the capability for a teacher doesn't result in removal of the + control, it'll instead result in a capability error if/when they try to click it. So, the creation/editing is still prevented, just not in a particularly elegant way. If you want teachers to be able to USE preconfigured tools via the drop down inside the External tool instance form, but not CREATE tool definitions, then you can prohibit this capability at course level. If you can overlook those add/edit controls being shown, then this will work. The important thing to note is that by allowing the Teacher mod/lti:addmanualinstance, they have the ability to control custom params at the instance level but also other things such as creating an entirely standalone tool configuration at instance level - So you'd need to weight that up too. So, it really depends on how you want to approach this and how important those custom params are to you. The former option (disabling mod/lti:addmanualinstance) is perfect for tools that are entirely configured at site admin and don't require any instance-level tweaks. At that point you may as well prohibit the addcoursetool capability too, since there is no way to get to that view anyway. Downside: the activity chooser clutter. If custom params are important, then you'd need to go down the latter path and prohibit the addcoursetool capability but leave the addmanualinstance, and you'd need to accept that teachers could potentially configure a (LTI 1.1 only) tool at instance level, without any approval. That's the trade off for being able to use the custom params at instance level I'm afraid. So, hopefully that gives you something to go on. I'd also be interested to hear more about your use case for using custom params at the tool instance level, as that's something we've just removed in 4.3. Let me know if I can further clarify any of the above. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 29, 2023, 10:42 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Thank you Jake. I'll have a good look at what you have replied with. In terms of custom parameters one of our clients whose integrations we use has this field as a way for teachers to to link to learning materials.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 29, 2023, 11:33 PM",
          "AuthorName": "Christine Cumming",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5301286&course=5",
          "role": [
            "Picture of Christine Cumming"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Thanks, Christine. That's exactly the kind of situation that Deep Linking launches are designed to handle. That is, you launch into the tool to 'select' the learning material first, then the relevant custom params are automatically saved into the platform. The teacher really doesn't need to know about the underlying params if they pick the content this way. It might be worth asking the person in charge of that integration if they support that. It's been the standard way to achieve this kind of thing in LTI for a good while now, and is also a big reason in why we chose to remove custom params (at least visibly) from the instance-level in 4.3.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 2, 2023, 9:54 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Hi Jake, I work for the partners Christine is referring to. Our problem is we have many published LTI resources (potentially hundreds), across multiple courses for multiple instructors. The Moodle implementation of content selection just displays all of the links in one long list, with no courses or topics even to divide them up (I can see there's a tracker for this, but institutions are asking for 1.3 now). Until that is fixed / improved, sending a custom parameter to an academic that needs their own assessment setting up seemed like a good solution, but as you can see above, isn't necessarily straightforward. Perhaps (hopefully!) CS will be improved sufficiently before the next LTS release. thanks, Greg",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 6, 2023, 9:18 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Yep, totally agree Greg. That page definitely needs searching, sorting, all the usual stuff to make it remotely useful for large installs.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 9, 2023, 9:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Update - we're now dealing with an issue with partners who are running M4.3. Since the ability to add custom parameters has been removed we have a problem on our hands. As noted above, the LTI 1.3 content selection interface is not suitable when dealing with many activities spread over many courses. The way we've been sharing activities is by allowing teachers at partner institutions to add new external tools and add custom parameters that we've shared with them. There are potentially hundreds of distinct LTI tools published and different subsets of these are relevant to different teachers who want to embed them at relevant points in their teaching materials. The upshot of all this is, if a partner is on M4.3 we are now going to be forced to use content selection which really isn't implemented well in Moodle, leading to an unsatisfactory / confusing experience - as far as our context is concerned it would've been better to leave an option for adding custom parameters until the content selection interface was made user friendly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 15, 2024, 5:31 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Hi Greg, The custom params form field can easily be restored in your site, via a custom patch, if you wish. Of course you'll need to maintain this through any upgrades, like any other customisation. For example, something like this might be enough. https://github.com/snake/moodle/compare/580c009cacb...restorecustom Hope that helps in the interim Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 16, 2024, 9:24 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Hi Jake, is this on the consumer side? It might be practical for us as the provider, but likely not for our many consumers, thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 19, 2024, 7:19 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Hi Greg, Yes, that patch is for 4.3+ platform sites only. I.e. sites where the custom params are now hidden in the form.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2024, 9:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "OMG, we have the same issue. We have a course with 498 LTI external tools that have settings in the 'extra parameters'. We have upgraded to Moodle 4.3 this summer and now find out that we can no longer manage any of these extra parameters... What to do next?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1831484/image.png"
          ],
          "Time": "Tuesday, February 27, 2024, 10:50 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Hi Richard, Custom params are still supported at the tool level in 4.3. Soon, they'll be restored in the tool instance level too - though I can't be sure they'll stay there in the long term. The patch above is now formalised in MDL-80914 . It's a small change and trivial to apply to 4.3 if you don't want to wait for the upcoming minors (which is where it would likely land). It would also be great if you could add some detail around your particular use case. E.g. what is it about the instance-level custom params that you need which cannot be achieved via tool-level custom params? This will help us avoid similar situations in future. Thanks for the post Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 28, 2024, 8:54 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Hi Jake, We have many LTI integrations. This one is specifically set up by the supplier of the content. What we have: - One sitewide setup for this tool - In every instance of this tool, we need to add a course code so we go to different content of this tool The tool is about nursing skills. In the instructor custom parameters (it's the database field name, don't know anymore what the name is in the web-interface as I can't edit it there anymore) we set something like course=xxxxx. This makes sure the student goes to the correct content. There's no overview page in the external tool. It contains around 1000 courses I guess. There's no way we can add each tool sitewide or to the activity launcher, as we would cloud it up with 500 extra activities. So how would I be able to add this tool once at site level, but at course level jump to the different content. Should it be done using URL parameters? I really don't know if the software-supplier agrees to such a change.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 28, 2024, 3:43 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Generally there are a couple different ways. Ideally deeplinking and content selection should be supported by the tool, so as part of configuring it at a course level a content selection dialogue is displayed by the tool allowing you to establish that mapping. LTI can also pass the course code or similar as part of the LTI claim in the \"context\" parameter, so if that mapping already exists on the tool end they should be able to read it without additional custom params. That said I'll defer to Jake regarding what Moodle is populating that param with in the claim.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 28, 2024, 4:20 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Yep, this sounds like another case where the tool isn't implementing deep linking, but does support the mechanism that's generally used alongside deep linking for identifying course/resourcesin a launch: custom params (which end up in the custom claim). Another example of cases where the above MDL will be useful. With respect to the context claim (this is a claim, not a parameter: https://purl.imsglobal.org/spec/lti/claim/context ) : that's unlikely to be useful here since we only pass the course id and name as properties, and not course id number. Course id number is passed in the ' https://purl.imsglobal.org/spec/lti/claim/lis' , under the 'course_section_sourcedid' property, however.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 28, 2024, 5:07 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "You definitely don't want to use URL params with current LTI. The custom claim (which we generate from 'custom params' - that's just the Moodle name) is designed for this, so the tool is right to expect the data as part of that claim (and is currently doing just that!). What's missing is the part of the (ideal) workflow which asks the tool to provide these custom params as part of a deep linking response, as Brett mentions in his reply. Either way, using custom params is correct; it's just a question of the best way to set these on your tool instance in Moodle: via deep linking (automatic) or manually, as you've been doing. MDL-80914 just brings back the ability to do it manually.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 28, 2024, 5:11 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Thanks Jake, I had a feeling I got the specific claim wrong, as always your expertise is appreciated here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 1, 2024, 7:38 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "So, is it possible in 4.3 for the teacher role to be able to add preconfigured site wide External Tools but not have the ability to add course specific External Tools? We have a number of faculty that add external tools (mostly textbook integrations) without going through IT to have the tools vetted for our security and privacy requirements. It would be nice to stop this but still allow the use of the site wide tools we have setup.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 28, 2024, 1:57 AM",
          "AuthorName": "Jon Breitenbucher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=118798&course=5",
          "role": [
            "Picture of Jon Breitenbucher"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "We are also having the same issue, as Adminstrator I set the external tools up, but now when our teachers are trying to add the tool they are being told its no longer supported. The tool needs adding to the course, but I have 1250+ courses that need access to this one tool and I don't want to edit 1250 courses....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2024, 9:53 PM",
          "AuthorName": "Jeff Stone",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2187328&course=5",
          "role": [
            "Picture of Jeff Stone"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Hi Jeff, Hopefully what I posted in reply to Jon will be of some help to you too. Have a read and let me know if that's not the case. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 10:16 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Hi Jon, Yes, it is. the 'mod/lti:addcoursetool' capability controls, as you can probably guess, the ability to add/create a course tool. Since 4.3+ no longer support setting up a tool at the instance level (i.e. all tools must be created prior to use), removing this capability for the relevant roles would prevent those users from creating tool in their courses, effectively locking that down. They'd still be able to use any tools which are available to that course with the caveat that the tool must be available in the activity chooser for that course. The ability to show the tool in the activity chooser (i.e. permitting its use as an activity) exists in both the site level tool configuration and in the course tool table. At the site level, that's just set by admin, as you'd expect. At the course level, only users with the \"mod/lti:addcoursetool\" capability can toggle this. In this way, the toggle is treated the same as adding/editing a course tool configuration. Once you lock down course tools for teachers, they won't be able to enable course tools for use in their course, so you need to make sure the tools are available to them. Either: a) Set the \" Tool configuration usage\" to \"Show in activity chooser and as a preconfigured tool\" at site admin, at which point the tool will be available in the activity chooser of all courses, or; b) Toggle the \"Show in activity chooser\" at the course level, of course using a role that has the \"mod/lti:addcoursetool\" capability. Once the tool is in the activity chooser, you can just use it like normal. Hope that helps Any feedback most welcome Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 10:15 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Thanks. That is helpful. I am now encountering a situation with W.W. Norton Learning Tools. There LTI 1.3 setup directions state Tool configuration usage: “Do not show; use only when a matching tool URL is entered”. Now, if I do that then the tool is not visible in the Activity chooser or in the More > LTI External tools. If I change to Show as preconfigured tool then the tool is available in the course LTI External tools to be toggled, but then their directions for adding the tool Under the “General” activity settings, define these fields: • Preconfigured tool: “Automatic, based on tool URL” • Tool URL: https://ncia.wwnorton.com/test do not seem to be available. Is there a way to make this work? Anyone have W.W. Norton integration working? I’ve attached WW Norton’s directions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 16, 2024, 6:37 AM",
          "AuthorName": "Jon Breitenbucher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=118798&course=5",
          "role": [
            "Picture of Jon Breitenbucher"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "The simple answer is that their instructions were written for an older version of Moodle and are no longer accurate. Basically, you've found one way to do this, by changing to \"Tool configuration usage\" to \"Show in the activity chooser and as a preconfigured tool\". This will default the tool to being visible in the activity chooser of all courses, however. If you want to default it to 'off', but leave the option for teachers in courses to toggle it on, you can select the option \"Show as preconfigured tool when adding an external tool\" instead. The wording here has yet to be updated (future planned dev), but it's basically saying \"Make this tool available to courses\". It's then up to the editing teacher to switch the tool on for that course using the toggle in the course tools table, and away you go. Once you've got the tool in activity chooser, you should be able to create links and use it as expected. Hope that helps. Let me know if there's another stumbling point with this particular integration and we can troubleshoot further. Cheers, jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 16, 2024, 8:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Unfortunately not. Yes, I can get the tool to show in courses so faculty can enable it and add it to their Activity chooser. However, when they try to add it to their course there is no way that I see to add a Tool URL because there is no General section. WW Norton does not support deep linking and is relying on a faculty member entering the Tool URL they are sent in the External tool to direct students to the correct resources at WW Norton. Unless I am missing something. Or are we in a situation where the faculty member will have to add the tool in their course using the information provided by WW Norton? Is that the only way the Do not show; use only when a matching tool url is entered can work with the changes to External tool in 4.3+? We are trying to prevent faculty from creating these integrations without IT vetting the data security and privacy practices of the provider.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 16, 2024, 9:22 AM",
          "AuthorName": "Jon Breitenbucher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=118798&course=5",
          "role": [
            "Picture of Jon Breitenbucher"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI configs when add external tool is switched off",
          "Text": "Ah, I see your issue now. That wasn't obvious from the example URL above, which didn't hint at resource specific param. We don't support URL params any more, but do support custom params. The preferred (only) way to create a link to a specific resource (and this applies with or without the use of deep linking), is to set custom params, which are then included in the launch payload. So, you'd configure the tool at site level (only admins can do this), you'd use the tool to create links in the course (i.e. from the activity chooser) and would set the relevant custom params on each link (in the module setting for that particular instance). Of course, the tool needs to support custom params and can't rely on URL params. This is the usual approach with LTI Advantage. EDIT: I should clarify when I say we don't support URL params. That should read \"We don't support URL params outside of Deep Linking any more\". If a tool uses deep linking, it can return a launch URL containing params used to identify the resource. EDIT 2: in answer to your question about security/privacy, LTI 1.3 in Moodle MUST be configured by an admin anyway. So, teachers cannot create working tools in courses without admin intervention/assistance anyway. They can only use existing, preconfigured tools. With 1.1 this was an entirely different situation, since they were able to create links to tools at the course level without the need for prior configuration/approval. This is not the case with 1.3 because of a different security model (and because of the way Moodle implements its LTI right now).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 16, 2024, 10:20 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461097,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461097",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Springshare E-Reserve LTI 1.3 & Moodle Not Communicating",
          "Text": "Hi all, I’m a librarian and we are switching from hosting faculty e-reserve content from a private server (Ares) to Springshare. Springshare uses LTI 1.3 to display the e-reserves (pdfs, word docs etc.) in Moodle via an Activity Chooser plugin. I’ve worked with our LMS admin and the configurations look correct. I’ve sent screenshots to Springshare and they believe it looks correct. Our e-reserves were working before we implemented duo authentication mid July 2024. Now the communication is broken and displays “Launch Validation Failed: Failed to fetch public key”. I’ve made sure public keys were correct in both systems, checked my cookies, updated my browser, updated my computer, and tried to access it from a different browser. None of it has worked. I’m not sure if implementing duo auth caused this (Microsoft Authenticator) or if it is correlation. I have a ticket in with Springshare but have not heard back. Any suggestions or ideas?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1851483/IMG_1483.jpeg?forcedownload=1"
          ],
          "Time": "Thursday, August 15, 2024, 9:16 AM",
          "AuthorName": "Alicia Ikerd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6596144&course=5",
          "role": [
            "Picture of Alicia Ikerd"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Springshare E-Reserve LTI 1.3 & Moodle Not Communicating",
          "Text": "Hi Alicia, Firstly, it's probably a good idea to confirm your LTI setup. I assume you've set up the tool using the normal Moodle LTI configuration (i.e. using External tool and with the 1.3 tool set up under Site admin > manage tools)? I only ask because you mention an activity chooser plugin. Also, what version of Moodle are you currently running? Assuming that the tool is set up the usual way, can you tell me what the launch container is set to? It'll be something like \"Embed\", or \"New window\". To rule out all 3rd party cookie issues, you can try setting this (at the tool level), to \"New window\", at least temporarily. Then, we you follow the links you'll get a popup window. It'd be worth checking that, just to see if that resolves the issue. Unfortunately, it's hard to know why that error is being shown, since it's not a Moodle error. It's the tool deciding to show that, and they'd know better than us under what circumstances it would be shown.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 15, 2024, 9:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Springshare E-Reserve LTI 1.3 & Moodle Not Communicating",
          "Text": "Another thing to rule out early on for this problem is whether you can access /enrol/lti/jwks.php on your moodle server without having a login session cookie (in a private/incognito browser window). If you can't, it's possible the duo change isn't merely a correlative red herring, although usually Duo is configured on the Single-Sign-On Identity Provider and not the Service Providers. If an unauthenticated client like your E-Reserve host can't access that file, then it's telling the truth in that message, and you should have a clear route to figuring out why it can't get that page and get things back in working order.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 15, 2024, 8:30 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Springshare E-Reserve LTI 1.3 & Moodle Not Communicating",
          "Text": "Thanks, I'll mention this to our LMS admin when we meet again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 16, 2024, 4:50 AM",
          "AuthorName": "Alicia Ikerd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6596144&course=5",
          "role": [
            "Picture of Alicia Ikerd"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Springshare E-Reserve LTI 1.3 & Moodle Not Communicating",
          "Text": "Just to clarify, Alicia is talking about the use of External tool (mod/lti), so enrol/lti/jwks.php has no part to play. I suspect what you meant to say was mod/lti/certs.php (which is where the platform JWKS lives). Alicia, if you're checking access to a JWKS endpoing, check that (not enrol/lti/jwks.php which is something else entirely!) Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 16, 2024, 8:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Springshare E-Reserve LTI 1.3 & Moodle Not Communicating",
          "Text": "Hi Jake, We use Moodle 4.2 w/ Microsoft Authenticator (it was established June 20th and our sandbox was last successfully launched on June 18th). We have a Learning Management System Admin who configured the LTI / Activity Chooser (he calls it Activity Chooser so I just go along with it so we understand what we're communicating about). I know it is configured by configuring it manually under \"Plugins > Manage Tools\". From there we entered Tool Name, Tool URL , LTI Version, Public Key Type, Public Keyset, Initiate Login URL, Redirection URI. I believe it is configured to show in activity chooser and as a preconfigured tool. In the Privacy section \"Accept Grades from Tool\" is ordered by Springshare to be \"Never\". I have limited permissions so I'm not allowed to access administrative things or edit the LTI/Activity Chooser. However, we sat and went line by line and made sure the following information matched between Springshare's LTI Toolbuilder and Moodle's settings: Tool URL LTI Version Public Key Type Public Keyset Initiate Login URL Redirection URI(s) LMS Hostname Not sure this provides any more info but it is the best info I can give.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 16, 2024, 4:50 AM",
          "AuthorName": "Alicia Ikerd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6596144&course=5",
          "role": [
            "Picture of Alicia Ikerd"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461004,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461004",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Quiz Results + Grade Sync Behaviour",
          "Text": "The University of Otago is utilising Moodle for STACK question types, and because Moodle is not our main LMS (this is Blackboard), we use the grade sync feature to send Moodle quiz results back to Blackboard. This mostly works without issues, however, we have noticed a few scenarios where the grade sync doesn't behave as we'd anticipate. There are a couple of scenarios I have been able to test and rule out as to why the grades don't sync. However, there is one odd scenario that I hope someone can explain the behaviour(s) I'm seeing. What I am testing: A student who follows the LTI link from Blackboard to Moodle and then clicks 'Attempt Quiz' but does not provide any answers to the quiz. By clicking 'Attempt Quiz, ' they're added to the 'Results' section of the particular quiz (important for grade sync). The quiz then closes due to a due date passing. The student gave no answers. Results: 1.    Before the due date, the grade sync was not sending a grade as the submission was still in progress. The grade sync for this states: a.    Starting - Grade sync for shared tool '207' for the course '25'. b.    Skipping - Invalid grade for the user '591' in the tool '207' for the course '25'. c.    Completed - Synced grades for tool '207' in the course '25'. Processed 1 users; sent 0 grades. 2.    After the due date, the grade sync still has the same outcome, just a different reason (see line B) a.    Starting - Grade sync for shared tool '207' for the course '25'. b.    Not sent - The grade for the user '591' in the tool '207' for the course '25' was not sent as the grades are the same. c.    Completed - Synced grades for tool '207' in the course '25'. Processed 1 users; sent 0 grades. NOTE: at this point, if the student attempts to access the quiz again, they're shown a screen that states, ' Your final grade for this quiz is 0.00/2.00 ' and this 0.00 grade is also viewable in the 'grades' area of the course. 3.    I then manually overrode the 0.00 grade to… 0.00 and saved this. Yet still, the grade sync remains the same as point 2 above. 4.    I then overrode the grade to 1 (from 0.00). Sure enough, it worked: a.    Starting - Grade sync for shared tool '207' for the course '25'. b. Success - The grade '0.5' for the user '591' in the tool '207' for the course '25' was sent. 5.    I then overrode the grade back to 0.00 (from 1, which was 0.5 based on scaling within Moodle), and again the grade sync was successful a.    Starting - Grade sync for shared tool '207' for the course '25'. b. Success - The grade '0' for the user '591' in the tool '207' for the course '25' was sent. c.    Completed - Synced grades for tool '207' in the course '25'. Processed 1 users; sent 1 grades. So, I suppose I'm trying to understand why Moodle does not trigger the initial 0.00 grade (after the due date) to be sent in the first grade sync after the due date? Instead, Moodle continues to send the same grade as before to the due date (incomplete/in progress), yet the student can see their 0.00 mark in Moodle. Any guidance surrounding this would be much appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 12, 2024, 11:10 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Quiz Results + Grade Sync Behaviour",
          "Text": "I am just wondering if this is more of an issue with Grade sych than the quiz. I think I will move this to the LTI forum. (If that was wrong, it can be moved back.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 12, 2024, 6:20 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz Results + Grade Sync Behaviour",
          "Text": "Thanks, Tim, definitely more suited to this forum.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 13, 2024, 4:27 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz Results + Grade Sync Behaviour",
          "Text": "I hope I can help with this since I've gotten fairly familiar with grade_sync: The message you see in 1b means that the grade for the quiz is NULL; the sync grades task won't send any data when the student hasn't made an attempt yet. (Since NULL !== round(0,5) ) When the due date closes on the quiz, the grade for the quiz changes from NULL to 0, and you get the message in 2b since the lastgrade value it compares against to see if it needs to send a grade update is initialized to 0.00000 , and they are now equal. Changing it from 0.5 and then back to 0.0 does what you'd expect and what you've witnessed, since it's comparing the current grade against that lastgrade recorded, which you're changing to get the behavior you want. If this is undesirable, and grades of 0 should be sent when the due date is arrived at but not before (if Blackboard isn't treating a failure to make an attempt as a 0 score), initializing lastgrade to NULL instead might be a good fix, but hard to write a database upgrade to accomplish to backfill existing lastgrade values that may be 0.00000 or may be NULL. My follow-up questions are: what kind of problem does this cause, and is it specific to integrations with Blackboard as the LTI platform?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 12, 2024, 9:31 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz Results + Grade Sync Behaviour",
          "Text": "Morning Liam, Thanks so much for the explanation, given we don't use Moodle as a main LMS rather just an intemediary for a particular question type my knowledge on the system is quite limited, so I appreciate your help! The answer you've supplied makes complete sense, many thanks for this. Adressing your follow up question: it doesn't particularly pose a problem perse as the 0 grade can be input manually in Blackboard grade centre. Our teachers would just prefer that quizzes that haven't been attempted by users are sent to Blackboard via grade sync as a zero once the due date arrives (saves a bit of manual work). It was also hoped that those who never follow the LTI link from Blackboard to the Moodle quiz would also be in the same boat. However, these users never populate in the results table of the Moodle quiz (due to not clicking the link) so aren't included in the grade sync log.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 13, 2024, 4:39 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454439,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454439",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Moodle 4.3",
          "Text": "Hi! We have an LTI integration where we enter a different URL for each activity in the course. The URL has the same domain , modifying only the parameters. In Moodle 4.3 we were not able to set up a single provider (e.g. https://url.com ) and each teacher will be able to enter their content URL, as shown in the image below. The LTI tool in use does not support deep linking, the selection of content is done via URL parameters.. There are thousands of different URLs, making it impossible to create multiple LTI providers. Are there any configurations to allow this possibility, without the external tool providing the deep linking feature?  Is there anything in the backlog to allow you to insert the URL as per previous versions? Regards Eduardo",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1825898/image.png"
          ],
          "Time": "Wednesday, January 17, 2024, 5:57 AM",
          "AuthorName": "Eduardo Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6200067&course=5",
          "role": [
            "Picture of Eduardo Silva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Moodle 4.3",
          "Text": "Hi Eduardo, Unfortunately not. Tools must now be set up prior to their use in a course. We no longer support manual configuration of a tool at the activity level, so this kind of on-the-fly tool instance creation isn't supported. So, regardless of whether the tool uses custom params or URL params to identify resources, it must be configured prior to its use. So, in your case, the only 'solution' (it's not really feasible at scale) would be to configure these 'tools' (they are not really distinct tools in your case, but must be set up as such) and then use those tools via the activity chooser to create each link. Of course this gets messy quickly as the activity chooser fills up fast. It might be worth asking whether your tool provider supports custom params instead of URL params to identify each activity. This alone won't solve the problem of course, but it would leave the door open to the use of custom params, should a custom patch be used to reintroduce that in your instance (as mentioned in this thread: https://moodle.org/mod/forum/discuss.php?d=450974#p1825748 )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 17, 2024, 9:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Moodle 4.3",
          "Text": "We are having a similar issue as our LTI provider will not accept traffic from embedded web pages as a security issue.  Is there any workaround to add URLs manually?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1851156/Error.png?forcedownload=1"
          ],
          "Time": "Monday, August 12, 2024, 11:34 AM",
          "AuthorName": "Michael Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6234488&course=5",
          "role": [
            "Picture of Michael Williams"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Moodle 4.3",
          "Text": "Hi Michael, You can still create the links manually. Since MDL-82344 was included in the minors today (meaning you don't strictly NEED to use content selection if it's configured), you can just create the link manually, and enter the relevant custom params needed to launch into the particular piece of content. As above, URL params aren't supported. Of course, you'll need to be running the recent release, otherwise select content is required and you're somewhat stuck.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 12, 2024, 1:57 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460916,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460916",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI DeepLinking",
          "Text": "I click, and I see in the console that a message is being sent: https://sandbox.moodledemo.net/mod/lti/contentitem_return.php?course=4&id=1&sesskey=qv6OjCZMeV Response - code 200 (everything is OK) The window is closed. But nothing else happens, and the test is not selected. There is nothing in the logs. How can I check what the problem is?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 7, 2024, 11:59 PM",
          "AuthorName": "Konstantin Plehanov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6575982&course=5",
          "role": [
            "Picture of Konstantin Plehanov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI DeepLinking",
          "Text": "I think this would be better in the LTI forum in this course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2024, 5:08 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI DeepLinking",
          "Text": "Moved thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2024, 1:48 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI DeepLinking",
          "Text": "We're going to need more information on this one. What's the problem you're experiencing? Generally speaking, deep linking is just one part of creating a link to a tool. It sounds like you're at the stage of content selection. You still need to save the activity instance form once the deep linking window closes. Then, you'll be able to launch into the resource/activity/whatever by clicking the activity link in your course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2024, 3:45 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI DeepLinking",
          "Text": "Yes, I understand that this is just part of the process. The problem is that I'm running contentitem_return.php, which means I'm selecting content, getting a 200-OK response in return, but the content isn't being selected. And I don't understand how I can check WHY it's not being selected. I mean, 200-OK should mean the content has been selected, right?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, August 9, 2024, 5:56 PM",
          "AuthorName": "Konstantin Plehanov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6575982&course=5",
          "role": [
            "Picture of Konstantin Plehanov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI DeepLinking",
          "Text": "\"but the content isn't being selected. \" Can you expand on this? How are you sure it's not working? is the form not being updated? Are there any console errors? Have you tried a different tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 12, 2024, 9:20 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460121,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460121",
      "NoOfResponses": 14,
      "ResponsesInList": [
        {
          "Title": "1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Hi Everyone, We have an issue with 1.3 External Tools adding to a course in Moodle version 4.3 as there is a new mandatory field called Content. (Add Activity and Resource -> Select preconfigured 1.3 LTI Tool). In the previous version, we only needed to add an 'Activity name' mandatorily. For now, we have figured out a workaround. The workaround is to uncheck the \"Supports Deep Linking (Content-Item Message)\" check box which forces the course level tool to only launch to the Dashboard page. Once the link is created, it will always link to the respective dashboard for the users in the course. Then we need to go back to the LMS admin tools and check the Supports Deep Linking (Content-Item Message) check box to set up deep links in the course. Can we know the expectation of having a field \"content\" here? Is there another way to remove the \"content\" field from the mandatory fields? Thanks, any help is much appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 10:28 PM",
          "AuthorName": "Shashika Tharangani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6054805&course=5",
          "role": [
            "Picture of Shashika Tharangani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Do you have access to the \"Manage Tools\" site administration menu in your Moodle environment? It sounds like you need to uncheck that box for the site-level preconfigured tool so you don't need to uncheck it for every instance of the preconfigured tool. I don't know if changing that setting will retroactively change the setting for instances of the at preconfigured tool that have already been created, but believe it will since it's loading configuration data from the lti type.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 10:56 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Hi Shashika, Yes, that's right. If you check Deep Linking on the tool configuration, then content selection is mandatory now. If you want to 'use' a tool for different things (i.e. the dashboard launch vs individual content pieces), right now, the way to do this is to configure the tool twice; one with deep linking, one without. In future, when we support tool placements and can 'use' tools in places like the course navigation + others, the dashboard case will likely be handled by that. For now, the workaround you're using, or the 2 tools workaround is the best approach. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 11, 2024, 8:55 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Hi Jake, Your prompt response is very much appreciated, thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 11, 2024, 1:01 PM",
          "AuthorName": "Shashika Tharangani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6054805&course=5",
          "role": [
            "Picture of Shashika Tharangani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Hi Jake, Can we set up two tools in Moodle that have the same clientID and DeploymentID?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 15, 2024, 1:00 PM",
          "AuthorName": "Shashika Tharangani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6054805&course=5",
          "role": [
            "Picture of Shashika Tharangani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Nope, not currently, which does somewhat complicate the above workaround I imagine.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 15, 2024, 1:20 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Hi Jake, Can you please help with the following inquiries? a). If I'm an instructor without admin access, I want to add a tool to my new course. It is a new course so there are no deep links. How do I add the tool without giving the content selection? b). If the administrator disables deep link support from the tool, How does the instructor add deep links to the course? c). Can we know the purpose of making the select content field mandatory with Moodle 4.3?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2024, 10:25 PM",
          "AuthorName": "Shashika Tharangani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6054805&course=5",
          "role": [
            "Picture of Shashika Tharangani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Hi Shasika, Of course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 22, 2024, 10:52 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Continuing from Shashika's questions, our customers are experiencing issues with creating courses in Moodle 4.3 and above versions: Previous Versions (before Moodle 4.3): Instructors could add an external tool by navigating to: Add an activity or resource → External Tool → Select Preconfigured Tool from the drop-down menu They would then save and launch the LTI external tool. Current Issue with Moodle 4.3 and Above: Instructors cannot add the external tool as there is no option to select a preconfigured tool. The content field has become mandatory, which only supports adding deep links/quick links to the course. These deep links only work after launching the external tool and pairing the course with the external content. Until the tool is launched and paired, the deep links do not function. Additional Details: Some courses may not require deep links; they just need content provided to the students. The purpose of deep links is to give quick access to assignments, eText, or selected content of the paired course. For newly created courses, we need to first launch the tool and perform the course pairing. Please support us in resolving this issue.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1849114/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1849114/image%20%281%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1849114/image%20%282%29.png"
          ],
          "Time": "Tuesday, July 23, 2024, 1:39 PM",
          "AuthorName": "Jeewani Lakshani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4854723&course=5",
          "role": [
            "Picture of Jeewani Lakshani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Hi Jake, This causing issues for Pearson customers that have upgraded to Moodle 4.3 and Moodle 4.4, wherein they were previously able to add our \"generic launch\" in order to access our tool settings, grade sync settings, etc....and THEN add deeplinks via the select content option. I'm very concerned about technical support volume, frustrated instructors, etc.....can moodle HQ revert this change back to the \"old paradigm\" to give time for Pearson to accommodate a content selection that will take instructors to a deeplink picker and grade sync setting option?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2024, 11:44 AM",
          "AuthorName": "DREW HAMMERBECK",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4355561&course=5",
          "role": [
            "Picture of DREW HAMMERBECK"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Hi Drew, Apologies for the delayed response. Your feedback isn't the first of this kind we've received. I don't have the power myself to make these kinds of decisions, but personally, I don't see the harm in making this optional again to help support existing cases like yours. I'll raise this internally and let you know the verdict. Edit: Please see MDL-82344 , a report of the exact same issue, albeit from another tool provider. Feel free to add your 2c there. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 9:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Hi Drew, We've discussed this internally and our plan is to include a small fix to this in the upcoming minor releases. This will be via a patch on MDL-82344 , which I'll push shortly. The fix will make the content selection optional again, so your customers will easily be able to configure either: A generic link to the tool (i.e. when not using \"Select content\") A link to specific content, should a teacher use \"Select content\" Many thanks for raising this one and adding your voice to the others on that issue. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 29, 2024, 12:02 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Hi Jake, I noticed that the patch for MDL-82344 has been completed. Is it now available for us to update and proceed with verification on our end at Pearson? Thanks, Jeewani",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2024, 12:20 PM",
          "AuthorName": "Jeewani Lakshani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4854723&course=5",
          "role": [
            "Picture of Jeewani Lakshani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 1.3 External Tools adding to a course in Moodle version 4.3",
          "Text": "Minors will be released this coming Monday, at which point you can update your sites.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2024, 3:42 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460940,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460940",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Can i-Ready be integrated into Moodle?",
          "Text": "One of the administrators for our high school would like i-Ready to integrate into our Moodle, so students just log into a Moodle course to complete their i-Ready content and for the grades to automatically appear in the Moodle gradebook. Has anyone tried this? https://chatgpt.com/share/e5f30312-43a4-4491-8f30-387c80e37722 Thanks, -Matt",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2024, 10:09 PM",
          "AuthorName": "Matt Ladwig",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789929&course=5",
          "role": [
            "Picture of Matt Ladwig"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can i-Ready be integrated into Moodle?",
          "Text": "Hi Matt, Can you find any docs that suggest i-Ready is LTI compatible? A quick Google myself returned nothing. If not, then the answer will be \"Not via LTI\" and you'd need to explore other avenues. Might be worth reaching out to i-Ready directly to discuss, since that's their domain . Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2024, 8:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460545,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460545",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: IIS - Moodle LTI does not work for two way communications with LTI providers on IIS",
          "Text": "Hi Perry, Great post. You're 100% right that we need the slashargs to be present in exactly the format that we advertise, to the tool, during the launch. There have been many, many posts about this over the years but I can't say how many were using IIS . I haven't used IIS with Moodle, so can't speak to a solution, but I will note we have specific docs on this subject here: https://docs.moodle.org/404/en/Internet_Information_Services#IIS_configuration_steps . I'm not sure how up-to-date these are though. One thing that does seem odd with your example above is the presence of the '/file' part in the URL . That's not something we're expecting. Even if slashargs was working properly, that wouldn't match a service handler. Not sure if that was just part of the example though, or was a real URL. Hopefully others can clarify the setup needed for IIS. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 9:12 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: IIS - Moodle LTI does not work for two way communications with LTI providers on IIS",
          "Text": "That rewrite rule looks to be doing exactly what you attest: /mod/lti/services.php/file=/8612/lineitems&type_id=2709",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 7, 2024, 1:42 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: IIS - Moodle LTI does not work for two way communications with LTI providers on IIS",
          "Text": "I hit \"Post to forum\" prematurely. I'm pretty sure the url you want is going to be: /mod/lti/services.php/8216/lineitems?type_id=2709 That's not what the rewrite rules I suggested would get you, but given what IIS is getting, I think you can rewrite to that and see if this works. (I'm jumping into meetings for the rest of the day) My hunch is that the rewrite rule needs to be prevented from running on this path, for sure, and putting one that gets what you want in front of it is the way I'd attack the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 7, 2024, 2:29 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: IIS - Moodle LTI does not work for two way communications with LTI providers on IIS",
          "Text": "I took a look at my logs and see grade service api calls like: /mod/lti/services.php/{course['id']}/lineitems/?type_id={lti_types['id']} and: /mod/lti/services.php/{course['id']}/lineitems/{grade_items['id']}/lineitem/scores?type_id={lti_types['id']} You can use Failed Request Tracing to figure out what IIS is getting from the tools to rewrite to those formats before the other .php/stuff rule is run to get things working.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 7, 2024, 4:34 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460840,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460840",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "atto_teamsmeeting - presenter mode",
          "Text": "Hi everybody Currently, in our Moodle 4.4.1+, we are using the atto_teamsmeeting plugin to create our Teams meeting links. The plugin works very well. However, we have noticed that only the person who creates the link is considered and has the \"presenter\" rights. We would like a situation where, for example, a secretary can create a Teams link for an instructor, and the instructor then has the \"presenter\" rights. This would give the instructor access to breakout rooms and all other \"presenter\" rights. Can anyone tell me if this is possible? thanks Boris",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, August 5, 2024, 8:25 PM",
          "AuthorName": "Boris Merens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5720692&course=5",
          "role": [
            "Picture of Boris Merens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 458019,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458019",
      "NoOfResponses": 18,
      "ResponsesInList": [
        {
          "Title": "Moodle sync grades to LMS",
          "Text": "Hello folks, I have created an LMS project in .net core 5 with an LTI advantage library to be used as an LTI consumer. I have a moodle instance hosted locally that I use as an LTI provider. Through APIs I am able to create and update courses and their activities . With the help of LTI, users can enroll in courses and view the activities. I am currently having issues with the grade book. My LTI consumer, opens the quiz or activity in a popup and they can take the quiz. Once the user clicks submit, I need to be able to sync those grades in real time, not through a scheduled task. I have thought about modifying the behavior of the submit button inside moodle to call an API on my LMS, but I am wondering if there is an easier way. Thank You",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 30, 2024, 9:33 PM",
          "AuthorName": "baraa whede",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5318508&course=5",
          "role": [
            "Picture of baraa whede"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "Hi Baraa, When you say: \"I need to be able to sync those grades in real time, not through a scheduled task\" Currently, the tool doesn't support this. Whatever you end up doing to achieve this would be a modification to core Moodle. You can probably listen for a user_graded event in a plugin (or in the enrol_lti plugin, just add an event listener), and make a service call that way, but it's not something there's an existing solution for, nor is it on the LTI tool roadmap. Alternatively, feel free to create an issue in the LTI Provider Follow Ups epic, over here: MDL-73813 . Maybe others will add their support for the issue. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 1, 2024, 3:49 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "Hi Baraa, you could always reduce the time of the schedule task, by example to 1 a minute. Though be aware of the impact this might have on your server when you have more and more users. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 2, 2024, 6:39 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "Hello Gemma, Thank you for the reply. But as you said, this approach will introduce unnecessary overhead and will most likely cause issues in the long run.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 2, 2024, 7:48 PM",
          "AuthorName": "baraa whede",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5318508&course=5",
          "role": [
            "Picture of baraa whede"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "Hi Baraa, I do have to add we are using this approach over 8 years now with no real problems, but it does mean you're server setup needs to take it in consideration. Gem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 3, 2024, 2:40 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "Hello Jake, Thank you for the swift reply. I really hope this feature is introduced in upcoming releases. I will probably make the service call on the quiz submission event handler during testing, and if it works I will convert it into a plugin and use a listener for better clarity and maintainability.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 2, 2024, 7:50 PM",
          "AuthorName": "baraa whede",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5318508&course=5",
          "role": [
            "Picture of baraa whede"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "It would be a nice addition, yeah. We'd of course need to do it in a generic way, though. We can't listen for plugin specific events, unfortunately, since we need it to work for any module or course. If you end up creating an improvement request in that epic, please link it back here so others can find it! Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 3, 2024, 9:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "Hi Jake, The cron task is getting long and longer when you have more grades in the LTI table. That's the main issue we encounter, it continues to check for each rule if there is an update. This could issues over time because the task needs longer time to go through everything. It does not make sense in the long run. Though I am not saying it's absolute because we sometimes encounter issues like a grade is not being received, and in that case, alternating the table in 'resetting' the grade ensures that the task picks it up again. So I do think that Baraa's request is valid in that case, and if you would look for a generic way in event listing, I would say: 1. Course completion 2. Grade history > course total when it's course LTI and activity specific when this is set in the LTI What do you think? Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 3, 2024, 2:47 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "An improvement to the sync_grades task was implemented in 4.2 that refactors the scheduled task so that instead of doing all the work, it spawns ad-hoc-tasks for each resource to do the real grade synchronization work. I back-ported it to my 4.1 environment (and the author of the improvement has back-ported it to 3.11) since it's a dramatic improvement with throughput gains up to however many concurrent ad hoc tasks you have allowed in site admin. At the scale my environment currently operates, it was taking over a half hour to run the task before back-porting and now it's around 5 minutes for all work to complete, depending on how much grade-changing activity is happening at that time of the school year. That change also would support the request here: one of the improvements I have planned is a \"force grades update\" button to spawn that ad hoc task for a resource on-demand (after zeroing-out the records of the last grade sent). The purpose of that button is to handle cases, for example, where someone on the platform changes the maximum point score for the grade line item: Moodle only sends a grade update when the score on Moodle changes and doesn't make an api call to check if the grade maximum has changed on the platform. Setting the last-grade-sent to zero (in the enrol_lti_users table) and running the ad hoc task for the resource forces it to update all grades on the platform (with its new grade max) within a minute or so. My suggestion for an event-driven way to sync grades when a resource has a grade change would be by similarly creating that ad-hoc task for the resource. That behavior makes sync_grades quite efficient: most of the work it's doing is internal database comparisons of current grade scores vs records of the last grade it sent, and it only makes api calls when it needs to. It might make sense to have another less frequently running scheduled task to scan the platform for grade max changes, but it hasn't come up that often, and having a button teachers can find in the tool publish menu for the resource should fix any discrepancy between tool and platform that comes up. (Not directly related, but another improvement I'm working on in sync_grades is better handling of 400+ http codes: so what should the task do when a platform is no longer accepting grades for the assignment that has a grade change on Moodle and other failure cases. Any suggestions there would be very welcome, since I'm not quite sure how to best inform the teacher of the situation).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 10, 2024, 8:55 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "Hello Liam, I'd like to learn more about the code changes you're planning for grade sync. We've been experiencing issues with:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 11, 2024, 9:08 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "The LTI 1.3 spec doesn't provide any semantics for status codes, unfortunately. On the bright side, most platforms send reasonably expressive error messages (just inconsistently with each other). Canvas's are enumerated here and coded in these controllers . Moodle's are here . Two I commonly see are: 1) Where the score Moodle is trying to send was recorded earlier than the grade set on the platform. Moodle returns status 409 for that and Canvas sends 400. 2) Where the teacher set a \"maximum allowed attempts\" on the platform. Every time sync_grades sends a grade, that's interpreted as an attempt (at least in Canvas). In this case, Canvas sends 422, Moodle (I think) would send 400. My interpretation of 1 is that the teacher manually entered a grade on the platform. Moodle uses the timestamp from the grade submission, so there should never be a scenario where this would happen from sync_members ( except maybe daylight saving time scenarios ?) Once the grade is rejected, there's no point in sending it every time the task runs, so the correct behavior in my opinion is to treat it as though the grade was sent and update lastgradesent to the rejected grade so that it doesn't run again. It would be best to notify the teacher once that this scenario happened as well. In general, I think that's the right behavior when a grade is rejected and won't be accepted again in the future unless something changes on the platform: stop trying to send the grade every time by recording that you sent the un-accepted grade, and notify the teacher (aggregating the news into one message if there are 500 students in the same boat, say.) It should pass along the descriptive message from the platform's AGS if one was provided. For 2, I'm not as confident what the right behavior is. If a student were performing some activity where the grade increased incrementally and partial scores were sent a few times while the student completed the work, they would unfairly be cheated out of attempts. We've told faculty to set attempt limits on the Moodle tool instead of the platform since that's where constraining attempts should really happen. Quizzes wouldn't send a grade until after the student submits, so I'm not sure what's happening in all of these cases. It would be nice to gently inform the teacher of the situation, though: that score changes aren't being accepted by the platform because of constraints being applied on the platform. The best practice proposed: constraints for number of attempts should be enforced on the tool and not the platform. And the case mentioned in the original post: the teacher set up the platform gradebook with the wrong grademax. The grades were sent correctly but recalculated to fit the wrong grademax on the platform. When the teacher later fixed the grademax on the platform, it wasn't smart enough to recalculate the grades, and as far as Moodle was concerned, it had sent correct grade data and nothing had changed to warrant sending an update. The \"Force Grade Update\" button I had in mind was just for this case, where it would force Moodle to attempt to send grades for all students: it would still fail if the platform wasn't accepting the grades or had grades that were recorded at a more recent time. To override that last case, you'd need to spoof the time the grade was earned to the current time, so that should require some level of \"are you sure you want to do this?\" in the UI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 11, 2024, 11:41 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "For case 2 tend to agree the LTI tool should be managing this and not the LMS. There might need to be some warning or explaination on the Moodle end to help people understand this. That said there are a lot of LTI tools that dont manage attempts at all. its a really tricky one given there is no consistency.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 13, 2024, 10:10 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "What I'm leaning towards now for my environment's Moodle as LTI provider/tool is to add some status indicators to the enrolment methods menu for each published LTI tool instance under the Remote System sub-menu. Something like this: So Where \"Last error received\" is whatever error explanation the platform sent or else an \"All clear\" from the plugin language strings, \"status\" checks if the task will be sending data on the next scheduled run and if so when the task is scheduled to run (redundant for site admins), and force synchronization would do whatever is needed to attempt to send all data to the platform's respective AGS or NPRS again (although in the error case here, I don't think it should spoof new grade submission dates and override what I would think are manual grade adjustments on the platform). I would think anyone with the capability to publish an LTI tool should be able to force the sync operations.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1841020/ProposedChange.jpg"
          ],
          "Time": "Tuesday, May 14, 2024, 2:21 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "If you are thinking about permissions yuo might want to consider grade permissions rather than LTI tool configuration permissions. A lot of institutions will not allow instructors to configure LTI's at all.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 14, 2024, 10:05 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "These following details are probably known to you, but for LTI Provider/Tool, this form is the \"Publish as LTI Tool\" menu that enables a course activity to be available for deeplinking from a platform if LTI enrolments are enabled: presumably on the platform, a site administrator set it up so that teachers could use activities from the Moodle instance where enrol_lti is enabled and so somebody would need to publish the activities: publishing activities for deep-linking is done initially with this form and can be inherited in copies of the course if \"Include enrolment methods\" is set to \"yes\" for the restore task. For that initial setup, it's a different risk level to allow teachers to choose which activities they want to deep link to versus allowing them to add any LTI tool to their course and delegating that capability is necessary, in my opinion. That said, you raise a very good point that some of those settings do need to be disabled for the teacher role. It would be catastrophic, for example, if a teacher accidentally changed \"Role for student\" to something unintentionally allowing students to see each others work and set grades themselves; changing first launch provisioning mode would also be extraordinarily bad. There should be a separate capability for those two types of configuration settings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 14, 2024, 8:51 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "How far along are you in the development process of this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 21, 2024, 1:02 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "All concepts are proven, so it's going to be on my next sprint that starts next week. I'm unsure how useful these features are to others... We upgrade from LTS to LTS, so I'm looking forward to getting onto 4.5 where we'll have the Hooks API and won't need to modify core so extensively to bend it to our institutional needs. I think the 400 error handling at least has value to everyone, though, especially if there's some consensus on how they should be handled. And again, that should ideally depend on how Moodle's core LTI external tool consumer/platform chooses status codes when it handles an erroneous AGS request so the two components are internally consistent. The only feature suggested here that is a major change, at least with the design I have in mind, is the \"Sync Users\" button. The plan for the Sync Grades button is to simply create a new Ad hoc task for sync_tool_grades for that resource. To do the same with Sync Users would require similarly rewriting sync_members to work asynchronously like Sync_Grades was, and that's something that would be very helpful at scale. I've just created Issue MDL 81972 in case this question should be triaged (and taken out of this somewhat related forum discussion).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 21, 2024, 3:12 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle sync grades to LMS",
          "Text": "I have this implemented and agree with you 100% and furthermore this form isn't the right place to put this, and that a differently capability would be the smart move. My current thinking is making a new Grade Report that would show all platform usages of content from the current course. (Any thoughts on that would be thoroughly welcomed.) The critical problem is that editinstance form is for configuring an LTI activity for use in potentially many different platforms and potentially many times in the same course, but we would really want to force a grade or roster synchronization for a resource link (an instance of that Published LTI activity as used in a platform and with a specific gradebook line item associated with it). As I have it currently, it would sync all instances where it's used, so needs some refinement--not a problem for me now since I'm only integrated with one platform for production.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 1, 2024, 11:54 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460630,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460630",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "How do we now configure LTI activities based on tool URL?",
          "Text": "Third party supports LTI 1.1 in conjunction with URL based setup in the course i.e. we used to go to Add external tool > Tool Name > URL from the external entity. However, this option is no longer available in Moodle 4.4.1. Is there a workaround or different process for integrating URL based LTI integrations in 4.4.1?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 29, 2024, 10:21 PM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How do we now configure LTI activities based on tool URL?",
          "Text": "Hi Sali, Good question. The changes made in 4.3 mean that all tools must be configured prior to use. There is no 'on the fly' configuration of tools like there used to be, hence the 'tool-less' (for lack of a better phrase) 'External tool' activity icon was removed. All you need to do is configure the 1.1 tool as a course tool (via Course > More > LTI External tools), set it for use in the activity chooser (a toggle) and then use it from there. Please note, however, that you won't be able to set/use URL params on a per-instance basis now. That's no longer supported as the preferred approach (custom params) is used instead. For example, you configure a tool at the course level, then configure an instance of it (by selecting it from the activity chooser). Then, during configuration of that instance/link, you'd set custom params, which can be used pass substitution params or, commonly, as a way of telling the tool to display a particular resource. The tool will need to support parsing of the custom params to achieve this, however. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 30, 2024, 12:07 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How do we now configure LTI activities based on tool URL?",
          "Text": "Thank you, Jake, for your time to respond. So far, not much progress due to the vendor using URL based access and no option so far for parameters. We hope to figure out a workaround or something as this caught us by surprise and we use this integration in a lot of courses that start in 4 weeks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 31, 2024, 2:37 AM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How do we now configure LTI activities based on tool URL?",
          "Text": "Does the vendor support 1.3? That would be the clear path forward. 1.1 has been deprecated and out of support for a very long time now and vendors really should have moved over (though I realise some haven't).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 31, 2024, 9:01 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How do we now configure LTI activities based on tool URL?",
          "Text": "They do but they have not provided any details on the configuration for Moodle from their website or from support. Their portal has a function to enable 1.3 but then there is no guidance on what settings go to Moodle and what goes on their platform. We have a half dozen other LTI 1.3 integrations and in all cases the vendors provide us the settings and directions. We then give them the tool config setup back (typically 3 settings/URLs).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 31, 2024, 10:00 AM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460534,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460534",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle as a tool: Using LTI 1.1 and 1.3 at the same time",
          "Text": "Hi, We use \"moodle as a Tool\" to use moodle quizzes in our LMS platform where the moodle quizzes provide a specialised question type we don't otherwise have (specifically the mathematical STACK question type). We currently use Blackboard as the platform with an LTI 1.1 integration to moodle (quizzes) as a tool. We are in the process of migrating our LMS to Canvas and will set up an LTI 1.3 integration from Canvas as the platform to the same moodle environment as the tool. My question is can we use moodle as a tool with both LTI 1.1 and LTI 1.3 integrations running at the same time to two different LMS platforms without there being any impact on either LMS integration? My expectation is that as a taught course is moved from Blackboard to Canvas, teaching staff will stop using LTI 1.1 on Blackboard and then setup new LTI 1.3 integrations on Canvas. Are we best to delete/disable the Legacy LTI (1.1) published tool integrations in moodle as the new LTI 1.3 integrations are setup in the new Canvas platform or does this not matter? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2024, 8:01 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle as a tool: Using LTI 1.1 and 1.3 at the same time",
          "Text": "Hi Stuart, Yes, it's absolutely possible to consume the same resource (course or activity) over both 1.1 and 1.3 at the same time. You'll just end up with two enrolment methods in that course, both of which will facilitate access to the same quiz. Ideally, you'd want to either time box or remove the legacy instances, but that's more about keeping things tidy rather than for any technical reason. There's no reason they can't co-exist side by side like this. In fact, it was designed like this to allow progressive adoption without impacting existing uses. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 9:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as a tool: Using LTI 1.1 and 1.3 at the same time",
          "Text": "It does help, thank you. Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 3:55 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454683,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454683",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Up until the recent Moodle release we have been implementing LTI 1.1 content links by overriding the Tool URL on each activity. As this is no longer possible how do we go about implementing the Deep Linking 'Select content' functionality using LTI 1.1? I thought this was only a feature of 1.3? Any advice gratefully received!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 12:03 AM",
          "AuthorName": "Tim Abbott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6216405&course=5",
          "role": [
            "Picture of Tim Abbott"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Hi Tim, Deep linking is definitely supported via 1.1 (see https://www.imsglobal.org/specs/lticiv1p0 ). Sadly, that doesn't mean all tools support it. There's a nearly identical post over in another thread, where I replied a few days back - see https://moodle.org/mod/forum/discuss.php?d=454439#p1825913 I'd definitely like for us to find a middle ground before the next Moodle LTS (4.5). Perhaps that means we need to expose custom params at the instance level again to permit manual link configuration in cases where deep linking isn't possible (we're still assessing that option). However, it's unlikely that middle ground will be to permit the use of URL params to identify specific resources, given the specs have provided other means to do this for quite some time now (custom params and/or deep linking). Thanks for adding another voice to the conversation",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 9:36 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Just following on from Jakes post, I'd be strongly recommending moving to LTI 1.3 given 1.1 is no longer supported by 1EdTech and has some known security issues. LTI 1.3 is more complex but its the modern standard that will continue to be developed long term",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 11:14 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Thanks Brett. Our tool has been updated to support 1.3 but we also need to support 1.1 for some clients sadly!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 6:25 PM",
          "AuthorName": "Tim Abbott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6216405&course=5",
          "role": [
            "Picture of Tim Abbott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Totally understand, Moodle core is in much the same position. Hope the work goes well",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 30, 2024, 1:06 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "I was experimenting with Moodle 4.3 to Moodle 4.3 LTI connectivity recently. Once I had it working it was a bit like magic. However the documentation covers all possibilities, which is understandable but really confusing. I have created a stripped down version that documents just LTI 1.3 (Advantage?) Moodle 4.3 to Moodle 4.3. Would it be useful to add that to the Wiki docs as an option.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 30, 2024, 3:52 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Add away, Marcus.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 30, 2024, 4:39 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Marcus that would be really appreciated. The existing documentation is a bit patchy so the contribution would be greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 31, 2024, 6:10 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "yes please ... that would be helpful... mine does not work",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 1, 2024, 12:50 PM",
          "AuthorName": "Jerry Lau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1324621&course=5",
          "role": [
            "Picture of Jerry Lau",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Please publish this information !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 11:24 AM",
          "AuthorName": "Angus Denton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1780481&course=5",
          "role": [
            "Picture of Angus Denton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Here you go: https://docs.moodle.org/404/en/LTI_Moodle_to_Moodle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 11:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Many thanks Jake. We are a tool provider so will look into deep linking for 1.1 as that seems like the most intuitive way forward for the end user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 6:21 PM",
          "AuthorName": "Tim Abbott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6216405&course=5",
          "role": [
            "Picture of Tim Abbott"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460382,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460382",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "How to set-up Moodle as LTI provider and Laravel as Consumer",
          "Text": "Hi, We have created a course in Moodle that we want to integrate with our Laravel platform using LTI 1.3. We have two separate site instances: one in Laravel and one in Moodle. Our goal is to use the Moodle quiz and display it to users on the Laravel platform, users will attempt and grade will be sent to moodle. so that users will remain within Laravel. How can we achieve this integration using LTI?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2024, 5:30 PM",
          "AuthorName": "Dipti Gajjar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4967712&course=5",
          "role": [
            "Picture of Dipti Gajjar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to set-up Moodle as LTI provider and Laravel as Consumer",
          "Text": "Does Laraval come with LTI support?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 20, 2024, 4:39 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to set-up Moodle as LTI provider and Laravel as Consumer",
          "Text": "There are plenty of PHP LTI libraries around, Celtic being one of the more well known ones. there is this project that is a Laravel wrapper for Celtic. https://github.com/longhornopen/laravel-celtic-lti",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 22, 2024, 9:14 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to set-up Moodle as LTI provider and Laravel as Consumer",
          "Text": "We have APP as well that consumes the laravel api's. We want to integrate same quiz in mobile as well, can it be done with LTI?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2024, 12:07 PM",
          "AuthorName": "Dipti Gajjar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4967712&course=5",
          "role": [
            "Picture of Dipti Gajjar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to set-up Moodle as LTI provider and Laravel as Consumer",
          "Text": "Yes, LTI via mobile is possible. In fact, the Moodle Mobile app makes that work already. I can't explain the specifics of that, since that's developed by another team, but they make it work. I believe one important thing to be aware of is the fact that you may need to consider if/when to launch the mobile browser from the app, in order to perform launches (not sure if possible in webview and the like), and you'll definitely need to be mindful of cookie handling given the current state of browser cookie handling. And just to add another library into the mix: This one's quite popular and is certified and fairly widely used afaik: https://github.com/oat-sa/lib-lti1p3-core",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 10:28 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460265,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460265",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "We have built a course in Moodle that we want to consume in other LMS platforms using LTI 1.3. We have successfully tested some basic integrations with the LTI Tool we published in Moodle. When publishing as LTI Tool, we chose LTI Advantage and selected the course as what's being published. When using content selection (deep linking) in our test LMS Platforms, we were able to sign in as a Moodle user and view the content selection page. Seems to be working as described in the documentation, but we are aiming for a slightly different experience. We want to allow teachers the ability to link/select any of the resources a part of the course into their LMS platform. While we have a full course, we know some schools will only use it as supplemental material. This is a major reason why we want to expose the entire set of course resources in the content selection menu. Then a teacher can pick and choose which sections , activities , and quizzes they want to include in the course they manage in their LMS platform. I have read Moodle's LTI documentation extensively but haven't come across anything about this use case. Is it possible to configure our Moodle LTI Tool to show each activity/resource in the content selection menu instead of only seeing the full course? I will note that I assume we could in theory export each individual resource as an LTI Tool, but that wouldn't be a maintainable solution due to the number of tools we'd have to manage multiplied by each school. It would also prevent us from utilizing the lovely enrollment features of the LTI Tool. I would have included links and screenshots, but my new account is getting flagged when posting so for now I'm posting plain text. Hopefully I'll be able to post images and links soon.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 16, 2024, 4:24 AM",
          "AuthorName": "Jordan Kintzle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6524840&course=5",
          "role": [
            "Picture of Jordan Kintzle"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "Hi Jordan, First up, it's important to note that 'tool', when dealing with LTI Advantage, just means \"The Moodle site hosting the resources\". I.e. the entire site is the tool, not just the resource being published. That differs from 1.1 where tool really did mean the specific resource you were publishing, and the security contract existed for each published resource (hence each was its own tool). To see all the various resources in the content selection view, yes, you need to publish each one. This is essentially a carry over from the 1.1 days, where the publication method permitted either course publication, or individual resource publication (this wasn't changed when adding LTI 1.3 support), and is necessary because we need an enrolment instance per resource if the resources are to be used individually - at least that's the way things work right now. Just stepping back a bit though... Is your goal to have one enrolment instance per school, so you can separate the users of each instance or even control enrolment defaults on a per school basis? I'm just trying to understand the use case a bit better. - Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 16, 2024, 11:50 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "Thanks Jake, that is good to know that the entire Moodle site is considered the Tool. We were assuming the plugin was limiting the tool to just the course or selected resource being published. This brings up a few security concerns based on how we assumed the administration would work, but I'll come back to that later. You are on the right track with your assumption of our goal, but let me expand. The following is based on how we assumed the plugin would work. So we've created a course in Moodle. Now we want to deliver the course to our customers' (mostly schools but also businesses) LMS using LTI. For each school we would create an LTI Tool that publishes the entire course. Since the plugin offers enrollment duration/date settings, we would utilize that to ensure the schools only have access to the tool while their subscription is active. We also planned to utilize the maximum enrolled users setting to ensure a school does not have more users than their subscription allows. We also hoped that the teachers would be able to pick and choose what resources/activities from our course they want to include in their course within their school's LMS. We also expected this would allow grades to be synced back to their school's LMS. Based on the tool's settings, it looked like there was some solid administrative tooling available. I suspect we may have incorrect assumptions about how this can work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 17, 2024, 12:28 AM",
          "AuthorName": "Jordan Kintzle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6524840&course=5",
          "role": [
            "Picture of Jordan Kintzle"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "Thanks for expanding, Jordan. Right off the bat, it's clear you're hitting the tenancy limitations of Moodle (Moodle has no tenants unless you get into Workplace, but that's another story). Essentially, were you to set up 10 x published courses (or activities, it doesn't matter) over LTI Advantage, there would be no way to say \"Only show this particular published resource to this particular consumer\". So, while you could set up 10 individual consumers under \"Tool registration\", each would see the same list of resources. This is obviously not ideal when you want to limit what one customer sees. There's an issue, MDL-74233 , which is scoped with potentially adding the ability to publish to specific vendors(consumers), which might make this process nicer for use cases like yours. You either need that piece of work to limit what each customer sees during deep linking, or you need to scrap deep linking and use manually configured links in each consumer. This last part is basically how LTI 1.1 would have been set up since we didn't support deep linking at that time. Essentially, deep linking needs some more love. In terms of picking and choosing which resources are added, based on a single course enrolment instance, well that's just not possible right now, unfortunately. A role is assigned to the launching user based on the Moodle context of the course/resource selected on the enrolment instance. If a user launches into a shared course, they can see the entire course. If a user only launches in to a single activity, they can't break out of that context and view other activities in the course. That's not to say we couldn't support something like what you're suggesting, it's just it's not built that way right now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 17, 2024, 9:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "\"Essentially, were you to set up 10 x published courses (or activities , it doesn't matter) over LTI Advantage, there would be no way to say \"Only show this particular published resource to this particular consumer\". So, while you could set up 10 individual consumers under \"Tool registration\", each would see the same list of resources.\" If I'm understanding this correctly, I don't think this poses a problem for our use case until we have multiple courses. We currently only have one course that we are selling (although we will be adding a second in the next year). So it would be acceptable for all consumers to see the same list of resources. However, once we have different courses that need to be distributed to different consumers, then this sounds like a issue because teachers using deep linking would be able to see resources across all courses. Please correct me if my understanding seems off. \"You either need that piece of work to limit what each customer sees during deep linking, or you need to scrap deep linking and use manually configured links in each consumer. \" LTI 1.1 with manually configured links seems to be the only path forward I can see currently. Just now I finally successfully created and accessed a manually created link to our LTI 1.1 published external tool. I'm still trying to get the grade back though. First attempt didn't work. I will probably create a new forum post for my questions about LTI 1.1 so this post stays on topic.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2024, 2:48 AM",
          "AuthorName": "Jordan Kintzle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6524840&course=5",
          "role": [
            "Picture of Jordan Kintzle"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "Hi Jordan, Just to clarify what I meant about the limitations wrt this bit: \"If I'm understanding this correctly, I don't think this poses a problem for our use case until we have multiple courses. We currently only have one course that we are selling (although we will be adding a second in the next year). So it would be acceptable for all consumers to see the same list of resources.\" Firstly, my assumption is that you're wanting to use different enrolment methods to control access for different customers. A method per customer. If that's not right, then the following point is probably moot. So, with that in mind, the issue you'd likely see, even if you're only selling a single course/activity, is that deep linking will show ALL the enrolment methods. E.g. if you publish the course for both customer 1 and customer 2 (each having its own distinct enrolment method), then deep linking will show BOTH to both customers. I.e. the course will be listed twice, which isn't great. Currently, you'll only see this behaviour for activity publication because the a bug - MDL-81971 - but it should be the case for course publication too. This is why publication to a specific registration would be such a handy improvement, because it means you could publish whatever you like and control it on a per-customer basis. If one customer only needed access to one activity, you could achieve that. Of course, work is needed to achieve this feature still (it's only a proposal at this stage). If that kind of thing would potentially be useful for your use case, though, please feel free to add a +1 and a brief explanation to the tracker issue - MDL-74233 for that one. And finally, just to give you another alternative for this bit: \"LTI 1.1 with manually configured links seems to be the only path forward I can see currently.\" You can use manually configured links with LTI 1.3 too. The key is to set up the tool configuration in the platform without deep linking. You'd also need to make sure that, in the tool course you're sharing, you haven't created editing teacher (or similar) accounts for the tool users (this part ensures that, were a customer to reconfigure the tool with deep linking support, they still wouldn't be able to see the published resources in a content selection launch anyway). If used this way, you can use LTI 1.3 just like 1.1. You just configure the tool-platform relationship (URLs, deployment, clientId, etc), then, instead of using deep linking, you manually share the URLs + custom params with clients. All they do is manually configure a resource link and make sure paste the \"id=xxxxxx\" as custom params to be included in the launch (where xxxx is taken from the enrolment instance custom params in the tool). Then, anyone using that link can launch into that course/activity. Hopefully that's some more food for thought. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2024, 9:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "Yes, this is extremely helpful. Lots of food for thought. I think we will probably revisit our requirements to better align with the current capabilities of Moodle. If we were to assume that we were happy with only manual links created using either an LTI 1.1 or LTI 1.3 external tool, do you know if it should be possible for results from a graded assignment (ie a quiz in our Moodle course) to be sent back to the school's LMS?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, July 19, 2024, 5:07 AM",
          "AuthorName": "Jordan Kintzle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6524840&course=5",
          "role": [
            "Picture of Jordan Kintzle"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "Yep, with just one 'gotcha': If the course is published, only the course grade will be synced. If the individual activities are published and consumed individually, then you'll be able to sync individual grades. Grade sync depends on a cron + adhoc task combination in the tool site and is async because of that - just something else to be aware of.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2024, 9:35 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "I can't speak to the tenancy issues, but may be able to help a little with making this work for you despite the concerns raised at the end of your post. \" I will note that I assume we could in theory export each individual resource as an LTI Tool, but that wouldn't be a maintainable solution due to the number of tools we'd have to manage multiplied by each school .\" In site settings->courses->general restore defaults, if you set \"Include enrolment methods\" to \"Yes, Always\", the \"Published Content\" from a source course will be also published in copies made from that course. (From Jake's clarifications in this thread, it may be best to rename the link to that menu from the course page navigation to something other than \"Publish as LTI tool\"). This makes maintaining the set of resources much more manageable: If you set up one template course with all of the activities you want all of the customers to have available, you can copy it for each new customer, and new UUIDs for the copied activities' published resources will also be created. You would then need to set up the instructor's user accounts to be able to access the right courses. How you do that last part can require customization if you want LTI to be the sole authentication method for the Moodle environment aside from manual admin accounts. \" It would also prevent us from utilizing the lovely enrollment features of the LTI Tool \" Publishing the activities from the course individually creates enrolments at the activity context level instead of the course context and that threw me off at first--I suspect that's what you mean, that students don't show up in the course gradebook, etc. In my moodle environment, I have teacher enrolments escalated to the course context level in this situation via customizations (core hacks) in tool_launch_service and the sync_members task. This allows teachers to access the course they're using so they can create new activities and publish them to their platform course. Students are still enrolled and assigned roles at the activity level since they don't benefit from an enrollment at the course context on the Moodle tool in our estimation. There's nothing stopping you from checking the contextlevel for all users, though, and enrolling them at the course context containing the activities they would ordinarily be enrolled in. And since I'm curious to better understand your use case and whether I'm using enrol lti as well as I can, if I'm off base with what you're after... I had a good grasp of LTI 1.1 and am still wrapping my head around some of the nuances of LTI 1.3 and what it can do. One thing LTI advantage can do that LTI 1.1 could not is create new gradebook line items on the platform, opening up new ways to handle using full courses in a platform and more generally, how to handle Moodle activities that contain multiple grades for the same activity. Those include full courses, obviously, but also workshop and forums with whole forum grading and rating enabled, plus who knows what other plugins. One thing I've been considering is having an option to deconstruct a course and publish all of its activities to the platform with individual gradebook line items for all grade items in Moodle and deep links to any activity in the course. How to make that work well would differ between platform LMS's, but if that's an idea that sounds appealing for what you want to accomplish, I'd be keen to learn more.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 17, 2024, 9:12 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "Hey Liam - thanks for the additional insight! \"If you set up one template course with all of the activities you want all of the customers to have available, you can copy it for each new customer, and new UUIDs for the copied activities ' published resources will also be created.\" It sounds like you are suggesting we could use Moodle's copy/clone/template features to create a unique course for each customer. The template can be configured to include the published tools so they don't have to be recreated again. Is my understanding correct? This would certainly make the administration more scalable. Providing the platform teacher user's access to their school's instance of a course sounds manageable. However, Jake made it sound like the Tool itself is actually the Moodle instance and not the course/activity that was published. So thinking through this scenario, would the privacy concerns issue still be a problem here or does this restrict LTI users' access to only the one course? \"How you do that last part can require customization if you want LTI to be the sole authentication method for the Moodle environment aside from manual admin accounts.\" Does this mean its technically possible to allow a platform teacher user to use the content selection screen without requiring they have an account in our Moodle instance? I was kind of assuming this wasn't possible based off the documentation, well at least without custom development in Moodle. But it would be very helpful to verify if this is truly possible even if some development or manual administration of users is required. \"Publishing the activities from the course individually creates enrolments at the activity context level instead of the course context and that threw me off at first--I suspect that's what you mean, that students don't show up in the course gradebook, etc.\" Yes, the course gradebook is one of the concerns. It may not be compliant if a teacher from one school could see the gradebook for another school. I haven't gotten into the grading features yet, but I will likely be getting there in the next week. I was actually referring to the user limit, duration, start date, and end date properties when publishing a tool. It looked like a simple way to enforce user and access date limits for each school. There's more from your post I'd like to reply to, but will have to wait until tomorrow.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2024, 8:12 AM",
          "AuthorName": "Jordan Kintzle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6524840&course=5",
          "role": [
            "Picture of Jordan Kintzle"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "The User Account Provisioning section of the docs covers how to create users. \"New accounts only\" creates a user account when someone launches into an activity, but that doesn't help you much if the first launch to the Moodle tool from a teacher is to the resource link repository--the Moodle page the Platform would show to allow you to choose an activity to add to the platform. A newly created user without any teacher enrollments wouldn't see anything there: they can only add published LTI resources to the platform that they have a teacher role in. One strategy to create those teacher user accounts ahead of time would be to enroll all of the teachers for a customer into a training course on the platform that's using your Moodle Tool to serve as a sort of orientation--but also to serve as a way to have Moodle's sync_members task pull the roster from that course and auto-provision all the lti auth accounts on your Moodle tool. With those accounts created, you could create the copies of your template course that has LTI resources pre-published and enroll those teachers in them in a way that meets your needs. At that point, when teachers launch into the resource link repository, they'd see just the published activities for the Moodle courses they're a teacher in; within the courses, they'd only see the students at their institution using that course and not students from other courses. That's the long story about how that would address the privacy concerns you raised, but at the cost of managing teacher enrollments in some strategy that accomplished what the one described above does: that's what the second paragraph in the MDL-74233 issue Jake referred you to wants to avoid. It would be a useful feature to have options for how the resource link repository is populated: right now, the only option is showing all activities that the user has a teacher or higher role for (so a VERY long list for admin users on a heavily used environment and nothing for brand new users), MDL-74233 would like the list of available activities to be determined on an application registration basis, and I'd want to only show the list of activities that were prepared for the specific course on the platform launching the repository.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2024, 11:31 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Published as LTI Tool - Can we make all resources available during content selection?",
          "Text": "This insight is so valuable. Thank you again Liam.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2024, 5:07 AM",
          "AuthorName": "Jordan Kintzle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6524840&course=5",
          "role": [
            "Picture of Jordan Kintzle"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460357,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460357",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Barnes & Noble and Other Publishers' LTI 1.3 Tools",
          "Text": "Greetings! We set up the LTI Barnes & Noble [BNC] in late June for this Fall semester. So far things appear to be working with the course and roster sync. I have created the external tool on a test Moodle site at the instructor/teacher level, added some test student accounts, and the connection from Moodle to the BNC portal works fine. We have a few courses that are \"exempt\" from BNC this coming fall and one of those courses wishes to use Macmillan Learning. We have used Macmillan products as LTI 1.0/1.1 in the past when we were running Moode 3.x and Macmillian now has LTI 1.3 support. We are running Moodle 4.1.3 and plan on using Macmillan's 1.3 integration. The conflict concern, any potential of impacting Moodle's performance, and conflict of students/instructor accounts in Macmillan is with the following scenario - I have reached out to both BNC and Macmillian with the same question/concern. Fall 2024 Intro Psych course NOT using BNC - set up the Macmillian LTI 1.3 to sync grades and access publishers' content. This same professor will use the same textbook and the same Macmillian Learning services for the Spring 2025 BUT through Barnes & Noble. The Macmillan LTI 1.3 would not be used in Spring 2025 as all courses that are not exempt must use Barnes & Noble. Has anyone had the same type of scenario with Barnes & Noble and any other publisher's content that is not delivered through Barnes & Noble active at the same time? If so and if you could share your experiences that would be great ... and any other related comments are most welcomed! Thank you - Melanie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2024, 10:26 PM",
          "AuthorName": "Melanie Hoag",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16061&course=5",
          "role": [
            "Picture of Melanie Hoag"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 457962,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457962",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Exception - Invalid Nonce",
          "Text": "Good afternoon, I am implementing my LMS platform to consume tools, but I have a problem in the last step of the LTI flow, when I try to consume a Moodle course as an external tool, Moodle tells me: Exception - invalid nonce. Could you give me more information why the nonce is invalid? I was investigating and one of the causes was the lifetime, I tried to increase the lifetime of the nonce to 300 seconds, but it had no results. I also verified that the nonce was sent correctly in the JWT payload. I am using the library: https://github.com/oat-sa/bundle-lti1p3 response autentication to moodle tool: https://jwt.io/#debugger-io?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6InBsYXRmb3JtS2V5In0.eyJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS92ZXJzaW9uIjoiMS4zLjAiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9tZXNzYWdlX3R5cGUiOiJMdGlSZXNvdXJjZUxpbmtSZXF1ZXN0IiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vZGVwbG95bWVudF9pZCI6ImRlcGxveW1lbnRfMSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3RhcmdldF9saW5rX3VyaSI6Imh0dHBzOi8vZm94aXplLm1vb2RsZWNsb3VkLmNvbS9lbnJvbC9sdGkvbGF1bmNoLnBocCIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3JvbGVzIjpbImh0dHA6Ly9wdXJsLmltc2dsb2JhbC5vcmcvdm9jYWIvbGlzL3YyL21lbWJlcnNoaXAjTGVhcm5lciJdLCJyZWdpc3RyYXRpb25faWQiOiJmb3hpemUiLCJub25jZSI6IjljMzg4YWViLTY0YjYtNGRlZS1iZTFjLWNkYzFmMjFiZTIxMCIsImp0aSI6IjFjZjYyNzFkLTg5ZDUtNDc3Zi1iNGIyLWE4MTVmNzkzYjM5NyIsImlhdCI6MTcxNDM3ODMyNi4zMDMxNTgsIm5iZiI6MTcxNDM3ODMyNi4zMDMxNTgsImV4cCI6MTcxNDM3ODkyNi4zMDMxNTgsImlzcyI6Imh0dHBzOi8vdW5pdC5mb3hpemVjbG91ZC5sb2NhbC9mb3hkZXYucGhwIiwiYXVkIjoiMTQ1MThmYTItZGM5MS00OGM3LWIxOGItMDdlZTAyZGE4ZGMxIiwic3ViIjoiMTQ1MThmYTItZGM5MS00OGM3LWIxOGItMDdlZTAyZGE4ZGMxIiwibmFtZSI6InRvbWFzIn0.NIQVORurQAVCt4PdnQDCQpdsHtxZrJpMkGzVY4JwAypRyhf8jTucPN-op0lQBdcW1cgjaJ2FTvW6Px2AjHhglct7qx3bgRoIJUVtrRIj0tVYAoKAcntNWdj0G0j4W5stQe4-U5Qxi3nX5WErA0ue-qVAitdDx-25hzrTdL46Y4_4cLzsmLXPtgx0-W2ohwi1_O0JRnseU5xyVlUVMlHTpD9kIOlodZJiyEvgJBOA0otDn9hkUSnINNmAFclkBDl_u4yp125ekbPVd1MizyUzWyNrTqIJ2PFwIC4_6-mnqeI7syyx8BB5c1Z6LypdI3y44MTQcTPU4YMdHiEo_2HB5g",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1839165/invalid_nonce.png?forcedownload=1"
          ],
          "Time": "Monday, April 29, 2024, 4:13 PM",
          "AuthorName": "Tomás Villaseca",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6429003&course=5",
          "role": [
            "Picture of Tomás Villaseca"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Exception - Invalid Nonce",
          "Text": "We're probably going to need some more information on this one. The nonce is stored in the session during the launch so is subject to browser 3rd party cookie policy. Are you trying to launch the tool inside an iframe? What version of Moodle are you running? What browser?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 29, 2024, 4:21 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Exception - Invalid Nonce",
          "Text": "I'm starting the tool inside an iframe, right now I'm using firefox as a browser, I'm running the latest version of moodle. Here I leave you more information:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1839169/moodle-config.png?forcedownload=1"
          ],
          "Time": "Monday, April 29, 2024, 4:40 PM",
          "AuthorName": "Tomás Villaseca",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6429003&course=5",
          "role": [
            "Picture of Tomás Villaseca"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Exception - Invalid Nonce",
          "Text": "Hi, I have the same problem. Do you have the solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 17, 2024, 7:20 PM",
          "AuthorName": "Fernando Morales",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6552000&course=5",
          "role": [
            "Picture of Fernando Morales"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459189,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459189",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Schoology - Add Material from Moodle",
          "Text": "I have successfully linked a Schoology course to a Moodle Course running as an LTI 3.1 App. I can launch my Moodle course from Schoology. However, when I try to add contents of the course in the Materials section of the Schoology Course, Moodle throws the following error: Exception - enrol_lti\\local\\ltiadvantage\\repository\\resource_link_repository::find_by_deployment(): Argument #2 ($resourcelinkid) must be of type string, null given, called in [ dirroot ]/enrol/lti/classes/local/ltiadvantage/service/tool_launch_service.php on line 149 I also recorded a video of this here I believe this is the Deep Linking feature. Is there something I need to enable in my course? Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1844041/image%20%281%29.png"
          ],
          "Time": "Friday, June 7, 2024, 6:28 AM",
          "AuthorName": "Amos Patrick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6493026&course=5",
          "role": [
            "Picture of Amos Patrick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Schoology - Add Material from Moodle",
          "Text": "Hi Amos, You need to set it up in Schoology such that deep linking (content selection) launches go to a different launch URL : enrol/lti/launch_deeplink.php. The above error is happening because you're doing a 'normal' resource link launch and the platform hasn't included a resource link. I can't tell you how you change that, having not used Schoology myself, but I'm sure there's a way. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 7, 2024, 9:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Schoology - Add Material from Moodle",
          "Text": "Hey Jake, thanks for your response to our question. My colleague Amos didn't noticed you had replied to his question. This issue was indeed caused because he wasn't overwriting the default launch URL with the deep linking URL for the placements that require deep linking. We were able to get this working in our Schoology testing instance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 16, 2024, 3:51 AM",
          "AuthorName": "Jordan Kintzle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6524840&course=5",
          "role": [
            "Picture of Jordan Kintzle"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458513,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458513",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "I have created a LTI bridge to our survey tool Qualtrics. I am using the external tool activity  and have created a config file  for the bridge  so  details can be set  e.g. url to pass and some account details  like     lis_result_sourcedid i would like to set some custom parameters  e.g the survey id  in the  instructorcustomparameters feild and this to  be populated in the file I was look for some help on doing this if I set the survey id in the config file i can add it using $this->launchParams[\"survey_id\"] i have  created a function  below to build the url need public function launch() { // Any parameters that have been specified by the Tool Consumer can be passed to Qualtrics to allow for customization. $urlParams = array( \"SID\" => $this->launchParams[\"survey_id\"] ); foreach ($this->launchParams as $key => $val) { if (Config::get(\"custom_pass_all\") || in_array($key, Config::get(\"custom_pass_params\"))) $urlParams[$key] = $val; } // Build the request to the Qualtrics endpoint. $url = $this->launchParams[\"custom_qualtrics_url\"]; $query = http_build_query($urlParams); // Perform the redirect. header(\"Location: \" . $url . \"?\" . $query); } Any help or advice would be great",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 15, 2024, 10:58 PM",
          "AuthorName": "Mark Lapsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2456824&course=5",
          "role": [
            "Picture of Mark Lapsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "Hi Mark, I'm not 100% clear on the specific bit you're asking for help with, so I'll try to get this clear first. Apologies if I've missed something obvious. First up, Moodle definitely supports setting custom params, as it seems you're aware. These will be sent in the launch data as you'd expect. Then, it sounds like you're doing something on the tool side (or whatever part of this bridge is receiving the LTI launch), to kind of juggle these params into a meaningful internal URL (i.e. take custom params a,b,c and make a URL like qualtrics.test?a=x&b=y&c=z), presumably because Qualtrics doesn't provide an LTI implementation. Am I right so far? It's really then this bit that I'm then confused about: I would like to set some custom parameters  e.g the survey id  in the  instructorcustomparameters feild and this to  be populated in the file What file are you referring to? A file that lives on the tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 16, 2024, 3:23 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "HI Jake you are definitely right with Qualtrics there is no plugin or LTI integration with Moodle, i manged to resolve the issue by changing it to bult the query in the custom parameter so now in the custom parameter is survey_id=SV_9ugh7IxBRCndy33 instead of SV_9ugh7IxBRCndy33 but thanks for you help we now can use Qualtrics with Moodle always appreciate you help Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 16, 2024, 5:22 PM",
          "AuthorName": "Mark Lapsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2456824&course=5",
          "role": [
            "Picture of Mark Lapsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "Hello Mark, we are trying to get Qualtrics to work.  Would you be willing to provide some guidance.  We are also looking at the custom parameters and I’m at a lose as to what I need for those parameters. thanks for any help, Dave",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 8:55 AM",
          "AuthorName": "David Siemens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=169343&course=5",
          "role": [
            "Picture of David Siemens"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "If Qualtrics doesn't provide an endpoint for LTI authentication by Moodle and instead has unauthenticated survey urls, you can accomplish what you want with a URL Resource activity as said above. Create your link to the survey with a URL activity instead of an LTI activity, including any fixed url-encoded parameters like survey_id=xx_xxxxxx, then expand the URL variables submenu to enter any student-specific parameter names in the text field and select the field you want sent for that parameter under the User section of the \"Choose a variable...\"  selector. That lets you generate individualized links for students like https://example.com/survey?id=foo&user=bar&course=ItsAllGreekToMe where user expects a student's username and course expects some identifier for a course like a Moodle internal UID or a course short name. LTI isn't needed for this use case, if indeed what you want to do is simply to generate links specific to individuals. (And those URL activities can be linked to from within other course activities or notification emails via autolinking).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 8:43 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "Hi Dave Yes  happy to help   what are you using to  link to  Qualtrics?  Iam using  LTI   script that i customised to work with moodle  what the issue you are having ? Thnaks nark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 11, 2024, 4:56 PM",
          "AuthorName": "Mark Lapsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2456824&course=5",
          "role": [
            "Picture of Mark Lapsley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460106,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460106",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTIv 1.3 and Qualtics",
          "Text": "First, has anybody setup an LTI connection with Qualtrics (Student Evaluation) We are having issues with the user id and Qualtrics.  Qualtrics is looking for the id from the profile custom 'User idnumber' this number comes in from our SIS which is the institution identifier. Within the LTI configuration 'custom parameters' we have it set to user_id=$User.id This works only if the user is manually created as I think this is connecting to the Moodle unique id number.  I need help in identifying the field in the Moodle database that points to the optional \"id number' within the profile. Thanks, any help is much appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 7:20 AM",
          "AuthorName": "David Siemens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=169343&course=5",
          "role": [
            "Picture of David Siemens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTIv 1.3 and Qualtics",
          "Text": "Hi David, You can get idnumber by sending a custom param using the substitution variable $Person.sourcedId. e.g. idnumber=$Person.sourcedId Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 9:10 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451653,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451653",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI v1.3 does not work with Zoom LTI Pro and Moodle",
          "Text": "In a previous post on this forum: https://moodle.org/mod/forum/discuss.php?d=428486 What was the resolution of that issue? I have what looks like the same issue: For example, I have Moodle installed at https://{ domain }/courses (i.e., under the folder /courses and not at the root of the domain). In a Zoom ticket, Zoom is saying that the following URLs need to be publicly available at the root of the domain: {domain}/mod/lti/certs.php, {domain}/mod/lti/auth.php, and {domain}/mod/lti/token.php. Clearly they are available publicly but since I have Moodle installed under /courses those URLs are available at: {domain}/courses//mod/lti/certs.php, {domain}/courses/mod/lti/auth.php, {domain}/courses/mod/lti/token.php --but Zoom doesn't seem to be able to handle this. I ask because this is either a documentation \"bug\" in Moodle, e.g., if Moodle installed not at the domain root has other LTI requirements concerning some mounts not under such (but if so, then that really is an LTI API design bug because it is normal to install web applications not at the domain root but Moodle's docs should clearly state such), or, it is a bug with Zoom's LTI application implementation since it doesn't properly handle subdomains, right? Or is this something else? (The issue that arises is that this prevents LTI v1.3 from working (Zoom errors are always reported) --so LTI v1.1 appears to work but not v1.3.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 19, 2023, 12:00 AM",
          "AuthorName": "Paul Preney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=102519&course=5",
          "role": [
            "Picture of Paul Preney"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI v1.3 does not work with Zoom LTI Pro and Moodle",
          "Text": "If Zoom is saying that, then it sounds very much like a Zoom-specific problem. Tools should be able to use these URLs just fine, and many, many other tools do without issue. There is nothing in the spec that says these must be at the root of the domain, and in fact we certify with 1EdTech using https://DOMAIN/403/mod/lti/certs.php etc. A subdomain, e.g. https://sub.domain/moodle/mod/lti/certs.php would equally be fine.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 19, 2023, 9:41 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI v1.3 does not work with Zoom LTI Pro and Moodle",
          "Text": "True, I had that issue a year ago with zoom. They don't seem to like moodles served from a subdirectory!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 7, 2023, 3:22 AM",
          "AuthorName": "Eric Katchan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555818&course=5",
          "role": [
            "Picture of Eric Katchan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI v1.3 does not work with Zoom LTI Pro and Moodle",
          "Text": "Hi Paul! I had the same problem with zoom two years ago and it was impossible to resolve...even talking to them directly...do you know if there is a new and innovative solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 4, 2024, 6:56 PM",
          "AuthorName": "Jorge Ramos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=136627&course=5",
          "role": [
            "Picture of Jorge Ramos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI v1.3 does not work with Zoom LTI Pro and Moodle",
          "Text": "Would a symbolic link from wwwroot /mod ->wwwroot/courses/mod take care of this? Assuming you don't have a use for wwwroot/mod/lti/ or those specific routes, it should be that simple, right?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 5, 2024, 1:42 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459897,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459897",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI content not displaying in EMBED mode",
          "Text": "Hello, I'm testing LTI Advantage on Moodle 4.1. I've managed to publish an LTI tool on one platform and add it to a course as an external tool on a client platform. However this only works if I configure the external tool on the client plpatform to display in a new window. If I try to display as EMBEDded content, the Moodle client platform displays a \"TOOLPLATFORM refused to connect\". (yes, on the client platform it is telling me that the tool platform cannot connect) This also impacts the \"Select content\" screen when using a preconfigured tool and the LTI1.3 dynamic registration screen : Both display the \"refused to connect error. \"Allow frame embedding\" = YES on both tool and client platforms. Many thanks for your help! Justin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 2, 2024, 7:35 PM",
          "AuthorName": "Justin Templemore-Finlayson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6503558&course=5",
          "role": [
            "Picture of Justin Templemore-Finlayson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI content not displaying in EMBED mode",
          "Text": "It sounds like the webserver configuration is adding x-frame-options headers despite Moodle's configuration. You should be able to confirm that in the network tab of your browser's developer tools. How to get rid of those depends on the web server you're using . (And if you don't see those headers, the linked page has a link to content-security-policy header documentation that would be the next place to look.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 3, 2024, 1:07 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459720,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459720",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Can LTI be used like an API?",
          "Text": "Hi everyone, I'm a web developer with no Moodle experience who is feeling very lost at the moment, and I'd be very grateful if someone could help me with a fairly general LTI question. I have a PHP application that needs to pull some grade information from a course in our University's instance of Moodle (similar to how one would get data via an API). I have admin access for that course, and the team that manages Moodle suggested that creating an External Tool would probably be the best way to do that, but they don't have experience with LTI to guide me further. I don't need to add or modify grades, only read them. I tried creating an External Tool and set the tool URL to a PHP page that I can modify, and I seem to be getting a launch request with oauth1 parameters and other information, but the further I get, the less I'm convinced that I'm on the right track. The references to external tools in the documentation that I've read don't seem to match my use case and I'm worried I'm off-base. Can someone offer guidance as to whether an external tool/LTI is the correct approach here? Here are some values from the launch request that might help with what versions we're running. If more information is required, please let me know! [ext_lms] => moodle-2 [lti_version] => LTI-1p0 Thanks very much, Bryson",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 26, 2024, 6:44 AM",
          "AuthorName": "Bryson Duda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6506497&course=5",
          "role": [
            "Picture of Bryson Duda"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can LTI be used like an API?",
          "Text": "Hello Bryson, Just stumbled on your post and it sounds like me you are better off looking at the Moodle webservices. I would suggest: https://docs.moodle.org/404/en/Using_web_services https://moodledev.io/docs/4.4/apis/subsystems/external There are webservices related to \"course completion\" and \"grades\" that will probably give you the information you are looking for.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 26, 2024, 2:42 PM",
          "AuthorName": "Joris Even - JE Ontwikkeling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2468617&course=5",
          "role": [
            "Picture of Joris Even - JE Ontwikkeling"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can LTI be used like an API?",
          "Text": "Hi Bryson, Just seconding what Joris suggested. The way that the external tool module works, particularly with respect to grades, means that the tool side can only read grades for one particular activity in the course (the external tool instance you've added). That's just the nature of the grade book service in LTI; It's not possible to read arbitrary, non-LTI grade. Assuming you need to read grades from all activities , web services are definitely the way to go. You should be able to get the admins to provide you with a token for use with the web services, and they'll be able to set it up such that you can access the relevant services. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 26, 2024, 4:34 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can LTI be used like an API?",
          "Text": "Hi Joris and Jake, Thank you both very much! It seems as though web services is exactly what I'm looking for.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 27, 2024, 12:44 AM",
          "AuthorName": "Bryson Duda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6506497&course=5",
          "role": [
            "Picture of Bryson Duda"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can LTI be used like an API?",
          "Text": "Good luck!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 28, 2024, 8:25 PM",
          "AuthorName": "Joris Even - JE Ontwikkeling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2468617&course=5",
          "role": [
            "Picture of Joris Even - JE Ontwikkeling"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459728,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459728",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Multiple LTI 1.3 tools under same domain",
          "Text": "Hi, On M4.1 - I'm trying to register a second external tool under the same domain , but the 'register as a new external tool' button doesn't do anything. The reason I want to be able to do this is because we can have multiple customers using the same LMS, so we have a system that auto enrols them onto the relevant courses on our platform based on the tool they are using. I'm wondering whether this a known issue or more likely something specific to our Moodle? Also I'm wondering whether this is the best way to achieve what we want or whether there's another way, any thoughts most welcome, Thank you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1846254/lti.png"
          ],
          "Time": "Wednesday, June 26, 2024, 5:03 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Multiple LTI 1.3 tools under same domain",
          "Text": "Hi Greg, That button should definitely create a new tool configuration for you. If not, that sounds like a bug, or perhaps a local issue. I wonder if there's anything in your browser console, indicating what the problem might be? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 27, 2024, 10:10 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Multiple LTI 1.3 tools under same domain",
          "Text": "Thanks Jake, after some exploration we discovered that it was simply our theme that was preventing the button from working!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 28, 2024, 3:36 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454719,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454719",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server",
          "Text": "hello all, I am integrating MS Teams with Moodle 4.3.2+. During this I am facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server in localhost. Although the openssl has already been installed. I am attaching 2 screenshots for your reference. I have tried every solution. Any help would be appreciated",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1704806508/s/smiley",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1826860/1.PNG?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1826860/2.PNG?forcedownload=1"
          ],
          "Time": "Wednesday, January 24, 2024, 6:43 PM",
          "AuthorName": "Hassan Ali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6173908&course=5",
          "role": [
            "Picture of Hassan Ali"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server",
          "Text": "Hi Hassan, Whilst I can't answer why the openssl isn't working, I do know this has historically been a problem in Windows. That's the whole reason we have this check to begin with. Basically, somehow, the respective functions can be available to PHP, but won't work. We perform the relevant checks in this code: https://github.com/moodle/moodle/blob/2a6ea30ef48d210f38bf019d4d6546756c40c74d/mod/lti/upgradelib.php#L37-L57 I'd suggest troubleshooting why those functions aren't working in your PHP install. It's almost certainly a configuration issue. Once they are, that error will be resolved. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 25, 2024, 8:59 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server",
          "Text": "Hi Thanks for jumping in. Everything is good but when I am trying to install LTI tools it suddenly gives me the error and i am still figuring out why this happening.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Thursday, January 25, 2024, 3:31 PM",
          "AuthorName": "Hassan Ali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6173908&course=5",
          "role": [
            "Picture of Hassan Ali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server",
          "Text": "what was your error?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 6, 2024, 6:40 AM",
          "AuthorName": "Jerry Lau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1324621&course=5",
          "role": [
            "Picture of Jerry Lau",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server",
          "Text": "I am integrating MS Team plugin with moodle and when I put all the details and click on Save changes it gives me an error. \"LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server \". Your feedback would be appriciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 6, 2024, 1:24 PM",
          "AuthorName": "Hassan Ali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6173908&course=5",
          "role": [
            "Picture of Hassan Ali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server",
          "Text": "do you have your server properly configured for SSL. if not I suspect that will be the problem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 8, 2024, 1:08 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server",
          "Text": "I have that, despite I have that error",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 12, 2024, 2:11 PM",
          "AuthorName": "Hassan Ali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6173908&course=5",
          "role": [
            "Picture of Hassan Ali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server",
          "Text": "I'm having the same issue.  I get the 'LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server...' warning. Fresh Moodle 4.4 on windows/ iis .  PHPinfo shows openssl like his screenshot.  From other posts I tried adding $CFG->opensslcnf = 'C:\\PHP\\extras\\ssl\\openssl.cnf'; (adjusted path) but that didn't do it so I'm commenting to keep this fresh in case someone has stumbled across the solution, thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 27, 2024, 5:36 AM",
          "AuthorName": "Aaron McEntire",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555812&course=5",
          "role": [
            "Picture of Aaron McEntire"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server",
          "Text": "I'm no expert windows sysadmin, but the problem should be ruled out from one of: a bad path to openssl.cnf incorrect permissions on openssl.cnf for the user running iis or the php process under iis an unparsable openssl.cnf I'd start with Jake's advice: fire up a php interpreter to confirm first that php has access to openssl libraries run php -a in a command prompt as the user running php under iis then run a command like: echo openssl_random_pseudo_bytes(10); If you see some random junk, this diagnostic won't go anywhere, if you see an error thrown, you have good confidence that it's one of those three issues and might have a clue if it's a bad configuration or no configuration. From StackExchange, the solution generally looks like setting an openssl_conf environment variable accessible to that user containing the correct path to the .cnf file. In the original poster's screen shot above, the second thing I'd rule out is that the forward slash in the path to openssl.cnf isn't blowing things up.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 27, 2024, 9:12 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Facing LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server",
          "Text": "Setting an environmental variable for OPENSSL_CONF did the trick, for others: In System Properties window , go to Advanced Tab and click on Environment Variables Under System variables Click new and add Variable OPENSSL_CONF and Value as C:\\PHP\\extras\\ssl\\openssl.cnf (your path may be different) Reboot Server",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 27, 2024, 9:36 PM",
          "AuthorName": "Aaron McEntire",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555812&course=5",
          "role": [
            "Picture of Aaron McEntire"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459514,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459514",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 Link Opens in New Window on Mobile Instead of Within Moodle",
          "Text": "Sure, here's how you can explain your issue on the Moodle forum: Hello, I am encountering an issue where LTI links open in a new window on mobile devices instead of opening within the Moodle environment, which happens correctly on desktops. This causes a problem as it doesn't allow mobile users to navigate back to the Moodle course easily. I've tried looking for settings that might influence this behavior but haven't found a solution yet. Does anyone know how to configure the LTI tool to open links within Moodle on mobile devices instead of in a new window? Any help would be greatly appreciated. Thank you! Alan Sodenkamp",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 19, 2024, 3:44 PM",
          "AuthorName": "Alan Sodenkamp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3834436&course=5",
          "role": [
            "Picture of Alan Sodenkamp"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.1 Link Opens in New Window on Mobile Instead of Within Moodle",
          "Text": "That's expected behaviour, LTI tools are difficult to get to work within a mobile app because of the way it passes tokens etc. it's common practice in most LMS apps, not just moodle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 20, 2024, 9:21 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 Link Opens in New Window on Mobile Instead of Within Moodle",
          "Text": "Ok, so it is what it is then. Thank you for your effort and time.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 23, 2024, 2:55 PM",
          "AuthorName": "Alan Sodenkamp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3834436&course=5",
          "role": [
            "Picture of Alan Sodenkamp"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459637,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459637",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Celtic LTI 1.1 tool WordPress and Moodle",
          "Text": "Thank you for taking the time to read this. I have a Moodle site and need to display specific WordPress pages within it.I am using the Celtic WordPress LTI tool to establish an LTI1.1 connection with Moodle. Everything is functioning well. When I click on the LTI link I created with the External tool, I see the user added to the WordPress site. The only issue I am facing is that I cannot display the specific WordPress page I want within Moodle; it just shows the Home page. In a previous LTI version, I could add the parameter url= https://my-domain.com/the-page-I-want in the field. However, with the Celtic LTI tool, I cannot find a way to do this. So I have several external connection made in Moodle and they all need to show a specific page in Wordpress Could you please assist me with this issue? Thank you. Alan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 23, 2024, 2:54 PM",
          "AuthorName": "Alan Sodenkamp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3834436&course=5",
          "role": [
            "Picture of Alan Sodenkamp"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 459417,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459417",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "How to get token for logged-in user in Moodle External Tool?",
          "Text": "I implemented ASP .Net Core MVC app as Moodle External Tool. One of functionality is to send message to specific user from Moodle External Tool. I want to know, is there any way to get token for logged-in user to send message using function \"core_message_send_instant_messages\"? T here is a createwebtoken method, but you need to know the username and password, however, the password cannot be captured.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 16, 2024, 4:57 AM",
          "AuthorName": "Gordana Tasic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5636002&course=5",
          "role": [
            "Picture of Gordana Tasic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to get token for logged-in user in Moodle External Tool?",
          "Text": "I would be extremely reluctant to approve an LTI integration with a tool that would have access to make web service calls on behalf of the user who launched into it. One of the core benefits of the LTI standard is separation of concerns: an integrated tool can wreak very limited havoc on your LMS via either the LTI advantage services that are optionally enabled or what un-obfuscated personal user data you opt to share. Granting access to web service tokens for every user launching to the tool would remove those boundaries, allowing the tool to poke around in unrelated activities and courses, potentially doing damage very difficult to undo. If you need to send instant messages from an external tool, the way I'd set it up would be as an optional feature, and have LMS admins that you're integrating with additionally create a manual user on the LMS with a webservice token and the sole capability of calling that webservice (and any other capabilities that have a clearly articulated legitimate purpose in support of a desirable feature). The instant message would then be sent from the tool on behalf of the sender. As an additional comment: There are a number of unsavory \"AI\" outfits out there that require students to generate and share API tokens so these services can scrape the student's courses and provide summaries, cheat sheets, etc. And along the way, do untold harm to the student that wasn't part of the brochure. Many schools are in the phase where we're trying to get students to understand why it's extremely important not to share api tokens with ANYONE, but if more and more vendors successfully use this tactic, more aggressive countermeasures will need to be put in place that will create problems for all of us.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 17, 2024, 9:12 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to get token for logged-in user in Moodle External Tool?",
          "Text": "Thanks for the reply, but I still don't know what to do. Do I have to manually generate for each user a token and take one user's token and pass it to the function 'core_message_send_instant_messages'? Or is there some other way how to pass the token?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 18, 2024, 3:51 AM",
          "AuthorName": "Gordana Tasic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5636002&course=5",
          "role": [
            "Picture of Gordana Tasic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to get token for logged-in user in Moodle External Tool?",
          "Text": "No, my suggestion is for the LMS administrator that is using your tool to generate one token for a special user that represents the tool and send messages from that special user on behalf of the actual users instead of trying to send messages directly from the individual users, since an LTI advantage service doesn't exist for this. An LTI tool should not be able to get a user's login credentials to the LMS or generate API tokens to impersonate that user when making LMS-specific web service calls.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 18, 2024, 4:18 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to get token for logged-in user in Moodle External Tool?",
          "Text": "Okey, is there any other way to implement send message to user from Moodle External Tool without using Moodle web services?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 19, 2024, 12:30 AM",
          "AuthorName": "Gordana Tasic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5636002&course=5",
          "role": [
            "Picture of Gordana Tasic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to get token for logged-in user in Moodle External Tool?",
          "Text": "To be upfront, since LTI 1.3 LTI tools having API access is not uncommon in other LMS.  Moodle is an outlier in that regard.  Generally scoping the APIs in that case is a good idea.  Also keep in mind that LTI even with web services access has far less access than any plugin to data and ability to impact the system",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 20, 2024, 9:19 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459548,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459548",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI and Moodle External Tool",
          "Text": "I'm new to Moodle and I want to implement simple ASP.NET Core MVC app as Moodle External Tool. I'm interested in what LTI can do and how to return some data to Moodle from the Moodle External Tool? What would you recommend me to implement, to be a learning scenario.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 20, 2024, 6:06 AM",
          "AuthorName": "Gordana Tasic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5636002&course=5",
          "role": [
            "Picture of Gordana Tasic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 459258,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459258",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 activities added via content selection revert to 'embed'",
          "Text": "Hi, I'm having trouble with adding multiple activities via LTI 1.3 content selection on M4.1. We need activities added via content selection to open in a new window to work properly. If you add one activity, you can set the launch container for it which is kind of OK, although it seems to always revert to 'embed' even if the tool launch container is set which isn't ideal. If you add more than one activity in a single content selection window then there's no option to change the launch container setting after you've selected the activities and they all revert to 'embed', leaving the teacher to manually update each one. I was looking for an admin setting for this but I can't see one, is it a known issue? thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 10, 2024, 10:15 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 activities added via content selection revert to 'embed'",
          "Text": "Hi Greg, Each content item returned to the platform can contain a placementAdvice->presentationDocumentTarget property, which Moodle will take and map to a launch container (embed, new window etc.). Basically, the tool guides the decision. With Moodle-to-Moodle, for example, we'll send over a value of 'iframe', which maps to 'embed', so that's expected in that particular case. With data coming from other tools, your guess is as good as mine. It's also worth noting that the mapping code will also run for multiple content items, so if they're all sending across 'iframe', then they'll all be mapped to 'embed'. And yes, this does override the 'default launch container' specified in the tool definition - again, expected. You can see the logic here: https://github.com/moodle/moodle/blob/67f739499b3840ffc4cfae5a5a04c8dcd33bf3ab/mod/lti/locallib.php#L1515-L1516 Without seeing the payload of your content items, it's hard to guess what's going on here and it may, in fact, be completed expected behaviour. Of course, it's probably still quite annoying to have to go back and manually update x number of links to set \"new window\", given you can't set that during the import of multiple items. That's possibly a good candidate for an improvement request in tracker. Hope that gives you something to go on. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 11, 2024, 9:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 activities added via content selection revert to 'embed'",
          "Text": "Thanks Jake. This example is Moodle-to-Moodle, so is it the case that if I add multiple items there is no setting that can influence the launch container at present (i.e. they will all embed regardless)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 13, 2024, 9:05 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 activities added via content selection revert to 'embed'",
          "Text": "Yeah, that's right. The lti1p3 library, which we use for the tool, sets documentTarget='iframe' for each content item in the response. Then, since the platform has a very limited view (i.e. just a summary of the items coming over, no form) we cannot change the mapping to iframe during creation. It must be done, as you've found, after the link creation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 14, 2024, 9:11 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 activities added via content selection revert to 'embed'",
          "Text": "Perfect, thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 14, 2024, 9:57 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458411,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458411",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Problem to share a course between 2 Moodle systems",
          "Text": "Hello there, I´m facing the problem to share a course from one Moodle installation to a second Moodle installation via LTI. Both are on Moodle version 4.3. I worked my way through the documentation but I´m unable to establish the final connection between the tool and the platform. The Tool/Platform registration seems to work as expected. The problem is to share a course to the client Moodle. In Moodle 1 (the provider) I go to the course I want to share, I select the “Publish as LTI Tools”, add the method and get the “Launch URL ” and “Custom properties”. In Moodle 2 (client) I go to a course and select the “LTI External tools”. Here I use Add tool to add the course I want to share from Moodle 1, I set the “Tool name” to test, in the “Tool URL” I put the value of the “Launch URL” from the Moodle 1 course and under “Custom parameters” the “Custom properties” (id=xxxxxxx). Also “Supports Deep Linking” is activated. Then I activate “Show in activity chooser”. Now in the course I add an activity and select the LTI activity with the name test. Now when the \"Select content\" Button is clicked I receive the error massage “A required parameter (id) was missing”. So somewhere in the process of sharing a course I made a mistake, but I´m unable to figure it out. Hopefully someone can help and guide me to the correct process. Kind regards Olli",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1840971/Tool-Registrierung2.JPG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1840971/Inhalt.JPG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1840971/LTi--%20%281%29.JPG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1840971/LTi--3-.JPG"
          ],
          "Time": "Monday, May 13, 2024, 9:13 PM",
          "AuthorName": "Olliver Lüppen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861644&course=5",
          "role": [
            "Picture of Olliver Lüppen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problem to share a course between 2 Moodle systems",
          "Text": "Is the documentation you are following LTI Moodle to Moodle ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 13, 2024, 9:41 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem to share a course between 2 Moodle systems",
          "Text": "I used this documentation: https://docs.moodle.org/404/en/Publish_as_LTI_tool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 13, 2024, 10:19 PM",
          "AuthorName": "Olliver Lüppen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861644&course=5",
          "role": [
            "Picture of Olliver Lüppen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem to share a course between 2 Moodle systems",
          "Text": "Tried today with the Moodle to Moodle documentation and I get the same result....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 14, 2024, 5:20 PM",
          "AuthorName": "Olliver Lüppen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861644&course=5",
          "role": [
            "Picture of Olliver Lüppen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem to share a course between 2 Moodle systems",
          "Text": "Please note these docs were community supplied and I haven't checked them for accuracy. YMMV. The docs at https://docs.moodle.org/404/en/Publish_as_LTI_tool are docs which ONLY deal with the tool implementation in Moodle. There are a few examples in those docs which assume Moodle is the platform/consume, but those docs are not scoped with documenting the platform side at all, nor should they be.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 16, 2024, 2:41 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem to share a course between 2 Moodle systems",
          "Text": "I created this page back in March https://docs.moodle.org/404/en/LTI_Moodle_to_Moodle Based on the existing page here https://docs.moodle.org/403/en/Publish_as_LTI_tool I did this to focus on the single task of making a connection between two instances of Moodle running  LTI1.3 (Advantage). I ran through all of the steps several times to ensure they are accurate.... however.... I ran thought the process only yesterday and it still didn't work first time. For this reason I tweaked the text and added a new screenshot. My point is that setting up LTI is complex and I hope to gradually add to that documentation to try to make it clearer. When it works, LTI is close to magic. Huge thanks to Jake for his feedback on this, he knows far more about this than I do.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 16, 2024, 4:30 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem to share a course between 2 Moodle systems",
          "Text": "I'm not sure if the 3rd screen shot (Neues LTI externes tool hinzüfgen) is complete, but the \" Publish as LTI \" instructions you originally followed called to paste the Deeplinking URL into the bottom field shown, labeled \"Inhalts-URL\". That's the URL that's being loaded when you're getting the error. The tool tip says it'll go to the \"Tool url\" if left open. I'd double-check step 6 for a manual configuration on the platform to confirm that all the urls are in the right places.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 14, 2024, 8:18 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem to share a course between 2 Moodle systems",
          "Text": "Thank you for the hint, I´ll check it tomorrow. For now I was able to share the desired course via LTI 1.1.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 14, 2024, 8:55 PM",
          "AuthorName": "Olliver Lüppen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861644&course=5",
          "role": [
            "Picture of Olliver Lüppen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem to share a course between 2 Moodle systems",
          "Text": "Hi Olli, I'm not sure you've got this set up correctly. I note this part in particular: In Moodle 2 (client) I go to a course and select the “LTI External tools”. Here I use Add tool to add the course I want to share from Moodle 1 This looks off to me. If you've already configured the tool in the platform (I.e. the registration part, done via Site admin > Plugins > Activities > External tool > Manage tools), then you'll already have a tool definition available to the course (i.e. an entry visible in course tools). All you'll need to potentially do is tick the \"Show in activity chooser\" toggle, if that's not checked already. There is no need to copy around URLs, and the ID will be picked up by deep linking, provided of course you've set that up properly in the registration step.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 16, 2024, 2:41 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Problem to share a course between 2 Moodle systems",
          "Text": "Hi, I would ask for a solution...to share the content between 2 Moodle A part of the activity chooser...to use when a site admin creates the External tool and is quite simple to use it But if a teacher that doesn't have an account on the second moodle, he has to use external tool from course level, and the Olli's  problem remain the same I have also the same error from the two moodle (missing id). So, could you explain us the correct way to configure lti 1.3 (in case the teacher doesn't have the teacher role in the second site) without use of Deep Linking? I hope I was able to explain myself and sorry for the mistakes...;) Luka",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 10, 2024, 10:35 PM",
          "AuthorName": "Gianluca Torbidone",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1565278&course=5",
          "role": [
            "Picture of Gianluca Torbidone"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ri: Re: Problem to share a course between 2 Moodle systems",
          "Text": "Hi Gianluca, The tool doesn't have to be used with deep linking (so doesn't require an account in the tool site). As long as you pass the id=xxxx custom param during a launch, it'll launch into the resource just fine. So, you can configure the links however you like in the platform/consumer site (Moodle, or otherwise). As long as the link includes the custom param 'id=xxxx', as provided by the tool, it'll launch into the respective resource/course. Of course, the platform-tool registration still needs to exist for this to work (there's no way around that in LTI 1.3). In Moodle, the way to set these links up varies depending on Moodle version. In more recent versions of Moodle, you'll need to create a tool configuration which doesn't use deep linking. Then, you add an instance of that to the course, set the custom params (paste in the id=xxxx value), and save. That will then launch into the respective course/activity.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 11, 2024, 9:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459249,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459249",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Multiple Publish as LTI -instances on a course which one users are enrolled through?",
          "Text": "Hello, Let's imagine I have: Moodle1, Moodle2 and Moodle3 with LTI 1.3 connection established. The setup In Moodle1 I have a course A Inside Moodle1 course A I have created two \"publish as LTI\" instances; Moodle2 with \"tool to be published\" and \"course\" Moodle3 with \"tool to be published\" and \"course\" I add this course as external tool on a course to Moodle2 I add this course as external tool on a course to Moodle3 When user from Moodle2 access the course through external tool-activity how it is decided under which \"tool to be published\" -registration method he/she is added to? At first there seemed to be some invisible logic that Moodle somehow knows which user is from which Moodle but with further testing I have found out that is not the case.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 10, 2024, 6:47 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Multiple Publish as LTI -instances on a course which one users are enrolled through?",
          "Text": "I believe what you're seeing is exactly the issue reported here: MDL-81971 According to the report (I haven't run into this), for multiple full-course published activites, only the most recently published one appears in the Published Resource Repository that, in this scenario, you would use in Moodle2 and Moodle3 to add the course as an external tool. For course modules, you would be able to see both of the published resources listed and which one you choose would determine which of the two available enrolments would be used.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 10, 2024, 8:03 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459153,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459153",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 first launch account provision for teachers?",
          "Text": "Hello, I have LTI 1.3 connection with deep linking enabled between two Moodles in version 4.1.10. https://docs.moodle.org/404/en/LTI_Moodle_to_Moodle#User_account_provisioning states that: \"Content selection launches (Deep linking) require an existing account in Moodle, so always use \"Existing accounts only (prompt)\". Users without an account in Moodle cannot use this feature. \" but when you set up \"Publish as LTI tool\" -settings for a course you can use \"Teacher first launch provisioning mode\" > \"existing and new accounts (prompt)\" When I click \"content selection\" from the customer Moodle with these settings as a teacher I only get message \"Use existing account\" and no option to create a new one, should there be one? If so what could be wrong in my configuration?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1843906/publish_settings.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1843906/use_existing.png?forcedownload=1"
          ],
          "Time": "Thursday, June 6, 2024, 1:52 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 first launch account provision for teachers?",
          "Text": "Hi Jari, That's not an error, no. With the deep linking launch, it's a site context type launch. It will only work with existing accounts because, otherwise, you wouldn't be able to see any published courses/resources. A newly created account wouldn't be enrolled anywhere and wouldn't have access. When we launch into a course/activity, we're then in course context, so we can create the account and create the enrolment, so that option is supported there. Maybe something we need to update in the docs. Also, just noting that you're using the old version of the account linking there. The more recent versions of Moodle don't employ the piggyback (the \"Open in a new tab and come back here\") approach and instead allow you to link your account during the launch by logging in. Browser 3rd party cookie policy means the old method won't work into the future, so I'd be mindful of that too. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 6, 2024, 2:35 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 first launch account provision for teachers?",
          "Text": "Hello, Thanks for the clarification",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, June 6, 2024, 3:08 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 first launch account provision for teachers?",
          "Text": "Hello, I got this to working now by creating a user account for the teacher on the provider-Moodle > logging in to it > adding external tool on a course on the customer-Moodle > selecting to \"link my current account to the provider-Moodle one\" > But after this the teacher gets an message \"Published content. No resources or activities are published yet\" I have published multiple courses with LTI on the Provider-Moodle > Should \"Publish as LTI\" setting \"role fo teacher\"-setting automatically grant selected teacher-role to every course on the Provider-Moodle side that have been published as LTI to the teacher?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 6, 2024, 4:10 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 first launch account provision for teachers?",
          "Text": "Hi Jari, Roles are only automatically granted when launching into a resource/course, NOT during deep linking. That's exactly the issue I was referring to above, in fact. You've linked the account, but the provider account can't do anything since you just created it and it's not enrolled anywhere. You need to make sure the teacher account has access to the various published courses/resources before they can see them in a deep linking launch (i.e. before they can create links to them from a platform/consumer).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 6, 2024, 4:52 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 first launch account provision for teachers?",
          "Text": "Thanks for the help, appriciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 6, 2024, 7:35 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459154,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459154",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 which first launch provisioning Moodle uses when you have setup multiple?",
          "Text": "Hello, I have LTI 1.3 connection between two Moodles in 4.1.10. I have published three separate courses from the Tool (provider) Moodle with \"publish as LTI\"-settings. Each of these instances have their own different \"first launch provisioning\" -settings. So my question is which one of these provision settings Moodle uses when a user accesses the LTI content from the customer Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 6, 2024, 1:57 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 which first launch provisioning Moodle uses when you have setup multiple?",
          "Text": "Hi Jari, The account linking is done at the issuer level in 1.3, since the sub (user id) is unique to an issuer. So, the first time a user launches into a given resource/activity, they will hit one of the first launch modes. Depending on what that is, an account can be linked, or created. At this time (and only this time), the mapping is created (sub/issuer/userid tuple). Every subsequent launch from that same consumer site/issuer will use the mapping for that consumer user (sub). At this point, it doesn't matter that different enrolment instances have different first launch modes; the first launch has already happened. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 6, 2024, 2:50 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 which first launch provisioning Moodle uses when you have setup multiple?",
          "Text": "Hello, Thanks for the explanation",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, June 6, 2024, 3:42 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458966,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458966",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Grade Sync to Blackboard",
          "Text": "It's come to our attention that our STACKmoodle users utilising Grade Sync (Grade synchronisation) in Publish as LTI Tools to feed grades into Blackboard (our core LMS) have had encounters whereby grades in Blackboard have been multiplied by 5x of what they should be. Grades in STACKmoodle are out of 10, and when feeding into Blackboard, they're out of 100%, i.e., 10/10 = 100% and so on. However, ~50 days after students last accessed this particular STACKmoodle quiz, all grades in Blackboard have automatically been multiplied by 5, and this hasn't been done by administrators in Blackboard. I'm wondering whether any other users have encountered such behaviour before, regardless of whether their LMS is Blackboard, or something else. STACKmoodle details: Moodle 4.4+ (Build: 20240524) | Version 2024042200.05 Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 31, 2024, 12:36 PM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade Sync to Blackboard",
          "Text": "The grades are sent as score given and grade maximum (so you'd expect nothing higher than 10 for score given and 10 for grade maximum, and aren't re-sent unless the percentage value of that grade on Moodle changes, so you wouldn't expect Moodle to have made that change. If you have access to your moodle database , you can look at the mdl_enrol_lti_users table (the mdl_ prefix might be different for your setup) and that will show you what the percentage was when the grade was last sent and the time that it was last sent, so you could definitively rule out Moodle having made the mistaken multiplication. The closest I've seen to something like this was caused by grade maximums for the grade items being changed: Moodle doesn't check whether a grade maximum has changed, just whether the percentage of the score and the maximum has changed. I suspect that's vestigial logic from LTI 1.1, where grades are reported as percentages. My guess (despite your assertion that Blackboard wasn't changed) is that the grade on Blackboard's gradebook was originally set to be 50/50, grades were sent and scaled like that, and then the grade maximum was changed to 10 but the scores weren't renormalized. The grades on Blackboard can be fixed by setting the 'lastgrade' fields for all rows with that toolid in mdl_enrol_lti_users to 0.00, which forces the sync_grades task to re-send the grades for all non-zero scores. (Since it thinks the last time it sent the grade, it was 0.00 and now it is something higher than that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 3, 2024, 8:19 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade Sync to Blackboard",
          "Text": "Thanks for the update, Liam. I'll touch base with our developers regarding our database and see if they can find anything to confirm/deny modifications coming from moodle's end.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 4, 2024, 6:03 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458954,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458954",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI AGS Grade Synchronization Issue",
          "Text": "Hi everyone, We are currently integrating an LTI tool (from a third-party provider) with our Moodle LMS (v4.2.1) using LTI 1.3, and we’re encountering an issue with grade synchronization. Here are the specifics: Issue Details Functionality : The LTI tool launches correctly, and authentication is successful (the content is set up to open in a new window). Grade Submission : Grades are being calculated on the third-party side, but they are not being passed back to Moodle. Grade Report : The activity appears in the Moodle grade report but shows no grade. Actions Taken Scheduled Tasks : Both \"Publish as LTI tool grade sync\" scheduled tasks are enabled and running. Logs indicate 1 Read and 0 Writes. Configuration : Verified that the LTI tool and activity are correctly set up to accept grades. User Roles : Tested with both student and admin roles to ensure proper role-based access and permissions. Observations It appears that while the tool is launching and authenticating correctly, the grade passback using LTI AGS is not occurring. We suspect that the outbound request for the grade is not being logged or sent from the third-party tool. They are currently debugging on their end. Request for Assistance We would appreciate any insights or suggestions on the following: Configuration Checks : Are there any specific configurations or settings within Moodle that we might have missed which could affect grade passback? Debugging Tools : Recommendations for tools or methods to track and verify LTI AGS calls within Moodle. Known Issues : Any known issues with LTI AGS grade synchronization that we should be aware of? Thank you for your support and assistance in resolving this issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 31, 2024, 1:08 AM",
          "AuthorName": "Memo Monge",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6487486&course=5",
          "role": [
            "Picture of Memo Monge"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI AGS Grade Synchronization Issue",
          "Text": "The scheduled tasks are unrelated, those are for Moodle sending grades if configured as an LTI Tool in another LMS, not receiving them from an LTI Tool. The next diagnostic step I'd do is to confirm that Moodle is getting AGS requests from the LTI tool by searching the web server logs. The AGS service is accessed at requests to endpoints like: /mod/lti/services.php/{courseid}/lineitems or /mod/lti/services.php/{courseid}/lineitems/{gradeitem_id}/lineitem/scores You may also see a ?type_id param at the end that makes it very easy to confirm that you're seeing requests for that service. If you do see those requests, then you know that the Tool is trying to access Moodle's grade service and can continue diagnostics on the Moodle end: those logs may give a hint if an error was thrown. I suspect your observations are correct, though, and that the tool is simply misconfigured to send grades. Since authentication is working, there should be no problem with their servers accessing yours, so if the requests are being sent, you should be able to see them in the logs. Where those logs are located would depend on the setup of your server, but typically, they'd be in a subfolder named by your web server in /var/logs",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 3, 2024, 7:54 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458913,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458913",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Implementing Multiple Line Items per Assignment with LTI 1.3",
          "Text": "Hello everyone, I am currently working on an integration project involving Pressbooks, a WordPress multisite plugin, along with another custom WP plugin we created called Pressbooks LTI. This plugin acts as a Tool from the LTI 1.3 perspective and allows instructors to display Pressbooks chapters (WordPress posts) content within various LMSes including Canvas, Blackboard, Moodle, and D2L. Each Pressbooks chapter can contain one or more gradable activities . We are using the LTI 1.3 Assignment and Grade Services (AGS) to send scores to the LMS. By default, the scores from multiple activities within a single LMS assignment are aggregated into a single line item in the LMS grade book associated with that assignment. However, we aim to create a separate line item for each gradable activity. This means that each LMS assignment would now contain multiple line items, one for each activity. Currently, we are able to create multiple line items for each assignment. However, depending on the LMS, the behavior is not consistent with the default line item created automatically. For example: Canvas returns successful responses when creating line items/sending scores but we are unable to view the newly created line items in the LMS grade book. Moodle on the other hand, created the line items and stored the scores but there seems to be no way to instruct that the created line items are linked to a given assignment. While LTI 1.3 AGS technically supports this functionality, we are curious if anyone has experience implementing it this way. Is this multiple line item approach expected or handled by LMSes like Canvas, Moodle, Blackboard, and D2L? It seems that these LMSes may support multiple line items due to the LTI protocol but are not necessarily designed to work in this manner, instead expecting a single line item per assignment, or maybe we need to make sure that each line item meets certain requirements that the LMS is expecting to receive. Or, is there a different approach you have used to display detailed information about each assignment? We are also looking to engage with consultants in order to help us better understand some of the intricacies of LTI, grade passback and assignments. Any recommendations on candidates for this would be welcome. Thank you for your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 29, 2024, 10:47 PM",
          "AuthorName": "Ricardo A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6485422&course=5",
          "role": [
            "Picture of Ricardo A"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re:  Implementing Multiple Line Items per Assignment with LTI 1.3",
          "Text": "You will find the behaviour will be subtly different per LMS which is mostly to do with the way they handle grade items in grade book.  In Canvas there are no \"manual\" grade items, there is a 1:1 mapping between the column in the grade book and assignments which means some complexity supporting this l.  For Moodle it's possible to create grade book columns not associated with an activirt but that then has complexities because the \"grading\" process is owned by the activity and not the gradebook.  Each LMS has some variation on these concepts so it's an area where a 1 size fits all approach won't quite work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 30, 2024, 8:04 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458705,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458705",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI - Manually created external tools",
          "Text": "I work for a content vendor that supplies pre-built course cartridges to customers in various supported LMS, including Moodle.  Our courses are created and housed on our own instance of moodle, and then copied to partner sites using backup and restore.  The cartridges contain individual external tool links that link directly back to our lesson content stored on our servers. At this time we are using LTI 1.1 but are trying to make the move to LTI 1.3. We recently started testing Moodle 4.4 to make sure there are no issues with our cartridges and found that the manual tool creation with direct links are no longer supported.  This means that all the links, in all our 200+ course catalogue are not editable.  (We frequently customize course content on a per course/per customer basis using custom parameters.) I see from the documentation and other posts that I should be able to recreate a link manually by linking to the LTI 1.3 tool and breaking out the custom parameters from the direct link and adding them to a box, but recreating thousands of links is a big lift.  (And I haven't been able to test if this works yet.) Does anyone know if there is a way to allow back access to the tool URL so that we can continue to use direct links? If there is not a way, are LTI 1.3 tool links that I create in courses on our own site transferable to another site that will use a different tool connection/authentication variables?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2024, 2:16 AM",
          "AuthorName": "Nicole Burden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6473469&course=5",
          "role": [
            "Picture of Nicole Burden"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI - Manually created external tools",
          "Text": "Hi Nicole, That's an interesting case. I think there are few bits to confirm first: Yes, we've moved away from the previous per-instance configuration, in line with the general notion of Deep Linking / Content Selection. This means the tool URL is only editable at the tool configuration (site or course tool level). There are no plans to reintroduce per-instance modification of the tool URL outside of the tool configuration. There are other ways to pass any required custom data (custom params). We do still support the inclusion of custom params. If a tool needs an identifier during a launch (or anything else it would like to customise on a per-link level aka instance level), it can be passed this way, as it could before (This feature was restored in, I think, 4.4.1, and can be seen under \"Show more\" in the form). We still support any manually configured links as a backward compatibility measure. These will work, but can't be modified any more and new manually configured instance cannot be created. Then, in answer to your two questions: There is no way to restore edit access to the tool URL at the instance level, no. The difference between the security models for 1.1 (OAuth 1.0) vs 1.3 (OAuth 2.0) might be a hurdle to overcome when adopting 1.3. The former can handle security on a per-link basis (key, secret), but of course has been deprecated and is out of support for a good while now. The latter cannot do this, and the trust must be set up at the site level between the platform/consumer site (your individual client/partner sites) and the tool/provider (your lesson tool). As a result of the above, you won't currently be able to use your existing approach to lesson distribution because the site tools (i.e. the platform-tool registrations) aren't included in backups. Any activity instances (lti links) that were linked to a 1.3 tool in your Moodle site will just become detached links and will be reported as manually configured instances when restored into the client/partner sites. I.e. it's not sufficient to just distribute standalone links any more; you also need to ensure you have the platform-tool registration, which isn't included in backups. That requirement is just the nature of LTI 1.3. When you go down the 1.3 route you'll very likely find that you'll be better off using deep linking to set up the client/partner links. Of course that's at odds with the notion of prebuilt courses..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2024, 10:42 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI - Manually created external tools",
          "Text": "Jake, Thank you for your detailed reply. We have not encountered this issue with other LMS where we are moving to LTI 1.3, so far, we've been able to continue our use of direct links (that are editable) in tandem with a sitewide LTI 1.3 setup, so this change came as a surprise. We do not add key and secrets to each link, we add site level, customer specific, LTI 1.1 providers that match the existing direct links to the base tool URL in the tool setup. We expected that LTI 1.3 setups would do the same. It puts a pretty big wrench in our current distribution model and may limit our support for moodle going forward. We will continue to investigate new ways to deliver content. Thanks again, NB",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2024, 8:54 PM",
          "AuthorName": "Nicole Burden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6473469&course=5",
          "role": [
            "Picture of Nicole Burden"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI - Manually created external tools",
          "Text": "Thanks for the clarification, Nicole. It shows there are definitely some gaps in my understanding of your setup - apologies. So, it sounds like you can disregard what I said about backup and restore being the limiting factor with 1.3. You're already impacted by that site tool limitation (1.1 site tools aren't included in backups either). Presumably, you've set up the tool definitions outside of the backup/restore process. Any of your restored links are domain -match the site-level tool during launch - and this part works the same across 1.1 and 1.3. The real issue is not able to edit the existing manually created links in your catalogue, because we've deprecated per-instance config (i.e. the form is now locked). Got it. If you were to move to 1.3 (and leaving aside the issues of link recreation and the need to use custom params instead of URL params), I can confirm any 1.3 links included in backups, when restored, would also domain match a 1.3 site-level tool in the destination site. So, assuming you had these links, the means of transferring them is still fine and they'd still be able to launch, provided the site-level tool definition was there. Just like with 1.1 instances.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2024, 11:05 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI - Manually created external tools",
          "Text": "Yes, we setup the LTI 1.1 provider outside of the backup/restore process because every customer has their own key and secret. Being able to re-use the link across copies is very good news, thank you for the update. I am still unsure if I can break apart our base link but hoping it will work once I get the chance to test. Being able to add or remove custom parameters on those links is very important to us for individual customer customization, so we would love to see that updated in the future.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2024, 8:43 PM",
          "AuthorName": "Nicole Burden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6473469&course=5",
          "role": [
            "Picture of Nicole Burden"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451130,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451130",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Grade Passback in Demo Env",
          "Text": "I represent GoReact, an LTI tool provider used by many moodle institutions. We are preparing to launch 1.3 LTI support and are trying to use the demo environment sandbox for testing. https://sandbox.moodledemo.net/ We are having a few issues. I notice on the most recent sandbox, as of today, I am unable to choose \"External Tool\" when making a new activity as it doesn't show up in the list of options. It does still show up if using the 4.2 sandbox. Using the 4.2 sandbox, if I try to attempt grade passback using the assignment grade services, I get this error when trying to get an access token. \n```text\nException - mod_lti\\local\\ltiopenid\\jwks_helper::fix_jwks_alg(): Argument #1 ($jwks) must be of type array, null given\n```\n To me, it seems as if the demo environments are not configured with a keyset? I am just hoping someone can confirm. We want to ensure things work before officially supporting Moodle for 1.3 Final question, is there any other environment or sandbox that doesn't delete everything after 1 hour? I understand why resetting the DB is important, but with only an hour each time it becomes tedious to reset everything up frequently. Is there a way to make that reset perhaps once a day? Please advise on the error if possible!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 4, 2023, 11:55 PM",
          "AuthorName": "Erik Donohoo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5944506&course=5",
          "role": [
            "Picture of Erik Donohoo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Passback in Demo Env",
          "Text": "Erik The second part is as known issue with an LTI 1.3 tool being configured at the course level.  At the moment its not possible for a teacher to setup an LTI 1.3 tool without the assistance of an admin who will need to do part of it at the system level.  This is something we will be looking at in the future but in the short term there is some significant refactoring work that needs to be completed first. Lastly the sandbox site is not really suited to testing and development for the reasons you noted.  Given Moodle is opensource I'd suggest downloading and installing it locally would be your best option.  otherwise there are several pre-packaged docker and other similar images around which make it easy, However these tend not to always be the latest version. Hope this helps",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1813175/image.png"
          ],
          "Time": "Thursday, October 5, 2023, 8:50 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Passback in Demo Env",
          "Text": "Hi Erik, In addition to what Brett has already said, I'll just say add that: You should still be able to configure tools on the demo site, given you have admin access. This is code dealing with the tool keyset, not the platform (Moodle). During score posts, the platform (us) needs this to verify the JWT posted by the tool, and this is what that code is dealing with. Is the tool JWKS set properly? We ship a working keyset endpoint and the demo site is no different. See https://sandbox.moodledemo.net/mod/lti/certs.php Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 5, 2023, 9:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Passback in Demo Env",
          "Text": "I do not think the issue is with my tools jwks as I have breakpoints set and noodle breaks before ever calling my jwks url. Other LMSs I have tested with are working with how I have that set I was using the admin use and was able to successfully configure the 1.3 tool at the institution level. I just wasn’t finding the ability to add it on course level activity anymore despite being able to the day before on the sandbox. My biggest concern however is the grade passback error I am seeing. The JWKS my endpoint returns looks like this:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 5, 2023, 10:33 PM",
          "AuthorName": "Erik Donohoo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5944506&course=5",
          "role": [
            "Picture of Erik Donohoo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Passback in Demo Env",
          "Text": "I agree. I think the issue is with the demo site's ability to call the tool endpoint. I'm not sure how the demo site's configured but it could be a connectivity issue. Moodle has a bunch of setting controlling this, but mainly under http security in site admin. It's falling over when it's trying to pass the keyset array (parsed from the JSON it got at the endpoint) to another method. At that point, it should not be empty, since we've just fetched it, but it is. Rather than continue trying to track this down on the demo site, I'd suggest just running a local Moodle to rule this out. Then you control everything and won't be subject to whatever someone else may have done at site admin, as you are on the demo site. Edit: and nope, that JWKS looks fine to me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 6, 2023, 10:17 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Passback in Demo Env",
          "Text": "Well I installed Moodle and did the same test. I am getting the exact same error when I do it all locally. Exception - mod_lti\\local\\ltiopenid\\jwks_helper::fix_jwks_alg(): Argument #1 ($jwks) must be of type array, null given Any ideas what could be going on or where to look next?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 6, 2023, 11:43 PM",
          "AuthorName": "Erik Donohoo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5944506&course=5",
          "role": [
            "Picture of Erik Donohoo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Passback in Demo Env",
          "Text": "Figured it out. The URL I am using for my JWKS is url has an abnormal port of 8801. For my testing. And I didn't know moodle had configurable HTTP SECURITY that blocks certain ports and IP Addresses in curl statements internally. Once I added my port to the list of allowed ports, it all worked as expected.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 7, 2023, 3:13 AM",
          "AuthorName": "Erik Donohoo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5944506&course=5",
          "role": [
            "Picture of Erik Donohoo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Passback in Demo Env",
          "Text": "Hi Erik, just wondering, did you add the port to the allowed ports in Moodle - the moodle server or on your site?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 17, 2024, 8:52 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Passback in Demo Env",
          "Text": "On the moodle server. You will need high level admin rights to change those HTTP security settings and add the port you are using.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 17, 2024, 10:17 PM",
          "AuthorName": "Erik Donohoo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5944506&course=5",
          "role": [
            "Picture of Erik Donohoo"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458450,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458450",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Error \"The param 'clientid' is required. Calling code ...\"",
          "Text": "Hello, I have to open a moodle course from an external application. I publish the course as LTI tool and get this launch url : https://my-moodle.com/enrol/lti/launch.php ?id=b4f49ad4-de0b-426c-a8a8-4b53ba5944d1 I created a plateform on moodle plateformId : https://c481-2a01-cb10-9640-b400-1b4-29d8-1bb3-c599.ngrok-free.app clientId: test_client_id authent request : /lti/auth public key set : /lti/certs acces_token_uri : /lti/token I made a deployement on this plateform I sent a login request like that : curl -- location ' https://my-moodle.com/enrol/lti/login.php?id=56023cc78e5651cf34f1440a70831aed7b2e98313b975bb68cabb593cf03' \\ -- header 'Content-Type: application/x-www-form-urlencoded' \\ -- data-urlencode 'iss= https://c481-2a01-cb10-9640-b400-1b4-29d8-1bb3-c599.ngrok-free.app ' \\ -- data-urlencode 'client_id=test_client_id' \\ -- data-urlencode 'login_hint=2' \\ -- data-urlencode 'lti_message_hint=' \\ -- data-urlencode 'target_link_uri= https://my-moodle.com/enrol/lti/launch.php' I'm receiving a good callback request and I'm creating an id_token : { nonce: request.query.nonce , sub: '6' , // an existing uer iat: Math.floor(Date.now() / 1000 ), exp: Math.floor(Date.now() / 1000 ) + 60 * 60 , iss: ' https://c481-2a01-cb10-9640-b400-1b4-29d8-1bb3-c594.ngrok-free.app ' , aud: 'test_client_id' , ' https://purl.imsglobal.org/spec/lti/claim/deployment_id' : '2' , // this id is the last application deploiement ' https://purl.imsglobal.org/spec/lti/claim/message_type' : 'LtiResourceLinkRequest' , ' https://purl.imsglobal.org/spec/lti/claim/roles' : [ ' http://purl.imsglobal.org/vocab/lis/v2/membership#Learner ' // the existing user is a learner ], \" https://purl.imsglobal.org/spec/lti/claim/version \" : \"1.3.0\" , \" https://purl.imsglobal.org/spec/lti/claim/resource_link \" : { id: 'b4f49ad4-de0b-426c-a8a8-4b53ba5944d1' , }, \" https://purl.imsglobal.org/spec/lti/claim/custom \" : { id: 'b4f49ad4-de0b-426c-a8a8-4b53ba5944d1' , }, \" https://purl.imsglobal.org/spec/lti/claim/target_link_uri \" :' https://my-moodle.com/enrol/lti/launch.php ?id=b4f49ad4-de0b-426c-a8a8-4b53ba5944d1' } I sign the token with the private links to the jwks exposed I send the post request : POST ' https://my-moodle.com/enrol/lti/launch.php ?id=b4f49ad4-de0b-426c-a8a8-4b53ba5944d1' --headers : 'Cookies : session, state' --headers : 'Content-Type : application/x-www-form-urlencoded' --data-urlencode : 'id_token=token' --data-urlencode : 'state=state' --data-urlencode : 'launchid= b4f49ad4-de0b-426c-a8a8-4b53ba5944d1' --data-urlencode : 'client_id=test_client_id' Moodle seems to validate the sinature But the clientId disapear in the operation I get this error : The param 'clientid' is required. Calling code must either pass in 'client_id' (generated by the platform during registration) or 'id' (found in the initiate login URI created by the tool) to identify the client. I try to play with id, launchid, send client_id on url querystring but the error is the same. I will really appreciate any kind of support Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 14, 2024, 4:19 PM",
          "AuthorName": "Thomas Dupont",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6256688&course=5",
          "role": [
            "Picture of Thomas Dupont"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error \"The param 'clientid' is required. Calling code ...\"",
          "Text": "Is there an 'aud' parameter included your token? And the cookies you're sending on that last request are good? The error is thrown at lib/lti1p3/src/LtiMessageLaunch.php if that helps your diagnosis.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 15, 2024, 1:37 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error \"The param 'clientid' is required. Calling code ...\"",
          "Text": "Hello, Thanks I solved my issue, the problem here is that we have to pass through the browser to proceed, not on server side",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 16, 2024, 12:37 AM",
          "AuthorName": "Thomas Dupont",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6256688&course=5",
          "role": [
            "Picture of Thomas Dupont"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458442,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458442",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Default settings for proctoring form page without changes in codebase.",
          "Text": "When proctoring form page loads there should be the following default values: Activity description -> Display description on course page should be unchecked by default. Custom parameters -> \"url=\" text should be loaded. grade -> type should be set to None by default Please note that no changes should be made to the codebase. Are there any administrator settings available to achieve this? Thanks.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1841077/Screenshot%202024-05-14%20115821%20%282%29.png"
          ],
          "Time": "Tuesday, May 14, 2024, 2:45 PM",
          "AuthorName": "Manoj P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6367525&course=5",
          "role": [
            "Picture of Manoj P"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 458169,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458169",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problem in Teams Classes LTI, when trying to access Teams from Moodle",
          "Text": "Hello, I'm having problem using Teams Classes LTI and I hope someone could help me with this issue. We have configured Teams Classes LTI integration in our Moodle and integration seems to work. Users are synced, they can log in using OpenID Connect and new Team Class is created in Teams when Moodle course is synced. Users in the Moodle courses are also automatically added to this team and roles are correct (teacher is owner and students are members). But problem comes when you are trying to use the Teams external tool activity in the course. When clicking the Teams activity, you only get \"Something went wrong\" error. Moodle version is 4.1.9+ (Build: 20240223) OpenID Connect (auth_oidc) plugin version is 4.1.4, 2022112825 Microsoft 365 Integration (local_o365) plugin version is 4.1.5, 2022112826",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1839980/Error_message.PNG?forcedownload=1"
          ],
          "Time": "Sunday, May 5, 2024, 6:27 PM",
          "AuthorName": "Marko Strang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861620&course=5",
          "role": [
            "Picture of Marko Strang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 458051,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458051",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Retrieve group membership via LTI Names and Roles",
          "Text": "Hi, Is there a way to get group membership via LTI Names and Roles? There is an IMS standard to do so, and I have seen an open issue to implement the standard. I am assuming it has not been released yet. But, is there any other way? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 1, 2024, 9:08 PM",
          "AuthorName": "Eduardo Gomes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6433582&course=5",
          "role": [
            "Picture of Eduardo Gomes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Retrieve group membership via LTI Names and Roles",
          "Text": "Hi Eduardo, There is the course groups service, which is almost ready for inclusion in core Moodle, but stalled due to a lack of testing, iirc. See: MDL-69233 for details on that. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 2, 2024, 9:01 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457822,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457822",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI & Quizzes",
          "Text": "Is it possible to deliver quizzes from a Master Course via LTI to another course? For example History 10 master course has all of the assessments delivered to child courses via LTI.  I really don't know what I'm talking about.  I have connected an LTI page before; however I have never done anything with quizzes.  Thank you. Jeff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 24, 2024, 11:17 PM",
          "AuthorName": "Jeff Boulton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=295845&course=5",
          "role": [
            "Picture of Jeff Boulton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI & Quizzes",
          "Text": "Hi Jeff, This should be possible, but there are likely other ways of sharing the quiz content too. Are the main/consumer courses all on the same site? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 29, 2024, 9:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI & Quizzes",
          "Text": "The courses are on the same server . I want to share quizz content to multiple courses; however have it restricted so that Teacher's can not edit the shared quizes. Do you have another suggestion? Jeff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 29, 2024, 11:04 AM",
          "AuthorName": "Jeff Boulton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=295845&course=5",
          "role": [
            "Picture of Jeff Boulton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457785,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457785",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "External Tool option not showing up in \"Add Activity or Resource\" from course",
          "Text": "Hi, we have two LTI tools configured in our Moodle instance, and typically the way the tools are added to the course is that the teacher will edit their course, click on a content module, and then click \"Add activity or resource.\" Then they choose \"External Tool\" and choose the tool from the dropdown menu. For some reason, the External Tool option is no longer showing up in the Add an Activity or Resource window that opens.  I don't want to list the tools individually in the Add Activity or Resource window, because the teacher needs to be able to add the tool *without* choosing content if they don't want to deep link anything. I checked the teacher permissions and they have access to adding LTI tools etc (attached screenshot of the role permissions). Is there another setting to show that External Tool chooser?  It definitely worked this way before. Thanks for any help! Carrie Bishop",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1838512/Screenshot%202024-04-23%20at%201.14.14%E2%80%AFPM.png?forcedownload=1"
          ],
          "Time": "Wednesday, April 24, 2024, 1:15 AM",
          "AuthorName": "Carrie Bishop",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2423033&course=5",
          "role": [
            "Picture of Carrie Bishop"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool option not showing up in \"Add Activity or Resource\" from course",
          "Text": "I assume you are running Moodle 4.3 when the setup of LTI External tools was changed. Have a look at the documentation LTI External tools including the video, to see if that is any help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 24, 2024, 1:56 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool option not showing up in \"Add Activity or Resource\" from course",
          "Text": "That's totally the issue! So here's my dilemma: our users previously used one configured tool for both a basic LTI launch, and for a deep linking LTI link. When they selected it from the dropdown, they had the option to NOT select content when adding the tool their content module, so it would just launch our tool (without any content linked). Or, if they wanted to , they could deep link to an assignment. Now, when I select the tool directly from the activity chooser(instead of external tool --> choosing from dropdown) I am required to select content when I am adding the tool to the content module or I can't save. Does this mean we will need to now set up two versions of the external tool at the system level - one with deep linking enabled and one with deep linking disabled? Or would there be another way to allow the instructor to add the tool and choose not to select content every time? Thanks for your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 24, 2024, 5:16 AM",
          "AuthorName": "Carrie Bishop",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2423033&course=5",
          "role": [
            "Picture of Carrie Bishop"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool option not showing up in \"Add Activity or Resource\" from course",
          "Text": "Hi Carrie, Yes, that's correct. You could perhaps also get away with just using the deep linking tool, performing a deep linking launch and discarding the result (i.e. just remove the custom params used to identify the resource), but you'd need to confirm that works. Long term, we'd like to be able to place tool definitions elsewhere in places like navigation, etc. so you could launch into \"just the tool\" from there, but that's still a ways off. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 24, 2024, 11:19 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457721,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457721",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to attach a LTI 1.3 ResourceLink to an Activity?",
          "Text": "Hello, My LTI 1.3 tool doesn't provide DeepLinking currently, how can one attach the ResourceLink directly into an Course Activity?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 22, 2024, 7:46 PM",
          "AuthorName": "Latte Software",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6415970&course=5",
          "role": [
            "Picture of Latte Software"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to attach a LTI 1.3 ResourceLink to an Activity?",
          "Text": "Hi there, How are you identifying the resources? Do you use custom parameter? If so, custom parameters can be set at the link-level, despite the tool being configured at site or course level, which would let you launch into a specific piece of content. You just need to edit the activity settings and click \"Show more\" to see that field. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 23, 2024, 9:15 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to attach a LTI 1.3 ResourceLink to an Activity?",
          "Text": "Hello Jake, Thanks for you response! I am identifying a resource using the`resource_link_id` ( https://www.imsglobal.org/spec/lti/v1p3#resource-link ). Until now, I: 1. Created a Course > Course Format > Type of Activity: External Tool 2. Went to the Course view in Edit Mode > Added an Activity and pointed to my external tool 3. After clicking in my external tool in the previous step, I got into the Activity Form, here is where I am lost, not sure where to put my Resource Link. So I was looking for a field where I could put the URL (for instance: myexternaltool.com/lti-resources/:resource_link_id) directly into the activity. Which when clicked, it would perform a POST request as described here: https://www.imsglobal.org/spec/lti/v1p3#examplelinkrequest",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 23, 2024, 10:02 AM",
          "AuthorName": "Latte Software",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6415970&course=5",
          "role": [
            "Picture of Latte Software"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to attach a LTI 1.3 ResourceLink to an Activity?",
          "Text": "Alright. I think there are a few things to clarify here. Firstly, the resource link id is an id generated by the platform (Moodle in this case), not the tool. Moodle generates this for every resource link (activity instance) and sends it in the launch. You'll need an id generated by your tool to pass in the launch to identify a specific tool resource. How you get that id, and what it looks like, is up to you, but I'd move away from calling it the resource link id, since that has existing meaning within LTI. Once you've got that id from your tool, you should add it as a custom parameter in Moodle. Then, when the tool is launched, and receives the JWT, you will retrieve the custom parameter from the launch data's custom claim ( https://www.imsglobal.org/spec/lti/v1p3#custom-properties-and-variable-substitution ). It's just a name=value pair, added to the \"custom parameters\" form field, which you'll only see once you click \"Show more\" inside the activity instance form when configuring the link.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 23, 2024, 10:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457510,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457510",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Grade Sync - 401 Unauthorized Error",
          "Text": "I have a learning tool that integrates with Moodle via LTI 1.3. The tool uses Assignments & Grades Services to post grades to Moodle when a learner completes an activity. While posting grades works without issue in the Moodle 4.1 Sandbox , we're experiencing an issue with a particular Moodle 4.1.5 instance. Payload : {userId: \"XXXXX\", scoreGiven: 2.0, scoreMaximum: 10.0, comment: \"\", timestamp: \"2024-04-11T00:09:43.192098\", activityProgress: \"Completed\", gradingProgress: \"FullyGraded\"} Response : {reason:\" Unauthorized \", request:{...}, status: 401 } We have ensured that the student for which grades are being posted is enrolled in the course. Any assistance or ideas on this would be greatly appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 2:01 AM",
          "AuthorName": "Sean Doyle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6144193&course=5",
          "role": [
            "Picture of Sean Doyle"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Sync - 401 Unauthorized Error",
          "Text": "Hi Sean, This kind of problem does come up on this forum from time to time. Unfortunately, that 401 masks a whole range of causes, and we don't have the debugging capabilities yet to be able to surface that nicely for troubleshooting. We definitely need that. See this response on another thread, which links to the code checks responsible for the 401. https://moodle.org/mod/forum/discuss.php?d=439687#p1769659 . The problem in that case was a missing authorization header, but that's not the only cause. If any of the checks fail (missing header, signature check failure), they can result in the 401, but we don't know which one caused it. Sorry that I can't point you right at the issue but hopefully that gives you one or two things to check.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 9:39 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Sync - 401 Unauthorized Error",
          "Text": "Hi Jake, Thanks for your help, the solution you linked solved the issue for us (with a slight deviation). The LMS administrator let me know that they used CGIPassAuth , \"as a safer way to address the issue without modifying environment variables which may contain side effects\". Thanks again, Sean",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 20, 2024, 4:16 AM",
          "AuthorName": "Sean Doyle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6144193&course=5",
          "role": [
            "Picture of Sean Doyle"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Sync - 401 Unauthorized Error",
          "Text": "Excellent! Hopefully the next person stumbles across this post and finds it useful. Glad you got it sorted.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 22, 2024, 9:25 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450013,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450013",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Moodle Exception - public key",
          "Text": "```text\n\n```\n \n```text\nHello people!\nI have an error in my Moodle provider, Every time I try to publish a course as an external LTI tool and when accessing it through the consumer, this error appears on the screen when clicking on the course.\nException - Unable to find public key.\n\nOther information about this error\n\nDebug info:\nError code: generalexceptionmessage×Ignore this notification\n\nStack tracking:\n```\n \n```text\n\n```\n line 316 of /lib/lti1p3/src/LtiMessageLaunch.php: Packback\\Lti1p3\\LtiException thrown line 455 of /lib/lti1p3/src/LtiMessageLaunch.php: call to Packback\\Lti1p3\\LtiMessageLaunch->getPublicKey() line 149 of /lib/lti1p3/src/LtiMessageLaunch.php: call to Packback\\Lti1p3\\LtiMessageLaunch->validateJwtSignature() line 71 of /enrol/lti/launch.php: call to Packback\\Lti1p3\\LtiMessageLaunch->validate() What could it be ? thanks Follow the attachment",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1808570/MicrosoftTeams-image%20%281%29.png?forcedownload=1"
          ],
          "Time": "Thursday, August 31, 2023, 9:50 PM",
          "AuthorName": "Eduardo Sousa Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5781237&course=5",
          "role": [
            "Picture of Eduardo Sousa Silva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle Exception - public key",
          "Text": "PS: My connection between both was working fine until a week ago, so I'm thinking that it's a moodle configuration that could be causing this error. By the way, I had to change the site certificate for reasons of expiration",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 31, 2023, 10:53 PM",
          "AuthorName": "Eduardo Sousa Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5781237&course=5",
          "role": [
            "Picture of Eduardo Sousa Silva"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Exception - public key",
          "Text": "Hi Eduardo, That error simply means the tool site was unable to connect to the platform's JWKS endpoint to get the public key. Have you configured the tool properly with all the relevant platform details, including the JWKS endpoint? Is that endpoint publicly accessible? (it should be). Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 1, 2023, 10:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Exception - public key",
          "Text": "Hi jake! Here is the attachment of my moodle configuration, i have anothers moodle's with connection with a external tool, the farm is the only who doesn't work. the JWKS have the configuration bellow Link's with possible good info for this erro : https://lms.institutomonitor.edu.br/farm/enrol/lti/register.php?token=9dea7f0269977a1588fce1c7a22828cc2b08a169dd50ad135ca742de2518 https://lms.institutomonitor.edu.br/farm/enrol/lti/launch.php https://lms.institutomonitor.edu.br/farm/enrol/lti/login.php?id=9dea7f0269977a1588fce1c7a22828cc2b08a169dd50ad135ca742de2518 https://lms.institutomonitor.edu.br/farm/enrol/lti/jwks.php https://lms.institutomonitor.edu.br/farm/enrol/lti/launch_deeplink.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 1, 2023, 7:56 PM",
          "AuthorName": "Eduardo Sousa Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5781237&course=5",
          "role": [
            "Picture of Eduardo Sousa Silva"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Exception - public key",
          "Text": "News! I think I found out what might be happening, doing some tests on my other moodles that are already on the air, I found out that the ones that work with the LTI tool are from versions 4.1.5. When I uploaded moodle to my server with version 4.2.2+ I didn't pay attention to testing the external tool. Could there be a bug in version 4.2.2 for the external tool? I followed this documentation to create my moodle provider and consumer -> if possible, can we update this documentation to the latest version of moodle (this if creating the external tool in 4.2.2 is ok)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 5, 2023, 9:21 AM",
          "AuthorName": "Eduardo Sousa Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5781237&course=5",
          "role": [
            "Picture of Eduardo Sousa Silva"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Exception - public key",
          "Text": "Hi I have been trying to connect two Moodles (4.3.3) One is configured as a platform and the other is configured as a tool. My Moodles are running in Docker on Mac. I have the same problem (Unable to find public key), I tried everything I could, any help will be greatly appreciated",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1838229/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1838229/image%20%281%29.png"
          ],
          "Time": "Sunday, April 21, 2024, 8:03 AM",
          "AuthorName": "Saul Rioja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6383936&course=5",
          "role": [
            "Picture of Saul Rioja"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457519,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457519",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.11 as LTI 1.1 Provider",
          "Text": "Hi, I am trying to configure one of our Moodle courses to act an as LTI 1.1 provider on a second system. I have provided what I believe are all the relevant details - the Launch URL and the Shared Secret - and they have been unable to get it to work. The other system's admin is asking me what to put in for 'Custom Parameters', which is a mandatory field on their system. I am under the impression that there are no custom parameters to send - certainly I haven't seen anything in the provider config that looks like custom parameters to be sent. Is there something that needs to be sent back as Custom Parameters to the provider?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 10:14 AM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "I will add that I have tested this Moodle 4.1 LTI 1.1 Provider by setting up a Consumer activity on a separate Moodle 3.11 site, which appears to be working - users on the 3.11 site are able to access the course through the LIT connection, and their results are successfully passed back to the provider.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 10:23 AM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "Further to the above, when trying to open the course on the consumer side, the URL of the resultant error page is the following: https://... .../Authentication/LMSReturn.aspx?lti_errormsg=Sorry%2C+there+was+an+error+connecting+you+to+the+application.&lti_errorlog=Debug+error%3A+OAuth+signature+check+failed+-+perhaps+an+incorrect+secret+or+timestamp.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 11:11 AM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "A new development. The admin I was talking to had put the launch details in the wrong spots - after correcting this we are now able to connect to the provider course from the consumer system. However results are not being sent back. The following error appeared in the provider Moodle's 'sync_grades' task log: Failed - The grade '1' for the user '15' in the tool '1' for the course '2' failed to send.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 11:53 AM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "Hi Keenan, First up, a note about versions: Use something current. We shouldn't be using LTI 1.1 any more. This is a deprecated specification and any major platform will support LTI 1.3 (it's replacement) these days. Moodle supports LTI 1.3 in its tool provider in 4.0+ and has supported it in the consumer for even longer. v3.11 is now out of support, so I'd strongly suggest you upgrade that site. Now, to clarify the custom params part: You're absolutely right, those aren't needed when using the legacy (LTI 1.1) provider. The id which identifies the specific activity/course is included in the launch URL. Custom params are, however, used (and required) when using the LTI 1.3 provider. So, if the consumer application is saying custom params are mandatory, then that sounds like a problem with the 1.1 setup on their end. Our 1.1 provider doesn't need them and they aren't required by the spec. Hope that helps",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 11:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "Thanks for your prompt response Jake, First off - using a newer version of LTI is not an option because the consumer only supports LTI 1.1. Regarding the custom params, I suggested putting 'force_embed = 1' in the field just to have something in there. Now that we've gotten the connection and user sync working, my focus moves to getting results sent back to the consumer system. I am almost certain that the problem is on their end, but is there anything on our end that could be causing the grade-sync to fail?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 12:17 PM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "No problem, Keenan. I suspect that's often the case for people still using 1.1 - it's out of necessity rather than preference. Sending basically anything in custom params as a workaround seems like a good idea to me. The output of the grade sync task looks okay to me, other than the fact it's not accepted. There's not a lot to go on there either unfortunately. I'd also check that you're running at least 3.11.11 because of some major issues with grade sync in versions prior to that: https://moodle.org/mod/forum/discuss.php?d=440491 . You could try to debug the grade sync task, but you could also go down the path of checking logs on the consumer - which might provide more info (or might not). Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 12:51 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "Thanks Jake, I'll see what I can find out debugging the grade sync task. If I can establish that the problem is on their end and their responsibility to fix, that is progress of a kind.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 1:24 PM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457116,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457116",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "current list of custom subtitution parameters",
          "Text": "Hi all, is there an updated list of the custom substitution parameters that Moodle can provide? As per https://www.imsglobal.org/spec/lti/v1p3#lti-resourcelink-variables , I'm trying to get the ResourceLink.available.startDateTime parameter, but I can't get it (just get $ResourceLink.available.startDateTime in the custom fields of the idtoken). As per https://github.com/moodle/moodle/blob/main/mod/lti/locallib.php , specifically in the lti_get_capabilities() function (line 3867), the CourseSection.timeFrame.begin parameter should return null but returns the create date forum (although this may apply only for moodle desktop, my ignorance on the model may show here). Thanks in advance, S.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 2, 2024, 3:09 AM",
          "AuthorName": "Simon Angel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6268959&course=5",
          "role": [
            "Picture of Simon Angel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: current list of custom subtitution parameters",
          "Text": "Hi Simon, The function lti_get_capabilities() is the right place to check. As you'll see, there is no mapping for ResourceLink.available.startDateTime presently, so that isn't going to work for substitution. CourseSection.timeFrame.begin and CourseSection.timeFrame.end will map to the course start and end dates, respectively, as in this code . The nulls are just default values, used before we calculate the real ones. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 2, 2024, 9:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 456281,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456281",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "login in external tool with Moodle as consumer",
          "Text": "Hi all, this is a question maybe for the community rather than for the admins We're setting up an external tool that requires login, which is currently managed with WorkOS using single sign-on. Users would be manually created with their names, usernames, and emails obtained via LTI. We want to authenticate them automatically in our tool with their email and a password stored in our database to avoid double sign-in if possible. Have any of you implemented something like this? Is it even possible with WorkOS or any other tool? Thanks in advance! S.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, March 5, 2024, 10:12 PM",
          "AuthorName": "Simon Angel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6268959&course=5",
          "role": [
            "Picture of Simon Angel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: login in external tool with Moodle as consumer",
          "Text": "Hi Simon, I wasn't quite following this one last week, but I see no replies here yet so I'll ask some potentially silly questions just to clarify a few bits. Maybe that will help others, I don't know.. It sounds like you've got a tool, access to which is normally controlled via SSO through WorkOS. Then, you're wanting to figure out how to launch into that tool from Moodle, using LTI, and have the launching user automatically signed in using their existing tool account (i.e you want to avoid creating duplicate accounts during this process). Is that right so far?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 13, 2024, 9:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: login in external tool with Moodle as consumer",
          "Text": "Thanks Jake for your comments; we wanted to do just what you mentioned and solved it with out LTIAAS provider.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 2, 2024, 3:02 AM",
          "AuthorName": "Simon Angel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6268959&course=5",
          "role": [
            "Picture of Simon Angel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 456491,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456491",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3, content & dynamiclink",
          "Text": "Hi everyone, I've just set up my external tool in my administration panel and I've transferred the \"Tool configuration details\" from Moodle to my provider's LMS platform. My problem is with inserting content in edit mode on Moodle. The service provider is only able to provide me with \"dynamiclink\" linked to the content: - In LTI 1.3 they look like \"dynamiclink=0a31f428f-ds113-4f1c-bcc3-bdc9fb9c37655\". - In LTI 1.1 they look like \" https://website.net/Viewer/LTI/0a31428f-d113-4f1c-bcc3-bd9fb9c37655 \" My question is : is this enough to add content or is something missing ? If it's enough, how can I insert it in a Moodle course? Thanks in advance for your help !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 12, 2024, 5:13 PM",
          "AuthorName": "Dani Braun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6065283&course=5",
          "role": [
            "Picture of Dani Braun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3, content & dynamiclink",
          "Text": "Hi Dani, It sounds like you've set up an external tool and that the tool provider has told you that, in order to create the links to the relevant content in your courses, you need to use 'dynamiclink=0a31f428f-ds113-4f1c-bcc3-bdc9fb9c37655'. I guess you're then wondering what to do with that information, right? First up, if the tool supports LTI 1.3, ignore 1.1. LTI 1.1 is long deprecated and shouldn't be used unless there's no other option. I expect that for LTI 1.3, they'd want that as a custom parameter. Usually, we'd do this via Deep Linking, which is a standard that is required if tools are to be certified LTI Advantage Complete. Of course, not all tools support this. So, first thing I'd ask your provider is whether they support deep linking content selection. If they do, then you'd do something like as follows: a) add a new activity, selecting the tool b) when on the instance form, you'd click \"select content\". This then launches into the tool and lets you pick the relevant resource/activity to launch into. c) Once the selection process returns, you save and return to course. You can then launch into said content. If they don't support deep linking, we can still setup a link into a given resource, but we need to set that up manually. There will be a section on the activity instance form allowing you to enter the information. So, to create a link to the tool content manually, you'd do something like: a) Click to create activity or resource in a section, selecting the tool you've created b) In the instance configuration form, expand \"Show more\" in the form fields, where you'll see a \"Custom parameters\" form field. c) Paste 'dynamiclink=0a31f428f-ds113-4f1c-bcc3-bdc9fb9c37655' into that field d) Save and return to course At that point, you'll again be able to launch into the respective content. Normally, we'd expect LTI 1.3 tools to support deep linking, so I'd definitely ask about that first. Either way, the result is the same: you'll end up with a custom parameter which we'll pass to the tool during launch. Note also that custom parameters were removed in 4.3 and were only recently added back in MDL-80914 and MDL-81152 , so if you're on a 4.3 site, you'll need to wait for an update to 4.3.4 to see that form field in the activity instance form. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 13, 2024, 9:10 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3, content & dynamiclink",
          "Text": "Hi Jake, Firstly, thank you for your comprehensive feedback and sorry for the late reply, I was trying to obtain more information from the link provider. Apparently, deep-linking is not supported and he also told me that dynamic links must be used in \"custom parameters\" but these are not found in edit mode when we want to add a new one, even following your method. Do you know if the field location has been edited ? Regards",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1834455/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1834455/image%20%281%29.png"
          ],
          "Time": "Monday, March 18, 2024, 10:04 PM",
          "AuthorName": "Dani Braun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6065283&course=5",
          "role": [
            "Picture of Dani Braun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3, content & dynamiclink",
          "Text": "Hi Dani, We removed the custom params in 4.3, but since we then saw reports of quite a few tools which don't support deep linking (and which needed access to those params), we've added the form field back in MDL-81152 . That change won't be available until 4.3.4, which isn't scheduled for release until April 22nd. You can of course pull in the patch on MDL-81152 into your site, but generally I'd say waiting for the pending release would be safer/cleaner.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2024, 9:20 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3, content & dynamiclink",
          "Text": "Hi Jake, I'm thinking of trying the patch anyway, is there any documentation explaining how to proceed? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2024, 7:11 PM",
          "AuthorName": "Dani Braun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6065283&course=5",
          "role": [
            "Picture of Dani Braun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3, content & dynamiclink",
          "Text": "Hi Dani, There aren't Moodle docs on specifically that, since we don't recommend pulling patches into branches where they're not targeted (or manually pulling them in, in general). You'll need to know about git , and how to pull changes from our repositories, cherry picking commits, etc.. Most of this general information you can find at: https://moodledev.io/general/development/gettingstarted#a-quick-start-to-moodle-development but the rest of it will just be general git knowledge. You'll probably want to find a developer to assist you if it's something you're wanting to do anyway.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 20, 2024, 4:04 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 456531,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456531",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Upgrading from 3.11 to 4",
          "Text": "Hi I have a site that is currently 3.11.16+ that we are soon to upgrade to a version of 4. (actual version to be determined) We use LTI 1.3 to open an external program and pass a custom parameter and the user name and email address only. Is there anything we need to be aware of as far as known issues are concerned? Many thanks Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 13, 2024, 6:14 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Upgrading from 3.11 to 4",
          "Text": "Hi Gareth, There were a number of changes to LTI External tool (mod_lti) in 4.3, but nothing really that noteworthy before that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2024, 9:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Upgrading from 3.11 to 4",
          "Text": "Thanks for the information Jake that's really helpful Regards Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2024, 4:58 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 456477,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456477",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Which user profile fields are synced during launch",
          "Text": "I have someone asking about user profile fields and LTI account creation. Which standard user profile fields get carried over, and is it possible or planned for non core (custom) user profile fields to be carried over?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 12, 2024, 12:26 AM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Which user profile fields are synced during launch",
          "Text": "Hi Marcus, I've split this into a new discussion, since it wasn't related to the pinned announcement post. There is only a set mapping right now, and not for custom user profile fields. User email, firstname, lastname is synced, and the profile picture, if sent. See MDL-75114 for the issue that proposes adding something like this. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 12, 2024, 9:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447320,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447320",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.0 as LTI 1.3 tool in Blackboard - which values go where?",
          "Text": "Hi, All! I'm really struggling with connecting my Moodle 4.0 course (as an LTI 1.3 tool) to Blackboard and I would appreciate any help. The terms are completely different between Moodle and Blackboard and I don't know which values go where so maybe I paired them incorrectly. Can anyone confirm that I've done this correctly? Moodle Term       | Blackboard Term? Tool URL | Tool Redirect URL(s) Initiate login URL | Login Initiation URL JWKS URL              | Tool JWKS URL Deep linking URL | Tool Redirect URL(s) After doing that, the Blackboard developer site has information to be copied into Moodle for the \"Platform details\" page in Moodle:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 2, 2023, 8:33 AM",
          "AuthorName": "Brian Jarvis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2865145&course=5",
          "role": [
            "Picture of Brian Jarvis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 tool in Blackboard - which values go where?",
          "Text": "Hi Brian, As far as I can see you have done step 1 (connecting Moodle - Blackboard) correctly. you have selected the course, but the course itself probably does not have a LTI enrolment configurered. see https://docs.moodle.org/402/en/Publish_as_LTI_tool#Sharing_access_to_a_course_or_activity Hope this helps you to solve the mysterie. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 2, 2023, 6:48 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 tool in Blackboard - which values go where?",
          "Text": "Thanks for responding, Gemma! I do think I misunderstand something about User Account Provisioning and how it relates to deep linking content. After reading this: \"Content selection launches (Deep linking) require an existing account in Moodle, so always use \"Existing accounts only (prompt)\". Users without an account in Moodle cannot use this feature.\" I changed these settings in the \"Publish as LTI tool\" settings: Though I suspect I only needed to change it for teachers who would be selecting the content and not students. When I test it from Blackboard (as teacher and student), I still get the same error though: \"Invalid launch data. The custom claim field 'id' is required to launch an activity or resource over LTI Advantage.\" It points me toward a line in the /enrol/lti/launch.php file that throws an exception if (empty($launchdata[' https://purl.imsglobal.org/spec/lti/claim/custom' ]['id'])) { throw new \\moodle_exception('ltiadvlauncherror:missingid', 'enrol_lti'); } I can confirm that the launchdata variable has lots of information in it, but indeed nothing under \"custom\".  Do you have any ideas on what to try next? Thanks! -Brian",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1797739/image.png"
          ],
          "Time": "Saturday, June 3, 2023, 2:09 AM",
          "AuthorName": "Brian Jarvis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2865145&course=5",
          "role": [
            "Picture of Brian Jarvis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 tool in Blackboard - which values go where?",
          "Text": "Hi Brian i think they mean with 'from the custom properties , that will be created when you make the LTI publication I am unfamilair with Blackboard but in a different LMS (Capp/Defacto) I saw that they have a setting where they filled in id and then the property after = (so they filled in ID and in the other field b8b3dbb6-6d7f-4296-8e29-832bab5b9684) Hope this helps.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1797871/image%20%281%29.png"
          ],
          "Time": "Sunday, June 4, 2023, 8:57 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 tool in Blackboard - which values go where?",
          "Text": "Thanks again for helping, Gemma! After much struggle on my end, your suggestion was ultimately the solution, I just need to figure out a few details. Thank you! I'll list the steps that worked for me for posterity: In Moodle, share the entire course and copy the id property from the \"Custom properties\" field as shown in Gemma's reply In the Blackboard developer page, there are multiple places for custom parameters, but the one that worked was under My Applications -> Edit -> Custom Parameters (paste the whole thing, including \"id=\") This part really confused me because I thought it would always point toward the course and not the individual assignments I wanted to share. It turns out that, after adding that parameter, the course is now available for deep linking selection in my University's Blackboard instance and also any other assignments I made were available as well. The confusing part is that each assignment also creates an entry in Moodle like the one in Gemma's screenshot but those newly generated ids didn't need to be handled by me. On the Blackboard developer page, the launch_deeplink.php file needed to be listed as one of the redirect URLs. I used both the launch.php and the launch_deeplink.php files in the redirect field (separated by a comma) but I don't know if they both need to be there or not, but it wouldn't work without the deeplink one. Once added, my University's Blackboard instance (consumer?) will need to delete the old tool and re-add it because the custom properties cannot be updated by the University's admins. They can only change custom properties in placements and that's not the same thing. Even after clicking the \"Synchronize Placements\" (I think that's what it's called) button, the overall tool won't update so we had to keep starting over to get it to work. Don't forget to add a new deployment in Moodle because deleting and readding the tool will require that. CRON - I also didn't have my CRON setup correctly, but once I did, there is a scheduled task for synchronizing LTI grades and users and it runs every 30 minutes by default. Thanks Gemma and Jake for all of your help. It made a big difference and I really appreciate it. Thank you! -Brian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 15, 2023, 8:13 AM",
          "AuthorName": "Brian Jarvis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2865145&course=5",
          "role": [
            "Picture of Brian Jarvis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 tool in Blackboard - which values go where?",
          "Text": "UPDATE REGARDING CUSTOM PARAMETERS: Above I posted about confusion regarding adding an ID to the Custom Parameters (\"This part really confused me ... \"). While this initially worked, my university completed a Blackboard update yesterday (03/07/2024) that broke my LTI connection. It turns out, that Blackboard had a bug that required that an id be entered in the custom parameters box even when that wasn't necessary (the situation I was in). When they fixed the bug by removing that requirement, then all of my LTI assignment links were now going to a single place (the id entered). With the bug fixed, I needed to delete that custom parameter on the Blackboard developer page, and I also deleted them in each \"placement\" in Blackboard. Doing that got everything working again, and finally solved this mystery of why I needed that id in the first place.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 9, 2024, 7:53 AM",
          "AuthorName": "Brian Jarvis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2865145&course=5",
          "role": [
            "Picture of Brian Jarvis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 tool in Blackboard - which values go where?",
          "Text": "Hi Brian, Sorry to hear you're having trouble. I will say, upfront, that Blackboard was not a system this was tested with (having no access to that), so I can only speak to generally about the way this is intended to work, not to the Blackboard specifics.. Firstly, because of the way Moodle provides it's content via the enrolment method, it MUST have the custom property 'id' set for resource link launches. The general flow is: 1. Instructor launches into the content selection flow from the platform (linking account when prompted) 2. Instructor selects something they've published on the tool. E.g. an activity or course 3. This content item is returned to the platform (Blackboard, etc.) where it must create the appropriate resource link. This content item information includes the relevant 'id' needed to launch the respective published activity or course. 4. User clicks the resource link in the platform and can view the course/activity. Users are also free to manually create links in the platform, provided they set the id=xxx custom claim value (as Gemma mentions, this is visible in the tool's \"Published as LTI tools\" table). This is of course the more clunky method means of achieving the same thing: a resource link in the platform. So, in your case, don't try to launch the tool unless you're launching from a link created during deep linking (or a link which you've manually created and which includes the relevant id=xxxxx custom property). We need this id and there is no support for a non-deeplink launch without it. With respect to the problem with the link creation in Blackboard, that's unfortunately something I don't know. I've only used this with Canvas, and of course Moodle platforms. I believe others have used it with D2L, but I'm not sure about Blackboard. You may need to troubleshoot that further on that end. All I can say is that the content item that we return is per the specification and has been checked using the 1EdTech certification suite, as most tools have (that's not to say there may be an issue, of course, as that suite doesn't check everything). With regards to the provisioning modes, that's really a matter of choice and probably applies to teachers moreso than it does to students in your case. Students aren't expected to have existing accounts in your Moodle site (I don't think at least, correct me if I'm wrong), so they need to have their accounts automatically created. This is essentially the way this worked going back to LTI 1.1 and 2.0. This is why the value for Student is defaulted to \"New accounts only (automatic)\". I'd suggest just leaving this as it is. Teachers, on the other hand, with LTI 1.3, are expected to use the deep linking feature, which exposes a whole list of published content they have access to. To determine that access, we need to use their existing account (and they will of course have one since they are using Moodle to create the content in the first place). This is what the \"Existing accounts only (prompt)\" method is about. It'll force a teacher, on first launch, to bind their existing account, after which we can establish which resources they have access to and report that during the content selection workflow described above. Again, you don't need to use this flow; you may also just create the resource link manually in the platform, provide the id=xx value and away you go just the same. So, ultimately, you have 2 choices: 1. Figure out why deep linking is failing in Blackboard. Including a network trace from Chrome (a HAR file) of the deep linking (content selection) process might give me some insight, but it also might not if it's something on Blackboard's end. There are some issues that we still need to work through around partitioned cookies when this process takes place in an iframe, so depending on your platform/browser combination, that could perhaps be in play here too. 2. Create the resource link manually in Blackboard (I'm certain they will support this too). All you need to do is make sure the custom claim has the 'id' property set to the value defined in the tool site. If you have the time/patience, it would be nice to work through 1, but I understand if you just want to get this up and running and don't want to muck around with that. Either way, hope some of that helps. Keep us posted. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 5:32 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 tool in Blackboard - which values go where?",
          "Text": "Thank you very much for your help, Jake! I got it working now and I replied to Gemma's post with what I did to make it work. After much success, I created a new problem for myself, and I wondered if you had any thoughts on what could have gone wrong. I created some assignments in Moodle, published them as LTI tools, and completed them as a student in my University's Blackboard course. The records synced and all was good. Then, I deleted the assignment outright in Moodle and was greeted by the following error message pictured below. Because of this error, the \"Add\" button is now gone and I can't add any more assignments. I then removed the deleted assignment from the recycle bin but that didn't help. Based on the \"More information about this error\" link which goes here , I'm hopeful that this a cleanup issue, and that there is some sort of scheduled task that will take care of this issue. However, nothing has changed and it's been a few hours. Any idea on what I could try next? Thanks again! -Brian",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1799236/deleted_lti_assignment_error_moodle.png"
          ],
          "Time": "Thursday, June 15, 2023, 8:22 AM",
          "AuthorName": "Brian Jarvis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2865145&course=5",
          "role": [
            "Picture of Brian Jarvis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 tool in Blackboard - which values go where?",
          "Text": "Hi Brian, Glad you got it working and thanks for sharing the details above. That will be very helpful for others. With regards to the above, that's certainly and bug in Moodle and, in fact, one we've already patched. See MDL-68843 for details. If you upgrade to at least 4.0.3, you should see that problem disappear. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 15, 2023, 9:26 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 tool in Blackboard - which values go where?",
          "Text": "Glad to hear you got it working! And sharing the details. Was happy to help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 15, 2023, 3:58 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 455412,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455412",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "getting auth token with ext tool",
          "Text": "Hi, We're implementing an external tool into Moodle using ltiaas. In the process of calling the LTI, a resource called \"authenticate\" with a JSON web token is created. That token has, among other things, encoded information about the current user. Relevant to the implementation is the role of the user to assign some read/write permissions in our service. Is there a way to catch this token other than the browser console? Thanks in advance, cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 14, 2024, 2:57 AM",
          "AuthorName": "Simon Angel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6268959&course=5",
          "role": [
            "Picture of Simon Angel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: getting auth token with ext tool",
          "Text": "Hi SImon, I assume you meant the id_token JWT, sent from the platform to the tool in the auth response? I'm not quite sure I follow when you say catch the token - Ideally, you'd just receive and decode this token in your tool code. Can you be a bit more specific about what you're trying to do? Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 14, 2024, 8:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: getting auth token with ext tool",
          "Text": "Hi, Jake! I'll elaborate here. It would be helpful for us if our external tool had a way to know if the current user is an instructor or a learner . We noticed that this information is present in an authorization resource that connects to our tool via LTIAAS, and that resource is encrypted as a JWT token. We got this token via the browser's console, inspecting the resource's payload. It's a fairly extensive token. My question was if there is a way to get this token within out tool's code, although the more I look into this, the more it looks that this is completely external to Moodle. The open token from LTIAAS (id_token) that you mentioned we have managed to obtain only contains the info of who created the resource. In this case, this will always be an instructor. Thanks in advance",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1829681/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1829681/image%20%281%29.png"
          ],
          "Time": "Wednesday, February 14, 2024, 8:54 PM",
          "AuthorName": "Simon Angel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6268959&course=5",
          "role": [
            "Picture of Simon Angel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: getting auth token with ext tool",
          "Text": "I just had a chat with people from LTIAAS and clarified this whole ordeal. I was missing a key piece of information. Thanks Jake!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 14, 2024, 9:13 PM",
          "AuthorName": "Simon Angel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6268959&course=5",
          "role": [
            "Picture of Simon Angel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: getting auth token with ext tool",
          "Text": "No problem, though I'm not sure I helped in this case 😄 For others who end up here, would you mind sharing what the blocker/stumbling point was?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 15, 2024, 9:01 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: getting auth token with ext tool",
          "Text": "I was using a static LTIK value not knowing that it changes from session to session, so when I read de it_token it always showed \"instructor\" (because I'd got the LTIK from an instructor session). Added a few lines of code to get the current LTIK value and that made it. The 'authenticate' token from above wasn't needed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 15, 2024, 8:58 PM",
          "AuthorName": "Simon Angel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6268959&course=5",
          "role": [
            "Picture of Simon Angel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 455240,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455240",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "404 error on /mod/lti/auth.php",
          "Text": "I did a reasearch on the forum about this error, It seems to be an error on v3. My purpose is to access to an external ressource. I configured an external tools on /admin/settings.php?section=modsettinglti The open setting is  to open in a new windows. I want to use LTI 1.3 I'm using moodle V4.3.2 The LTI plugin is activated on my session. The url I'm using is like that : GET /mod/lti/auth.php? response_type=id_token& redirect_uri=https%3A%2F%2custom-ngrok- domain .ngrok-free.app%2Fcustom%2Fmoodle%2Flogin%2Fcallback& state=state_hash& client_id=client_id& login_hint=2& scope=openid& response_mode=form_post& prompt=none& nonce=nonce_test HTTP/1.1 Host: my-moodle.fr Cookie: MoodleSession=id_session Any idea can I apply to help me ? Thanks a lot in advance",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1828831/Capture%20d%E2%80%99e%CC%81cran%202024-02-08%20a%CC%80%2014.48.10.png?forcedownload=1"
          ],
          "Time": "Thursday, February 8, 2024, 9:56 PM",
          "AuthorName": "Thomas Dupont",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6256688&course=5",
          "role": [
            "Picture of Thomas Dupont"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 404 error on /mod/lti/auth.php",
          "Text": "Hi Thomas, Firstly, you don't need to enable any plugin for the LTI External tool to work; it's on by default. Those plugins you'll see (auth/enrol) are for publishing content (Moodle IS the tool in this case), so just ignore those. It's going to be hard to say with just the information above. Can you include a network trace of your launch (HAR file)? Have you tried enabling debugging on your site? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 9, 2024, 9:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 404 error on /mod/lti/auth.php",
          "Text": "Thanks @jake I solved the issue juste after the debbuging activation. The solution is : GET /mod/lti/auth.php? response_type=id_token& redirect_uri=https%3A%2F%2custom-ngrok-domain.ngrok-free.app%2Fcustom%2Fmoodle%2Flogin%2Fcallback& state=state_hash& client_id=client_id& login_hint=2& scope=openid& response_mode=form_post& prompt=none& nonce=nonce_test& lti_message_hint: req.body.lti_message_hint (I forgot to add this)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 9, 2024, 9:27 PM",
          "AuthorName": "Thomas Dupont",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6256688&course=5",
          "role": [
            "Picture of Thomas Dupont"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454675,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454675",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Removal of LTI from Courses",
          "Text": "Hi, I am hoping somebody might be able to help me out here. We have a number of preconfigured tools which can be added to courses using the external tool dropdown menu. However we now wish to remove one completely from our site. If I just remove the configured LTI from the list of external tools any instance of this tool on a course shows an error. I would like to know how best to remove these from our site. I have a list of all instances of where the tool is used and I could manually delete them however there is over 500 instances. I know I can also remove these from the MDL_LTI table however I am unsure if this would cause any other issues. Would anybody be able to suggest the best way of removing multiple instances of an LTI. Currently our site is on 4.1.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2024, 7:26 PM",
          "AuthorName": "Michael Clark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6059522&course=5",
          "role": [
            "Picture of Michael Clark",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Removal of LTI from Courses",
          "Text": "Hi Michael, Unfortunately, this kind of thing doesn't exist yet. You can see the number of tool uses on the tool card in \"site admin > manage tools\", but that's just a number; it won't take you anywhere that lets you do things with those usages in bulk (like delete them, for example). You can just hide the tool, so that it is no longer visible in the activity chooser, but this won't prevent existing resource links from working. If that suits your needs, you can just set the \"Tool configuration usage\" to \"Do not show; use only when a matching tool URL is entered\" via the tool settings at site admin. Of course this doesn't deal with removing all the links, which I think is more what you were after. If you feel up to creating a tracker issue for this, I'm sure it would be welcomed. Many thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 9:51 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Removal of LTI from Courses",
          "Text": "Hi Jake, Thank you for your reply, I thought that would be the case as I couldn't find anything. Like I said I could remove these from the Database but that seems to be slightly to destructive for me at this time. I will create a tracker for this, as I think this would be a great addition and may save me in the future if I need to remove one of my LTI tools that have over 1000 instances. Do you have any advice or documentation for creating a new tracker issue? As this would be my first. Thanks, Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 25, 2024, 5:23 PM",
          "AuthorName": "Michael Clark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6059522&course=5",
          "role": [
            "Picture of Michael Clark",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Removal of LTI from Courses",
          "Text": "Hi Michael, I'd suggest taking a look at https://moodledev.io/general/development/tracker . Make the issue type \"Improvement\", and set the component to \"LTI External tool\" and try to explain the problem clearly. Then we'll find it and triage it shortly. Many thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 29, 2024, 10:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Removal of LTI from Courses",
          "Text": "Hi Michael, Could you share the tracker link here once it is created? I'd like to follow it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 9, 2024, 12:45 AM",
          "AuthorName": "Melissa Fuller-Killgore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2749144&course=5",
          "role": [
            "Picture of Melissa Fuller-Killgore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Removal of LTI from Courses",
          "Text": "Hi Melissa, Whoops! I forgot to link it back here during triage. Thanks for the bump. See MDL-80801 Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 9, 2024, 9:16 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 455095,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455095",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Pearson Mylab not working after migration Please help",
          "Text": "I recently migrated our moodle to a new vps provider, Ubuntu 22 Moodle 4.3.2 Apache Mariadb Do I need to install a module for external tool, I am not sure what to add to make this work. It is working on the previous server . But not working after the migration. Please help.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1828268/image.png"
          ],
          "Time": "Monday, February 5, 2024, 2:36 PM",
          "AuthorName": "eric romarate",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6063320&course=5",
          "role": [
            "Picture of eric romarate"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Pearson Mylab not working after migration Please help",
          "Text": "Hi Eric, Hard to say where that's failing. it's clearly an error produced by Pearson though. Might be worth asking them. I assume you haven't changed the web address of your Moodle site as part of the upgrade?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 6, 2024, 10:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Pearson Mylab not working after migration Please help",
          "Text": "Thank you for the advise Jake. I already called them(Pearson) and indeed the socket error is a Tool Detail/Platform ID info not being submitted to Pearson for updating. I did not change anything after the migration. The web address is completely different from the old server/provider so the Tool Details which holds the Platform ID which is the URL is changed, They asked for the Tool Details especially the new plaform id links which holds the new server url and indeed it was fixed immediately after they updated something on their end. This is crucial step during migration transfers - to include informing Pearson if you are using an external tool from them.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 6, 2024, 11:58 AM",
          "AuthorName": "eric romarate",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6063320&course=5",
          "role": [
            "Picture of eric romarate"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Pearson Mylab not working after migration Please help",
          "Text": "Hi Eric, Yes, that's exactly what I suspected. If the URLs change, the tool need to be told about that, and vice versa if the tool endpoints change. That's just the nature of LTI 1.3.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 6, 2024, 12:59 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 455045,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455045",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Selling Courses as LTI Tools",
          "Text": "Hello, Our company is looking to take advantage of LTI and sell some of our courses as tools and we wanted to see if others have any experience. Here are some of the questions we have 1. Do we need to set up a new course as a tool for each customer or can the same tool be used across multiple customers? 2. Is there a way to monitor or limit enrollments for customers? Ex. If a school wanted to purchase 50 seats in a practice exam is there a way to limit those enrollments? 3. Is there a way to restrict a customer from resetting a course for a student? (if we sold 50 attempts we would want them to be a 1:1) 4. Best practices for resetting a course if a consumer purchased additional attempts As of right now through some research it seems that providers might sell access on a yearly contract basis with unlimited access.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 3, 2024, 4:20 AM",
          "AuthorName": "John Poeltler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4240848&course=5",
          "role": [
            "Picture of John Poeltler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 454887,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454887",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Change the Shared Secret via SQL possible.",
          "Text": "Hello folks We're currently use WebWork and the shared secret for that previous application is \"123456\" We've upgraded WebWork to another server and want to change the existing shared secret from \"123456\" to say \"ABCDEF\" Can I just do an sql update and if so, what tables and fields are involved? or do we just do it one by one? could be hundreds for all I know. Which leads me to think.. is there an sql query I could use to output all LTI records? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 30, 2024, 7:17 AM",
          "AuthorName": "Jerry Lau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1324621&course=5",
          "role": [
            "Picture of Jerry Lau",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Change the Shared Secret via SQL possible.",
          "Text": "Hi Dave, It really depends on how you've configured the tools in Moodle. Historically, there have always been 2 ways: \"Instance\" vs \"Tool\" config. 1. Up until Moodle 4.3, we supported per-instance-config, meaning that any instance of the External tool activity could contain it's own local tool config within the activity settings - and that includes secrets. Basically, the tool is configured within the specific activity, not at a wider level. In such a case, the shared secret is stored in the 'password' field of the 'PREFIX_lti' table (your DB prefix will be a real value, not PREFIX, of course). 2. \"Tool\" config is the other way of configuring tools, where the tool is defined at either course or site level (not at the activity instance level). In this case, the relevant value is stored in a particular row of PREFIX_lti_types_config, where the 'typeid' = <the id of the respective PREFIX_lti_types record> and where 'name' = 'password'. Assuming you've configured the tools as in 2, you just need to find the tool configuration(s) and make the update there. If you've permitted tool use at a per-instance level, then it's more complicated as you'll need to update every relevant instance. I hope that gives you something to go on. I'm deliberately not providing any SQL here since that's not the approach I'd advocate. I'd always recommend updating these values through the application as there may be other logic at play that is skipped when dealing directly with the database .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 30, 2024, 12:50 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453137,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453137",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Dynamic Registration failing (or no action)",
          "Text": "I'm working to setup a LTI provider and was testing the dynamic registration (which looked to be so simple!) based on the documentation at: https://docs.moodle.org/403/en/Publish_as_LTI_tool#Dynamic_Registration Site administration > Plugins > Authentication > Manage authentication and enable LTI (complete) Site administration > Plugins > Enrolments > Manage enrol plugins and enable 'Publish as LTI tool' (complete) Here's a quick video, both Moodle sites (Platform and Tool) are running Moodle 4.2: https://www.loom.com/share/ef89b06464f8445b855977633431cf03?sid=a2d87ebe-e1b1-490b-88a9-d9112c8b5d52 Instead of being able to activate, the page refreshes as if I did nothing. Did I miss something?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 1, 2023, 6:26 AM",
          "AuthorName": "Joseph Thibault",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=322584&course=5",
          "role": [
            "Picture of Joseph Thibault",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Dynamic Registration failing (or no action)",
          "Text": "Hi Joseph, You're doing everything right. What you should see after clicking \"Add LTI Advantage\" is the tool card listed on the page, at which point you'd activate it using the button on the card. In your example, it appears to be getting back to that point, but there's obviously no tool card listed. It's hard to know why the registration has failed (or even if it has), without seeing the network trace, server logs, debugging etc. Are you seeing the platform details updated in the tool site's registration, under the \"platform details\" tab? That's a quick way to check at least one thing. Another thing to note is that It's a one time use token in the registration URL , so it might also be worth trying a fresh app registration on the tool site (and a fresh dynamic registration URL and token in the process). If you can turn on debugging mode on the platform and capture network traces, that may also help track it down. Otherwise, we're left guessing at what the problem might be",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 5, 2023, 11:41 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic Registration failing (or no action)",
          "Text": "Jake (and anyone else in the future), the issue was that the server removed the authorization header from the http requests. It was resolved by adding a configuration through the .htaccess file in the Moodle directory, preventing that authorization header from being removed from requests.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 26, 2024, 11:56 PM",
          "AuthorName": "Joseph Thibault",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=322584&course=5",
          "role": [
            "Picture of Joseph Thibault",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454581,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454581",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Can't access courses through LTI",
          "Text": "I have set up LTI and believe I have it configured correctly. The tool site shows as active (but unused) under \"Manage Tools\" on the platform site. However, I have been unable to successfully link a course from the Tool site. I see numerous documentation references to adding External tools under activities , but cannot see any activity that would do that. Trying to establish a manual link to an LTI enabled course produces the errors below. The External Tools documentation tells me I can install tools at Course page > More > LTI External Tools - yet that option is not available to me. Clearly I have failed to activate or install something. Can anyone point me in the right direction?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1826347/Screenshot%202024-01-19%20at%202.17.24%E2%80%AFPM.png"
          ],
          "Time": "Saturday, January 20, 2024, 3:36 AM",
          "AuthorName": "Robert Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4916763&course=5",
          "role": [
            "Picture of Robert Wilson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can't access courses through LTI",
          "Text": "Hi Robert, Am I right in assuming you're trying to share a course or activity from one Moodle site with another Moodle site? I.e. Moodle to Moodle LTI? Assuming the above is correct (and I'll assume you're running LTI 1.3 also, as that's the latest spec), then you'll need site admin access to both sites first, and you need to ensure you have a complete tool-platform registration (this is required for LTI 1.3). This is a two way exchange of information between the tool (provider) site and platform (consumer) sites and must be completed before launches won't work. The easiest way to do this is via dynamic registration. You can see our tool docs on how to start this process in the tool site. https://docs.moodle.org/403/en/Publish_as_LTI_tool#Dynamic_Registration . Note also that there's a short list of steps explaining what you need to do with this registration URL should the platform be a Moodle site. It's basically a matter of copying the URL and entering it on the \"Manage tools\", clicking a button and then activating the tool - quite straightforward. If that's not what you're trying to do, could you perhaps add more information clarifying?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2024, 9:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't access courses through LTI",
          "Text": "Thank you for the response. Yes, I am attempting Moodle to Moodle LTI. Version 1.3. I am the site admin for both. I have the tool site successfully registered with the platform site. I tried dynamic registration, but it failed. I had to register it manually, using the instructions on the page you mentioned. The tool site is Moodle 4.1.2+ (Build: 20230328). The platform site is Moodle 4.3.2 (Build: 20231222). Admittedly I am out of my depth here. Ultimately over 50 courses on the tool site will need to be available on the platform site. Am I correct that I just needed to register the core domain as a tool, and then somehow link to each course \"Published as LTI,\" or do I need to register each individual course as a tool? Even though the tool site is registered with the platform, i have been unable to link any test course on the platform.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2024, 10:41 AM",
          "AuthorName": "Robert Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4916763&course=5",
          "role": [
            "Picture of Robert Wilson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't access courses through LTI",
          "Text": "Ok, great. You're right about the single registration, yes. That's the way the security works in 1.3. It's register once only, then that security contract is used when launching into the 50 resources/activities/whatever. So, then all you're missing is the \"Somehow link to each course\" part. In 4.3 and newer (4.3 being the platform site version), you need to create these links to individual courses/activities using deep linking (Moodle 4.3 removed the custom parameters form field which allowed you to manually configure a resource link). The way deep linking works is: 1) Click to add an activity or resource, selecting your tool icon 2) Click \"Select content\" and proceed to link your platform teacher account with the tool teacher account as directed. The tool needs to know who you are so it knows which courses/activities you are allowed to see in the deep linking selection view. 3) Select the activity/course via check boxes and select \"Add content\" (wording may vary, that's ottomh) You'll then end up with a resource link (activity instance) in the 4.3 site and you can launch into the activity/course the usual way. You just repeat this process to link to more courses/activities and they all share the same tool-platform registration. This is quite different to Moodle's 1.1 publishing model, where the security contract existed on each specific activity/course and we referred to that as the tool. Now, the tool is the site, not the resource. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2024, 12:17 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't access courses through LTI",
          "Text": "It appears to be exactly what I needed. A HUGE help. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2024, 5:38 AM",
          "AuthorName": "Robert Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4916763&course=5",
          "role": [
            "Picture of Robert Wilson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't access courses through LTI",
          "Text": "Well, it seems I solve one issue and create another. I am now able to link tools within the platform. Student enrollment and access are working, but the names are not being properly recorded in the course or user profile on the tool site. My test account (First name: Test, Last Name: Tester) is being enrolled as \"5 https://platformdomain.com/moodle \" Any idea what causes that or what I can do to properly enroll the students for access?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 12:54 AM",
          "AuthorName": "Robert Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4916763&course=5",
          "role": [
            "Picture of Robert Wilson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't access courses through LTI",
          "Text": "I should add that \"5\" appears to be the student ID number, so it is enrolling the student ID as the first name and the Moodle domain as the last name.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 1:25 AM",
          "AuthorName": "Robert Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4916763&course=5",
          "role": [
            "Picture of Robert Wilson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't access courses through LTI",
          "Text": "As is often the case in Moodle: \"There's a setting for that\". There's a privacy setting on the tool configuration in the platform (so, go to Site admin > manage tools > edit tool settings in the platform site). Expand \"Privacy\" and you'll see \"Share launcher's name with the tool\" and \"Share launcher's email with the tool\". Set these to \"Always\" and you'll see the student names come through on launch. The names of students who have already launched the tool will be updated on their next launch, or via the next run of the Names and Roles sync task. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 9:22 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't access courses through LTI",
          "Text": "Thank you once again. I had figured out it was likely a privacy issue but completely missed expanding the privacy link in the tool configuration (duh). I have one more question, and then I promise to leave you alone (for a while)! I really prefer to use the framing method for accessing tools, but the window is ridiculously small. My research has led me to try changing parameters in LTI files, but it makes no difference. I've also come across info regarding the passing of javascript commands in something called postmessage - but the \"how to\" description is not at all clear. Do you know of a way to resize that window?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 11:14 PM",
          "AuthorName": "Robert Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4916763&course=5",
          "role": [
            "Picture of Robert Wilson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't access courses through LTI",
          "Text": "No problem at all. Regarding iframe resizing, we don't yet support that (but really should). Last I checked, we had an issue dealing with adding that, but it's not been moving much lately. See MDL-64972 . Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 25, 2024, 8:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't access courses through LTI",
          "Text": "Thanks. That would be a nice feature addition, as the current framing is not very practical, especially when the LTI tool is presenting video lectures. If it was adjustable, it would be a far more acceptable way to embed content in another site from a pure branding perspective. That ticket is almost 5 years old. Hopefully, they will move on it at some point. We have greatly appreciated the pure power of the Moodle platform, and it has been very good to us. We do send a donation every month to support its ongoing development. Would be happy to ramp that up a bit if they can get this issue fixed! Seriously, this is a terrific system, and support on this forum has been more appreciated than I can say. Thanks again.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, January 25, 2024, 10:40 AM",
          "AuthorName": "Robert Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4916763&course=5",
          "role": [
            "Picture of Robert Wilson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454441,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454441",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 consumer External Tool gradesync stopped after moodle 4.2 upgrade",
          "Text": "We have an external tool as an activity in our course.  It has functioned well for 3 years now with the same LTI configuration within moodle. The assignment is opened, the user is taken to the external site, the user completes an assessment, and our team grades that assessment on the external platform.  Until last month, he grades came back automatically, and triggered the next step in the course. However, in December, we upgraded the site to PHP to 8.1 ( server still uses PHP 8.0, but virtual host uses 8.1) and Moodle to 4.2.  This was planned and tested on a dev box, but obviously not in-depth enough. This wrinkle didn't show itself since we were using test data and we didn't actually grade the test data submissions to the external tool, just checked the communication and that everything loaded and operated as before.  (completely our fault here and lesson learned)  The user/student still has the ability to complete the task and as far as the user is concerned, everything is working appropriately. I've contacted the vendor, and they don't see any issues with their other Moodle customers, so they've left it up to us to solve.  We're not true developers but are handy enough around a linux webserver to fix minor problems or get into trouble.  I know this issue could be stemming from a million different reasons.  But, I'm hoping someone might know what changes to the LTI code between 4.1 and 4.2 could potentially be causing this.   We didn't touch the LTI configurations at all, and just need to know where to start looking.  I've asked the external tool developer if they have an LTI 1.3 version we can use instead, but my hopes are not high there. Here is what we have tried.. Clean new course and new assignment from scratch - same behavior Verified the following settings in the External Tool Configuration. Verified that the External tool receives the launcher's name and allows the completion of the task, but does not populate the grade back to the gradebook Searched apache logs for php errors related to this tool's IP range with no luck Verified in the External Tool configuration the following settings are set: Is there a specific log or area of the moodle logs to look at more closely that could possibly uncover any hidden errors when this tool is trying to relay the grade back to us?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1825901/image.png"
          ],
          "Time": "Wednesday, January 17, 2024, 6:15 AM",
          "AuthorName": "Edwin Jeffords",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3319261&course=5",
          "role": [
            "Picture of Edwin Jeffords"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.1 consumer External Tool gradesync stopped after moodle 4.2 upgrade",
          "Text": "Hi Edwin, Nothing comes to mind for 4.2. Unfortunately, request logging, and logging/debugging in general is severely lacking in LTI services, so outside of getting a failure on the tool end, and passing that information on to us, there's not a lot to go on. Does the tool keep logs of making the grade sync requests? The other thing to check is the tool instance itself. So, you'd have the site level tool definition, as in your screenshot, as well as the instance specific settings (the activity settings for the specific instance). It's possible to override this at an instance level in some case, so I'd check that too. The only other thing that potentially could be related (mainly because you mentioned that you'd tried this with a new tool instance), is MDL-62839 , which changes the privacy checkbox default. That shouldn't impact existing tool instances, however, so I don't think that's the cause here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 18, 2024, 2:52 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 consumer External Tool gradesync stopped after moodle 4.2 upgrade",
          "Text": "Hi Jake, Thanks for the reply, and that's what I was afraid of on the Moodle side of things.  The vendor is looking at their logs to potentially spot any failures there, but no word back on that as of yet. I did confirm the tool instance settings and the site level tool definition settings matched, so there should be no block or permissions issues there. The reference to the MDL-62839 fix had my hopes up, but thinking it might be unchecked but hidden somehow since we have \"always\" selected on the site level settings.  However, I changed always to \"delegate to teacher\" and then looked at the assignment itself.  That checkbox appears now, but it was already checked to allow grades to be written.  Thanks for those suggestions, regardless. Could there be anything with linux permissions here that could stop the db write from an external source?  I'd assume that process would be \"run\" on our server as apache since the LTI tool would basically be sending a signal for our server to do the write (as itself), and not some unknown linux user running the process, right?  Just trying to think of all the possible hiccups here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 20, 2024, 2:25 AM",
          "AuthorName": "Edwin Jeffords",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3319261&course=5",
          "role": [
            "Picture of Edwin Jeffords"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 consumer External Tool gradesync stopped after moodle 4.2 upgrade",
          "Text": "Just this afternoon I did receive a log snippet from the vendor regarding a recent test activity completed on moodle, then graded on the vendors platform. I’m hoping this error message they are sharing will provide an idea where I should look? “Missing or invalid consumer key or token” Thanks for any ideas here.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1826360/IMG_1936.jpeg"
          ],
          "Time": "Saturday, January 20, 2024, 5:46 AM",
          "AuthorName": "Edwin Jeffords",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3319261&course=5",
          "role": [
            "Picture of Edwin Jeffords"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 consumer External Tool gradesync stopped after moodle 4.2 upgrade",
          "Text": "Hi Edwin, That certainly helps. There's only one place that exception is thrown, and it's here, in the service endpoint: https://github.com/moodle/moodle/blob/436a279dec8d837db77c7eb963e5fea0134095e4/mod/lti/service.php#L54-L56 Drilling down into that a bit, it's possible that this could fail due to a missing/bad header value - but that seems unlikely since the tool is working with other platforms. The other reason could be that it just can't read the headers properly. See the first part of the function https://github.com/moodle/moodle/blob/80203e3be170ce4cfef2ce1091b7360d23c3242b/mod/lti/OAuth.php#L820 , which deals specifically with apache. Is it possible some other server change that was made alongside the 4.2 upgrade is causing the headers to be unreadable? Sorry I can't be more concise. Without the ability to debug a score post, it's very hard to tell exactly where the code is falling over, but it's certainly header-related. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2024, 9:45 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 consumer External Tool gradesync stopped after moodle 4.2 upgrade",
          "Text": "Thanks, once again, for the thoughts here.  I'm happy to say your help here has gotten us to a working connection with data going both ways with the External tool! Here's what was causing the issue.  We run a few virtual hosts on this server for separate web applications under different URLs.  One of the other tools, a help desk for our LMS, is actually a subdomain of our Moodle instance.  That tool began requiring PHP 8.1 last year, so we modified the virtual host file to point to PHP 8.1 via FPM/FastCGI for this entire domain , while still leaving the other applications and domains on PHP 8.0 from the server's core apache install. This morning I went in and edited that virtual host file to only use 8.1 on the particular subdomain hosting our help desk, and put Moodle back to the server's core 8.0 version. Voila!  Grades came through instantly.  I'm not sure if this is issue with the FPM/FastCGI method of overriding the core server php version or whether there's some conflict between any php 8.1 version and this particular provider's 1.1 LTI tool.  (I highly doubt the latter)   Regardless, we're back to 8.0 on our moodle instance for now, and the vendor did confirm that they have an LTI 1.3 version that we can test and roll out very soon to future proof this assignment for a while. Thanks again for all the help figuring this out!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2024, 10:22 PM",
          "AuthorName": "Edwin Jeffords",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3319261&course=5",
          "role": [
            "Picture of Edwin Jeffords"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 consumer External Tool gradesync stopped after moodle 4.2 upgrade",
          "Text": "That's great news! I guess at the very least you'll be able to run this 8.0->8.1 migration in staging now and work out exactly where the problem with the headers lies. I suspect perhaps a configuration difference between 8.0 and 8.1, not the version difference itself, but that is only that: a suspicion. Anecdotally, I use 8.1 here between tool and platform without any issue (using vanilla apache setup as is usual for a dev box) and don't see the issue - FWIW. Glad it's back up and running anyway. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2024, 9:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 consumer External Tool gradesync stopped after moodle 4.2 upgrade",
          "Text": "I tend to agree.  Its probably something in the config.  I'll sit down and compare those two ini files to see if anything jumps out, and test 8.1 on the dev box before moving again. Thanks again for all the help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 1:32 AM",
          "AuthorName": "Edwin Jeffords",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3319261&course=5",
          "role": [
            "Picture of Edwin Jeffords"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454653,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454653",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "\"Forum\" activity grade syncing supported? Invalid grade",
          "Text": "Hello! We have a few setups using LTI Advantage connections to other LMS systems (Canvas/Blackboard). We've been testing grade syncing and it's been working for activity types with the exception of \"Forum\" types. When we add a forum activity in Moodle, publish as external tool, add into other LMS - we're able to access it from other LMS and grade it in Moodle, however we notice grades aren't syncing over. The sync_tool_grades adhoc task shows it found a resource link, processes it, and then always shows \"Invalid grade for the user...\". We've tested with multiple courses, users, activities , etc. and only \"Forum\" activities are having this issue. Are forums not supported for grade syncing? Has this been reported before? Thanks! Starting - LTI Advantage grade sync for shared resource '320' in course '33'. Found 1 resource link(s) for the user '10', for the resource '320' and the course '33'. Attempting to sync grades for all. Processing resource link '6e0901ce-01d7-4a03-b861-423bc6c5d6db'. Skipping - Invalid grade for the user '10', for the resource '320' and the course '33'.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2024, 8:11 AM",
          "AuthorName": "Skylar V",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6214754&course=5",
          "role": [
            "Picture of Skylar V"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"Forum\" activity grade syncing supported? Invalid grade",
          "Text": "Thanks for the report, Skylar. To be honest, forum isn't one of the activities I usually test with. I know we have a tracker issue dealing with how to handle multiple grades (for activities like workshop that support that), but suspect this isn't the case for forum. Can you share your specific grade setup for forum? E.g. is whole forum grading set to point, or something else? I'll take a look on my end and report back.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2024, 9:37 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Forum\" activity grade syncing supported? Invalid grade",
          "Text": "Ok, I've tested this in the main branch, and here are my observations thus far: 1. If using a forum set to use ONLY ratings-based grading, and when that grading is a simple point grade, the grades will be sent. E.g. I can set aggregation type to \"Average of ratings\" and the resulting value will be sent over. There is one gotcha, though: - If a given student doesn't have a rating, then \"invalid grade\" is seen in the task logs. This is outside the control of enrol_lti code however, since the sync code is just asking for the grade and sending it if it's not null/empty. In this case, when a rating hasn't yet been given, then it's empty or null and so we end up seeing the 'invalid' notice. 2. Forum supports multiple grade items so it's likely also subject to the problem reported (and fixed) in MDL-78066 . That fix is basically a stop-gap, preventing failures during deep linking related to multiple grade items by excluding activities having more than one grade item (for the time being. there are issues dealing with adding proper, decoupled multi-grade-item support). Assuming you've created the resource link to the forum using deep linking, then this may not be the issue. 3. Deep linking is currently broken when using ONLY whole forum grading (i.e. not forum ratings as well). I'll create a fix for this, but basically it's down to a simple array index issue in this code: https://github.com/moodle/moodle/blob/b42e47fb4afe240c11251806399f6b5cd21cd2e5/enrol/lti/classes/local/ltiadvantage/repository/published_resource_repository.php#L111 That task code assumes the items indexes start at 0, but that's not always the case. In this particular case, where whole forum grading is the only method used in forum, the only index in gradinginfo->items is index 1 - an index which gets set based on this code: https://github.com/moodle/moodle/blob/92b229c5f404a04750b779fc98ae817d160aba29/mod/forum/classes/grades/gradeitems.php#L49 . That's an easy fix and again not something that's likely impacting you since you've been able to get past the deep linking part of this. I've created MDL-80699 to deal with this bug. 4. If I have a manually configured resource link using custom param (pre-4.3, and getting around the bug in 3 above) then it's possible to point to a forum that's using \"Whole forum grading\". If I do that, I see another issue with the forum this time. It's grading interface isn't aware of the context -specific role override that's granting the platform user (the student) access to the forum. Hence, we're unable to grade the LTI users at all. This needs fixing in forum and is a fairly major issue preventing whole forum grading in LTI. I've created MDL-80698 to address this forum bug. If you wouldn't mind sharing how you forum is configured - at least in terms of the aforementioned ratings, whole forum grading, whether or not you're using simple point grades, etc. it would likely be helpful indeed! There are surely other cases to cover - I just didn't have time to go beyond the point grade / multi-grade stuff for today. Many thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2024, 4:50 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454313,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454313",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle and SabaCloud",
          "Text": "Hi I'm trying to set up SabaCloud with Moodle LTI 1.3 but still no success. Can you see what's wrong in my configuration? Vendor set up in SabaCloud SabaCloud Moodle Comment LTI_1_P3 1.3 LTI Version Client ID Client ID Set in Sabacloud (Made up value or can I find this in Moodle) OIDC Login URL Initiate login URL OAuth2 Authentication Method Vendor JWKS URL JWKS URL Vendor Redirect URL Tool URL Content set up in SabaCloud SabaCloud Moodle Comment Url Launch URL LTI Additional Attributes Custom properties Like id=2651a8f5-5853-4feb-aa59... Error:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 12, 2024, 9:20 PM",
          "AuthorName": "Daniel Johansson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6189983&course=5",
          "role": [
            "Picture of Daniel Johansson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle and SabaCloud",
          "Text": "Hi Daniel, I'm assuming Sabacloud is acting as the platform here, and that you want to consumer Moodle resources, is that right? If so, it'll help to see screenshots of your Moodle tool registration views (you can obscure any sensitive information if you wish). Mainly, I'd like to see the \"Platform details\" section and the \"Deployments\" section. Both of those sections need to include information from Sabacloud for the integration to work. I.e. it's a two-way exchange of endpoint information. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 18, 2024, 3:11 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and SabaCloud",
          "Text": "Hi and thanks for the reply! I found a link that pointed in the wrong direction. After change I think it might work. The customer testing it right now. I get back if I have more questions. Thanks Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 18, 2024, 10:46 PM",
          "AuthorName": "Daniel Johansson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6189983&course=5",
          "role": [
            "Picture of Daniel Johansson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and SabaCloud",
          "Text": "No problem. Glad you got that part of it sorted out. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2024, 10:00 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454515,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454515",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "contentitem_return endpoint required jwt",
          "Text": "I'm working on integrating a new course item using an LTI connection. When this course item is created, specific information is sent back to the platform via a particular endpoint. My goal is to add a custom parameter to this data exchange process. Specifically, when Moodle initiates a resource link request, I want it to include this custom parameter in its JWT token. However, I'm encountering difficulties in implementing this feature. I'm not sure if the issue lies in how I'm sending data to the `contentitem_return` endpoint or if there's another configuration step I'm missing. I'd greatly appreciate any assistance or advice from someone with experience in this area",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 18, 2024, 9:39 PM",
          "AuthorName": "ser vet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6204667&course=5",
          "role": [
            "Picture of ser vet"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: contentitem_return endpoint required jwt",
          "Text": "Hi, What you want to do is definitely supported. Basically, in the deep linking response ( https://www.imsglobal.org/spec/lti-dl/v2p0#deep-linking-response-message ) you include the custom params within each content_item. These custom params will then be parsed and stored against the resource link that's created in Moodle, meaning they'll be included in launches. This is a key mechanism used by tools to determine the content to display during a launch. Here's an example of the JSON payload we receive from our own tool during deep linking. You can see the id=xxx custom param is included: {\"iss\":\"YW8azRMnFqeTdZj\",\"aud\":[\"http://localhost/ltiplatform\"],\"exp\":1705631982,\"iat\":1705631382,\"nonce\":\"nonce-45ff12bbc46322e2bf9665152240fecd3aa4d78cbc72ce467d073d1519747ae2\",\" https://purl.imsglobal.org/spec/lti/claim/deployment_id \":\"1\",\" https://purl.imsglobal.org/spec/lti/claim/message_type \":\"LtiDeepLinkingResponse\",\" https://purl.imsglobal.org/spec/lti/claim/version \":\"1.3.0\",\" https://purl.imsglobal.org/spec/lti-dl/claim/content_items \":[{\"type\":\"ltiResourceLink\",\"title\":\"assignment 1\",\"url\":\"http://localhost/master/enrol/lti/launch.php\",\"custom\":{\"id\":\"eab7d550-6b11-48e1-8e09-44adc609af76\"},\"lineItem\":{\"scoreMaximum\":100,\"label\":null},\"presentation\":{\"documentTarget\":\"iframe\"}}]} See also the example in the Deep Linking spec: https://www.imsglobal.org/spec/lti-dl/v2p0#deep-linking-response-example Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 19, 2024, 10:35 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: contentitem_return endpoint required jwt",
          "Text": "Thank you for your reply. I have inspected the JSON payload you sent, and it has the same structure that I use. However, there's an issue: when Moodle sends a ResourceLinkRequest, it does not include any information about the content_items. Do I need to configure something to receive this data in the ResourceLinkRequest token? For example, in the payload you shared, there is an ID with the value \"eab7d550-6b11-48e1-8e09-44adc609af76\". Do you receive this ID back with the ResourceLinkRequest? Because I don't",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 19, 2024, 5:55 PM",
          "AuthorName": "ser vet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6204667&course=5",
          "role": [
            "Picture of ser vet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: contentitem_return endpoint required jwt",
          "Text": "Yes, that id must be saved and included in the resource link requests. it's essential, otherwise the tool can't identify the resource. If you're using Moodle as the platform, then this will be automatic; when the user click \"Select content\" in Moodle and picks something, then the contentitem is processed and the activity instance is created. At this point, the custom params will also be stored as instance data. If this isn't happening, then that's the source of your problem. Am I right in assuming you're writing the tool and want to integrate it with Moodle? If so, what Moodle version are you testing with?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2024, 9:59 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 437016,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437016",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 and Skillable",
          "Text": "I have followed guidance to build an external tool for linking to LOD from Skillable, and now I can see the content with LTI 1.3, but when I try adding selected content, I get the following error. Exception - Argument 1 passed to Firebase\\JWT\\JWK::parseKeySet() must be of the type array, null given, called in [ dirroot ]/mod/lti/locallib.php on line 1372 I was given the following from the provider: LTI 1.3 Login / Connect URL : <URL> LTI 1.3 Launch URL: <URL> LTI 1.3 JWKS URL: <URL> LTI 1.3 DeepLink URL: <URL> Public LTI 1.3 Key:  <URL> Private LTI 1.3 Key: <URL> Built the tool as follows: External Tool Configuration -> Configure a tool manually. Tool URL: <LTI 1.3 Launch URL> LTI Version: LTI 1.3 Public key type: Keyset URL Public Keyset: <Public LTI 1.3 Key URL> Initiate Login URL: <LTI 1.3 Login / Connect Url:> Redirection URI(s): <LTI 1.3 Launch URL> Custom parameters: None Tool configuration Usage: Show as preconfigured tool when adding an external tool Default launch container: Embed, without blocks Supports Deep Linking (Content-Item Message):  Checked Content Selection URL: <LTI 1.3 DeepLink URL> I then provided back the Platform ID, Client ID, Public keyset URL, Access token URL, and Authentication request URL to the provider and they put those in on their end.  When I go to use the tool and Select Content, I see the labs, but when I click one to add, I get the above error. Any help would be great! Tom",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 6, 2022, 6:37 AM",
          "AuthorName": "Tom Marsland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4997578&course=5",
          "role": [
            "Picture of Tom Marsland"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Did you ever get this resolved? I'm currently seeing the same error with Moodle 3.11.8 and using Gradescope.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2022, 1:36 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Hi Carly, No, I haven't gotten deep linking working yet. Skillable / LOD worked with me to give me a list of lab IDs and I had to add it into each lab activity as a custom parameter of \"LabID=XXXXX\" Tom",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2022, 2:08 AM",
          "AuthorName": "Tom Marsland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4997578&course=5",
          "role": [
            "Picture of Tom Marsland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "I can't be sure (mainly because I don't have access to debug the deep linking launches for either of the tools reported in this thread) but this may turn out to be related to MDL-73847 . If you're able to, I'd suggest testing the patch linked on that issue and reporting back here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2022, 10:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "@Jake, I'm a bit new to patching from those threads - can you give me a quick rundown on how to go about doing that? Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2022, 12:24 PM",
          "AuthorName": "Tom Marsland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4997578&course=5",
          "role": [
            "Picture of Tom Marsland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Hi Tom, You'll need to be familiar with git and then pull in the patch on that linked issue. Some information on that can be found here ( https://docs.moodle.org/dev/Git_for_developers#Peer-reviewing_someone_else.27s_code ). If you're not familiar with the development process, or pulling in patches, then it's probably something we'll need to leave for others to test. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2022, 1:49 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "The team at LOD gave me some settings to update, now this is the error I get. Any advice? Exception - OpenSSL error: error:0909006C:PEM routines:get_name:no start line",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 25, 2022, 2:34 AM",
          "AuthorName": "Tom Marsland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4997578&course=5",
          "role": [
            "Picture of Tom Marsland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Hi Tom, That error appears unrelated to Moodle code. It appears to be openssl specific, perhaps relating to the format of the PEM file. Google will probably tell you more.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 7, 2022, 9:46 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Exception - OpenSSL error: error:0909006C:PEM routines:get_name:no start line could be linked to the setting in the public key field : -----BEGIN PUBLIC KEY----- is missing or there is a \" before -----BEGIN PUBLIC KEY-----",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 11, 2024, 7:38 PM",
          "AuthorName": "Ludo M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1648362&course=5",
          "role": [
            "Picture of Ludo M"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Hi Tom, I'm looking to add LOD now Skillable to my moodle LMS. I appreciate it if you can let me know if you were able to make it work, and if you did can you walk me through the steps? Thank you I appreciate your time in advance for your response. Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 16, 2023, 4:22 AM",
          "AuthorName": "Marko Marko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1813649&course=5",
          "role": [
            "Picture of Marko Marko"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454231,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454231",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Placing an External tool (LTI) in a Moodle Quiz Activity Question",
          "Text": "In my use case, I want the user while reading a question stem, launch a LTI product in a popup menu. I don't see an option to call out LTI link/External tools in Moodle Question Editors. Any suggestions on how to approach this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 10, 2024, 3:23 PM",
          "AuthorName": "Rishiraj Gera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4098811&course=5",
          "role": [
            "Picture of Rishiraj Gera"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Placing an External tool (LTI) in a Moodle Quiz Activity Question",
          "Text": "At this point its not possible. However HQ is in the process of refactoring the LTI subsystem to make use cases like this potentially possible in the future. I expect we should be seeing this initial work completed in the second half of 2024, however a quizzes placement wont be part of that initial work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 11, 2024, 6:51 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453812,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453812",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Unable to configure the Lti for MOODLE",
          "Text": "I configured according to the instructions on this page and at the end I got an error. The Target Link URI is invalid(2508). https://support.zoom.com/hc/en/article?id=zm_kb&sysparm_article=KB0059608#h_01FRM3TQ5ZS3DJFDM3ZPNR0Z1Y MOODLE 4.3 https://arti-studio.tik-tak.co.il/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 22, 2023, 1:26 AM",
          "AuthorName": "Irith Herman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=444161&course=5",
          "role": [
            "Picture of Irith Herman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 453680,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453680",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Limit published tools to specific platforms/consumers?",
          "Text": "If a platform has been set up in Moodle do users from that platform have access to every published activity and/or courses? We'd like to grant the LMSes of specific customers access to content which may be specific to that customer. For example, for customer 1 we'd like to give them access to quiz 1, and customer 2 gets access to quiz 2 but no access to quiz 1. We could pre-provision the remote users using Student first launch provisioning mode = \"Existing accounts only (prompt)\" restricting remote users to specific courses. But that adds additional steps: the customer must provide us with learner details ahead of time, we then have to add these learners, and learners must additionally log into our site to link this account with the remote one. With Student first launch provisioning mode = \"New accounts only (automatic)\" is there a way we can publish a tool (quiz 1) but make it available only to registered platform \"Customer 1 LMS\"?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 18, 2023, 10:42 PM",
          "AuthorName": "Leon Stringer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1617763&course=5",
          "role": [
            "Picture of Leon Stringer",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Limit published tools to specific platforms/consumers?",
          "Text": "Hi Leon, Not currently. See MDL-74233 . Any content which is published over 1.3 is technically available to any 1.3 registrations + deployment. There is no way to say \"Here's a link to quiz 1 but it's only going to support launches from customer x\". One workaround that might partially work (I've not tried it and it might not work for your specific case), but which requires the use of deep linking, would be to only provide access to a given tool course/activity to those teacher accounts which you know are from customer x. Basically, you create the tool teacher accounts and make sure they can only access courses/ activities they are supposed to be able to access. That way, when the customer x teacher (on the platform) tries to create the link, they'll only be able to see those resources they have access to in the tool site, based on the access granted to them by said user account. Of course, if you manually create the links, there's nothing technically stopping anybody else from using them because, as I said before, any published activity or course works with any registration. The deep linking workaround only \"works\" via preventing the user from seeing other published resources during deep linking. It sort of depends how you're using it I think.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 19, 2023, 10:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Limit published tools to specific platforms/consumers?",
          "Text": "Thanks Jake. My understanding of the workaround is: The Moodle site (provider) is registered with the customer LMS (consumer). On our Moodle site: Create a course with the activity to be published. Publish the activity with Teacher first launch provisioning mode = \"Existing accounts only (prompt)\". Add a user in Moodle for the consumer site's teacher and enrol this on the course with role = teacher. Let's call this mteacher1. The teacher then logs into our Moodle site as mteacher1 in a browser tab so they can link their account in the next step. In a second tab they log into their LMS and attempt to select the published activity (which uses deep linking). The first time they do this they are prompted to link their LMS user to mteacher1. Once the user is linked they see the above activity only. The teacher enrols students onto course in their LMS. When these students access the activity they get automatically-created accounts on Moodle (assuming Student first launch provisioning mode = \"New accounts only (automatic)\"). They can only access the above activity. Does that look correct?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 19, 2023, 8:15 PM",
          "AuthorName": "Leon Stringer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1617763&course=5",
          "role": [
            "Picture of Leon Stringer",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Limit published tools to specific platforms/consumers?",
          "Text": "Yep, that's an excellent summary. I will add that I've not used this approach, nor heard of people using this approach (yet), so there very well may be some quirks along the way. It really comes down to careful access control management in the tool (provider) site. If someone gets hold of a custom param (id=xxxx) and has a valid registration (or you enrol someone from another org into the wrong course), there's nothing technically stopping them from adding a link to that content in their \"not supposed to have access\" LMS/Client. The IMS security framework for 1.3 just doesn't work that way, and we didn't yet build anything over the top to support that kind of registration-level or deployment-level restriction.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 20, 2023, 10:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453677,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453677",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Request for Assistance: Making \"Show Meetings/Recordings Only\" Checkbox Default in Zoom LTI Integration",
          "Text": "Hello Moodle community, I hope this message finds you well. As a Moodle administrator for [Your Local College], we have been encountering an issue with the Zoom LTI integration. The problem revolves around the display of meetings and recordings within Moodle, where irrelevant content is currently being shown. We are aware that there is a checkbox allowing users to filter and display only relevant meetings or recordings. However, our users frequently overlook this checkbox, leading to confusion and frustration. To enhance user experience and streamline the process, we would like to make the \"Show Meetings/Recordings Only\" checkbox pressed by default. Could you please guide us on how to achieve this customization? Any insights, code snippets, or step-by-step instructions would be greatly appreciated. Thank you in advance for your assistance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 18, 2023, 8:25 PM",
          "AuthorName": "Shraga Dvir",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6152595&course=5",
          "role": [
            "Picture of Shraga Dvir"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Request for Assistance: Making \"Show Meetings/Recordings Only\" Checkbox Default in Zoom LTI Integration",
          "Text": "As this is an LTI tool, Moodle has no control over that behaviour.  This is a disucssion you would need to have with Zoom support.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 19, 2023, 6:37 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453577,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453577",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 and Elecdute",
          "Text": "Hi, \n```text\nDoes anyone use Elecdute program with LTI 1.3 connection to Moodle.\nHow to get information about each Elecdute module for the assessment book. How do I edit the Moodle assessment book so that this is successful?\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 14, 2023, 10:43 PM",
          "AuthorName": "Tapio Varis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=479490&course=5",
          "role": [
            "Picture of Tapio Varis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 453307,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453307",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "enrollment through LTI is interrupted",
          "Text": "Hello everyone, we are in the process of setting up an integration between our in house developed system (as platform) and moodle as LTI tool to offer courses to our user base. by managing all the required configurations at both ends, we are able to start the course from our system on moodle, however there are couple one issue that no matter what configurations we tried, we are not able to go around it. when a student starts a course in our system, moodle opens and asks the user to fill in more profile details \"user registration\" however after completing that and accepting the terms and conditions, the student ends up on the profile dashboard and the student is not enrolled into the course \"clicking on my courses shows an empty list\", it is on the second attempt that the student lands on the course \"enrollment happens on the second attempt, since the first attempt is interrupted by student registration and terms and conditions\" are we missing something somewhere to enroll the user after registration ? thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 6, 2023, 5:26 PM",
          "AuthorName": "Fahd Helwani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6008505&course=5",
          "role": [
            "Picture of Fahd Helwani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: enrollment through LTI is interrupted",
          "Text": "Hi Fahd, See MDL-61591 . I believe this isn't a problem specific to enrol_lti, but to the profile update process in general. It would be great to see that issue moving again. Looks like it stalled a little since last reviewing it. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 7, 2023, 9:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrollment through LTI is interrupted",
          "Text": "Hi all, I added MDL-80343 for a quick solution. The issue is closed due duplicated issue. Nethertheless, MDL-80343 provides a patch and the git sources for Moodle 4.x. All the best Tina",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 8, 2023, 11:05 PM",
          "AuthorName": "Tina John",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4581652&course=5",
          "role": [
            "Picture of Tina John"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453228,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453228",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Invalid HTML generated by /mod/lti/launch.php",
          "Text": "Hi all, I am writing on behalf of one of our customers who is having a problem launching our LTI tool from their Moodle instance.  With some debugging I think we have traced the issue back to some invalid HTML around the \"lti_message_hint\" property on /mod/lti/launch.php <!-- customer example --> <input type=\"hidden\" name=\"lti_message_hint\" value=\"{\"cmid\":XXXXXXX,\"launchid\":\"ltilaunchXXXX_XXXXXXXXXX\"}\"/> <!-- school.moodledemo.net test site example --> <input type=\"hidden\" name=\"lti_message_hint\" value=\"{&quot;cmid&quot;:XXXXXXX,&quot;launchid&quot;:&quot;ltilaunchXXXX_XXXXXXXXXX&quot;}\"/> Note that in the customer example the value prop contains unencoded quote characters resulting in (what appears to be) invalid, or at least unintended, HTML.  On the hosted Moodle test site the quotes are encoded. When the customer launches the tool, I believe we are only receiving part of the \"lti_message_hint\" value due to the quote issue.  Our tool then sends the partial value back to Moodle at /mod/lti/auth.php and an error is thrown because our partial value does not match the expected value.  This whole sequence works properly on the test system, and AFAIK none of our other customers are experiencing the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 4, 2023, 11:13 PM",
          "AuthorName": "Marc Springshare",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6124070&course=5",
          "role": [
            "Picture of Marc Springshare"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Invalid HTML generated by /mod/lti/launch.php",
          "Text": "Hi Marc, I've just checked 4.1.3 and that version shouldn't have the problem. Suspect something local to that customer but obviously can't be sure. You're 100% right that we definitely need to get the full string over to the tool, and back from the tool. Here's the login initiation request code, where you can see the params are all encoded per ENT_COMPAT, which will convert double quotes (as you're seeing in the test site): https://github.com/moodle/moodle/blob/67f739499b3840ffc4cfae5a5a04c8dcd33bf3ab/mod/lti/locallib.php#L3589-L3590 . 4.1.3 has this same code. See also: https://www.php.net/manual/en/function.htmlspecialchars.php There's nothing configuration-wise that comes to mind. The only way I can trigger this kind of thing is if I set ENT_NOQUOTES on those lines of code, which isn't something we ship, nor provide config for. Also, just for clarity, am I right in assuming you're seeing the \"Invalid request\" error in mod/lti/auth.php, line ~90? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 5, 2023, 12:32 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid HTML generated by /mod/lti/launch.php",
          "Text": "Thx for the response. I don't have direct access to the customer site unfortunately, but from the screenshots we received auth.php looks to be returning a 404. The full request (with purged domains and identifying info) is as follows: https://[MOODLE_DOMAIN]/mod/lti/auth.php?scope=openid&response_type=id_token&response_mode=form_post&prompt=none&client_id=[CLIENT_ID]&redirect_uri=[ENCODED_TOOL_LAUNCH_URL]&state=state-[XXX]&nonce=nonce-[XXX]&login_hint=[XXX]&lti_message_hint=%7B%22cmid%22%3A[XXX]%2C%22launchid%22%3A%22ltilaunch[XXX]%22%7D Hmm - so in this example the call to auth.php does contain the encoded \"lti_message_hint\" value, which means our tool must have received the full value from the form POST generated on launch.php. That is not what I was expecting to see. I may have to go back to the customer to see if I can get patron access to the course, so I can see this first hand. Something is not adding up here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 5, 2023, 11:16 PM",
          "AuthorName": "Marc Springshare",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6124070&course=5",
          "role": [
            "Picture of Marc Springshare"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452944,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452944",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cookie troubles",
          "Text": "Hi Cédric, Can you explain specifically what you were doing when this (presumably) failed? E.g. Were you using the content selection (deep linking) to create the link to the course in the platform? Or, had you already created the links in the platform and were just doing a regular resource link launch into the course? As you've noted, this will only be an issue if you're using an iframe, meaning you're dealing with 3rd party cookies. If you're just launching into the course using a new window, you won't see this problem. Also, are you using HTTPS on both sites? This is required in order to be able to properly set samesite cookies on Chrome (which is what we need). I assume you would be. If you can attach a browser network trace (HAR file) from Chrome, that would be even better. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 28, 2023, 1:00 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cookie troubles",
          "Text": "Thanks for the trace, Cédric. That's quite helpful. It's allowed me to pinpoint where the likely issue is and may help you to track it down further on your end too. I'll do my best to explain where I think the issue might be: If you filter the trace to show only 'Doc' type requests/responses, this will show the requests for the LTI launch handshake (actually an OpenId connect flow). Of particular note are the two consecutive requests made to launch.php (the 6th item down once you've filtered to 'Doc') and view.php?id=xx (the 7th item down when filtered on 'Doc'). During a working launch, we expect the RESPONSE from launch.php to contain a \"Set-Cookie\" header with \"MoodleSession=xxxxx; path=xxx; secure; SameSite=None\". This is the correct MoodleSession cookie which we need the browser to include in subsequent requests, and which we'll use to identify the session. In Chrome, for this to work in 3rd party contexts, we need the 'SameSite=None' and 'secure' (which means we need HTTPS). I see this response header in your network trace, so that's a good sign. So then, in the request to view.php (the course/view page), we expect to see this same cookie being included in the REQUEST via the \"Cookie: MoodleSession=xxxx;\" header. This let's view find the session and continue. What we don't expect to see is a RESPONSE from view.php which contains a \"Set-Cookie\" header. This indicates there was a problem matching the session and a new session cookie is being created and returned to the browser. This is where I'd focus my attention as that shouldn't be happening. At this point in the launch flow, since we've redirected to view.php, we know that we've validated everything we need to validate in the LTI launch itself (nonce, etc, etc.), so that is very unlikely to be the issue. We only redirect to the final tool URL (in this case course/view.php) when we've: Validated the LTI 1.3 launch and Authenticated the user using auth_lti So, at this point, it seems everything has worked as expected thus far. It's the next step where we've redirected to view and see view's Response headers contain a Set-Cookie that we have a problem. Somewhere along the line we've been unable to match a session and have decided the user isn't authenticated and we redirect them to login.php (this is part of require_login()). I'd be debugging view.php and the session logic (require_login, etc) if it was me, but not sure how easy that is for you to do on your sites. I've just run through this myself on Chrome and Firefox using public, HTTPS domains and am unable to replicate what you're seeing on your sites (using current versions of Moodle). I get the appropriate MoodleSession cookie and it's passed along as expected to course/view.php and the tool launch works okay. This is unfortunate, but might hint at a local issue on your sites, maybe even something to do with the way CAS is integrated into the auth flow - I can't be sure without understanding that - and I don't. As a side note: The warning you originally reported above, is showing that a non-Moodle cookie is being set without SameSite=None; secure; (the ROUTEMOODLE cookie). I'm not sure what that cookie is or whether it plays into this. You can see the cookie above that (The MoodleSession cookie) is properly being set with SameSite and secure. Hopefully that gives you something to go on. At the very least, you'll be able to trace a launch in firefox and correlate what I've said is the 'expected' launch behaviour and see what I'm talking about. It might take a bit more digging to work out why that session cookie isn't being properly matched to a session in view.php though. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 29, 2023, 11:50 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cookie troubles",
          "Text": "Glad you got to the bottom of it. Yes! That custom cookie was exactly what the error reported and what I suspected the problem would be related to.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 5, 2023, 12:35 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452786,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452786",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3  Questions",
          "Text": "Hello, I have a question regarding LTI 1.3 and external tools. My company currently has Moodle version 3.10 that uses LTI 1.1/1.3 and uses Kaltura for external tool usage for videos that have LTI capability. My two questions are as follows: Is there a version of Moodle that is strictly using LTI 1.3? i.e. Moodle 4.0? Does the external tool that we use need to have LTI 1.3 as well if we upgrade our Moodle to use LTI 1.3 or is it not required? I am very new to LTI so anything will help. Also, I was told that Moodle 4.0 only uses LTI 1.3, but when looking for this information in the documentations but I couldn't find this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 20, 2023, 11:57 PM",
          "AuthorName": "ELI Team",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5400515&course=5",
          "role": [
            "Picture of ELI Team"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3  Questions",
          "Text": "Hi there, 1. All supported versions of Moodle currently support both 1.1 and 1.3 in the external tool. We've yet to formally make plans to deprecate support for 1.1, despite the fact that 1.1 has been deprecated by 1EdTech for some years now. However, many tools still haven't got their act together an upgraded to 1.3, so we'd find it hard to remove support for this on our platform. I will add, however, that, like tools, we're unable to certify our platform for 1.1 and have been unable to do so for some time. 1EdTech removed 1.1 from their certification suite some time ago since it's deprecated and unsupported by them now. 2. The external tool can use 1.1, but then you're going to consume that tool using the 1.1 part of Moodle's external tool. I.e. a 1.1 tool needs a 1.1-compatible platform, a 1.3 tool needs a 1.3-compatible platform. As per 1, Moodle is both 1.1 and 1.3 compatible so both work. I will say, however, that the tool really should be moving to 1.3 given 1.1 has been deprecated for some time and they will have been unable to certify their tool with 1.1 for some time too. If you want to be confident that the tool is certified with 1EdTech, then your best option is to use 1.3. Bottom line: both work with Moodle and will for some time. Prefer 1.3 if possible, but if the tool only supports 1.1, you can still use it should you choose to do so. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 21, 2023, 9:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452721,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452721",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Setting up Moodle as an LTI Tool",
          "Text": "Hi, Our school uses an LMS which is LTI 1.3\ncapable ( https://site.imsglobal.org/certifications/corefour/edsby )\nwhich we wish to continue to use. However, its built-in assessment/assignment capabilities\nare missing some key features we want to make use of: a lockdown browser mode and plagiarism/ChatGPT detection . Moodle appears to handle both of these features with\nease. We are therefore looking into using Moodle as an LTI Tool for\nassessments/assignments ( https://docs.moodle.org/403/en/Publish_as_LTI_tool ) while keeping our existing LMS as the LTI Platform . This would then be a limited\nMoodle installation, used strictly as an occasional tool by the LMS. I am an experienced Linux/ Apache / MariaDB system admin, but not very familiar with Moodle (or LTI) though I am learning.\nI am hoping to get some advice on how to configure it optimally (and perhaps\nminimally) for my environment. Would this be a rough outline for a recipe\nfor getting my Moodle install going: Install Moodle 4.3+. Enable the ‘Publish as LTI Tool’\nfeature ( https://docs.moodle.org/403/en/Publish_as_LTI_tool ) Manually register the Platform with\nLTI (our LMS does not have dynamic registration) in Site Administration/\nPlugins/Enrollments/Publish as LTI Tool/Tool registration Now what? The section on the instruction page\ncalled ‘Sharing access to a course or activity’ is a little sparse. If I want one of our\nteachers to create, say, quizzes in Moodle which can be gotten to via LTI, should\nI first be creating courses and teachers in Moodle? Then, in order for the\nstudent to access the quiz from the LMS, the teacher would create a link in the\nLMS to the Moodle Quiz? I realize that last part is platform specific but I am\nfeeling a little lost at this point. Any pointers you can provide me would be appreciated. Thanks, ...Bruce",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 18, 2023, 9:42 PM",
          "AuthorName": "Bruce Vrieling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6087494&course=5",
          "role": [
            "Picture of Bruce Vrieling"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Setting up Moodle as an LTI Tool",
          "Text": "Hi Bruce, For the first bit, yes. The LTI tool feature needs either a course or an activity within a course. You don't necessarily need to create teacher accounts in the tool, depending on how you plan to create the links and how you plan to create/bind accounts during an LTI launch. I'll explain below. Links: You're right in that once you've published, you need to create the links in the platform, which can be done one of two ways: Manually: You create a link in the platform manually and enter the custom param 'id=xxxxxxxx', which you'll find on the published as LTI tools page for each published course/activity. This method doesn't require you to have teacher accounts set up in the tool in order to create the link. This isn't the preferred means of creating a link. Via a deep linking launch (content selection). Basically, in the platform, you'll launch into the tool and pick which activity/course you want a link to and the tool returns that to the platform, at which point the link is created. This is the more modern means of link creation. This requires that the teacher has an account in the tool, since they'll launch into the tool to pick an item to create a link to. To view published items during content selection, we need to know who the user is, so we can do access control and present only courses and activities they have access to. Account binding: This one is a setting on the published course/activity. If you want to use deep linking for link creation (2 above), you need teacher accounts in the tool. Then, during first launch, the teacher will bind their platform account to their tool account and we'll be able to identify them in any launch from their on out. This is the default mode for teacher roles in published activities. They'll always be prompted to link an account. If you don't need deep linking and don't want to create teacher accounts in the tool, you can change the setting to automatically create teacher accounts during the launch, but of course then you're going to need to manually create links in the platform since you can't use deep linking. Manual link creation isn't as nice. Hope that give you something to start with. Let me know if you need more info Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 21, 2023, 9:50 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452512,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452512",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI integration",
          "Text": "I have recently integrated the McGraw Hill Aleks math program in some of our courses. The problem being is the gradebook synchronization is working but the content  LTI authentication to Aleks fails. A series of arguments are retuned eventually  after sending back a redirect an invalid request error is returned. McGraw Hill Aleks has been working on this also but to no avail? We have gone over all Moodle LTI settings also. Have any of you experienced this with your Moodle installs? As I said the gradebook synchronization is working fine?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 14, 2023, 3:52 AM",
          "AuthorName": "Sonny Herrick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4019144&course=5",
          "role": [
            "Picture of Sonny Herrick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI integration",
          "Text": "Hi Sonny, Can you expand on \"but the content LTI authentication to Aleks fails\"? I'm not sure what that means. If you can explain what you're doing, and where the process fails, that would be great. Also, if you could attach a HAR file (browser network trace log) that would also potentially be helpful. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 14, 2023, 9:26 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI integration",
          "Text": "This may be important, we host our own Moodle site. As I stated the grades from the McGraw Hill ALEKS LMS will synchronize and load to our Moodle gradebook but content will not. Content is the actual links to content on the M.H. ALEKS LMS. to populate the Moodle course to eliminate students going to an external LMS. Below is the information ( logs provided by the McGraw Hill engineers) I have received from McGraw Hill maybe there is something in this. \" These are the arguments we received from the request from the LMS when they clicked on the link to open the assignment popup: \n```text\narg.iss(\nhttps://\nOUR SITE)\n\n\narg.target_link_uri(\nhttps://secure.aleks.com/ltia\n)\n\n\narg.login_hint(3313)\n\n\narg.lti_message_hint(0)\n\n\narg.client_id(aVLgfQz586sswrC)\n\n\narg.lti_deployment_id(11)\n```\n .. and then we return with a redirect to the following URL (back to the LMS): https://OUR SITE/mod/lti/auth.php?response_type=id_token&redirect_uri=https%3A%2F%2Fsecure%2Ealeks%2Ecom%2Fltia&response_mode=form_post&client_id=aVLgfQz586sswrC&scope=openid&state=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9%2EeyJleHAiOjE2OTU2NzQ1MDUsInN0YXRlX2lzcyI6Imh0dHBzOi8vb25saW5lLnN3Y29sbGVnZS5lZHUiLCJzdGF0ZV9jbGllbnRfaWQiOiJhVkxnZlF6NTg2c3N3ckMiLCJzdGF0ZV9ub25jZSI6ImZiYWJiZTAwODMxY2Q2MDVlNTJmOTQ2MDg1OTg1ZjBlOWViMzgzNjUiLCJqdGkiOiJhNDVkMTY2M2JlZmNjMDBmNGU1Njc0MzcxM2YxOGU5OTQ2Njk3YTUxIiwiaWF0IjoxNjk1NjcwNzg1fQ%2EJHSoNJFOsLhVqrwIbo8rLqIQMUlmstnyjAgdEbZbWInIHrfFGVyu2BHCwo%5Fn4EWck9LfHpN5IZ%5F3IaNjlX8sMWP2ilf39pBJH2y4LtiGE8VWktUxygtIdfNp7fZaPK%2Dzx23pIIA6umiflEiWe5xlQZ7IhWogRK2jZb2EfR8Kkx7CuVHCMrR4gvARU8jo2iKIZxZUVQ%2DKVX4rSEDK8JQv1ucT8tMzBPUH%5FQIMs%5FljP325E38VRIgAUTgkSv%5FNHSHTkfJE1CWr8Gi4rfR%2DK7xt2kupVejte68aXPVgXWFhP9TMrVc2%5Fklf9o7qR4ZvLm6By%5F49v2fEq7KJor%5FAGKXlwg&login_hint=3313&lti_message_hint=0&prompt=none&nonce=fbabbe00831cd605e52f946085985f0e9eb38365 Then, the LMS sends the 2 nd request with those arguments: \n```text\narg.error(invalid_request)\n\n\narg.state(eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2OTU2NzQ1MDUsInN)\n```\n So, we received this `invalid_request` error argument after sending back the redirect url above. \"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 14, 2023, 11:28 PM",
          "AuthorName": "Sonny Herrick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4019144&course=5",
          "role": [
            "Picture of Sonny Herrick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI integration",
          "Text": "Hi Sonny, That value of lti_message_hint looks incorrect and isn't what Moodle sends. That must be a JSON string otherwise launches (deep link or otherwise) will fail. I'd suggest looking into why that's being reported as a 0 on the tool system. We certainly don't send 0 during the login initiation request, as you can see in the code here: https://github.com/moodle/moodle/blob/26d0ac156eb346a9409b7e0c3dd3d7703c3a104d/mod/lti/locallib.php#L3660 Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 15, 2023, 9:20 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452349,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452349",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle - Wordpress LTI",
          "Text": "Hello, I've searched for all posts referring to the wordpress LTI, which are very useful (and with some great instructions too), but they all seem to be very old, and I'm not sure if they are still relevant (I haven't been able to set it up from them anyway). eg: https://moodle.org/mod/forum/discuss.php?d=213665 Does anyone use wordpress as an external LTI tool for moodle anymore? Or is there another way of doing it? We want the ability for users to create a blog on wordpress and somehow submit that for an assignment. The original forum post had the functionality of students creating their own page within a wordpress multisite, via clicking the link on a moodle course page. This would be a very good start for us. I'm wondering if I'm just searching for something that no longer exists or if people have found a way, possibly a completely different way of using wordpress with moodle. thanks, Simon Lewis",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 9, 2023, 12:02 AM",
          "AuthorName": "Simon Lewis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2262687&course=5",
          "role": [
            "Picture of Simon Lewis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle - Wordpress LTI",
          "Text": "Hi Simon, I've not used it personally, but I know of a 3ipunt plugin which looks like it permits launching into Wordpress using LTI 1.3 (current spec). You can find more information on that plugin here: https://github.com/3iPunt/wordpress-lti-1-3 Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 10, 2023, 11:06 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle - Wordpress LTI",
          "Text": "Thanks for that. I'll have a look Also found this one, and a useful blog about it: https://wordpress.org/plugins/celtic-lti/ https://ammienoot.com/lti-testing/wordpress-lti-testing-part-4/ Hopefully we can get something going with it...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 14, 2023, 10:16 PM",
          "AuthorName": "Simon Lewis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2262687&course=5",
          "role": [
            "Picture of Simon Lewis"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 443389,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=443389",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "JWK must contain ‘alg’ parameter error in Moodle versions 4.0/1",
          "Text": "Hello Moodle Team, My name is Mike, and I'm a Technical Consultant here at LinkedIn. Over the last few months have been seeing an uptick in client issues as it pertains to upgrading their Moodle platform to versions 4.0 and 4.1. We (LinkedIn) had recently upgraded our Moodle test platform to version 4.1 and have been successful at replicating the issue being experienced by our clients. Replication Path (screenshots attached): Admin/Instructor launches LTI 1.3 in the External Tool Tool launches successfully and is able to search for LinkedIn content User click on the Add button followed by confirm User is presented with JWK must contain ‘alg’ parameter error This error only occurs on Moodle versions 4.0 and higher. After speaking with a Product rep over at Moodle, we were informed to try implementing the patch outlined in this case https://tracker.moodle.org/browse/MDL-76002 . However, we confirmed our Moodle platform of the LTI1.3 library is 5.2.1 , which is what was specified in the Moodle ticket. We also confirmed that this issue was fixed in accordance to this ticket https://tracker.moodle.org/browse/MDL-74303 , but it's clear the issue remains. We are seeing more and more clients upgrade to the newest versions of Moodle expressing issues with this specific error. We would love to partner with the Moodle team to resolving this issue, since we fear more clients will be impacted in the coming weeks/months as they continue to upgrade to versions 4.0 and higher. Thank you, Mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 27, 2023, 5:04 AM",
          "AuthorName": "Mike Reed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5220663&course=5",
          "role": [
            "Picture of Mike Reed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: JWK must contain ‘alg’ parameter error in Moodle versions 4.0/1",
          "Text": "Hi Mike, Thanks for posting a detailed breakdown of what's happening. Both of the aforementioned issues resolve a specific issue with Moodle acting as a tool, not a platform, so won't be of any help in this case. Note the \"LTI Provider\" component on the issues. We use \"External tool (IMS-LTI)\" to denote mod/lti, which is what's used when Moodle acts as a consumer/platform. I've had a quick look now and what has actually occurred is that the firebase/php-jwt library was upgraded to 6 (and this is where the dependency on alg was introduced by Google - see https://github.com/firebase/php-jwt/blob/main/src/JWK.php#L102-L106 ). This lib is used by mod/lti. This results in what you're seeing. I.e. after a content item is selected during deep linking, if the tool (in this case LinkedIn) omits 'alg' in their JWKS, then Moodle will throw \"Exception - JWK must contain an \"alg\" parameter\". This does need to be fixed in the mod/lti usage. This library upgrade was performed in MDL-71712 , which landed in 4.0, so will affect 4.0, 4.1, master. I've created MDL-77077 to address this issue. Thanks again for the post. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 30, 2023, 9:43 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain ‘alg’ parameter error in Moodle versions 4.0/1",
          "Text": "Thank you so much for the quick turnaround on this Jake! I was able to test the fix and can confirm the issue is now resolved! We will inform clients of this patch going forward and will advise on any feedback received. Awesome job again",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, February 16, 2023, 8:58 PM",
          "AuthorName": "Mike Reed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5220663&course=5",
          "role": [
            "Picture of Mike Reed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain ‘alg’ parameter error in Moodle versions 4.0/1",
          "Text": "Great to hear, Mike. Glad it did the job.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 17, 2023, 8:26 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain ‘alg’ parameter error in Moodle versions 4.0/1",
          "Text": "Hello all is it possible that this issue has resurfaced in moodle 4.1.6? I have one lti that functions properly with deep linking and another that fails with the ALG error. I quickly checked the code from the 401 stable and seem to see all the code there however...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 27, 2023, 3:46 AM",
          "AuthorName": "Eric Katchan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555818&course=5",
          "role": [
            "Picture of Eric Katchan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain ‘alg’ parameter error in Moodle versions 4.0/1",
          "Text": "Hi Eric, That code is still in place in the current 4.1.x stable branch, but of course it could be something else going on causing an error. What error are you seeing? What steps do you take before seeing it? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 27, 2023, 9:42 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain ‘alg’ parameter error in Moodle versions 4.0/1",
          "Text": "Hello Jake, thanks for responding. Moodle v 4.1.6, PHP 8.1 Plugin With Issue: Atlas Systems Ares reserves (Library reserves plugin) Procedure: Editing on Add Activity - External Tool Select preconfigured tool Select Content ( See image 1) Navigate to item to deeplink Click on Select button Result ( See Image 2)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1816285/image1.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1816285/image2.png?forcedownload=1"
          ],
          "Time": "Friday, October 27, 2023, 10:48 PM",
          "AuthorName": "Eric Katchan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555818&course=5",
          "role": [
            "Picture of Eric Katchan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain ‘alg’ parameter error in Moodle versions 4.0/1",
          "Text": "Hmmm. That code is still present in 4.1.6, so unless it's removed locally, or there's a bug in it, I can't immediately see what might cause this error to resurface. Are you able to debug that site?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 31, 2023, 10:42 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: JWK must contain ‘alg’ parameter error in Moodle versions 4.0/1",
          "Text": "Sort of, what type of information do you want/need and how can I get it for you?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 7, 2023, 3:18 AM",
          "AuthorName": "Eric Katchan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555818&course=5",
          "role": [
            "Picture of Eric Katchan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452170,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452170",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Connect Moodle to Github Classroom via LTI",
          "Text": "Hello everyone. We're trying to use github classRoom with moodle. We followed all steps of the documentation: https://docs.github.com/es/education/manage-coursework-with-github-classroom/teach-with-github-classroom/register-a-learning-management-system-with-github-classroom We registered the LMS, created and set the external tool in moodle, created the organization and some assignments. But when we select the pre configured tool we named \"GitHub ClassRoom\" and click on \"Select content\" we are redirected to https://classroom.github.com/lti1p3/openid-connect/redirect and we get error 500: Internal server error/We're sorry, but something went wrong./Try going back to classroom dashboard ]( https://classroom.github.com ) We noticed there are other posts related to error 500 but they are not exactly what's happening to us. We have done several tests and we have even set our organization as public to avoid permissions problems. Our Moodle version is 4.1.5. We have reported this issue to Github, but we would appreciate any help Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 3, 2023, 8:56 PM",
          "AuthorName": "Jorge Merino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1771648&course=5",
          "role": [
            "Picture of Jorge Merino"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 452112,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452112",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Is the LTI 1.3 context ID equal to the course id?",
          "Text": "I have not encountered an LTI 1.3 custom parameter in Moodle for the course ID (similar to Canvas's \"Canvas.course.id\"), but I noticed that the value within the id field of the \" https://purl.imsglobal.org/spec/lti/claim/context \" claim of the LTI 1.3 launch appears to equal the id value in my course URL (\"/course/view.php?id=2#section-0\"). Is this always guaranteed to be the case? Does Moodle have a course ID custom parameter? For additional info, I'm wanting to use the course ID with the API webservice /webservice/rest/ server .php with wsfunction=mod_resource_get_resources_by_courses for my courseids[0] body value. Does anyone know if the LTI context ID is guaranteed to equal the id that's expected by this API webservice?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 2, 2023, 6:08 AM",
          "AuthorName": "Mary Gwozdz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5382766&course=5",
          "role": [
            "Picture of Mary Gwozdz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is the LTI 1.3 context ID equal to the course id?",
          "Text": "Hi Mary, Yep, you've got it right. The context claim you mention contains the course id. You can also pass a custom param of your choosing, using the substitution param $Context.id (so something like 'courseid=$Context.id'), which will produce the same value albeit in a custom claim. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 2, 2023, 9:11 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451707,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451707",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI tool token request",
          "Text": "Hello everyone, I am currently looking at LTI tool in Moodle and the possibility of integrating that with lti platform on our locally developed solution. for that I use a trial account on MoodleCloud (v4.2.2) I followed the tutorial explaining how to configure LTI on moodle side, and I was able to start a moodle course published over LTI advantage from the lti platform, however the challenge that I am currently facing is with completion and grades. basically by looking at the logs I see that Moodle is reaching out to the lti platform access token url using a get method, trying to get a token which I assume is used then to authenticate to the platform's endpoint related to pushing completion and grades. on my platform's side, the endpoint accepts only POST, and I think having a POST to acquire a token is more secure in such a context . is that the case with acquiring a token from lti platform by using GET? and if yes is it possible to use POST instead? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 20, 2023, 5:26 PM",
          "AuthorName": "Fahd Helwani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6008505&course=5",
          "role": [
            "Picture of Fahd Helwani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI tool token request",
          "Text": "Hi Fahd, The IMS Security Framework specification is clear that all token requests must be made over POST, and the LTI Advantage portion of the tool provider code abides by this; all token requests are made via POST. Where are you seeing this request being made via GET? What logs? Are you using LTI Advantage? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 23, 2023, 8:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI tool token request",
          "Text": "Hi Jake,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 23, 2023, 8:33 PM",
          "AuthorName": "Fahd Helwani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6008505&course=5",
          "role": [
            "Picture of Fahd Helwani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI tool token request",
          "Text": "Hi Fahd, You'll need to make sure Moodle's cron is running first, and that the scheduled task is set to run every so often. There's also an adhoc task responsible for sending the grades for an individual resource/course, which will be run as part of the main cron run too (this is automatic). So, I'd be looking at the site's cron settings if I were you and make sure that's running. If that's running already, then it's a matter of checking that the ltiadvantage sync task is running. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 24, 2023, 9:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI tool token request",
          "Text": "Hi Jake, yes it looks like tasks are not running, unfortunately I have no control over these on MoodleCloud, cron is enabled by default. anyway, thank you for your support. Regards Fahd",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 24, 2023, 3:42 PM",
          "AuthorName": "Fahd Helwani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6008505&course=5",
          "role": [
            "Picture of Fahd Helwani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI tool token request",
          "Text": "Hi Fahd, One of the cloud guys just linked me this policy doc: https://support.moodle.com/support/solutions/articles/80000836687-moodlecloud-lti-support Looks like there is no provider support there at present, so what you're seeing is normal. Hope that helps (at least you know it's not something you've missed) jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 24, 2023, 4:26 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451263,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451263",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Passing group platform to tool",
          "Text": "Hi! Is it possible to auto enrole a LTI-user to a group in the tool (LTI-provider)? I want to predefine groups in the tool. The activities in the tool are linked to many courses of different platforms. The trainer of the platforms should only see the quiz-attempts of their own students. Regards Markus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 9, 2023, 10:06 PM",
          "AuthorName": "Markus Smole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1772587&course=5",
          "role": [
            "Picture of Markus Smole"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing group platform to tool",
          "Text": "Hi Markus, Unfortunately, this is not currently supported but that kind of a use case is probably common. I'd suggesting raising a ticket in MDL-73813 to address this. We're currently focused on the other side of LTI (Moodle's consumer) for the next little while but getting that issue created there at least lets others vote, discuss, etc. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 10, 2023, 9:36 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group platform to tool",
          "Text": "Update: I've moved the preexisting issue MDL-62662 into the Provider Follow Ups epic, which deals with adding support for this. Looks like there's a patch there and we're making some progress. Feel free to add your vote to that issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2023, 8:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group platform to tool",
          "Text": "Thank you for this information - voting done! Markus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2023, 2:32 PM",
          "AuthorName": "Markus Smole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1772587&course=5",
          "role": [
            "Picture of Markus Smole"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451372,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451372",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Grade passback from external tool to Moodle 4.1 via LTI 1.3 Advantage",
          "Text": "Long story short, LTI 1.3 seems to be working fine, the external tool (WeBWorK 2.18) claims that is has updated the LMS, but the grades are not updating on Moodle. A few more details: The WeBWorK log has \"Successfully updated LMS grade.\" for the user and grade in question. In the external tool settings in Moodle, accept grades from the tool is on \"always\". There is a column for the LTI activity in question in the Moodle gradebook. There is no Grade section in the LTI activity settings in Moodle, and upon inspecting the grade setting from the Moodle gradebook, the type is set to text without the ability to change it. Any idea what it could be? I'm particularly bothered by the emphasized part. I'd be happy to provide any additional information.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 11, 2023, 11:20 PM",
          "AuthorName": "Yohai Maayan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5251073&course=5",
          "role": [
            "Picture of Yohai Maayan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade passback from external tool to Moodle 4.1 via LTI 1.3 Advantage",
          "Text": "Do you have the advanced gradebook services selected in the tool? There are actually 2 separate settings needed for grade pass back in some instances",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 12, 2023, 7:21 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback from external tool to Moodle 4.1 via LTI 1.3 Advantage",
          "Text": "Thanks a lot Brett. Is that meant to be an option in the external tool settings in the site administration or in the activity instance settings in the course page? I can’t find it in either of those places. Or is it maybe somewhere else in the site administration settings?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 12, 2023, 2:49 PM",
          "AuthorName": "Yohai Maayan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5251073&course=5",
          "role": [
            "Picture of Yohai Maayan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback from external tool to Moodle 4.1 via LTI 1.3 Advantage",
          "Text": "It should be in the tool settings under \"services\"  it might look slightly different as this screenshot is from Moodle 4.3.  This needs to be selected a well as the \"accept grades from tool\" setting under privacy.  its a bit confusing but longer term I'd like to simplify it for users.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1814215/image.png"
          ],
          "Time": "Thursday, October 12, 2023, 7:27 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback from external tool to Moodle 4.1 via LTI 1.3 Advantage",
          "Text": "Yes, this has been on the third option in the menu from the start. So I should have a Grade section in the activity settings, right? It's driving me a bit crazy. I'm reading though the code for the LTI implementation in both Moodle and the external tool, albeit not understanding much, but I can't find why it's missing. We've tried changing some options around in the hopes that the Grade section might show up, but it doesn't. Send help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 12, 2023, 7:57 PM",
          "AuthorName": "Yohai Maayan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5251073&course=5",
          "role": [
            "Picture of Yohai Maayan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback from external tool to Moodle 4.1 via LTI 1.3 Advantage",
          "Text": "Just checked in Moodle 3.11. I didn't even set up the tool there. When I add a new LTI activity, it has a Grade section right away. Also, looking at the external tool logs more carefully in my setup (so Moodle 4.1), it reports the grades back and states failure for Moodle teachers, success for students. This would imply that the grades are arriving correctly, and that indeed the missing grade property in Moodle is the culprit.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 13, 2023, 12:18 AM",
          "AuthorName": "Yohai Maayan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5251073&course=5",
          "role": [
            "Picture of Yohai Maayan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback from external tool to Moodle 4.1 via LTI 1.3 Advantage",
          "Text": "screen shots of the activity settings, the tool config and the gradebook might help diagnose this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 13, 2023, 6:43 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback from external tool to Moodle 4.1 via LTI 1.3 Advantage",
          "Text": "Everything except for the external tool, since I am not an admin on the Moodle server . I will get those and post them soon.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1814479/%E2%80%A2%20Parent%20category.jpeg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1814479/Edit%20grade%20item.jpeg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1814479/Grader%20report.jpeg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1814479/%E2%80%A2%20Updating%20External%20tool%20in%20Topic%2010.jpeg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1814479/%E2%80%A2%20Competencies.jpeg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1814479/Availability.jpeg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1814479/JPEG%20image.jpeg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1814479/2A4D0119-2FF7-4C54-8449-5F642BAABCD0.jpeg"
          ],
          "Time": "Saturday, October 14, 2023, 8:36 PM",
          "AuthorName": "Yohai Maayan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5251073&course=5",
          "role": [
            "Picture of Yohai Maayan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback from external tool to Moodle 4.1 via LTI 1.3 Advantage",
          "Text": "So the problem could be at the admin tool configuration level then given you are using a pre-configured tool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 16, 2023, 9:33 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451300,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451300",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Missing state parameter in LTI 1.3 tool launch in Moodle mobile app",
          "Text": "We're a tool provider utilizing LTI 1.3 and the intergration has been working well in the Moodle web-interface. We've just been informed about a problem when using the Moodle app (iOS) and we've tracked it down to that the state parameter is missing in the launch procedure. More specifically the expected state parameter of the authentication response is missing ( https://www.imsglobal.org/spec/security/v1p0/#step-3-authentication-response ). Our tool then fails because it can't do the necessary CSRF token checks for the login. What can possibly cause the mobile app to not send the state parameter? The problem is only appearing for one of our customers, when we test it ourselves in the Moodle app it behaves a bit differently and works. In our tests it seems it always launches the activity in normal Safari outside of the app while for the customer it seems to launch in-app. We've tried different settings but we've been unable to make it launch in-app (on web we can make it launch in iframes or in a new window but this doesn't seem to have any affect on the mobile app). What is controlling if it launches in-app or with the native browser? How can we make it launch in-app to potentially be able to reproduce the problem? Our test instance of Moodle is 4.0.1+ (Build 20220527)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 10, 2023, 5:57 PM",
          "AuthorName": "Johannes Berg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5968349&course=5",
          "role": [
            "Picture of Johannes Berg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Missing state parameter in LTI 1.3 tool launch in Moodle mobile app",
          "Text": "Hi, this seems to be related to MOBILE-3724 , specifically: In Moodle App 3.9.5 we changed the default behaviour of the app. For 3.11 or higher Moodle sites, by default the app will open the\nLTI activity in the browser to make LTI 1.3 work. There'll be a setting\nin Moodle (Site administration > Mobile\napp > Mobile features > Disabled features > External tool >Launch via site in system browser) to change this default behaviour so LTIs are launched in\nInAppBrowser as they used to To keep backwards compatibility, in Moodle sites older than 3.11\nthe LTIs will still be launched in InAppBrowser by default. However,\nthere's a setting in Moodle 3.9 & 3.10 to disable this behaviour and\nforce the app to open it in browser: Site administration > Mobile\napp > Mobile features > Disabled features > External tool >\nOpen using embedded browser. According to what you said, some users are experiencing this issue while others are not, so it might be possible that some users are using very old versions of the Moodle mobile app? You should ensure that: * Users of the app are using recent versions of the Moodle app * If your client's Moodle site is using Moodle LMS 3.11 onward, the setting \"Site administration > Mobile\napp > Mobile features > Disabled features > External tool >Launch via site in system browser\" is NOT selected * If your client's Moodle site is < 3.1, the setting \"Site administration > Mobile\napp > Mobile features > Disabled features > External tool > Open using embedded browser\" is selected",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 10, 2023, 9:29 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Missing state parameter in LTI 1.3 tool launch in Moodle mobile app",
          "Text": "Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 10, 2023, 11:21 PM",
          "AuthorName": "Johannes Berg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5968349&course=5",
          "role": [
            "Picture of Johannes Berg"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451064,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451064",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Launch Moodle Course from Asp.Net application",
          "Text": "Hello Moodle team, I am trying to launch a moodle course from asp.net application. I have followed the instructions described here: https://docs.moodle.org/402/en/Publish_as_LTI_tool . But this does not give full flow. Could you please explain in detail what all we need to set up and code to launch the moodle course from an asp.net application. Thanks, HV",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2023, 12:41 AM",
          "AuthorName": "Hema Venkategowda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5931894&course=5",
          "role": [
            "Picture of Hema Venkategowda"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Launch Moodle Course from Asp.Net application",
          "Text": "Hi Hema, The docs on the Publication feature really only tell you how to set up one side of the required LTI connection. The other side - the Platform side - will vary depending on the platform being used. I.e. the workflow to setup the tool connection and subsequently launch into the tool (e.g. Moodle in this case) is quite different across the different LMSes. Is your ASP application already LTI certified? Or, are you in the process of trying to build one perhaps? Regards, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2023, 10:51 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Launch Moodle Course from Asp.Net application",
          "Text": "Thanks for the response Jake. I am trying to build a simple form submit where on the click of a button, we can launch the moodle course. One note here is we don't have the user's password, we only have user's email. Using user's email I am trying to log the user in and redirect the user to appropriate course. Is there a way to do this? I tried to launch a basic Lti Launch request (to tool url /enroll/lti/launch) with parameters but that required id_token and there were some issues with the validation of that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 4, 2023, 12:10 AM",
          "AuthorName": "Hema Venkategowda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5931894&course=5",
          "role": [
            "Picture of Hema Venkategowda"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Launch Moodle Course from Asp.Net application",
          "Text": "Essentially something like this - https://github.com/LtiLibrary/LtiLibrary/wiki/TC-Basic-Launch .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 4, 2023, 3:20 AM",
          "AuthorName": "Hema Venkategowda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5931894&course=5",
          "role": [
            "Picture of Hema Venkategowda"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Launch Moodle Course from Asp.Net application",
          "Text": "Hi Hema, It's certainly a fun challenge building a platform that's capable of handling an LTI launch flow. I'd suggest keeping your focus squarely on the LTI approach instead of a custom solution as this is based on OpenId Connect (at least the current version of LTI is) and is well vetted already. One thing to be particular mindful of is the version of LTI that you're building for. If you see terms like 'consumer key' or 'consumer secret', then you're dealing with LTI 1.1, which is a deprecated specification now. I wouldn't recommend going down this route in 2023. You should definitely be looking at LTI 1.3 and LTI Advantage. The list of resources (spec docs and such) for that standard can be found here: https://www.imsglobal.org/activity/learning-tools-interoperability . The library you've linked looks like it supports 1.1, not 1.3, so isn't going to be suitable. I found the following resource was quite helpful when building a tool for 1.3, but I think it would also be quite good for a general understanding of the resource link launch. In particular, it explains the third party initiated login process quite well and is provides the example code in ASP.NET too - which may be an added bonus for you. https://andyfmiller.com/2018/12/28/launching-an-lti-1-3-resource-link-using-openid-connect-third-party-login/ I hope that helps point you in the right direction. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 4, 2023, 8:51 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Launch Moodle Course from Asp.Net application",
          "Text": "Thank you so much Jake. This is exactly what I was trying to set up as well after researching a bit on the moodle code. The example links you have provided will definitely help. I will give this a try. Thanks again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 5, 2023, 1:41 AM",
          "AuthorName": "Hema Venkategowda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5931894&course=5",
          "role": [
            "Picture of Hema Venkategowda"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450970,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450970",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Show only subscribed courses in \"My Courses\"",
          "Text": "I'm using Moodle 4.0, and my use-case is that all users enrol via LTI... there is no manual- or self-enrolling available Different LTI enrolment connections map to different course/categories. As either a teacher or a strudent, I am seeing _all_ courses when I go to \"My Courses\", not just the ones I'm enroled on. Is there a way to restrict that list to just the ones I'm enroled on? .... and not via templates [there is a future thought to allow clients to use different templates based on the course-category their enrolment maps them to]",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 28, 2023, 6:18 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Show only subscribed courses in \"My Courses\"",
          "Text": "Hi Ian, I'm not quite sure what you mean by 'enrol via LTI'. Please can you clarify.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 29, 2023, 5:55 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show only subscribed courses in \"My Courses\"",
          "Text": "Enrollment is via \"Publish as LTI Tool\" - in essence: an external VLE manages user identification & and authorization, and \"Magic\" [LTI, in this instance] is what enrolls people into courses. The unwritten extension to that external VLE connection is that actually multiple external VLEs can be connecting, independently of each other... and they shouldn't see each others courses It was specifically mentioned as there is no concept of users being enrolled onto courses manually - either by instructors, by admin users, or by some start of term configuration process.... enrollment is always managed by this \"magic\" LTI process",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 29, 2023, 6:49 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show only subscribed courses in \"My Courses\"",
          "Text": "Hi Ian, When you launch into Moodle as a student and then subsequently visit \"My courses\", you should still only see those courses which you are enrolled in (which is via the Publish as LTI tool method in this case). Site home may still list all courses though, depending on how it's configured. Are you certain it's my courses you're seeing this on? What does happen in the background with LTI (if the published course is configured as such) is an enrolment sync (we call it member sync). In this process, the tool asks the platform (the external VLE) for all members in a given context (an activity or a course, depending on what's been published), and the platform responds with a list of users. The tool the updates its enrolments based on the information it gets back. So, it could be that this task is running and the VLE is sending back a list of users which are then being automatically enrolled in the respective Moodle course. Do you have an admin/instructor login in the tool site? If so, can you check the participants list (i.e. the course enrolments) for a course where you suspect this problem exists? I'd be looking out for enrolments for users you know shouldn't have access.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2023, 4:10 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show only subscribed courses in \"My Courses\"",
          "Text": "OK.... after some more testing [setting up multiple accounts across several test moodle PLATFORM S], it looks like the \"My courses\" page on my [moodle] TOOL is only showing the courses my user is enrolled on - which should be ONE I'm still getting a list of \"Available\" courses on the \"Home\" page, which seems to include all visible courses... even though I can't enroll on them For clarification..... my TOOL will be taking subscriptions from multiple customers.... each of whom may be using it in multiple courses - and it is neither politic or sensible to list all courses for all customers for everyone to see.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2023, 6:50 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show only subscribed courses in \"My Courses\"",
          "Text": "You should be able to make it so that visible courses are not shown on the Home page by going to the Site home settings and changing the setting 'Site home items when logged in' to None (or if you prefer Announcements).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2023, 9:46 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show only subscribed courses in \"My Courses\"",
          "Text": "YES!!!! Thankee!! For moodle 4.0, I did: Site Administration -> General",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2023, 10:29 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show only subscribed courses in \"My Courses\" [Solved]",
          "Text": "Ian, good to hear that you've managed to not show all visible courses on the Home page. Thanks for posting your solution. (I didn't think of setting it to 'Enrolled courses'.)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, October 3, 2023, 11:53 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show only subscribed courses in \"My Courses\"",
          "Text": "I know I can't mark the courses as \"hidden\" - if I do that, the \"magic\" logs in.... but can't show the course",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 29, 2023, 9:04 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show only subscribed courses in \"My Courses\"",
          "Text": "Unfortunately I'm not familiar with the setup you describe. However, I'm going to move your discussion thread to the LTI and Moodle forum where there are likely to be people with experience using the Publish as LTI tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2023, 3:03 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450984,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450984",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "External Tool does not show on the Moodle Site Home Page",
          "Text": "Hello - I'm able to add an 'external tool' activity to my 'site home' and the link appears to work fine when I'm signed in as an admin - but if I sign in with a student account, I don't see the external tool link. I've double checked the \"availability\" setting for the link and that seems fine.  Since there are no students assigned to the Front Site Home Page, how can I get this to work?  I looked at the authenticated user role but it is not shown as a role on the Front Site Home Page.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 28, 2023, 11:26 PM",
          "AuthorName": "Dr Victoria Dunnam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4632192&course=5",
          "role": [
            "Picture of Dr Victoria Dunnam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool does not show on the Moodle Site Home Page",
          "Text": "Hi Victoria, I must say, the use of activities on site home isn't a feature I'm very familiar with, however, I can see what's going on here in the default case, where your users hit this page as authenticated users: They don't have the capability 'mod/lti:view'. Setting to the \"Allow\" for the the authenticated user at the site course (Home > Participants > Permissions > Override \"Authenticated user on site home\") will let those users see the LTI activity. . Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 29, 2023, 11:14 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool does not show on the Moodle Site Home Page",
          "Text": "Thank you Jake for your information.  I have looked at the permissions for authenticated user and I don't see the mod/lti:view where I can change it to allow.  Can you direct me so I can locate this information?  Thank you in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 29, 2023, 9:51 PM",
          "AuthorName": "Dr Victoria Dunnam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4632192&course=5",
          "role": [
            "Picture of Dr Victoria Dunnam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool does not show on the Moodle Site Home Page",
          "Text": "As site admin on the site home page ( front page ) you should see Participants -then from the dropdown click Permissions and then from Advanced role override click Authenticated user on site home. If you type lti into the filter it should show you all the capabilities including the one you need 'Launch external tool activities'.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 30, 2023, 1:19 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450941,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450941",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle missing_registration_token error",
          "Text": "Hi, I am trying to connect Moodle with a Laravel tool using Celtic LTI . I managed to debug most of the issues, but now I am stuck again. When I register the tool manually, I have no way to set the Consumer Key in Moodle. Sadly, this key is required as I am sending back scores from my website to Moodle. I thought that maybe using the Add LTI Advantage button instead would solve this issue. This however does not work. I pinpointed the issue to a call the following endpoint: https://[otherdomain].com/mod/lti/openid-registration.php ceLTIc\\LTI\\Http\\HttpMessage {#2655 ▼ // vendor/celtic/lti/src/Tool.php:950 +ok: false +request: \"{\"application_type\":\"web\",\"client_name\":\"Unnamed tool\",\"response_types\":[\"id_token\"],\"grant_types\":[\"implicit\",\"client_credentials\"], \"initiate_login_uri\":\"https:\\/\\/[ domain ].vip\\/lti\",\"redirect_uris\":[\"https:\\/\\/[domain].vip\\/lti\"], \"jwks_uri\":\"https:\\/\\/[domain].vip\\/jwks\",\"token_endpoint_auth_method\":\"private_key_jwt\", As you can see, I receive back a 401 with response: \"missing_registration_token\". I do not know what I am missing here. Where should I fill in this registration_token? Is this in Moodle or somewhere else? If in Moodle, can you point what I have to fill in where? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 28, 2023, 12:31 AM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle missing_registration_token error",
          "Text": "Hi, I think there are a few things which need unpacking here: LTI 1.3 and LTI Advantage does not use consumer keys. The consumer key is an LTI 1.1 concept (which is based on OAuth1.0), and LTI 1.1 has been deprecated and unsupported for a long while now. Any new tools should be built using LTI 1.3 (OAuth2.0+OIDC). I'm not familiar with that particular library, so I don't know what LTI version it supports. \" When I register the tool manually, I have no way to set the Consumer Key in Moodle. \" Assuming you're creating a 1.1 tool in Moodle, there is a consumer key field on the tool details form (as is there a shared secret field). If you're trying to register the tool using LTI 1.3 and it's a 1.1 tool, this isn't going to work. You need to stick to the version that the tool is using. \"I thought that maybe using the Add LTI Advantage button instead would solve this issue.\" The Add LTI Advantage button is only used when you're creating an LTI 1.3 tool registration using Dynamic Registration (and optional LTI 1.3 specification). If your tool is a 1.1 tool, then you'll need to configure it manually. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 28, 2023, 10:44 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450766,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450766",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How do teachers request new LTI",
          "Text": "We spotted a capability mod/lti:requesttooladd which appears to allow people to request new LTIs I can't find any documentation for this and I can't find any link. I've found the code for the page but can't figure where it links from. Can anybody point me in the right direction?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 22, 2023, 5:28 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How do teachers request new LTI",
          "Text": "Hi Howard, I've seen that code before and it appears to be a relic of a long since unused workflow, in which the (LTI 1.1) tool would return to the consumer's return url (mod/lti/return.php) with an 'unsigned' param, at which point the consumer site presents a link to the instructor. Clicking the link creates a pending tool and asks them to follow up with the site admin. It was added when the module was, back in 2011. This really needs to be deprecated and removed, since LTI 1.1 is deprecated, and our 1.3 implementation requires that tool setup is handled by the site administrator anyway. We don't test this legacy tool request feature, nor have we tested this in a long time. Essentially, requesting a tool is an out of band process now and Moodle doesn't provide a feature for this. I believe there are also some legacy site admin views to clean up as part of this deprecation, when we get to it. I'm hoping we can soon. In the meantime, I'd suggest just ignoring this feature entirely as it's for a legacy version of LTI and is also very likely not working. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 26, 2023, 9:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446258,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446258",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "LTI provider - Extra parameters",
          "Text": "Hi I am wondering if someone can tell me if we save in the database the extra parameters that a consumer / platform is sending ? To be complete, I received from the LTI consumer party the message: We send you the url through the custom_xxx_url paramater, so you should be able to see this. But I am not finding this information in the mdl_enrol_lti_users table ? Thank you! Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 29, 2023, 9:41 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Gemma, Firstly, the tool dictates what custom params it supports, not the platform. A platform may send anything in these params, but unless the tool understands it, it's superfluous information (i.e. the tool isn't going to make it available anywhere if it doesn't understand it). In the legacy provider, we only supported a few cases\n(custom_user_image, custom_force_embed). We did save the custom params in the enrol_lti_lti2_resource_link table, under 'settings' (serialized). Saving this information was really a byproduct of the now-unsupported library we we used at that time, which required that applications provide a way to save this information (despite likely not using it). In the LTI Adv. provider, we support custom_force_embed. We don't save the custom params because we don't have the need; we get all we need by reading the force_embed param during each launch. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 1, 2023, 9:03 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Jake Thank you for your time, I indeed found the custom_ paramater in the enrol_lti_lti2_resource_link link table. In this case we need the information to provide an url back to the LMS. As well I had once that they used this to provide extra information for the user profile. So I do think it would be great if db technical this information is being stored differently then it is now. But If I understand you correctly in case of the LTI Adv. Provider extra information send by a custom_ is not stored anywhere. I do understand that we just 'need' the force_embed, but as stateted above these paramaters are also used to provided extra information by example for profile fields. Gem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 1, 2023, 4:51 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Gemma, I think we need to explore your (expected) use cases a little more. Let's take the return URL first. There is already a means to provide this to tools via the return_url in the launch_presentation claim ( https://www.imsglobal.org/spec/lti/v1p3#launch-presentation-claim ). Of course our Moodle tool doesn't use this anywhere. However, the main point is that I don't think custom params is the correct way to achieve that kind of functionality when the spec already provides a mechanism for that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 2, 2023, 9:13 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Jake, The usercases are: 1. As a student I want to be able to return to my own LMS by clicking on a button, so I don't have to use the move back in the webbrowsers To clairify our target group is not use to work with computers, and from an accessibiility point of view we have been asked if we can add a 'back' button to the LTI course. BUT we have 1 course for multiple goverment LMS systems which each their own URL. Their LMS provider gave us the solution to use the custom paramater they send, to pass into a moodle custom profile field so we can create an uniek url button per student. 2. As an organisation I want to receive the studentnumber, so we can easier find an user when we dont receive information like name or emailaddress. Due to GDPR rules more and more organisations are not sending student information towards our Moodle installation, but still expect us to answer questions on those students (like how many attempts they had with the quiz). As a solutions the LMS provider offered to use a custom parameter that we can pass into a Moodle profile field.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 2, 2023, 4:33 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Gemma, Thanks for clarifying those two. Specifically on the part \"pass into a Moodle profile field\": How are you planning to achieve that? I don't believe the current system in place (auth_lti) supports allocation of custom profile fields during the user creation. Are you talking about custom development in your Moodle site, or is there another mechanism I'm not aware of? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 2, 2023, 5:33 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Jake, Right now I have no idea, since as you stated that in 1.3 it is not showing anymore in the enrol_lti_lti2_resource_link link table and not planning on developing a local plugin for LTI1.1/1.2 to pick up the right fields. But if you are talking about my ideal world: I think it would be great if it works in a similar way as you can map user fields when you by example create an OAUTH2 service for Office365 or Google. Where the code understands that each value that comes in should be part of custom_[value] and as an admin you can say: okay when we receive Value \"URL\" I want this in custom profile field \"LTI url\" or when value = studentnumber I want this to be mapped to the Moodle standard userfield idnumber. For me it makes sense to do it this way in LTI1.3 as part of your tool registration. But not sure if this is possible. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 9, 2023, 2:32 AM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Gemma, we have such a need for this kind of functionality ourselves. After looking at the current table for \"mdl_enrol_lti_resource_link\" I can see the table is storing additional data. In our case we want to retrieve the ORGUNIT information https://mydomain.com.com/d2l/api/lti/ags/2.0/deployment/86ea1cc8-1633-46f4-b90d-1babb4ec90a2/orgunit/2040342/lineitems Would you be interested in talking further about sharing development costs on adding this feature? Jeff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 22, 2023, 2:00 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449870,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449870",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Implementation of LTI in the Plugins Directory, invitation to be part of the research.",
          "Text": "Hello Moodlers, I’m Federico UX Designer in the community team. The team is currently working on a project to implement access to LTI tools for Moodle users within the Moodle ecosystem. We are studying the context around this and your participation would be really useful for us so that we can bring new functionalities to the site according to your needs related to this technology. Please fill up this brief feedback activity (login is required) to be part of this project which will include a video call with me to understand your experience with LTI. Thanks in advance.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, August 28, 2023, 8:42 PM",
          "AuthorName": "Federico Astorga",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5069717&course=5",
          "role": [
            "Picture of Federico Astorga",
            "Picture of Moodle HQ"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Implementation of LTI in the Plugins Directory, invitation to be part of the research.",
          "Text": "Many thanks to all of you who filled out the survey! 👏👏👏 All slots have been filled so a lot of useful feedback for the project. Thanks again, see you on the forums.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 20, 2023, 11:30 PM",
          "AuthorName": "Federico Astorga",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5069717&course=5",
          "role": [
            "Picture of Federico Astorga",
            "Picture of Moodle HQ"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450648,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450648",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Cartridge URL or Launch URL?",
          "Text": "Hello, I'm using LTI to connect a course on my Moodle 4.2 to a course on a remote site (also Moodle 4.2). In this case, is it better to use the Cartridge URL or the Launch URL or doesn't it matter? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 20, 2023, 2:03 AM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cartridge URL or Launch URL?",
          "Text": "Neither. As you'll see in 4.0+, LTI 1.1 is deprecated and you should use LTI 1.3 to publish + consume resources. When you use 1.3, and after you've registered one site with the other, you just use deep linking to select the content to launch into. The deep linking takes care of all the relevant launch configuration stuff. I.e. there is no need for launch or cartridge URLs to be used any more. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 20, 2023, 10:22 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450622,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450622",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "MOODLE | Throttling for LTI 1.3 -status check for grade sync peek tolerance.",
          "Text": "As we are reaching to the grade sync peak load in BTS period, We need handle throttling behaviors properly. When we trigger the grade push request, we cannot track any throttling related headers such as X-Rate-Limit-Remaining ,X-Request-Cost and X-Rate-Limit-Reset. We only get response headers shown below. We need to clarify the points below with you . If there is a throttling handling implementation already done from LMS side , Please walk us through the throttling logic and please provide us the answers for below questions What is the allocated quota size? On which basis is the quota size defined? Per instructor/Per course/Per integration/ Per Organization? What is the reset time of the allocated quota size? What is the worst-case latency? 2.If there is no implementation for throttling are you planning to have an implementation on throttling and what will be the approximate production dates.. We would appreciate it if you could provide us with feedback for this concern at the earliest possible, before we get to the peak performance period.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1811042/image%20%281%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1811042/moodlePNG.PNG?forcedownload=1"
          ],
          "Time": "Tuesday, September 19, 2023, 4:03 PM",
          "AuthorName": "Ishara Gunarathne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5868448&course=5",
          "role": [
            "Picture of Ishara Gunarathne"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: MOODLE | Throttling for LTI 1.3 -status check for grade sync peek tolerance.",
          "Text": "Hi Ishara, No, there is currently no throttling for the grade service at present, nor are there any concrete plans to add that yet. It's a good idea though, so feel free to suggest the improvement on https://tracker.moodle.org if you like. Make sure to clearly explain your reasons for wanting the feature and consider including how you'd perhaps like to see it work. Many thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2023, 5:00 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450172,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450172",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 JWT error on Moodle 3.11.9",
          "Text": "We are still on Moodle 3.11.9 until later in November, although we have patched our servers recently.  We are experiencing errors related to the MDL-77077 tracker item.  On our servers it appears that the 3rd party library of Firebase was upgraded to version 6.6 - which has a new parameter 'alg'.  And while a good chunk of our LTI tools work just fine, a few do not.  They throw errors on trying to parse the keyset. We cannot upgrade production at this point, it's less than a week until our fall term starts.  Is it reasonable to downgrade the Firebase JWT library to a version before they introduced this new parameter?  What version would that be?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2023, 5:23 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 JWT error on Moodle 3.11.9",
          "Text": "Hi Carly, The php-jwt library included in lib/php-jwt needs to be version 5.2.0 on Moodle 3.11.x. We ship that specific version and all bets are off if sites change/upgrade that. MDL-77077 is an issue that relates only to 4.0+ versions of Moodle, since 3.11.x doesn't have the LTI 1.3 provider yet. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2023, 10:24 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 JWT error on Moodle 3.11.9",
          "Text": "Jake, Thanks for the response. Do you know if there are any down-sides to trying to downgrade php-jwt?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2023, 10:28 PM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 JWT error on Moodle 3.11.9",
          "Text": "Hi Carly, The person who made that change know the details of that better than I. There may have been some third party piece of code that needed the upgrade - I'm really just guessing though. All I can say is that installations shouldn't be changing the versions of these shipped libraries. We test each release with the shipped version and can make no guarantees about the state of things should that version be changed. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 7, 2023, 10:43 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 JWT error on Moodle 3.11.9",
          "Text": "We finally resolved the issue after much time debugging. The php-jwt library was not the issue, instead our security officer was agressive in blocking some traffic.  🤦🏻‍♀️",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 7, 2023, 8:40 PM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450159,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450159",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to include institution/system role for a user",
          "Text": "Hello, As an administrator of a Moodle instance I am testing our LTI tool. I noticed that when I perform a launch as the admin user, the LTI roles claim includes system, institution, and context membership role. However, when I perform a launch as a student or teacher user, only the membership role is included, but not system or institution. What configuration do I need to make in Moodle to include institution roles for users performing LTI launches?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2023, 12:07 AM",
          "AuthorName": "Alina Mackenzie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5801524&course=5",
          "role": [
            "Picture of Alina Mackenzie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to include institution/system role for a user",
          "Text": "Hi Alina, There currently isn't a way to configure Moodle's external tool to do this. You'll get either \"Instructor\" or \"Learner\" (simple name equivalents of http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor and http://purl.imsglobal.org/vocab/lis/v2/membership#Learner , respectively). If this is something you'd like to see improved, you can create a tracker issue for this ( https://tracker.moodle.org ). If you do go down that path, please make sure you include a rationale for the change. See also: MDL-72066 , which deals with expanding the role mappings in the external tool. Hope that helps,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2023, 10:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449426,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449426",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "Sending Score to Moodle",
          "Text": "I have a Tool in Moodle which basically is a webpage on our own online platform. This page is called and it will then perform the initialization of the Moodle connection. I want a webservice to send back the score of the training at a later stage. I am however unsure how to properly set up Moodle so it is sure to accept the score data from my webservice. Can you point me how to set Moodle up to accept this information? I am using CeLTIc PHP implementation in Laravel. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2023, 5:43 AM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "In the mean time, I figured out a bit more. To get the CeLTIc implementation to work, I have to be able to set the setting called \"custom_lineitem_url\". I found that I could set the setting \"custom_lineitems_url\" (note the plural) under the Tool Setting \"IMS LTI Assignment and Grade Services \". However, I did not find how to set the \"custom_lineitem_url\" (singular). The latter is required to successfully complete the doOutcomesService function and such send back the Score to the Moodle server . Hope this makes sense to anybody?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, August 15, 2023, 7:16 AM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "Hi there, Firstly, I'll start with the obligatory \"Please don't use LTI 1.1 any more it's unsupported now\" spiel. Given you've mentioned the custom_lineitems_url param above, it seems that you're using 1.1 and are trying to use an LTI 1.3/LTI Advantage service (Specifically, the Assignment and Grade Service or AGS 2.0) over 1.1. Whilst this is partially supported at the moment (Moodle permits its use with 1.1 despite the AGS 2.0 spec's lack of 1.1 support), I wouldn't recommend doing this as we may drop support for this unofficial combination in future. This isn't a combination that is well tested, or frequently tested. All tools should be using LTI 1.3 nowdays.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2023, 9:46 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "Hi! Thanks a lot for taking the time to look into my newbie issue Indeed, I activated in Moodle the feature called \"IMS LTI Assignment and Grade Services\" which I found under Services in Tool settings. I have now deactivated it as it does not solve my issue, and the PHP library I use (CeLTIc) does not seem to work with this custom_lineitems_url as well. Thanks to your input, I figured out that there is a setting under Privacy in the Tool Settings where I can enable \"Accept grades from the tool\". Next I can set the Grade to Point and save the Tool. Sadly, it does not seem that this update adds the custom_lineitem_url to the settings. Do I have to enable a setting somewhere else as well? You mention that this is only for 1.3 launches, but I did set it up as a 1.3 LTI Tool in Moodle.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1692004053/s/smiley"
          ],
          "Time": "Tuesday, August 15, 2023, 4:39 PM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "Belay that! Somehow, now I have a successful hasOutcomesService and the Tool gives back a Settings that makes sense: -settings: array:3 [▼ \"lis_result_sourcedid\" => \"{\"data\":{\"instanceid\":\"1\",\"userid\":\"2\",\"typeid\":\"2\",\"launchid\":XXX},\"hash\":\"XXX\"}\" \"lis_outcome_service_url\" => \"https://XXX/mod/lti/service.php\" \"custom_lineitem_url\" => \"https://XXX/mod/lti/services.php/2/lineitems/5/lineitem?type_id=2\" ] I honestly do not know why it now is giving this back all of the sudden. It might have something to do with caching? That already is one nice step in the right direction. Sadly, the grades are not yet passed, as I now get a 401 Unauthorized back from the score submission call. \n```text\n    \n{\n```\n \n```text\n    \n    \"status\": 401,\n```\n \n```text\n    \n    \"reason\": \"Unauthorized\",\n```\n \n```text\n    \n    \"request\": {\n```\n \n```text\n    \n        \"method\": \"POST\",\n```\n \n```text\n    \n        \"url\": \"/mod/lti/services.php/2/lineitems/5/lineitem/scores?type_id=2\",\n```\n \n```text\n    \n        \"accept\": \"*/*\",\n```\n \n```text\n    \n        \"contentType\": \"application/vnd.ims.lis.v1.score+json\"\n```\n \n```text\n    \n    }\n```\n \n```text\n    \n}\n```\n I think this is a setting in the PHP script, not necessarily in Moodle? Or do I need to grant somewhere in Moodle authorization to my webservice to send back the grades? Thanks a lot for the help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2023, 5:10 PM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "No worries, glad you're making progress. Just to clarify, this is LTI 1.1 data, not LTI 1.3. Were it LTI 1.3 launch data, you'd have a ags claim there and not custom_lineitem_url as you do. Essentially you're launching over 1.1 and Moodle is including a custom param (the 'custom_lineitem_url' param) allowing (for the moment at least), you to use the more modern LTI 1.3 AGS service. The basic outcomes service is the other service listed there and is something different (again, not something anyone uses any more). Really, you should be configuring your tool using LTI 1.3 so that all launches happen using 1.3, and the using the AGS claim linked above to make calls back into the LTI 1.3 services (not basic outcomes. Hope that helps. Building a tool for LTI is a project to be sure. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2023, 5:20 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "Hi Jake, Indeed, it appears to be a bit more complicated than I expected at first. I am diving quite deep into the code of the CeLTIc PHP plugin to see what is happening and trying to understand what is going wrong... I have been able to add AGS back into the settings, by re-enabling the Tool Setting \"IMS LTI Assignment and Grade Services\" in Moodle. This gives the following settings: -settings: array:5 [▼ \"lis_result_sourcedid\" => \"{\"data\":{\"instanceid\":\"1\",\"userid\":\"2\",\"typeid\":\"2\",\"launchid\":1963016728},\"hash\":\"143f58c61a7b90addd818fc018ab001afc2a4022a4eb438066178a72ec43e09f\"}\" \"lis_outcome_service_url\" => \" https://moodle.onebonsai.com/mod/lti/service.php \" $urlAGS = $sourceResourceLink->getSetting('custom_lineitem_url'); $urlLTI11 = $sourceResourceLink->getSetting('lis_outcome_service_url'); $urlExt = $sourceResourceLink->getSetting('ext_ims_lis_basic_outcome_url'); if (!empty($urlAGS)) { if (($action === self::EXT_READ) && ($ltiOutcome->type === self::EXT_TYPE_DECIMAL) && $sourceResourceLink->hasResultService()) { $ltiOutcome = $this->doResultService($userResult, $urlAGS); $ok = !empty($ltiOutcome); } elseif ((($action === self::EXT_WRITE) && $this->checkValueType($ltiOutcome, array(self::EXT_TYPE_DECIMAL)) && $sourceResourceLink->hasScoreService()) || ($action === self::EXT_DELETE)) { if ($action === self::EXT_DELETE) { $ltiOutcome->setValue(null); $ltiOutcome->activityProgress = 'Initialized'; $ltiOutcome->gradingProgress = 'NotReady'; } $ok = $this->doScoreService($ltiOutcome, $userResult, $urlAGS); } } Now it appears that the callback to https://XXX/mod/lti/services.php/2/lineitems/5/lineitem?type_id=2 gives back a 401: Unauthorized. Any idea if I need to grant special permissions to a specific URL /Webservice to allow it to send back the grades? I thought that this would be handled by the connection set up when setting up the tool?... Thanks a lot again!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2023, 5:28 PM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "You probably need to generate the oauth stuff for the header request, but as to how, i am too still searching for it",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2023, 7:51 AM",
          "AuthorName": "Naufal Dzakie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5718773&course=5",
          "role": [
            "Picture of Naufal Dzakie"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "I've not used that library however, it mentions that it supports the LTI 1.3 security model, which is what you want to be using. The docs don't seem particularly clear there, however. We're using https://github.com/packbackbooks/lti-1-3-php-library for Moodle's tool implementation and I can recommend that, if you're tied to PHP like we are. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2023, 9:14 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "Thanks for the tool recommendation. Sadly, given that we already integrated the other php library, we for now try to continue with that one. It also is updated more regularly than the other library. It seems however that the 401 unauthorized comes from a misconfiguration of the Moodle side. The 401 occurs when I try to read the grade from a specific user (by that user) using the following Moodle endpoint: /mod/lti/services.php/2/lineitems/5/lineitem/results?type_id=2&user_id=3 Is there any authorization in Moodle that I need to specify that this endpoint is active and can be read by either admin or student? Below the complete $http response: ceLTIc\\LTI\\Http\\HttpMessage {#2570 ▼ // vendor/longhornopen/lti/src/ResourceLink.php:1653 +ok: false +request: null +requestHeaders: \"\"\" GET /mod/lti/services.php/2/lineitems/5/lineitem/results?type_id=2&user_id=3 HTTP/2 Host: [ domain ] authorization: Bearer b77c163xxxx6c16e0dbe accept: application/vnd.ims.lis.v2.resultcontainer+json \"\"\" +response: \"\"\" { \"status\": 401, \"reason\": \"Unauthorized\", \"request\": { \"method\": \"GET\", \"url\": \"/mod/lti/services.php/2/lineitems/5/lineitem/results?type_id=2&user_id=3\", \"accept\": \"application/vnd.ims.lis.v2.resultcontainer+json\" } } \"\"\" +responseHeaders: \"\"\" HTTP/2 401 server: nginx-rc date: Sat, 19 Aug 2023 13:57:00 GMT content-type: application/json; charset=utf-8 \"\"\" +relativeLinks: [] +status: 401 +error: \"\" -url: \"https://[domain]/mod/lti/services.php/2/lineitems/5/lineitem/results?type_id=2&user_id=3\" -method: \"GET\" } Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 19, 2023, 10:00 PM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "I might have found a next step in the solution I rebooted my system and now at least the 401 is not (yet) happening. However, I get into another issue. When I launch the tool, I see the following message: Error: Sorry, there was an error connecting you to the application. I do not get any errors in console nor other error messages in PHP. I have enabled full debugging and error reporting. I do see that I get an HTTP response from Moodle in my Tool. It contains a login screen pointing to https://moodle.onebonsai.com/mod/lti/auth.php It seems to indicate the Moodle requires some kind of further authorization (still similar issue then?). However, also here, I am unsure why it should require additional authorization and how to even do this. I normally have sent all the information it needs to continue. Any suggestions where I should check to fix this issue?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Sunday, August 20, 2023, 1:50 AM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "OK, further investigations now point the issue at the authentication from Moodle when my Tool tries to set a score. Do do this, I call [ERROR] Http\\HttpMessage->send POST request to 'https://[domain]/mod/lti/services.php/2/lineitems/5/lineitem/scores?type_id=2' POST /mod/lti/services.php/2/lineitems/5/lineitem/scores?type_id=2 HTTP/2 Host: [domain] authorization: Bearer aeeb0386[...]3ea56cec9 content-type: application/vnd.ims.lis.v1.score+json; charset=UTF-8 content-length: 172 accept: */* {\"scoreGiven\":0.63,\"scoreMaximum\":1,\"comment\":\"\",\"activityProgress\":\"Completed\",\"gradingProgress\":\"FullyGraded\",\"userId\":\"2\",\"timestamp\":\"2023-08-20T12:05:54.465104+00:00\"} Response: HTTP/2 401 server: nginx-rc date: Sun, 20 Aug 2023 12:05:54 GMT content-type: application/json; charset=utf-8 { \"status\": 401, \"reason\": \"Unauthorized\", \"request\": { \"method\": \"POST\", \"url\": \"/mod/lti/services.php/2/lineitems/5/lineitem/scores?type_id=2\", \"accept\": \"*/*\", \"contentType\": \"application/vnd.ims.lis.v1.score+json\" } } However, as you can see, calling the score lineitem endpoint results in a 401. Any idea what setting I should switch to enable such behavior? To be clear: the Tool will be loaded as an external tool in Moodle. Then the student will complete a task in the Tool (external webpage) and the result of that task should be sent back to Moodle through the Score Endpoint. I clearly have not correctly set up the Tool in Moodle, but I have no clue anymore what setting I should switch to get this to work properly. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 20, 2023, 8:11 PM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending Score to Moodle",
          "Text": "Unfortunately, the debugging for this kind of thing is lacking currently in the service code. I can tell you almost certainly that it's failing this check: https://github.com/moodle/moodle/blob/27cbb5965ea34dc142a519cfa72be8cdab353156/mod/lti/service/gradebookservices/classes/local/resources/scores.php#L87-L88C49 , however, there are a number of things being checked inside that check_tool call. it could be that the bearer token isn't correct, or a number of other things, which you'd need to step through.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 1, 2023, 10:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449556,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449556",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Selecting Content in External Tool",
          "Text": "Good day, I am using 2 instances of Moodle, one as an LTI provider tool and the other one as a platform. Everything seemed to be fine, the connection is working fine, but the issue when I want to \"Select content\" related to the tool, it gives me a message requesting to login. There is not clickable part in the message. Can someone explains how this works? Thanks,",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1806729/LTI%20connection%20%281%29.jpg"
          ],
          "Time": "Friday, August 18, 2023, 5:05 AM",
          "AuthorName": "Ezzeddin Hamed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1888850&course=5",
          "role": [
            "Picture of Ezzeddin Hamed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Selecting Content in External Tool",
          "Text": "Hi Ezzeddin,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 18, 2023, 8:07 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Selecting Content in External Tool",
          "Text": "Hi Jake, Thanks a lot for your reply, once I logged using the same browser, yes, it was fixed immediately. I have seen the listing and able to select, but when clicking \"Add content\", unfortunately, I got another message which is an error. It says: \"The webpage at https://***.com/moodleA/enrol/lti/configure.php might be temporarily down or it may have moved permanently to a new web address.\" I tried to go through setting everywhere, but nothing changed. What could I do to fix it? For the side note, yes, I totally agree with you. Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 18, 2023, 11:39 AM",
          "AuthorName": "Ezzeddin Hamed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1888850&course=5",
          "role": [
            "Picture of Ezzeddin Hamed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Selecting Content in External Tool",
          "Text": "Hi Ezzeddin, That's good news that you're past the binding part. The next part (selecting content) just makes a form post to configure, which then returns the selected information as content items to the platform. I've not seen that problem you're describing above. What does the network trace look like? E.g. what status codes are you seeing? What cookie headers in the request and response? You can attach a HAR file here too - that's often helpful. Your browsers developer tools should be able to export that for you. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 21, 2023, 12:47 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Selecting Content in External Tool",
          "Text": "Hi Jake, Thanks a lot for spending the time to help. I reproduced the error recording the HAR file along with a screenshot, both named (lti config error). When viewing the course, of course it does not work and shows another error which says:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1807090/lti%20config%20error.jpg?forcedownload=1"
          ],
          "Time": "Monday, August 21, 2023, 8:24 PM",
          "AuthorName": "Ezzeddin Hamed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1888850&course=5",
          "role": [
            "Picture of Ezzeddin Hamed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Selecting Content in External Tool",
          "Text": "Hi Jake, I have tried different versions of Moodle from version 4, but all gave the same error. Cannot understand why this is happening.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 23, 2023, 3:21 AM",
          "AuthorName": "Ezzeddin Hamed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1888850&course=5",
          "role": [
            "Picture of Ezzeddin Hamed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Selecting Content in External Tool",
          "Text": "Hi Jake, Any answer yet? On the other hand, I am trying to in another scenario, but it fails again. In this scenario, I used a domain for the tool and subdomain as the platform, when trying to connect using \"LTI Advantage\" it shows a continue button then after than it shows the platform admin panel in the frame, the tool is not created. When using manual configuration on the platform, the tool is configured and I can see it in the tool site as active, added a new deployment, but again when trying to add an activity it shows the continue button then the same platform in the frame, no content actually showing and therefor nothing added. I hope to hear from you soon. Thanks a lot, Ezzeddin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 24, 2023, 5:08 PM",
          "AuthorName": "Ezzeddin Hamed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1888850&course=5",
          "role": [
            "Picture of Ezzeddin Hamed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Selecting Content in External Tool",
          "Text": "Hi Jake, I have not heard from you for a while. What could be done next? Is this considered being a bug and need to be fixed? Appreciate your answers. Thanks, Ezzeddin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 31, 2023, 6:19 PM",
          "AuthorName": "Ezzeddin Hamed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1888850&course=5",
          "role": [
            "Picture of Ezzeddin Hamed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Selecting Content in External Tool",
          "Text": "Hi Ezzeddin, We're busy with the 4.3 release here, so that's why my reply is delayed. It sounds like you're talking about a number of different scenarios here. I'd suggest just focusing on one. First, confirm you have configured the tool and the platform properly by skipping the deep linking content selection flow entirely; just set id=xxx (where xxx is the value in your provider's \"Published resources\" page. If you can successfully launch into the tool (and that particular resource), then we can tick that off as working. That HAR file you posted doesn't show me anything useful - it seems incomplete and doesn't contain response headers, status codes, etc. perhaps a product of trying to capture it in the popup? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 1, 2023, 10:19 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449959,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449959",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI authentication request url returning 404",
          "Text": "I have been trying to integrate my lti provider tool into moodle. i configured the tool as an external tool in moodle and currently stuck in the lti authentication process. The launch request works fine and it calls the endpoint in my server . but the authentication request url http://localhost:8888/moodle402/mod/lti/auth.php returns a 404. Since i had trouble getting this to work for days, i ended up trying to authenticate using a oauth 2 server plugin for moodle (since i will be only needing the SSO feature of lti), even that url returns a 404. If anyone can help with this, would really appreciate it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 30, 2023, 6:08 PM",
          "AuthorName": "Kalsha Samarajeewa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5722659&course=5",
          "role": [
            "Picture of Kalsha Samarajeewa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI authentication request url returning 404",
          "Text": "Hi Kalsha, I assume both your tool and your platform are running locally, right? You can't host one on localhost and the other on a public domain as the OIDC handshake needs tool and platform to be able to access one another. If you can post more information about the launch (a network trace for example), we might be able to point you in the right direction. As it stands, there really isn't enough information in your post. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 1, 2023, 10:11 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449226,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449226",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Custom LTI 1.3 implementation in plugin",
          "Text": "Hi! We're developing a Moodle plugin which uses the LTI standard internally for communication with our external services. We explicitly want our own plugin, and not just an External Tool configured via the built-in LTI integration of Moodle. To implement our own LTI flows we are now using a PHP library ( https://github.com/oat-sa/lib-lti1p3-core ), since it looks like Moodle's own LTI implementation is very much coupled to Moodle itself and the functionality can't be reused outside of `mod_lti`. We've been testing and so far at least in Moodle 4.2 everything works fine. * Is there any problem with using our own LTI implementation? I assume Moodle doesn't care what our plugin does internally. * Is there maybe a way to reuse Moodle's own LTI implementation that we've missed, which we should use instead?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 7, 2023, 6:43 PM",
          "AuthorName": "Mathias Kahl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5658489&course=5",
          "role": [
            "Picture of Mathias Kahl",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Custom LTI 1.3 implementation in plugin",
          "Text": "Hi Mathias, The major 'problem' is that your plugin will never get access to any of the improvements we make to LTI in core Moodle and likely isn't subject to any of the access controls, business logic etc surrounding the core implementation either. It's just a totally separate module, for which you bear the maintenance burden. If we add support for tool placements in areas like course navigation, editors, etc. your implementation won't get access to these. If we add improvements allowing tools to be restricted to specific course categories, your implementation won't get access to that either. The aforementioned improvements are very much on the table being worked on and considered right now, so worth factoring in to your decisions. Of course, you haven't said what your plugin will actually do, so I can't speculate as to what features are missing from the core implementation. Perhaps if you add some more detail, I could confirm whether we have any plans to support the relevant workflow/features/extensions. etc. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 8, 2023, 9:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Custom LTI 1.3 implementation in plugin",
          "Text": "Thank you, Jake! The plugin doesn't really do much apart for opening our website via LTI, automatically provisioning accounts based on the Moodle account. In principle this could be done via Moodle's built-in LTI, however there are some details that we need full control over (e.g. the deeplinking, which doesn't work for us in the default Moodle flow due to 3rd party cookie issues in iframes). But maybe most importantly, our company wants to have a plugin in the Moodle plugin directory listed and a custom activity in Moodle. Tool placement in editors sounds interesting. Do you mean a way to embed LTI activities using the Rich Text editor? That would be nice to get out of the box, however, that would also currently be an issue for us because of 3rd party cookies being blocked in iframes. :/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 12, 2023, 7:47 PM",
          "AuthorName": "Mathias Kahl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5658489&course=5",
          "role": [
            "Picture of Mathias Kahl",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Custom LTI 1.3 implementation in plugin",
          "Text": "Hi Mathias, The third party cookie situation is quite annoying, yes, but that's not a reason to lean towards plugin-based implementation, IMO . There are already specs dealing with this problem, and we're in the process of implementing them: E.g. MDL-72022 , if your tool depends on cookies. Really, if there's a problem with deep linking or launches (relating to 3rd party cookies) then we need to be addressing this in core Moodle. That kind of thing is considered a bug and will be fixed as a priority.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 14, 2023, 9:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Custom LTI 1.3 implementation in plugin",
          "Text": "Hi Jake! Thanks again for your reply. I'm definitely eagerly awaiting https://tracker.moodle.org/browse/MDL-72022 , and I've stumbled across that and the spec to fix the cookie issue before. As a developer, I'd love nothing more than to just use the default LTI facilities. The problem is just that the requirements we have demand that the integration works right now, and also with some older Moodle versions. Without 3rd party cookies our site cannot be integrated at all. And just today we saw Google's announcement about their plan to phase out 3rd party cookies 100% by Q3 2024. 😅 There are several issues related to cookies. Firstly, the LTI flow itself as implemented right now on our backend requires a session cookie to store the state and nonce used by LTI. Also, the business logic that's in our requirements requires us to detect what user is currently logged in on our site, and it's compared with the moodle user, for various reasons. In general, usage of our plugin requires an account on our site. These accounts are automatically provisioned for Moodle students, but teachers/coursecreators need pre-existing accounts. Also, if they are already logged into our site in another tab, we don't want them to have to authenticate again when using it via Moodle. When MDL-72022 is implemented, that would probably allow our tool to be used with the standard Moodle LTI functions only with minor restrictions (e.g. needing to authenticate manually from within Moodle once, even if already logged on our site). Hopefully then we can just tell Moodle users to use LTI Dynamic Registration to easily add our tool. For now our plan is to just implement some of the LTI flows ourselves with some minor changes - namely, always opening our site in a new tab for resource links as well the deep linking flow. As far as I can see, the \"Select content\" / deep linking feature in Moodle always opens the tool in an embed. I didn't find a way to change that. P.S. After thinking about it some more, I guess it might be possible to detect the missing cookies on the deeplinking page, ask the user to open a new tab, communicate the choice back via postMessage, and then send back the deep link response from within the unauthenticated embed. But that may be a bit sketchy.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 30, 2023, 12:28 AM",
          "AuthorName": "Mathias Kahl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5658489&course=5",
          "role": [
            "Picture of Mathias Kahl",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447842,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447842",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 Oauth Signature Verification",
          "Text": "Hi, Does anyone have an idea on what parameters is the \"oauth_signature\" generated when a LTI 1.0/1.1 tool is launched and passed to the launch URL ? On the tool launch, I am trying to verify the launch request based on the params received, sign it, and match the generated signature with the one sent in the request. But the signatures are not matching, moodle is sending a lot of parameters with the request, I am not sure based on what all params should I create a base string and then sign it. Any help would be appreciated, thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 19, 2023, 5:35 PM",
          "AuthorName": "Bhavesh Pawar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5661151&course=5",
          "role": [
            "Picture of Bhavesh Pawar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.1 Oauth Signature Verification",
          "Text": "Hi Bhavesh, Firstly, please note that LTI 1.1 has been deprecated for years now and is not recommended by 1EdTech. Tools should be moving to LTI 1.3 and LTI Advantage. Disclaimer aside, you can find an example of the base string in the LTI 1.1 Implementation Guide. https://www.imsglobal.org/specs/ltiv1p1/implementation-guide . Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 20, 2023, 9:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 Oauth Signature Verification",
          "Text": "Hi Jake, Thanks for your response, I got the same question about the base string used in LTI 1.1 to sign a Deep Linking response. Would you have any clue? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 22, 2023, 9:16 PM",
          "AuthorName": "Antoine Lebaud",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5748888&course=5",
          "role": [
            "Picture of Antoine Lebaud"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449472,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449472",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Lti icon URL issue",
          "Text": "Hello, I'm trying to replicate the new quiz icon in the Lti icon URL setting (Moodle 4.2). Has anyone managed to do this? I get the blue box container padding each time I link to an image file: Any suggestions? Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://qa.moodledemo.net/theme/image.php/boost/quiz/1660154559/monologo",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1806429/2023-08-16_04-47-01.png"
          ],
          "Time": "Wednesday, August 16, 2023, 10:56 AM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Lti icon URL issue",
          "Text": "That won't be possible since the activity icon background is determined by the activity purpose. See the docs here: https://componentlibrary.moodle.com/admin/tool/componentlibrary/docspage.php/moodle/components/activityicons/#purpose-colours LTI icons won't be filtered, but they'll still get the background color for (I believe) 'content', whereas the quiz module is defined as 'assessment'. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2023, 12:04 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lti icon URL issue",
          "Text": "Hi Jake, Thanks for your reply. Disappointing that I can change the icon, but the background colour will always remain blue whatever the activity. Does this make the icon URL / Secure icon URL fields redundant in the LTI Tool settings?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2023, 2:14 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lti icon URL issue",
          "Text": "No problem. The icon field (leaving aside the horribly outdated 'secure icon' field) is definitely not redundant; you can see the image you've selected is indeed displayed in your course. It's just the background you can't control. You can follow the work currently underway on the activity icons rethink in MDL-76885 . I'm not certainly whether background colors are being addressed there or not. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2023, 2:57 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449294,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449294",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Moodle 4 | LTI 1.1 | lis_person_sourcedid is an empty string",
          "Text": "Hello people, i want to ask for advice. Before you ask i know im still using the deprecated version, but thats just because my client are insisting on it. Im having issue about lis_person_sourcedid being empty in the request that being sent by moodle to the LTI. Do you guys have any idea what can cause this? Here is the form data that is sent by moodle to the LTI https://gist.github.com/corlys/8003d20ce28ca04ef9fa5afe75cb4cb8 Sorry for giving gist instead of pasting the whole moodle payload here. This site keeps taking it as a spam , hopefully now it can pass. Any help or pointers will be appreciated.. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 9, 2023, 6:42 PM",
          "AuthorName": "Naufal Dzakie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5718773&course=5",
          "role": [
            "Picture of Naufal Dzakie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4 | LTI 1.1 | lis_person_sourcedid is an empty string",
          "Text": "Hi Naufal, Just to confirm, are you saying that you're seeing an empty string in the payload on the tool end? Or, are you saying you're seeing the string included in the gist? The gist string is not an empty string and appears to be the correct json-string. If you could clarify, that would be great. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 10, 2023, 9:25 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4 | LTI 1.1 | lis_person_sourcedid is an empty string",
          "Text": "Hi Jake, I got that JSON string from a post request that is sent to the tool end. In the gist the `lis_person_sourcedid` is an empty string which is the thing i want to asked. Do you have any idea why? is there any configuration to toggle so that the `lis_person_sourcedid` field is not an empty string? Thanks for answering!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1805754/image.png"
          ],
          "Time": "Thursday, August 10, 2023, 10:23 AM",
          "AuthorName": "Naufal Dzakie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5718773&course=5",
          "role": [
            "Picture of Naufal Dzakie"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4 | LTI 1.1 | lis_person_sourcedid is an empty string",
          "Text": "Ah, yes, my apologies. I was looking at lis_result_sourcedid (which is the other field we seem to get a LOT of queries about). You're absolutely right that lis_person_sourcedid is empty. To get a value there, I believe you need to set 'idnumber' on the user accounts (under optional fields in edit profile).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 10, 2023, 11:04 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4 | LTI 1.1 | lis_person_sourcedid is an empty string",
          "Text": "Thanks Jake, the the person sourcedid does exists now! Also another question do moodle have any minimal working example for the LTI tools? been searching for it and no luck so far...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 10, 2023, 11:53 AM",
          "AuthorName": "Naufal Dzakie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5718773&course=5",
          "role": [
            "Picture of Naufal Dzakie"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4 | LTI 1.1 | lis_person_sourcedid is an empty string",
          "Text": "Hi Naufal, I'm not quite sure what you mean by minimal working example but there are test tools out there, providing a means to test the LTI capabilities of Moodle. E.g. https://saltire.lti.app/tool If that's not quite what you meant, perhaps you could clarify. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 14, 2023, 9:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4 | LTI 1.1 | lis_person_sourcedid is an empty string",
          "Text": "Hi Jake, sorry for the late reply. In the end we did use saltire app, Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2023, 7:35 AM",
          "AuthorName": "Naufal Dzakie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5718773&course=5",
          "role": [
            "Picture of Naufal Dzakie"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447727,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447727",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "We are currently testing out LTI 1.3 Provider functionality and with one of the registated platforms we have the followign issue. We can see that Moodle sends the grade properly to the platform in their logs. But Moodle keeps sending this grade over and over. When I look in the Task log, we see \" Failed - The grade '1' for the user '3646', for the resource '204' and the course '125' failed to send.\" (yellow line) I think this is the reasons Moodle keeps sending the grade. Is this a Moodle issue ór a platform issue, and in any case: what should be done to get thet success (green) as we see by example between Moodle -Moodle ? Suggestions are very welcome",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1799275/image.png"
          ],
          "Time": "Thursday, June 15, 2023, 3:57 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "Hi Gemma, That could be caused by MDL-77990 , but it's hard to see because it looks like that output is cut off there. What version are you running? I think improving debugging for LTI in general would really help with stuff like this - on my todo list, but haven't got there yet. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 15, 2023, 4:35 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "Moodle 4.1.3 (Build: 20230424) Did I read it right that in 4.2 this issues should not be there - if it is related to the tracker?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 15, 2023, 7:08 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "Being on 4.1 you're susceptible to that bug. I can't say with 100% certainty that this is the cause in your case, but it could be. In 4.2, I removed that shim code as we now ship the guzzle library with core (the code was a shim for another library depending on guzzle). So you won't see that bug in 4.2 onward.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 16, 2023, 10:14 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "Hi Jake, We just did a test but it failed due something differently - we saw the error below but it's unclear wich parameter is missing 2023/06/16 13:16:20 [error] 598051#598051: *418341 FastCGI sent in stderr: \"PHP message: Default exception handler: a required parameter (iss) is missing Debug: Error code: missingparam * line 610 of /lib/moodlelib.php: moodle_exception thrown * line 41 of /enrol/lti/login.php: call to required_param()\" while reading response header from upstream, client: xxxx, server : xxx, request: \"GET /enrol/lti/login.php?client_id=xxxf&iss=https%3A%2F%2Fenabling.io&login_hint=153&lti_deployment_id=xxx&lti_message_hint=43c55265-10fa-4f95-a9d8-c5995dd45c87&target_link_uri=https%3A%2F%2Flerenxl.nl%2Fenrol%2Flti%2Flaunch.php HTTP/1.1\", upstream: \"fastcgi://unix:/run/php/php8.0-fpm-lerenxl.nl.sock:\", host : \"xxx\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 16, 2023, 7:39 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "That looks like you're doing a launch and the 'iss' value is missing. Certainly that's what the error says. It's not found in either POST or GET at the login endpoint.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 19, 2023, 10:59 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "I figured that much but I could not define what the 'iss' value supposed to be?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 19, 2023, 2:19 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "It must match the value of \"Platform ID (issuer)\" set in the platform registration, under Enrolments > Publish as LTI tool > Tool registration > Edit registration > Platform details. Of course, it depends on the platform because the issuer value is the URL of said platform. You can see details of this in the security framework spec: https://www.imsglobal.org/spec/security/v1p1#step-1-third-party-initiated-login , but it's essentially an OpenID Connect concept.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 19, 2023, 3:07 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "Hi Jake, we found the issue! Appearantly they don't send a 200 response back but a 204 response.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 21, 2023, 10:48 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "Hi Jake, I just found this in the LTI documentation : https://www.imsglobal.org/spec/lti-ags/v2p0/#example-posting-a-final-score-update it states HTTP/1.1 204 No Content And just found this tracker: https://tracker.moodle.org/browse/MDL-76557 So I guess it it will be fixed when this reviewed",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 21, 2023, 11:19 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "Yep, just waiting on the assignee there. If they don't post back soon, I'll move that issue along myself. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 24, 2023, 9:32 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "Hi Gemma, When you implement the fixes for those 2 bugs ( MDL-77990 and the response 200/204 issue), will this resolve your issues with the LTI problems and Moodle 4.1? I'm asking because a customer of us will upgrade to Moodle 4.1 and is using LTI with several CAPP clients that might result in the same issues as you are experiencing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2023, 4:38 PM",
          "AuthorName": "Jorine Koenderman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2705416&course=5",
          "role": [
            "Picture of Jorine Koenderman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Grade synchronisation says \"failed\" while grade is being received",
          "Text": "Hi Jorine, Yes when I implemented the fx for the resonse 200/204 issue my problem was solved. MDL-79990 was not the root cause for the issue. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2023, 5:15 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449353,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449353",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Use LTI to access moodle course content from an external website",
          "Text": "Im trying to develop a tool where you can manage learning resources as students. And this tool should have access to the course content on moodle. Ideal case would be to be able to click on a link on moodle and get redirected to my tool. To be able to access all moodle course content as well as student and lecturers user details, can i use LTI for this? My tool would be the LTI provider and moodle would be the LTI consumer. But i dont want to add this as an external tool activity on moodle because it is not. i simply want access to the course content of all courses and user details for the authentication. Is this not possible to do with LTI? are there any better approaches for this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 11, 2023, 7:14 PM",
          "AuthorName": "Kalsha Samarajeewa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5722659&course=5",
          "role": [
            "Picture of Kalsha Samarajeewa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Use LTI to access moodle course content from an external website",
          "Text": "Hi Kalsha, Generally speaking, the Tool (formerly known as provider) is not going to be able to access all the course content in the Platform (formerly known as consumer) via LTI. The relevant service just doesn't exist within the services provided by 1.3 core and it's official extensions ( https://www.imsglobal.org/activity/learning-tools-interoperability ). There are services for fetching enrolments and groups for the course in which the launch took place, but there isn't a service for fetching all course content. Depending on what your goal is, LTI still may be suitable, but you'd need to explain that goal in more detail first. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2023, 9:54 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449264,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449264",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle 4 LTI Provider Coding error",
          "Text": "Greetings all, I have been using Moodle 4.0 as an LTI provider for Canvas for more than a year now.  This has been my only link to sanity as I contend with the diabolically conceived \"New Quizzes\" in Canvas.  If you have not yet had the misfortune of using it, count yourselves lucky. Anyway, I have been using Moodle quizzes and the Publish as LTI Tool enrolment option with great success for a while now.  Suddenly and without warning, however, I am now getting the following mysterious error when a user tries to open the quiz from Canvas: 2023/08/08 15:52:58 [error] 3968442#3968442: *13312 FastCGI sent in stderr: \"PHP message: Default exception handler: Coding error detected, it must be fixed by a programmer: Invalid 'oauth_consumer_key_sign' signature in lti1p1 claim. Debug: Error code: codingerror * line 95 of /enrol/lti/classes/local/ltiadvantage/entity/migration_claim.php: coding_exception thrown * line 246 of /enrol/lti/classes/local/ltiadvantage/service/tool_launch_service.php: call to enrol_lti\\local\\ltiadvantage\\entity\\migration_claim->__construct() * line 341 of /enrol/lti/classes/local/ltiadvantage/service/tool_launch_service.php: call to enrol_lti\\local\\ltiadvantage\\service\\tool_launch_service->migration_claim_from_launchdata() * line 125 of /enrol/lti/launch.php: call to enrol_lti\\local\\ltiadvantage\\service\\tool_launch_service->user_launches_tool()\" while reading response header from upstream, client: 172.68.42.66, server : mymoodle.ac.za, request: \"POST /enrol/lti/launch.php HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php/php8.0-fpm.sock:\", host : \"mymoodle .ac.za\", referrer: \" https://sats.instructure.com/api/lti/authorize?client_id=<REDACTED>&login_hint=2694a14f930a39b522cf3bc2774a8012a35177f4&lti_message_hint=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXJpZmllciI6IjAyZWIyYjhiNDQ2YWY5NjI2NmZlYTc5MDQyYWUxZTQwZjE5OWIyODRlMzYxZTI5ODZhYTc0MzZmMzI5ZWUyMTU5NTMzNDE5ZjhiYzZlMThiZWVhYjNjN2Y3M2FlZDQxNDMyNjdiOTUzNDVjOTk2ZjNhZTQyNTg2NWQxNmQ4MDRjIiwiY2FudmFzX2RvbWFpbiI6InNhdHMuaW5zdHJ1Y3R1cmUuY29tIiwiY29udGV4dF90eXBlIjoiQ291cnNlIiwiY29udGV4dF9pZCI6MTU3NDEwMDAwMDAwMDAxMzU3LCJjYW52YXNfbG9jYWxlIjoiZW4tR0IiLCJpbmNsdWRlX3N0b3JhZ2VfdGFyZ2V0Ijp0cnVlLCJleHAiOjE2OTE1MDMwNzB9.GA8wYRsJct7eJp-NPIF-N-CvGTdJv1RHVdE9_rzcBko&nonce=nonce-025a2c7e658214aa309cb05ec23f24bbcb9fac97ffc4ded0d239845d7e0ee784&prompt=none&redirect_uri=https%3A%2F%2Fmymoodle.ac.za%2Fenrol%2Flti%2Flaunch.php&response_mode=form_post&response_type=id_token&scope=openid&state=state-f49834641f01d6888f021ad357fa55f0e610ca6e7a4c52f7f8fffab286e78eb1 \" Oddly enough, I can still deep-link into Moodle when I add the quiz to Canvas without a problem.  It is only when I launch the quiz as myself or a student when I get the \"Invalid 'oauth_consumer_key_sign' signature in lti1p1 claim\" error.  What would be causing this? This problem showed up and I was on Moodle 4.1.3. I've since upgraded to 4.2.1, but the problem persists. Thanks in advance for your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 8, 2023, 9:59 PM",
          "AuthorName": "Mathieu Pelletier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=904671&course=5",
          "role": [
            "Picture of Mathieu Pelletier"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4 LTI Provider Coding error",
          "Text": "Hi Mathieu, I can certainly answer that for you. That migration class is only used when the platform (Canvas in this case) sends a migration claim to the tool ( https://www.imsglobal.org/spec/lti/v1p3/migr#lti-1-1-migration-claim - login might be required to view that spec). Essentially, when we see that claim, it's an indicator that the platform wants the tool to migrate a legacy 1.1 consumer to a new 1.3 tool deployment, and more importantly, to allow migration of the user included in the launch. If no migration is desired, the platform should omit that claim entirely from the launch. And before I go any further, I will just confirm that nothing has changed with respect to the migration claim handling on the Moodle end. We've handled this the same way since 4.0, so it's more likely the incoming launch data that's resulting in what you're seeing (i.e. data from Canvas). In my testing, some time ago now, I observed that Canvas (at least the version I tested at the time), would include that migration claim but would omit the required (per the spec) 'oauth_consumer_key' field. In such cases, the migration process was skipped entirely and we had specific code to handle that case. Essentially, we'd only try to migrate if that property was included in the claim. So, up until now, we would have skipped the attempt to migrate based on the claim we'd have received from Canvas. I suspect they've changed something on their end and are now sending that property in the claim -  and are also including the oauth_consumer_key_sign (the signature). The error you're seeing is an indicator that Moodle wasn't able to verify the signature, which it would do by finding the consumer identified in 'oauth_consumer_key' locally, and calculating the signature based on that consumer's secret. So, we've received a migration claim but were unable to locate a legacy consumer locally, and an exception is thrown. This is perhaps one of the cases that need to be ironed out, specifically in terms of the way we handle it. It probably makes more sense, in the event of a migration failure, to just call debugging to inform the server admin that launch migration failed, and permit the launch to continue, without migration. This would of course mean that we're unable to match the user to a legacy LTI 1.1 user, and we'd end up with two Moodle users - but that's the outcome for most launches which omit the claim anyway, so no great loss. In terms of a workaround for you, failing removal of that migration claim entirely (not likely something in your immediate control), we'd need a small patch on our end to do what I proposed above - debugging and ignore the migration. I will create an issue in the followups epic to do just that. See MDL-78945 for details. I think it's also worth following up with Canvas about this, because I can't speak to why they even included the claim in the first place, and that very well may be in error. In my testing of Canvas, I was always creating a new tool and launching using that, so the migration claim made little sense. I wonder if you're doing the same?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 9, 2023, 9:41 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4 LTI Provider Coding error",
          "Text": "Hi James, Thanks for the detailed response. That makes a lot of sense. I know Instructure changed something on 2 August: https://community.canvaslms.com/t5/Canvas-Releases/Canvas-Deploy-Notes-2023-08-02/ta-p/574457#toc-hId-372551214 This would account for why it was working and then suddenly stopped. I will await the patch from your end. In the meantime, I have commented out line 95 in migration_claim.php so I can move past the error for the time being. Thanks again for the quick reply! All the best, Mathieu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 10, 2023, 1:13 AM",
          "AuthorName": "Mathieu Pelletier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=904671&course=5",
          "role": [
            "Picture of Mathieu Pelletier"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4 LTI Provider Coding error",
          "Text": "Oops! I meant \"Jake\" not \"James\"! Sorry!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 10, 2023, 2:30 PM",
          "AuthorName": "Mathieu Pelletier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=904671&course=5",
          "role": [
            "Picture of Mathieu Pelletier"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449270,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449270",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.1 External Tool not working",
          "Text": "Hello, Long time listener first time caller. I'm running into an issue where my LTI 1.3 does not seem to be connecting to the third party provider. I have set up the external tool configuration system wide and registered the details with the third party provider and continue to get the same result. What happens is when I add the External Tool Activity in a course and select the Preconfigured Tool the Select Content button is \"greyed out\" and when clicked on does nothing. I've put the site in debug mode to see if I can get any errors to appear but no errors are given. Running up against a deadline her pretty quickly so any help is greatly appreciated. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 8, 2023, 11:42 PM",
          "AuthorName": "Rich SCI",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3402176&course=5",
          "role": [
            "Picture of Rich SCI"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4.1 External Tool not working",
          "Text": "Additional information: on “Inspect”ing the “Select content” button – it shows as “Disabled”. So for some reason that button is not “clickable” after selecting the \"Third Party Provider\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 9, 2023, 12:02 AM",
          "AuthorName": "Rich SCI",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3402176&course=5",
          "role": [
            "Picture of Rich SCI"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.1 External Tool not working",
          "Text": "Hi Rich, Have you checked the box \"Supports Deep Linking (Content-Item Message)\" in the tool's configuration? You'll also need to provide a URL for the deep linking endpoint when you do this. Once that's done, the button should be enabled when creating an instance of the tool. Hope that helps,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 9, 2023, 9:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445174,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445174",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Microsoft Teams LTI - Education Requirement?",
          "Text": "Hi, All. I am trying to use the Microsoft Teams LTI integration described here . After completing the integration and attempting to create a MS Teams meeting I receive the error \"you need an educator license to use Teams for Education.\" My organization is in the professional learning space and does not qualify for an Education license. Is having an Education license a requirement for this? It's not stated in the help files. If so, is there an alternative integration for non-Education clients? Appreciate any help, Jon",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1789315/image.png"
          ],
          "Time": "Thursday, March 23, 2023, 5:33 PM",
          "AuthorName": "Jon Berardi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1035511&course=5",
          "role": [
            "Picture of Jon Berardi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Microsoft Teams LTI - Education Requirement?",
          "Text": "I'd sure like an answer to this question I posted a while back if anyone has any insight into this.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, July 20, 2023, 11:40 PM",
          "AuthorName": "Jon Berardi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1035511&course=5",
          "role": [
            "Picture of Jon Berardi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Microsoft Teams LTI - Education Requirement?",
          "Text": "Hi Jon, Since this is a service that Microsoft offers I think you serviceprovider and/or someone of the Microsoft forums is better qualified to answer your question if a Education License is needed. Though there is an alternative options in the Moodle plugin database you could take a look at : https://moodle.org/plugins/?q=teams%20moodle-version:4.1 Some of my organizations just the Teams Meeting Atto integration. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 21, 2023, 12:37 AM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Microsoft Teams LTI - Education Requirement?",
          "Text": "Gemma, thank you for the reply. My main goal is to sync attendance from an MS Teams meeting/event to Moodle. The Atto integration is useful in making it easy to create a meeting but it does not help solve the attendance issue. The LTI Integration certainly does, but that does not appear to be accessible unless I am operating as an official educational institution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 7:59 PM",
          "AuthorName": "Jon Berardi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1035511&course=5",
          "role": [
            "Picture of Jon Berardi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449015,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449015",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Expectation of error response with grade passback",
          "Text": "Hi, I've successfully integrated a tool that I've created with Moodle and would like more information about error handling.  My successful response was: array:3 [ \"headers\" => array:10 [ \"Age\" => \"0\" \"Content-Type\" => \"application/vnd.ims.lis.v1.score+json; charset=utf-8\" \"Date\" => \"Sun, 30 Jul 2023 15:00:58 GMT\" \" Server \" => \"Moodle\" \"Strict-Transport-Security\" => \"max-age=300; includeSubdomains\" \"X- Cache \" => \"MISS\" \"X-Clacks-Overhead\" => \"GNU Terry Pratchett\" \"X-Powered-By\" => \"Moodle Ninjas\" \"Content-Length\" => \"0\" \"Connection\" => \"keep-alive\" ] \"body\" => null \"status\" => 200 ] If there was some sort of error (user not enrolled in course? etc.), how will this message change? Thanks so much, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 30, 2023, 11:05 PM",
          "AuthorName": "Eric Kean",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5704798&course=5",
          "role": [
            "Picture of Eric Kean"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Expectation of error response with grade passback",
          "Text": "Hi Eric, There are a range of HTTP status codes used to denote different outcomes when posting a score. The specific case you mentioned above is handled with a 400, as you can see in the score handling code . If you take a look further up in that same file, you'll see a range of other status codes used for other scenarios. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 12:41 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Expectation of error response with grade passback",
          "Text": "Hi Jake, This is super helpful.  Thanks so much! From this code I can see that the body will either be null or a string with associated error code. Thanks so much, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 2:19 PM",
          "AuthorName": "Eric Kean",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5704798&course=5",
          "role": [
            "Picture of Eric Kean"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449075,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449075",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 connection to External Tool cannot create Lineitem",
          "Text": "Hello, I am running Moodle 4.1 and trying to configure Turnitin as an external tool using LTI 1.3.  Everything seems to be configured correctly.  The handshake between Turnitin and my Moodle site worked, but when I try to create an assignment I get an error from Turnitin \"Unable to create lineitem container\". I checked the http request and I'm getting the following: \n```text\nHTTP/2 401 \n\nserver\n: nginx\ndate: Tue, 01 Aug 2023 15:29:50 GMT\ncontent-type: application/json; charset=utf-8\nx-httpd: 1\n\nhost\n-header: 8441280b0c35cbc1147f8ba998a563a7\nx-proxy-cache-info: DT:1\n\n{\n    \"status\": 401,\n    \"reason\": \"Unauthorized\",\n    \"request\": {\n        \"method\": \"POST\",\n        \"url\": \"/mod/lti/services.php/2/lineitems?type_id=6\",\n        \"accept\": \"*/*\",\n        \"contentType\": \"application/vnd.ims.lis.v2.lineitem+json\"\n    }\n}\n```\n In the tool configuration I have given the tool permission to manage grades and columns and accept grades from the tool.  I just can't seem to figure out what the problem is.  Any ideas? Brian Tittl \n```text\n\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 12:38 AM",
          "AuthorName": "Brian Tittl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2600825&course=5",
          "role": [
            "Picture of Brian Tittl"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 connection to External Tool cannot create Lineitem",
          "Text": "Hi Brian, Can you confirm whether the mod_lti instance settings (the activity settings, not the site-level tool configuration) has been setup to accept grades from the tool also? There is an option whereby this can be delegated to the teacher, so it's possible the instance has overridden this value. Worth checking before diving into this further, as the debugging in mod_lti is lacking. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 10:55 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 connection to External Tool cannot create Lineitem",
          "Text": "The instance settings are set up to accept grades from the tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 11:39 AM",
          "AuthorName": "Brian Tittl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2600825&course=5",
          "role": [
            "Picture of Brian Tittl"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 connection to External Tool cannot create Lineitem",
          "Text": "Thanks, Brian. Unfortunately, at this point, the only sure-fire way to know what's causing this is to debug the code handling the creation of lineitems, which requires stepping through the code. The point where the 401 is thrown is almost certainly this piece of code , however, there are a good number of checks being conducted inside that 'check_tool' method, any of which could result in the 401. Perhaps Turnitin would have an idea of what's causing the problem. Presumably they've verified their tool works with Moodle installs. Sorry I can't be of more help. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 12:48 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 448451,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=448451",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Plugin For Specific Users",
          "Text": "Hi. We are licensing padlet for 25 instructors.  They have a Moodle integration.  How do I create a group so that only those 25 instructors see the activity (in the add activity menu)? Thank you in advance. Stephanie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 10, 2023, 4:20 PM",
          "AuthorName": "Stephanie Glick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5594062&course=5",
          "role": [
            "Picture of Stephanie Glick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Plugin For Specific Users",
          "Text": "Hi Stephanie, Are you wanting to provide Padlet as an External tool in courses, as described in Add Padlet to Moodle LMS using LTI 1.3 ? If so, it's currently not possible to make it so that only certain instructors can see it in the activity chooser. However, when configuring the tool in the site administration, you can set the tool configuration usage to 'Do not show; use only when a matching tool URL is entered', and then email the tool URL to the 25 instructors.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 10, 2023, 9:28 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Plugin For Specific Users",
          "Text": "Thank you Helen.  You answered the question that I had. Stephanie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 12, 2023, 6:07 PM",
          "AuthorName": "Stephanie Glick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5594062&course=5",
          "role": [
            "Picture of Stephanie Glick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Plugin (LTI external tool) For Specific Users [Solved]",
          "Text": "Thanks Stephanie - good to hear that my suggestion worked. I'm adding LTI external tool to the subject of my post and moving the discussion to the LTI and Moodle forum, as you're not the first person wanting to know how to restrict a tool to specific users.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, July 12, 2023, 8:35 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 448168,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=448168",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle Oauth Provider",
          "Text": "Hi, I'm working on an LTI project that requires an API token to send requests to the Moodle API. The case is that I need a token provided by Moodle to authenticate my users and grant them the necessary scopes to make the requests. I cannot use the services of YouTube, Facebook, etc. Instead, I need Moodle to be the provider of OAuth tokens. How can I achieve this? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 29, 2023, 5:48 PM",
          "AuthorName": "Juan Manuel Rubiales de la Cruz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5673244&course=5",
          "role": [
            "Picture of Juan Manuel Rubiales de la Cruz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle Oauth Provider",
          "Text": "Hi Juan, It's not 100% clear what you're trying to achieve, so it's a little hard to answer this one. Are you building an LTI tool? Something else?  Either way, a few of things to point out, since you mention LTI. Moodle's LTI consumer (when Moodle act at the platform), will naturally provide id tokens during launch (to authenticate the user), and tools can request access tokens to call those LTI services supported by Moodle. All of this is restricted to the mod_lti space and only LTI scopes are used. I.e. these tokens are only for use with LTI and LTI services and not for any of Moodle's other web services. If you're building an LTI tool, these are exactly the tokens you want to use. Generally speaking, Moodle is not an identity provider. There is no support for that outside of LTI. Hope that helps. If not, please include more information about what it is you're aiming to do. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 30, 2023, 10:04 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 448092,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=448092",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Advantage grade sync contains syntax error in SQL",
          "Text": "Hi core devs, Moodle version 4.1.2+ (Build: 20230406) has a syntax error in the SQL on line 234 of /enrol/lti/classes/local/ltiadvantage/task/sync_grades.php: ON {c.id} = e.courseid This should be: ON c.id = e.courseid (Curly brackets deleted). This syntax error impedes the proper synchronization of grades in LTI. It also also present in 4.1.4 (and presumably all versions in between 4.1.2 and 4.1.4, but I haven't checked). (And yes, I should report this in the tracker, but it's telling me \"Dear Moodler, before creating a new issue you need to demonstrate that you have searched among the existing issues to see if it's already been filed. Please find a similar issue from among the open issues and either start watching it or vote for it.\" - which kinda creates a chicken - egg problem for me since there is no existing issue which addresses this problem.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 27, 2023, 8:00 PM",
          "AuthorName": "Onno Schuit",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=14474&course=5",
          "role": [
            "Picture of Onno Schuit"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Advantage grade sync contains syntax error in SQL",
          "Text": "Thanks for the report, Onno. That's interesting. Clearly a syntax issue, but doesn't cause any errors in our testing DBs ( postgres for me and likely someone has run mysql ). Do you see this failing completely? What DB are you using? I could replicate this using a published course which isn't set up with a coupled line item in the platform. Either way, patch will be up shortly. See MDL-78599 . Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 28, 2023, 9:52 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447935,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447935",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 submit score throws error",
          "Text": "Hi. I am having issue when sumbitting scores to moodle using lti 1.3 integration. I am following official imsglobal spec. In external tool for IMS LTI Assignment and Grade services I have selected \"Use this service for grade sync and column management\". Then I make a post request to lineitemurl/scores with token in the header and score in the body like: {\nActivityProgress = ActivityProgress.Completed,\nGradingProgress = GradingProgess.FullyGraded,\nScoreGiven = scoreReceived,\nScoreMaximum = 100,\nTimeStamp = DateTime.UtcNow,\nUserId = ltiRequest.UserId\n} but getting in reply that score is incorrect: Error:\"Incorrect score received{\\\"activityProgress\\\":\\\"Completed\\\",\\\"comment\\\":null,\\\"gradingProgress\\\":\\\"FullyGraded\\\",\\\"scoreGiven\\\":80.0,\\\"scoreMaximum\\\":100.0,\\\"timestamp\\\":\\\"2023-06-21T16:14:31.0469841Z\\\",\\\"userId\\\":\\\"7\\\"}\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 22, 2023, 1:04 AM",
          "AuthorName": "Vitalii Volkov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5664519&course=5",
          "role": [
            "Picture of Vitalii Volkov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 submit score throws error",
          "Text": "Hi Vitalii, What stands out here is the backslashes in the body. That's breaking the JSON , and shouldn't be there. If you remove that, the grade should be processed fine. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 22, 2023, 9:46 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 submit score throws error",
          "Text": "Hey, thanks for your help. I tried what you proposed so now instead of sending string content as I was doing before I am sending json content an before sending it doesn't have any backslashes, i also verified that context is [RFC4627] compatible, but I still get backslashes in the error and I suspect It’s possible that the backslashes are not actually part of the request body that is being sent to the API, but are instead being added by the logging mechanism in Moodle when the error message is generated to escape \" character in the string. I also read this spec http://www.imsglobal.org/sites/default/files/lti/ltiv2p1/model/mediatype/application/vnd/ims/lis/v1/score+json/index.html#_RFC4627_ and added mentioned as mandatory 2 fields: @type and @context. But I still getting the same error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2023, 1:43 AM",
          "AuthorName": "Vitalii Volkov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5664519&course=5",
          "role": [
            "Picture of Vitalii Volkov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 submit score throws error",
          "Text": "Hi Vitalii, Firstly, I would only be looking at the official AGS 2.0 specification document: https://www.imsglobal.org/spec/lti-ags/v2p0/#score-publish-service (login is required to view). That has all you need there. That spec also links to the OpenAPI spec for score posting: https://www.imsglobal.org/spec/lti-ags/v2p0/openapi/#/default/Scores.POST . Neither of these list those additional @type and @context fields, so definitely remove those. Re logging, the short answer is no. Moodle has rather poor debugging within LTI and unfortunately this leads to situations like yours, where it's hard to isolate the problem. The only other option would be to manually debug this using a local Moodle install - provided you have access to that. Then I'd be stepping through the code with breakpoints, etc. You can see the code responsible for this validation here: https://github.com/moodle/moodle/blob/27cbb5965ea34dc142a519cfa72be8cdab353156/mod/lti/service/gradebookservices/classes/local/resources/scores.php#L173C1-L186 A quick look at your (original) request and my suspicion would fall on: it can't decode the JSON (due to backslashes). Moodle doesn't add these as part of the exception generation (you can see that here: https://github.com/moodle/moodle/blob/27cbb5965ea34dc142a519cfa72be8cdab353156/mod/lti/service/gradebookservices/classes/local/resources/scores.php#L186 ), hence my first comment about these being suspect. They could, of course, be added somewhere between Moodle and where you're seeing the error reported in your tool/postman/etc. I can't speak for that. the is_user_gradable_in_course() check. Make sure the user \"7\" is in the course and is a student. Failing those obvious things, I'd be falling back on the 'debug a local Moodle' approach mentioned above. It's just too hard to guess at what it might be otherwise. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2023, 10:03 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 submit score throws error",
          "Text": "Hi again, Indeed the problem was because the user was not enrolled on the course and had admin permissions so it was possible to launch the course without being enrolled. Error saying \"invalid score\" is quite misleading though, but I am glad you sent me the code responsible for that. Thank you for your help and useful links. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2023, 7:16 PM",
          "AuthorName": "Vitalii Volkov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5664519&course=5",
          "role": [
            "Picture of Vitalii Volkov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 submit score throws error",
          "Text": "I couldn't agree more about the need for better debugging. Most of the errors in mod/lti are extremely unhelpful. Glad you got past it in this instance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 26, 2023, 5:17 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 444969,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444969",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 and WAF",
          "Text": "Hello, We have a moodle 3.9 with LTI 1.3 activities running. If we go through a WAF in reverse proxy mode (Checkpoint) all the LTI 1.3 activities stop working. Any ideas? Thank's and regards.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 17, 2023, 6:26 PM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Sorry to hear you're having trouble. It would be great if you could expand on \"stop working\". Is there a specific error displayed during the launch process, for example? MDL-73847 could be what you're seeing (without more information it's impossible to know though). Keep in mind that this is only fixed in 4.0+ too. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 21, 2023, 11:07 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Hello, MatLab Grader does not show anything else in the browser or logs files after the REDIRECT, we think that it remains in the authentication jump. With Zoom, displays error \"Invalid Request Data (2507).\" WAF (checkpoint) is in monitor mode. That is, it does not block any request. With LTI 1.1 activities we don't have this problem but they are obviously deprecated. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 22, 2023, 8:26 PM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "It might help to look at the network trace for the launch (which includes auth). You can capture that, in Chrome as HAR file ( https://support.google.com/admanager/answer/10358597?hl=en ). If you could attach that here that may be helpful. Also, just to clarify: if your issue is with the launch, it won't relate to the tracker issue I linked above, sorry. That issue only deals with proxy awareness in the service calls so just ignore that. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 23, 2023, 11:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "```text\nSorry for taking so long to reply.\n\nAttached the requested HAR file.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 9, 2023, 12:40 AM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Hello again, I found this thread on this forum https://github.com/Cvmcosta/ltijs/issues/56 which I think is related to what happens to me with a reverse proxy. I think the request fails because Moodle is not on the same machine as where the validation request (/mod/lti/auth.php) originates. The lti_state2 cookie is not set in the header of said request. Can the validation request be forwarded to the reverse proxy instead of locally? and in that case it would be possible to configure a field in the configuration page of the lti tool to adjust the value of the reverse proxy address. Another option I'm considering is to reconfigure the reverse proxy (nginx) using a redirect for those /mod/lti destinations Thanks in advance and greetings",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2023, 3:15 AM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Thanks for attaching that HAR file. Unfortunately, it's a bad file and causes errors when imported into Chrome. Can you send another one? You can confirm it's valid by dragging it into the network tab of chrome. Perhaps you can also explain your setup in more detail. I don't quite follow when you say that Moodle isn't on the same machine as mod/lti/auth.php. Thanks again, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 5:02 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Hello again, Basicly the escheme is (al servers has public IPs) Scenario A ( Matlab Grader, Zoom and LTI activities are running OK ) ( Browser User <=> The Moodle site ) Scenario B ( Matlab Grader, Zoom and LTI the same activities are running not ok ) ( Browser User <=> reverse proxy (WAF) <=> The same Moodle site, same database ) The redirection to waf is make by DNS. The HAR file was capture with Firefox , sorry. We have found that in the Scenario B the 302 redirect request from User's browser has not efect: User view White page or a blank iframe ( the lti_state cookie are ok sorry for older confused post: were tests) We have found that the failure was in the trust relationship of the server certificates, and now we have all lti 1.3 tools running again passing throw the waf. Thank you very much, Hope this can help other with this issue Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 8, 2023, 2:52 AM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Excellent! Glad you managed to get it working and very good to know it's not a problem which needed resolving in Moodle. Thanks for the follow up reply. I'm sure it will help others.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 8, 2023, 9:12 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "```text\nGreetings again\n\n\n\n\nWhen the provider of the Moodle LTI tool requests the page\nmod/lti/certs.php and moodle is configured through a WAF, the request fails showing no errors.\nThe same request being moodle behind HA proxy works correctly.\n\nPerhaps some request verification check could be set into mod/lti/certs.php code to help administrators.\n\n\n\n\nThank's and regards\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 12, 2023, 8:06 PM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Hi, As mentioned above (see MDL-73847 ), there was a known issue when accessing mod/lti/certs through a proxy. That's resolved now, but not in 3.9, which I believe you're still using. You'll need to be running 4.0.7 at a minimum to see that fix. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 13, 2023, 9:52 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Hello, To rule out issues with the Moodle update version, we tested the issue with Moodle 4.1.2+ without success and the issue persists $version = 2022112802.05;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2023, 2:56 PM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Given the complexity of the setup, unless there's a crystal clear description, and steps to reproduce it, issue like this can be hard to reproduce and it becomes less likely someone will work on it, were a tracker issue to be created (and may just sit there in jira for some time unfortunately). Can a reverse proxy nginx container be used instead to trigger the same problem? That would assist in reproduction of the problem. Can you see the requests hitting the Moodle site? You're of course welcome to create an issue on tracker.moodle.org, but without all the information we can get, it becomes very hard to reproduce and runs the risk of being closed. I will add that that file (mod/lti/certs.php) is a public file so should\nalways be accessible. I.e. the tool should be able to read it any time. Can you access the file directly? You say it's fails with no errors, but what about the HTTP trace? Hope that helps and sorry I can't be of more help, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2023, 4:48 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447752,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447752",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Changing Moodle LTI URLs",
          "Text": "I am wondering if is it possible to change the well know LTI URLs ( or just the paths ) for Moodle. I referring to: Public keyset URL : i.e. https://moodle.website.com/ mod/lit/certs.php Access token URL: i.e. https://moodle.website.com/ mod/lit/token.php Authentication request URL: i.e. https://moodle.website.com/ mod/lit/auth.php Maybe there is a way that an admin can change these default values or the paths under Moodle installation and the LTI Tool needs to store these new values.  Asking because my tool generates these URLs based on the LTI payload so if there is a chance for new values on these URLs, that will break my tool. Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 16, 2023, 2:22 AM",
          "AuthorName": "Javier Galarza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5628762&course=5",
          "role": [
            "Picture of Javier Galarza"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Changing Moodle LTI URLs",
          "Text": "Hi Javier, These won't change, otherwise, like you say, tools will break. There is no way in the UI to do this, nor are there plans to make any change to these in the near future. If your tool is generating these URLs, presumably to make it easier to configure for Moodle, you don't have anything to worry about for the time being. If we ever did decide to change one of these endpoints, we would have to provide a lot of advance notice both in community forums, and within the application itself (on the LTI pages) because of course all configured tools would be impacted. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 16, 2023, 10:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447113,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447113",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 custom variables",
          "Text": "Hi! quick question about custom parameters . is there a way to provide user and course information like the id/uuid ? I use this variable to maintain some kind of session on my tool. Other LMS use custom parameters in LTI with a set of variable that we can use to get this kind of information but I could not find documentation related to this topic in Moodle. Also, I have notice that the version 4.1 is returning the claim b asicoutcome which in some way I can use to get this kind of information but in version 4.2 this claim was removed. What would be general approach if I would like to maintain compatibility between Moodle's versions ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2023, 12:06 AM",
          "AuthorName": "Javier Galarza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5628762&course=5",
          "role": [
            "Picture of Javier Galarza"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 custom variables",
          "Text": "Hi Javier, You can find the supported substitution parameters in locallib . Of course user id is always provided in launches anyway in 1.3, under the 'sub' claim. If you're using it for uniqueness though, remember that it is only unique within that issuer. Personally, I wouldn't bother with basic outcomes now that you're running 1.3. I'd stick to those services defined in the LTI Advantage suite of specs. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 4:52 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 custom variables",
          "Text": "thanks, that helped me a lot",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 16, 2023, 2:23 AM",
          "AuthorName": "Javier Galarza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5628762&course=5",
          "role": [
            "Picture of Javier Galarza"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447577,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447577",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Configuration Details",
          "Text": "I added Pearson LTI 1.3 to Moodle but when try to view the configuration details nothing happen. From the tools list when try to click on view configuration tools for the LTI, it shows that it is not clickable. I already added the configuration, enabled LTI authentication, and enabled publish as an LTI tool from the enrolments Can you please advice?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1798700/image.png"
          ],
          "Time": "Saturday, June 10, 2023, 7:24 PM",
          "AuthorName": "saleh refaai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2582855&course=5",
          "role": [
            "Picture of saleh refaai"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Configuration Details",
          "Text": "Hi Saleh, Firstly, just to clarify things for you, you don't need to enable the LTI authentication or enrolments plugins to use LTI the way you're using it (consuming a third party tool). You only need to enable those if you're publishing your Moodle content so that some other 3rd party can consume that. With respect to the problem with the configuration details modal, can you check the browser's developer tools console and see what it reports when you click the icon? Are there any Javascript errors? What about when you refresh the page? This isn't something we've seen with vanilla Moodle, so I suspect a theme or plugin is impacting this page in your case.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 12, 2023, 9:42 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447066,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447066",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Assignments and Grades service",
          "Text": "Hi, We are developing a tool and finished authentication and have been able to get a bearer. Now, we want to inform Moodle the learner has started, so we are sending a request to /scores. However, Moodle tells us there is something wrong with the request. But it seems to be right comforming to the specification. Maybe anybody can tell us what is wrong, the error message is: Incorrect score received{\"timestamp\":\"2023-05-24T13:11:17.6081913Z\",\"activityProgress\":\"InProgress\",\"gradingProgress\":\"NotReady\",\"userId\":\"2\"} BTW : we are not planning on returning any scores, because no test is done in the element. So we will only be sending \"Competed\" and \"FullyGraded\" as soon as it is finished. As I understand, the score is optional?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 24, 2023, 9:22 PM",
          "AuthorName": "Bart Coppens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5605409&course=5",
          "role": [
            "Picture of Bart Coppens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Assignments and Grades service",
          "Text": "Hi Bart, That seems to be formatted properly, and indeed scoreGiven and scoreMaximum are optional. I believe you're hitting problems because you're trying to grade the admin user (userid=2), and that will fail the gradebookservices::is_user_gradable_in_course() check. Try a real, enrolled student and you should be okay.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 4:41 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Assignments and Grades service",
          "Text": "Hi Jake, Wow, thank you. I would never have found that by myself! For an enrolled user we get a 200 response indeed, so that seems to be right. Also if we post with activityProgress = Completed and gradingProgress = FullyGraded, we get the 200 response, so that seems al right. However, we do not see the activity marked as \"completed\" in Moodle. And when we process a GET on /results we also get a 200, but the content is an empty array []. So one problem solved, but the next already shows up. *EDIT* Forget the last comment, results is filled if we set a score indeed, but when we don't set a score I would excpect the activity to be marked as finished if we post as stated above.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 8, 2023, 5:12 PM",
          "AuthorName": "Bart Coppens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5605409&course=5",
          "role": [
            "Picture of Bart Coppens"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Assignments and Grades service",
          "Text": "Hi Bart, No problem. Adding a proper debug mode to LTI is something on my radar but it's something I haven't got around to yet. All these \"Sorry, such and such couldn't be completed\" messages are really unhelpful. At least we're now past that bit in your case. Completion is a funny one with our current LTI implementation, and one which could probably use some clarification in the docs (when I get around to that). Basically, because Moodle has its own completion system for activities , and that's dependent on the completion rules set on the activity (and because mod_lti is an activity), you still need to set up a rule that triggers completion using this system. Just sending a fully graded and complete grade won't set the activity as completed. What I normally suggest is setting up a completion rule for \"Automatic completion\" with the condition \"Use must receive a grade\". Then, when you update the grade, it'll trigger completion. Basically, completion happens outside of LTI. We may revisit the way this works in future. If we were to permit updates to completion via the grade post like you (and many others) probably expect , we'd ideally need some way to let the teacher know that completion is going to be handled that way. Mod_lti would be the only plugin which permitted completion changes without a preconfigured rule visible in the activity settings. It requires a bit more thought at the very least but I think it's worth exploring at some point for certain, as others have the same expectations around this. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 9, 2023, 8:54 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Assignments and Grades service",
          "Text": "Thank you Jake, that clears things up. We found out the workaround you describe, so we will be implementing that. However, it is not the best solution, because most of our trainings are not finished by a test or something. So there is nothing to grade.... Another suggestion for a solution might be to add a completion rule that can be selected for this module. Something like \"Require completion feedback from tool\". That way it is still configurable like it is now, but you might not need to inform the teacher, because it is a configuration and the teacher knows about that. But of course, that is up to you Thank you for your help! Good luck finding the best solution for this.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, June 9, 2023, 2:37 PM",
          "AuthorName": "Bart Coppens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5605409&course=5",
          "role": [
            "Picture of Bart Coppens"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Assignments and Grades service",
          "Text": "Yeah, that exact solution was the first thing which ran across my mind too and then for some reason, I had it in my head that completion rules needed to be the same across module. Of course they don't. I think I'll create an issue for this one. Turns out there was already an issue scoped with adding this feature. I've linked the proposal to that. See MDL-77650",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 9, 2023, 2:49 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446831,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446831",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Possibility of multiple grades on 1 LTI module of a user",
          "Text": "Hi there! As a supplier of an LMS, we link up with several e-learning suppliers who use Moodle. Both through LTI 1.1 and 1.3. A common scenario in an LMS is that employees must pass modules periodically to be compliant. With suppliers who use Moodle, we run into the problem that this is not possible because a user can only do a certain module once. The grade is not reset, this causes us and our customers a lot of problems. Such as not being able to pass a module again and therefore not being able to extend certification. We do not experience these problems with other LTI providers, is there a way to solve the above problem? We appreciate your help in this!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 17, 2023, 4:52 PM",
          "AuthorName": "Lidia Defacto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5614873&course=5",
          "role": [
            "Picture of Lidia Defacto"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "+ 1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 17, 2023, 6:03 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "This has been raised before, but I'm not sure how much was done about it (nor am I sure if any tracker issues were created). I believe MUA raised it, but I could be mistaken there - it's been a while. It was discussed under the broad term of \"Course reuse\"  a few years back. It's not something specific to Moodle's LTI; it's a limitation in the the wider LMS. There might be some posts about this in the general developer forum. It would be great to be able to use courses for certifications like this, but it's not a change that will likely sit within the LTI plugins. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 18, 2023, 9:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "Thanks for your quick response! I understand your concern about the limitations of LTI. The lis_result_souredid in LTI 1.1 and the line_item in LTI 1.3 allow the tool provider to distinguish different enrollments on the same LTI module by the same user.  Wouldn’t this imply we are dealing with a limitation in Moodle’s data model here? At the moment we see that Moodle is used by smaller content\nproviders who deliver modules via LTI on high-risk topics, such as\ncompany emergency response. It would be great if suppliers who work with\nMoodle could also offer repetition modules.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 23, 2023, 3:32 PM",
          "AuthorName": "Lidia Defacto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5614873&course=5",
          "role": [
            "Picture of Lidia Defacto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "hi Lidia, As Jake stated it is a limit withing in the wider LMS, so yes : the data model but also functionality. @jake we have in moodle a functionality called Reset Course ( https://docs.moodle.org/402/en/Reset_course ) this is a functionality that the teacher / manager can activate and clears the tables. Plugins can add this functionality as well. I believe the 'last grade' from LTI is not being cleared using this setting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 23, 2023, 4:29 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "All valid points, Gemma. I just think it needs to be raised with the right people to get traction (same as a million other features, right?!). Last I checked, the wider notion of course reuse wasn't a polished thing (and your comment about the local plugin above seems to confirm this). It would be great if we had that concept mapped out a bit (and there's quite a lot to that concept!) and then LTI could \"just use\" it in some way.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 5:09 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "It's somewhere on my todo list to map the concept out. If I have done this I think best start would be a tracker right?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 8, 2023, 12:50 AM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "Yeah, I would say so. There are likely a few related tracker issues around already. I know course relative dates related to reuse, for example. Maybe there's an epic, I'm not sure. It's a shame that project lost momentum tbh.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 8, 2023, 9:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "We have developed two LTI tools that can deal with recurring LTI enrollments by persisting these as separate records in our database , and associating those with a user - to support this exact scenario. If I understand this correctly , this is a limitation of Moodle's datamodel?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2023, 10:41 PM",
          "AuthorName": "Lidia Defacto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5614873&course=5",
          "role": [
            "Picture of Lidia Defacto"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446976,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446976",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Context breakout when publishing moodle as a provider",
          "Text": "For several years now we have being running a moodle instance as an LTI 1.1 provider so that we can embed moodle quizzes into another VLE platform - in our setup moodle is the provider and Blackboard is a consumer.  This is so we can take advantage of a specialised quiz question type not available in Blackboard. We always \"Publish as LTI tool\" with \"Tool to be published\" as a the tool (in our case always quizzes).  99.9% of the time it works flawlessly and students click the LTI tool link in Blackboard and moments later see a moodle quiz embedded into the Blackboard content frame and are largely unaware they are using another system.  In the 0.1% case students click the LTI tool link in Blackboard and rather than see the quiz tool, they get dumped on the main moodle course page i.e. context breakout.  This is usually NOT what we want as the moodle course page contains published and unpublished quizzes some of which are not for student consumption (yet). We currently use LTI 1.1 for our integration, but plan to move to LTI 1.3 this summer if we are confident the integration gives us the same or better functionality. Can this community suggest reasons why there should be this \"context breakout\" and how this can be prevented and whether there is the same risk of it occuring when we move to LTI 1.3? Thanks, Stuart Anderson, University of Manchester",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 22, 2023, 9:45 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Context breakout when publishing moodle as a provider",
          "Text": "Hi Stuart, This situation sounds like a bug to me. If the activity is being shared then there should be no reason the student ends up in the course context on launch. If you can reproduce this, I'd suggest creating a tracker issue at https://tracker.moodle.org .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 4:01 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Context breakout when publishing moodle as a provider",
          "Text": "Thanks Jake. I suspect \"reliably\" reproducing this issue will be a problem as there is nothing to indicate this isn't anything other than an intermittent issue. That said, I'll see what we can do. If I do reproduce it, I'll try and see what messages apprear in the browser console. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 5:13 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Context breakout when publishing moodle as a provider",
          "Text": "Thanks, Stuart. I suspect the same, unfortunately. Will be interested to see if you find anything.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 5:35 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446382,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446382",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Is it possible to make the content selection dialog bigger?",
          "Text": "So in the page of `Adding a new External tool to XXX`, we click the button `select content` and a dialog will pop up and display the external tool. However, it seems there is no way to make the dialog bigger. I feel there should be a setting that I can use to control the dialog size but I cannot really find it. Does anybody have any idea about this ? Thank heaps for your responses!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 4, 2023, 1:59 PM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is it possible to make the content selection dialog bigger?",
          "Text": "Hi Penghai, That's not currently configurable as it uses Moodle's modals. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 4, 2023, 2:50 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Is it possible to make the content selection dialog bigger?",
          "Text": "No worries I can add some custom CSS to make it bigger. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 1:43 PM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Is it possible to make the content selection dialog bigger?",
          "Text": "Hi Jake, On 3.11.6: On 4.1.x",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1796177/2.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1796177/1.png"
          ],
          "Time": "Monday, May 22, 2023, 11:56 AM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Is it possible to make the content selection dialog bigger?",
          "Text": "No worries we have figured out what is wrong.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 22, 2023, 4:17 PM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446775,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446775",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Passing group name to LTI 1.3 tools",
          "Text": "Is there a way to pass a users's group name to an external tool via custom parameters in LTI 1.3? Something like group_name=$Group.name (That doesn't work.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2023, 7:51 AM",
          "AuthorName": "Ryan Koopmans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5606658&course=5",
          "role": [
            "Picture of Ryan Koopmans"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing group name to LTI 1.3 tools",
          "Text": "Hi Ryan, Group name isn't one of the supported substitution params . There are plans to support the course groups service in future though - see MDL-69233 . Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2023, 9:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group name to LTI 1.3 tools",
          "Text": "Thank you for the speedy response.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 17, 2023, 1:24 AM",
          "AuthorName": "Ryan Koopmans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5606658&course=5",
          "role": [
            "Picture of Ryan Koopmans"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446771,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446771",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Unable to obtain an access token for scope: /spec/lti-ags/scope/score",
          "Text": "Hello, We are encountering an issue with our LTI 1.3 Moodle integration related to score submission. While logging in and accessing the course works seamlessly, we are unable to send back the score. The error message we receive is as follows: \"Unable to obtain an access token for scope: /spec/lti-ags/scope/score\" Upon thorough code debugging, we identified that the retrieval of an access token (/mod/lti/token.php) for the specified scope is resulting in a 400 Bad Request. The scope causing this problem is: \"spec/lti-ags/scope/score\" We would greatly appreciate any assistance in identifying the cause of this issue, or any guidance that could point us in the right direction. Technical Stack: Laravel 10 LTI-PHP (v5.0.0-rc1) (celtic-project) Moodle 3.11 Thank you for your attention and support!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2023, 4:03 AM",
          "AuthorName": "Niek Jansen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5611503&course=5",
          "role": [
            "Picture of Niek Jansen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unable to obtain an access token for scope: /spec/lti-ags/scope/score",
          "Text": "Hi Niek, At a glance, it appears that the tool is sending the wrong scope. That scope should be https://purl.imsglobal.org/spec/lti-ags/scope/score . The scopes used with gradebook services must match the scopes defined in this code . Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2023, 9:32 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to obtain an access token for scope: /spec/lti-ags/scope/score",
          "Text": "Hi Jake, Thank you for your quick reply! We are sending the full scope, I just couldn't add URL 's to the post (I cut off the beginning of the URL ), as this is my first post. Any thoughts? Thank you!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1795484/Screenshot%202023-05-16%20at%2008.15.14.png?forcedownload=1"
          ],
          "Time": "Tuesday, May 16, 2023, 2:19 PM",
          "AuthorName": "Niek Jansen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5611503&course=5",
          "role": [
            "Picture of Niek Jansen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to obtain an access token for scope: /spec/lti-ags/scope/score",
          "Text": "Hi Niek, Ah, no problem. At least we can rule that out. Do you have access to the launch data? Was that scope advertised in the launch's ags claim? The reason I ask is that Moodle's external tool instances can be configured to block score posting. You need to enable \"Accept grades from the tool\" in the activity's \"privacy\" settings - so that's something else to check. If the activity isn't set up for grade posting, it's likely you won't be able to fetch a token for that action. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2023, 2:54 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to obtain an access token for scope: /spec/lti-ags/scope/score",
          "Text": "Hi Jake, I just figured it out, we had a silly typo in our signature method: RSA256. This should be, RS256 of course. Thank you for your effort to help us out!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2023, 3:07 PM",
          "AuthorName": "Niek Jansen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5611503&course=5",
          "role": [
            "Picture of Niek Jansen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to obtain an access token for scope: /spec/lti-ags/scope/score",
          "Text": "Ah, nice. Good to know that's resolved for you now! Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2023, 3:40 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446637,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446637",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 OpenID authentication missing parameters",
          "Text": "Hi, We are trying to develop an external LTI 1.3 tool and are running into an error with the authentication request send from Moodle to our tool: The request seems to be missing the parameters (required by the openid standard): scope , response_type and redirect_uri . Did we miss something while configuring the tool? Our config looks like this: Resulting in a request containing only these parameters: iss=http%3A%2F%2Flocalhost target_link_uri=https%3A%2F%2FtoolUrl.nl login_hint=2 lti_message_hint=%7B%22cmid%22%3A2%2C%22launchid%22%3A%22ltilaunch1_1983298321%22%7D client_id=YEDJTb7CgNKA30a lti_deployment_id=4",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1794898/afbeelding.png"
          ],
          "Time": "Thursday, May 11, 2023, 6:00 PM",
          "AuthorName": "Bart Coppens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5605409&course=5",
          "role": [
            "Picture of Bart Coppens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 OpenID authentication missing parameters",
          "Text": "Hi Bart, That's expected for LTI 1.3 and is all explained in the 1EdTech Security Framework (login is required to view). The tool (RP) makes the request to the platform (the OP ), sending those params - not the other way around. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2023, 9:05 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 OpenID authentication missing parameters",
          "Text": "😞 thank you.... We just started by solving the \"problem\" that seemed the most difficult to us: authenticating using OpenID. And we thought the wrong way around. We have had better days",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, May 12, 2023, 2:00 PM",
          "AuthorName": "Bart Coppens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5605409&course=5",
          "role": [
            "Picture of Bart Coppens"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446495,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446495",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Has anybody successfully set the icon size for selected content through deep linking response ?",
          "Text": "In my deep linking response, there is a selected content which is of type `ltiResourceLink`. I also added ``` \"icon\": {\n\"url\": \"url\",\n\"width\": 48,\n\"height\": 48  } ``` for that content. However, after the selection ,the icon is still 24px * 24px. So I wonder if the size setting is ignored by Moodle ?  I cannot find any configuration for this as well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 8, 2023, 2:54 PM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Has anybody successfully set the icon size for selected content through deep linking response ?",
          "Text": "Hi Penghai, I assume you're referring to the resulting activity icon size in Moodle on the course page? These icons are set to 24x24, yes. That's part of the theme css and can't be dictated by anything in the deep linking flow. Otherwise, we'd end up with different sized activity icons. Regards, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 11, 2023, 1:57 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446429,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446429",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Is it possible to selection content items for different topics in one session ?",
          "Text": "We used to be able to do this with LTI1.1 and a Moodle plugin. Now as we are migrating to LTI 1.3, we found that in the deep linking response we cannot specify what selected content should be added to which topic. So we have to select multiple times for different topics. Does anybody have any idea about what to do for this scenario ? Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 1:46 PM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is it possible to selection content items for different topics in one session ?",
          "Text": "The support for multiple content items was really an afterthought and, as such, is limited. Currently, it will create the external tool activity instances (the resource links for each content item) in the section you first started the creation process in. It's then up to the instructor to move these to the right location in the course. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 2:59 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Is it possible to selection content items for different topics in one session ?",
          "Text": "Thanks Jake. We will consider what we can do. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 8, 2023, 2:19 PM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446425,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446425",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Zoom meeting attendance for activity completion",
          "Text": "Checking to see if anyone has figured out a way to automatically mark the Zoom LTI activity as \"complete\" if they launch/attend a zoom meeting with it?  Or maybe there is another work around to automate this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 11:16 AM",
          "AuthorName": "Tay Moss",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4728050&course=5",
          "role": [
            "Picture of Tay Moss"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Zoom meeting attendance for activity completion",
          "Text": "Hi Tay, I'm guessing that setting up completion on view on the external tool instance isn't an option? That way, any student who launches the activity (whether zoom loads a meeting or not is another story), will end up with that activity marked complete. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 12:08 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Zoom meeting attendance for activity completion",
          "Text": "In theory (per documentation) Moodle Zoom LTI should be able to pass back attendance data to Moodle, but in fact we haven't been able to figure out how to actually do this. Has anyone been successful?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 1:58 PM",
          "AuthorName": "Tay Moss",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4728050&course=5",
          "role": [
            "Picture of Tay Moss"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Zoom meeting attendance for activity completion",
          "Text": "Can you post a link to the relevant docs? I only know the pure LTI details and what Moodle can/can't do with respect to that (and we don't deal with clients directly at HQ, so I'm not sure if others have had any success with Zoom, I'm afraid). I'd need to see the details of what they claim to send, and via what mechanism, before I can really comment further. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 2:56 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446166,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446166",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Failed to make a content selection with LTI 1.3",
          "Text": "Hi, I am a developer of a tool provider. Currently, we are migrating from LTI 1.1 to 1.3. We have built up a deep linking response based on the IMS global spec. The problem we have is Moodle failed to get the content items from response. We have done some PHP code debugging and here is what we found. In file `locallib.php` there is a function named `lti_convert_from_jwt` .  It has a nested if statement to process a claim where the claim value is an array. At line 3455 ``` if (!empty($value) && $mapping['isarray']) { if (is_array($value)) { if (is_array($value[0])) {                             $value = json_encode($value);                         } else {                             $value = implode(',', $value);                         } } } ``` And `$value` is ``` [\" {\\\"type\\\":\\\"link\\\",\\\"title\\\":\\\"testing file 1\\\",\\\"url\\\":\\\"http:\\/\\/localhost:8080\\/fiveo\\/a.png\\\"} \",\" {\\\"type\\\":\\\"link\\\",\\\"title\\\":\\\"testing file 2\\\",\\\"url\\\":\\\"http:\\/\\/localhost:8080\\/fiveo\\/b.png\\\"} \"] ``` Obviously, `$value[0]` is not an array. So above code will execute `$value = implode(',', $value);`. And then later on, this value will be passed to function `lti_convert_content_items` which has a if statement `if (!empty($json) && is_array($json))` (line 1595). The value passed in is a string that cannot be decoded back to an array due to the use of implode) so it never gets processed. We found that if we make the above value as a nested array, Moodle will be happy to select the items. ``` [\"[ {\\\"type\\\":\\\"link\\\",\\\"title\\\":\\\"testing file 1\\\",\\\"url\\\":\\\"http:\\/\\/localhost:8080\\/fiveo\\/a.png\\\"} \",\" {\\\"type\\\":\\\"link\\\",\\\"title\\\":\\\"testing file 2\\\",\\\"url\\\":\\\"http:\\/\\/localhost:8080\\/fiveo\\/b.png\\\"} ]\"] ``` With this value, the nested if statement mentioned above will do `$value = json_encode($value);` instead of the `implode` . So the string passed to `lti_convert_content_items`  can be decoded back to an array. But most importantly, according to the LTI 1.3 spec, the value of `content_items` should not be a nested array. Does anybody have similar issue ? If the problem is on my side such as making a wrong structure,  please let me know by all means. Thanks !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 10:28 AM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Failed to make a content selection with LTI 1.3",
          "Text": "Hi Penghai, I suspect the issue here lies in your implementation, not in Moodle's parsing code (which is well established and has passed LTI certification many times). Per the Deep Linking 2.0 spec ( https://www.imsglobal.org/spec/lti-dl/v2p0#deep-linking-response-message ) the content items claim in the response message should be a JSON array of selected content items. If properly formatted in the JWT, this claim is decoded properly, and results in an array. Here's an example of that content items claim (as Moodle receives it in the JWT - just decoded JSON ) which works just fine: \" https://purl.imsglobal.org/spec/lti-dl/claim/content_items \": [{ \"type\": \"ltiResourceLink\", \"title\": \"An assignment\", \"text\": null, \"url\": \"http://localhost/master/enrol/lti/launch.php\", \"presentation\": { \"documentTarget\": \"iframe\" }, \"custom\": { \"id\": \"76d5c1ef-34b1-4ec6-9c2e-8f13480cc2da\" }, \"lineItem\": { \"scoreMaximum\": 100, \"label\": null } }] I've also closed MDL-78044 accordingly. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 2:34 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Failed to make a content selection with LTI 1.3",
          "Text": "Thanks for your update. Yes it's the problem on my side. I have fixed it. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 4, 2023, 1:55 PM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445863,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445863",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Course grades are not synchronizing on the LTI provider and consumer",
          "Text": "In the moodle provider (moodle1) the courses registered have a quiz that when finished determines the course completion, but, when accessed by moodle2 (consumer), they are not given as completed even though they are configured to do so because the synchronization of grades from moodle1 to moodle2 is not happening. I have run cron and changed the settings that handle the course completion conditions in both moodle1 and moodle2. How can I proceed?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/314/mod_forum/post/1791941/cron.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1792035/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1792035/image%20%281%29.png"
          ],
          "Time": "Tuesday, April 18, 2023, 11:21 PM",
          "AuthorName": "Giovana Jovas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5567751&course=5",
          "role": [
            "Picture of Giovana Jovas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course grades are not synchronizing on the LTI provider and consumer",
          "Text": "Hi Giovana, There are a few things to clarify here I think: First up, those cron logs show member sync, not grade sync. Secondly, Moodle doesn't yet support passing back (from moodle 1) or receiving (to moodle 2) completion information over LTI service calls. There is an issue dealing with adding support for this in the platform (i.e. reading this in from a remote tool) - see MDL-69469 . As it stands, completion must be achieved using grades only; The external tool module must be set up to use automatic completion based on grade. Then, when the tool passes back the grades, that will trigger completion in the external tool instance accordingly (cron may need to be run in platform site to achieve this - I can't recall off the top of my head) You don't need to make any changes regarding completion in the tool (moodle1) Make sure both the external tool settings (moodle2) and the tool (moodle 1) have been set up to sync grades. In moodle 2, this means checking the preconfigured tool and the external tool instance settings in the course. On the tool (moodle1), this means checking the enrolment method settings for the shared quiz. If you have a grade in the tool site (moodle 1), then running cron in that site should sync it back to the platform (moodle 2) Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 19, 2023, 11:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grades are not synchronizing on the LTI provider and consumer",
          "Text": "Hi Jake, How are you? Sorry for the confusion of the cron logs. I sent the wrong printout. Below are the ones regarding the synchronization of the notes: I already made the settings you said in the moodles but the problem persists. I tried debugging the sync_grades file to find out where is the error that causes this synchronization to be prevented, but the problem persists. Here are some screenshots of the configuration: (Moodle1) (Moodle2) With this in mind, how can I proceed? Sorry for the English, I'm not a native speaker. Thanks for trying to help.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1792198/print1.PNG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1792198/print2.PNG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1792198/print3.PNG"
          ],
          "Time": "Wednesday, April 19, 2023, 11:59 PM",
          "AuthorName": "Giovana Jovas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5567751&course=5",
          "role": [
            "Picture of Giovana Jovas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grades are not synchronizing on the LTI provider and consumer",
          "Text": "Thanks for clarifying, Giovana. Just to reiterate, the completion settings in Moodle 1 don't matter if your aiming to achieve completion in Moodle 2. Only the grade being sent does. What I'm not seeing above is the 'Privacy' section of the \"External tool settings\" in Moodle 2 (consumer/platform). There's a section in there \"Accept grades from the tool\" which needs to be checked/enabled. Then, looking at the log, it seems evident the tool is (correctly) trying to send the 100% fractional grade back to the platform. Note the '1' being sent, meaning 1/1 = 100%. The problem is likely in the platform, or somewhere in between. The HTTP 100 return stands out to me. That's not one of the normal status codes the external tool module will respond with. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 10:17 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grades are not synchronizing on the LTI provider and consumer",
          "Text": "Good morning, Jake! That privacy setting is set to always accept notes from the tool (I've tested with the other option other than 'Never' as well). About the logs, I highlighted the \"sent 0 grades\" part because it seems to me that it doesn't have any note feedback at all. Anyway, what do you suggest me to do now?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 7:58 PM",
          "AuthorName": "Giovana Jovas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5567751&course=5",
          "role": [
            "Picture of Giovana Jovas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grades are not synchronizing on the LTI provider and consumer",
          "Text": "Hi Giovana, That HTTP 100 is almost certainly the reason you're not seeing a successful grade sync. Let's focus on figuring that out. That message \"An HTTP error status was received\" is only used when we see a status code above 400. You can see that in this code: https://github.com/moodle/moodle/blob/2dd7290ccbd4057192ba0d695411f62e9f3a2b4d/enrol/lti/classes/local/ltiadvantage/lib/http_client.php#L95-L97 . I've had a look at that code, and I think that what's happening here is that we're trying to naively process a response header that looks something like: HTTP/1.1 100 CONTINUE HTTP/1.1 4XX SOME_FINAL_ERROR I can't be certain, of course, but that would explain how the logs show 100, but the exception is being thrown for a 4XX code (the 4xx being fetched via curl's info, the 100 being parsed, incorrectly, from the headers). The header processing code looks for only one HTTP response code on the first line and is picking up the 100 code, and so that's what's being logged. The actual, final response code would be on the line below, which is being obscured. Curl sees the correct final code, but since our client shim doesn't parse the headers correctly, it's reporting that as a 100, instead of the 4xx. So, I suspect the platform is returning a 4xx error code, but we aren't able to see it because of this buggy client code. This client shim has been replaced in Moodle 4.2, as we now ship the Guzzle library, but in 4.0 and 4.1 this is still going to be a problem. I've created MDL-77990 to address this. Of course, resolving the above bug will only serve to surface the 'real' error code (which most likely does come from the platform and means there is still a problem we need to look at). Once we know the 'real' error code, we can try to debug further. If you're able to provide any additional information about the response being sent\nback from the platform, that would also be very helpful. Are you perhaps using a proxy server somewhere which might add these 100 continues? Anything to understand this further would be helpful. Thanks again, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2023, 10:05 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grades are not synchronizing on the LTI provider and consumer",
          "Text": "Hello, Jake. I updated Moodle to version 4.2 based on what you said. I was exploring more alternatives and came across an error that replaced the HTTP 100 line, which is \"cURL error 60: SSL certificate problem: unable to get local issuer certificate\". Can you guide me to find a solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 28, 2023, 4:02 AM",
          "AuthorName": "Giovana Jovas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5567751&course=5",
          "role": [
            "Picture of Giovana Jovas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grades are not synchronizing on the LTI provider and consumer",
          "Text": "Hi Giovana, That error is generated outside of Moodle and suggests a problem with the configuration of your site certificates (Google it, you'll see a load of information about it). I.e. this is likely a configuration issue with your environment. As such, there's nothing I can recommend here. Whoever manages the TLS on your sites will need to help with resolving that one. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 28, 2023, 9:05 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446101,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446101",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI Error",
          "Text": "I have upgraded the provider moodle and the consumer moodle to version 4.2, however, every time the course is published as an LTI tool and accessed by the consumer, this error prints on the screen. In the previous version I was using I could access it normally.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1792869/Capturar6.PNG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1792869/Capturar8%20%281%29.PNG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1792869/Capturar8.PNG?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1792869/MicrosoftTeams-image%20%2811%29.png?forcedownload=1"
          ],
          "Time": "Wednesday, April 26, 2023, 3:07 AM",
          "AuthorName": "Instituto Monitor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5580795&course=5",
          "role": [
            "Picture of Instituto Monitor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Error",
          "Text": "Hi, Have you read the LTI 1.3 docs , specifically the section on tool-platform registration? LTI 1.3 uses an entirely different model to that of 1.1, and requires that the tool and platform applications register with one another, via OAuth 2 and OpenId Connect, before any tool launches can take place. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2023, 10:52 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Error",
          "Text": "Hi Jake. Thanks for the feedback. I have checked the documentation and followed the guidelines to do the redemption, both dynamically and manually, however, the problem shown in the printout remains. All the settings are matching what is on the documentation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 12:18 AM",
          "AuthorName": "Instituto Monitor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5580795&course=5",
          "role": [
            "Picture of Instituto Monitor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Error",
          "Text": "Hi Estevão, Ok, great. That error you're seeing is thrown by the tool and means the tool was unable to access the public key from the platform's JWKS endpoint (which it needs to validate the launch). This endpoint is visible in the platform site under pre-configured tools (site admin > plugins > external tool > manage tools) and looks something like: https://YOUR_SITE/mod/lti/certs.php I'd double check that this value is set in the tool registration section of the tool site too (site admin > plugins > enrolment > publish as lti tool > tool registration) . If this is set there, then it may be a connectivity issue (the tool site it unable to contact the platform site), so I'd then check things like the admin > general > http security, to make sure the tool can make requests to the domain of the platform site. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 9:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Error",
          "Text": "Hi, Jake. I performed the tests you recommended and will be attaching here the screenshots of the settings and errors I found while performing the tests. Site administration > Plugins > Activity Modules > External Tool - LTI > Manage Tools > External Tool Configuration Site administration >  Security > HTTP security Site administration > Plugins > Enrolments > Publish as LTI tool > Tool registration > Edit registration Here is what is returned for each link: Registration URL : Tool URL: Initiate login URL: JWKS URL: Deep linking URL: Also, when I put in the URL the way you indicated (https://YOUR_SITE/mod/lti/certs.php), the return of the key is different:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1793226/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1793226/image%20%281%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1793226/image%20%282%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1793226/image%20%283%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1793226/image%20%284%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1793226/image%20%285%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1793226/image%20%286%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1793226/image%20%287%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1793226/image%20%288%29.png"
          ],
          "Time": "Thursday, April 27, 2023, 9:50 PM",
          "AuthorName": "Instituto Monitor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5580795&course=5",
          "role": [
            "Picture of Instituto Monitor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Error",
          "Text": "Hi Estevão, The important setting for both sites is the \"cURL blocked hosts list\" (at the bottom of your screenshot above). Neither site must block access to the other, so please check this. The Tool URLs are used during different phases of the OAuth 2 flow, and aren't expected to be hit directly without data like you're doing above. Those tests aren't necessary. The important thing is to confirm that you can see both the JWKS for the tool (provider), and for the platform (consumer). In the above examples, mod/lti/certs is the platform JWKS, whereas enrol/lti/jwks is the tool JWKS. These are expected to be different. So, you're essentially at the same point as you were before - you need to troubleshoot why the tool cannot access mod/lti/jkws during the launch. You've confirmed the endpoint works (you can see the keys above), so now it's just a matter of working out why the tool can't access these.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 28, 2023, 9:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446168,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446168",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "can't sync grade LTI betwen 2 moodle site",
          "Text": "I have successfully published the course as LTI on moodle site provider (moodle version 3.11) and moodle site consumer (moodle 4.1). I was able to open the course on the moodle customer site, but when syncing the grade it always failed and I got an error like this Starting - Grade sync for shared tool '2' for the course '77'. Failed - The grade '1' for the user '565' in the tool '2' for the course '77' failed to send. Completed - Synced grades for tool '2' in the course '77'. Processed 1 users; sent 0 grades. I have checked as follows 1. enable LTI authentication method and publish LTI enrollment 2. enable frame embedding on site security 3. check the cron is running 4. The user had grade on the moodle provider site Please advise, are there any steps wrong or missing?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 12:21 PM",
          "AuthorName": "Rizal Masandiansyah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5058395&course=5",
          "role": [
            "Picture of Rizal Masandiansyah"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: can't sync grade LTI betwen 2 moodle site",
          "Text": "Hi Rizal, First up, I'd encourage you to move on from 3.11 and use 4.0+ as newer versions provide LTI Advantage publication of activities and courses. 3.11 still uses LTI 1.1 which has been deprecated by 1EdTech for quite some time now. Disclaimer aside, the ability to accept grade into the platform/consumer is a privacy setting, so I'd suggest checking that. In the activity setting (the external tool instance settings), check 'Privacy' and make sure 'Accept grades from the tool' is selected. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 2:14 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: can't sync grade LTI betwen 2 moodle site",
          "Text": "Hello Jake, Thanks a lot, we try moodle provider using moodle version 3.11 dan moodle consumer using moodle version 3.11. and working great.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 4:57 PM",
          "AuthorName": "Rizal Masandiansyah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5058395&course=5",
          "role": [
            "Picture of Rizal Masandiansyah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: can't sync grade LTI betwen 2 moodle site",
          "Text": "Hi Rizal, You can certainly use different version of Moodle for the consumer and provider. The LTI version is what really matters, as this dictates the way the launch process (and other processes) work in the background. If you're using 3.11, please also see the pinned message in this forum. There were a number of major bugs in grade sync fixed in 3.11.11 which, prior to fixing, resulted in the error you're seeing. So, you really must be on at least 3.11.11 if you're stuck using 3.11. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 28, 2023, 8:55 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445921,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445921",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI grade sync not working",
          "Text": "I have a Moodle course published as LTI tool.  I have successfully launched and completed the course from the consumer application a few times.  Yet when the grade sync scheduled task runs, it does not send any results, and I see this in the log: Starting - Grade sync for shared tool '6' for the course '66'. Skipping - Empty sourceid for the user '378' in the tool '6' for the course '66'. Skipping - Empty sourceid for the user '376' in the tool '6' for the course '66'. Skipping - Empty sourceid for the user '375' in the tool '6' for the course '66'. Skipping - Empty sourceid for the user '374' in the tool '6' for the course '66'. Completed - Synced grades for tool '6' in the course '66'. Processed 4 users; sent 0 grades. I don't understand how sourceid can be empty.  Is it not populated from lis_person_sourcedid in the request?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 3:52 AM",
          "AuthorName": "Darin Stelting",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5571683&course=5",
          "role": [
            "Picture of Darin Stelting"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI grade sync not working",
          "Text": "Hi Darin, That param (lis_result_sourcedid) is an optional param in the basic outcomes launch, so it very well may not be sent by the launching application. Moodle handles this accordingly, by not setting it on the enrol_lti_user record. Grades can't be synced in this case, as you're seeing. Also, just pointing out that 1.1 and outcomes is deprecated now, so I'd strongly recommend moving over to LTI 1.3 when you can. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 10:20 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI grade sync not working",
          "Text": "Apologies, you seem to have misunderstood.  Moodle is complaining of \"Empty sourceid\".  I am asking how Moodle populates sourceid. These are the values in my request: name= ext_basiclti_submit value= Something name= ext_user_username value= user name= launch_presentation_document_target value= iframe name= launch_presentation_return_url value= foo.url name= lis_outcome_service_url value= https://eoljidknqpe0mkg.m.pipedream.net name= lis_person_contact_email_primary value= user2113@example.com name= lis_person_name_family value= Darwin name= lis_person_name_given value= Charles name= lis_person_sourcedid value= 1123511 name= lti_message_type value= basic-lti-launch-request name= lti_version value= LTI-1p0 name= oauth_callback value= about:blank name= oauth_consumer_key value= somevalue123 name= oauth_nonce value= 3924215557000 name= oauth_signature value= l9BF5Y935VlIyG5v2m+dleOIN18= name= oauth_signature_method value= HMAC-SHA1 name= oauth_timestamp value= 1681915848 name= oauth_version value= 1.0 name= resource_link_id value= 1 name= roles value= Student name= tool_consumer_instance_description value= description name= tool_consumer_instance_guid value= put your site url here name= tool_consumer_instance_name value= My glorious platform name= user_id value= 1123511",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 10:10 PM",
          "AuthorName": "Darin Stelting",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5571683&course=5",
          "role": [
            "Picture of Darin Stelting"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI grade sync not working",
          "Text": "I guess it was I who misunderstood - you're saying that lis_result_sourcedid populates sourceid?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 10:49 PM",
          "AuthorName": "Darin Stelting",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5571683&course=5",
          "role": [
            "Picture of Darin Stelting"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI grade sync not working",
          "Text": "Thanks Jake, Now I am receiving the grade sync. One other question, is resultScore always either 1 or 0? I was expecting a double value.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 11:09 PM",
          "AuthorName": "Darin Stelting",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5571683&course=5",
          "role": [
            "Picture of Darin Stelting"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI grade sync not working",
          "Text": "Hi Darin, Glad you got it working. Re: above: Yes, lis_result_sourcedid populates the sourceid, but seems you're past that part now anyway. The grade value will be a fractional value between 0 and 1, representing the percentage grade. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2023, 9:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 439137,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439137",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI Grade sync with H5P failing",
          "Text": "Greetings, I am having an issue with the syncing of grades back to Moodle (LTI consumer of content on h5p.com). The external tool is setup thus (although I was trying before with \"Accept grade\" set to always - same error. And activity with privacy is setup thus: When a quiz is submitted, an xApi call is made to h5p.com, and the provider logs the account/results in the dashboard . The incoming request to Moodle was failing with a 401 but we fixed an apache config setting with JWT headers. Now the error is ```2022-10-05 12:08:42    Error    13.54.204.179    400    POST /mod/lti/services.php/2/lineitems/25/lineitem/scores?type_id=2 HTTP/1.0        GuzzleHttp/7    528 Apache SSL/TLS access``` And with curl I get the response: ```{ \"status\": 400, \"reason\": \"No handler found for /2/lineitems/25/lineitem/scores  \", \"request\": { \"method\": \"POST\", \"url\": \"/mod/lti/services.php/2/lineitems/25/lineitem/scores?type_id=2\", Cheers NIck",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1767380/221006_084054.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1767380/221006_084541.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1767380/221006_084344.png"
          ],
          "Time": "Thursday, October 6, 2022, 3:46 AM",
          "AuthorName": "Nick Stebbs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5113436&course=5",
          "role": [
            "Picture of Nick Stebbs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Grade sync with H5P failing",
          "Text": "Hi Nick, What's the content-type header you're sending over with the score post? I ask this because we currently only support: application/vnd.ims.lis.v1.scorecontainer+json application/vnd.ims.lis.v1.score+json At the time of writing this, this is in accordance with the existing AGS OpenAPI spec: https://www.imsglobal.org/spec/lti-ags/v2p0/openapi/#/default/LineItems.POST Also, the content-type must be provided for a score post, so I'd definitely start by checking that's all in order. Related to naming: I've just realised that 1Edtech (formerly IMS Global) have recently modified their existing published specification documents in a non-bc manner (e.g https://www.imsglobal.org/spec/lti-ags/v2p0#score-service-media-type-and-schema - login required), by changing this to 'application/vnd.1EdTech.lis.v1.score+json'. We validate the content-type is one of the two above schema names, so if the tool sends us this newer version, a different content type or nothing at all, we won't match a valid service handler, resulting in the kinds of errors you're seeing. We'd definitely need to patch Moodle if the plan is to accept that new schema name. I've raised this internally. Hopefully it was just a mistake on their part. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 6, 2022, 12:05 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Grade sync with H5P failing",
          "Text": "Hi Jake, I actually managed to get it working... I created a new activity (different content type) using the same tool and settings but changed the scoring type to 'static' on the activity, meaning that it was always a fixed amount. The grade type/maximum grade was then grayed out in Moodle and I started to see results being synced. I think it was some mismatch between the scoring systems. I am still curious though so I will explore again with the same quiz I was using and post back here at a later date, noting the content types. Cheers Nick",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 7, 2022, 5:16 AM",
          "AuthorName": "Nick Stebbs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5113436&course=5",
          "role": [
            "Picture of Nick Stebbs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Grade sync with H5P failing",
          "Text": "I'm assuming that 'static' is an H5P activity concept? The grade services spec basically only supports fractions going back from the tool to the platform, so perhaps whatever 'static' represents results in that (as opposed to whatever other format was used prior, when you experienced the error).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 7, 2022, 9:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Grade sync with H5P failing",
          "Text": "Hi Nick, maybe we have a similar problem with LTI 1.3 (our moodle is LTI consumer). I checked all settings concerning the gradebook twice but no grades are transferred to the gradebook. So, 1.) What do you Apache configuration do you had to fix in view of JWT headers? 2.) When I edit the LTI-activity, and try to change the \"scoring type\" there's only \"scale\", \"point\" and \"none\" possible. So what is this type \"static\" you mentioned? Cheers, Alex",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 28, 2023, 4:33 PM",
          "AuthorName": "Alexander Dominicus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4187495&course=5",
          "role": [
            "Picture of Alexander Dominicus",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Grade sync with H5P failing",
          "Text": "Hi Alexander, The project was put on hold for some time, and my familiarity with all of this went out of the window! If I can reproduce the situation now I will get back to you with some answers, but can't be sure. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 19, 2023, 5:36 AM",
          "AuthorName": "Nick Stebbs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5113436&course=5",
          "role": [
            "Picture of Nick Stebbs"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445674,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445674",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Default tool name and logo",
          "Text": "When I publish a course as an LTI 1.3 tool and create a new  tool registration,  the tool site name and logo are not shown. I just get the Moodle name and logo. ie I was expecting to see the LTI tool site's name and logo. I think I am missing some step here. Can anyone point me to what I have done wrong? The tool site is on Moodle 4.1.2+ The platform site is on Moodle 4.1.1",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1791203/image.png"
          ],
          "Time": "Tuesday, April 11, 2023, 2:46 PM",
          "AuthorName": "Justin Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=14534&course=5",
          "role": [
            "Picture of Justin Hunt",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Default tool name and logo",
          "Text": "Hi Justin, What you're seeing is correct in the sense that it's 'intended' - see the code . I basically wrote that, then didn't come back to revisit it. I think it should resolve the site name and logo, as you say. Workaround: Change the name and logo in the tool settings, post-registration. I've created MDL-77933 to deal with this. Thanks! Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 17, 2023, 11:15 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Default tool name and logo",
          "Text": "Got it. I will keep an eye on that tracker. I don't think I will be able to work on it myself though. Everything else works like a charm though, its cool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 18, 2023, 8:02 PM",
          "AuthorName": "Justin Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=14534&course=5",
          "role": [
            "Picture of Justin Hunt",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445581,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445581",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Moodle as a Tool, for non-moodle Consumers",
          "Text": "Does anyone do this? I'm getting terrible userIDs through - ie `1008d5de24dcf4d5ed5ea09c5594c3e9ce7e6728` (this if from Canvas)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 6, 2023, 3:24 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle as a Tool, for non-moodle Consumers",
          "Text": "Hi Ian, You're probably going to have to be more specific about what you're seeing, where you're seeing it, and what you expect. The id of the user, as it is sent over during LTI launches from the platform, isn't visible by the resulting user in Moodle. We only store this on the back end as part of an account mapping. Did you mean username perhaps? Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 6, 2023, 4:55 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as a Tool, for non-moodle Consumers",
          "Text": "Yes - the name of the users. Here is an example - these are from canvas [I happen to know they are the data from the `sub` field] (and, for added fun.... I'm getting email addresses of \"751417a01e5271f29228e206686f550944dad367@ltiuser.com\" - however I've not chased that anywhere yet)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1790916/moodle-teachers.png"
          ],
          "Time": "Thursday, April 6, 2023, 5:18 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as a Tool, for non-moodle Consumers",
          "Text": "This is a part of the privacy features of Moodle's LTI implementation I think. If the Platform/Consumer (ie canvas in your case) does not wish to share user information then Moodle creates the sort of user names and emails that you posted. I am not familiar with Canvas, but if your consumer was a Moodle site then the following settings when creating an external tool or app are the culprits:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1791207/image.png"
          ],
          "Time": "Tuesday, April 11, 2023, 3:16 PM",
          "AuthorName": "Justin Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=14534&course=5",
          "role": [
            "Picture of Justin Hunt",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as a Tool, for non-moodle Consumers",
          "Text": "What Justin describes is true of Moodle-to-Moodle launches; Moodle, as a platform (LTI consumer), allows restriction of PII, via the settings he shows. This results in OpenId fields like given_name, family_name and email being omitted. Regardless of whether the platform is Moodle or not, omission of these fields will result in what you're seeing in the firstname, lastname and email fields. So, what I said above is not entirely true; the platform username (sub) is visible in the firstname field in the above case. If you want to see real user names and emails, just configure the platform to send these over.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 17, 2023, 11:24 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as a Tool, for non-moodle Consumers",
          "Text": "Thankee.... I'll create a moodle instance & try it from various consumers - see how I get on. (I know, when I created a Tool for another service, I had to check in various places for customer-recognisable user-ids.... and figure out how to distinguish _across_ customers: user-ids may be unique within a VLE-instance, but cannot assumed to be unique across multiple instances)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 17, 2023, 3:18 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445748,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445748",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 External tool - grade pass to Moodle",
          "Text": "Hello. I am trying to figure out how the grades are supposed to be passed from Tool Provider to Modole Platform. I found one wirking instruction instruction but I am not sure if this instruction is complete or even the one supposed to be used. According to it one must make a POST request to eg http://example-moodle-instant.com/mod/lti/services.php/{courseid}/lineitems/{gradeitemid}/lineitem/scores/?type_id=19 } with access token in headers and some grade info in the body. I had no problem in retrieving token (aka authentification with JWT). But I want to understand how Provider is supposed to get course id and grade item id parameters (which are more or less internal Moodle data) used in the request link. I figured, that using standard Moodle API it is possible to get both course id and grade item id for userid and cmid, which Provider recieves among other parameters when Moodle user opens External tool. But this way seems to be too hard? as there must also be a user for api for each tool provider and in total it takes 4 requests to set a grade. What am I missing? Is there some more adequate way?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2023, 9:00 PM",
          "AuthorName": "Daniil Globa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4630650&course=5",
          "role": [
            "Picture of Daniil Globa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 External tool - grade pass to Moodle",
          "Text": "Hi Daniil, You will get access to the necessary information from the lti-ags claim. You can see more information about that in the 1EdTech spec docs (which I recommend reading anyway if you're building a tool - login required to view). You'll find that here: https://www.imsglobal.org/spec/lti-ags/v2p0#assignment-and-grade-service-claim Essentially, on every launch (assuming 'accept grades from the tool' is checked in the tool settings) Moodle will pass the claim to the tool. The tool can then just use the relevant URLs to make service calls. At no point do you need to figure out any of the internal Moodle data, or call any non-lti APIs; it's all included in the launch data. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 17, 2023, 11:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 439252,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439252",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 External tool - request to 'auth.php' returns 404",
          "Text": "Hi there, (This issue seems to be exactly the same as this one but I couldn't find a solution in that other issue) I'm getting a 404 not found in the request from the tool to my moodle instance, I'm using https://lti-ri.imsglobal.org/ to test, you can see my test tool here . The issue seems to indeed be with cookie, more specifically the 'MoodleSession' key . I have pasted the request that is sent below. When I import the request in Postman, I see the 404 as well, but if I don't send the Cookies as part of the request, then I get a 200 OK. How do I fix this? Is this a configuration error on the side of Moodle? (I see the same issue when testing with a local tool and with a local Moodle). Sorry for the repeated question and thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 10, 2022, 4:23 PM",
          "AuthorName": "Manuel Manso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5196221&course=5",
          "role": [
            "Picture of Manuel Manso"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 External tool - request to 'auth.php' returns 404",
          "Text": "Hi Manuel, What redirect URIs do you have set up in the Moodle tool configuration? The problem in the linked thread was down to a URI mismatch, so it's probably worth checking that. In your case, looking at that request, you'd need to have a redirect URI set to: https://lti-ri.imsglobal.org/lti/tools/3247/launches . It may also help to debug your Moodle site's mod/lti/auth.php code (adding breakpoints), so you can see exactly where the invalid request error is being thrown. Not sure if that'll help, but it gives you a few things to check. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2022, 11:07 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External tool - request to 'auth.php' returns 404",
          "Text": "Hi Jake, Indeed the issue was the redirect URI, I had misunderstood its meaning. But now it means I have configured both the Tool URL and the Redirect Uri(s) both to https://lti-ri.imsglobal.org/lti/tools/3247/launches so I don't currently understand what is/should be their difference. Thanks for the help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2022, 1:37 PM",
          "AuthorName": "Manuel Manso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5196221&course=5",
          "role": [
            "Picture of Manuel Manso"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External tool - request to 'auth.php' returns 404",
          "Text": "OpenId requires the redirect URIs be set up prior. If, during an auth request, the platform sees one that isn't set up (i.e. it isn't currently set in the tool configuration), then it'll error like you've seen. It's possible to have the tool url and redirect URI contain the same thing (in fact when using Moodle-to-Moodle LTI , this is the case, as is the case with some other tools too ). This is considered normal. It's also possible to have a redirect URI that is different to the tool url, and that's fine too (also normal).  Depending on how the tool decides to handle different deployments, clients, etc, it may wish for the platform to redirect to something other than the tool/launch URL , and that's ok. As long as it's a registered before the launch. Here's an example tool. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2022, 3:31 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External tool - request to 'auth.php' returns 404",
          "Text": "I have the same problem. You can see the detail here .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2023, 5:03 PM",
          "AuthorName": "wz z",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=250778&course=5",
          "role": [
            "Picture of wz z"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 425138,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425138",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 External Tool - request to 'auth.php' returns 404",
          "Text": "I'm currently in the process of developing an external tool provider, and I'm using Moodlecloud as a way to test my implementation, but I'm getting stuck during the OIDC login process. The request from Moodle to my tool provider works as expected, but the request to my Moodlecloud \"auth.php\" page returns a 404 and shows the following page: I've tried deleting and re-adding the external tool in my course, deleting and re-adding the tool configuration, and changing from using an RSA Key to using a keyset URL and back again, but I still run into the same issue. We have other tool providers using a similar LTI 1.3 implementation, and I can't see any significant differences between the requests/responses in those providers vs. what I see with my new one. Another interesting piece is that this exact same tool provider works correctly using the IMS LTI 1.3 Test Tool . I'm a bit stuck here, and I haven't been able to find anything on the forums outside of this. Any help is appreciated. Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1712214/Screen%20Shot%202021-07-28%20at%203.19.56%20PM.png"
          ],
          "Time": "Thursday, July 29, 2021, 5:34 AM",
          "AuthorName": "Chris Hooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4332823&course=5",
          "role": [
            "Picture of Chris Hooks"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 External Tool - request to 'auth.php' returns 404",
          "Text": "Hi Chris, Sorry to hear you're having trouble with this. There was an issue identified recently, relating to cross site cookies, which did result in a number of reports of failed launches for existing tool providers. This is an issue in Moodle's mod_lti implementation and was addressed in MDL-71887 , however, that code isn't yet in Moodle Cloud (the team is working on the upgrade to 3.11.1 as we speak). Would you be able to check your network requests tab (in browser dev tools), and look specifically for any set-cookie response headers coming from Moodle cloud? If we're seeing these, it's likely that issue. Because I've seen a few of these reports lately, it's the first thing I'm suggesting we check. If you're using chrome, you should be able to dump the network tab trace of that login attempt so we can take a look. Another thing to check is whether launching the tool in a new window (under \"Show more\" in the external tool settings) resolves the issue - this would also point to the cookie issue in embedded frame scenarios. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 30, 2021, 2:44 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External Tool - request to 'auth.php' returns 404",
          "Text": "Hi Jake, Thanks for the response! I did a bit more looking, and I think the cross-site cookie issue may be the culprit here. I generated a .HAR file which you can grab off my Google Drive here (it's too big to upload directly here). I'm using Chrome Version 92.0.4515.107, but this is also happening on Firefox 90.0.2. It looks like Chrome has moved all of their cross-site cookie messages out of the console, and instead put them elsewhere, so here's what Chrome says about them: One thing to note about the .HAR file: the website \"dev.cloud. scorm .com\" points to a local server on my own machine, but I still ran into the same issue when exposing this server with ngrok, so I don't think that's the issue. Oddly enough, I'm getting the same issue when launching in a new window as well. The only difference is that in the same section as my screenshot above, the request to `oidcLoginInitiation` isn't there, only the request to `auth.php`. Thanks for your help, and let me know if there's anything else I can do!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1712437/Screen%20Shot%202021-07-30%20at%208.34.26%20AM.png"
          ],
          "Time": "Friday, July 30, 2021, 10:21 PM",
          "AuthorName": "Chris Hooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4332823&course=5",
          "role": [
            "Picture of Chris Hooks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External Tool - request to 'auth.php' returns 404",
          "Text": "Hi Chris, Thanks for that info. I don't think we're looking at the same issue I mentioned, since that is characterised by a set-cookie header in the response from Moodle (due to a missing cookie header, not sent because of the cross-site nature of the request and the way browsers now handle this). This is also a problem that won't exist in the \"launch in new window\" scenario. You're seeing an \"invalid request\" 404, which is likely something else. The fact you mention a local server worries me, because the handshake won't work unless the two sites can resolve one another. When you used ngrok, did you make sure you had all the relevant tool URLs updated in the Moodle site's tool definition? I.e. updated to use the ngrok address? Importantly, the redirect URIs. If the redirect URL you're using ( https://dev.cloud.scorm.com/api/v2/dispatch/destinations/33d11ca0-f576-4f60-8226-bcbba3cab9ed/launches?externalConfig=2in8-cxrIgUtO_eoEUAxz9YZdtxB2ORY6JftWnNplzBCnHmpILZit-hFx3k2VsTp0c-cokxjXg ) doesn't match exactly with one defined in the tool config (including all params), then the request is deemed invalid an you'll see a 404. It's also possible that the RI platform doesn't check everything as strictly as Moodle core does, so that's something else to keep in mind. If you're still having trouble with Moodle cloud, I'd suggest testing this with a local Moodle (over ngrok), which will allow you to debug the auth.php code, and see exactly where the invalid request message is being generated from. Unfortunately, there's not a lot I can do to assist with this part. Hope that gives you a little more to go on for the moment. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 2, 2021, 10:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External Tool - request to 'auth.php' returns 404",
          "Text": "Hi Jake, Thanks for the response. I think you're right that something else is probably an issue here. When I did test with ngrok, I did change all the relevant URLs in the tool definition, but I still ran into the issue. It's possible I missed one when changing those URLs, so I'll have to go back and test again. Additionally, I tried testing this tool with Canvas, and it looks like I'm running into some issues with that platform as well at the same step (in this case it's \"Invalid redirect_url\"). So this issue is probably on my end, and I'll have to go back to the drawing board and try some other things. Thanks for your help! I'll update this thread once I figure out what the issue is with my LTI tool that isn't configured correctly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 2, 2021, 9:26 PM",
          "AuthorName": "Chris Hooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4332823&course=5",
          "role": [
            "Picture of Chris Hooks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External Tool - request to 'auth.php' returns 404",
          "Text": "Wanted to post another followup on this: the issue is definitely caused by a mismatch in the Redirection URI setup in the tool and what comes back as part of the OIDC login flow. However, the only difference in my example is the query string. The `externalConfig` parameter is encrypted, so it's going to change each time that redirect link is generated. Furthermore, it looks like Canvas will only check the query string parameters if they're provided. If no query string is provided, then the query string is ignored when comparing the values. Looking at the OIDC spec , it doesn't explicitly say that query parameters should be compared when checking for URI equivalence. However, I suppose that according to RFC-3986, the query string is considered part of a URI. So that would mean that it would have to be taken into account when ensuring that the URI \"MUST exactly match one of the Redirection URI values\nfor the Client\". So my question is: is there a way to configure tool to accept a wildcard value, or make that URI comparison a bit more lenient? If not, I'm sure I could find a solution in my tool provider, but it seems like this could easily be an issue with any other folks who encrypt their query string parameters. Let me know what your thoughts are on this, or if you've seen this before. As always, thanks for your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 4, 2021, 12:14 AM",
          "AuthorName": "Chris Hooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4332823&course=5",
          "role": [
            "Picture of Chris Hooks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External Tool - request to 'auth.php' returns 404",
          "Text": "Hi Chris, Yep, that's right. Moodle does require the entire URI, including query component, to match. We don't support wildcards. I've not come across any tools that use dynamic redirect URIs like this - most that I've seen tend to use fixed URIs. If you need to per request customisation, you could encode something in the state param, which will be sent back to the redirect URI, at which point you'll be able to use it. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 4, 2021, 10:54 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External Tool - request to 'auth.php' returns 404",
          "Text": "Sorry I've been too late but, in my LTI recient experience, at than point of the request 'auth.php' I think ` state params ` wouldn't help to solve the Chris's problem because they are not dynamic vars but we can use, in that way, the claim parameters  from the JWT (\"iss\", \" https://purl.imsglobal.org/spec/lti/claim/target_link_uri \",   \" https://purl.imsglobal.org/spec/lti/claim/resource_link \", ... ), that comes with de POST redirecting at the end of the Moodle's calling (some of them are sent and configured by our tool, application or LTI Server). It helped us.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 3, 2022, 7:41 PM",
          "AuthorName": "FRANCISCO JAVIER SANCHEZ BOTAS",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4949270&course=5",
          "role": [
            "Picture of FRANCISCO JAVIER SANCHEZ BOTAS"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External Tool - request to 'auth.php' returns 404",
          "Text": "I don't think JWT is applicable here since the failure occurs at the auth request endpoint in Moodle (mod/lti/auth.php). At that point in time, there is no JWT yet. See: https://www.imsglobal.org/spec/security/v1p1#step-2-authentication-request",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 7, 2022, 10:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External Tool - request to 'auth.php' returns 404",
          "Text": "I have the same problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2023, 5:01 PM",
          "AuthorName": "wz z",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=250778&course=5",
          "role": [
            "Picture of wz z"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445524,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445524",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Does the \"Published as LTI Tools\" include Grade Passback",
          "Text": "This is for LTI 1.3 / LTI Advantage. Does the Moodle Tool support Grade Passback to the Consumer?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 4, 2023, 8:07 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Does the \"Published as LTI Tools\" include Grade Passback",
          "Text": "Yes, it does. This is done via a scheduled task though, so cron needs to be running regularly. Grade sync is configurable on each published activity/course too, but default to 'enabled'. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 5, 2023, 9:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Does the \"Published as LTI Tools\" include Grade Passback",
          "Text": "I think it does..... just knowing it's there is certainly a help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 6, 2023, 3:14 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445335,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445335",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI grade sync and scales",
          "Text": "After realizing that we were unable to translate LTI-reported grades (e.g. from Google Assignments) correctly to a scaled grade in the gradebook, I went digging about and discovered that the scaling from the LTI-reported percentage (0 to 1 value) was being multiplied by the 'grade' column in the lti table - which is not the max grade for scaled activities , but rather the negative of its scale id number. I was able to rectify this with a bit of code in the servicelib.php file of the lti module, in the lti_update_grade function, catching any negative value for the $ltiinstance->grade value, and in those cases multiplying by the 'grademax' value from the grade_item table instead (pulled using the courseid, iteminstance values from $ltiinstance, and setting 'itemmodule' to lti). So far, this seems to work for me, but I'm almost certain it's not the best fix, and I'm wondering a) why this hasn't already been addressed in the core code, and b) if this needs to be reported as a bug to be implemented, or if my setup is somehow not catching and converting these values in a way that is already implemented. Thanks, kirk Code change to servicelib.php: $gradeval = $gradeval * floatval($ltiinstance->grade); changed to: if ($ltiinstance->grade < 0) { $gradeitem = $DB->get_record('grade_items', array( 'iteminstance' => $ltiinstance->id, 'courseid' => $ltiinstance->course, 'itemmodule' => LTI_ITEM_MODULE)); $maxgrade = $gradeitem->grademax; $gradeval = $gradeval * $maxgrade; } else { $gradeval = $gradeval * floatval($ltiinstance->grade); }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 29, 2023, 4:45 AM",
          "AuthorName": "Kirk Martinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2824490&course=5",
          "role": [
            "Picture of Kirk Martinson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI grade sync and scales",
          "Text": "Hi Kirk Thanks for the report. Firstly, I'm just going to ask that this post be moved over to the LTI forum. Hopefully Howard sees this. I'm pretty flat out with the release work at present, but as soon as I have a spare minute or two, I'll run through this code and see what's going on. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2023, 10:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI grade sync and scales",
          "Text": "I got up before Howard, so moving to the LTI forum for you Jake",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, March 30, 2023, 12:49 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI grade sync and scales",
          "Text": "Can I ask where this \"LTI Forum\" is - I can't find it.... cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 4, 2023, 8:11 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445453,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445453",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.0/1.1 pass Group ID details",
          "Text": "Hello team, I'm in the process of setting up LTI 1.0/1.1 and we need to include a Group ID number in the configuration. I'm wondering if it's possible to pass the \"Group ID number\" as a custom parameter, as well as any additional user profile fields. I want to mention that we've observed that LTI 1.0/1.1 only functions properly with the \"http\" method in the launch request when using the lms-lti npm package. If we use \"https\", we receive an invalid signature error.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1790460/moodle1.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1790460/moodle2.png?forcedownload=1"
          ],
          "Time": "Saturday, April 1, 2023, 9:58 PM",
          "AuthorName": "Ajith R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5542425&course=5",
          "role": [
            "Picture of Ajith R"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.0/1.1 pass Group ID details",
          "Text": "Hi Ajith, Firstly, I'd recommend rethinking the use of 1.0/1.1. These are deprecated (have been for ages) and are not recommended for use any more. You should be using LTI 1.3 in 2023. Re: the question about substitution params: No, we don't support that group id number field. It seem you've found Moodle.Person.userGroupIds which is the only group-related info that can be sent over via substitution params. In 1.3, there is the course groups service for syncing group information but that's still in development at present - see https://tracker.moodle.org/browse/MDL-69233 Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 3, 2023, 10:44 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.0/1.1 pass Group ID details",
          "Text": "Thanks for the response. Do have any idea about this issue \"I want to mention that we've observed that LTI 1.0/1.1 only functions properly with the \"http\" method in the launch request when using the lms-lti npm package. If we use \"https\", we receive an invalid signature error.\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 3, 2023, 1:25 PM",
          "AuthorName": "Ajith R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5542425&course=5",
          "role": [
            "Picture of Ajith R"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445275,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445275",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI randomly opening in embedded view when set to open in new window.",
          "Text": "Hi, I am using Moodle 3.11.10+ and Edwiser Card course format. I have an issue LTI randomly opening in embedded view when set to new window. The LTI which is set to open in new window and all the links in developer view confirm this is the case. After about a week of working normally the LTI opens in embedded view. I have to reset the LTI by going into the LTI settings. Selecting Embedded View and save then go back in and reselect New Window. Any ideas what is going on please and how to fix this issue? Many thanks Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2023, 5:28 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI randomly opening in embedded view when set to open in new window.",
          "Text": "Hi Gareth, I've not seen this behaviour personally, but I'm also not using tools for long periods in 'real' situations. To help us track it down, are you able to provide the following information? What version of LTI is this relating to? 1.1 or 1.3? How is the tool configured? E.g. is it a pre-configured tool defined at site admin level, a tool defined at course level or, in the case of 1.1 tools, a tool defined directly in the activity settings? How is the tool used? E.g. Do you select the tool from the activity chooser directly, or do you select new external tool, then pick it there. Basically, it would help to have a description of how you set this up and use it, because there are several different ways to do it, and I've seen some issues in the past relating to course level tools not picking up the site level defaults (not saying it's that, but the above certainly helps hone in on the exact situation). Thanks, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2023, 9:13 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI randomly opening in embedded view when set to open in new window.",
          "Text": "Hi Jake, thanks for your prompt reply. We are using LTI 1.3 We have pre-configured to open in new window as default. We then added the external tool through the activity picker. The external tool is used to launching a test remote invigilation tool. We set this to open on new window too. In the page source all references to the LTI link are set to window.open. Many thanks Gareth",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1790163/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1790163/image%20%281%29.png"
          ],
          "Time": "Thursday, March 30, 2023, 4:41 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI randomly opening in embedded view when set to open in new window.",
          "Text": "Thanks for the info, Gareth. That all looks good to me (nothing jumps out at least). I know we've had at least one issue with the way this works in the past, so it would also be great to know what Moodle version you're on (sorry, should have asked above). I'll try to explain the issue below in case it's relevant. The issue was that new window behavior was only working when clicking the activity link on the course home (i.e. where window.open js is present). If you visited mod/lti/view.php page from a link you'd created yourself (and teachers have been known to copy these links around to and fro), then the new window launch didn't work. Of course, this should work either way, and is vital for many tools. This was a bug that came along with the introduction of the LTI 1.3 feature support, iirc (so some time ago now). We patched it in 4.1, but still need to backport that fix to other versions (4.0 the only one in general support now). See MDL-77004 for details of that backport. If you're not on 4.1 or newer, then that bug is still present and might explain what you're seeing. Of course, you mention that window.open is present in the src, so that may not be the case. The only thing I can think of is that perhaps the js hasn't loaded and that the browser is just following the link, but that's just a guess at this stage. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2023, 5:27 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI randomly opening in embedded view when set to open in new window.",
          "Text": "Thanks for your thoughts on this. We are currently on 3.11.10+ but looking to upgrade in the future.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2023, 6:11 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445216,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445216",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Support LTI 1.3 in a mobile app",
          "Text": "Hello everyone, I recently discovered LTI and found it a bit challenging to get started, especially regarding the Launch Flow. Here is my use case. I am developing a mobile app, where the user can play certain games and unlock educational content. So, the user launches the app, from his phone, logs in using his moodle credentials and plays the game. My understanding of Moodle (or LMS platforms in general) is that the preferred way is to create an External Tool and communicate using LTI 1.3. So, as I imagine, the app would have a \"Login with Moodle\" button that starts the oAUTH dance to authenticate the user and the app receives the JWT. Then, the app would be able to retrieve user information, updates grades, etc. However, since the app still needs a custom backend (e.g. for analytics, and other game related data). The JWT token would be sent to the server with each request, who will then perform LTI specific API calls. When researching about LTI, it seems that the most common use case is that the user launches the external tool from the LMS itself (LTI Launch Flow?). Here, however, I need that the flow gets initiated from a third-party, since it is a mobile app, which would be via oAUTH 2 or OpenID. Do I understand the specification correctly or is the \"launch from third-party directly\" something that is not supported when using LTI? Ralph",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 24, 2023, 5:50 PM",
          "AuthorName": "Raoul Johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5528193&course=5",
          "role": [
            "Picture of Raoul Johnson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Support LTI 1.3 in a mobile app",
          "Text": "Hi Ralph, That is indeed the most common use case; the user begins in an education platform, like Moodle, and launches into an external tool (or views embedded content - but the same launch process applies here). That process is already a third party initiated login in the OpenId sense, since the tool depends on the identity provided by the platform. Here, the platform (the OP ) is the third party where login is initiated, and it redirects to the the tool's (the RP) login initiation endpoint to kick off the process. You can read more about this in the 1EdTech security framework spec spec at https://imsglobal.org/spec/security/v1p1#openid_connect_launch_flow . i know that's not exactly what you're talking about when you say \"third party\" of course, but it does lay out the launch process and technology quite nicely in that documentation (in case you hadn't seen that yet). I've not seen a mobile app which depends on a platform / LMS quite like you're describing, but it stands to reason that it's possible. It sounds like you only want people to launch the app via, well, the app itself. You'd perhaps use the same launch process, albeit without the first step, (the one where the platform calls the RP's login initiation endpoint). This is no longer third party now, at least in the OIDC sense. Instead - and I speculate here as I've not encountered this in the wild - you'd just make the authentication request directly to the Platform/OP from your app (like you say, via something like \"Login with Moodle\" or the like). Tapping this this would basically do the OIDC auth using the registered  auth endpoint for the platform (of course the user would need to be auth'd with Moodle in this case) and once the id_token is returned from Moodle to the registered redirect URI, you're then good to go. You're going to have to link your tool to the LMS via a series of web endpoints per OAuth2/OIDC specs anyway (as would any other tool) so of course all these endpoints will be known ahead of time. It's certainly an interesting case. I know LTI 1.3 documentation has always said it's mobile ready (e.g. https://imsglobal.org/why-platforms-and-tools-should-adopt-lti-13 ), but this is the first time I'm seeing something like this personally. Of course there may be many others out there... Anyway, hope some of that helps. Let us know if you find any other information on the topic. I'll be interested to see how this progresses. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2023, 4:29 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support LTI 1.3 in a mobile app",
          "Text": "Out of curiosity, I raised the native mobile problem with a colleague who is a member of the LTI working group and who works on standards, etc. and he raised a very good point: Without a normal resource link launch (from the LMS), we don't have the context information we need (i.e. the location of the course, grades, etc). Essentially, we need that so we can talk to the platform/LMS via the services. So, while he was keen to see something like this supported, his opinion was that it still needs work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 29, 2023, 8:49 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support LTI 1.3 in a mobile app",
          "Text": "Hi Jake, Thanks a lot for your answer. It makes all sense. I think for the moment, the easiest solution will be to interface with the Moodle REST API directly, similarly to what the Moodle mobile app is doing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2023, 12:03 AM",
          "AuthorName": "Raoul Johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5528193&course=5",
          "role": [
            "Picture of Raoul Johnson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support LTI 1.3 in a mobile app",
          "Text": "Yes, I think that's the most pragmatic approach for now. Hopefully, someday soon, we'll see something formal from 1EdTech around this use case.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2023, 9:06 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 444883,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444883",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Moodle as Tool",
          "Text": "Hello, I want to have some help. I have my Moodle installation as Tool, and everything is set up, but when I try to add the resources from the D2L platform, I get this error. My Moodle version is 4.0 The Platform is registered in the Moodle Tool. Deployment is also created. And the Tool is registered in the Platform with links. Registration of Tool, Deployment is also completed. Everything seems to be correct, but the error occurs using any type of link in D2L (Deep Linking Quicklink or DeepLinking Insert Stuff). If I create a resource in D2L using the Basic Launch type of link the user will have access to the Moodle tool is able to complete the activity. I am using SCORM activities to test it. Any help is appreciated it.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1788262/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1788262/image%20%282%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1788262/image%20%283%29.png"
          ],
          "Time": "Wednesday, March 15, 2023, 1:29 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle as Tool",
          "Text": "Hi Jan, I'm assuming you're seeing that error during attempts to select content via deep linking, right? Basically, you're hitting code that deals with a normal resource link launch, not a deep linking launch (and in such cases the resourcelink.id property is required and hence the error). Have you configured the deep linking URL properly in D2L? This should be enrol/lti/launch_deeplink.php. Having no access to D2L I can't tell you where that would be unfortunately. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 15, 2023, 9:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as Tool",
          "Text": "Thanks for your reply. Yes, I am getting the error trying to select content via Deep Linking. D2L offers two options, and both options are getting the same error. I've been playing with the configuration, this is the one that allows me to open Basic Links. Sharing my configuration. Configuration in D2L Configuration Details Configuration in Moodle If you see any misconfiguration, please let me know about it. Thank You.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1788378/image%20%282%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1788378/image%20%285%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1788378/image%20%284%29.png"
          ],
          "Time": "Wednesday, March 15, 2023, 10:40 PM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as Tool",
          "Text": "Hi Jan, Like I said, I'm not versed in the inner workings of D2L, having no access to that myself. Surely, though, that platform would provide a means to select content using deep linking, and permit specifying the specific deep link launch URL . A quick Google leads me to these docs which may be of some help. Really, the important thing to note when configuring any of this is that launch_deeplink.php is used for deep linking launches. That URL must also be registered as a redirect URI. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 16, 2023, 9:19 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as Tool",
          "Text": "Thanks for your reply, Jake. About the article, you attached. There are some assumptions in it. - Your tool provider supports deep linking? - Since there is an LTI 1.3 communication registered, we can say yes for Moodle. Right? - Support of the same extensions? - Same as before. With any configuration on D2L, I continue getting errors. Is there any collaboration on how all these parameters need to be set between platforms when Moodle is the Tool? I asking it before I also have access to a BB environment I can test.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 17, 2023, 12:40 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as Tool",
          "Text": "It sounds like they call deep linking an extension in that article. Anyway, yes, Moodle certainly does support this (in fact you can't certify for LTI Advantage Complete without it. It's part of what makes up LTI Advantage). Regarding the parameters, I know of at least one person who has used D2L as the platform to launch into Moodle. Perhaps they ( https://moodle.org/user/view.php?id=2445118 ), or others, will be able to share their D2L configuration here. I have nothing I can share. I've only used this with the open source platforms (Moodle, Canvas) personally.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 17, 2023, 12:46 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as Tool",
          "Text": "Thanks for your reply, Jake. I do have access to a Canva installation I can test. How could I get the configuration you tested and try it. Thanks again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 19, 2023, 1:16 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as Tool",
          "Text": "Hi Jan, It's been some time since I last tested Canvas but I essentially just created the docker container and then followed their documentation on how to configure tools. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 21, 2023, 10:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as Tool",
          "Text": "Hello Jake, Thanks for your help. Finally, I found a solution to the D2L integration. As you mentioned earlier, \"Really, the important thing to note when configuring any of this is that launch_deeplink.php is used for deep linking launches. That URL must also be registered as a redirect URI.\" - after many attempts, I was able to find the link and the right URLs. Now I have a couple of other questions. After all the integration, add the activities after the content selection. Based on the image I am sharing. 1. User does not have any role on Course. However, the log is saying that the user received a role. Role id 5 is the Student role. 2. Because no role is assigned, the user is not present in the Grades Report. I read this post https://tracker.moodle.org/browse/ MDL-67851 but the fact that the log is showing the role assignation confuses me. 3. About the grades. No grade is received unless this command is run php admin/tool/task/cli/schedule_task.php --execute=\"\\enrol_lti\\local\\ltiadvantage\\task\\sync_grades\" Is there any other way to automate the grades to be sent? Thank You very much",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1789831/image%20%281%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1789831/image%20%282%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1789831/image%20%283%29.png"
          ],
          "Time": "Tuesday, March 28, 2023, 1:02 PM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as Tool",
          "Text": "Hi Jan, That's good news. Regarding your additional questions: Re: role assignment, that's expected, and normal. The role is assigned at the activity level. You need to see role assignments at the activity level if you wish to see the student role (but rest assured, the role is being properly assigned) You're right about that. The grade book won't report those users which have roles assigned at the activity context , it would seem (I've checked as far back as 3.11 , and also on master). Feel free to report a bug report for that one to tracker.moodle.org (check whether it's been reported before though, of course) That's the scheduled task which should be automatically run as part of Moodle's background cron run. You can see the docs for how to set just how often this task runs, but you'll certainly need to make sure cron is running first. See https://docs.moodle.org/401/en/Scheduled_tasks and https://docs.moodle.org/401/en/Cron Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 28, 2023, 2:24 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 444968,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444968",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "MATLAB Grader LTI 1.3 response problems",
          "Text": "For over\na week I try to get MATLab Grader work probably in Moodle over LTI. The tool\nsetup was straight forward and there’s no problem to integrate MATLab Grader into\na course, so the communication to the Mathwork servers seem to work. But when\nstudents submit an answer in MATLAB Grader they get the following error message: Your\ngrade could not be recorded. The gradebook could not be reached. Try\nresubmitting in a few minutes. If the problem persists, contact the instructor. The\nMoodle setup is a LAMP Setup with ubuntu 20.4. and Moodle 3.11.12. The same\nerror occurs with another LTI tool MyOpenMath, Grades could not saved in the\nMoodle Grade Book. So I guess it is an general problem with the LTI response. From the\napache error log I get this information apended in the text file. Any help\nwould be highly appreciated. Kind regards Olli",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 17, 2023, 5:06 PM",
          "AuthorName": "Olliver Lüppen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861644&course=5",
          "role": [
            "Picture of Olliver Lüppen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: MATLAB Grader LTI 1.3 response problems",
          "Text": "Hi Olli, Those error logs suggest that https://www.myopenmath.com/lti/jwks.php is unreachable by Moodle. So, I'd suggest trying to work out why that is. This isn't used during a launch, but will be used when the tool calls services, which likely explains why you're able to integrate the grader into the course, but unable to receive grades. We've recently patched a proxy awareness issue relating to just this in MDL-73847 , which might be of some interest (4.0+ only I'm afraid, so no support in 3.11). Certainly we expect Moodle to be able to reach the tool JWKS as it needs this to verify messages. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 21, 2023, 11:18 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: MATLAB Grader LTI 1.3 response problems",
          "Text": "Hi Jake, thanks for the quick reply from an older error message i also get an error message for OpenSSL: PHP Warning: file_get_contents(): SSL operation failed with code 1. OpenSSL Error messages:\\nerror:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed in /var/www/html/moodle-3-11-8/mod/lti/locallib.php on line 1366",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 21, 2023, 2:43 PM",
          "AuthorName": "Olliver Lüppen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861644&course=5",
          "role": [
            "Picture of Olliver Lüppen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: MATLAB Grader LTI 1.3 response problems",
          "Text": "Yes, I'd be focused on working out why those certs errors occur. Perhaps \"error:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed\" is what you need to look at. There seem to be a few posts kicking around about that specific error and what it means. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 22, 2023, 10:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: MATLAB Grader LTI 1.3 response problems",
          "Text": "Hi Jake, it seems that i found a solution for my problem there were missing links to certificates in our openssl default folder. I checked the folder with: php -r\n\"print_r(openssl_get_cert_locations()['default_cert_file']);\" the result showed /usr/local/ssl/ on other systems with a working MatLab Grader the code pointed to the folder /usr/lib/ssl/ . The solution was to copy the content from /usr/lib/ssl/ to /usr/local/ssl/. Cheers Olli",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2023, 9:55 PM",
          "AuthorName": "Olliver Lüppen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861644&course=5",
          "role": [
            "Picture of Olliver Lüppen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 436180,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436180",
      "NoOfResponses": 17,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 and linkedIn learning",
          "Text": "Hi all, I wanted to see if anyone has had a play with LTI 1.3 connecting it to linkedIn learning. their documentation suggests far greater transfer of data and functionality: Deep Linking: allows course creators to easily select and configure the content displayed to learners. For example, creators can configure a link that will launch a specific segment from a video, rather than displaying the full video and asking students to manually find the segment, saving time for both teachers and students. Assignments and Grades: syncs grades, progress, and comments from multiple sources into an LMS platform’s gradebook, reducing faculty effort and any potential errors. Names and Roles Provisioning: securely shares course roster and enrolment information. This enables admins and instructors to access reports on student activity within the tool, such as which enrolled students have or have not started an activity. Link to documentation I met with one of linkedin learning's (LIL) technical consultants and they were unable to show me how this works in practice connected to Moodle.  They suggested that talk to someone at Moodle. Has anyone else been playing with this?  have you managed to do any any of things outlined above?  All i have managed is to deep link to a course.  I can't seem to get activity completion to mark as complete on when sign posting to content on LIL,  I cannot see what students are watching, track progress  on Moodle or LIL. It is probably me, but i cannot see any benefits of this version of LTI over the previous version.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 8, 2022, 4:18 PM",
          "AuthorName": "Edward Bolton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1800595&course=5",
          "role": [
            "Picture of Edward Bolton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "We are also trying to achieve this. It appears that Moodle isn't accepting the various completion information from LiL. The only options to verify completion tracking is to view the resource or achieve a grade, however the videos don't ask any questions and a grade should be based on viewing completion but I don't think Moodle can get that information. I tried to download the AICC package but it I don't know how to upload that .zip file either.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 9, 2022, 9:28 PM",
          "AuthorName": "Emily Fetick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3397589&course=5",
          "role": [
            "Picture of Emily Fetick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "We reached out to LiL support and asked this question and this was their response 1. Is it required to turn on completion tracking in Moodle in order to see course progress in the gradebook? Turning on the completion tracking setting in Moodle triggers a set of prompts for using anything in Moodle with makes using Moodle more difficult for anyone whether or not they are leveraging LiL or not. Is the current expected behavior to see 0% or 100% completion vs a progress score of actual time/percentage progress? We as LinkedIn Learning send (course progress), (course completion), and (video completion) in our statements to the LMS and it is then up to the LMS to populate this within the gradebook. We have recently found that Moodle is not accepting any of these completion or progress statements. If you are interested in leveraging this feature we would encourage you to raise this scenario within the Moodle discussion board as they are actively investigating these requests.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 9, 2022, 9:36 PM",
          "AuthorName": "Emily Fetick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3397589&course=5",
          "role": [
            "Picture of Emily Fetick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hi Emily, This is the feedback that I have got from LIL that there needs to be some development on the Moodle side to manage the data. The question is who does this need to be raised with? So far you are the only other person I know looking into this",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 12, 2022, 6:09 PM",
          "AuthorName": "Edward Bolton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1800595&course=5",
          "role": [
            "Picture of Edward Bolton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "I am guessing someone who works directly with Moodle and can modify the code within Moodle. Maybe Tim Hunt can offer insight on how we can raise this issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 12, 2022, 10:16 PM",
          "AuthorName": "Emily Fetick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3397589&course=5",
          "role": [
            "Picture of Emily Fetick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "I created a ticket for Moodle. It helps if people vote so that maybe someone from Moodle HQ can address this https://tracker.moodle.org/browse/MDL-75725",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 13, 2022, 2:09 AM",
          "AuthorName": "Emily Fetick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3397589&course=5",
          "role": [
            "Picture of Emily Fetick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hi Emily, Thanks for doing this. Just had a chat with my developer and he has found that LTI advantage is in Moodle 4 code but not in Moodle 3.9. I have a dev environment of Moodle 4 which i will now test with LiL and let you know if I can utilise the full functionality.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 13, 2022, 4:35 PM",
          "AuthorName": "Edward Bolton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1800595&course=5",
          "role": [
            "Picture of Edward Bolton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hi Edward, Just to clarify, Moodle has supported LTI Advantage (as an LTI Advantage certified platform ) since Moodle v3.9. You can see the certification history here: https://site.imsglobal.org/certifications/moodle . Moodle v4.0 only adds LTI Advantage support to the Moodle LTI tool , which is something completely different to what's being discussed here. For consumption of tools (like LIL) over LTI Advantage, Moodle is acting as a platform . Hope that helps , Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 14, 2022, 11:30 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hi All, Here's a quick overview of how this works in Moodle. This should give you a good idea of what is supported and how to set it up. Here's what an LTI tool might send us when posting a score (just a made up example to highlight the relevant fields): { \"userId\": \"123\", \"scoreGiven\": \"67\", \"scoreMaximum\": \"100\", \"gradingProgress\": \"FullyGraded\", \"activityProgress\": \"Completed\", \"comment\": \"Some optional feedback for the grade book\", } Note in particular the \"activityProgress\" field. Then, the external tool module (via the grade service) supports the following: Grade\nupdates (E.g. 67/100, as taken from the scoreGiven/scoreMaximum). This\nalso requires that gradingProgress is set to \"FullyGraded\", otherwise\nthe grade update won't be made. Feedback comments. If the posted\nscore includes the 'comment' field, we'll add that as feedback\nalongside the grade. This is visible in the gradebook. Note\nthat I've not mentioned anything about completion support here. Since\nMoodle has its own completion tracking system, blindly taking the\ncompletion value from the \"activityProgress\" isn't currently possible.\nWe certainly do support activity completion; it'll be based on our own\ncompletion system though. The instructor has to set up the relevant rules\nfirst, just like they would for any other activity. E.g. If I set up\nthe external tool activity instance with automatic completion, and\nrequire a grade to pass of say 70/100, then the score posted from any\nexternal system will need to be 70/100 or greater (or the scaled\nequivalent) for the activity to be marked complete for the student in\nMoodle. The instructor can then see the completion status via the\nactivity completion report, just as they would for any other activity in\nthe course. I hope that helps to clarify some of this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 14, 2022, 11:22 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hello Jake, My name is Mike, and I'm a technical consultant at LinkedIn. First, thank you for sharing your knowledge on this subject as it tends to come up often. Considering we have quite a few shared clients having issues with viewing completions in Moodle, I think it could be helpful to gain a little more context on the condition settings. When editing a course and I expand Activity Completion, would LTI completions be tracked if I select \"Show activity as complete when conditions are met\"? If so, would the checkboxes below it impact the behavior in any way that we should consider noting? Below is a screenshot of the highlighted check boxes I'm referring to: The goal is avoid any settings that would cause friction for completions to be ingested. Right now, since neither the score (grade) or completion status is being reflected in Moodle when they are complete, we are struggling to find a reason why. I feel like selecting the \"Students can manually mark the activity as completed\" option would remove the automation reporting benefit of the tool altogether. Unless the completion status itself cannot be automated in Moodle? I say that, because of your statement \"Since Moodle has its own completion tracking system, blindly taking the completion value from the \"activityProgress\" isn't currently possible\". If an action is needed by either the Student or Instructor, please let me know so we can be sure our documentation is aligned with the expectations. Thank you, Mike",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1769246/image.png"
          ],
          "Time": "Monday, October 17, 2022, 10:45 PM",
          "AuthorName": "Mike Reed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5220663&course=5",
          "role": [
            "Picture of Mike Reed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hi MIke, Unless the completion status itself cannot be automated in Moodle? I say that, because of your statement \"Since Moodle has its own completion tracking system, blindly taking the completion value from the \"activityProgress\" isn't currently possible\". If an action is needed by either the Student or Instructor, please let me know so we can be sure our documentation is aligned with the expectations. Completion status can be automated in Moodle depending on the settings of the teacher in the course. More information on this subject can be found here: https://docs.moodle.org/400/en/Course_completion Just as a note: the value that is being send back through the LTI is the value in the Gradebook in Course Total",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 17, 2022, 11:51 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hi Mike, Thanks for the post. Yes, I agree it would be good to have clear documentation on this integration. With respect to some of your questions: Would LTI completions be tracked if I select \"Show activity as complete when conditions are met\"? Yes, that's right. Teachers need to select this for automatic completion tracking to work. If so, would the checkboxes below it impact the behavior in any way that we should consider noting? Those check boxes are additive. So, selecting \"Must view\", \"Must receive a grade\" and \"Must receive a passing grade\" means that students must achieve all three before receiving \"Complete\" completion status. Some notes on the options: The \"Must view\" option is satisfied when the students launch the activity (launch into the tool from the course resource link), so that's not particularly helpful when we're dealing with graded items and can be skipped/omitted. The \"Must receive a grade\" and \"Must receive a passing grade\" options are what most people would probably use for this. Those options respectively are satisfied when a student receives any grade, and when a student receives a passing grade. The 'passing grade' is determined by the \"Grade to pass\" setting in the \"Grade\" section of the activity settings form. So, it's up to the teacher to set that to something. Completion checks are then triggered by a grade change in Moodle. In the LTI case, this happens when Moodle receives a grade from the tool. For example, I could configure my external tool instance in the following way: Grade to pass = 70 (in the activity grade settings) Completion settings: Show activity as complete when conditions are met Student must receive a grade to complete this activity Student must receive a passing grade to complete this activity Then, when the student completes the external tool activity, and the grade is returned to Moodle, the completion checks would be run. If the student received a 70 or greater (0.7 or higher in LTI terms), then they'd be marked as \"Complete\". Otherwise, they'd still be marked as \"Incomplete\" because they've not satisfied all requirements for completion. I feel like selecting the \"Students can manually mark the activity as\ncompleted\" option would remove the automation reporting benefit of the\ntool altogether. Yep, that's right. Manual completion isn't really something I'd use here when we want this to be triggered by a grade. Unless the completion status itself cannot be automated in Moodle? I say\nthat, because of your statement \"Since Moodle has its own completion\ntracking system, blindly taking the completion value from the\n\"activityProgress\" isn't currently possible\". If an action is needed by\neither the Student or Instructor, please let me know so we can be sure\nour documentation is aligned with the expectations. Completion can definitely be automated, as in the example above. The point I was trying to make was that the \"activityProgress\" value passed to Moodle by tools (part of LTI's grade posting data), won't be used in determining completion for the student. Moodle will determine completion based on the conditions set on the activity - and as per the example above, this will likely mean that it'll trigger based on either receipt of a grade, or receipt of a passing grade. Right now, since neither the score (grade) or completion status is being\nreflected in Moodle when they are complete, we are struggling to find a\nreason why. This is an important point and one that I think should probably be the focus of the discussion. Without receipt of grades, Moodle won't have a nice way to work out activity completion. Completion would almost certainly be based upon a grade in the LTI case. Just for context, when a grade is received for an activity in Moodle (and the External tool is an activity), you'll see the grade reported in the course gradebook - in the respective student row/column (the column for the activity in question). You don't see this in the activity in the case of the external tool activity. So, I'd be double checking the course gradebook to be certain you're not receiving the grade. Troubleshooting a grade post problem isn't something trivial and I'd want to be sure we're in that situation before pursuing it. Hope that all makes sense (if not, just shout out). Let us know how you go regarding the grade sync too. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 18, 2022, 2:35 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hello Jake, Thank you so much for the detailed response! This information is allowing me to understand the process more and more. In LIL, when a course is completed, we are triggering an event to pass the completion status back. We are also passing a scoreGiven along with the Status (see below): {request={com.linkedin.learning.ltiadvantage.PublishScoreRequest={scoreGiven=100, lastModifiedAt=1666098520729, userId=3, scoreMaximum=100, status=COMPLETED}}, clientId=N9N2EdciGS2cVx0, lineItemUrl= https://levelup4life.org/learn/mod/lti/services.php/13/lineitems/36/lineitem?type_id=3 , oauth2TokenRetrievalUrl= https://levelup4life.org/learn/mod/lti/token.php } However, when we check our logs in LIL, it would appear it is resulting in the following error: com.linkedin.learningenterprise.clients.GaapPollingClient$GaapRemoteInvocationException: Gaap task for script learning-ltiadvantage-generic failed for task id: [ONLINE-d6d6ea6c-5a4e-4232-8567-3ea36a071c3a] error type: [EXCEPTION] error code: [400] error details: [Http returned: 400 - application/json - No handler found for /13/lineitems/36/lineitem application/json - base64EncodedContent={ \"status\": 400, \"reason\": \"No handler found for /13/lineitems/36/lineitem application/json\", \"request\": { \"method\": \"POST\", \"url\": \"/learn/mod/lti/services.php/13/lineitems/36/lineitem?type_id=3/scores\", \"contentType\": \"application/json\" } }] I did some digging and found this article https://moodle.org/mod/forum/discuss.php?d=391538 , which I saw you provided a response pointing to this article https://moodle.org/mod/forum/discuss.php?d=423618#p1707467 . Do we think this is related? I ask, because I'm working with an engineer on our end to further look into these completion issues we seem to be encountering and I'm trying to understand the process more. I can provide further information as to which settings were used in the course if that is helpful. The above error is impacting a lot of shared clients of ours and would love a Moodle perspective on it Thank you, Mike",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, October 18, 2022, 10:36 PM",
          "AuthorName": "Mike Reed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5220663&course=5",
          "role": [
            "Picture of Mike Reed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hi Mike, I'd hazard a guess and say it's something as simple as that content-type header you're using. That needs to be ' application/vnd.ims.lis.v1.score+json ' per the AGS Spec. Moodle validates this strictly. You can see the OpenAPI specs here: https://www.imsglobal.org/spec/lti-ags/v2p0/openapi#/default/Scores.POST Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 19, 2022, 9:41 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hey Jake, I know it's been a while since we last connected on this. Our engineering team confirmed the following: These are the solutions we have tried for the reporting issue: 1. Changing content-type header from application/json to application/vnd.ims.lis.v1.score+json for moodle. PR 1 2. Ensuring we append /scores to the line item path, not just add it to the end of the configured url. PR 7 So far it appears nothing has been successful. They asked that I reach out to you again to see if you had any thoughts?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 22, 2023, 3:58 AM",
          "AuthorName": "Mike Reed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5220663&course=5",
          "role": [
            "Picture of Mike Reed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "Hi Mike, Sorry to hear you're still having trouble. Essentially, I'm assuming that you've configured the Moodle site properly, and have received the lineitem URL in the resource link request (i.e. that's where the base URL you're using is coming from). With that assumption out of the way - meaning the activity will accept grades via the service -  what you've done is exactly what I would have done. E.g. ContentType must be 'application/vnd.ims.lis.v1.score+json' The URL to POST scores to will be something like the following (i.e. the /scores appended to the path, before the params) YOURSITE/mod/lti/services.php/2/lineitems/85/lineitem/scores?type_id=32 What's the exact error you're hitting when you now POST using the above format? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 22, 2023, 10:30 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and linkedIn learning",
          "Text": "I wanted to post a reply to my original post to publish my findings of all the feedback and testing of the LTI 1.3 plugin based on what LIL says it should do: Deep Linking: allows course creators to easily select and configure the content displayed to learners. For example, creators can configure a link that will launch a specific segment from a video, rather than displaying the full video and asking students to manually find the segment, saving time for both teachers and students. [Deep linking works in Moodle but the concept of selecting segments is misleading. My understanding of this terminology is a 'segment'  is a part of a video or a section of a course.  A tutor can select a single video or a whole course nothing in between.  Presently if you want to a curated set of videos each need their own LTI link ] Assignments and Grades: syncs grades, progress, and comments from multiple sources into an LMS platform’s gradebook, reducing faculty effort and any potential errors. [what this means in practice is that once all the course is watched LIL passes back completion status.  There are no \"grades\" passed back. Quizzes within LIL content are not displayed through the LTI tool and therefore no scores from these. Moodle Gradebook will either display \"-\" for anything under 100 percent completion and 100 for fully complete.  Activity completion works in the same way nothing or 100.  There is therefore no real way to track the progress of students.  There are no place for comments so these are not passed back to Moodle ]. Names and Roles Provisioning: securely shares course roster and enrolment information. This enables admins and instructors to access reports on student activity within the tool, such as which enrolled students have or have not started an activity. [ What this means is that tutors on a course are given curator status that is it.  There is no tracking of students' progress, no student rosters or any reports.  LIL say they would update they help materials ] Finally we were using the LTI1 plugin as a means to give learners access to LinkedIn Learning (authenticate them to the home page).  Because LTI 1.3 only does deep linking this is no longer possible.  I have made a request for this feature, but may not be developed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 9, 2022, 5:12 PM",
          "AuthorName": "Edward Bolton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1800595&course=5",
          "role": [
            "Picture of Edward Bolton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434216,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434216",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Report of LTI Usage",
          "Text": "Fellow Moodle Admins, If you are in Site Administration > Plugins > External Tool > Manage Tools,  you are presented with a list of your Tools. If the tool is only used in a single course, there is a little mortar board icon, you can click which will take you to the course it is being used in.  But if the tool is being used in multiple classes, while it will display \"This tool is being used ## times\", the only way I have found to get a list of where it is being used is to pop some SQL in and pull data out of the mdl_lti table. Is there a clean in the interface way to see a list of all the courses (and their instructors) who are using a specific LTI tool?  It would make it easier to know who to communicate with when you need to upgrade the tool. Thanks for any insight! Scott",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 5, 2022, 4:34 AM",
          "AuthorName": "Scott Hardwick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120802&course=5",
          "role": [
            "Picture of Scott Hardwick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Report of LTI Usage",
          "Text": "Hi Scott, There is a subtle difference between the mortar board and the \"used x times\" text. The former indicates a course-level tool (i.e. it's been defined in a course), whereas the latter indicates a site-level tool which has just been used in 'x' number of courses. As far as listing, that's not something we have at present, but it certainly would be nice to see it in future. I'm certain other platforms already provide similar mechanisms. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 19, 2022, 11:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Report of LTI Usage",
          "Text": "Can you please provide your query on the LTI table? I could use some sample SQL Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, March 16, 2023, 3:21 AM",
          "AuthorName": "John Love",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1574769&course=5",
          "role": [
            "Picture of John Love"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 444541,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444541",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI provider (1.3)| feature request notification when Empty service url",
          "Text": "Moodle versions: 4.x LTI Provider: 1.3/advantage Background: In 2021 I posted an issue with LTI 1.1/1.2 Empty service url ( https://moodle.org/mod/forum/discuss.php?d=430048 ) . Cause: We found out that this is due to a reset option on the LTI consumer side. This particular LMS implemented that the LIS_result_sourced_ids will be send without a the serviceurl because they don't expect a result back. Moodle vs Moodle As posted in https://moodle.org/mod/forum/discuss.php?d=430048 I could not replicate this issue from Moodle - Moodle. The problem we see: is that when the LMS consumer is wrongly configured this is the reason why a grade is not being received. What we suggest: that when the serviceurl is empty, when the student goes into the course a notification will appear. That due to configuration, there will be no result send back. and they should contact their organisation. -- Are you having this issue as well? please vote on my tracker ( https://tracker.moodle.org/browse/MDL-77476 ) . Do you think there is a better solutions, please let  me know!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 3, 2023, 8:03 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI provider (1.3)| feature request notification when Empty service url",
          "Text": "I think something like this would be very handy. We'll probably have to keep track of that (the mismatch between tool configuration and launchdata claims) and then present the relevant notice to the user in the activity itself, once the enrolment code redirects there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2023, 2:54 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 443909,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=443909",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Unauthorized request while syncing Grades",
          "Text": "Hello team, some help would be realy appreciated! I am developing an external tool, using pylti1p3 ( https://github.com/dmitry-viskov/pylti1.3 ). I have managed to launch the tool from the Moodle (3.11 and 4.1), but when the tool tries to read the Grades of the activity I get an \"Unauthorized request\" error. The tool gets the Bearer Token, but from this point I can't figure out what is the problem. I have tried to simulate the tool using Postman, but I get the same error { \"status\": 401, \"reason\": \"Unauthorized\", \"request\": { \"method\": \"GET\", \"url\": \"/moodle311/mod/lti/services.php/2/lineitems?type_id=3\", \"accept\": \"*/*\" } } Colud someone assist me with some suggestions? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 12, 2023, 1:51 AM",
          "AuthorName": "Manos Garefalakis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3004519&course=5",
          "role": [
            "Picture of Manos Garefalakis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unauthorized request while syncing Grades",
          "Text": "Hi Manos, I'd first check that the service is enabled on the pre-configured tool (Site admin > External tool > manage tools > edit tool settings). There's a \"Services\" section in the form which contains \"IMS LTI Assignment and Grade Services\" which must be set to \"Use this service for grade sync and column management\". If this isn't set, then you won't be able to access those services. Then, the only other thing to make sure is that you're requesting the token with the relevant scope. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 13, 2023, 8:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Απάντ: Re: Unauthorized request while syncing Grades",
          "Text": "Hello Jake, thanks for the reply. I made a test with the \"IMS LTI Assignment and Grade Services\" enabled and disabled. The library checks and replies if the service is enabled or not. As far the scopes, the bearer token is based on the following scopes these are the scopes that the token is acquired 'scope': [' https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly' , ' https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly' , ' https://purl.imsglobal.org/spec/lti-ags/scope/score' ]}",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 13, 2023, 6:16 PM",
          "AuthorName": "Manos Garefalakis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3004519&course=5",
          "role": [
            "Picture of Manos Garefalakis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Απάντ: Re: Unauthorized request while syncing Grades",
          "Text": "Hi Manos, It sounds like you've got it configured correctly and are using the correct scopes, so I'm out of the obvious ideas. That request to the lineitems service is probably throwing the 401 here: https://github.com/moodle/moodle/blob/6f85c23d7f78620843cc274f296066365eae1158/mod/lti/service/gradebookservices/classes/local/resources/lineitems.php#L87 As to why, well, there could be a few reasons, but you'll need to debug Moodle's service code to find out which check is resulting in that 401. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 14, 2023, 10:11 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Απάντ: Re: Απάντ: Re: Unauthorized request while syncing Grades",
          "Text": "Hi Jake, I saw your reply to another post, related to the moodle database . I did a search to my database and I found these tables related to lti. They are all empty.... Can this be related to my problem? Meaning that the endpoint for lineitems don't exist? Thanks in advance",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1784973/mdl_tables.PNG"
          ],
          "Time": "Wednesday, February 15, 2023, 7:13 PM",
          "AuthorName": "Manos Garefalakis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3004519&course=5",
          "role": [
            "Picture of Manos Garefalakis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Απάντ: Re: Απάντ: Re: Unauthorized request while syncing Grades",
          "Text": "Hi Manos, These are definitely not related to the problem you're seeing with External tool, no. These are tables from an entirely different plugin (one which lets Moodle act as an LTI tool). The best suggestion I can give right now, is to debug the request in the Moodle site, probably starting at mod/lti/services.php and stepping through the code there as the request comes in. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 16, 2023, 8:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Απάντ: Re: Απάντ: Re: Απάντ: Re: Unauthorized request while syncing Grades",
          "Text": "Hi Jake, thanks for the reply. The tool works on another moodle platform. We are comparing the differences of the platforms. The working platform has Moodle 4.06 and my platform, the non working has Moodle 4.1+ Except from installing Moodle 4.06, anything else that I should compare? Like the php version? served by Apache or nginx? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 16, 2023, 9:12 AM",
          "AuthorName": "Manos Garefalakis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3004519&course=5",
          "role": [
            "Picture of Manos Garefalakis"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 443858,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=443858",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Deep linking content selection filter",
          "Text": "The deep linking functionality in 1.3 is a great tool for us. Thank you for putting this together.  I think a potential improvement would be to add a course filter at the top of the content selection that would make the deep linking easier.  When dealing with the deep linking setup of several courses the current approach becomes a it unwieldy.  I am proposing adding a select menu that will show the current users' enrolled courses. Any thoughts would be appreciated.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1784340/CleanShot%202023-02-09%20at%2012.49.18%402x.png"
          ],
          "Time": "Friday, February 10, 2023, 4:57 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Deep linking content selection filter",
          "Text": "100% agree, Jeff. It was only omitted because of time constraints essentially. I've got MDL-77203 to deal with this in the provider follow ups epic. Thanks for raising it again! Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 10, 2023, 8:45 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 442733,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=442733",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Cron Error on 1.3 Grade Sync",
          "Text": "Any thoughts Jake on what might be causing this error and what might be done to resolve this within the Grade sync? Is this related to one of the previous grade sync issues? Scheduled task failed: Publish as LTI tool grade sync (enrol_lti\\local\\ltiadvantage\\task\\sync_grades),Argument 3 passed to enrol_lti\\local\\ltiadvantage\\entity\\user::create() must be of the type int, null given, called in /var/app/current/moodle/enrol/lti/classes/local/ltiadvantage/repository/user_repository.php on line 58",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2023, 5:12 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cron Error on 1.3 Grade Sync",
          "Text": "Hi jeff, Thanks for the report. Yes, after a bit of searching, I'm fairly confident I know what causes that. It's an interesting case relating to migration that perhaps slipped through the cracks. Firstly, I'll point out that the third argument to ::create() is the deployment Id, which every LTI Advantage user must have. The LTI Advantage launch guarantees this, as does LTI Advantage member sync. So, any content item published fresh using using LTI Advantage (and which has only ever been launched using LTI Advantage) will have a deployment id for all users. This allows the LTI Advantage grade sync to work properly. What seems to be happening here is that the lti_users query (which returns all lti_users for the respective tool), is returning lti_users which do NOT have a deployment id. What this suggests to me is that the tool itself (or the piece of published content) has been modified from a legacy tool (which had pre-existing users not having the deployment id) to an LTI Advantage tool. This is possible via the UI - through changing the LTI version on the published content. What this essentially results in is: - Some lti_users records are legacy (don't have deployment id) - Some lti_users are LTI Advantage (they correctly have deployment id) This trips up the LTI Advantage grade sync task because it expects to only be dealing with syncs for LTI Advantage users only - so this is a bug you've spotted. In such cases, we need to entirely ignore the legacy enrol_lti_users records (those records not having an lti deployment id).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2023, 6:07 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron Error on 1.3 Grade Sync",
          "Text": "Thanks Jake. What are the reprodcutions from deleting any records from the \"mdl_enrol_lti_users\" table for users that do not have a \"ltideploymentid\"?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 7, 2023, 7:09 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron Error on 1.3 Grade Sync",
          "Text": "Hi Jeff, I'd suggesting waiting for my advice on the fix issue - which I've created in MDL-76821 . I'm not 100% sure whether we're going to need a data fix for this issue or whether we can handle this in the repository/db layer for the respective LTI versions. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 9, 2023, 2:14 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron Error on 1.3 Grade Sync",
          "Text": "Just a followup from my end. As far as I can tell one of our LTI partners accidentally sent malformed LTI data without a \" ltideploymentid\" which causes the grade sync to break.  When I remove records without a \" ltideploymentid\" the sync continues to work properly. So it looks like the grade sync code might need to be updated to prevent this problem occurring, otherwise the grade sync can be broken.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 9, 2023, 9:04 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 443350,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=443350",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI 1.1 as consumer invalid signature",
          "Text": "Hey, I'm running into an issue where Moodle seems to generate invalid signatures signing LTI 1.1 launches, and I can't figure out what might be causing this or a pattern to the issue. I have two moodle instances: one running locally, and one in a test server . I am building an LTI provider, and I started seeing errors of LTI 1.1 launches with invalid signatures. First, I thought the issue was in my implementation of the signature validation. But then I tested both Moodle instances against a reference LTI implementation https://saltire.lti.app/tool . What I now see is that the local Moodle always gives an invalid signature error when launching to the saLTIre tool, and always works with my own LTI provider. On the other hand, the moodle on th test server always works with the saLTIre tool, yet always has an invalid signature when launching to my own LTI provider. I have uploaded a video showing the problem here: https://streamable.com/ninfb9 . I first show that for both moodle instances I simply configure an external tool with the correct URL , the key and the secret, and then launch to the saLTIre tool. For the local instance it fails, for the one on the test server it works. For reference, the local moodle is running 4.0.4+ Build 20221111 and the instance on a test server is running 4.1 upwards Build 2022112. And I have also tested locally with another version, 4.0.4 Build 20220912, with which I never get the invalid signature issue. Could this be a bug in Moodle? Or am I missing something? Thanks for the help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 26, 2023, 8:41 AM",
          "AuthorName": "Manuel Manso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5196221&course=5",
          "role": [
            "Picture of Manuel Manso"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI 1.1 as consumer invalid signature",
          "Text": "Hi Manuel, Tracking this down is perhaps something only you can do via debugging. You should be able to see the signing string on both ends. In Moodle, you'll need to step through the code to see what's being signed. In the test tool, you can see the string (it's reported there in the screencast). There surely must be some difference either with the string, or with something like the timestamp. For reference, this isn't something I see when using that tool with my local sites, whether they be on 4.0, or 4.1, so it isn't a widespread issue. Aside from that, just pointing out that 1.1 has been deprecated for a long time now. New tools should be built using LTI 1.3/LTI Advantage. Sorry I can't be of more help. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 31, 2023, 8:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 443327,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=443327",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Using \"custom\" tool configuration (deep linking)",
          "Text": "Hello, Before, when i was selected a content for an activity (deep link), the settings page was displayed \"Using tool configuration: Phenix Preprod\" under the \"Tool URL \" field and the activity resource was loaded correctly. (\"Phenix Preprod\" is the name of my preconfigured external tool.) Now, I don't know why, when i select a content for a new activity (but same resource), the settings display \"Using custom tool configuration\" instead, and the same activity resource cannot be load, and LTI errror is raised. In fact, the LTI provider cannot find registration for given client id. And in the jwt id_token passed with resource link, the value of \"aud\" parameter has changed. The value become \"user\" instead of the external tool client id (something like that \"If0YC........9Y1\"). It is the only change between the two launches ! How this is possible ? Maybe something has been changed in Moodle configuration  but i don't know what...",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1782255/moodle-external-tool-1.jpg?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1782255/moodle-external-tool-2.jpg?forcedownload=1"
          ],
          "Time": "Wednesday, January 25, 2023, 6:55 PM",
          "AuthorName": "jim ko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5402580&course=5",
          "role": [
            "Picture of jim ko"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using \"custom\" tool configuration (deep linking)",
          "Text": "Hi Jim, Can you add more information about your platform? Is this something that has occurred after a Moodle upgrade? Something else? Essentially, we need to know what steps led to this. If you can also attach the error you mention, that would be great. From a form behaviour standpoint, this 'custom tool configuration' message is seen when the External tool instance has a custom consumer key and secret set. Can you expand the form using \"Show more\" and check whether that is the case? Thanks, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 30, 2023, 2:58 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using \"custom\" tool configuration (deep linking)",
          "Text": "Hi jake, As you were thinking, the cause is due to the field \"consumer key\" in \"show more..\" part. What happened is that this field is hidden by default, but unfortunately it is autofilled by my browser ( firefox ) with the logged user name (\"user\" in my case), and so it is saved in configuration when I click on save button. So I have to remove autofill property in my brower, or I have to expand \"show more..\" part and clear the field before saving It's a bit curious that this field appears despite the fact I have configured my external tool in LTI 1.3 ? Thanks for your fast response.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1782883/moodle-consumer-key-autofill.jpg?forcedownload=1"
          ],
          "Time": "Tuesday, January 31, 2023, 1:37 AM",
          "AuthorName": "jim ko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5402580&course=5",
          "role": [
            "Picture of jim ko"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using \"custom\" tool configuration (deep linking)",
          "Text": "Ah, good to know. That's interesting about the autofill. That's the first time I'm seeing that issue but will investigate further as that's something new as far as I know. That definitely should not be autofilling. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 31, 2023, 6:54 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using \"custom\" tool configuration (deep linking)",
          "Text": "Hi Jim, See MDL-76478 which resolves this issue in the mod/lti form. It's a general problem with the password unmask field by the looks of it. It seems like the browser just assumes that the field immediately before the password field is the 'username' field (in the sense that it's trying to store/load a saved 'login'). That issue is waiting for integration review so should land for the next minor release versions with any luck. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 31, 2023, 8:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 441192,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=441192",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 and Ngrok",
          "Text": "Hi, I would like to ask for help. I am following this ticket: https://tracker.moodle.org/browse/MDL-66920 And would like to try the steps. However, I can't make the ngrok to work. I get an error: redirected too many times. Can you please give me the correct setting in config.php? (It is in this step: As LTI 1.3 launches require to access to the platform public key set, the moodle instance must be reachable from the internet. Consider using ngrok ( https://ngrok.com). and update config.php) Here is my current config.php ?php  // Moodle configuration file unset($CFG); global $CFG; $CFG = new stdClass(); $CFG->dbtype    = ' mariadb '; $CFG->dblibrary = 'native'; $CFG->dbhost    = 'localhost'; $CFG->dbname    = 'moodle'; $CFG->dbuser    = 'root'; $CFG->dbpass    = ''; $CFG->prefix    = 'mdl_'; $CFG->dboptions = array ( 'dbpersist' => 0, 'dbport' => '', 'dbsocket' => '', 'dbcollation' => 'utf8mb4_unicode_ci', ); $CFG-> wwwroot = ' https://46bd-52-142-205-163.eu.ngrok.io '; $CFG-> dataroot = 'C:\\\\Users\\\\Moodle\\\\Downloads\\\\Moodleextracted\\\\ server \\\\moodledata'; $CFG->admin     = 'admin'; $CFG->directorypermissions = 0777; require_once(__DIR__ . '/lib/setup.php'); // There is no php closing tag in this file, // it is intentional because it prevents trailing whitespace problems! Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 2, 2022, 5:58 PM",
          "AuthorName": "Ken Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5318133&course=5",
          "role": [
            "Picture of Ken Yu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 and Ngrok",
          "Text": "That's an easy one, Ken. Just set: $CFG->sslproxy = true; when using ngrok https and it'll work fine. Also recommend registering for ngrok (free) so you can benefit from the increased traffic allowance it provides. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 12:14 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Ngrok",
          "Text": "Thanks Jake but it doesn't work on my end. After I browse thru ngrok url, it will redirect to http://localhost. I forgot to mention, I installed the windows package (using XAMPP/ MySql ). I think it only works on provisioning your own apache, moodle and my sql .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2023, 2:11 PM",
          "AuthorName": "Ken Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5318133&course=5",
          "role": [
            "Picture of Ken Yu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Ngrok",
          "Text": "Hi Ken, There are two lines you need to set in config.php to use ngrok. I had assumed you already had the first but it sounds like you don't. Add these two below the existing $CFG-> wwwroot line (or comment that one out). $CFG->wwwroot = ' https://XXXXX.ngrok.io/imaster' ; // Use your ngrok URL here of course. $CFG->sslproxy = true; And that's it. That should work just fine. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2023, 2:49 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Ngrok",
          "Text": "Amazing! It works now! Thanks a lot Jake!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2023, 3:27 PM",
          "AuthorName": "Ken Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5318133&course=5",
          "role": [
            "Picture of Ken Yu"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 440762,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440762",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Deep linking not creating multiple",
          "Text": "Hi, I'm trying to use Deep Linking to create multiple exercises in Moodle. I'm having an issue in the last step where even though Moodle receives multiple LtiResourceLinks correctly, and shows it in the confirmation, it then only creates one of them (the last one). The screenshots below shows the multiple exercises being returned. However, after clicking \"OK\", in the course page, it only shows one of them. This is the content of the signed JWT: { \"sub\": \"3cfLCn90tUDdxEN\", \"aud\": \"http://localhost:81\", \" https://purl.imsglobal.org/spec/lti/claim/message_type \": \"LtiDeepLinkingResponse\", \" https://purl.imsglobal.org/spec/lti/claim/deployment_id \": \"20\", \" https://purl.imsglobal.org/spec/lti/claim/version \": \"1.3.0\", \" https://purl.imsglobal.org/spec/lti-dl/claim/content_items \": \"[{\\\"type\\\":\\\"ltiResourceLink\\\",\\\"title\\\":\\\"Title 1\\\",\\\"url\\\":\\\"http:\\\\/\\\\/localhost:9000\\\\/courses\\\\/28\\\\/exercises\\\\/12\\\"},{\\\"type\\\":\\\"ltiResourceLink\\\",\\\"title\\\":\\\"Title 2\\\",\\\"url\\\":\\\"http:\\\\/\\\\/localhost:9000\\\\/courses\\\\/28\\\\/exercises\\\\/13\\\"},{\\\"type\\\":\\\"ltiResourceLink\\\",\\\"title\\\":\\\"Title 3\\\",\\\"url\\\":\\\"http:\\\\/\\\\/localhost:9000\\\\/courses\\\\/28\\\\/exercises\\\\/16\\\"},{\\\"type\\\":\\\"ltiResourceLink\\\",\\\"title\\\":\\\"Title 4\\\",\\\"url\\\":\\\"http:\\\\/\\\\/localhost:9000\\\\/courses\\\\/28\\\\/exercises\\\\/19\\\"}]\", \"iss\": \"3cfLCn90tUDdxEN\", \"exp\": 1669029192, \"iat\": 1669029132, \"jti\": \"61999577-19e5-4b2a-987f-5d159a4a61c6\" } What is going wrong? Am I maybe not returning all the required fields for each \"ltiResourceLink\"?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1773514/image.png"
          ],
          "Time": "Monday, November 21, 2022, 7:17 PM",
          "AuthorName": "Manuel Manso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5196221&course=5",
          "role": [
            "Picture of Manuel Manso"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Deep linking not creating multiple",
          "Text": "Hi Manuel, I believe this is caused by the issue reported in MDL-74593 . If you try to create the items using a new instance of the external tool, it should work fine (whereas using 'edit' won't, per that issue). Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 12:08 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Deep linking not creating multiple",
          "Text": "Is that the same as, or different from, MDL-73847 ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2023, 12:48 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Deep linking not creating multiple",
          "Text": "Hi Tim, As far as I know, those are different issues.  The failure to create multiple being caused by firing off content selection in an already-saved mod_lti instance. In a new instance (as yet unsaved), multiple items can be created ok. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2023, 9:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 442457,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=442457",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Embedding an LTI resource/activity inside a page resource",
          "Text": "Hi, Let's say that I have an LTI activity in a Moodle course, and I want to embed it in a Moodle Page resource. Can it be done? The reason that I want to do this is that I want to write some instructions, then have the LTI embedded in the page after the instructions. And I want everything to be on the same page, and not on the main course page. Please share your knowledge about this topic. Thanks",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, January 3, 2023, 12:26 AM",
          "AuthorName": "Acqua Alta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2546516&course=5",
          "role": [
            "Picture of Acqua Alta",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Embedding an LTI resource/activity inside a page resource",
          "Text": "Hi Acqua, I can think of at least one way this might be possible but it's essentially a workaround right now. What we really want is something like Tiny MCE support for LTI - see MDL-67560 for that feature (it's not ready quite yet though). The workaround, works like so: 1) Stealth activities need to be enabled at site level. 2) Teachers must have enough knowledge of HTML to create an iframe in the page activity settings 3) The iframe must use a src with syntax equal to \"mod/lti/launch.php?id=x\". This isn't a URL that's generally publicly available via the link to the activity in the course (that link is mod/lti/view.php?id=x) Essentially, this allows the LTI activity to be hidden but still available to students. Then, using the HTML editor on the page's \"page content\", the teacher can insert an iframe with src set to the URL of the stealth activity's launch URL. See below for an example of this:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1779990/LTI_page_embed_workaround_example.jpg"
          ],
          "Time": "Monday, January 9, 2023, 2:48 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Embedding an LTI resource/activity inside a page resource",
          "Text": "Hi Jake, Thank you very much for your detailed answer and the time and effort that you put into it",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, January 10, 2023, 12:42 AM",
          "AuthorName": "Acqua Alta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2546516&course=5",
          "role": [
            "Picture of Acqua Alta",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 442237,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=442237",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Error on signature of ContentItemSelectionRequest",
          "Text": "Hi, I'm trying to develop an LTI app and I have almost everything set up to publish with an external tool, but when I call to content item return url Moodle returns an error saying \"Exception - OAuth signature failed: Invalid signature ours= LeDuZRIV2w/OZ+HRPkUBQ+1n0qE= yours=xwXtczMGJxBG4I3uwxFgFxgHXb4=\". I'm using the following content item definition \n```text\n        $contentItem = [\n            '@\ncontext\n' => '\nhttp://purl.imsglobal.org/ctx/lti/v1/ContentItem'\n,\n            '@graph' => [\n                [\n                    '@type' => 'LtiLinkItem',\n                    'url' => $link,\n                    'title' => $title,\n                    'text' => $instructions ?? '',\n                    'mediaType' => 'application/vnd.ims.lti.v1.ltilink',\n                    'placementAdvice' => ['presentationDocumentTarget' => 'frame'],\n                    'thumbnail' => [\n                        '@id' => $thumbnail,\n                        'width' => 500,\n                        'height' => 707\n                    ],\n                ],\n            ],\n        ];\n```\n And I'm signing it using the content item return url sent by Moodle at the launch, a new timestamp and nonce and the consumer secret. The method of signing is working (as far as I know) because the signature validation works on the launch request, so it must be something with the parameters, but I don't know what's going on. The parameters I send are \n```text\n            [\n                'oauth_consumer_key' => $consumerKey,\n                'oauth_nonce' => $newNonce,\n                'oauth_signature_method' => 'HHMAC-SHA1',\n                'oauth_timestamp' => (new DateTime('now', new DateTimeZone('UTC')))->getTimestamp(),\n                'oauth_version' => '1.0',\n                'content_items' => json_encode($contentItem),\n                'lti_message_type' => 'ContentItemSelection',\n                'lti_version' => 'LTI-1p0',\n            ],\n```\n Maybe someone has already done this and can shed some light on what's going on. Thanks a lot",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 23, 2022, 5:45 PM",
          "AuthorName": "Chris F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5351010&course=5",
          "role": [
            "Picture of Chris F"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error on signature of ContentItemSelectionRequest",
          "Text": "I found the solution. Moodle was sending me a URL with query parameters and I was using the full URL, including the query parameters, to generate the oAuth signature. To generate the signature the URL must be without any query parameters, at least in this case. I hope this helps someone.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 27, 2022, 10:13 PM",
          "AuthorName": "Chris F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5351010&course=5",
          "role": [
            "Picture of Chris F"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on signature of ContentItemSelectionRequest",
          "Text": "Glad you got it sorted, Chris. Worth also pointing out (in case you're not aware) that the LTI 1.1 standard has been deprecated for some time now in favor of LTI 1.3 and LTI Advantage. I'd strongly recommend building any new tools using this standard. At some stage in the future, LTI 1.1 support may be dropped from consumers. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 12:19 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on signature of ContentItemSelectionRequest",
          "Text": "I'm new to Moodle, but I downloaded the last version from the official downloads page and the request to the LTI tool I'm building came with a LTI-1p0 value. Is that LTI 1.1, 1.3 or anything 1,x?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 3:56 PM",
          "AuthorName": "Chris F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5351010&course=5",
          "role": [
            "Picture of Chris F"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on signature of ContentItemSelectionRequest",
          "Text": "When you're configuring the tool in the Moodle LMS (via Site admin > Plugins > Activity Modules > External tool > Manage tools), you'll see an \"LTI Version\" field on the edit form. That should be set to LTI 1.3 if you want to use 1.3, or 1.0/1.1 if you want to use legacy. We support launching into both of course - it's just that I wouldn't recommend building a tool using the legacy specs in 2023, that's all. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 4:31 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on signature of ContentItemSelectionRequest",
          "Text": "I'll check it out and I'll try to migrate the tool to LTI 1.3. But, I must say, the main problem is that the LTI documentation is already very difficult to find and to understand. Only lists of parameters, specification pages without much explanation and of course few or no examples. But I'll give it a try",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 5:09 PM",
          "AuthorName": "Chris F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5351010&course=5",
          "role": [
            "Picture of Chris F"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 441082,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=441082",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI-Error: Tool url opens in new window and same window as well",
          "Text": "I have added the External tool configuration with the Default launch container as a new window. I have added a new course which is linked to this tool URL . But when I click on the new course it opens in a new window correctly but it also tries open in an iframe(same box window) saying refused to connect. I have to refresh a page to get back to clicking the new course link again. What I am doing wrong here",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 29, 2022, 7:50 PM",
          "AuthorName": "Mangala Melkunde",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5056677&course=5",
          "role": [
            "Picture of Mangala Melkunde"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI-Error: Tool url opens in new window and same window as well",
          "Text": "Hi Mangala, When you say \"I have added a new course which is linked to this tool URL.\", what exactly do you mean? Can you unpack that a bit? Are you using a single activity format course? Something else? If you can provide specific steps describing how you've set this up, it'll be helpful too. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 5:02 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 441582,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=441582",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Linkedin Learning - problem with the identifier",
          "Text": "Hello, I searched in the forum before this message but I didn't find anything. If there is already an answer, please let me know. I am trying to connect LinkedIn Learning in Moodle (v3.9.18) with an LTI 1.3 connection. I have done the configuration on both the Moodle side and the LiL side. In a course I created an LTI LiL activity. However, it doesn't work (here a screeshot of the result). It appears that the identifier to link the accounts should be the username. But LiL seems to get the userID from Moodle. Have you encountered this problem before? Do you have any idea how to solve it? Thank you in advance for your help. Kind regards Gerard",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1776534/Connexion%20Moodle%20LiL%20erreur%20copie.png?forcedownload=1"
          ],
          "Time": "Thursday, December 15, 2022, 11:40 PM",
          "AuthorName": "Gérard Zonberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5341026&course=5",
          "role": [
            "Picture of Gérard Zonberg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 440477,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440477",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Passing Consumer Usernames to Moodle with 'Publish as LTI Tool'",
          "Text": "Hi, We are experimenting\nwith using the handy 'Publish as LTI Tool' plugin to link Moodle quizzes to courses in our\nmain LMS (Blackboard Learn), creating and managing Moodle user accounts in the\nprocess. This is working well with one small limitation: we’re interested\nin passing Blackboard usernames to Moodle but adding custom parameters to the\nLTI config, such as username=$User.username or username=@X@user.id@X@, doesn’t seem to work. When a Blackboard user's account is created in Moodle after they click a Bb link to a published Moodle resource for the first time (or by user synchronization), their Moodle\nusername is invariably Moodle-generated and of the form: enrol_lti[hex_number]. We are currently running Moodle 3.1 so LTI1.3 unfortunately isn’t an\noption for us just yet (though hopefully not far away!). I wonder if anyone can advise if sending usernames is doable and if so how? I know that utilising the Publish as LTI Tool to link Moodle Quizzes etc to Blackboard has previously been discussed, but couldn't see an answer to this specific question - apologies if there is and I've missed it! Thanks in advance Ben",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 13, 2022, 1:05 PM",
          "AuthorName": "Ben F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5279999&course=5",
          "role": [
            "Picture of Ben F"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing Consumer Usernames to Moodle with 'Publish as LTI Tool'",
          "Text": "Hi Ben, This isn't currently possible. The username is created by Moodle as the user account is created on launch, using a combination of things like the consumer key and the consumer's user id. This was done so that we can uniquely find the user at a later point in time (such as during service calls, etc.) using things we'll always have access to (consumerkey, userid). This is the same story in the LTI 1.3 provider; the username, at least for users which are automatically created during launch or member sync, is generated by Moodle. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 14, 2022, 11:30 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing Consumer Usernames to Moodle with 'Publish as LTI Tool'",
          "Text": "Hi Jake, Thanks very much for your quick and informative reply – really grateful for the confirmation and background. It’s not overly important and I suppose if we were determined to get Consumer LMS usernames across to Moodle somehow or other, we could test passing them into one of the other existing profile fields, or else a bespoke field. Thanks again! Ben",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 14, 2022, 1:26 PM",
          "AuthorName": "Ben F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5279999&course=5",
          "role": [
            "Picture of Ben F"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 440491,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440491",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Announcement: Major fixes for legacy grade sync",
          "Text": "Good news. I've just had two issues land in the past few days, both resolving major problems with the legacy (LTI 1.1/2.0) provider grade sync. MDL-76113 - fixes grade sync for LTI 2.0 consumers, which was completely broken. MDL-76170 - fixes grade sync for any user who was created via member sync before launching the tool and completing the activity. Both of the issues present themselves in the task logs as: \n```text\nFailed - The grade '0.88' for the user 'XX' in the tool 'YY' for the course 'ZZ' failed to send.\n```\n I expect the fixes will resolve a number of reports by folks on this forum - most of which usually result in \"unable to replicate\". The fix will be included in the upcoming minors for 3.11, 4.0 and the 4.1 major release, so I encourage you to upgrade when able. Many thanks, Jake \n```text\n\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 14, 2022, 12:27 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 439673,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439673",
      "NoOfResponses": 16,
      "ResponsesInList": [
        {
          "Title": "link 2 Moodle courses by LTI",
          "Text": "Hello, I have a problem to link 2 Moodle courses, the both on Moodle 4.0,  by LTI. I can integrate an external LTI tool in a course but I cannot link 2 courses, which are both on Moodle 4 at the 1.3Advantage standard. In the LTI transmitter course I only have the \"launch url\" and \"custom properties\". I have no \"secret\" And in the receiving course it's indicated \"Tool configuration not found for this URL . Do you see where the problem could come from? Ben",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1769467/LTI-pb-config.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1769467/LTI-pb-config1.png?forcedownload=1"
          ],
          "Time": "Wednesday, October 19, 2022, 2:41 AM",
          "AuthorName": "benoit tostain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100621&course=5",
          "role": [
            "Picture of benoit tostain"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Hi Benoit, LTI 1.3 and LTI Advantage changes the model completely, from an OAuth 1.0 based model, to one based on OAuth 2.0 and OpenId. This necessitates a registration between the tool and platform before anything can be launched. You can't use it the same way you would with LTI 1.1/2.0 and you definitely can't just use the launch URL like this in an external tool activity instance. I'd recommend please reading the docs here in full: https://docs.moodle.org/400/en/Publish_as_LTI_tool They make it clear what steps are required to set up and use this feature. If you get stuck, or something isn't clear, then please feel free to ask questions here too. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 19, 2022, 10:03 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Thanks very much Jake, Indeed it's quite different since Moodle 4, I started the configuration with the documentation and I'll come back to you if I'm stuck on something, thank you ! Ben",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 20, 2022, 10:53 PM",
          "AuthorName": "benoit tostain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100621&course=5",
          "role": [
            "Picture of benoit tostain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Hi, by following the documentation I was able to connect the 2 Moodle platforms in each I have a transmitter course: \"the tool\" (according to the terminology of the documentation) and a receiver course \"the platform\" (according to the terminology of the documentation) There are some points of the tutorial that I can't understand exactly, therefore the 2 platforms connect well but in the receiver course, when I add an external tool as an LTI activity I have one following error messages and when I click \"continue\" it is the home page of the \"tool\" platform that is displayed instead of the course I am trying to connect",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1770939/LTI-error_00.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1770939/LTI-error_01.png?forcedownload=1"
          ],
          "Time": "Tuesday, November 1, 2022, 1:00 AM",
          "AuthorName": "benoit tostain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100621&course=5",
          "role": [
            "Picture of benoit tostain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Hi Benoit, DId you set up the resource link in the platform (i.e. the platform activity instance) using deep linking, as per the docs? Every resource link needs to have a custom parameter present in order to know which resource (activity or course) to launch in the tool. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 1, 2022, 10:03 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Hi Jack, thank you for your answer I configured dynamic registration and deep linking is presented in the documentation as part of the manual registration, so I understood that it did not concern the mode of registration that I had chosen. We can therefore mix dynamic and manual recording, these are not 2 different options if I understand correctly? So I will try to do that.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, November 1, 2022, 5:07 PM",
          "AuthorName": "benoit tostain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100621&course=5",
          "role": [
            "Picture of benoit tostain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Hi Benoit, I'll just try to clarify a few things.. Registration is the first step and deals with making sure the security contract for the tool-platform relationship is in place. You can register using dynamic registration or manual registration - the choice is up to you (but dynamic is certainly far simpler and quicker so I always recommend using that method when the platform supports it). After registration, you'll end up with a preconfigured tool in the platform site (site admin > plugins > activity modules > external tool > manage tools) and a platform configuration in the tool site (site admin > plugins > enrolments > publish as LTI tool > tool registration). Deep linking (content selection) vs manual link creation is another step entirely and deals with creating the resource link in the platform course. You either click the 'Select content' button and then pick the content you want to launch into (this is deep linking), or you copy the custom properties value (id=xxxx) from the published content page in the tool and use that in the 'custom parameters' section of the activity instance edit form on the platform (this is manual link creation). Deep linking require that you be signed in first to link accounts. Manual link creation does not (though you'll need to know the id=xxxx string). All deep linking does is automate the content selection process for you in a nice way. As long as you end up with 'id=xxxx' in the custom parameters section of the activity instance form on the platform, it doesn't matter which path you choose - though I always recommend deep linking because it's the easier option (no need to copy around id=xxx strings to and fro). Hope that helps,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 2, 2022, 10:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Thank you Jake for your answer, I tried deep linking and manual link without success actually One of the two plateforms in http only , so I will try with another which is https. I want to register this new platform in Tool registration but I forgot how and where to find the ID platform and ID client  ; I'm sorry  🥴 I did'nt find it in the doc... 🤔",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1667813268/s/sad"
          ],
          "Time": "Tuesday, November 8, 2022, 12:20 AM",
          "AuthorName": "benoit tostain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100621&course=5",
          "role": [
            "Picture of benoit tostain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Hi Benoit, The sites MUST be HTTPS. That's a requirement of OAuth 2.0. You can get by without it when testing locally, but that's about it. Regarding registration, if you just use dynamic registration, you won't need to worry about where to find things like issuer and client id. If you're using manual registration, these can be found via step 8 of the docs: \"On the resulting tool card, click \"View configuration details\" and leave this browser window open\". Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 8, 2022, 10:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "thanks Jake, I note that with OAuth 2 https is indispensable. Just near point 8 it is noted with the image Register a platform \"Once Moodle has been configured in the platform, the platform details, along with the deployment id, must be registered with Moodle to complete the registration\" Is this the registration of the platform with Moodle.org on the page of the administration? at /admin/registration/index.php I walk \"with ant paces\" but I move forward",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, November 8, 2022, 8:12 PM",
          "AuthorName": "benoit tostain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100621&course=5",
          "role": [
            "Picture of benoit tostain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "No, this is nothing to do with site registration 😅. This is entirely the LTI registration. It's all clearly explained in the docs, so I'm not sure what else I can add. See the last set of steps under the \"Manual registration\" section, which explains exactly what to do in the TOOL site to finalise the registration. This kind of confusion/complication is exactly why I always recommend dynamic registration (and I still suggest you use that instead! 😉). Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 9, 2022, 5:32 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Thank you Jake, Yes that helps Yes I thought it was not about the registration in Moodle.org but as I am stuck on both understanding / translation and implementation I wanted to make sure of this point. I would also prefer dynamic recording but since I can't do that I'm looking for a way out with manual recording. Now that the 2 platforms are in https I try again to configure the dynamic recording, when I arrive at the following points: and after: which means : \" invalid or expired registration URL. Please check the URL and try again\". Which leads to the following error: error/enrol lti/invalidexpiredregistrationurl I am however connected in 2 tabs of the same browser...",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1667839190/s/smiley",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1772180/LTI-ajouter-outil.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1772180/LTI-ajouter-outil2.png"
          ],
          "Time": "Thursday, November 10, 2022, 4:02 AM",
          "AuthorName": "benoit tostain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100621&course=5",
          "role": [
            "Picture of benoit tostain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Yes, that happens when the registration is already 'active' in the Tool site. The steps to remedy this are simple: Just remove the entire registration from the Tool site and start over. Use the new dynamic registration URL and you'll find you won't hit this validation problem. Also, I just noticed you've edited the English docs page and added a bunch of French in there. Given you're new to how this works, can I ask that you please suggest any docs changes here first? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 9:11 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Thanks Jack, I deleted the old record in the Tool site, to create a new one as you tell me but now I get the following error: As I am translating the French page here: https://docs.moodle.org/4x/fr/Publier_en_tant_qu%27outil_LTI I came to get the insertion code in the English version to insert the pictures in the French version, but by mistake I copied the French translation into the English page, so I quickly realized this and as you can see in the history my modification lasted only 3 minutes.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1772243/LTI-error_04.png"
          ],
          "Time": "Thursday, November 10, 2022, 5:49 PM",
          "AuthorName": "benoit tostain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100621&course=5",
          "role": [
            "Picture of benoit tostain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Hi Benoit, Given I don't know what steps you've taken in setting this up, it's almost impossible to pinpoint the cause of this error (improving the error logging of LTI is something on my TODO list - but that's not something I've been able to get to yet unfortunately). The platform absolutely needs to send the id_token. You're going to need to explain clearly how you've configured this in both the tool site and the platform site (the details of the registration part on both sites) and also how you've created the resource link in the platform site (through which you're launching). I suspect this is just a configuration issue, but can't be sure without seeing the full picture. The other option is to just just start over completely, removing the registration from both sites (delete the pre-configured tool in the platform and delete the tool registration entry in the tool) and start fresh following the docs. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 11, 2022, 10:32 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: link 2 Moodle courses by LTI",
          "Text": "Ok Jake and thanks, I'll try again and let you know.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 12, 2022, 7:29 PM",
          "AuthorName": "benoit tostain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100621&course=5",
          "role": [
            "Picture of benoit tostain"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 440379,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440379",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI custom_force_embed| removes SCORM stop button",
          "Text": "i have an question on the use of the custom_force_embed with LTI. One of the LTI consumers is using custom_force_embed, which works great to ensure that no Moodle menu's are showing etc. But we are using the SCORM + show in current window player and the custom_force_embed seems to be removing the SCORM stop button. The strangest thing is that the client claims that this is recent change, while I cannot find any changes on the Moodle site and the LTI consumer tells nothing been changed on their site. Does anyone know: if there been a recent change in Moodle core of custom_force_embed in the LTI indeed impacts the Moodle Scorm player page? Is the custom_force_embed theme dependend? where I can find more information on what custom_force_embed actually does? if there are other custom_force that could be usefull in this case? we are using Moodle 3.9.17 + Foundation theme Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 9, 2022, 9:35 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI custom_force_embed| removes SCORM stop button",
          "Text": "Hi Gemma, 1. Nothing recent, no (at least not in LTI land). 2. Using force_embed=1 just tells Moodle to run the launch using the 'embedded' page layout (the same as what students would see). Page layouts are theme dependent, yes. See https://docs.moodle.org/dev/Page_API#Page_layout 3. You can see a small summary here: https://docs.moodle.org/400/en/Publish_as_LTI_tool#Custom_launch_parameters . All that really says is what I've said above though. 4. No. This is currently the only layout-centric custom launch param. It would be good to see what exact control is missing from the page. I'm not a SCORM expert, but as far as I can see (using a basic test package), we render an \"Exit activity\" button at the top right of the SCORM page, and the rest of the page content is the SCORM package itself. Is it this button you're referring to perhaps? TIA , Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 3:04 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI custom_force_embed| removes SCORM stop button",
          "Text": "Hi Jake Thank you, especially for the links. And yes, the Exit Activity is the one I mean. It is showing in the #page-header. I will run some test with Boost, but I am pretty sure it will show the same behavior. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 3:38 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI custom_force_embed| removes SCORM stop button",
          "Text": "Bingo. That's exactly what I see on 3.9 and 3.11 (it's in the header, so isn't available over LTI where we don't have that). 400 moved this into the page, so that's why I wasn't seeing that there or on master. You can see this issue that changed this from the header to the page here: https://tracker.moodle.org/browse/MDL-73448",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 4:40 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI custom_force_embed| removes SCORM stop button",
          "Text": "Jake, in M3.9 Boost is behaving the same way. But.... it seems that in M4.0 boost this is different which could be explained that it is not longer placed in the page-header class but activity-header",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 4:48 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI custom_force_embed| removes SCORM stop button",
          "Text": "Yep, it's different from 4.0 onwards (it's a navigation project change). 3.11 and earlier will have the scorm element in the page header (for reasons unbeknownst to me). Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 5:21 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 440219,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440219",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI implemantation on a personal LMS",
          "Text": "Good morning, I have a problem, i want to implement on my LMS (in c#) the LTI functionality so i can acces to all the tools from other websites. I have 0 knowledge on this subject, so i wanted to look up how moodle implements it but the code is very dense and i find it hard to follow. I don't know if someone knows a page or whatever that helps on implementing LTI on my LMS, or if theres another thread or forum where is explained how to incorporate the moodle one implemantation into mine. So far i found nothing, im just really lost and any help would be very appreciated :D",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 4, 2022, 9:01 PM",
          "AuthorName": "Unai Mendez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5262411&course=5",
          "role": [
            "Picture of Unai Mendez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI implemantation on a personal LMS",
          "Text": "Hi Unai, First up, I wouldn't recommend using the mod_lti code as an example of how to implement this in a platform. This code is quite difficult to follow and you'll likely just get bogged down with Moodle-specific detail. Secondly, only focus on LTI 1.3 and LTI advantage. The other specs have been deprecated for some time now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 7, 2022, 9:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI implemantation on a personal LMS",
          "Text": "Hi Jake, Thanks for confirming me to avoid the moodle code hahahahaha. I've been researching for two weeks now but i just found a very big lack of information and no help at all. Also Im new in the programation camp and my company just throwed this subject to me expecting to understand what to do (and i didnt even finished my degree yet) Anyway, I visited all ims webpages related to lti and well... it will be an interesting experience to put it in a way. Thanks again for your response, Hope u have a good day, Unai",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 7, 2022, 3:36 PM",
          "AuthorName": "Unai Mendez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5262411&course=5",
          "role": [
            "Picture of Unai Mendez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 437141,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437141",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 | Cron error",
          "Text": "Hi, I tried to find out the reasons with the LTI consumer, but some how we keep misunderstanding each other so I try it on the Moodle forum. We are busy with testing the LTI 1.3 advantage tool provider with an external LMS not Moodle based. During the testing we are encouter the following error in the cron. The task failed due to a \"call to a member function (out) on null\" When I removed the user from the course, the cron happily continued. In the course we had 2 Tool url's , and the specific user enter both to. The reply I got was when they enter the course that they noticed that the score is being saved per user.id, so when they restart the module again with a new resource_link.id/line_item.id then they still have the score from the earlier try WITH a different resource_link.id/line_item.id, But they state that it should not be working like this, looking at https://www.imsglobal.org/spec/lti-ags/v2p0#score-publish-service And that the \"logic\" it should be based on RegistrationID instead of  user.id , and therefore Moodle is not following the LTI standards. From my perspective it makes sense because it's the same user going in, and aka has the same Moodle user id that it will pick up the same grade. But I also understand they point of view, because we also got with LTI 1.1/1.2 the request that an user can start the course again (blanco without grade and progress) . To achive this we work with Course Recompletion plugin. In short my questions: Is the cron error an Moodle LTI 1.3 provider bug and should there be a tracker for this? (or is this maybe already solved). Is Moodle indeed not following the standard by using the logic user.id instead of using RegistrationID. Thank you for your time. Gemma",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1759318/1.png"
          ],
          "Time": "Thursday, August 11, 2022, 7:25 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 | Cron error",
          "Text": "Hi Gemma, I suspect that error is due to a missed update in MDL-74691 . Basically, we used to expect a lineitems URL (the plural URL ) and that issue should have addressed the error. Looks like I just missed a spot. I'll create an issue for this but it should be a fairly simple fix. Edit: I've created MDL-75532 to address this oversight. The score service uses the lineitem URL which is a unique URL for the specific resource's lineitem, and requires userid. Per the spec: The userId identifies the recipient of the Score (usually a student). The userId MUST be present and MUST be the same as the resource link LTI parameter 'user_id'. There's nothing about registrationid in that specification. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 17, 2022, 11:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Cron error",
          "Text": "Thank you Jake for your reply, this helps indeed. I got a little bit flustered by his response. I have this same discussion with LTI 1.1/1.2 with them. What they seem to want is to trigger a \"redo\" of the module by the student without us triggering a course reset for the student/students and/or creating a new Tool id/url in a different course. Is Moodle working on getting certification on LTI 1.3 from a provider standpoint? Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 17, 2022, 3:47 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 | Cron error",
          "Text": "Bit of a delayed response to this one, but the answer is yes and we've now been awarded that certification. You can see that here: https://site.imsglobal.org/certifications/moodle/moodle Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 27, 2022, 11:32 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 439664,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439664",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Configure Client-ID and consumerkey256",
          "Text": "Hi every1, we're trying to use Moodle as LTI provider. In our demo course we added the enrolment method and published the course as LTI module. So far, so good. In the other LMS, we're using the client secret and the url's we got from Moodle, but there's already one problem... The \"Client ID\" is a required field for the LTI configuration in the other LMS. So the question is, how can I configure the \"Client ID\" in Moodle? In the docs, it says that the \"Client ID\" can be anything or simply empty. But when we set it to anything, we're getting an error because of an invalid signature. So the first question is, how can we configure the client id used in Moodle? When we leave the \"Client ID\" blank in the other system, we cannot save/add the configuration, but we can test it and it seems that the signature correct now. Unfortunately, now we're getting another error when writing to database because \"consumerkey256\" (and also consumerkey) is null: So the question is, what's going wrong here? Do I need to configure the \"consumerkey256\" / \"consumerkey\" anywhere in Moodle? We're using Moodle 3.9 and LTI-1p0 (because in LTI-1p1 we're getting an error that the version number is missing or invalid).",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1769433/image%20%281%29.png"
          ],
          "Time": "Tuesday, October 18, 2022, 11:21 PM",
          "AuthorName": "Tim Volckmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2883738&course=5",
          "role": [
            "Picture of Tim Volckmann"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Configure Client-ID and consumerkey256",
          "Text": "Hi Tim, Sorry to hear you're having trouble. First up, you definitely need the client id, so you should be entering that in the remote LMS. Moodle just takes any client id passed in and keeps a record of it. You can use any string you like. It's up to you. If you had multiple clients, you'd probably use different strings for each, for example. Then, it's just a matter of why you're not getting the launch to work (you mentioned a signature issue). Which URLs are you using? Have you copied the secret exactly into the LMS platform? If you could please attach a trace of the error you're seeing in that circumstance, that'd be helpful. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 19, 2022, 9:57 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Configure Client-ID and consumerkey256",
          "Text": "Hi Jake, thank you for your answer. When we set it to any Client ID, yes... we're getting an error because of invalid signature. Only one external system is connected/using the Url's generated by Moodle. We configured the \"Client ID\" and set it to anything like \"test\" or \"demo\". The \"Client Secret\" is as provided by Moodle (\"06Mzcj...\" - you can find it in the error message shown above). The \"Access URL \" is \"https:///enrol/lti/tool.php?id=3\" and the \"Authentication Method\" is set to \"OAuth1-SHA1\".",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 19, 2022, 4:47 PM",
          "AuthorName": "Tim Volckmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2883738&course=5",
          "role": [
            "Picture of Tim Volckmann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Configure Client-ID and consumerkey256",
          "Text": "Hi Tim, Ok, you're using the correct URL and the rest looks okay too.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 19, 2022, 6:01 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Configure Client-ID and consumerkey256",
          "Text": "Hi Jake, unfortunately I'm not getting any stack trace. What I get is the following:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1769568/image%20%281%29.png"
          ],
          "Time": "Wednesday, October 19, 2022, 8:02 PM",
          "AuthorName": "Tim Volckmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2883738&course=5",
          "role": [
            "Picture of Tim Volckmann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Configure Client-ID and consumerkey256",
          "Text": "I'd suggest trying one of the following: a) Set the custom launch param \"custom_debug=true\" (set this in the LMS) b) Enable developer debugging on the Moodle site. That may give you some more useful information to work with. Worth also checking that both tool/platform are using the same time. If the time is out, signature verification can fail.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 20, 2022, 11:35 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Configure Client-ID and consumerkey256",
          "Text": "Where do I need to set the \"custom_debug=true\" in the LMS? I can set it in the other LMS as parameter... Developer debugging is already enabled on Moodle side.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 20, 2022, 4:33 PM",
          "AuthorName": "Tim Volckmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2883738&course=5",
          "role": [
            "Picture of Tim Volckmann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Configure Client-ID and consumerkey256",
          "Text": "If you've already set developer debugging, then that's all you should need to do (it'll have the same effect as sending that launch param). Unfortunately, all of this code is very difficult to debug in situations such as this without actively stepping through the launch with something like xdebug - which may or may not be an option for you. If you can, I'd recommend doing that. We essentially want to pinpoint exactly why the signature verification fails. Unfortunately, there's not a lot else i can suggest right now from here. I'd also be checking that the other platform is trying to launch into the tool using 1.1, and isn't trying via a newer method like 1.3.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 20, 2022, 5:22 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Configure Client-ID and consumerkey256",
          "Text": "The other platform is using LTI 1.0 (see the \"litversion\"-entry in the error message above). We set the \"custom_debug=true\", but unfortunately we're not getting any trace, but in Moodle the debug level is set to \"Development\" and also \"Debug messages\" are enabled. Any other idea?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 21, 2022, 12:14 AM",
          "AuthorName": "Tim Volckmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2883738&course=5",
          "role": [
            "Picture of Tim Volckmann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Configure Client-ID and consumerkey256",
          "Text": "Nothing I can suggest I'm afraid. Maybe if you share details about what platform you're trying to integrate with, others will be able to add their 2c. Maybe someone else has run into a similar issue with that specific platform. Like i said, signature verification can be tricky to debug and is something you really need access to the servers to step through in cases like this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 21, 2022, 9:41 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Configure Client-ID and consumerkey256",
          "Text": "Hi Jake, I'm trying to \"integrate\" Moodle with SABA. Moodle is the provider and SABA the consumer, but I've no access to the SABA servers. So I cannot check anything on SABA end, but on Moodle end. But unfortunately I'm not getting any debug information or any stack trace in Moodle - even if I enable debugging and also set custom_debug to true 🤔",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 25, 2022, 2:46 PM",
          "AuthorName": "Tim Volckmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2883738&course=5",
          "role": [
            "Picture of Tim Volckmann"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 439797,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439797",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restricting users coming in through LTI",
          "Text": "I am new to the use of LTI. I will describe the context . Please advise the process of implementing LTI in Moodle. We are using Moodle 4.0. We have a set of school-level activities on our Moodle. We are now in discussion with another LMS provider, whose proprietary LMS is also LTI compliant. The LMS provider offers their platform to various partners, who in-turn market the LMS to various schools. It is possible that only a subset of the partners enter into an agreement with us. When their LMS and our Moodle talk to each other through the LTI, how can we ensure that only the partners with whom we have an agreement will have access to the interactives?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 23, 2022, 2:40 PM",
          "AuthorName": "Rameshwar Vupadhyayula",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1000232&course=5",
          "role": [
            "Picture of Rameshwar Vupadhyayula"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restricting users coming in through LTI",
          "Text": "Hi Rameshwar, The first thing to note is that if you're running Moodle 4.0, you'll want to be providing access to the activities over LTI 1.3 (LTI Advantage), not the legacy LTI 1.1/2.0 methods. Everything I'll talk about here relates to LTI Advantage only. The second thing to be aware of is that Moodle, at least in its vanilla form, isn't a multi-tenant application (that's what Moodle Workplace offers additionally). Given you're talking about multiple partners/ tenants on the platform, this is an important point to note. While LTI does provide for multi tenant support in both the tool and platform applications, Moodle is a single tenant tool. Moodle 4.0 therefore doesn't provide the ability to publish content to a specific client or deployment. Any published activities can be seen and consumed by any registered platforms -  provided of course they have been linked properly to begin with (which means they need to have a registration, complete with one or more approved deployment ids). So, what you're describing might be possible, but it sounds like it will depend on whether all the partners (those you have agreements with) always get access to ALL published activities on the Moodle site. If that is the case, then the existing LTI Advantage model will work for you. In this case, you just need to make sure you've got the relevant registration in place for each of the partners. How this registration is achieved will depend on the deployment model used by the external LMS. You'll either end up with a single registration for the external LMS, and one or more deployment ids per partner, or you'll end up with many registrations; each representing a partner and having one or more deployment ids. Either way, as long as the registration and deployment ids are in place for the relevant partners, they'll all have access to all the published content on the site. If you enter into another agreement with a future partner, then (again, depending on the platform's deployment model), you either add another deployment id to the central registration, or you add a new registration entirely. If, on the other hand, the desire is to share select content only with each of the partners, then I'm afraid it's something we don't currently support in Moodle LMS. That is, there isn't currently a way to publish a piece of content (an activity or course) to a specific registration (or deployment), and this is mainly because Moodle wasn't designed with tenancy like this in mind. There's an issue dealing with exploring this, but I've not had time to do so yet. You can see that tracker issuer here: MDL-74233 . Hopefully some of the above information is useful. I know there are perhaps a few foreign concepts like registrations and deployments to digest, but you can find good documentation for these on the 1edtech LTI Advantage page . Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 25, 2022, 11:00 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 439687,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439687",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "[3.11] 401 Unauthorized on grade sync",
          "Text": "We are getting the following error when we try to sync our grades back to Moodle \n```text\n1.  \n{\n```\n \n```text\n2.  \n    \"status\": 401,\n```\n \n```text\n3.  \n    \"reason\": \"Unauthorized\",\n```\n \n```text\n4.  \n    \"request\": {\n```\n \n```text\n5.  \n        \"method\": \"POST\",\n```\n \n```text\n6.  \n        \"url\": \"/mod/lti/services.php/23630/lineitems/110203/lineitem/scores?type_id=43\",\n```\n \n```text\n7.  \n        \"accept\": \"application/json\",\n```\n \n```text\n8.  \n        \"contentType\": \"application/vnd.ims.lis.v1.score+json\"\n```\n \n```text\n9.  \n    }\n```\n \n```text\n10.\n}\n```\n I have seen some threats about this on the forums, but no solutions. Does anyone have a solution for this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 19, 2022, 4:38 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: [3.11] 401 Unauthorized on grade sync",
          "Text": "Hi Richard, That error is likely going to be tricky to pin down, without actually debugging the service call in real time. I suspect it's occurring here: https://github.com/moodle/moodle/blob/27cbb5965ea34dc142a519cfa72be8cdab353156/mod/lti/service/gradebookservices/classes/local/resources/scores.php#L88 but would definitely need to step through service call to see what's causing that. Can you add more information on how you've set up the tool/platform (which version of LTI you're using, what settings you're using on the activity in Moodle)? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 20, 2022, 11:46 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [3.11] 401 Unauthorized on grade sync",
          "Text": "We fixed this by adding this to /etc/apache2/conf.d/userdata/ssl/2_4/moodle/authmod.conf SetEnvIf Authorization \"(.*)\" HTTP_AUTHORIZATION=$1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 21, 2022, 6:13 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [3.11] 401 Unauthorized on grade sync",
          "Text": "Good to hear you resolve the issue, Richard. PHP needs to be able to read the HTTP Authorization header for the OAuth 2.0 service requests to work. That directive just makes sure that Apache sends the header to PHP so the request can be verified. It seems like a widely adopted solution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 24, 2022, 1:02 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 439092,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439092",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "Grades not transferring for most students",
          "Text": "Hello, I'm using the LTI tool on Moodle 3.11. The remote site is also using 3.11. I think everything is set up correctly as the quiz grades for 1 or 2 students are being transferred automatically to the remote site. However, it is not transferring grades for the majority of the attempts. I'm awarding badges based on the grades and consequently these are not being attributed either. What could be the cause of this error? Thank you in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 5, 2022, 8:46 AM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "That's a little hard to say, without knowing the full story. Some things to check though: Can you see enrolments for all the students in question in the provider/tool site? An enrolment is an indicator that the student has in fact launched into the quiz from the consumer/platform site. Grade sync will only sync changes in grades, so be mindful of that. Verify that \"Require course or activity completion prior to grade synchronisation\" isn't checked in the tool/provider. This impacts grade sync. Run the task via \"Run now\" in the site admin scheduled tasks list on the tool/provider site. Alternatively, you can run the job directly, via the command line with: php admin/cli/scheduled_task.php --execute=\"\\enrol_lti\\task\\sync_grades\" You should be able to then see the output of the job and see what the tool is attempting to sync. That may give you some more information which helps. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 5, 2022, 9:15 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "Hello Jake, Thanks for the speedy reply. I checked the settings and it is all as you suggest. The enrolments are \"no roles\". I'm changing them manually to \"student\" role. Also,  the maximum grades are different in the consumer site (/100) and the provider site (/30) - could this be causing a conflict? Running the sync_grades task shows some invalid grade and invalid contextid messages and a large number of Fail Delay (see screenshot) \n```text\nSkipping - \nInvalid grade for the user '966' in the tool '40'\n for the course '258'.\nSkipping - Invalid grade for the user '972' in the tool '40' for the course '258'.\nCompleted - Synced grades for tool '40' in the course '258'. Processed 29 users; sent 0 grades.\n\nStarting - Grade sync for shared tool '41' for the course '258'.\nFailed - \nInvalid contextid '5089'\n for the tool '41'.\nCompleted - Synced grades for tool '41' in the course '258'. Processed 1 users; sent 0 grades.\n```\n How do I rectify these errors? Thanks",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1767296/2022-10-05_13-19-12.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1767296/2022-10-05_13-49-56.png?forcedownload=1"
          ],
          "Time": "Wednesday, October 5, 2022, 7:45 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "Thanks for the info. The first thing to note is that you don't need to assign the student role. In fact, doing so may grant access to the student to other activities in the course - activities you didn't intend to grant access to. I wouldn't recommend doing this. The student role is applied at the context level with an LTI launch (at activity level), so to see it, you need to inspect the role assignments there. None of that will affect grade sync, though - just thought I'd clarify. All those settings in the screenshots look fine to me too. The maximum grade can differ between the two, that's fine. It'll send a fraction over. E.g. 0.3 or whatever, and the recipient system will resolve that to the correct numerical grade. I can see two things from those task logs: Some users have invalid grades - and this just means that the grade probably hasn't been awarded yet - that's fine if that is indeed the case. The task just reports it so we know the user was looked at really. Some tools are published but are no longer linked to valid (existing) activities or courses.  This is what the \"Invalid context xxx\" trace means. You'll need to edit the published tool (in the tool site) and assign an activity or course. This happens when you delete an activity usually, and the tool is left behind in a stale state. I've recently patched this in MDL-68843 . You mentioned \"a large number of Fail Delay\" but I'm not seeing that above, and I'm not quite sure what you mean there - could you clarify on that (or post a section of the task log)? One more thing I'd like to know is how you're setting up the tool instance in the consumer site. Are you using the Launch URL and secret (LTI 1.1) or the Registration URL (LTI 2.0) to do this? Thanks again for the info. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 6, 2022, 11:16 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "Hello Jake, I'll look at reassigning the tool to its activity. Here's the screenshot for the Fail Delay in Scheduled Tasks ( I cleared it yesterday)! I'm using the Cartridge URL in both Secure Tool URL and Tool URL fields (not the Launch URL) and secret to set up the tool. Maybe this is the problem? Thanks",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1767407/2022-10-06_06-50-26.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1767407/cartridge.png?forcedownload=1"
          ],
          "Time": "Thursday, October 6, 2022, 12:53 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "That's actually the tool URL, not the cartridge URL (cartridge URLs end with . xml ), and that seems to be configured just fine. If you're worried, just launch into the tool; if it's not configured correctly, you'll know about it (it won't launch). It also definitely won't launch if you haven't linked a valid activity to the published tool (so definitely check/fix that). The fail delay is a mechanism used to delay future runs of the task when the task is failing a lot, and it's used to make sure we don't retry too often under fail conditions. If the task is working properly (without throwing exceptions), then it'll run as originally configured (which may be every minute, every 30, etc). In your case, the delay is currently very high, at 61440 seconds (17 hours), so that very well could be the reason you're not seeing grade sync happening - because it's only running ~ 1 times/day. So, there must be exceptions being thrown in the run, but I'm not seeing them in the small sample of the task output shown above. Clicking \"Run now\" should allow you to see this, and then we can troubleshoot that further. That, or you can clear the fail delay (but the problem may come back again if you don't resolve/address the source of the exceptions). If you can post the exceptions here, that would be helpful. You're looking for something like: \"Scheduled task failed: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades)\" at the bottom of the task run output. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 6, 2022, 1:49 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "Hello Jake, Here are the exceptions: Starting - Grade sync for shared tool '39' for the course '258'. Failed - Invalid contextid '5088' for the tool '39'. (x67) Starting - Grade sync for shared tool '41' for the course '258'. Failed - Invalid contextid '5089' for the tool '41'. Completed - Synced grades for tool '41' in the course '258'. Processed 1 users; sent 0 grades. Scheduled task failed : Publier comme outil LTI de synchro des notes (enrol_lti\\task\\sync_grades),Erreur de programmation détectée. Ceci doit être corrigé par un programmeur : Invalid context id specified context::instance_by_id() How do I find  the contextids and the tools 39 and 41? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 6, 2022, 10:32 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "Ok, so we're getting somewhere now. Ignore those first \"Failed - Invalid context \" traces. Those aren't the exceptions. What we're really concerned with is the exception that causes the task to fail. In this case, that's the: Invalid context id specified context::instance_by_id() message at the end of the task run (the point during execution which throws the exception) . This can only occur in certain circumstances: when the tool context id is either not an integer or is empty. Can you attach the last few lines of the trace? This should show what the task was doing right before it failed, and it may include some more useful information, such as the tool id. Thanks in advance! Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 7, 2022, 10:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "Here are the last few lines of the trace: Skipping - Invalid grade for the user '966' in the tool '40' for the course '258'. Skipping - Invalid grade for the user '972' in the tool '40' for the course '258'. Completed - Synced grades for tool '40' in the course '258'. Processed 29 users; sent 0 grades. Starting - Grade sync for shared tool '41' for the course '258'. Failed - Invalid contextid '5089' for the tool '41'. Completed - Synced grades for tool '41' in the course '258'. Processed 1 users; sent 0 grades. Starting - Grade sync for shared tool '42' for the course '258'. Completed - Synced grades for tool '42' in the course '258'. Processed 0 users; sent 0 grades. Starting - Grade sync for shared tool '43' for the course '258'. ... used 1155 dbqueries ... used 1.9368200302124 seconds Scheduled task failed: Publier comme outil LTI de synchro des notes (enrol_lti\\task\\sync_grades),Erreur de programmation détectée. Ceci doit être corrigé par un programmeur : Invalid context id specified context::instance_by_id()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 7, 2022, 2:17 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "Ok, that last one looks like it may be the culprit. You can see that it doesn't finish with the normal \"Completed - xxx\" trace like the rest. If you have database access, it would be interesting to see what the following returns: SELECT contextid from DBPREFIX_enrol_lti_tools where id = 43; You'll need to replace the DBPREFIX bit with the relevant prefix for your site. Failing that, you'll need to try to find the tool in a course. There really isn't an easy way to do this by id, so you'll need to check the 'id' param for each 'edit tool settings' link (the cog on the published tools page). If there are only a handful of tools on the site, this may be feasible. Let me know how you go Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 7, 2022, 3:00 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "GOT IT! Problem solved! THANK YOU",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 7, 2022, 5:15 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "Glad you got to the bottom of this one. If possible, would you mind sharing the solution that worked for you here? It would certainly help others, and would help us patch the issue too (we don't really want to get into situations like this to begin with if we can avoid it) Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 10, 2022, 10:28 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring for most students",
          "Text": "So I found an LTI activity with an coding error in another unused course. I removed the enrolment method in that course and it unblocked the transfer of grades.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 10, 2022, 10:31 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430652,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430652",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "error connecting you to the application.",
          "Text": "Hello, With Moodle 3.10.6 we have been providing LTI connection to one school for the last 3 months, suddenly during this holiday students has found this notice: An error occurred when launching the external tool:Sorry, there was an error connecting you to the application. Others schools are being  LTI connected to us without any problem, so we guess such school has made any change in its Moodle configuration, but the admin says he is not aware of any change. Any hint? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 10, 2022, 10:49 PM",
          "AuthorName": "Bernat Martinez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=92175&course=5",
          "role": [
            "Picture of Bernat Martinez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: error connecting you to the application.",
          "Text": "I answer myself After debugging It seems to be a date problem, we are trying to fix it",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1733055/Captura%20de%20Pantalla%202022-01-11%20a%20la%28s%29%2011.11.30%20copia.jpg"
          ],
          "Time": "Tuesday, January 11, 2022, 6:17 PM",
          "AuthorName": "Bernat Martinez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=92175&course=5",
          "role": [
            "Picture of Bernat Martinez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error connecting you to the application.",
          "Text": "Hi Bernat, This looks like the same kind of error another user reported in https://moodle.org/mod/forum/discuss.php?d=429430 . I was unable to replicate that one, but if you do have any luck tracking down your issue, it would be great if you could share here. It would be nice to know what kind of situation caused this for you, and will almost certainly help others. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 4:08 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error connecting you to the application.",
          "Text": "Hi Jake, we are currently having the same issue. Can you help us out and tell us if/how you fixed the issue? Kind regards, Lynn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 5, 2022, 1:38 AM",
          "AuthorName": "Lynn Cauwels",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2716559&course=5",
          "role": [
            "Picture of Lynn Cauwels"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error connecting you to the application.",
          "Text": "Hi Lynn, I wasn't able to replicate this reported problem on my local test environment. That said, it sounds like Bernat may have hinted that the issue was a date/time issue. Might be worth checking that both consumer and provider have a time that is in sync with one another (timestamps are used in signature verification, as I recall). Generally speaking, the legacy provider code isn't great at providing specific information about where it may have tripped up (or where signature verification failed, to more specific), but there is one setting that can sometimes help. If you go to the external tool instance settings on the consumer site (the 'settings' for the specific activity), and click \"Show more\" under the \"General\" section, you'll see a field called \"Custom parameters\". Enter the following in that field, on a new line: custom_debug=true Then, perform the launch as you normally would. You may get additional detail about where the problem lies which you can then post back here. Hope that helps you get at least one step closer. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 5, 2022, 8:55 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error connecting you to the application.",
          "Text": "Hi Jake, thanks for your quick response! We have in the meantime (finally!) found a solution for the issue. Our hosting partner apparently puts '_' as default server name (for a specific reason), but adjusting the server name to the actual domain name solved the issue, HOORAY Thanks for helping out and taking the time to provide feedback to my question!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, October 5, 2022, 8:14 PM",
          "AuthorName": "Lynn Cauwels",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2716559&course=5",
          "role": [
            "Picture of Lynn Cauwels"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error connecting you to the application.",
          "Text": "Hi Lynn, In the interest of making this solution publicly available, could you perhaps share more info on what you had/have and what changed in Moodle, or on the server config? It would be really great to be able to point others to potential cause/solution in future. Thanks! Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 6, 2022, 11:20 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error connecting you to the application.",
          "Text": "I'm don't have any technical background myself but as far I as understood: LTI uses the server name to 'compose' the right URL .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 6, 2022, 4:02 PM",
          "AuthorName": "Lynn Cauwels",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2716559&course=5",
          "role": [
            "Picture of Lynn Cauwels"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error connecting you to the application.",
          "Text": "Thanks for confirming, Lynn. That's right. The legacy LTI provider code does depend on that value, as can be seen here, and that can represent virtual hosts: https://github.com/moodle/moodle/blob/898d5d05a0c3ae6795db0241bf3cb5951213d45c/lib/ltiprovider/src/OAuth/OAuthRequest.php#L41 . Setting that to something other than the actual server hostname, will result in a signature verification failure. Hopefully this helps someone else! Thanks again",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 6, 2022, 6:48 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 438704,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438704",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI - Error: launch requires id_token",
          "Text": "When trying to launch a course through External Tool/LTI I'm experiencing this issue... Has anyone come across this issue before and could advise on next steps? Currently running Moodle version 4.0.2+ Thanks, Paul",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1765881/image.png"
          ],
          "Time": "Monday, September 26, 2022, 5:43 PM",
          "AuthorName": "Paul Sanderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4344284&course=5",
          "role": [
            "Picture of Paul Sanderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI - Error: launch requires id_token",
          "Text": "Hi Paul, Sorry to hear you're having trouble with this. When launching tools over LTI 1.3, id_token is the essential element, as it contains all the information about the user and resource in the platform site (formerly known as the consumer site). This error is just reporting that this is missing, and the launch is unable to proceed. We'll probably need more information about how you're setting up the resource link in the platform. A network trace of the launch is what I normally suggest attaching to the post. This helps us see what's being sent from platform to tool during the launch. The best way to do this is via a HAR file. You can find information on how to capture the network data here: https://developer.chrome.com/docs/devtools/network/reference/#save-as-har . Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 27, 2022, 10:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI - Error: launch requires id_token",
          "Text": "Hi Jake, Thanks for quick the reply! Managed to get the .HAR file and it was referring to the launch url rather than the tool one, so I've replaced the url with the tool url.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 28, 2022, 8:15 PM",
          "AuthorName": "Paul Sanderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4344284&course=5",
          "role": [
            "Picture of Paul Sanderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI - Error: launch requires id_token",
          "Text": "Thanks, Paul. I'd suggest reading the docs on Moodle's LTI provider ( https://docs.moodle.org/400/en/Publish_as_LTI_tool ), since the supported versions have changed since 4.0. Since 4.0, we support both LTI 1.3 (LTI Advantage) and the older (now legacy) LTI versions 1.1. You need to pick the version of LTI when publishing the activity/course. Depending on the version, you'll use different endpoints for the launch (and the table will show you the relevant endpoints). LTI 1.3 uses enrol/lti/launch and enrol/lti/launch_deeplink, while legacy LTI uses enrol/lti/tool. LTI 1.3 requires that tool and platform sites be registered with one another before any launches can take place, since it's using OpenId and OAuth 2.0. LTI 1.1 does not have this requirement. The HAR file you provided above uses the legacy endpoint, which will only work if you're using the consumer key/secret and using a platform configured to launch the tool over LTI 1.1. Given you're using 4.0, I wouldn't recommend this because 1.1 is deprecated and out of support. Essentially what you want to be doing is: a) Register the tool site with the platform site (using dynamic registration if the platform supports it - Moodle does) b) Configure the resource link in the platform using deep linking (select content). This will automatically populate the link with the relevant launch details needed (launch URL and relevant resource ID) c) Launch the tool using the newly created resource link The docs linked above describe this process. If you're adamant on using 1.1, then you'll need to read the section on legacy LTI there. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2022, 9:54 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI - Error: launch requires id_token",
          "Text": "Thanks Jake, We're running Moodle 4.0 as the provider, the consumer is running Totara 9 (Though going through an upgrade to Totara 12 next week) so we're stuck using LTI 1.1 unfortunately. Followed step-by-step in the guide but it appears that it's struggling to connect to the servers on any of the provider sites we've tried to link. Are there any security settings in Moodle which may prevent it from connecting? Thanks, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2022, 12:41 AM",
          "AuthorName": "Paul Sanderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4344284&course=5",
          "role": [
            "Picture of Paul Sanderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI - Error: launch requires id_token",
          "Text": "Hi Paul, If you're testing locally, there's always \"Blocked hosts\" and \"Allowed ports\" to consider (Under \"HTTP Security\"). We block localhost access via those settings by default. Given the error you see mentions an invalid signature, I'd be double checking that the secret you've used in the tool configuration in Totara matches the secret generated on the Legacy published tools view in the tool site. The consumer key can be anything you like, however.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2022, 9:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 438627,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438627",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Labster plugin Error E1000",
          "Text": "Hello everyone! The Students cannot login  the labster. They encountered error e1000 .  I suppose problem with protocol lti, but I'm not confident.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1765637/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1765637/Labster.PNG?forcedownload=1"
          ],
          "Time": "Friday, September 23, 2022, 7:33 PM",
          "AuthorName": "Amangeldi Kapez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5137632&course=5",
          "role": [
            "Picture of Amangeldi Kapez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Labster plugin Error E1000",
          "Text": "Hi Amangeldi, I'm going to need more information before I have an idea of what's happening with this launch. Have you raised this with Labster? Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2022, 10:00 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Labster plugin Error E1000",
          "Text": "Hello, Jake, Yes, We have. But they said: our team is talking directly with Moodle to understand the issue better. This seems to be failing on Moodle side and they should be fixing it soon.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2022, 11:04 AM",
          "AuthorName": "Amangeldi Kapez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5137632&course=5",
          "role": [
            "Picture of Amangeldi Kapez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Labster plugin Error E1000",
          "Text": "Hi Amangeldi, I work for Moodle and on LTI development specifically, and I'm certainly not aware of any fix being made with respect to the above. That said, it's not clear what's happening in the above screenshot. A huge amount of background information is missing. To troubleshoot any LTI related issues, I generally need step by step instructions describing how you've configured the tool in Moodle and how you're using it (deep linking for example). Then, we'd need to examine the launch in a step by step manner (usually a browser network trace is a good place to start).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2022, 11:57 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Labster plugin Error E1000",
          "Text": "Hi, I think we should create a conference to discuss this issue and if you need access to our moodle we can do that. For example zoom and etc.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2022, 1:30 PM",
          "AuthorName": "Amangeldi Kapez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5137632&course=5",
          "role": [
            "Picture of Amangeldi Kapez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 438699,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438699",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 is pointing an issue.",
          "Text": "Hi everyone, I'm using Moodle on my local server . And now I want to add the external tool in my Moodle site. However, whenever I goes to manage tools in site admin and add the external tool information. After that when I  click on the save changes button . Instead of generating an external tool it shows me up the following error. Can somebody please help me in this regard. \"LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server. Please contact the site administrator to configure and enable openssl for this site.\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 26, 2022, 3:11 PM",
          "AuthorName": "Muhammad Ohad Ali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4555156&course=5",
          "role": [
            "Picture of Muhammad Ohad Ali"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 is pointing an issue.",
          "Text": "Hi Muhammad, We need to generate private/public key pairs for use in LTI, and we do this using some of the functions provided by the openssl php extension. Normally, this works out of the box, but on some systems (predominantly Windows systems as I recall), the configuration isn't correct (or isn't found for some reason) and we're unable to use the required methods to create the keys. At this point, we're unable to use LTI and we can only report this via the error you're seeing. I'd recommend checking the openssl.cnf is present in the expected location (this will probably vary per system) and is readable, etc. Perhaps others who have run into this problem can share their solutions. Hope that helps,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 27, 2022, 10:36 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 is pointing an issue.",
          "Text": "Thanks for tips Jake. Would you like to let me know about openssl php extensions so that I 'll be able to find out the issue. And please also explain that how I'll be able to generate private/public key pairs for use in LTI and let me know about the systems on which the configuration isn't correct. For your convenience I'm attaching the screenshot of error below. And from which location I'll be able to check the openssl.cnf extensions. Your help will be much appreciated.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1765991/Screenshot_1.png?forcedownload=1"
          ],
          "Time": "Tuesday, September 27, 2022, 11:42 AM",
          "AuthorName": "Muhammad Ohad Ali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4555156&course=5",
          "role": [
            "Picture of Muhammad Ohad Ali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 is pointing an issue.",
          "Text": "Hi Muhammad, Given this is a server configuration issue, I can't really tell you exactly how to resolve it. There have been other posts in the past describing the issue, such as https://moodle.org/mod/forum/discuss.php?d=398856 . Perhaps you'll find some answers there. See also the Moodle docs on the subject: https://docs.moodle.org/400/en/admin/environment/php_extension/openssl Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 27, 2022, 12:36 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 is pointing an issue.",
          "Text": "Hi Jake, I have applied all the settings as provided and mentioned in following link \" https://docs.moodle.org/400/en/admin/environment/php_extension/openssl \". However, all in wane. After applying these I'm still facing the error in my Moodle site. Is there any another solution is available. Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 27, 2022, 1:45 PM",
          "AuthorName": "Muhammad Ohad Ali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4555156&course=5",
          "role": [
            "Picture of Muhammad Ohad Ali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 is pointing an issue.",
          "Text": "Hi Muhammad, If you're on Windows, then this post may help: https://moodle.org/mod/forum/discuss.php?d=433995#p1746580 . Essentially that last part involving setting the $CFG->opensslcnf may be required. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 28, 2022, 9:37 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 is pointing an issue.",
          "Text": "Hi Jake, Thank you so much for your kind information. I have generated the public key in Moodle Networking. However, I'm still facing the same error in my Moodle Site admin < Manage Tool. \" LTI 1.3 requires a valid openssl.cnf to be configured and available to your web server . Please contact the site administrator to configure and enable openssl for this site.\" What should I do now? Regards, Muhammad Ohad",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 28, 2022, 7:19 PM",
          "AuthorName": "Muhammad Ohad Ali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4555156&course=5",
          "role": [
            "Picture of Muhammad Ohad Ali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 is pointing an issue.",
          "Text": "Hi Muhammad, Unfortunately, I'm out of ideas on my end. This is essentially not a Moodle problem, but one of server configuration - and I don't have the knowledge of your system required to help with that. You might find that if you create a post in the general developer forum (which has a much wider audience) and ask for help configuring openssl on windows, that someone will be able to assist you. That forum can be accessed here: https://moodle.org/mod/forum/view.php?id=55 Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2022, 9:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 436410,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436410",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI Issue",
          "Text": "Hi there, have read various threads but struggling to find a solution to this. Currently running Moodle 3.7 (This to be the LTI provider site) and trying to share content with another Moodle site running 3.7. On the provider site, have followed this guide: https://docs.moodle.org/400/en/Publish_as_LTI_tool#:~:text=Transitioning%20to%20HTTPS.-,A%20required%20parameter%20(oauth_consumer_key)%20was%20missing,and%20without%20special%20characters%2C%20however. However, at the point: As an admin user, go to \"Site administration > Plugins > Enrolments > Publish as LTI tool > Tool registration I dont seem to have the 'tool registration' as an option? Possibly a theme issue (running Edwsier Remui). I have tried setting up the 'sharing a course or activity' some success after following forum issues (such as favicon etc), but my lesson is showing: An error occurred when launching the external tool:Sorry, there was an error connecting you to the application.' Im guessing this is because the sites arent registered with each other? Any help much appreciated. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2022, 10:30 PM",
          "AuthorName": "Lee Daymond",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2158752&course=5",
          "role": [
            "Picture of Lee Daymond"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Issue",
          "Text": "Hi Lee, You're reading the docs for Moodle 4.0, where LTI 1.1 and 2.0 are deemed 'legacy' (These have been deprecated by IMS Global for some time now). You'll need to follow the Legacy Resources section of the docs. Tool registration is only a relevant concept in Moodle 4.0+. Also, just pointing out that 3.7 is well out of support, so I'd strongly suggest upgrading when you can. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 18, 2022, 10:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Issue",
          "Text": "Thanks Jake, much apprecaited. We've managed to upgrade now to Moodle 4.0+, we have a client running a Totara version 10.3 that we wish to push our learning content across too, having a few issues with this still, will keep at it and drop any further queries in here. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 23, 2022, 10:57 PM",
          "AuthorName": "Lee Daymond",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2158752&course=5",
          "role": [
            "Picture of Lee Daymond"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 438091,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438091",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Does \"Select Content\" requires \"Add new External tool\" permission?",
          "Text": "We have disabled the \"Add new external tool\" permission for users. We thought that any pre-configured tool could be added by the users even if we disabled the permission. However, Kaltura video quiz cannot be added as it seems like \"select content\" is relevant to adding the tool. It could be that \"Select content\" requires permission to add a new tool in Moodle. Is there a way to allow users to use a pre-configured Kaltura video quiz without enabling \"add new external too\" permission?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 10, 2022, 12:35 AM",
          "AuthorName": "Olivia Jeon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4459296&course=5",
          "role": [
            "Picture of Olivia Jeon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Does \"Select Content\" requires \"Add new External tool\" permission?",
          "Text": "Hi Olivia, I'd suggest checking out the discussion over on https://moodle.org/mod/forum/discuss.php?d=434214 . I think that will probably answer your questions around LTI capabilities. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 14, 2022, 11:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 437161,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437161",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 grade Sync with Canvas",
          "Text": "We have a client that needs to use LTI 1.1. We are testing the grade sync with Canvas.  We can't currently get grades to sync with 1.1 using a SCORM based grade. When I run the task report I see that the grades are being read I assume from looking at the image below. We are getting a failure. When I view the actual report there is zero information being displayed unlike the LTI Advantage report which shows a lot of detail.  Any suggestions to determine what is happening with the grade sync?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1759381/lti-sync-issue.png?time=1660245659338"
          ],
          "Time": "Friday, August 12, 2022, 3:36 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 437060,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437060",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Pass Course ID Number to Perusall through custom LTI parameter",
          "Text": "Here is the situation. Our institution sets up a new Moodle instance each year and keeps the previous four years to allow faculty to reuse course material. So, we have five active Moodle instances each year. Our naming convention is moodle-academicyear.tld.edu. This year's is moodle-2223.tld.edu. The courses in each year have a unique course id number following the convention DEPT-coursenumber-sectionnumber-academicyearterm, e.g., ENGL-10000-01-2223FA. However, since we set up a new server each year the id for each course ( database unique key) that is passed in the URL will represent different courses each year. This is not a problem for Moodle but it is a problem with some LTI tools which expect an institution to have one Moodle instance forever. Perusall seems to be one such LTI tool provider. Perusall is using the id sent through the URL to identify the course in their system. This was no problem until this year when a faculty member went to set up their course for Perusall and was taken to a previous year's course in Perusall because their Moodle id matched a previous year's Moodle id where the faculty member had used Perusall. Perusall does say they have a custom parameter \"custom_perusall_course_id\" that could solve the issue. The question is what to put to pass the Course ID Number? From my poking around the Course ID Number is in the global course variable, $COURSE, as idnumber and the id passed in the URL is in $COURSE as id. So, what goes on the right side of the equals to pass idnumber to Perusall? custom_perusall_course_id=idnumber? custom_perusall_course_id=$COURSE->idnumber? custom_perusall_course_id=somethingelse? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2022, 1:11 AM",
          "AuthorName": "Jon Breitenbucher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=118798&course=5",
          "role": [
            "Picture of Jon Breitenbucher"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Pass Course ID Number to Perusall through custom LTI parameter",
          "Text": "Solution is to enter the following for a custom parameter perusall_course_id=$CourseSection.sourcedId",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 10, 2022, 10:51 PM",
          "AuthorName": "Jon Breitenbucher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=118798&course=5",
          "role": [
            "Picture of Jon Breitenbucher"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 437062,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437062",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Names and Roles membership returns unauthorized",
          "Text": "We are having the same issue as described in this thread: Moodle in English: LTI 1.3 got an access token but getting list of members still fails, any reason why? However, there was no resolution to that thread. Can get an access token, but the request to get membership fails with 401 Unauthorized. This works with a local instance of Moodle, but not with a client's Moodle instance. Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2022, 2:13 AM",
          "AuthorName": "Victor Bushong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5014680&course=5",
          "role": [
            "Picture of Victor Bushong"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 436729,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436729",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Sessions",
          "Text": "Hello everyone, I am attaching a video as part of a test. https://www.screencast.com/t/VPGn6ykwd6o We have integration between Moodle and Brigthspace. Moodle is the tool provider, and Brigthspace works as a consumer. The conection is NOT LTI 1.3 These are the steps from the video. 1. Open an LTI link (External Learning Tool) to a SCORM Activity. 2. Navigate the SCORM to reach slide 2. 3. Open a new link Quiz as External Resource. 4. Answer a question from the Quiz. 5. Return to the SCORM Activity and advance to the slide 3. 6. Close tab with the SCORM Activity. 7. Open the same SCORM Activity of point 1. --- Issues --- 8. The SCORM Activity allows the students to move to slide 2, but Progress 3 was not saved since the user reached the slide 3. If no Quiz or external tool is open, the progress is saved. 9. Answer a new Question from Quiz opened in point 3. The session was closed and the student was kicked out of the Quiz. Each time a new link is opened, the previous session is terminated. Is this a behaviour that can be modified? Is there a solution in LTI 1.3 to this behaviour? Thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2022, 9:50 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Sessions",
          "Text": "Hi Jan, Yes, this is something that's a problem in legacy launches because we call complete_user_login() for every launch, regardless of whether the user has a existing session or not. The LTI Advantage implementation deliberately doesn't do this. If the mapped user is found to have a session, we use that session instead of starting a new one. This also means that sites can publish and consume resources to/from the same site, using deep linking with LTI Advantage, without running into session issues. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2022, 10:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sessions",
          "Text": "Hello Jake, Thanks for your answer. It is very helpful. Do we have any thread that could help us with the implementation of LTI Advantage from Moodle (Tool Provider) to Brightspace (Tool Consumer)? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2022, 11:24 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sessions",
          "Text": "Hi Jan, This isn't something I've tested personally, but I know some members of the community have set up the D2L integration successfully for launching and grade sync purposes. The D2L docs are probably a good place to start. I imagine setting up a Moodle tool is much the same as setting up any other tool over LTI Advantage. Perhaps others can share their experience here. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2022, 12:00 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 436309,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436309",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "LTI Gives Login Screen 3.10",
          "Text": "Hello, I have been getting a login screen when using attempting to configure LTI. I have done a fair bit of troubleshooting and am not getting very far. Any help is appreciated! I am coordinating this between a tool on 3.10.9 and 3.10.8 I have utilized one method, where the launch URL is used: Further another method where I use a legacy cartridge: Here is its modest config: When I select deep linking I get an error although I don't think it is unexpected being a legacy lti: I see the payload going to the tool, and it looks appropriate, however, there is a 303 response header that pushes it to the login screen. When attempting to replicate this on two fresh servers I am able to reproduce this. You can see server B is attempting to use a course from server A Again connected by legacy lti and entering the details manually produce the same results. Cartridge: http://172.105.25.103/enrol/lti/cartridge.php/1/0b73dd0a33a7bf5ab8c7d83510f80913/cartridge.xml Secret: nlH06JgxNxLKB82wKCZpGxI8bBgkWjK6 Launch: http://172.105.25.103/enrol/lti/tool.php?id=1 Registration: http://172.105.25.103/enrol/lti/proxy.php/1/012de39f57f70a41fbbb3b53268f6700/ Hopefully, I have provided enough information. Thank you again.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://i.imgur.com/jrYHhip.png",
            "https://i.imgur.com/2vtl7qC.png",
            "https://i.imgur.com/O9UGArE.png",
            "https://i.imgur.com/RfhTgJ3.png",
            "https://i.imgur.com/bUprUjA.png"
          ],
          "Time": "Wednesday, July 13, 2022, 2:21 PM",
          "AuthorName": "Jason Richmond",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4979174&course=5",
          "role": [
            "Picture of Jason Richmond"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Gives Login Screen 3.10",
          "Text": "An update to this... testing this on my live servers, this produces the home page rather than the course which is odd. Again only working on firefox. The test servers point to the course proper. opera tested as well and no change from chrome. I believe this is chromium as well. I wonder if this is a cookie issue? https://www.imsglobal.org/browser-cookies-and-lti chrome: Version 103.0.5060.114 (Official Build) (64-bit) firefox: Version 103.0.5060.114 (Official Build) (64-bit) opera: version 89 edge: Version 103.0.1264.49 (Official build) (64-bit)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 14, 2022, 6:36 AM",
          "AuthorName": "Jason Richmond",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4979174&course=5",
          "role": [
            "Picture of Jason Richmond"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Gives Login Screen 3.10",
          "Text": "Setting to open in a new window seems to be the workaround from IMS. Seems to be working, however, still no resolution of it opening the home page and not the course. Side question, does anyone know if this would be resolved if the domains are from the same parent domain ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 14, 2022, 7:18 AM",
          "AuthorName": "Jason Richmond",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4979174&course=5",
          "role": [
            "Picture of Jason Richmond"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Gives Login Screen 3.10",
          "Text": "Just a quick update which may help others. After reviewing a trace of this launch (the one ending in the login screen), it was clear this was because the \"SameSite=None; Secure\" attributes were not being added to the Moodle session cookie. The root cause was that 'cookiesecure' (Site admin > Security > HTTP security) was unchecked. This needs to be checked for the relevant attributes to be added to support Chrome launches. With this checked, Chrome is able to establish a session ok. Jason is still looking into the other issue relating to the redirection to home rather than to the shared activity/course. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2022, 10:10 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Gives Login Screen 3.10",
          "Text": "Hi Jason, Like you suspected, Moodle's legacy tool implementation doesn't support deep linking (content selection). To use that feature, you need to be on Moodle 4.0+ and use LTI Advantage. With respect to the cookies (and that is almost certainly why you see the login screen), that is a known issue for embedded launches in Safari. Since Safari fully blocks third party cookies, Moodle tools must be launched in a new window to work properly. Chrome doesn't suffer from this with its default privacy settings (it uses \"block third party cookies in Incognito\" and supports \"samesite=none; secure\" cookies config). Launches from regular Chrome windows/tabs work fine, though you likely want to be testing on https sites. Firefox also works fine, like you've seen. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 14, 2022, 12:21 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Gives Login Screen 3.10",
          "Text": "Hey Jake, thanks for the quick reply do you have any suggestions for why a course would open to the home page and not the course itself? Did I miss a configuration somehow?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 14, 2022, 1:30 PM",
          "AuthorName": "Jason Richmond",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4979174&course=5",
          "role": [
            "Picture of Jason Richmond"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Gives Login Screen 3.10",
          "Text": "Hi Jason, Nothing immediately comes to mind, but it would be nice to see the network trace from Chrome during a launch, just to see how that's playing out (see https://support.google.com/admanager/answer/10358597?hl=en for information on how to do this). If you could attach that, we may see something obvious there. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 14, 2022, 1:37 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435983,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435983",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Can LTI 1.3 ...",
          "Text": "Hello, I have been going over the spec and what examples I could find for LTI 1.3 for a bit now.   What I'm trying to do - have the ability to send lineitem grades without a launch.  Basically we have teachers grade assessments and I then need to send the grade to moodle via LTI 1.3.  Preferably I can query moodle for the student data via their email address.   The best option would be if the teachers didn't need to link the resources ahead of time, but I'm not sure that's possible. So is it possible for the external tool to initiate these transactions, and if so what would I need to have stored to accomplish that? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 1, 2022, 4:53 AM",
          "AuthorName": "ted brace",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4979081&course=5",
          "role": [
            "Picture of ted brace"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can LTI 1.3 ...",
          "Text": "Hi Ted, That's an interesting question. There are basically two endpoints which facilitate score posting by the tool. The 'lineitems' URL and the 'lineitem' URL. You can read more about these in the spec if you wish: https://www.imsglobal.org/spec/lti-ags/v2p0#assignment-and-grade-service-claim . When/if each is included in launches is a little different in Moodle. I'll explain below. The plural 'lineitems' is sent during both deep linking launches (content selection) and resource link launches (user launches the tool). Importantly, we're able to include this during deep linking launches because, at the point of selecting content, we know we're in a course and can provide that information to the tool. The singular 'lineitem' however refers to a specific grade item and can't be sent during deep linking launches because Moodle hasn't yet created the grade item for the activity instance. We'll only know the specific 'lineitem' endpoint once Moodle saves the activity instance - provided a grade item is set up there. Only then will the tool see the 'lineitem' endpoint during a resource link launch (I.e. when a user launches into the tool). The reason I make the distinction above is important. Tools may wish to fully control their own line items via the 'lineitems' endpoint. Provided the relevant scopes are included in the deep linking launch message (scopes allowing the tool to create line items - again see the spec: https://www.imsglobal.org/spec/lti-ags/v2p0#line-item-service-scope-and-allowed-http-methods ), tools are able to create line items and post scores without having ever seen a resource link launch by a user. We do, of course, still need to have the id of the platform user (not email) to post the score for a given lineitem. This is normally something that comes from the resource link launch data, but we can certainly also get this from the names and role provisioning service first. So, the general process would be: 1. Teacher sets up resource link using content selection (deep linking) flow. The tool receives the lineitems endpoint as well as the NRPS endpoint as part of the request from Moodle) 2. Tool makes call to NRPS endpoint, fetching all users from the platform context . The tool now has access to the platform user ids needed to make score posts. 3. Tool creates line items using the lineitems endpoint it got during deep linking. This will result in lineitem endpoints being returned, which the tool can store. 4. Tool posts a score for a specific user using their user id and a specific lineitem endpoint. At no point did students need to launch into the tool for this to happen. So, I think something like this is possible, but it requires the Moodle instructor to set up resource links which aren't really expected to be used for launches by the students. They're only there to provide the lineitems endpoint to receive scores. Whether these links are available to students is another story (probably not). Food for thought anway. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 1, 2022, 11:06 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can LTI 1.3 ...",
          "Text": "Thank you for the information.  I have been trying, and failing to initiate a connection from the tool to the platform.  I stored all the necessary data to recreate the launch, but the id token comes up expired. So let me simplify my question.   Can a tool initiate a connection to the platform without a user being involved, or am I trying to do something that isn't possible? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 8, 2022, 12:59 AM",
          "AuthorName": "ted brace",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4979081&course=5",
          "role": [
            "Picture of ted brace"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can LTI 1.3 ...",
          "Text": "Hi Ted, At an absolute minimum, the tool needs to know the platform endpoints. It'll use these to communicate with the platform. The way it gets these is either as above - the content selection flow where the teacher uses deep linking to set up links to resources - or via a 'normal' (resource link) launch. So there's always a user involved but it could just be the teacher setting up the link in the case of the former. Then, the tool just communicates using the standard method described in the spec: https://www.imsglobal.org/spec/security/v1p1#using-oauth-2-0-client-credentials-grant . Pretty much any decent LTI library will provide this kind of thing out of the box. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 8, 2022, 9:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 436007,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436007",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restrict access by time? LTI 1.3 Deep Link",
          "Text": "Can a Tool respond to Moodle's Deep Link with an LtiResourceLink which is restricted by a time range? The spec provides resource link variables \"ResourceLink.available.startDateTime\" and \"ResourceLink.available.endDateTime\"  (see http://www.imsglobal.org/spec/lti/v1p3/#lti-resourcelink-variables ) Also the LTI1.3 Deep Link spec shows an example of sending these values in a response (see https://www.imsglobal.org/node/162911#deep-linking-response-example ) for example: { \"type\": \"ltiResourceLink\", \"title\": \"A title\", ... \"available\": { \"startDateTime\": \"2018-02-06T20:05:02Z\", \"endDateTime\": \"2018-03-07T20:05:02Z\" }, ... } I have tried sending responses with \"available\" parameters to Moodle 3.11.5 and have not succeeded in populating the restrictions for when to display the resource link to the student. Is this feature not supported?  If it is supported, can you provide an example of how to Restrict Access? Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1754603/Deep%20Link%20Restrict%20Access%20by%20Time%20Question.png"
          ],
          "Time": "Friday, July 1, 2022, 11:58 PM",
          "AuthorName": "Greg Houston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4979757&course=5",
          "role": [
            "Picture of Greg Houston"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restrict access by time? LTI 1.3 Deep Link",
          "Text": "Hi Greg, The short answer is currently no. You can see the parsing of the content item return into activity instance data in this code but there isn't anything dealing with the availability information. This is proposed in MDL-69469 , though that issue does appear to suggest linking it with completion data rather than access restriction data. Might be worth adding your thoughts to the discussion there. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2022, 11:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435952,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435952",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "[LTI 1.3] NamesRoleProvisioningService Member is not returning users profile info",
          "Text": "I am not able to get memberships member givenname, familyname, email and name but am getting only userid and lis_person_sourcedid. Please let me know what I need to do. I have checked all configurations but could not find it Enabled NamesRoleProvisioningService from the tool config",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1754373/issue.png?forcedownload=1"
          ],
          "Time": "Thursday, June 30, 2022, 1:54 PM",
          "AuthorName": "Jayakeerthi V",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4978425&course=5",
          "role": [
            "Picture of Jayakeerthi V"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: [LTI 1.3] NamesRoleProvisioningService Member is not returning users profile info",
          "Text": "Check the tool settings, specifically the 'Privacy' section. There are two options: - Share launcher's name with the tool - Share launcher's email with the tool Both of these need to be checked for this information to be made available in service calls. This can be configured in the site preconfigured tool too, so if you're unable to set this in the course tool settings, you may need to check the site tool settings. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 30, 2022, 2:32 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [LTI 1.3] NamesRoleProvisioningService Member is not returning users profile info",
          "Text": "It doesnot work even after setting proper value. Look at the below one. I have checked the moodle code and found that below highlighted section might be blocking us to get users givenname, name and email. Please help us out",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1754383/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1754383/image%20%281%29.png"
          ],
          "Time": "Thursday, June 30, 2022, 3:20 PM",
          "AuthorName": "Jayakeerthi V",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4978425&course=5",
          "role": [
            "Picture of Jayakeerthi V"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [LTI 1.3] NamesRoleProvisioningService Member is not returning users profile info",
          "Text": "That indicates that the course tool instance can have that value set by the teacher, but you haven't included that in your post. What are the privacy values in the tool settings in the course? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 30, 2022, 3:34 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [LTI 1.3] NamesRoleProvisioningService Member is not returning users profile info",
          "Text": "Which section course administration is having the tool settings to enable. Could you please mention particular path. Why I am asking the question is I am getting userid and roles but not getting members email, givenname and name. Could you please help us out",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1754390/image.png"
          ],
          "Time": "Thursday, June 30, 2022, 3:53 PM",
          "AuthorName": "Jayakeerthi V",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4978425&course=5",
          "role": [
            "Picture of Jayakeerthi V"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [LTI 1.3] NamesRoleProvisioningService Member is not returning users profile info",
          "Text": "When I say course tool settings I just mean the activity settings for the external tool instance in the course. It's just a matter of checking activity settings. I can't tell you which activity - only you will know that. Once you've found the activity, edit the settings and check the 'Privacy' settings. Both must be checked for member sync to include names and emails. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 30, 2022, 4:09 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [LTI 1.3] NamesRoleProvisioningService Member is not returning users profile info",
          "Text": "It was already set, kindly check the below image. There is no restrictions provided",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1754399/image.png"
          ],
          "Time": "Thursday, June 30, 2022, 4:21 PM",
          "AuthorName": "Jayakeerthi V",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4978425&course=5",
          "role": [
            "Picture of Jayakeerthi V"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [LTI 1.3] NamesRoleProvisioningService Member is not returning users profile info",
          "Text": "Can anyone from Moodle team respond for my query Jake Dallimore - Can you please respond for my query",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 1, 2022, 3:56 PM",
          "AuthorName": "Jayakeerthi V",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4978425&course=5",
          "role": [
            "Picture of Jayakeerthi V"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [LTI 1.3] NamesRoleProvisioningService Member is not returning users profile info",
          "Text": "Hi Jayakeerthi, That certainly looks to be configured properly, so there's not much more I can recommend from my end. I'd suggest debugging the call on your Moodle site to see what's going on. The isallowedlticonfig var should certainly contain 'name', 'givenname', 'familyname' and 'email' keys under normal circumstances (tool + instance configured to send PII). This scenario is tested during certification by the IMS test suite, but there may well be some edge case in play too. Let us know if you find out more about what's happening on your system. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2022, 10:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435340,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435340",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Error message \"Invalid request\" of LTI 1.3 external tool",
          "Text": "I carefully followed the below website to install the External Tool of EBSCO library search function. Unfortunately, it displayed \"Invalid request\" when I clicked the external tool \"EBSCO platform\". https://connect.ebsco.com/s/article/LTI-in-EDS-EBSCOhost-Setting-up-LTI-Integration-for-Moodle?language=en_US We have newly upgraded our Moodle from version 3.8.9 to 3.10.11 .Keep using CentOS 7.4, PHP 7.12, MySQL 5.7 Please help to solve this problem. Thank you very much.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1751816/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1751816/image%20%281%29.png"
          ],
          "Time": "Friday, June 10, 2022, 4:10 PM",
          "AuthorName": "Ariden Lei",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4323590&course=5",
          "role": [
            "Picture of Ariden Lei"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error message \"Invalid request\" of LTI 1.3 external tool",
          "Text": "It's going to be very hard to say without more information. I know EBSCO via LTI works; I've configured it myself as part of testing an issue a while back. It may be that you're launching an improperly configured instance of the external tool. You may need to first perform a deep linking launch by going to the external tool activity settings and then clicking \"Select content\". Once you've set up and picked some content, you can then launch it via the external tool instance in your course. If you're already doing this, then can you please explain at what exact step the process results in the error? Also note: your PHP version isn't compatible with Moodle 3.10 (that requires 7.2+), and 3.10 is now out of support anyway. I'd strongly suggest upgrading to 3.11 or newer. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 13, 2022, 9:37 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "[Solved]: Error message \"Invalid request\" of LTI 1.3 external tool",
          "Text": "The problem is solved. You are right. It has been working normally. Just that I did not know how to add the activity. I should click \"select content\" and search something. And then, save and return to the course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 1, 2022, 7:53 PM",
          "AuthorName": "Ariden Lei",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4323590&course=5",
          "role": [
            "Picture of Ariden Lei"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435791,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435791",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Horizontal scroll bar in UI picker when zooming in Deeplinking",
          "Text": "A horizontal bar is appearing in UI picker (External tool --> select content) when zooming the UI modal. Can we fix tis issue as the standard we need is, when zooming the content should also be zoomed and the size of the madal should be adjusted based on the zoomed percentage. ( Horizontal scrollbar appears when the screen is zoomed up to 200% ) . The issue is in Moodle 3.11 version. In Moodle 3.9 the content is not adjusting when zooming.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1753703/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1753703/image%20%281%29.png"
          ],
          "Time": "Friday, June 24, 2022, 8:05 PM",
          "AuthorName": "Jeewani Lakshani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4854723&course=5",
          "role": [
            "Picture of Jeewani Lakshani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Horizontal scroll bar in UI picker when zooming in Deeplinking",
          "Text": "Hi Jeewani, Browser zoom affects the size of the window (width, height) internally, so it also triggers media breakpoints. You'll probably find that you can zoom in to a point and it works, but once we hit the 'large' breakpoint (window.innerWidth=992px), then the modal is capped at a max width of 500px. There are probably lots of places like this in Moodle but we don't plan to address them. Is there some reason you're using 200%? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 29, 2022, 5:34 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Horizontal scroll bar in UI picker when zooming in Deeplinking",
          "Text": "Thank you Jake. This was basically encountered during compatibility and accessibility testing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 30, 2022, 6:17 PM",
          "AuthorName": "Jeewani Lakshani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4854723&course=5",
          "role": [
            "Picture of Jeewani Lakshani"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435807,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435807",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Cannot create more than ~20 deep links at a time",
          "Text": "Cannot create more than ~20 deep links at a time when using a deep link response in LTI Advantage/LTI 1.3. We need to create 100+ content item links at a time from our tool provider. At present we are limiting the teachers to 20 content items at a time, however, after creating 60 content items, the time required to create the content items increases dramatically sometimes an hour+ if you have patience to wait that long - it is looping on modedit.php redirects. Is 20 to 30 a limit on Moodle for creating content items? Is there a way to increase this limit? Is this a bug? What is the limit on the maximum number of content item links for a course? None of the other LMS' (Canvas, Blackboard, Brightspace have been tested) have any sort of limit",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 25, 2022, 5:01 AM",
          "AuthorName": "Anirudha Shimpi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4973362&course=5",
          "role": [
            "Picture of Anirudha Shimpi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cannot create more than ~20 deep links at a time",
          "Text": "It's very possible that this feature wasn't tested with that many content items at once. In fact, probable. Can you tell me: Do you see the interim screen listing all the content items prior to their creation? Or, does the delay happen before this? I suspect we'll need to create a tracker issue to improve this in cases like yours. Thanks in advance, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 29, 2022, 4:38 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 426143,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426143",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Restricting access to LTI tools",
          "Text": "Has anybody found a way to restrict access to LTI tools? We have added some tools that have limited licenses and we don't want everybody to be able to use them. Only in the courses belonging to the users that have requested them (probably within Course Categories). I am aware that we can - via the 'External tool' activity - allow use of preconfigured tools only if you know the URL but that, effectively, allows users to add any tool they like. Which is a very bad thing from a data protection point of view.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 27, 2021, 11:53 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restricting access to LTI tools",
          "Text": "Hi Howard, Take a look at MDL-69489 . I think this deals with what you're talking about (or at least part of it). Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 30, 2021, 9:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restricting access to LTI tools",
          "Text": "Cheers - that would do nicely",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, August 30, 2021, 6:25 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restricting access to LTI tools",
          "Text": "Yes, having this ability would be helpful.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2022, 4:00 PM",
          "AuthorName": "Séverin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of Séverin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restricting access to LTI tools",
          "Text": "Hi Howard, Did you find a solution for this? I am a publisher and I am trying to grant access to my course/textbooks materials in moodle as an external tool (publishing the course as LTI) , but I only want to give access to such material to those students who can validate that they purchased the material (for example via a unique code printed in the textbooks or any other validation method would work, but the goal is to not give free access to people enrolled in the original course, but rather to validate from my end that they made a purchase)... any ideas or any luck so far?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2022, 8:17 PM",
          "AuthorName": "Rodolfo Monterroso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4963641&course=5",
          "role": [
            "Picture of Rodolfo Monterroso"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435562,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435562",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Deeplinking response error",
          "Text": "We are getting below error after sending Deeplinking response to contentitem_return.php, Error: A required parameter (oauth_consumer_key) was missing JWT: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ijc1MmI5Yjg1YTIxODlhMWYxMzg3MDRiN2ZmN2M3YzM4NTA3ZjRhZjdiNDQyZmFhNmFmNThiYjNhYTNjMmY0OTcifQ.eyJpc3MiOiJodHRwczpcL1wvc2FuZGJveC5tb29kbGVkZW1vLm5ldCIsImF1ZCI6WyJ6NlF6cVJBS2hBSEJYb2MiXSwiZXhwIjoxNjU0MjMwNzk2LCJpYXQiOjE2NTQyMzAxOTYsIm5vbmNlIjoibm9uY2U2YzIyYjI2N2FhYmU0OWNhMTY0ZTg3YzA0MDlhOTNhNGU4MzEwNThiYjViNWEzNzIwYmEyNTJmOWMzMjdhYjYzIiwiaHR0cHM6XC9cL3B1cmwuaW1zZ2xvYmFsLm9yZ1wvc3BlY1wvbHRpXC9jbGFpbVwvZGVwbG95bWVudF9pZCI6IjEiLCJodHRwczpcL1wvcHVybC5pbXNnbG9iYWwub3JnXC9zcGVjXC9sdGlcL2NsYWltXC9tZXNzYWdlX3R5cGUiOiJMdGlEZWVwTGlua2luZ1Jlc3BvbnNlIiwiaHR0cHM6XC9cL3B1cmwuaW1zZ2xvYmFsLm9yZ1wvc3BlY1wvbHRpXC9jbGFpbVwvdmVyc2lvbiI6IjEuMy4wIiwiaHR0cHM6XC9cL3B1cmwuaW1zZ2xvYmFsLm9yZ1wvc3BlY1wvbHRpLWRsXC9jbGFpbVwvY29udGVudF9pdGVtcyI6W3sidHlwZSI6Imx0aVJlc291cmNlTGluayIsInRpdGxlIjoidGVzdCBhY3Rpdml0eSIsInVybCI6Imh0dHBzOlwvXC92ZWVyYzI0NTA3LmlsbHVtaW5hdGVlZC5pb1wvcWEyNDUwN1wvbHRpYWR2YW50YWdlXC9hc3Nlc3NtZW50XC8iLCJwcmVzZW50YXRpb24iOnsiZG9jdW1lbnRUYXJnZXQiOiJpZnJhbWUifSwiY3VzdG9tIjp7InJvc3Rlcl9pZCI6IjE1NTIiLCJsYXVuY2hfaWQiOiJsdGkxcDNfbGF1bmNoXzYyOTk4YzhjODc1NDk0LjkyMzIwNTU4In19XSwiaHR0cHM6XC9cL3B1cmwuaW1zZ2xvYmFsLm9yZ1wvc3BlY1wvbHRpLWRsXC9jbGFpbVwvZGF0YSI6bnVsbH0.V-uDYND_u9sThpOR6mn-ZqYE5RXyMBbfAbxK-bUZPIz2Hum3UAmcV7XZZ7khCIFglINTAK37c8kOG9ubfXqiqH5aGSAOb57cHEA37tXUlAwe2KFx9R3fWFCAokvI0J-bV1bVWQ80qAApXgEHzF8X9mYIAsWFSahzgOzQvSHaPNP16nMlh8FFeOZE6ThCL8oi9qRjgdE4_3-BEfhFFufZ8sGnAjalEBTBEw_0PyAXtm25pGhacjBWRF1ucbMHBnS-EMAbwZJiX9_9M-E7LIfTaEZj6az5_w8R7YyBA-TTxRApgcrA241SVMqwVldRM2BO7T__w0X-BKtgTFtZQkSjaA we are not expecting the above error as we are send the JWT as per LTI 1.3 Please find the related attachments.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1752688/add_deep_link%20%281%29.PNG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1752688/deep_linking_response%20%281%29.PNG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1752688/moodle%20response%20%281%29.PNG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1752688/response_jwt%20%281%29.PNG"
          ],
          "Time": "Friday, June 17, 2022, 11:51 AM",
          "AuthorName": "Sachin Veer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4948975&course=5",
          "role": [
            "Picture of Sachin Veer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Deeplinking response error",
          "Text": "Hi Sachin, We're going to need some more information. Can you tell us: What version of Moodle are you using? It looks like you're running this in Chrome. Does the error also present itself in other browsers like Firefox ? I want eliminate the repost situation if I can, and Firefox shouldn't be subject to this just yet.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2022, 2:19 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deeplinking response error",
          "Text": "Hi Jake, Thank you for reply on this. We have resolved this issue. We were passing wrong issuer when sending signed JWT to platform. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2022, 12:30 PM",
          "AuthorName": "Sachin Veer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4948975&course=5",
          "role": [
            "Picture of Sachin Veer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435563,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435563",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Invalid signature on JWT id_token",
          "Text": "Hi, I am getting below jwt id_token from moodle as payload in redirection url, eyJub25jZSI6Im5vbmNlLTYyYWIwOWJmNjRlYWE4Ljk5NjMzODY3IiwiaWF0IjoxNjU1Mzc2MzE5LCJleHAiOjE2NTUzNzYzNzksImlzcyI6Imh0dHBzOi8vc2FuZGJveC5tb29kbGVkZW1vLm5ldCIsImF1ZCI6Ikdsckl6TEhvTWdFVzduaSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2RlcGxveW1lbnRfaWQiOiIxIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vdGFyZ2V0X2xpbmtfdXJpIjoiaHR0cHM6Ly92ZWVyYzI0NTA3LmlsbHVtaW5hdGVlZC5pby9xYTI0NTA3L2x0aWFkdmFudGFnZS9hc3Nlc3NtZW50LyIsInN1YiI6IjMiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9saXMiOnsicGVyc29uX3NvdXJjZWRpZCI6IiIsImNvdXJzZV9zZWN0aW9uX3NvdXJjZWRpZCI6IiJ9LCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9yb2xlcyI6WyJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9tZW1iZXJzaGlwI0luc3RydWN0b3IiXSwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vY29udGV4dCI6eyJpZCI6IjIiLCJsYWJlbCI6Ik15IGZpcnN0IGNvdXJzZSIsInRpdGxlIjoiTXkgZmlyc3QgY291cnNlIiwidHlwZSI6WyJDb3Vyc2VTZWN0aW9uIl19LCJnaXZlbl9uYW1lIjoiVGVycmkiLCJmYW1pbHlfbmFtZSI6IlRlYWNoZXIiLCJuYW1lIjoiVGVycmkgVGVhY2hlciIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2V4dCI6eyJ1c2VyX3VzZXJuYW1lIjoidGVhY2hlciIsImxtcyI6Im1vb2RsZS0yIn0sImVtYWlsIjoidGVhY2hlckBtb29kbGUuYSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2xhdW5jaF9wcmVzZW50YXRpb24iOnsibG9jYWxlIjoiZW4ifSwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vdG9vbF9wbGF0Zm9ybSI6eyJwcm9kdWN0X2ZhbWlseV9jb2RlIjoibW9vZGxlIiwidmVyc2lvbiI6IjIwMjIwNDE5MDEiLCJndWlkIjoiMWY2MGFhZjY5OTFmNTU4MTg0NjVlNTJmM2QyODc5YjciLCJuYW1lIjoiU2FuZGJveCIsImRlc2NyaXB0aW9uIjoiTW9vZGxlIHNhbmRib3ggZGVtbyJ9LCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS92ZXJzaW9uIjoiMS4zLjAiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9tZXNzYWdlX3R5cGUiOiJMdGlEZWVwTGlua2luZ1JlcXVlc3QiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS1hZ3MvY2xhaW0vZW5kcG9pbnQiOnsic2NvcGUiOlsiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGktYWdzL3Njb3BlL2xpbmVpdGVtIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGktYWdzL3Njb3BlL2xpbmVpdGVtLnJlYWRvbmx5IiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGktYWdzL3Njb3BlL3Jlc3VsdC5yZWFkb25seSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9zY29yZSJdLCJsaW5laXRlbXMiOiJodHRwczovL3NhbmRib3gubW9vZGxlZGVtby5uZXQvbW9kL2x0aS9zZXJ2aWNlcy5waHAvMi9saW5laXRlbXM_dHlwZV9pZD0xIn0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWRsL2NsYWltL2RlZXBfbGlua2luZ19zZXR0aW5ncyI6eyJhY2NlcHRfdHlwZXMiOlsibHRpUmVzb3VyY2VMaW5rIl0sImFjY2VwdF9wcmVzZW50YXRpb25fZG9jdW1lbnRfdGFyZ2V0cyI6WyJmcmFtZSIsImlmcmFtZSIsIndpbmRvdyJdLCJhY2NlcHRfY29weV9hZHZpY2UiOmZhbHNlLCJhY2NlcHRfbXVsdGlwbGUiOnRydWUsImFjY2VwdF91bnNpZ25lZCI6ZmFsc2UsImF1dG9fY3JlYXRlIjpmYWxzZSwiY2FuX2NvbmZpcm0iOmZhbHNlLCJkZWVwX2xpbmtfcmV0dXJuX3VybCI6Imh0dHBzOi8vc2FuZGJveC5tb29kbGVkZW1vLm5ldC9tb2QvbHRpL2NvbnRlbnRpdGVtX3JldHVybi5waHA_Y291cnNlPTImaWQ9MSZzZXNza2V5PWVhODJHanF4cUUiLCJ0aXRsZSI6InRlc3QgdG9vbCIsInRleHQiOiIifX0 when i see this JWT in jwt.io, it shows invalid signature . Please help in this. Related query: https://moodle.org/mod/forum/discuss.php?d=435135",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2022, 11:52 AM",
          "AuthorName": "Sachin Veer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4948975&course=5",
          "role": [
            "Picture of Sachin Veer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Invalid signature on JWT id_token",
          "Text": "This is resolved. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2022, 2:22 PM",
          "AuthorName": "Sachin Veer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4948975&course=5",
          "role": [
            "Picture of Sachin Veer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid signature on JWT id_token",
          "Text": "Hi Sachin, You need to paste in your public key to verify the signature - using jwt.io or otherwise. I've just grabbed the public key from sandbox.moodledemo.net (where your tool is configured) and tried it against the JWT above and the signature verified successfully. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2022, 2:26 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid signature on JWT id_token",
          "Text": "Hi Jake, Thanks for your reply. This is issue is resolved. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2022, 12:28 PM",
          "AuthorName": "Sachin Veer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4948975&course=5",
          "role": [
            "Picture of Sachin Veer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430255,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430255",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Restrict site access after gaining access through LTI?",
          "Text": "Hi All, I've published an LTI test. With it the name and mailadres of the new LTI user becomes available in the LTI-publishing site. But. With it this user can also login to the LTI site and gains full user access? What strategy to use to limit access. Thanks, Hans",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 24, 2021, 2:12 AM",
          "AuthorName": "Hans B0s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=281831&course=5",
          "role": [
            "Picture of Hans B0s"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restrict site access after gaining access through LTI?",
          "Text": "Hi Hans, When you consume the published tool resource (the assignment or course or whatever), you should be able to decide whether to send PII such as names and emails. If this data is omitted during a launch, the Moodle tool provider won't have access to this and will create the user account using other information from the launch. The Moodle consumer, for example, contains checkboxes allowing the teacher to control whether this information is sent during launches or not. With regard to your query about site access: No, the users won't be able to log in to the site directly. The account is created for use with LTI launches only and, as such, must access the tool provider site via a resource link launch in the consumer/platform site. Hope that helps. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:28 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restrict site access after gaining access through LTI?",
          "Text": "Jake,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2022, 8:26 PM",
          "AuthorName": "Rodolfo Monterroso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4963641&course=5",
          "role": [
            "Picture of Rodolfo Monterroso"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restrict site access after gaining access through LTI?",
          "Text": "Hi Rodolfo, I believe the original LTI provider plugin did in fact have this feature but it was dropped when moving the code into core Moodle. My understanding of the way this feature was built is as follows: 1) It allowed you to configure whether or not the launching user (student or teacher), would be enrolled in the course on launch. This was called automatic enrollment. 2) If automatic enrollment was deselected (a checkbox), it would redirect to the course enrolment page, where the user could then enrol via some other (perhaps paid) means. ( See the old language string here ) There's also MDL-64762 , which references this feature. So, this isn't something we have in core Moodle, no. Perhaps others will have some ideas on how to best achieve what you're looking for. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2022, 3:06 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435418,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435418",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "[LTI 1.3] Missing client_id on OIDC request body",
          "Text": "Hi everyone! I'm in the middle of setting up a PoC to integrate our external tool with moodle using LTI 1.3. I managed to configure a tool and receive requests from moodle into my app. But when receiving an OIDC login request, the request body  being sent by Moodle looks like this: { iss: ' https://mdl.com/mdl371 ' login_hint: '1' lti_message_hint: '1234' target_link_uri: ' https://testUrl.com/testLink ' } For some reason, the tool's client_id is not being sent in the request. Is this the expected behavior? Is there any way to configure my tool so it's sent along with the rest of the body parameters? thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 13, 2022, 9:29 PM",
          "AuthorName": "Kevin Temes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4960376&course=5",
          "role": [
            "Picture of Kevin Temes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: [LTI 1.3] Missing client_id on OIDC request body",
          "Text": "Hi Kevin, Sorry to hear you're having trouble. Those params certainly should be present when launching a properly configured tool from Moodle. I.e. when you set up the tool as a preconfigured tool in Moodle's Site administration, you should see both client id and deployment id, which will then be sent in the login request as client_id and lti_deployment_id respectively. Can you confirm you see values for these in the tool configuration details on the manage tools page? Can you tell us what version of Moodle are you running? Also worth noting that client_id is completely optional per the spec, so tools shouldn't be relying on this being present in the login request. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 14, 2022, 8:50 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [LTI 1.3] Missing client_id on OIDC request body",
          "Text": "Hi Jake, thanks for the reply. Yes, if I look up the tool on the manage tools page and look at the details, I can see values for both the Client ID and the deployment ID, but they are still not being sent on the OIDC login request. Currently we are using Moodle 3.7. I'm going to attach a few screenshots as reference for how I'm setting up the tool and how I'm trying to launch it with an activity link in a course; I'm still kind of new in the LTI world so there is a good chance I'm not setting up things properly. Thanks again for the assistance!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1752312/tool%20config.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1752312/tool%20link.png?forcedownload=1"
          ],
          "Time": "Tuesday, June 14, 2022, 9:06 PM",
          "AuthorName": "Kevin Temes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4960376&course=5",
          "role": [
            "Picture of Kevin Temes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [LTI 1.3] Missing client_id on OIDC request body",
          "Text": "Thanks, Kevin. See https://tracker.moodle.org/browse/MDL-67072 . You need to be running an in-support version to see these params in the login request. Like I said though, these aren't required params and your tool should support client identification via other means - through initiate_login_uri most likely. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 15, 2022, 10:05 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435319,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435319",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "As Admin, when creating an external tool (LTI), \"Shared secret\" is truncated at < character",
          "Text": "Hi, I just wanted to let everybody know i've discovered a bug with LTI, declared in MDL-74947 . Don't hesitate to comment or vote if you think it's useful, and add other details if needed. HTH , Séverin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 9, 2022, 9:34 PM",
          "AuthorName": "Séverin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of Séverin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: As Admin, when creating an external tool (LTI), \"Shared secret\" is truncated at < character",
          "Text": "Hum, seems the problem is much more general Details in the tracker.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Thursday, June 9, 2022, 10:39 PM",
          "AuthorName": "Séverin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of Séverin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: As Admin, when creating an external tool (LTI), \"Shared secret\" is truncated at < character",
          "Text": "So created MDL-74950 , more general.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 9, 2022, 10:59 PM",
          "AuthorName": "Séverin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of Séverin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434807,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434807",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "I can help update Moodle demo LTI plugin",
          "Text": "The Mount Orange School demo site currently has a Science and Mathematics course (Revision: Chemistry) with a LTI 1.1 connection to ChemVantage. This connection will be broken June 30, 2022 as ChemVantage transitions to the LTI Advantage specification. I am happy to work with Moodle to replace this with an equivalent LTI Advantage connection that can be accessed at no charge. Please contact me, or simply visit https://www.chemvantage.org/lti/registration to complete the Dynamic Registration process. Thanks. Chuck Wight, Manager ChemVantage LLC",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 24, 2022, 8:56 PM",
          "AuthorName": "Chuck Wight",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1924161&course=5",
          "role": [
            "Picture of Chuck Wight"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: I can help update Moodle demo LTI plugin",
          "Text": "Hello Chuck! I will get in touch with you - thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 24, 2022, 9:40 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434441,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434441",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Can I use LTI to set the user language ?",
          "Text": "Hi, I am a newbie using moodle. I am using the LTI pluggin too. I wonder if it is possible to set the user preferred language  with a lti parameter. I have read here http://www.imsglobal.org/specs/ltiv1p0/implementation-guide about a parameter called launch_presentation_locale, but it does not seems to work. Any help ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 12, 2022, 5:45 PM",
          "AuthorName": "Miguel Ángel Posadas Arraez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4919705&course=5",
          "role": [
            "Picture of Miguel Ángel Posadas Arraez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can I use LTI to set the user language ?",
          "Text": "Hi Miguel, The Moodle platform/consumer (mod_lti) supports this. If you launch into a tool from Moodle, this information will be passed over in the launch data. Then, it just depends on how the tool handles that. That will certainly differ across tools. The Moodle tool/provider (enrol_lti) currently doesn't support this. The language used by the user will be the language defined on the enrolment instance. Edit the instance settings and look for \"User default values > Preferred language\". Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 19, 2022, 11:39 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434214,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434214",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Limiting Course Level LTI creation",
          "Text": "Hello Fellow Moodle Admins, If anyone has any insight they can share, I would very much appreciate it. I am in the process of trying to get all of our \"External Tool\" activities upgraded from LTI 1.0/1.1 to LTI 1.3. As part of this, I would like to lock down the ability for teachers to add new LTI instances without them being configured at the site level. I know there are several LTI permissions and I have played with them. My gut says that I should be able to remove mod/lti:addmanualinstance My thought being they would then be able to go to External Tool and ONLY have the preconfigured tool in the drop down, but that they could still use the Select Item button. However, removing this permission removes \"External Tool\" from the activity chooser all together. I then tried removing mod/lti:addcoursetool which seemed to kind of do what I wanted, but then the \"Select Content\" would tell the teacher's that they did not have permission to select the specific content at that preconfigured tool. I did some research and found these two Tracker items: https://tracker.moodle.org/browse/MDL-62815 https://tracker.moodle.org/browse/MDL-68328 A similar previous discussion took place here ( https://moodle.org/mod/forum/discuss.php?d=423730 ), but seemed to have a different goal. And as best I can gather from the discussion, the expectation is that we... 1. remove mod/lti:addmanualinstance 2. ensure that on each external tool setup that we choose for \"Tool configuration usage\" to \"Show in activity choose and as a preconfigured tool\" This would show the preconfigured tool item in the activity choose, but not show the external tool item. Is this the only (or best) way to accomplish my goal? (I am on Moodle 3.11, hosted on OpenLMS) Thanks, Scott",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 5, 2022, 4:18 AM",
          "AuthorName": "Scott Hardwick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120802&course=5",
          "role": [
            "Picture of Scott Hardwick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Limiting Course Level LTI creation",
          "Text": "Hi Scott, You've touched on an interesting area and may have highlighted a problem we've overlooked for years. After looking at the capability docs and the revision history (some of which goes back a long way), my take is as follows: The mod/lti:addcoursetool capability ( https://docs.moodle.org/400/en/Capabilities/mod/lti:addcoursetool ) was introduced well before LTI Advantage support was added, and in fact even before content selection (deep linking) support was added. Back then, it was added to control access to instructor_edit_tool_type.php. Back then, this was controlling the ability to add a full tool configuration to a specific course. Because we only supported 1.1 back then, a teacher was able create a course tool without the need to involve system admins, so this capability made sense as a way to control this. if users didn't have this, they couldn't create course-level tools. They could still use them, however. Content item selection (deep linking) support was then added in MDL-49609 . That issue added the capability check (mod/lti:adcoursetool) to contentitem ( Source code here ) flows, but never tested that as far as I can see. There appears to be no discussion around this on the issue either, aside from \"Add capability checks for contentitem and contentitem_return pages\". I think the content item message issue (2) incorrectly added that capability check (perhaps copy and paste from prior LTI code - I don't really know). There should be no reason a teacher can't use an existing preconfigured tool by selecting it from the list and then clicking \"Select content\" to pick a specific content item(s). This isn't creating a course level tool, it's just using an existing tool. Controlling it with this capability isn't right. So, it certainly looks like we have an annoying bug there, but that doesn't help you right now. And as best I can gather from the discussion, the expectation is that we...\n\n1. remove mod/lti:addmanualinstance\n\n2. ensure that on each external tool setup that we choose for \"Tool configuration usage\" to \"Show in activity choose and as a preconfigured tool\"\n\nThis would show the preconfigured tool item in the activity choose, but not show the external tool item.\n\nIs this the only (or best) way to accomplish my goal? I think this is indeed the only way to achieve what you want until the bug is fixed. I'll link a tracker issue here shortly dealing with addressing that. Edit: See MDL-74797 dealing with the bug described above. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 19, 2022, 11:16 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434412,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434412",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Get LTI data from consumer",
          "Text": "Dear We are\ndeveloping our first LTI project with 2 Moodles, Moodle A provider and Moodle B\nconsumer. We have managed to do the integration correctly to display a Moodle B\ncourse in A. To know a\nlittle bit about the dynamics and as it is a single internal development we are\nmodifying the course/view.php file in Moodle A My question\nis, how can we do to get the basic data from Moodle B in Moodle A Provider? eg. user_id context_id context_label lis_person_contact_email_primary Thanks in\nadvance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 11, 2022, 10:50 PM",
          "AuthorName": "Marcos Pérez Moreno",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=764160&course=5",
          "role": [
            "Picture of Marcos Pérez Moreno"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get LTI data from consumer",
          "Text": "Hi Marcos, I'd like to clarify a few things first: Which version of LTI are you using to set this up? I'm assuming you're talking about 1.1 here based on those properties you mention. When you say this We are\ndeveloping our first LTI project with 2 Moodles, Moodle A provider and Moodle B\nconsumer. We have managed to do the integration correctly to display a Moodle B\ncourse in A. I assume you mean that you're displaying a Moodle A course in Moodle B, right? (Moodle B being the consumer site) Can you explain why you're wanting to access these launch properties? The way the provider code is built, it doesn't expose these. The enrol_lti plugin uses these properties to construct and persist the relevant domain objects during each launch. For example, it uses all of the properties you mentioned to save context and user information. Perhaps with a better understanding of what it is you're trying to achieve, we'll be able to provide more insight. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 12, 2022, 10:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get LTI data from consumer",
          "Text": "Hi Jake Thanks for your reply and sorry for the misunderstanding. We are indeed showing a Moodle A course in Moodle B. Thanks for the clarification, I will review the enrol_lti to be clearer about the concepts. Best regards!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 17, 2022, 11:35 PM",
          "AuthorName": "Marcos Pérez Moreno",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=764160&course=5",
          "role": [
            "Picture of Marcos Pérez Moreno"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434425,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434425",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI Advantage in 4.0.1 - Problems with grade sync",
          "Text": "We are using Moodle 4.0.1 for LTI Advantage. The LTI Tool is configured and working correctly in the customer site (Moodle 3.11). However, when students from the customer site access the LTI tool, the account is creating as expected but no role is being assigned. Since there is no role, it is also not grading/transferring student grade date back to the customer. I have verified that roles are set up to match (student = student, teacher = teacher) and that it is set to create accounts, and I have made sure that the cron is running regularly for all LTI tools on the 4.0.1 site. Attached is 1, a screenshot of the Published As LTI settings in moodle 4.0. Note that I have tried setting \"user synchronization\" to both \"yes\" and \"No\" with not change in the results. Attachment 2, the external tool settings in the customer 3.11 instance. Is there another settings I'm missing? I appreciate the help! Thank you! (Edited by Jake Dallimore - original submission Thursday, May 12, 2022, 5:44 AM)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1748145/Screen%20Shot%202022-05-11%20at%205.38.11%20PM.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1748145/Screen%20Shot%202022-05-11%20at%205.42.20%20PM.png?forcedownload=1"
          ],
          "Time": "Thursday, May 12, 2022, 5:44 AM",
          "AuthorName": "Erin Milanese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4161027&course=5",
          "role": [
            "Picture of Erin Milanese"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Advantage in 4.0.1 - Roles not Transferring",
          "Text": "Hi Erin, Sorry to hear you're having trouble. The first thing to point out is that, just like in the legacy provider, the roles are set on the activity, not at the course level. This is to ensure students don't have a student role on the course containing the shared activity, which would allow them to navigate to other activities . So, to see the role assigned after lauch, you need to go to the activity and click \"Permissions\" (in more) and then select \"Locally assigned roles\". You should then see the student, teachers roles listed for the respective users. Also worth pointing out that user synchronization doesn't impact the grade sync. The other thing I'd check is the tool settings page on the consumer site. You didn't mention how you set this up (deep linking vs manual link creation), but we generally want to see a grade in the activity settings. I think there's a bug in the external tool code that will sometimes disable the grade type. Make sure that's set to point and that there's a value set. I'd also check the consumer gradebook and ensure the grade item is there, ready to receive the grades. Then, it'll be a matter of checking the results of the scheduled task run. I'd recommend checking this via the web interface (system admin on the tool site). You'll need to check the following admin setting are set first: 'tool_task | enablerunnow' - Yes 'pathtophp' - this admin setting must be set to permit tasks to be run via the web Once you've checked those, you can go to Site admin > Server > Tasks > Scheduled tasks where you'll be able to run the task '\\enrol_lti\\local\\ltiadvantage\\task\\sync_grades' using the 'run now' link in the 'last run' column. That will give you all the relevant information you need about what the tool is trying to sync to the platform gradebook. It's also useful to be aware of the fact that only changes in grades are synced. If the sync has already run, it won't sync those same grades again. Changing a grade will result in a re-sync of the new grade though. Hope all that helps a little. Let me know how you go. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 12, 2022, 8:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Advantage in 4.0.1 - Roles not Transferring",
          "Text": "Thanks Jake - I appreciate the reply. Locally assigned roles: thanks for pointing this out - and yes, the roles are coming in correctly. I created the activities with deep linking, and they are correctly creating an activity in the customer grade book with the grade type and points, and appear ready to receive grades. But... When i run the task through the \"run now\" link I get a notice that the grades are invalid and also this error: \"An HTTP error status was received: 'HTTP/1.1 400 No handler found for application/vnd.ims.lis.v1.score+json'\" Screenshot attached.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1748223/Screen%20Shot%202022-05-12%20at%208.44.25%20AM.png?forcedownload=1"
          ],
          "Time": "Thursday, May 12, 2022, 8:49 PM",
          "AuthorName": "Erin Milanese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4161027&course=5",
          "role": [
            "Picture of Erin Milanese"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Advantage in 4.0.1 - Roles not Transferring",
          "Text": "Thanks, Erin. The line that jumps out to me is that second to last line. The one reading \"No handler found for   application/vnd.ims.lis.v1.score+json\". That's an error received from the platform (consumer) site and should be including a path string - something like \"/2/lineitems/5/lineitem/scores\", to read \"No handler found for /2/lineitems/5/lineitem/scores application/vnd.ims.lis.v1.score+json\". The fact it seems to be missing the service path seems odd to me and is something I can't reproduce between 3.11 and 4.0.1 locally. Some more things to try: 1. Try visiting the 3.11 site's service URL in the browser, at YOURSITE/mod/lti/services.php/ffff. You should see a warning saying no handler found for /ffff. If not, something it stripping that path, meaning grade sync won't work properly. 2. Try launching as other users and grading these attempts also. Then run the sync. Do you get the same error? 3. If you've got database access on the 4.0.1 tool site, try to run the following: SELECT id, lineitemsservice, lineitemservice FROM mdl_enrol_lti_resource_link That should give you some URLs which point to the platform (consumer) site. We're looking to confirm that these contain the path component. I.e. The line item service should be of the format: YOURSITE/mod/lti/services.php/2/lineitems/3/lineitem?type_id=1. This will just help us confirm that the tool has the right endpoints recorded, so we can focus squarely on the platform. Tangentially related, please also note that if you're sharing an entire course via LTI, only the course grade gets sent back, not grades for individual activities within the course. - Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 16, 2022, 3:58 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Advantage in 4.0.1 - Roles not Transferring",
          "Text": "Thanks Jake - really appreciate your help with troubleshooting this. First, when I put the 3.11 site into the URL i get the message attached that says \"Method Not Allow.\" Could there be a security or permissions setting we are missing? Second - what do you mean to launch as \"other users\"? I've accessed and tested the LTI using a number of accounts and permissions levels (admin, teacher, and student). And to confirm; we are publishing specific activities as LTI, not the whole course. For the database steps, I had our DevOps manager take a look and it looks like the path compontents are correct. Screenshot of that attached as well. Thanks again!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1748655/Screen%20Shot%202022-05-16%20at%201.59.00%20PM.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1748655/Screenshot_2022-05-16_12-17-01.png?forcedownload=1"
          ],
          "Time": "Tuesday, May 17, 2022, 4:18 AM",
          "AuthorName": "Erin Milanese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4161027&course=5",
          "role": [
            "Picture of Erin Milanese"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Advantage in 4.0.1 - Roles not Transferring",
          "Text": "Thanks, Erin. That's first part is exactly what I was looking for. Just ignore that specific message. The reason I asked you to run that wasn't related to permissions but rather to a suspicion that something on your architecture is rewriting the URL so that the /ffff is lost by the time it's hitting that endpoint. I was more interested to see the code path, than that message. What this suggests to me is that somehow the /ffff portion of the URL is being rewritten. To contrast, I'm running 3.11.7 site, and hitting SITE/mod/lti/services.php/ffff results in the following: That's what we should be seeing on a 3.11 site when hitting that endpoint with a value that won't match a service handler (here, that value is /ffff but it could just as easily have been testtesttest). I suspect yours is being stripped, but I can't be certain why. It could be a web server or proxy configuration that's impacting that, but that's not my area of expertise I'm afraid. My suspicion is that once the above is resolved (i.e. you see the message I see above when hitting it with /ffff) then the grade sync posts will be processed because the \"2/lineitems/15/lineitem?type_id=5\" portion of the request won't be lost. Cheers, Jake",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1748680/services_path_info.png"
          ],
          "Time": "Tuesday, May 17, 2022, 9:49 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434381,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434381",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 user_id unique identifier issue",
          "Text": "I'm trying to make our service as an LTI provider and want to use moodle as a consume r. I have added our LTI tool to the external tool configuration. The problem is that moodle sends us user_id with simple numbers such as 1, 2, 3, etc. Since those numbers are not unique identifiers, I'm concerned that we may receive the same user_id from different moodle users. Is there any way that I can change user_id from simple numbers to unique identifiers?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 11, 2022, 9:42 AM",
          "AuthorName": "Hyung-jun Kim",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4895081&course=5",
          "role": [
            "Picture of Hyung-jun Kim"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.1 user_id unique identifier issue",
          "Text": "Those ids are unique to the Moodle consumer site. I.e. there aren't two users with the id '4' on the consumer. Additionally, the provider site hashes this id along with the consumer key to form a per-consumer unique id (See https://github.com/moodle/moodle/blob/1fc5c588a4742f6b05ef526100f45708084e1815/enrol/lti/classes/helper.php#L89 ). If you're worried about multiple Moodle consumer sites sending the same ids (i.e. id=4 might be sent from consumer 1 and consumer 2), then you only need to make sure you're setting up each consumer with a unique consumer key. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 11, 2022, 9:54 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 user_id unique identifier issue",
          "Text": "Jake, Thanks a lot for your quick reply!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 11, 2022, 10:39 AM",
          "AuthorName": "Hyung-jun Kim",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4895081&course=5",
          "role": [
            "Picture of Hyung-jun Kim"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434166,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434166",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to identify a TestUser in a resource link request",
          "Text": "Hi, Is there a way to identify when a Moodle teacher who has switched to a student role is following a resource link from Moodle to an LTI tool? I know that IMS defines the http://purl.imsglobal.org/vocab/lti/system/person#TestUser role for this use case when an instructor gets into a student-preview mode ( https://www.imsglobal.org/spec/lti/v1p3#lti-vocabulary-for-system-roles ). I've been doing some tests with a teacher and a course. When the teacher is in his \"regular\" role I'm getting http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor in https://purl.imsglobal.org/spec/lti/claim/roles claim. But when the teacher switches to a student role I'm getting http://purl.imsglobal.org/vocab/lis/v2/membership#Learner I'm trying to figure out what to do to identify if that user is a teacher who has switched to a student role. I was thinking about asking for the course enrollment list and checking if he is a teacher in the course. That will probably work, but it doesn't seem to be a good solution in terms of performance. That will mean that every course member will make an enrollment list request to Moodle every time he goes through a resource link. Is there a way to do that without getting the enrollment list explicitly? I was thinking about custom parameters ( https://www.imsglobal.org/spec/lti/v1p3#customproperty ) but I'm not sure if this is possible and if so, which parameter can give me that kind of information. Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 3, 2022, 7:41 PM",
          "AuthorName": "Aitor Cuesta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4898934&course=5",
          "role": [
            "Picture of Aitor Cuesta"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to identify a TestUser in a resource link request",
          "Text": "I can see a few options: During launch - write an lti_source plugin which can augment the launch with per-user params, including all 'other' roles for the user. Essentially, you code something that allows you to send roles in the custom parameters on a per-user basis, since core doesn't provide a substitution param for roles. You can see https://github.com/moodle/moodle/blob/3b2234ee76b44afe291123838f852de108eeb8e3/mod/lti/locallib.php#L3744 for the params supported by core (note the lack of other context roles). After the launch - using the Name and Role Provisioning Service. As mentioned, perhaps a clunky way to achieve this. Really, we need to expand our support for roles, so we can just use the IMS roles like you say. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 4, 2022, 1:44 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433995,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433995",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 OpenSSL Error in Windows",
          "Text": "We are trying to add an LTI 1.3 tool from an external provider and they have given us instructions and a custom URL to setup on the Plugins -> Activity Modules -> External Tools -> Manage Tools page.  When we try to add the tool we receive an error saying \"Exception - OpenSSL unable to sign data\".  When looking at the PHP log, we see the lines below: PHP Warning:  openssl_sign(): supplied key param cannot be coerced into a private key in C:\\inetpub\\ wwwroot \\moodle\\lib\\php-jwt\\src\\JWT.php on line 209 Default exception handler: Exception - OpenSSL unable to sign data Debug: Error code: generalexceptionmessage * line 211 of \\lib\\php-jwt\\src\\JWT.php: DomainException thrown * line 180 of \\lib\\php-jwt\\src\\JWT.php: call to Firebase\\JWT\\JWT::sign() * line 74 of \\mod\\lti\\startltiadvregistration.php: call to Firebase\\JWT\\JWT::encode() For some backgroup, we're running Moodle on: OS: Windows Server 2012 R2 Web server: IIS 8 Moodle Version: 3.11.4 PHP Version: 7.4.27 I've added $CFG->opensslcnf = 'C:/PHP/extras/ssl/openssl.cnf'; to the config.php file, but I'm not 100% sure what the correct syntax is for the path since I've seen it a few different ways.  I've also set an Environment Variable in Windows for OPENSSL_CONF to C:\\PHP\\extras\\ssl\\openssl.cnf, and made sure the openssl.dll PHP extension is enabled.  Beyond that, I'm not sure what else to try. Any help or suggestions would be much appreciated.  Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 4:07 AM",
          "AuthorName": "Reed Sorensen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2164183&course=5",
          "role": [
            "Picture of Reed Sorensen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 OpenSSL Error in Windows",
          "Text": "Hi Reed, I'm no expert on Windows Server setup steps for OpenSSL/Moodle, so I can't comment on that. What I do know and can comment about is how the External Tool module works. First things first: Are you sure the tool supports Dynamic Registration? That field on manage tools is exclusively for use with that specification. If the tool gave you a registration URL, then we're ok. If not, and they gave you instructions on how to setup up manually, then you need to be using the \"Configure a tool manually\" link. So that's the first thing to check and be sure about. Next, we need to openssl conf to be correctly configured in order to generate a private key for use with LTI signing. Currently, this happens in two places: During install/upgrade of a Moodle site (a notice will be thrown if the key couldn't be generated using openssl) When manually configuring a tool As far as I know, we don't try to generate a key when using dynamic registration, and that could be what's tripping you up (and perhaps also needs a fix). Can you please check (but don't post here!) that you have a private key in the mdl_config_plugins table? You can check by running this SQL : \n```text\nSELECT * FROM mdl_config_plugins WHERE plugin = 'mod_lti' AND name = 'privatekey';\n```\n Substituting mdl_ with your DB prefix of course. If you see no records, then that's likely the issue here. Let me know how you go. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 9:57 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 OpenSSL Error in Windows",
          "Text": "Thanks for tips Jake. The instructions they provided to setup the tool only say to enter the URL they provided and click the Add LTI Advantage button, so I'm thinking it is setup for dynamic registration. Running that SQL query did indeed return no results, so I hope that means we're onto something. A couple questions: 1. Do I need to configure openssl.cnf in any way? 2. How would I go about creating a private key? Would upgrading from 3.11.4 to 3.11.5 for instance cause one to be generated? 3. Is there a way to confirm that Moodle can find openssl.cnf to make sure I have the syntax to the file path correct in config.php? I've seen the syntax of the file path a few different ways, but no way to verify which one is correct. I've seen different slashes used: C:\\PHP\\extras\\ssl\\openssl.cnf, C:/PHP/extras/ssl/openssl.cnf, C:\\PHP\\extras\\ssl/openssl.cnf, and C:\\\\PHP\\\\extras\\\\ssl\\\\openssl.cnf. Once again, thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 9:35 PM",
          "AuthorName": "Reed Sorensen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2164183&course=5",
          "role": [
            "Picture of Reed Sorensen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 OpenSSL Error in Windows",
          "Text": "Hi Reed, I'm not 100% sure on the config file requirements for windows. You won't hit that code as part of the upgrade, since that was a step run way back in 3.6.x (IIRC). There is a workaround for your case though. Given Moodle can't generate a key for us during dynamic registration (yet), we'll just hit the manual registration code with a dummy entry, triggering the key generation. Try the following: Go to the manage tools page Click the \"Configure a tool manually\" link Enter a tool name \"Dummy\" Enter a tool URL \" http://google.com \" Change the \"LTI version\" to \"LTI 1.3\" Save This part can go one of 2 ways: If the form saved without any errors, you should be ok. Run your SQL again to check the existence of the key. It should be there. If you see a validation message like \"LTI 1.3 requires a valid openssl.cnf to be configured and\navailable to your web server. Please contact the site administrator to\nconfigure and enable openssl for this site.\" it means your openssl config is not quite right yet and you'll need to fix that and re-run the process again. Once you're done, delete the dummy tool entry from the manage tools page. You now have a stored private key and can use the dynamic registration URL without issue. The above process will confirm the openssl.cnf is configured properly and available to the webserver. If it's not, you'll keep seeing the validation error. I'm going to create an issue in tracker to deal with automatically detecting + fixing this in the dynamic registration workflow, just as we do here for manual. See MDL-74604 which deals with adding this necessary check. Hope that helps! Cheers Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2022, 10:57 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 OpenSSL Error in Windows",
          "Text": "Thank you so much for the assistance and for creating the issue in tracker! Your instructions worked like a charm. Creating the dummy manual external tool did create a private key as confirmed by running the SQL query. I then deleted the dummy external tool and was able to add the real tool by entering the URL and clicking Add LTI Advantage. In case someone else stumbles across this, I did not need to make any edits to openssl.cnf. In config.php I used the syntax $CFG->opensslcnf = 'C:\\PHP\\extras\\ssl\\openssl.cnf';.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 30, 2022, 12:06 AM",
          "AuthorName": "Reed Sorensen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2164183&course=5",
          "role": [
            "Picture of Reed Sorensen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433108,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433108",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "CORS Issue in last step of deep linking",
          "Text": "Hello, We have an issue in the last steps of adding a new External tool. Moodle version ( Moodle 3.10.3+ (Build: 20210330) ) After we use our Preconfigured tool (hitting Select content) we go through our flow, and then we get a CORS message saying that it blocked a frame with origin \" https://moodle310.labster.us \" from accessing a cross-origin frame. As you can see we have an instance of Moodle running in our server . We checked that when we submit the form, it goes through correctly to Moodle. You can see in the attached screenshot that the POST returns a 200 every single time, and we only get the cross-site error from the jQuery that runs in the Moodle. This issue is only happening in Chrome, in multiple versions. In two instances: - If you open a brand new tab - If you logout and login in the same tab If you refresh when the screen gets stuck, the following tries are going to work properly and the CORS error will not show. Let us know if you have any idea of what the issue could be tied to. Regards, Danny",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1742690/image-20220311-102734.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1742690/Screenshot%202022-03-25%20at%2010.31.38%20AM.png?forcedownload=1"
          ],
          "Time": "Friday, March 25, 2022, 5:35 PM",
          "AuthorName": "Daniel Fernández",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4855857&course=5",
          "role": [
            "Picture of Daniel Fernández"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: CORS Issue in last step of deep linking",
          "Text": "Hi, same issue here, has anyone been able to solve it? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 4, 2022, 5:17 PM",
          "AuthorName": "Miguel _",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2353084&course=5",
          "role": [
            "Picture of Miguel _"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: CORS Issue in last step of deep linking",
          "Text": "Hi Daniel, Which versions of chrome do you see this with? Also, can you run the site with the config: $CFG->cachejs = false;? That should allow you to track down the specific line of js which is causing the issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 5, 2022, 9:59 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: CORS Issue in last step of deep linking",
          "Text": "Hello, This is happening with multiple Chrome versions. We changed the configuration of `$CFG->cachejs = false;` and we haven't gotten any difference in the logs.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1743671/image.png?forcedownload=1"
          ],
          "Time": "Tuesday, April 5, 2022, 6:39 PM",
          "AuthorName": "Daniel Fernández",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4855857&course=5",
          "role": [
            "Picture of Daniel Fernández"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: CORS Issue in last step of deep linking",
          "Text": "Thanks Daniel. Can you not check the specific version numbers of Chrome? The reason I'm asking is so I can check the specific builds locally. I'd need to debug the js to work out where that's failing but since I can't replicate this here, I'm relying on your (and others) input to track the issue down. Disabling js caching should give you a slightly different trace, but you may find you're still hitting the same line of minified jquery. Please try after purging caches too. We shouldn't see first.js in the trace at all. Can you please try with another tool and see if the problem presents itself? e.g. https://robotest.theedtech.dev/ which is an LTI Adv testing tool. It would be nice to eliminate the specific tool you're using too. Thanks, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 6, 2022, 9:35 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: CORS Issue in last step of deep linking",
          "Text": "Hello, This is happening with multiple Chrome versions, including the current one as of today. I tried with the Robotest tool and it seems the issue is not there. Could you let us know any pointers regarding what we can check to see where our code is breaking the page? This is breaking when we are submitting the deep linking form our tool generates. https://ltiaas.cvmcosta.com/#/docs?id=create-deep-linking-message Thanks, Danny",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1743838/image%20%281%29.png?forcedownload=1"
          ],
          "Time": "Thursday, April 7, 2022, 12:31 AM",
          "AuthorName": "Daniel Fernández",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4855857&course=5",
          "role": [
            "Picture of Daniel Fernández"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: CORS Issue in last step of deep linking",
          "Text": "Hello, I have tried also with robotest and everything ok. Then I have tried again with the same tool that Daniel comments, with the cachejs option disabled and the script that DevTools reports is the following: lib/requirejs.php/-1/mod_lti/contentitem_return.js The version of chrome is the latest as of today, in my case: Version 100.0.4896.60 (Official Build) (64 bits) Regards",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1744081/image.png"
          ],
          "Time": "Friday, April 8, 2022, 9:32 PM",
          "AuthorName": "Miguel _",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2353084&course=5",
          "role": [
            "Picture of Miguel _"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: CORS Issue in last step of deep linking",
          "Text": "We were testing more this issue and we were able to point exactly where the issue is happening. Maybe with this information it helps to find a solution. In the first image attached, you can see we are in the console of the browser while the issue happens and the window \"stops\". Using the selector built in into chrome's devtools we can either point to the whole window or just the iframe. When we are pointing to the whole window. We confirm that we are in the window at the top since window == window.parent, and we also check that window.origin is ' https://moodle310.labster.us ' Once we point to the frame, we do the exact same process. In this case, window != window.parent, clearly. You can see that window.origin returns the exact same origin, ' https://moodle310.labster.us ' but when we try to access the window.parent.origin that's where we get the DOMException. And this is also why the code is breaking, it is trying to access the parent. Weirdly enough, if we refresh the page and try again it will work, as we've mentioned before. We were able to stop the console right there, and try if we can access the origin of the parent window, and we can. You can see the second screenshot for that. So it seems that the first time the page loads we are not able to access the parent, but after refreshing, we can. And this is also only happening in Chrome, so it seems for Firefox for example this is fine always. Let me know if this new info helps, thanks",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1745062/image%20%281%29.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1745062/image.png?forcedownload=1"
          ],
          "Time": "Tuesday, April 19, 2022, 10:17 PM",
          "AuthorName": "Daniel Fernández",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4855857&course=5",
          "role": [
            "Picture of Daniel Fernández"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: CORS Issue in last step of deep linking",
          "Text": "Hi, Following the last comment from Daniel, we have hit a bit of a wall and wondered if anyone had any comments or insights?🤔",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 7:12 PM",
          "AuthorName": "Michael Chillingworth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4903526&course=5",
          "role": [
            "Picture of Michael Chillingworth"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: CORS Issue in last step of deep linking",
          "Text": "Hi Daniel, I think we're getting closer now. I'd still like to see the specific line of Moodle js that's causing this error to be thrown though. Are you able to set $CFG->cachejs = false in the Moodle config (allows us to debug js properly in the browser), and then add some breakpoints in the Moodle contentitem_return.js and contentitem.js via dev tools? I'm interested to see which exact line of code results in the DOM Exception, which this should let us achieve. Failing that, I'm happy to take a look if you can provide me with access to the test site. It would be nice to get to the bottom of this one. Just flick me an email. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2022, 5:20 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433963,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433963",
      "NoOfResponses": 14,
      "ResponsesInList": [
        {
          "Title": "Blackboard as LTI consumer for Moodle",
          "Text": "Hi All, I'm trying to get access to a Moodle course from Blackboard as the consumer. I've got our institution's IT support doing the Blackboard end but I don't have access to see what they see. They are requesting a URL , Key and Secret. I'm using the LTI Course Template Plugin But this only provides a 'Name', a URL and a secret. I can't find any reference to the 'Key' that blackboard is requesting in any documentation though from what I've seen is should be distinct from those values. I can't see any options to configure a key on the Moodle end either. I have very little experience with LTI (literally the first time I've tried to use it). Any help would be greatly appreciated. Joel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 27, 2022, 1:52 PM",
          "AuthorName": "Joel Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4901639&course=5",
          "role": [
            "Picture of Joel Scott"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "Hi Joel, First up, the use of key and secret (or rather, consumer key and secret), is an LTI 1.1 concept - a standard which is now deprecated. We still support publishing courses and activities this way in Moodle, however, if you've got access to Moodle 4.0+, you're going to want to use LTI Advantage. If you want to continue to use the old LTI method, please see the docs https://docs.moodle.org/400/en/Publish_as_LTI_tool#Legacy_resources . You'll see that consumer key can be anything you like. it's essentially a string to identify the consumer and Moodle will store the relevant consumer information on first launch. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 27, 2022, 2:02 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "Thanks Jake, I'm trying to use this plugin https://github.com/maths/enrol_lticoursetemplate and I'm not sure if it will work with LTI advantage. Also I'm not running Moodle 4.0 yet (though I will look into whether there is any reason not to update). Are you familiar with that plugin and whether it work appropriately with Advantage? Joel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 9:28 AM",
          "AuthorName": "Joel Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4901639&course=5",
          "role": [
            "Picture of Joel Scott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "Hi Joel, Ah, I see. I can't speak for that plugin and have never used it. That's something you'd need to reach out to the maintainer/documentation about. I can only speak for the core Moodle plugins enabling the sharing of activities/courses over LTI. Sorry I can't be of more help Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 10:01 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "Ok Jake, apparently that plugin is reliant on the base lti plugin for the lti functionality. When I use 'any value' in the Blackboard configuration, I get the error Invalid signature ours=65e3vbQ*** yours=YdW*** The configuration used is: Tool Provider URL: https://****/enrol/lticoursetemplate/tooltemplate.php?id=3 Tool Provider Key: Template Tool Provider Secret: PU3uLLG**** Have you got any ideas why we might get that error? The same error is what we get when using the base LTI plugin too (just to be clear) Thanks so much, Joel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 12:49 PM",
          "AuthorName": "Joel Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4901639&course=5",
          "role": [
            "Picture of Joel Scott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "Hi Joel,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 3:22 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "Ok, so I've got two Moodle servers now, acting as provider and consumer. The provider is running 3.11.6+ (Build: 20220322). Following the instructions from that link, I've enabled Publish as LTI tool its settings seem pretty straightforward: In the enrolments settings, it's at position two (under manual enrolments and all other methods are disabled). From the course I select 'Publish as LTI Tool, then add a tool. Left all settings as default and generated: Cartridge URL: https://*****/enrol/lti/cartridge.php/3/58d7*****/cartridge. xml Secret: qmqG78nm***** Launch URL: https://*****/enrol/lti/tool.php?id=3 Registration URL: https://*****/enrol/lti/proxy.php/3/a0ee520bd*****/ Now on the consumer: Running 3.11.5 (Build: 20220117) I enter my course and Add an external tool Leaving all settings as default I input the cartridge url: Then get 'Error reading file \"https://*****/enrol/lti/cartridge.php/3/58d7*****/cartridge.xml\" and the activity is not created. If I instead go for manual tool conifguration, using the Launch URL as the Tool URL, leaving Consumer key blank and inputting the shared secret, leaving all other settings as default, I get: A required parameter (oauth_consumer_key) was missing Then continue takes me to the login screen for the provider server . Adding an identifier to the consumer key gives the error: An error occurred when launching the external tool:Sorry, there was an error connecting you to the application. Both of those results are the same when masquarading as a student too. Are you able to offer any insight as to how I could troubleshoot further? Thanks so much! Joel",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1746466/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1746466/image%20%281%29.png"
          ],
          "Time": "Friday, April 29, 2022, 7:42 AM",
          "AuthorName": "Joel Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4901639&course=5",
          "role": [
            "Picture of Joel Scott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "If you're using the external tool activity in the course directly, then the easiest way to set up is as follows: Create a new External Tool instance - set a name Copy the \"Launch URL \" and enter this into \"Tool URL\", like you did Copy the \"Secret\" and paste into the \"Shared secret\" field Enter some dummy consumer ID into the consumer key field. E.g. \"ConsumerTest\" That will enable you to launch into the tool just fine. I'd also strongly suggest you enable developer debugging on the tool site so you can get more detailed information. That error you're seeing actually masks an error relating to a bad signature - you only see this more detailed error, along with the stack trace when you've got developer mode debug enabled. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2022, 10:36 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "I enabled debugging and the error following those instructions was: An error occurred when launching the external tool: Debug error: Invalid signature Still not terribly helpful. I cant see how to enable the stack trace however. I'm kind of at the limit of my understanding here. Is that error more meaningful to you than it is to me?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2022, 12:29 PM",
          "AuthorName": "Joel Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4901639&course=5",
          "role": [
            "Picture of Joel Scott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "Looking into that specific case reveals that the library dealing with the legacy launches (for reasons unknown - it's legacy), decides to catch and obfuscate the exception + stack trace. So yes, that error is as almost as meaningless to me as it is to you, sadly. Without actively debugging the call (xdebug, breakpoints), all we really know is that it wasn't able to verify the signature, which suggests a bad secret but I can't be sure. If it were me, I'd be debugging that call, but I don't see what you're seeing so that's not much use in this case. If you want to see the trace, you can remove the try/catch around this code: https://github.com/moodle/moodle/blob/3cac3a85908c620440e0123336f3634282f6a050/lib/ltiprovider/src/ToolProvider/ToolProvider.php#L770-L775 . Perhaps also worth checking you don't have any preconfigured tools in the consumer site (site admin > external tools > manage tools). The config from these can interact with the local instances of external tools too.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2022, 1:07 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "From the previous attempts with debugging turned on. I gut this: A required parameter (oauth_consumer_key) was missing More information about this error",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2022, 12:32 PM",
          "AuthorName": "Joel Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4901639&course=5",
          "role": [
            "Picture of Joel Scott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "Yep, that's expected in cases where you omit the consumer key. That is required.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2022, 1:08 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "I just wanted to note that I know some people who have got this combination working (to use Moodle quizzes in their Blackboard courses) so it is possible.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 27, 2022, 5:23 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard as LTI consumer for Moodle",
          "Text": "I'd be super appreciative if you could link them to this discussion Tim - or put them in touch with me at UQ - I'm the only Joel Scott there :D",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 1:45 PM",
          "AuthorName": "Joel Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4901639&course=5",
          "role": [
            "Picture of Joel Scott"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433965,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433965",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 deep linking - sending multiple assessments",
          "Text": "Hi, As an instructor, I created an assessment and linked it to the platform as a deep linking resource. When I logged in as a student, the assessments are not listed under the course. I have selected an assessment under Testy Tool, and I have named it as 'Decimal'. It is not listed under Testy Tool. I am totally new to LTI and sorry for the trouble Please find my payload below. { \"nonce\": \"nonce-6268e3015ede73.24498828\", \"iat\": 1651041025, \"exp\": 1651041085, \"iss\": \" https://sandbox.moodledemo.net \", \"aud\": \"1HoIUA4kYWD5FvI\", \" https://purl.imsglobal.org/spec/lti/claim/deployment_id \": \"1\", \" https://purl.imsglobal.org/spec/lti/claim/target_link_uri \": \" https://psc23360.illuminateed.io/qa23360/ltiadvantage/assessment/ \", \"sub\": \"4\", \" https://purl.imsglobal.org/spec/lti/claim/lis \": { \"person_sourcedid\": \"\", \"course_section_sourcedid\": \"\" }, \" https://purl.imsglobal.org/spec/lti/claim/roles \": [ \" http://purl.imsglobal.org/vocab/lis/v2/membership#Learner \" ], \" https://purl.imsglobal.org/spec/lti/claim/context \": { \"id\": \"3\", \"label\": \"My second course\", \"title\": \"My second course\", \"type\": [ \"CourseSection\" ] }, \" https://purl.imsglobal.org/spec/lti/claim/resource_link \": { \"title\": \"Testy Tool\", \"id\": \"2\" }, \" https://purl.imsglobal.org/spec/lti-bo/claim/basicoutcome \": { \"lis_result_sourcedid\": \"{\\\"data\\\":{\\\"instanceid\\\":\\\"2\\\",\\\"userid\\\":\\\"4\\\",\\\"typeid\\\":\\\"1\\\",\\\"launchid\\\":984220610},\\\"hash\\\":\\\"745bbe37bb6a0fe45539f0454866c313919e16ce0b662b7ebf29e0ad7cb3546f\\\"}\", \"lis_outcome_service_url\": \" https://sandbox.moodledemo.net/mod/lti/service.php \" }, \"given_name\": \"Sam\", \"family_name\": \"Student\", \"name\": \"Sam Student\", \" https://purl.imsglobal.org/spec/lti/claim/ext \": { \"user_username\": \"student\", \"lms\": \"moodle-2\" }, \"email\": \"student@moodle.a\", \" https://purl.imsglobal.org/spec/lti/claim/launch_presentation \": { \"locale\": \"en\", \"document_target\": \"iframe\", \"return_url\": \" https://sandbox.moodledemo.net/mod/lti/return.php?course=3&launch_container=2&instanceid=2&sesskey=92EyIEhna5 \" }, \" https://purl.imsglobal.org/spec/lti/claim/tool_platform \": { \"product_family_code\": \"moodle\", \"version\": \"2022041900.01\", \"guid\": \"1f60aaf6991f55818465e52f3d2879b7\", \"name\": \"Sandbox\", \"description\": \"Moodle sandbox demo\" }, \" https://purl.imsglobal.org/spec/lti/claim/version \": \"1.3.0\", \" https://purl.imsglobal.org/spec/lti/claim/message_type \": \"LtiResourceLinkRequest\", \" https://purl.imsglobal.org/spec/lti/claim/custom \": { \"roster_id\": \"1326\", \"context_memberships_url\": \" https://sandbox.moodledemo.net/mod/lti/services.php/CourseSection/3/bindings/1/memberships \", \"system_setting_url\": \" https://sandbox.moodledemo.net/mod/lti/services.php/tool/1/custom \", \"context_setting_url\": \" https://sandbox.moodledemo.net/mod/lti/services.php/CourseSection/3/bindings/tool/1/custom \", \"link_setting_url\": \" https://sandbox.moodledemo.net/mod/lti/services.php/links/ {link_id}/custom\" }, \" https://purl.imsglobal.org/spec/lti-ags/claim/endpoint \": { \"scope\": [ \" https://purl.imsglobal.org/spec/lti-ags/scope/lineitem \", \" https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly \", \" https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly \", \" https://purl.imsglobal.org/spec/lti-ags/scope/score \" ], \"lineitems\": \" https://sandbox.moodledemo.net/mod/lti/services.php/3/lineitems?type_id=1 \", \"lineitem\": \" https://sandbox.moodledemo.net/mod/lti/services.php/3/lineitems/7/lineitem?type_id=1 \" }, \" https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice \": { \"context_memberships_url\": \" https://sandbox.moodledemo.net/mod/lti/services.php/CourseSection/3/bindings/1/memberships \", \"service_versions\": [ \"1.0\", \"2.0\" ] } }",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1746081/image.png"
          ],
          "Time": "Wednesday, April 27, 2022, 2:53 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 deep linking - sending multiple assessments",
          "Text": "Hi Mani, It sounds like you're able to get past the \"Select content\" part and can see the activity in the course section as a teacher. Correct? This then sounds like an issue with Moodle permissions for the student. Check the permissions of the student role (Participants > Permissions > Select the \"Student\" role). They need to have the capability \"mod/lti:view\" to be able to see and launch external tool links. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 9:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 deep linking - sending multiple assessments",
          "Text": "Hi Jake, I've checked the permissions of the student. I have got a question. Could you please share how the public and private key works? What I have done is, I have a private key for the tool which is saved in the database . When a request comes from the platform, I am validating that token with that by parsing the platform's public key set url. And while sending the deeplink request, I will be sending the token encrypted using my private key. I don't have any public key saved. When platform access my public keyset url, it will access the same private key. Please let me know which logic is correct or not. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 6:49 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433941,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433941",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.0 as LTI 1.3 provider throwing scope error",
          "Text": "I am stumped. I successfully, or so I thought, setup Moodle 4.0 as an LTI provider in Canvas.  I can add Moodle activities as external tools within Canvas, making use of deep linking.  The activity selection process works seamlessly. However, when the user attempts to use the activity, a scope error is generated: \n```text\n2022/04/26 14:58:04 [error] 599#599: *8759 FastCGI sent in stderr: \"PHP message: Default exception handler: Coding error detected, it must be fixed by a programmer: Scope '\nhttps://canvas.instructure.com/lti-ags/progress/scope/show'\n is invalid. Debug: \n\n\nError code: codingerror\n\n\n* line 101 of /enrol/lti/classes/local/ltiadvantage/entity/ags_info.php: coding_exception thrown\n\n\n* line 66 of /enrol/lti/classes/local/ltiadvantage/entity/ags_info.php: call to enrol_lti\\local\\ltiadvantage\\entity\\ags_info->validate_scopes()\n\n\n* line 79 of /enrol/lti/classes/local/ltiadvantage/entity/ags_info.php: call to enrol_lti\\local\\ltiadvantage\\entity\\ags_info->__construct()\n\n\n* line 171 of /enrol/lti/classes/local/ltiadvantage/entity/resource_link.php: call to enrol_lti\\local\\ltiadvantage\\entity\\ags_info::create()\n\n\n* line 170 of /enrol/lti/classes/local/ltiadvantage/service/tool_launch_service.php: call to enrol_lti\\local\\ltiadvantage\\entity\\resource_link->add_grade_service()\n\n\n* line 352 of /enrol/lti/classes/local/ltiadvantage/service/tool_launch_service.php: call to enrol_lti\\local\\ltiadvant\" while reading response header from upstream, client: REDACTED, \nserver\n: devedu.somewhere.ac, request: \"POST /enrol/lti/launch.php HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php7.4-fpm.sock:\", \nhost\n: \"devedu.somewhere.ac\", referrer: \"\nhttps://mydomain.instructure.com/api/lti/authorize?client_id=*****0000000000111&login_hint=************522cf3bc2774a8012a35177f4&lti_message_hint=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXJpZmllciI6IjBiNzAyYTI1MmM4NzBjZDBlZjIyMzhkZTQxYTRhM2VkOTMxNzFjYWNmNDFmM2MxNmIzOTZhNjUyYWRlMmU1Y2Y4NjM2ODcxNzQwNjY5Zjg1OGE0OWFhMWE5MWY1ZmNkMmQ5MjFlYWY2ZTk0OTVkNTkyMmY0ODgxYjA1YTI1YmUzIiwiY2FudmFzX2RvbWFpbiI6InNhdHMuaW5zdHJ1Y3R1cmUuY29tIiwiY29udGV4dF90eXBlIjoiQ291cnNlIiwiY29udGV4dF9pZCI6MTU3NDEwMDAwMDAwMDAwMjM3LCJjYW52YXNfbG9jYWxlIjoiZW4tR0IiLCJleHAiOjE2NTA5NzgxNzF9.VWUlIPUU1ndF7B02fXWVuDNHBvnUpYNuDXPva1jrbEc&nonce=nonce-67f020ab816d58df6fa9b4be9c6ed689dfa4886676eaeeea904fc3a05371d2f9&prompt=none&redirect_uri=https%3A%2F%2Fdevedu.somewhere.ac\n```\n I cannot for the life of me figure out why I am getting this error, nor have I been able to find suitable information about this error anywhere in the documentation. Any help would be greatly appreciated! Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 26, 2022, 9:16 PM",
          "AuthorName": "Mathieu Pelletier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=904671&course=5",
          "role": [
            "Picture of Mathieu Pelletier"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 provider throwing scope error",
          "Text": "Hi Mathieu, Thanks for the report. You're seeing that error because that scope (' https://canvas.instructure.com/lti-ags/progress/scope/show' ) isn't one of the scopes included in AGS spec (and is not a scope Moodle knows about). I didn't see this in my testing and I'm not aware of the specific spec (or section thereof) which permits platforms to send non-standard scopes, however, it does seem feasible that it could be extended this way. Perhaps section 5.4.7 of the core 1.3 spec - Vendor specific extension claims -  hints at this, I'm not 100% sure. Given Moodle is certainly not aware of what these scopes mean, perhaps the best course of action is to ignore these instead of blocking the launch like this. I've created MDL-74576 to address this. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 27, 2022, 12:18 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 provider throwing scope error",
          "Text": "Brilliant! Thanks for the suggested workaround, Jake. I have commented out line 101 in enrol/lti/classes/local/ltiadvantage/entity/ags_info.php and it worked like a charm. I realise https://tracker.moodle.org/browse/MDL-74576 hasn't been triaged yet, but it seems like a relatively easy fix. Do you suppose we will see the proper patch in 4.0.1?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 3:52 PM",
          "AuthorName": "Mathieu Pelletier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=904671&course=5",
          "role": [
            "Picture of Mathieu Pelletier"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 provider throwing scope error",
          "Text": "You bet. That's clearly an oversight on my part in the 4.0 work and I'm working on making that class less strict as we speak. Will definitely push it through for 4.0.1 given the apparent severity.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 4:29 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433483,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433483",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Deep linking vs Resource linking",
          "Text": "In LTI 1.3, is it mandatory to have Deeplinking resource? I can see in the settings, it is not mandatory to choose deep linking resource. If it is not chosen, how the process will be?. There is a function called \" is_resource_launch\" in the LTI 1.3  specification. Is there any way to know how that can be implemented? Thanks, Mani",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 9, 2022, 1:09 AM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Deep linking vs Resource linking",
          "Text": "Hi Mani, Deep linking is one of the core specs in LTI Advantage, so to be fully certified (LTI Advantage Complete) tools need to support it. That said, there is a lesser certification available called just LTI Advantage, which is awarded for tools implementing one or two of the non-core specs. See http://www.imsglobal.org/ltiadvantage . You will find tools like this in the certification directory on IMS Global. In terms of how you identify these launch types, you need to check the \" https://purl.imsglobal.org/spec/lti/claim/message_type \" claim. See http://www.imsglobal.org/spec/lti/v1p3/#message-type-and-schemas Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 11, 2022, 11:42 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deep linking vs Resource linking",
          "Text": "Hi Jake, Thanks for letting me know this. I have implemented Deep linking using LTI 1.3. How can I verify that the process is correct? I have created a course called 'Test Course'. When I clicked select content, a window popped up, and I was able to select the assessments, and I linked the assessments as deep link, Deep Linking Once I click add items, Please confirm, this is the right way or not Thanks, Mani",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1744593/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1744593/image%20%281%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1744593/image%20%282%29.png"
          ],
          "Time": "Wednesday, April 13, 2022, 7:45 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deep linking vs Resource linking",
          "Text": "Hi Mani, I'm assuming you managed to get past this based on your other thread. Is that right? Cheers, jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 12:04 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433905,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433905",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Replacing an existing LTI link (external activity) doesn't create all expected links",
          "Text": "Hi, Working in an LTI integration with Moodle I've seen some unexpected behaviour. I have configured an LTI integration with my tool. When I follow these steps: Add a new external tool activity in a course Click on select content Select multiple items to import into Moodle Import them Everything goes fine. I get a Moodle page that says \"The following items will be added to your course\", and all the items are listed. Then I click on the \"Save and return to course\" button and all the items are imported and I have created a new entry for every item. Then I go to one of the newly imported items and do these steps: Click on edit settings Click on select content Select multiple items to import into Moodle Import them Despite I get the same page saying \"The following items will be added to your course\" with the correct items. After clicking the \"Save and return to course\" button I only get one of those items. I mean, the original item (the one I'm editing) is replaced with one of the newly synced, but no new links are created. I send you a screenshot where I'm replacing a link named \"Item 2\". I'm trying to add \"Item 3\" and \"Item 4\" and only \"Item 4\" get added: Thanks in advance",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1745791/image.png"
          ],
          "Time": "Monday, April 25, 2022, 11:20 PM",
          "AuthorName": "Aitor Cuesta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4898934&course=5",
          "role": [
            "Picture of Aitor Cuesta"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Replacing an existing LTI link (external activity) doesn't create all expected links",
          "Text": "Thanks for the report, Aitor. Well spotted. I see the same behaviour and agree it is confusing. Essentially, to perform this process (picking multiple items for link creation), you always need to start by adding a new External Tool or by picking the pre-configured tool from the activity chooser, rather than editing an existing resource link. This was likely something that was overlooked when we landed this feature. MDL-66901 aims to resolve some of these problems with workflow, but it's not actively being worked on at present. I've created MDL-74593 to deal with the issue you reported. Thanks! Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 11:54 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433086,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433086",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "External tools limit exceed in Moodle 3.10",
          "Text": "Tools are not loading due to external tool limit is exceed from Moodle side. Therefore we need to increase the rate limit from Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 25, 2022, 12:10 AM",
          "AuthorName": "Jeewani Lakshani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4854723&course=5",
          "role": [
            "Picture of Jeewani Lakshani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External tools limit exceed in Moodle 3.10",
          "Text": "Hi Jeewani, I'm really not sure what you're referring to in this post. Can you please add a clear description of how you're setting up the LTI relationship and at what point you experience issues? If you see any errors, warnings etc, please include these too. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 25, 2022, 10:12 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools limit exceed in Moodle 3.10",
          "Text": "We are in the process of creating LTI 1.3 external tools in Moodle3.10 instance. Once we create the tool, we need to access the tool and get information by clicking on the \" View configuration details\" icon. The tools are not loading due to the time limit is exceeding. So, we cannot access the tools. Below is the flow: Moodle3.10 instance URL : http://3plcgmoodleprd.prd-prsn.com/moodle310/login/index.php Login as admin> Click on Site Administration> Plugins> External Tool> Manage Tools> Search for the related tool> Click on \"View configuration details\" icon",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1742666/Capture1.PNG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1742666/Capture2.PNG"
          ],
          "Time": "Friday, March 25, 2022, 1:13 PM",
          "AuthorName": "Jeewani Lakshani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4854723&course=5",
          "role": [
            "Picture of Jeewani Lakshani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools limit exceed in Moodle 3.10",
          "Text": "Thanks, Jeewani. That is curious. I have a few follow up questions for you: 1. What browser are you using? Can you try another one and see if the problem is resolved? 2. Does that \"RangeError\" popup show up immediately, or does it only happen after some length of time? (I see you mentioned time limit, hence the question about time) 3. How many tools have you created? Are there hundreds ? Or just the one? 4. What's the exact version of Moodle you're using. It'll be something like 3.10.x, and you can find it at the bottom of the Site admin > Notifications page. Thanks, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 25, 2022, 2:49 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools limit exceed in Moodle 3.10",
          "Text": "Thank you Jake, Answering to above; 1. What browser are you using? Can you try another one and see if the problem is resolved? We use Chrome, Firefox , and Microsoft Edge (latest versions) and get the same error for all those browsers. 2. Does that \"RangeError\" pop up immediately, or does it only happen after some length of time? (I see you mentioned time limit, hence the question about time) It is appearing after some time. I have attached the HAR file here. Below routes take more time like 43 s apx. https://3plcgmoodleprd.prd-prsn.com/moodle310/lib/ajax/service.php?sesskey=qjSIcdfxau&info=mod_lti_get_tool_types https://3plcgmoodleprd.prd-prsn.com/moodle310/lib/ajax/service.php?sesskey=qjSIcdfxau&info=mod_lti_get_tool_proxies 3. How many tools have you created? Are there hundreds? Or just the one? Several teams are using this instance and there are hundreds of tools. 4. What's the exact version of Moodle you are using? It will be something like 3.10.x, and you can find it at the bottom of the Site admin > Notifications page. It is Moodle 3.10.6+ (Build: 20210820)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1742682/Picture1.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1742682/Picture2.png"
          ],
          "Time": "Friday, March 25, 2022, 4:49 PM",
          "AuthorName": "Jeewani Lakshani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4854723&course=5",
          "role": [
            "Picture of Jeewani Lakshani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools limit exceed in Moodle 3.10",
          "Text": "Hi Jake any update from your side?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 30, 2022, 3:00 PM",
          "AuthorName": "Jeewani Lakshani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4854723&course=5",
          "role": [
            "Picture of Jeewani Lakshani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools limit exceed in Moodle 3.10",
          "Text": "Hi Jeewani, We're all currently very busy with the Moodle 4.0 release preparations, so I've not had any time to attempt replication of this issue yet, especially given the required setup (many, many preconfigureed tools). Thinking about this issue reminded me of MDL-69092 . That adds pagination to that manage tools page to address slowness when dealing with a large number of tools. Since that was an improvement, that's only available in Moodle 4.0 though. I suspect no one ran into a js error on the page when working on that one though, otherwise it would have been classified as a bug and a fix would have been included in the stable versions of Moodle too. I suspect this occurs for you immediately after you're getting back the response from the web service (which appears to be woefully slow). Then, somewhere is tripping up in the JS with either bad data, or too much data - but I can't be sure until I return similar data on my testing site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 30, 2022, 4:50 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools limit exceed in Moodle 3.10",
          "Text": "Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 30, 2022, 7:57 PM",
          "AuthorName": "Jeewani Lakshani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4854723&course=5",
          "role": [
            "Picture of Jeewani Lakshani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools limit exceed in Moodle 3.10",
          "Text": "Hi Jake, any update on this issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 22, 2022, 7:02 PM",
          "AuthorName": "Jeewani Lakshani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4854723&course=5",
          "role": [
            "Picture of Jeewani Lakshani"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433158,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433158",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Weird LTI issue",
          "Text": "I've just been told about some strange behaviour which apparently is happening with our LTI activies. I have not properly investigated yet, but I thought I would mention it here in case anyone else has seen something similar before, and so can point me in the right direction. We have a Moodle course containing several LTI activities . These links are set to open in new window, and the remote system sets the HTTP header which means that it will not open in an iframe. What is happening (apparently) is that seemingly at random the all the LTI links in this course starts trying to open in an iframe, which then does not work. And, apparently it can be fixed just by opening the settings form for one of the activities and clicking save. From this, my guess is that the launchcontainer setting is not really getting messed up in the lti table, but that somehow the value is getting wrong in some cache. But, as I say, I have not properly investigated yet. Does anyone have any thoughts about what is going on?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 28, 2022, 6:06 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Weird LTI issue",
          "Text": "It broken again this morning, and this time I was able to take a look while it was broken, to see what was going on. (But only briefly because students needed to use this urgently today, of course.) What had broken was on the course page, where the link to the LTI was displayed. In the broken state, the onclick attribute on that was missing its value: Once I had fixed it (which I think was basically doning something to clearing the modinfo cache for this course.) then that went back to how it should be: I was also able to confirm that the actual setting (in the External tool settings for for this activity) had not changed. So, that is a step forwards in diagnosing this. However, I still have no idea what is really going on here. Anyone got a good theory? Acutally, this is less weird than it might be. All activities on the course page get a onclick=\"\" attribute because of https://github.com/moodle/moodle/blob/7ce003b666a66b465ce9335f430a6e4d3535a7f1/lib/modinfolib.php#L2168",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1743282/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1743282/image%20%281%29.png"
          ],
          "Time": "Thursday, March 31, 2022, 5:40 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433181,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433181",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Deep Linking error",
          "Text": "Hi, I have logged in as an admin and did the registration, and the client id and deployment id are saved in the db. After that I have logged in as an instructor and using deep linking I have added assessments as link item. But when I post the data to the deep linking url I'm getting the below error. Please help me in solving this. Thanks, Mani",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1742994/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1742994/image%20%282%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1742994/image%20%283%29.png"
          ],
          "Time": "Tuesday, March 29, 2022, 2:45 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Deep Linking error",
          "Text": "Hi Mani, Coincidentally, I experienced a similar issue the other day on a demo site and it related to an expired cert, rather than anything of fault in the tool code. This means the file_get_contents() call is unable to fetch the tool's JWKS due to an cert verification error. I'll see if I can track this demo instance down for you and confirm whether it's the same problem. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 30, 2022, 9:57 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deep Linking error",
          "Text": "I've just checked this out on sandbox.moodledemo.net and the issue mentioned above is not present. I'd suggest making sure your JWKS endpoint is available and perhaps then debug the call to that endpoint, to see whether you're indeed seeing that request coming through.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 30, 2022, 10:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433009,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433009",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 integration client needs custom ID?",
          "Text": "We completed an lti 1.3 integration for a client, and the client needs a custom ID to be able to test the course. Where do they get this ID?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 22, 2022, 10:30 PM",
          "AuthorName": "Kera Macfarlane",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4405175&course=5",
          "role": [
            "Picture of Kera Macfarlane"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 integration client needs custom ID?",
          "Text": "Hi Kera, We're definitely going to need more information from you about what you're trying to achieve and how you're setting Moodle up. Are you setting up a preconfigured tool in Moodle? If so, what tool? Generally speaking, if the tool requires extra information during a launch, you can achieve this by setting 'Custom parameters'. You can this in both the preconfigured tool settings, or in the individual tool instances. This may be what you want but without more information, I'm just guessing. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 25, 2022, 10:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 432878,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432878",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI shows login screen when inserting content from H5P.com",
          "Text": "I have seen a few similar issues in the below links but It doesn't help to solve my issue: https://moodle.org/mod/forum/discuss.php?d=421351 https://moodle.org/mod/forum/discuss.php?d=418339 I am integrating Moodle 3.10.3 and H5P.com via an external tool in Moodle. I have done all the steps required for configuring LTI in moodle When I try to insert H5P content, I am getting redirected to the Moodle login page. The console return error as below This issue happens on Chrome and Edge. It works fine on Firefox as expected. Is there anyone who could help?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1741795/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1741795/image%20%281%29.png"
          ],
          "Time": "Friday, March 18, 2022, 3:34 PM",
          "AuthorName": "Lê Hồng",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4151548&course=5",
          "role": [
            "Picture of Lê Hồng"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI shows login screen when inserting content from H5P.com",
          "Text": "Hi, This is a fairly common report, most likely caused by the browser handling of samesite cookies. This was patched in MDL-71887 , meaning you need to be running at least Moodle 3.10.6 or you'll hit the problem. Upgrade your site, and you'll likely find the problem goes away. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 18, 2022, 3:46 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI shows login screen when inserting content from H5P.com",
          "Text": "Many thanks, Jake, That's really helpful to me. I can fix my issue by getting fixed code to my current code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 21, 2022, 9:36 AM",
          "AuthorName": "Lê Hồng",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4151548&course=5",
          "role": [
            "Picture of Lê Hồng"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422536,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422536",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Activity completion tracking for LTI modules",
          "Text": "Hi there, we have added several self-learning modules from Microsoft with an LTI format. Everything works fine except the tracking. We have configured to \"Students need to see this activity\" to make things easier, but even when the module is completed the checkmark is not generated. It's not a huge issue and we just changed the completion to \"Students can mark the activity as complete\", but I'm just curious: h as someone experienced something similar? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 21, 2021, 6:57 PM",
          "AuthorName": "Beatriz Rojo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1724821&course=5",
          "role": [
            "Picture of Beatriz Rojo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Activity completion tracking for LTI modules",
          "Text": "Hi Beatriz, Really, this should behave no different to any other activity in Moodle. What version of Moodle are you using? Annoyingly, I'm unable to replicate this problem locally. I've just tried setting up an external tool activity locally, (pointing to a test tool). I set up completion with only one rule: \"Students must view this activity to complete it\". When I launched the tool as a test student, the completion was indeed triggered. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 4:06 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Activity completion tracking for LTI modules",
          "Text": "Hi Jake, I was wondering if this problem has ever been solved. I am struggling with this for days now and can't find a solution or any documentation about this problem. I can not imagine that I am the only person looking for a solution for this problem. The viewing trigger comes back from the tool, the achieved grade also comes back and is visible, but does not trigger the completion. I hope there is a solution to this problem. Best regards, Joost.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 4, 2022, 7:37 PM",
          "AuthorName": "Joost Wilterdink",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4804940&course=5",
          "role": [
            "Picture of Joost Wilterdink"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Activity completion tracking for LTI modules",
          "Text": "Hi Joost, As I said above, I wasn't yet able to replicate any problem. I did ask for more information, but never got any back. If you can provide those details perhaps we can try again. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 8, 2022, 10:16 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Activity completion tracking for LTI modules",
          "Text": "Thank you Jake for your responds. The version I am using is 3.7.9 (Build 20201109) and with Moodle Cloud version 3.11.1 (Build 20210712) I experience the same problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 8, 2022, 11:19 PM",
          "AuthorName": "Joost Wilterdink",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4804940&course=5",
          "role": [
            "Picture of Joost Wilterdink"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Activity completion tracking for LTI modules",
          "Text": "Thanks for the information, Joost. I'll try to find some time to test this soon. Just a heads up that it might be a little while before I do since we're quite busy with the 4.0 release at the moment. It may be that because the grade is updated via an API call, it's not firing the relevant event (or calling relevant core API) to trigger completion - but at this stage that's just a hunch. Will need to confirm it. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2022, 10:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 432584,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432584",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Resync/playback of gradebook sync events",
          "Text": "Folks, Just wondering if there is a simple way to playback grade sync events.  For example if a consumer site doesn't have it's gradebook enabled.  Playback to do a catch up. kenwrick",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2022, 7:17 AM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Resync/playback of gradebook sync events",
          "Text": "Hi Kenwrick, It sounds like you're asking whether there's a way to force sync the grades, perhaps as a way to handle the case where they've been marked as sent already in the tool (despite the platform not storing them anywhere). Is that about right? If not, please feel free to clarify. Perhaps understanding how the grade sync works will give you an answer. The grade sync tasks are only going to mark the grade as 'sent' (by setting 'lastgrade' on the respective lti user) if they receive a success message from the platform. This success message varies depending on version of LTI; It's either looking for an http code (1.3) or a specific 'success' message in the response (legacy). If it doesn't get this, then the next run of the task will attempt to send that same grade again. If it's received the success message, then it's likely the platform/consumer has stored the grade, though I can't be certain that is in fact the case for all platforms. When the grade is marked as 'sent', there's currently no way to replay the sync unless you change the grade. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2022, 10:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 432370,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432370",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Integration with MDL 4 and Canvas",
          "Text": "Getting the following error when trying to use MDL 4 as a 1.3 LTI Provider to Canvas. Working properly when connecting MDL to MDL just not with Canvas.  Any thoughts would be helpful Exception - Could not find registration details More information about this error × Debug info: Error code: generalexceptionmessage × Stack trace: line 120 of /lib/lti1p3/src/LtiOidcLogin.php: Packback\\Lti1p3\\OidcException thrown line 63 of /lib/lti1p3/src/LtiOidcLogin.php: call to Packback\\Lti1p3\\LtiOidcLogin->validateOidcLogin() line 77 of /enrol/lti/login.php: call to Packback\\Lti1p3\\LtiOidcLogin->doOidcLoginRedirect()",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1739691/CleanShot%202022-02-28%20at%2016.59.34%402x.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1739691/CleanShot%202022-02-28%20at%2016.57.37%402x.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1739691/CleanShot%202022-02-28%20at%2016.56.56%402x.png"
          ],
          "Time": "Tuesday, March 1, 2022, 2:19 PM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Integration with MDL 4 and Canvas",
          "Text": "Hi Jeff, I've just checked this locally again (Canvas over docker <==> localhost Moodle 4.0) and can confirm it works as expected in my perhaps limited test scenario. That error certainly looks like it's having trouble finding the registration based on the tuple of {issuer, clientid}, probably because you've got the issuer set to the XXX/api/lti/authorize_redirect endpoint, instead of \" https://canvas.instructure.com \" (which is what I have as per the docs). I'd suggest trying that and seeing how you go. If you have any more trouble, post back here and I'll do my very best to help Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2022, 7:35 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration with MDL 4 and Canvas",
          "Text": "Ok thanks for clarifying this. I changed the URL to reflect Canvas. Now I\"m getting this error Exception - Unable to find public key. More information about this error ×Debug info: Error code: generalexceptionmessage ×Stack trace: line 302 of /lib/lti1p3/src/LtiMessageLaunch.php: Packback\\Lti1p3\\LtiException thrown line 385 of /lib/lti1p3/src/LtiMessageLaunch.php: call to Packback\\Lti1p3\\LtiMessageLaunch->getPublicKey() line 128 of /lib/lti1p3/src/LtiMessageLaunch.php: call to Packback\\Lti1p3\\LtiMessageLaunch->validateJwtSignature() line 71 of /enrol/lti/launch.php: call to Packback\\Lti1p3\\LtiMessageLaunch->validate()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 2, 2022, 12:40 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration with MDL 4 and Canvas",
          "Text": "Hi Jeff, How are you setting this up? Are you also using a docker setup for Canvas? Helps to know because I ran into some configuration hurdles with the containers myself when testing this. That fatal error isn't likely related to anything here - there's no usage of any OAuthException in enrol/lti, at least in the LTI Advantage code. That's all legacy code and hasn't been changed. With regards to the public key failure, that error you're seeing occurs when the public keys could be fetched from the canvas JWKS but when parsing the keyset, Moodle was unable to find the key corresponding to the 'kid' field in the JWT header. I suspect that there's a mismatch happening somewhere. Worth checking the output of the jwks endpoint too (api/lti/security/jwks) just to make sure that's working as expected. Also, I just noticed your authentication request URL (in the Moodle screenshot above) is set incorrectly. That should be SITE/api/lti/authorize_redirect, but will be unrelated to the public key issues you're seeing now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 2, 2022, 8:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration with MDL 4 and Canvas",
          "Text": "I'd also like to point out that because we're using firebase/php-jwt, we require the inclusion of 'alg' in the JWK. See https://github.com/firebase/php-jwt/blob/main/src/JWK.php#L86-L89 . By default, the containerised Canvas I was using wasn't including this and required a config change to config/dynamic_settings.yml to include \"alg\": \"RS256\" in the keys. It seems this is included in the official jwk at https://canvas.instructure.com/api/lti/security/jwks , just not in the dev stuff. Might be useful to someone. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 2, 2022, 11:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 432351,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432351",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 auth fails when already authenticated in the same session",
          "Text": "Hi, I'm currently linking our external tool to moodle using LTI1.3. I've managed to get this working, but I have the following problem: I can only successfully start/login once. The first request to mod/lti/auth.php successfully redirects me to the tool (with the correct claims and all), but after that, whenever I try to login again (e.g. when I try to launch the tool with the \"Select content\" button) I get the following error: Undefined property: stdClass::$lti_message_hint in <b>/bitnami/moodle/mod/lti/auth.php</b> on line <b>58</b> The reason is that there is no cookie being sent for the first request, but there is a one being sent for the next requests (with the name MoodleSession). It seems that, because this cookie is being sent, I get an error because the lti_message_hint is not a property of the session. What am I doing wrong?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 28, 2022, 8:59 PM",
          "AuthorName": "Ruben Lagatie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4810014&course=5",
          "role": [
            "Picture of Ruben Lagatie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 auth fails when already authenticated in the same session",
          "Text": "Hi Ruben, Can you tell us what version of Moodle you're running? Browsers have started getting strict on cross site cookies and, as a result, older versions of Moodle won't work with newer browsers. This behaviour was patched in MDL-71887 and you can see the versions that it was landed on in the 'fixversion' field there. You need to be running at least one of those. We can troubleshoot further once we rule out what seems to be the likely cause of this 95% of the time. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2022, 11:18 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 432252,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432252",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Missing email in response",
          "Text": "Hi, While integrating LTI 1.3, the platform redirects to my redirect url and when I decode the json web token (id_token), there was no field for email address even though in the profile it is updated. Logged in as an instructor. This is the json body after decoding { \"nonce\": \"nonce-\", \"iat\": --, \"exp\":-- , \"iss\": \" https://sandbox.moodledemo.net \", \"aud\": \"--\", \" https://purl.imsglobal.org/spec/lti/claim/deployment_id \": \"--\", \" https://purl.imsglobal.org/spec/lti/claim/target_link_uri \": \"--\", \"sub\": \"3\", \" https://purl.imsglobal.org/spec/lti/claim/lis \": { \"person_sourcedid\": \"\", \"course_section_sourcedid\": \"\" }, \" https://purl.imsglobal.org/spec/lti/claim/roles \": [ \" http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor \" ], \" https://purl.imsglobal.org/spec/lti/claim/context \": { \"id\": \"3\", \"label\": \"My second course\", \"title\": \"My second course\", \"type\": [ \"CourseSection\" ] }, \" https://purl.imsglobal.org/spec/lti/claim/launch_presentation \": { \"locale\": \"en\" }, \" https://purl.imsglobal.org/spec/lti/claim/ext \": { \"lms\": \"moodle-2\" }, \" https://purl.imsglobal.org/spec/lti/claim/tool_platform \": { \"product_family_code\": \"moodle\", \"version\": \"2021051705\", \"guid\": \"1f60aaf6991f55818465e52f3d2879b7\", \"name\": \"Sandbox\", \"description\": \"Moodle sandbox demo\" }, \" https://purl.imsglobal.org/spec/lti/claim/version \": \"1.3.0\", \" https://purl.imsglobal.org/spec/lti/claim/message_type \": \"LtiDeepLinkingRequest\", \" https://purl.imsglobal.org/spec/lti-ags/claim/endpoint \": { \"scope\": [ \" https://purl.imsglobal.org/spec/lti-ags/scope/lineitem \", \" https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly \", \" https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly \", \" https://purl.imsglobal.org/spec/lti-ags/scope/score \" ], \"lineitems\": \" https://sandbox.moodledemo.net/mod/lti/services.php/3/lineitems?type_id=1 \" }, \" https://purl.imsglobal.org/spec/lti-dl/claim/deep_linking_settings \": { \"accept_types\": [ \"ltiResourceLink\" ], \"accept_presentation_document_targets\": [ \"frame\", \"iframe\", \"window\" ], \"accept_copy_advice\": false, \"accept_multiple\": true, \"accept_unsigned\": false, \"auto_create\": false, \"can_confirm\": false, \"deep_link_return_url\": \" https://sandbox.moodledemo.net/mod/lti/contentitem_return.php?course=3&id=1&sesskey=6XDULkusze \", \"title\": \"TT\", \"text\": \"\" } } Please let me know if I am missing anything. Thanks, Mani (Edited by Jake Dallimore - original submission Thursday, February 24, 2022, 1:59 PM)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1739174/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1739174/image%20%281%29.png"
          ],
          "Time": "Thursday, February 24, 2022, 1:59 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Missing email in response",
          "Text": "Hi Mani, Can you explain how you've configured the tool in the platform site? Moodle definitely shouldn't have any issue sending over the names and emails provided the instance (and preconfigured tool) is configured to send these. It looks like you have the right boxes checked, but I also note that you appear to be missing given_name, family_name in the JWT. I think we're going to need more information, basically. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 25, 2022, 9:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Missing email in response",
          "Text": "Hi Jake, I've figured out what the issue was. These were not enabled. Thank you so much, Mani",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1739354/image.png"
          ],
          "Time": "Friday, February 25, 2022, 11:46 AM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431985,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431985",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Image URLs from Dynamic Client Registration not Accepted",
          "Text": "When using an URL with non-English characters during the registration process of an external tool, Moodle breaks (doesn't show all the external tools) and returns an invalidresponse exception. Am I doing something wrong, or is this a bug?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 16, 2022, 6:50 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Image URLs from Dynamic Client Registration not Accepted",
          "Text": "Never mind, this is resolved. Turns out I thought a URL can handle a non-English character due to it working on Firefox . Fixed by encoding it to be URL safe.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 16, 2022, 9:35 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431757,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431757",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 error",
          "Text": "I am using moodle sandbox for LTI 1.3 integartion with my tool. I was able to connect with the tool from the moodle platform. All of  a sudden it is throwing me an error. Please help me in figuring out what the issue is. Thanks, Mani",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1737335/moodle-error.png"
          ],
          "Time": "Friday, February 11, 2022, 12:24 AM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 error",
          "Text": "Hi Mani, I'd suggest trying to set this up using HTTPS URLs. I.e. https://ltiadvantagevalidator.imsglobal.org/ . It looks like you've got an HTTP in there somewhere, but it's hard to say given the limited information. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2022, 11:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 error",
          "Text": "Hi Jake, Thanks for the reply. I was using the same until Friday when suddenly this error popped up. It successfully reaches login (our endpoint) and its been redirecting properly. After that it doesn't come back to my redirect url. This are my urls Also I'm using https url and is saved in database Please let me know if more info is required. Thanks, Mani Shekaran.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1737793/image%20%281%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1737793/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1737793/image%20%282%29.png"
          ],
          "Time": "Monday, February 14, 2022, 1:54 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 error",
          "Text": "Hi Mani, My only guess would be that the validator site's session has expired. Looking at that first error, it seems to suggest that you're seeing an error page on the validator. Like I said, that's just a guess though. unfortunately, there's not much else I can suggest. Maybe others who have used that tool with the demo site can provide more insight. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 14, 2022, 2:39 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 error",
          "Text": "Hi Jake, The issue got resolved. The url which I entered was wrong Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 15, 2022, 11:39 AM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431772,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431772",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Dynamic Client Registration Error",
          "Text": "I have been getting an error when I post my tool's payload to Moodle. I get the error below: Exception - Argument 1 passed to\nmod_lti\\local\\ltiopenid\\registration_helper::registration_to_config()\nmust be of the type array, null given, called in\n[ dirroot ]/mod/lti/openid-registration.php on line 54 What could be some issues? I am certain I have formatted the payload correctly and have included the registration token. Thanks for any help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2022, 5:30 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Dynamic Client Registration Error",
          "Text": "Hi Andrew, I would probably debug that openid-registration.php endpoint somehow (xdebug, print_r in a pinch). The good news is that it's seen the POST and has validated the registration token, so that won't be the issue. Null can be returned from json_decode on this line ( https://github.com/moodle/moodle/blob/ca80d53b38313edfe067184521c67320dbb9bf60/mod/lti/openid-registration.php#L53 ), so that's where I'd start looking. Check the payload, and make sure it can be decoded. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2022, 11:22 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic Client Registration Error",
          "Text": "Thanks again Jake. Turns out the Requests module in Python has a specific argument for handling JSON data. I was just passing it through the old and wrong argument. Thanks for the help :D Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2022, 10:34 PM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431437,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431437",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "H5P and LTI grading",
          "Text": "Hello I have set up H5P activities via LTI, but no grades appear in the gradebook. Has anyone had/solved this problem? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 2, 2022, 10:06 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: H5P and LTI grading",
          "Text": "Hi there, Can you please share more information about how you've set this up in Moodle and how you're testing this? How are you configuring the tool? Via LTI 1.1 or LTI 1.3? What are the configuration settings for tool? I.e. have you enabled Assignment and Grade Services? Does the activity have a grade item associated with it? Is the activity configured with \"Accept grades from the tool\" enabled? Cheers Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 3, 2022, 9:30 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: H5P and LTI grading",
          "Text": "Hello Jake Thanks for responding. I'm configuring the tool by publishing as LTi Tool (I don't see the LTI version option) Share launcher's name with the tool- yes Share launcher's email with the tool - yes Accept grades from the tool - yes The activity (quiz) does have a grade",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 4, 2022, 3:04 AM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: H5P and LTI grading",
          "Text": "Ok, that's a start. What about the other side - the consumer site? How are you configuring the tool there (i.e. the activity or preconfigured tool)? TIA Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 4, 2022, 10:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: H5P and LTI grading",
          "Text": "Hello Jake I hope this is what you need: Secure tool URL =cartridge URL Shared secret = from tool Icon URL and Secure icon URL = URL to icon on server Tool URL = same as Cartridge URL I noticed that when I click on Grade it says that I cannot change the type as grades already exist for this item (but I can't see them in any gradebook) Maybe I haven't enabled Assignment and Grade Services? Where can I find this setting? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 4, 2022, 8:55 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: H5P and LTI grading",
          "Text": "Thanks. And are re you setting up the tool via site admin > manage tools? Or are you entering this information directly in the external tool activity within the course? Have you checked under \"Privacy\" that \"Accept grades from the tool\" is checked? Have you run the grade sync scheduled task? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 7, 2022, 11:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: H5P and LTI grading",
          "Text": "Hi Jake I think I've found the issue: The school site grade sync scheduled task doesn't run as often as my site, so grades are delayed but do appear in the school gradebook eventually! (I can't do much about this as I only have teacher access). BTW User synchronisation is set to NO - is this important? Thanks for all your input and help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 8, 2022, 2:04 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: H5P and LTI grading",
          "Text": "Ah, that's great news. Good to hear! The user sync is important mainly for removal of access. Launching into a resource enrolls the user in the course and grants them access to the activity (via a role assignment at the activity context ). The user sync task can then remove that access when it sees the user is no longer returned from the consumer, such as when the user loses access in the platform for some other reason.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 8, 2022, 2:50 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430244,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430244",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Google Assignments LTI OAuth signature failure",
          "Text": "Hi there, We have been using Google Assignments in Moodle for some time but all of a sudden things have stopped working... When adding content through the external tool all goes well until you save in Google Assignments and it passes back to Moodle (3.9); at which contentitem_return.php throws this error: \n```text\nException - OAuth signature failed: Invalid signature ours= i+K2pu+DyaCzuvsQ4lP3ZTceT8c= yours=TUm+1Ejj+c/HmnixFatKMVhy5uc= \n\n\nDebug: \\nError code: generalexceptionmessage\\n* line 1329 of /mod/lti/locallib.php: \n\n\nmoodle\\\\mod\\\\lti\\\\OAuthException thrown\\n* line 71 of /mod/lti/contentitem_return.php: \n\n\ncall to lti_verify_oauth_signature()\\n, referer: \nhttps://assignments.google.com/\n```\n The only change to our Moodle configuration of late was that we moved it behind a reverse proxy... I am wondering if the reverse proxy could be causing the error with the OAuth signature but don't really know how to begin troubleshooting that! I have run a network trace in Chrome for the process too, and we are seeing a 404 error for contentitem_return.php at the same point as the OAuth error occurs... Any help or pointers greatly received! Jon",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1731376/image.png"
          ],
          "Time": "Thursday, December 23, 2021, 5:33 PM",
          "AuthorName": "Jon Witts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=89775&course=5",
          "role": [
            "Picture of Jon Witts",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Google Assignments LTI OAuth signature failure",
          "Text": "Hi Jon, Sorry to hear you're having trouble with this now. Full disclosure, I've not set up Google Assignments with Moodle before, so am really just troubleshooting the general LTI flow. Could you perhaps attach the network trace as a HAR file, so I can run through it on my end? Which version of 3.9 are you running? Are you up to date? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:23 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Google Assignments LTI OAuth signature failure",
          "Text": "Hi Jake, Sorry for the delay in getting back to you... It's been a busy term! We are running Moodle 3.9.11+ (Build: 20211207) so only a point release behind the latest... I will try and get the HAR file tomorrow for you... Thanks for looking; Jon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 8, 2022, 1:17 AM",
          "AuthorName": "Jon Witts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=89775&course=5",
          "role": [
            "Picture of Jon Witts",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430016,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430016",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Building a LTI 1.3 Tools as a Tool provider",
          "Text": "Dears, First I would like to thank you all for the good work and help, for the time being I have been just a spectator and this is my very first post. I am pretty new to the Moodle world, just started to work for a Tool company. To provide our services, we ask clients to create manually our Tools in their Moodle and to connect via LTI 1.3. Instead of doing it manually I have the feeling that they can be able to add a preconfigured tool by inputting our tool URL For instance, I have found that file online Ex : https://edfinity.com/lti/configure.xml 1) Do you have documentation of how to create that kind of file ? All my research leads to \"how to configure a new external Tool\" and not to \"how to build an external tool\". 2) Do you see an advantage of processing that way ? 3) I still don't understand where the \"request\" will arrive on my tool Or how to generate a \"Consumer key\" and \" Shared secret\" Thank you for your help and reading. Julien",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 15, 2021, 12:31 AM",
          "AuthorName": "Julien Pro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4676529&course=5",
          "role": [
            "Picture of Julien Pro"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Building a LTI 1.3 Tools as a Tool provider",
          "Text": "Hi Julien, Welcome to the forum! I'll do my best to address your questions below but first I'd like to clarify a few things that stood out in your post. Firstly, I'd like to point out that there are several versions of LTI around. There are two legacy (now deprecated) versions: 1.0, 1.1 and 2.0, and there is the current version: 1.3 (called LTI Advantage if you include the services). Yes, the version numbers are confusing, but 1.3 is definitely the current version to follow. I would only consider building a tool using LTI 1.3 since it's the only in-support version of the standard (In fact, I've just finished doing that with Moodle 4.0 myself). Regarding terminology, I note you've mentioned \"Consumer key\" and \"Shared secret\". These are both concepts of the deprecated versions of LTI and we don't see these in LTI 1.3 and LTI Advantage. When you say \"Instead of doing it manually\", what exactly do you mean? Can you elaborate on the current manual process? The way LTI 1.3 should be configured and used is two part: The security contract is set up between the tool and the platform. This can either be done manually (via a fairly tedious back and forth URL configuration process), or via Dynamic Registration (see the link to the Dynamic Registration spec on this page: https://www.imsglobal.org/activity/learning-tools-interoperability ), which vastly simplifies the tool configuration process. I would strongly recommend implementing dynamic registration if you haven't already. Note: You'll need an IMS login to view those specifications. Platform users set up links to content. This can happen via Deep Linking content picker/creation flow, or links can be manually configured in the platform (perhaps using custom params to identify specific resources on the tool). Deep linking is the superior method here IMO . So, when you say \"Manual\", I'm just not sure which part of the process you're referring to. Some clarification would be great. Now, on to the questions you had: 1) Do you have documentation of how to create that kind of file ? All my research leads to \"how to configure a new external Tool\" and not to \"how to build an external tool\". That file is a common cartridge file. You can find information about that at the links below. While it's possible to include an LTI 1.3 link in common cartridge, I believe the consuming platforms need to support the latest version of common cartridge for that to be supported. Honestly, I don't see many docs from tool providers describing their use of cartridges with LTI 1.3 - perhaps because of the increasing use of Deep Linking as a means to configure links. https://www.imsglobal.org/activity/common-cartridge https://www.imsglobal.org/cc/index.html https://www.imsglobal.org/specs/lti/xml 2) Do you see an advantage of processing that way ? I personally don't see much value in the cartridge approach, given you can now configure links to tool-hosted resources via Deep Linking. 3) I still don't understand where the \"request\" will arrive on my tool Or how to generate a \"Consumer key\" and \"Shared secret\" I'd suggest reading up on the LTI 1.3 Specs, so you'll have some idea of how requests, such as resource link launches and deep link launches arrive at the tool, and in what format. Essentially, as the tool, you define the endpoints for these things, and these endpoints are exchanged as part 1 of the LTI 1.3 configuration process I described above (setting up the security contract). As mentioned above in the clarifications, please ignore consumer key and shared secret if you're working with LTI Advantage. Some links which may be of use: LTI 1.3 core: https://www.imsglobal.org/spec/lti/v1p3/ IMS Security Framework: https://www.imsglobal.org/spec/security/v1p0/ Deep linking 2: https://www.imsglobal.org/spec/lti-dl/v2p0 All these links can be found on the main LTI page: https://www.imsglobal.org/activity/learning-tools-interoperability Hope that helps. Perhaps once you clarify the manual process you're using, I can offer more advice. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 15, 2021, 9:17 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Building a LTI 1.3 Tools as a Tool provider",
          "Text": "Hello ! I am more or less in the same situation as Julien Pro. I think I'm missing some important information to understand what I am supposed to do. I have 2 moodle (3.11), let's call them moo1 and moo2 : In my moo1 LMS, I'm the provider, I have a course I want to share with LTI 1.3 In my moo2 LMS, I'm the consumer/client, I want to use the moo1 course . As in all the tutos I have seen, I want to put my Tool URL (from moo1) to add a tool in moo2 (see picture below) But what I don't get is : where and how do I generated my tool URL in moo1 ? Can I ever do it directly on my moo1 LMS ?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1734613/moodle310_external_tool_registration.png"
          ],
          "Time": "Saturday, January 22, 2022, 1:35 AM",
          "AuthorName": "Sabine Dautzenberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2610625&course=5",
          "role": [
            "Picture of Sabine Dautzenberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Building a LTI 1.3 Tools as a Tool provider",
          "Text": "Hi Sabine, I'd suggest reading the docs here: https://docs.moodle.org/311/en/Publish_as_LTI_tool . Once you've published the course, the fields you want to copy and use from the \"Published as LTI tools\" page, are: - Launch URL - Secret In Moo2, click \"Configure a tool manually\" and you'll need to enter this information into the fields: - Tool URL - Shared secret Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2022, 10:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Building a LTI 1.3 Tools as a Tool provider",
          "Text": "Hello, If I want to just make a LTI 1.0/1.1 link, then it is just fine. Because, as you have said, I just need launch URL and secret key : But I want to use a LTI 1.3 link, and it does ask for the same datas (as seen in the next screenshots) What I don't understand is where do I find the public key and Initiate login URL that is asked ? Or",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1734828/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1734828/image%20%283%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1734828/image%20%284%29.png"
          ],
          "Time": "Monday, January 24, 2022, 4:59 PM",
          "AuthorName": "Sabine Dautzenberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2610625&course=5",
          "role": [
            "Picture of Sabine Dautzenberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Building a LTI 1.3 Tools as a Tool provider",
          "Text": "That's because LTI 1.3 isn't currently supported in the provider. It will be in 4.0 though. See MDL-69542 for details. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2022, 6:24 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Building a LTI 1.3 Tools as a Tool provider",
          "Text": "Ok, I understand now ! Thank you very much !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2022, 9:01 PM",
          "AuthorName": "Sabine Dautzenberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2610625&course=5",
          "role": [
            "Picture of Sabine Dautzenberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Building a LTI 1.3 Tools as a Tool provider",
          "Text": "Thanks Jake for all those information, and sorry for the long time, I will clarify As a Tools provider, I am using LTI 1.3 standard I need my clients to add my Tools easilly to their Moodle. They are configuring my tool manually in their Moodle with my: Tools Name Tools URL Tool Domain LTI version: 1.3 Public Key Initiate login URL Redirection URI(s) Default launch container = New Window Privacy Share launcher's name with the tool Share launcher's email with the tool As you mention, I will benefit to have a Dynamic Registration url, that is what I am looking for. Based on the documentation, I can see that there some fields that are available and some are not (items 8 and 9): { \"client_name\": \"Virtual Garden\", \" https://purl.imsglobal.org/spec/lti-tool-configuration \": { \"domain\": \"client.example.org\", \"description\": \"Learn Botany by tending to your little (virtual) garden.\", \"description#ja\": \"小さな（仮想）庭に行くことで植物学を学びましょう。\", \"target_link_uri\": \" https://client.example.org/lti \", } \"token_endpoint_auth_method\": \"private_key_jwt\", \"initiate_login_uri\": \" https://client.example.org/lti \", \"redirect_uris\": \" https://client.example.org/callback \", } Am I doing it correctly ? Does item 8 and 9 can be configurated in the xml file ? Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 2, 2022, 1:33 AM",
          "AuthorName": "Julien Pro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4676529&course=5",
          "role": [
            "Picture of Julien Pro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Building a LTI 1.3 Tools as a Tool provider",
          "Text": "Hi Julien, You can see the fields that Moodle supports during the handling of a registration request here: https://github.com/moodle/moodle/blob/2eaf60e01b1872293683b06987a764875c324039/mod/lti/classes/local/ltiopenid/registration_helper.php#L103 . Launch container and privacy are Moodle-specific fields and are not supported as part of this process. Once the preconfigured tool is created - after dynamic registration - these values can be set via preconfigured tool settings. For reference, here's how Moodle (when acting as a tool provider) constructs its registration request: https://github.com/moodle/moodle/compare/e63604fb6d...snake:MDL-69542-master-fixes-historyfix#diff-fed2cb814ecd3de9ad47582296b31d2721f439b487a0810951a4e49ce1c7b7a9R98 . If the link doesn't work, try hitting the 'files changed' tab and reloading, or just view the enrol/lti/register.php file directly. Also, for 5, I would strongly recommend using a keyset URL over a public key, as seems to be the case in most tools I've seen. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 2, 2022, 10:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Building a LTI 1.3 Tools as a Tool provider",
          "Text": "Thank you Jake. I will provide all those precious information to my developper. Last thing, at the moment, after the client add my Tools 1. They have to \"view configuration details and send me back : Platform ID: Client ID: Deployment ID: 9 Public keyset URL: Access token URL:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 2, 2022, 4:59 PM",
          "AuthorName": "Julien Pro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4676529&course=5",
          "role": [
            "Picture of Julien Pro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Building a LTI 1.3 Tools as a Tool provider",
          "Text": "Hi Julien, Once you've implemented dynamic registration, there's no need for the manual exchange of URLs as would be the case for a manual registration. That's all possible via dynamic registration, which is what makes that specification so appealing. That specification requires that tools expose their public key via a JWKS URI - see jwks_uri details in section 2.2 of that spec you linked above. Good question about access. Basically, you can do this one of several ways (that I know of - there may be other variations): Unsecured registration URL - anyone can register your tool. I've seen some tools that do this (I think it was ChemVantage) Secured registration URL - you'll need to generate a special URL which platforms can use to register your tool. A user will do this via your tool somehow and the resulting URL will contain a one time use token, that must be verified when the registration request comes in. Anyone else won't be able to register your tool. The other thing to note with dynamic registration is that the platform (Moodle does this, for example) will likely not enable the tool automatically as part of the registration handshake. It will be in a draft state at that time and will require a confirmation from the user. In Moodle, this looks like an 'Activate' button on the preconfigured tool card in the manage tools page. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 3, 2022, 9:25 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431150,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431150",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI : synchronization grades la tâche de synchronisation des notes échoue",
          "Text": "Hello I have searched in vain for several days now, please help me 😭! Moodle 3.10 and 3.11 I use LTI links to give acces to my course (course1) from my moodle1 to my moodle2. The LTI authentification and enrolment are activated on moodle1,\nas welle as \"Allow frame embedding\". I add the LTI enrolment on course1, the \"Grade synchronisation\" parameter is \"Yes\". I took note of the launch URL and secret of this new enrolment method. On moodle2, course2, I add an external tool activity, put the launch URL and secret I took note of, and add a Consumer key \"moodle2\". I enrolled a test user in course2. I opened moodle2 in another browser (as to not have any authentification conflicts). I sign in with test user username. Everything seems fine : test user have access to course1 via course2 external tool, I do the quiz, the grade is in the grade notebook on course, moodle1. But the grade never goes to moodle2. The task for grade synchronization for LTI provider send me a \"Failed\" statut no matters how many time it is launched : \n```text\nStarting - \nGrade\n sync for shared tool '1' for the \ncourse\n '34'.\nFailed - The grade '1' for the \nuser\n '1483' in the tool '9462' for the course '34' failed to send.\nCompleted - Synced grades for tool '1' in the course '34'. Processed 1 users; sent 0 grades.\n```\n I try : to set differently the enrolment method parameters on moodle1, to use \"Preconfigured tool\" in moodle2 to use the LTI launch URL on other moodle than moodle2, to add LTI enrolment methods on other course than course1, to upgrade both moodle from 3.10 to 3.11 version... Nothing fix the problem Sometimes, the task is sending me a \"Not send\" report : \n```text\nNot sent - The grade for the user '1487' in the tool '1' for the course '34' was not sent as the grades are the same.\n```\n Even thought moodle2 doesn't have any grade in rgade notebook... I found this bug tracker : https://tracker.moodle.org/browse/MDL-69542 Is someone know how to fix this bug ? Thank you ! P.S : sorry for my english, I'm not native speacker",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1735004/image.png"
          ],
          "Time": "Tuesday, January 25, 2022, 6:18 PM",
          "AuthorName": "Sabrina Da França",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2720908&course=5",
          "role": [
            "Picture of Sabrina Da França"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI : synchronization grades la tâche de synchronisation des notes échoue",
          "Text": "Hi Sabrina, Just to confirm, in course 2 -> external tool instance settings, have you ticked the 'Accept grades from the tool'? This needs to be checked for grades to be accepted. I'm assuming this is checked though. Can you tell me the exact version of 3.11 you've tried? This will help me test locally. That last trace ( e.g. ...was not sent as the grades are the same. ) is what you'll see if the grade has been sent successfully once and is then sent again with the same value. The tool only updates the lastgrade value which it uses for this comparison if the grade was sent successfully once before. This suggests the grade was successfully sent at some point. If you change the grade and run cron again, you should see that the updated grade will be sent. Also, please note that MDL-69542 is not a bug and is not related to what you're discussing here. That tracker issue deals with adding support for 1.3 to the tool provider code. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2022, 10:30 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI : synchronization grades la tâche de synchronisation des notes échoue",
          "Text": "Hi Jake, Thanks for you answer Yes I have activated 'Accept grades from the tool' I have tried with several moodle : - The provider in 3.11.5, and the client in 3.11.4+ - the provider in 3.11.4+ and the client in 3.11.3+ - the provider in 3.114+ and the client in 3.10.3 - the provider in 3.114+ and the client in 3.10.1 - the provider in 3.10.1 and the client in 3.114+ Always the same result.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 1, 2022, 9:21 PM",
          "AuthorName": "Sabrina Da França",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2720908&course=5",
          "role": [
            "Picture of Sabrina Da França"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI : synchronization grades la tâche de synchronisation des notes échoue",
          "Text": "Hi Sabrina, Looking at the task code, it seems that \"Failed to send\" (without any exception data, as it seems is the case in your log above) is reported when the score post receives a response containing a message other than 'success'. Unfortunately, the task doesn't report the response, which may hint at why the grade couldn't be sent. Unfortunately, I'm unable to replicate your issue here using Moodle 3.11, so any troubleshooting will need to be on your end.  I'd recommend adding this debugging call to the task and trying again (make sure you change the grade first, of course, so you don't hit the \"Grade is the same\" check). Please add the following: \n```text\nmtrace($response);\n```\n Right below this line ( https://github.com/moodle/moodle/blob/158898254cd2bf20c8126c22960a33d460e4def5/enrol/lti/classes/task/sync_grades.php#L181 ) In the enrol/lti/task/sync_grades.php file on your moodle1 site. This will report the response alongside the \"Failed to send\" message (which by itself is not very useful). Then, rerun the task after you've changed the grade and share the response here. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 2, 2022, 10:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431079,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431079",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Jwt token from moodle (lti 1.3)",
          "Text": "Hi! I’ve got jwt token (id_token) from moodle with invalid signature I use jwt.io to decode jwt Help me please",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 23, 2022, 4:16 PM",
          "AuthorName": "alex voronov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4733579&course=5",
          "role": [
            "Picture of alex voronov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Jwt token from moodle (lti 1.3)",
          "Text": "Hi Alex, We're going to need more information to be able to help with issues like this. Can you explain what you're trying to do, how you've configured Moodle (and the tool)? The JWT sent from Moodle is certainly valid, so it's going to be a matter of tracking down the validation problem in the tool code, I suspect. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2022, 10:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Jwt token from moodle (lti 1.3)",
          "Text": "TY! i've solves the problem Have a nice day",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 30, 2022, 1:36 AM",
          "AuthorName": "alex voronov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4733579&course=5",
          "role": [
            "Picture of alex voronov"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431180,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431180",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "Hello. I am attempting to implement LTI 1.3 support to an existing tool. We are testing our tool out on an instance of Moodle. Everything from the LTI Core to Deep Linking works. However, it seems that Moodle does not want to accept its own Bearer token. I keep getting a 401 error upon trying both the Assignment and Grade Service and Name and Role Provisioning Service. Any ideas on what I might be doing wrong? I am able to successfully get the Bearer token, but Moodle does not seem to recognize it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 26, 2022, 5:32 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "Hi Andrew, Sorry to hear you're having issues with this. Firstly, make sure these services are enabled in the pre-configured tool settings. I'm assuming they are though, since you're likely making the service request to the URLs you got in the launch. Also make sure you're definitely including the Auth header correctly in the request and that you're including the correct scopes in the JWT. If you get really stuck, you can probably debug the Moodle mod/lti code as it receives the request, and try to work out where the 401 is coming from (what's the reason, that is), but I'd suggest trying the other things first. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2022, 10:49 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "Hi Jake. Do you know where I can debug Moodle? (Where is the console output going to?)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2022, 8:23 PM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "Like, where can I find the location of the error outputted upon authentication token rejection?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 28, 2022, 3:37 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "What I really meant was stepping through the code using something like xdebug to trace the code path as it's being executed. You might also try enabling developer debugging (via site admin) and tailing the apache error logs (or relevant web server logs). E.g. \n```text\ntail -f /var/log/apache2/error.log\n```\n See also: https://docs.moodle.org/311/en/Debugging Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 28, 2022, 9:44 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "Thanks for the tip. We finally figured out the reason why this was occurring. The solution was found on another forum post. Turns out Bitnami 's apache was stripping the header (and thus the authentication token) off of any non-SSL requests. The solution is on the other post: https://moodle.org/mod/forum/discuss.php?d=389429#p1597517",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 29, 2022, 2:30 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431144,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431144",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Engaging External Tools for Moodle",
          "Text": "Hi Everyone! I am trying to make Moodle more exciting for my students/participants (mostly adults), so I am searching for external tools which would make it more engaging. What do you use? What do you suggest? I am collecting the ideas on this Padlet. Feel free to post is there or here in the forum. https://padlet.com/bogitoth83/m3i9qodm9l Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 25, 2022, 4:50 PM",
          "AuthorName": "Boglárka Tóth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4738508&course=5",
          "role": [
            "Picture of Boglárka Tóth"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 431031,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431031",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Firefox 96.0+ Breaking LTIs",
          "Text": "Hi all, we're running into issues with LTIs with the latest release of Firefox (96.0+). I've seen similar issues reported for Canvas, but haven't seen any for Moodle, so wanted to see if anyone else was experiencing this. It's happening for our Kaltura and Zoom LTIs - Kaltura has stated that they plan to patch the issue this weekend, but unsure about Zoom. With Kaltura, it gives an error about 3rd-party cookies, but with Zoom it gives a \"required parameter (url) was missing\" error and creates a strange nested login loop. This happens both when adding a new Zoom activity via External Tool and when clicking on an existing one. Anyone else seeing this? Wanted to make sure there's not anything we're overlooking in Moodle that might solve this. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 21, 2022, 6:55 AM",
          "AuthorName": "Riana Beachy-Hasenick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3931455&course=5",
          "role": [
            "Picture of Riana Beachy-Hasenick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Firefox 96.0+ Breaking LTIs",
          "Text": "Hi Riana, This is likely because of a change to the way samesite cookies are handled in Firefox 96 (now implicitly set to samesite=lax). We suspected this was coming. Moodle patched this in launches a while back - see MDL-71887 for details. What version of Moodle are you running? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 21, 2022, 9:08 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Firefox 96.0+ Breaking LTIs",
          "Text": "Hi Jake, thanks for your response! That makes sense - we're still running 3.9.7. Looks like it was patched in 3.9.9?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 21, 2022, 11:44 PM",
          "AuthorName": "Riana Beachy-Hasenick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3931455&course=5",
          "role": [
            "Picture of Riana Beachy-Hasenick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Firefox 96.0+ Breaking LTIs",
          "Text": "Hi Riana, Yep, that's right. Patched in 3.9.9 as per the fix version/s field. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2022, 9:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431002,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431002",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI integration get access token/ bearer token",
          "Text": "Hi All, I have one question regarding the LTI integration with moodle, I do implement the LTI 1.3 feature connect to our system with Moodle, Successfully integrate the LTI 1.3. Anyhow, to implement  Asignment and Grades services, we need to have the bearer/access token. We do stuck at this getting bearer token.  As I follow this step also didnt work at our site. https://medium.com/@damithperera10/assignments-and-grades-integration-in-moodle-lms-lti-1-3-with-client-credentials-base-oauth-2-0-1594148382d4 . Always return us the invalid request for this part. Anyone know that is it we need to have some settings at Moodle? Thanks, Nurul (Edited by Jake Dallimore - original submission Thursday, January 20, 2022, 2:20 PM)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1734355/image.png"
          ],
          "Time": "Thursday, January 20, 2022, 2:20 PM",
          "AuthorName": "Nurul Ain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4545797&course=5",
          "role": [
            "Picture of Nurul Ain"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI integration get access token/ berer token",
          "Text": "Hi Nurul, That's going to be hard to say, because mod/lti/token.php isn't very good at telling us what went wrong in situations like this. Your best bet is to debug that script directly with xdebug, provided you control the Moodle instance on a dev site (certainly looks like you do). it could be that the client_assertion isn't a valid JWT or that its signature can't be verified. It could also be that the JWT is missing one or more of the claims we need, like 'sub'. Stepping through the mod/lti/token.php code as you fire the request would be the way to go I think. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2022, 3:28 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI integration get access token/ berer token",
          "Text": "Hi Jake, Thanks for your reply. Here is our signed jwt. As I see from our jwt, it actually already contains all the claims needed sub, iss, aud, iat, exp and jti { \"kid\": \"7Zmk3dYEl9Tz9qr\",",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2022, 4:06 PM",
          "AuthorName": "Nurul Ain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4545797&course=5",
          "role": [
            "Picture of Nurul Ain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI integration get access token/ berer token",
          "Text": "Like I said, it's hard to know for sure without debugging the mod/lti/token.php code. I'd suggest doing that to find where $ok is being set to false and thus where it's failing. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2022, 4:44 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430048,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430048",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "LTI Tool Provider: Empty service url",
          "Text": "Hello, I bumped into an issue I have not had before. And wondering if someone recalls a simalar issue. Moodle 3.9.x  LTI Tool Provider CAPP12 LTI Tool Consumer Case: Student enters course, in the enrol_lti_user column serviceurl, the url is placed. Student receive a grade, grade is send through the services , LTI tool consumer confirms that grade is visable. Student re-enters course to improve grade, grade is not being send. Cron log shows error: skipping - empty serviceurl for the user xxx in the tool xx for the course xxx We check the database , and confirm that the service url has \"dissapeared\". We enter the service url manually in the database and grade is being send again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 15, 2021, 8:21 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Gemma, Thanks for the very detailed description. That certainly helps in tracking stuff like this down. I'm not sure I quite follow their response, though. beside the normal way to start a new attempt, students have - when set - the possibility to see a result that been send before. Conform LTI we send an earlier used lis_result_source_id without the service url. We don't send the service url because we don't expect a result back. Assuming you do, could you perhaps clarify what they're trying to say there? It sounds like they're talking about a mechanism to allow grade history to be shown in the Consumer, which can result in a launch with an old lis_result_sourcedid being sent, without an accompanying lis_outcome_service_url . Is that about right? In any case: I have no idea how they do it, but could it be that because they don't send the service url again this is being cleaned in the Moodle database? This seems to align itself with what the tool provider code does. It grabs the service URL and, if different to the currently stored value, it sets the new value. https://github.com/moodle/moodle/blob/master/enrol/lti/classes/tool_provider.php#L344-L346 I guess this is to handle cases where the service URL changes from one valid URL to another, rather than cases where it's being omitted. If you have a look at the Basic Outcomes 1.0 documentation ( https://www.imsglobal.org/specs/ltiomv1p0/specification ), specifically section 2 there, you'll see this part: A typical implementation pattern is for the Outcomes Service Provider to only accept outcomes for launches with a role of \"Learner\". If this were the case, the TC would only provide lis_result_sourcedid values on launches with a \"Learner\" role. If the TC is configured to accept outcomes on a particular launch, the TC is required to include lis_outcome_service_url regardless of the role in the launch and regardless of whether or not a lis_result_sourcedid is included in the launch. Whilst not exactly the same situation, that, to me, suggests that omitting the service URL isn't something that's permitted when we expect results in any of the launches. Regardless of whether a result is expected on a particular launch, if we expect it at some point, for some role, it seems that the service URL must be sent on every launch. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 16, 2021, 8:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Jake, Assuming you do, could you perhaps clarify what they're trying to say there? It sounds like they're talking about a mechanism to allow grade history to be shown in the Consumer, which can result in a launch with an old lis_result_sourcedid being sent, without an accompanying lis_outcome_service_url . Is that about right? I have translate their full reply for you. But as I understand it, you are right they are talking about a mechanisme to allow grade history to be shown in the consumer, which can result in a launch with an old lis_result_sourced_id being send. Their reply fully translated:\" The supplier indicates that the service url is sometimes lost. The only explanation I have for this is that in addition to the 'normal' start-up of an attempt, there is also the possibility to view previously acquired results if this is checked (as a check mark at the device) in our LMS. The form in which previously achieved results in accordance with LTI standard can be viewed is by sending previously used lis_result_sourced_id to the supplier of the content, but WITHOUT a service url. After all, no result is expected in return from this review of a previous attempt. On the part of the supplier, the attempt can then be looked up and the results (possibly provided with feedback) can be shown to the user. It seems to me that what you descibe on the Basic Outcome 1.0 documentatie, section 2 -is exactly what they are reffering to. I will double check with them if this is the case. But do I understand you correctly that Moodle's current code, cannot handle this behavior that the LMS consumer is asking of Moodle as a provider? And if so, does that mean looking at the Basic Outcome 1.0 documentation that this behavior in Moodle should be adapted, or in other words: should a tracker be made for this, and if so is this an improvement or considered as a bug? I am also wondering if this effects the changes in Moodle 4.0 looking at the new 1.3 LTI provider set up? (Sorry too many questions)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 16, 2021, 4:47 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Gemma, I'm wondering whether that type of use case is actually supported by the BO 1.0 standard. I will add the disclaimer that I'm more versed in the 1.3 standards than the legacy ones though. I'd be interested to see the specific part of the spec that deals with launching into past results using different lis_result_sourcedid values. You're right when you say Moodle's BO code cannot handle this . It will update the service URL on every launch. If it's being omitted on the most recent launch, then Moodle removes that data from the table. Another way to think about it is that Moodle is designed to support changing service URLs (which is a valid, albeit rare use case according to the spec) but wasn't designed to handle the use case being discussed here. In any case, Moodle is moving away from 1.1/2.0 and related services since these are deprecated. We're unlikely to accept any changes to this code because of this, so I wouldn't recommend creating a tracker issue. Presumably, the platform also supports 1.3 and Advantage. Currently, the LTI Advantage code in enrol_lti (a dev branch) won't delete the Line items endpoint, even it it's omitted from a given launch. If the tool (formerly provider, aka Moodle) doesn't have permission to post/update the score (i.e. cannot get an access token for the required scope), that operation just won't happen. LTI Advantage also has a spec called Submission Review, which may handle situations like \"Student launches to review their existing work\" - which seems to be what's being discussed here. That spec is not final, however, and there is no support for it yet in Moodle in either the Platform (consumer) or Tool (provider) code. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 20, 2021, 10:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Jake, Sorry for the delay. They confirm that the BO 1.0 section you refered to describes what they are doing, but since they implemented it awhile ago they are not sure if this is the only section that referens to the working. They do test through https://saltire.lti.app/tool (or https://ltiapps.net/test/tp.php ) to ensure that they work according to the standard. And confirmed through these test that a module can be started without the lis_outcome_service_url . In any case, Moodle is moving away from 1.1/2.0 and related services since these are deprecated. We're unlikely to accept any changes to this code because of this, so I wouldn't recommend creating a tracker issue. Does this mean that Moodle 4.0 will only support 1.3 / LTI Advantage? Because I can imagine that there a multiple suppliers that have not moved away from the deprecated standard. And would be good to inform them on time. If Moodle still support 1.1/2.0 in Moodle 4.0, I can imagine that creating a tracker (and providing a patch) would be still usefull (?) Currently, the LTI Advantage code in enrol_lti (a dev branch) won't delete the Line items endpoint, even it it's omitted from a given launch. Do I understand you correctly that the current discussed scenario won't be happening from Moodle 4.0 forward? Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 5, 2022, 6:15 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "@Jake - Following up on the yes/no tracker . It seems to be a setting in this specific LMS (CAPP) that can be turn on / off per LTI tool url. So a patch won't be necessary. But I do wondering if in M4.x LTI 1.1 / 1.2 will still be available even though it will deprecate this year. Because I fear that - similar to by example SCORM - that this \"old\" standard even though deprecated will take some time to be replaced by 1.3 in other LMS systems.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 13, 2022, 10:47 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Jake, If LTI 1.1 and 1.2 are no longer supported, this will have a major impact on a number of our customers. I hope you can clarify this soon. Best regards, Arnout (Avetica, Premium Moodle Partner)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 13, 2022, 11:17 PM",
          "AuthorName": "Arnout Vree",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36449&course=5",
          "role": [
            "Picture of Arnout Vree"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Arnout, 1.1 and 2.0 will certainly be present in 4.0 - both in the consumer code (mod/lti) and in the provider code (enrol/lti). In the case of the latter (the provider code), we simply highlight, via the UI, that the method of publication is deprecated. There are no plans to remove this yet. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:14 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Gemma, That's good news. With cases like this, in which the proposed code change may end up being non-trivial and may change the way Moodle stores data about the launch, I'd be reluctant to push forward with too much vigor, given we can't certify again with said changes in place.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:18 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Thank you for your time to answer Jake!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 4:38 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Gemma, A few things to address here: I'm not sure those test tools are 100% IMS compliant. While we've used these in the past ourselves too, they may not accurately test things like the edge cases we're talking about here. In any case, they aren't something to rely on as a single source of truth. Moodle 4.0 only adds resource publishing over LTI 1.3 (enrol/lti). It doesn't remove any of the publishing capabilities for 1.1/2.0, nor does it change any of the Moodle consumer code (mod/lti). We just make it clear, via the UI, that the 1.1/2.0 method of publishing is deprecated but it's still possible to do this. Because, like you say, many consumers will not be able to support 1.3 (despite it being the only recommended standard right now), there are no plans to remove publication or consumption of resources over these legacy standards. I expect we'll be stuck with these for some time yet. What you see now in 3.11 will continue to work the same way in 4.0. We can no longer certify legacy LTI with IMS - this is the important point driving the need to be very careful about what changes we do accept. Normally, we'd certify our LMS releases (as a consumer of 1.1/2.0/1.3 LTI resources) during the release period. We can no longer certify for 1.1 or 2.0 at all with IMS, meaning the current codebase (which is certified) is the last time we can be sure that the code passes the certification suite and works as intended. As such, we'll be very careful about what code changes we'll land for legacy version like 1.1/2.0 in future. Major changes will likely be rejected, but minor changes may be ok - on a case by case review. Regarding my comment about the 4.0 changes and the endpoint: Yes, the issue being discussed here won't be a problem for consumption of resources published over LTI 1.3 in Moodle 4.0. You will of course need to wait for 4.0 and then republish the resource over 1.3 (and have a 1.3 capable consumer platform). Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:12 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430586,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430586",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Gradebook submission data",
          "Text": "When a student submits a grade via the LTI 1.1 Outcomes Service or the LTI Advantage Assignment and Grade Services, is there a way to indicate a submission URL that the gradebook can direct a teacher to in order to grade a student's assignment? Currently, the gradebook only opens the external tool with the linked resource. Canvas provides a `ext_outcome_data_values_accepted` in the LTI 1.1 launch parameters to indicate that outcomes can include a `resultData` value in the grade submission that contains an external URL ( https://canvas.instructure.com/doc/api/file.assignment_tools.html#lti_advantage ). They also provide an optional submission object \" https://canvas.instructure.com/lti/submission \" in the Assignment and Grade Service score request to add additional submission data as well ( https://canvas.instructure.com/doc/api/score.html ). The Assignments and Grade Service spec also indicates a `GradebookResultMessage` that would cover this scenario as well ( https://www.imsglobal.org/spec/lti-ags/v2p0#gradebookresultlaunch-message ). Does Moodle implement this submission URL handling in a different way?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 8, 2022, 4:32 AM",
          "AuthorName": "Jack Grzechowiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4702663&course=5",
          "role": [
            "Picture of Jack Grzechowiak"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Gradebook submission data",
          "Text": "Hi Jack, That isn't possible right now. There's an issue dealing with adding that to the 1.3 consumer codebase - see MDL-69275 . That issue deals with adding support for submission review launches, as described here: https://www.imsglobal.org/spec/lti-sr/v1p0 (login required). That reference to the GradebookResultMessage spec in the AGS2 spec should actually be to the submission review spec - see this forum post - http://www.imsproject.org/forum/learning-tools-interoperability-public-forum/197391 . it seems IMS didn't update that spec as they said they would. Given you're dealing with a launch from Canvas, however, I suspect you're in need of support for this in the Moodle provider code. Unfortunately, we're in the same situation there in that it's an unsupported spec right now. In fact, 1.3 is unsupported right now (coming in 4.0). I think the submission review workflow is something to consider for the future however, so if you create an issue on the tracker, I'd be happy to triage it accordingly. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 4:04 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430867,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430867",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI Grade Sync: Grade update timing",
          "Text": "Folks, I must have missed it, but is there a setting that controls how long after a user finished a grade sync-able item that it starts sending a grade back to a provider?  We have the admin.php cron job going once a minute but the latency seems to be >10 minutes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 4:01 AM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Grade Sync: Grade update timing",
          "Text": "Hi Kenwrick, The main cron run should be every minute (as recommended in docs), however, the individual scheduled tasks can be configured via Site admin > Server > Scheduled tasks. The one you're looking for is called \"Publish as LTI tool grade sync\" (\\enrol_lti\\local\\ltiadvantage\\task\\sync_grades). Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:30 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Grade Sync: Grade update timing",
          "Text": "Thank you Jake!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 4:03 PM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429886,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429886",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Customer key",
          "Text": "Hello, I am using the LTI method for the first time, and I am stock ! I hope that someone can help me. I checked the moodle guide https://docs.moodle.org/311/en/Publish_as_LTI_tool and it says \"You will also need to give the LTI consumer site a consumer key - this can be anything you want.\" I cannot find where I generate the customer key ? As far as i understand, I can make it up myself, but where do I write it down ? Thank you so much for your help,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 10, 2021, 7:32 PM",
          "AuthorName": "Sand ipm",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3872425&course=5",
          "role": [
            "Picture of Sand ipm"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Customer key",
          "Text": "Hi, You're right, the consumer key can be anything you like. You need to enter it in the tool settings in the consumer site. The first time the tool is launched, the provider will store information about the consumer, including the key you've used. I will point out that there are implications to using different consumer keys across different tools on the consumer site, however. Because the Moodle provider code uses the consumer key in generating unique identifiers for user accounts, using different consumer keys can result in two user accounts being created on the provider, for the same user on the consumer site. This would occur if the same user launched two tools on the consumer using different consumer keys (i.e each tool is set up to use a different consumer key). If your use case is a single organisation using the tool(s), you probably want to just pick a key and stick with it, making sure that all launches a given user will result in that same account being reused on the provider site. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 13, 2021, 10:00 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Customer key",
          "Text": "hello, thank you so much for your answer, I think that explains why there are so many accounts being created for one single user. I also have an issue with a module inside a module (external tools) being seen as an \"abymed\" window (a window in a window in a window) would you know why this is happening ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 5, 2022, 4:33 PM",
          "AuthorName": "Sand ipm",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3872425&course=5",
          "role": [
            "Picture of Sand ipm"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Customer key",
          "Text": "I'd suggest looking at the docs here: https://docs.moodle.org/311/en/External_tool_settings Look for \"Launch container\" - that deals with the various modes like embed, new window/tab, etc. Hope that helps. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:38 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429430,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429430",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.9.11+ OAuth signature check failed",
          "Text": "Hi, I did a research in this forum about my problem, but found no solution. (If there is one, please point me at it) I set up two Moodle instances on the same host (so same PHP 7.4, same PHP extensions, same clock/time). Both Moodles are installed from git ( Moodle 3. 9 .11+ (Build: 20211120 , commit 448a2aa60ca80d7a474040c92ae0cf6267898152 ). In Moodle 1 a whole course is published as LTI. In Moodle 2 an external tool is configured by the cartridge URL and Secret (and consumer key), no errors are thrown. When I access (as Admin) the external tool activity, an error is displayed: \"Sorry, there was an error connecting you to the application.\" I did a deep dive into the source to /mod/lti/return.php the see the full error message: \n```text\n  [lti_errormsg] => Sorry, there was an error connecting you to the application.\n  [lti_errorlog] => Debug error: OAuth signature check failed - perhaps an incorrect secret or timestamp.\n```\n Has anybody an idea what to try/check next? Thanks, Eugen",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 25, 2021, 11:29 PM",
          "AuthorName": "Eugen Neuber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1036595&course=5",
          "role": [
            "Picture of Eugen Neuber"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 3.9.11+ OAuth signature check failed",
          "Text": "Hi Eugen, Sorry to hear you're having trouble with this. Nothing immediately comes to mind. That does appear to be a mismatch in signatures. I would suggest double checking the secret you entered in the consumer site matches that of the tool, but I'm sure you've already done that. Consumer key isn't important for this - any value will be accepted and won't impact the signature comparison code. There is a debug mode on the tool, which you can see by either enabling developer debugging on the Moodle provider site, or by sending the custom param 'debug=true' across in the launch, however, it's not very helpful here. In fact, it return LESS information than you've already got outside of debug mode. How are you configuring the tool in the consumer site? I don't think it'll make a difference, but it's worth making sure we can understand your setup in full, so we can try to replicate. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 26, 2021, 4:03 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.9.11+ OAuth signature check failed",
          "Text": "Hi Jake, thank you for your response! The lti-consumer has this config: \n```text\n    [config] => stdClass Object\n        (\n            [lti_typename] => LTI-K\n            [typeid] => 1\n            [toolproxyid] => \n            [lti_toolurl] => \nhttps://lti.a33.at/enrol/lti/tool.php?id=3\n\n            [lti_ltiversion] => LTI-1p0\n            [lti_clientid] => \n            [lti_clientid_disabled] => \n            [lti_description] => Das ist die Beschreibung.\n            [lti_parameters] => \n            [lti_icon] => \nhttps://lti.a33.at/theme/image.php/boost/theme/1611241163/favicon\n\n            [lti_secureicon] => \nhttps://lti.a33.at/theme/image.php/boost/theme/1611241163/favicon\n\n            [lti_resourcekey] => FFmdJkTj5BQMhuo4up0vZ80E6bXCi2zb\n            [lti_password] => en-123\n            [lti_keytype] => JWK_KEYSET\n            [lti_sendname] => 2\n            [lti_sendemailaddr] => 2\n            [lti_acceptgrades] => 2\n            [lti_customparameters] => \n            [lti_forcessl] => 0\n            [lti_organizationid_default] => SITEHOST\n            [lti_launchcontainer] => 4\n            [lti_coursevisible] => 1\n            [lti_contentitem] => 0\n            [ltiservice_gradesynchronization] => 0\n            [ltiservice_memberships] => 0\n            [ltiservice_toolsettings] => 0\n        )\n\n    [lti] => stdClass Object\n        (\n            [id] => 1\n            [course] => 3\n            [name] => LTI-K\n            [intro] => \n            [introformat] => 1\n            [timecreated] => 1637850184\n            [timemodified] => 1637850184\n            [typeid] => 1\n            [toolurl] => \n            [securetoolurl] => \n            [instructorchoicesendname] => 1\n            [instructorchoicesendemailaddr] => 1\n            [instructorchoiceallowroster] => \n            [instructorchoiceallowsetting] => \n            [instructorcustomparameters] => \n            [instructorchoiceacceptgrades] => 1\n            [grade] => 100\n            [launchcontainer] => 1\n            [resourcekey] => \n            [password] => \n            [debuglaunch] => 0\n            [showtitlelaunch] => 1\n            [showdescriptionlaunch] => 0\n            [servicesalt] => 619f9c488d73e4.79429320\n            [icon] => \n            [secureicon] => \n        )\n```\n The lti-provider has this setting: Do you see any problems here? kind regards, Eugen",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1728608/grafik.png"
          ],
          "Time": "Tuesday, November 30, 2021, 6:38 PM",
          "AuthorName": "Eugen Neuber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1036595&course=5",
          "role": [
            "Picture of Eugen Neuber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.9.11+ OAuth signature check failed",
          "Text": "Hi Eugen, I've just quickly tested connecting to that tool now and was able to complete a launch just fine, so that configuration of the tool seems just fine. I'm thinking it must be something about the way you're consuming that tool in the platform/consumer. For reference, here's exactly what I did to set this up. Please note: I DID NOT use a pre-configured tool at site level and I DID NOT use the cartridge URL. 1. Go to a course on the consumer. 2. Add an external tool and click \"Show more\" in the \"General\" section (translations may vary of course) 3. Set 'Tool url' to the value of Start URL above. 4. Paste the shared secret from above 5. Set any value for the consumer key - TEST will work fine for example. 6. Save and launch the tool I'd suggest trying that method to see if you're then successful. I've launched into this from a 3.9 instance and from master - both worked fine. You may wish to remove those users I launched with (both \"Admin user\" from your site) accordingly. I'd also suggest removing the launch details (URL, secret) from your previous post as this is now public information. It may be a test site, but still a good idea to stop potential abuse. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 1, 2021, 8:19 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.9.11+ OAuth signature check failed",
          "Text": "Hi Jake, thank you for testing this configuration. Since I cannot edit my post with the connection details I deleted that LTI config and recreated it (with a new secret). It is good to read from you that the provider is working correctly. My consumer is still unable to connect and shows the same error. Please tell me which OS your server is running (we use Debian 11.1 and PHP 7.3.33-1 from Suri) and if you have an optional/additional PHP modules installed! Again thank you very much, your help is highly appreciated! Eugen",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 2, 2021, 3:40 PM",
          "AuthorName": "Eugen Neuber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1036595&course=5",
          "role": [
            "Picture of Eugen Neuber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.9.11+ OAuth signature check failed",
          "Text": "Hi Eugen, Without being able to debug the calls on the Moodle site, it's going to be tricky. I'm almost guessing at this stage. I'm on Debian 10 w PHP 7.4 via Ondrej. 3.9.11+ weekly (a367a3b412) btw . Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 2, 2021, 4:43 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.9.11+ OAuth signature check failed",
          "Text": "Hello ! I don't advice you to test the external tool activity with as an Admin, because some conflict with the role. + If I remember correctly to acces the LTI course with external tool, you first need to be enrolled in the course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 13, 2022, 10:11 PM",
          "AuthorName": "Sabine Dautzenberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2610625&course=5",
          "role": [
            "Picture of Sabine Dautzenberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.9.11+ OAuth signature check failed",
          "Text": "Hi Sabine, Just wanted to clarify this post. You certainly do not need to be enrolled in the course to be able to launch the tool. The role is inferred and the launch will contain that role. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:35 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429186,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429186",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Sync Grade LTI -> Oauth Header missing",
          "Text": "I try to connect two moodle with LTI. But on my Moodle LTI consumer, I can't get back the grade. And i see in the tasklogs of the Moodle LTI Provider a sync grade error : \n```text\nStarting - Grade sync for shared tool '2' for the course '15'.\nFailed - The grade '0.5' for the user '444' in the tool '2' for the course '15' failed to send.\n```\n So, I try to analyze this problem, i put logs to see if my request between my LTI consumer and provider is OK. I see a request on my Moodle LTI consumer but the header is not complete. i found that in my HTTP request header that the OAuth section is missing : Does someone have an idea ? (Sorry for my English, don't hesitate to ask if you don't understand sentences) Have a good day.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1727186/apache_request_headers_moodle2_Notok_bis.jpg"
          ],
          "Time": "Wednesday, November 17, 2021, 10:38 PM",
          "AuthorName": "David SEROT",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4076106&course=5",
          "role": [
            "Picture of David SEROT"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Sync Grade LTI -> Oauth Header missing",
          "Text": "Hello ! I have the same problem. Did you find a solution ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 13, 2022, 11:26 PM",
          "AuthorName": "Sabine Dautzenberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2610625&course=5",
          "role": [
            "Picture of Sabine Dautzenberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sync Grade LTI -> Oauth Header missing",
          "Text": "Not yet. but, we think it's a configuration problem. We are running a server with Apache 2.4 and PHP-FPM and it's appear that Authorization header can be removed if we do not allow them in apache configuration file. the problem is related here : https://stackoverflow.com/questions/17018586/apache-2-4-php-fpm-and-authorization-headers/17490827#17490827 Actually i can't test solution because i can't modify apache configuration on my server . For me, I think the solution is to put on apache configuration file this directive : CGIPassAuth On The directive documentation is here : https://httpd.apache.org/docs/2.4/en/mod/core.html#cgipassauth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 14, 2022, 4:03 PM",
          "AuthorName": "David SEROT",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4076106&course=5",
          "role": [
            "Picture of David SEROT"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430027,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430027",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Integration error",
          "Text": "Hi, I am new to LTI. We are integrating LTI 1.3 in our tool. I use moodle sandbox. The platform request was successful and I  send back the following url back to platform https://sandbox.moodledemo.net/mod/lti/auth.php?scope=openid&response_type=id_token&response_mode=form_post&prompt=none&client_id=A1Fa6iATVp9mA3e&redirect_uri=https%3A%2F%2Fatd.illuminate.dev%2Fltiadvantage%2Fassessment%2F&state=state-61b96b8c63e002_70407633&nonce=nonce-61b96b8c640aa0.78391640&login_hint=3 But I am getting invalid url error. The redirect uri is the same that is registered with moodle sandbox. Please let me know where I went wrong.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 15, 2021, 12:25 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Integration error",
          "Text": "Hi Mani, Could you please include more information? What specific error are you seeing on the demo site (screenshot) ? Can you please attach a network trace of the launch from Chrome dev tools? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 15, 2021, 12:44 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration error",
          "Text": "Hi Jack, Thanks for the reply. Please find the screen shots",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1730427/config.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1730427/result.png?forcedownload=1"
          ],
          "Time": "Wednesday, December 15, 2021, 1:15 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration error",
          "Text": "Hi  Jack, Remaining screenshots",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1730428/error1.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1730428/error2.png?forcedownload=1"
          ],
          "Time": "Wednesday, December 15, 2021, 1:36 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration error",
          "Text": "Thanks, but I still can't see the error in the demo site. The screenshot you've included cuts that part off. Re network trace, please attach a HAR file rather than screenshots. https://developer.chrome.com/docs/devtools/network/reference/#save-as-har . Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 15, 2021, 1:52 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration error",
          "Text": "Hi Jake, Please find the HAR files for the request. Please let me know any thing else is required. Thanks, Mani",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 15, 2021, 2:35 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration error",
          "Text": "Thanks, Mani. That's very helpful. Looking at that trace, you'll see that the login initiation request from the Moodle sandbox to illuminate.dev includes 'lti_message_hint' in its form data. As per the spec, if that field is provided to the tool, it MUST be sent back from the tool in the auth request. See the docs here: http://www.imsglobal.org/spec/lti/v1p3/#lti_message_hint-login-parameter . Currently, this var is not being included in the request, and the Moodle sandbox is unable to find the tool configuration.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 15, 2021, 3:15 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration error",
          "Text": "Thank Jake, I do think the error is some thing different. I have added 'lti_message_hint' to the request, the result being the same. So my question would be is I am using the right url for sending back the request or moodle sandbox is the right place to test the lti 1.3 or do we have to need any other setup? btw , I have uploaded the har file of the request",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 16, 2021, 1:43 AM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration error",
          "Text": "Hi Mani, Given I've been unable to see the error you're referring to, it makes it hard to guess. I'm seeing \"Invalid request\" in the returned HTML, so I'm assuming you're referring to that, correct? That error is unfortunately not very helpful without debugging enabled on the site.  If you set 'debug' admin setting on the site to 'developer' (and save) and then try the launch again, you should see specific information about which line of code is generating the error, which will be very helpful in determining where the issue lies. If you can do that, and attach either a screenshot or the trace, that would be ideal. You should be able to test via the sandbox without any additional setup. The only caveat being that it resets itself every hour or so. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 16, 2021, 8:13 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Integration error",
          "Text": "Hi Jake. Thanks so much.. The issue has been sorted out. It was cross site origin. I was using my local url.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 16, 2021, 2:58 PM",
          "AuthorName": "Mani P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4677256&course=5",
          "role": [
            "Picture of Mani P S"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429932,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429932",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI showing full site in fram",
          "Text": "Hi, I'm using Moodle 3.9 als LTI client and 3.11 as provider. Now i've selecte a single activity (it's a questionnaire) on te provider site but on the client site I get the enrire website with access to the activity but also the rest? What can go wrong? I just want the questionnaire activity to become available on the client site and not the rest of the providers site. Anny suggestions? Hans",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 12, 2021, 6:58 PM",
          "AuthorName": "Hans B0s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=281831&course=5",
          "role": [
            "Picture of Hans B0s"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI showing full site in fram",
          "Text": "Hi Hans, That's dictated by something called pagelayout. For admin/teacher launches, you'll see the full view with blocks and nav. As a student, however, we override that pagelayout to the embedded layout (no nav or blocks). This sounds like what you want. Try switching role to student and you should see what I mean. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 13, 2021, 9:50 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI showing full site in fram",
          "Text": "Hi Jake, Thanks, this solved the problem. Hans",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 14, 2021, 12:27 AM",
          "AuthorName": "Hans B0s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=281831&course=5",
          "role": [
            "Picture of Hans B0s"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI showing full site in fram",
          "Text": "Update: Just noticed that two moodle site running in separate browser tabs with different domains causes problems.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 14, 2021, 2:06 AM",
          "AuthorName": "Hans B0s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=281831&course=5",
          "role": [
            "Picture of Hans B0s"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI showing full site in fram",
          "Text": "Hi Hans, Good to hear that resolved the layout issue for you. Regarding the cross-site issue, there was an issue relating to cross-site cookies that was patched in MDL-71887 . You'll need to be running 3.9.9+ to get access to that patch, however (see fix versions listed on the issue). If that's not the problem, can I ask that you please create a new thread in this forum, describing clearly the versions you're running, what steps you're taking to launch and the problem you're experiencing (exact error message, etc). Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 14, 2021, 10:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429772,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429772",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI on Moodle 3.11.4 (Build: 20211108)",
          "Text": "Hi guy I am trying to set up my moodle as LTI provider and another identical installation as LTI consumer. I followed all the steps and on the moodle provider platform I enabled LTI under Site administration> Plugins> Authentication> Manage authentication and enable LTI and also Site administration> Plugins> Enrolments> Manage enrol plugins and enable 'Publish as LTI tool'. Created a course on my LTI provider platform, added LTI authentication, generated URL cartridge and secret key to access the entire course. On the Moodle LTI consumer platform I entered the external Tool resource and configured the URL and the secret key ..... But when I launch the external tool I get the error \"An error occurred when launching the external tool:\" Sorry, there was an error connecting you to the application. \" I tried to do it both in iframe (I had also enabled the Allow frame embedding item) but it gives the same error. If I edit the external tool I see that it has recognized the launch links of the type https: //...../enrol/lti/tool.php? Id = 2 It all seems correct, but there is no way to make it work. Some idea? I've tried them all or almost evidently. Thank you all",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 7, 2021, 9:07 PM",
          "AuthorName": "Francesco S.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1900026&course=5",
          "role": [
            "Picture of Francesco S."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI on Moodle 3.11.4 (Build: 20211108)",
          "Text": "Hi Francesco, Sorry to hear you're having trouble. Please see this post: https://moodle.org/mod/forum/discuss.php?d=429430 where a similar issue is being reported by Eugen, albeit in a different version of Moodle. I am so far unable to replicate the issue reported there. I'd also suggest making sure you've tried launching in a new window/tab (just to rule it out) and also making sure your 'blockedhosts' setting isn't preventing the connection (I don't think this is the case here, but worth ruling out nonetheless). If you control both sites, and have the skills to debug, I'd recommend stepping through a launch in the tool code (xdebug with breakpoints in enrol/lti/tool.php) and working out where the launch failure is happening. Without that, it's tricky to guess which part of the launch is causing the issue. The error is likely generated in ToolProvider->result() but that is just a summary of an earlier failure, perhaps something in the onLaunch method of the tool_provider class. Hopefully some others have run into this before and are able to provide some assistance. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 8, 2021, 10:13 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: LTI on Moodle 3.11.4 (Build: 20211108)",
          "Text": "HI Jake, unfortunately I can't do hard debugging because the installation is not local but on hosting. But I can enable debugging and check for errors from the server log (the few that I am allowed to see). I have already done the rest of the tests .. I had already read Eugen's post and it didn't give me any solution. If I find any logs on the hosting service I try to post them.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 10, 2021, 12:01 AM",
          "AuthorName": "Francesco S.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1900026&course=5",
          "role": [
            "Picture of Francesco S."
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429742,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429742",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "VoiceThread and Moodle Cloud",
          "Text": "Hello, I am attempting to setup the external tool for VoiceThread in my Moodle Cloud course.  I am very familiar with how to set-up the assignment after the external tool is set-up, but I am trying to set-it up first.  I found these instructions from VT, but this does not seem to work: https://voicethread.com/howto/moodle-3/ Anybody have directions on how to set this up? Thanking you in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 7, 2021, 2:03 AM",
          "AuthorName": "Nancy W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4570778&course=5",
          "role": [
            "Picture of Nancy W"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: VoiceThread and Moodle Cloud",
          "Text": "Hi Nancy, I think we're going to need more information. Basically, for others to assist, we'll need to know what you're trying to do and how far you're getting with it. What step are you trying to achieve? Setting up the external tool via site admin > manage tools? What doesn't seem to work? Are there any error messages, etc? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 7, 2021, 9:22 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429563,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429563",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "LTI published quiz - back to course button",
          "Text": "Hello I have a couple of issues with LTI: I have published a quiz using LTI. This is working. However,  t he quiz page summary has a r eturn to course button , but the users are not enrolled and therefore cannot access the course. In addition they now have an LTI enrollement ID and cannot return to their original course. I've tried alternating the user synchronization settings but the problem persists. The only solution is for students to close their browser, clear the cache and log back into their course. What am I doing wrong? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 30, 2021, 11:30 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI published quiz - back to course button",
          "Text": "I think you have probably found a bug here. Or, at least, something that should be improved. I wonder how this should work, in an ideal world?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 1, 2021, 1:36 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI published quiz - back to course button",
          "Text": "Hello Tim I've tested this on an external site and the issue is the same. I've set the activity to open in a new window. When arriving at the limit of number of quiz attempts the user is presented with the button \"Back to the Course\". This is confusing as the users are not enrolled, they just have access to the LTI published activity. A solution would be to hide the button or use the button link to close the window Is this fairly easy to do?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1729227/No%20more%20attempts%20-%20back%20to%20the%20course.png?forcedownload=1"
          ],
          "Time": "Sunday, December 5, 2021, 8:58 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI published quiz - back to course button",
          "Text": "Hi N W, \" In addition they now have an LTI enrollement ID and cannot return to their original course.\" This line suggests you're launching into a tool provided by the same site. Is that right? I.e. the consumer and the provider are the same site. If so, you will definitely run into session problems because with LTI 1.1 there is no way to achieve account re-use. When the user launches the tool, they get an LTI specific account and are signed in to that. If that's not the case, can you please clarify? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 1, 2021, 8:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI published quiz - back to course button",
          "Text": "Hello Jake Thanks for the explanation. Yes, you are correct.  I have a course dedicated to quiz activities which are shared with other courses on the same site via the external tool. Is there a workaround for this ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 1, 2021, 9:43 AM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI published quiz - back to course button",
          "Text": "Unfortunately, not as far as I know. It's something that won't be addressed for LTI 1.1 either, since that's now deprecated by IMS and we're not adding to our implementation of that in any major way. It's my hope that user account provisioning will be improved in the LTI Advantage work for 4.0 and further improved in 4.1 - and this includes for same site uses. What we essentially need is a way to configure each published course of resource so that it allows re-use of existing accounts on launch. You can see there's already a request for this in MDL-57345 , where I've recently added a few comments near the bottom discussing options for provisioning in 4.0/4.1. Of course that won't address the \"Back to course\" behaviour in Quiz, but it will address the need to log out and back in again to get access to the original session. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 1, 2021, 10:43 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI published quiz - back to course button",
          "Text": "Thanks for the info. I'll test the \" return to course \" quiz button on an external site to see what happens...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 1, 2021, 6:03 PM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429556,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429556",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Google Assignments doesn't work at end - Moodle 3.7+",
          "Text": "Hi everyone. Im using Moodle 3.7+ Im stuck with a problem with Google Assignments (GA). I set up with all this instructions https://docs.google.com/document/d/1UgmHqb8112ZQWT-CddfBwGsDwRGbUktOGJy2L3YkkYM/edit . Now, when i want create a new \"task\" I just go in like that. All right. Then i just add doc, set the score and press Create (Crear). So page pop-up window reload and redirect to me to home screen. Photo: Only way is close this window with no results. Thanks you all.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1728636/a.png?time=1638277752212",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1728636/b.png"
          ],
          "Time": "Tuesday, November 30, 2021, 9:11 PM",
          "AuthorName": "Diego Corral Molero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2468161&course=5",
          "role": [
            "Picture of Diego Corral Molero"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Google Assignments doesn't work at end - Moodle 3.7+",
          "Text": "Hi Diego, We are probably going to need more information. That document you linked isn't public and it's hard to work out what steps you're taking to launch the tool from Moodle. Can you please explain clearly how you've set up the tool, and how you're launching it? It looks like our \"content selection\" (deep linking) modal in that last picture. Are you using the deep linking workflow? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 1, 2021, 8:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Google Assignments doesn't work at end - Moodle 3.7+",
          "Text": "Sorry, i misslinked a file. I follow this instructions: https://support.google.com/edu/assignments/thread/62671405/set-up-assignments-in-moodle . I go to Administration →  Site administration →  Plugins →  Activity modules →  External tool →  Manage tools. So enter all data. I dont know what is deep linking workflow but i have same external tool in other moodle and works fine (with same version and specs).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 1, 2021, 2:44 PM",
          "AuthorName": "Diego Corral Molero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2468161&course=5",
          "role": [
            "Picture of Diego Corral Molero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Google Assignments doesn't work at end - Moodle 3.7+",
          "Text": "Hi Diego,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 2, 2021, 8:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Google Assignments doesn't work at end - Moodle 3.7+",
          "Text": "Hi Jake, Thank you for all help. Seeing console im seeing some \"block\" with CSP, I dont know exactly what it mean. Here you have the HAR file you request https://wetransfer.com/downloads/ab41eec3283537747cb6d90eac7b0a2520211202070503/bf264679391b5e7333af0172c57268a520211202070513/b443f6 . In console I get those errors: I have pending upgrade Moodle to newest version but we are now in middle of course and there are a lot of students using Moodle. Thank you again. Diego",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1728884/d.png?time=1638428979828"
          ],
          "Time": "Thursday, December 2, 2021, 3:11 PM",
          "AuthorName": "Diego Corral Molero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2468161&course=5",
          "role": [
            "Picture of Diego Corral Molero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Google Assignments doesn't work at end - Moodle 3.7+",
          "Text": "Thanks for sending that over, Diego. That HAR file confirms what I was suspecting - that this issue is case of the cookie handling in deep linking / content selection. If you filter by \"Doc\" and inspect the headers for the response from content_item.php, you'll see there's a clear \"Set-Cookie\" header there, indicating that prior session has been lost and a new one is being created. That's why you see the login page. This was patched in MDL-71887 but you'll need to upgrade to get access to that. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 2, 2021, 4:50 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Google Assignments doesn't work at end - Moodle 3.7+",
          "Text": "First at all, I thank you very much for all clarifications and quick response. I will upgrade moodle at end of course. Again, thank you so much. Diego",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 2, 2021, 5:32 PM",
          "AuthorName": "Diego Corral Molero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2468161&course=5",
          "role": [
            "Picture of Diego Corral Molero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Google Assignments doesn't work at end - Moodle 3.7+",
          "Text": "No trouble at all, Diego. It's nice when we do know what the problem is and how to solve it Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 3, 2021, 8:20 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429202,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429202",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI GetAcessToken return 404 to create lineItem, POST score to LMS 401 Unauthorized",
          "Text": "Hi, We are implementing LTIAdvantage 1.3. Our tools as a tool provider while Moodle as our LMS platform. We have successfully integrate our tools with Moodle. Our main issue right now is to create new lineItem and POST back the score to LMS(Moodle). We are having this error 404[not found] in creating a new lineItem We are having this error [401] (unauthorized) in  posting the score . \\ While getting the accessToken from LMS, we are having 404 not found error. var tokenResponse = await accessTokenService.GetAccessTokenAsync( LtiRequest.Iss, Constants.LtiScopes.Ags.LineItem); We already got this scope from our LTI Claims Are we missing something to the get AcessToken from LMS? and also POST back the score to LMS? Thanks",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1727258/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1727258/image%20%281%29.png"
          ],
          "Time": "Thursday, November 18, 2021, 4:19 PM",
          "AuthorName": "Nurul Ain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4545797&course=5",
          "role": [
            "Picture of Nurul Ain"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI GetAcessToken return 404 to create lineItem, POST score to LMS 401 Unauthorized",
          "Text": "Hi Nurul, First question: Are the services (grade sync, member sync) enabled in the following areas on the platform (consumer) site: 1. In the preconfigured tool definition (site admin)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 19, 2021, 9:49 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI GetAcessToken return 404 to create lineItem, POST score to LMS 401 Unauthorized",
          "Text": "Hi Jake, This is my current setting in platform setup(LMS Moodle) From site admin and this is my current setting in teachers site",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1727388/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1727388/image%20%281%29.png"
          ],
          "Time": "Friday, November 19, 2021, 10:06 AM",
          "AuthorName": "Nurul Ain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4545797&course=5",
          "role": [
            "Picture of Nurul Ain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI GetAcessToken return 404 to create lineItem, POST score to LMS 401 Unauthorized",
          "Text": "Hi Nurul, That all looks fine to me. I would suggest carefully debugging the services calls to see if you can work out which part of the Moodle service code is generating the 404. From memory, there are a few places in mod lti that do this. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 2, 2021, 8:32 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429360,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429360",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI Launch ID in database",
          "Text": "Opening a new thread to revive this unanswered question: https://moodle.org/mod/forum/discuss.php?d=409360",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 24, 2021, 5:34 AM",
          "AuthorName": "Ram Kelath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4329039&course=5",
          "role": [
            "Picture of Ram Kelath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Launch ID in database",
          "Text": "I poked around the database and found it - it's the id column for the mdl_enrol_lti_tools table. I wrote the following query that we'll be using to populate a table in the Tool Consumer database: SELECT c.fullname, c.shortname, t.id AS launchid, t.secret FROM mdl_course c JOIN mdl_enrol e ON c.id = e.courseid JOIN mdl_enrol_lti_tools t ON e.id = t.enrolid WHERE e.enrol = 'lti'",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 24, 2021, 7:05 AM",
          "AuthorName": "Ram Kelath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4329039&course=5",
          "role": [
            "Picture of Ram Kelath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Launch ID in database",
          "Text": "Hi Ram, That's right, but that will change as Moodle moves to LTI Advantage. There won't be any id in the URL any more; it'll be done with a custom claim property, 'id', with a value set to the UUID of the resource in the tool. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 26, 2021, 3:29 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429209,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429209",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Passing custom profile fields to external tool",
          "Text": "Hey everyone, Very new to moodle and using LTI etc. I've developed an external tool that needs to read the value of a custom checkbox we've added to their profile. Currently we can pull through their name and email - but we're having some serious hangups when trying to pull through these custom parameters. On the LTI config I've set a custom parameter of: lis_no_id=$User.no_id Where lis_no_id is the key and $User.no_id would evaluate to the value of the no_id field on that users profile. Currently this key is being sent over but the value isn't being evaluated and is just remaining as a hardcoded string of \"$User.no_id\" - is my syntax wrong or am I misunderstanding the role of custom parameters? It seems extremely limiting to not be able to send dynamic parameters to me. I've found https://tracker.moodle.org/browse/MDL-69181 <- this feature request that looks to detail exactly what I'm looking for but I'd be honestly surprised if something like this didn't already exist. All I want to do is create a custom field on a users profile and then send that data to my external tool. Thanks for reading, any help is much appreciated, Cameron",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 18, 2021, 7:41 PM",
          "AuthorName": "Cameron Thornton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4631004&course=5",
          "role": [
            "Picture of Cameron Thornton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing custom profile fields to external tool",
          "Text": "Hi Cameron, Unfortunately, you're right. We don't yet support user custom field in the LTI substitution vars. Please feel free to bump the issue with a comment in the hope of getting that moving again. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 19, 2021, 9:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429103,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429103",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI Tool GradeSync - technical details",
          "Text": "We're looking to integrate our webapp as an LTI Tool Consumer to Moodle in LTI Tool mode.  I have a couple of questions about the GradeSync task that posts grades back that need to be answered so that I can create the endpoint for the task. 1. What is the format of the grade data sent back?  Does it post each individual's grades separately or all together? 2. What kind of authentication can I use in my service endpoint?  I'm using LTI 1.1 for the SSO crossover - posting an authentication hash that's calculated using Oauth 1.0.  Can I expect the same method (Oauth 1 authentication hash using the same shared secret as SSO)  for the grades being posted to my endpoint? Let me know if this question needs to be split up into two different ones.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 15, 2021, 11:41 PM",
          "AuthorName": "Ram Kelath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4329039&course=5",
          "role": [
            "Picture of Ram Kelath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Tool GradeSync - technical details",
          "Text": "Hi Ram, I would strongly recommend waiting for Moodle 4.0, which can act as an LTI 1.3 tool. LTI 1.1 is deprecated. Regarding your questions: 1. Moodle 4.0 will send back individual grades, per user. You can see the format of a score post in the AGS 2.0 Spec on IMS ( https://www.imsglobal.org/spec/lti-ags/v2p0#score-publish-service ) 2. Again, with LTI 1.3, authentication has changed drastically from 1.0/1.1. It is defined by a spec which you can check out here ( http://www.imsglobal.org/spec/security/v1p0 ) Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 16, 2021, 11:26 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool GradeSync - technical details",
          "Text": "Hi Jake, Thanks for your quick response! For my current project I think I want to get started with 1.0/1.1 to solve the design issues in my webapp around the integration - this is the more substantial part of the effort. Then when Moodle 4.0 becomes available we can look at implementing 1.3.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 16, 2021, 11:21 PM",
          "AuthorName": "Ram Kelath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4329039&course=5",
          "role": [
            "Picture of Ram Kelath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool GradeSync - technical details",
          "Text": "One thing I couldn't find anywhere but seems implicit in your reply - is it the case that with Moodle 3.x you can only use LTI 1.0/LTI 1.1 authentication (Oauth 1) ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 16, 2021, 11:29 PM",
          "AuthorName": "Ram Kelath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4329039&course=5",
          "role": [
            "Picture of Ram Kelath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool GradeSync - technical details",
          "Text": "Yes, that's right. Moodle 3.x only supports posting grades via the old Basic Outcomes service, which uses OAuth 1 signatures. You can see in the task that there's a call to : \\enrol_lti\\helper::create_service_body() which creates the pox envelope (for a single user and grade btw , since you asked) and then a call to : sendOAuthBodyPOST() which will sign that body and make the request - Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 17, 2021, 8:12 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429020,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429020",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Multiple grade back to External LMS through LTI",
          "Text": "Hi everyone, We have published a course and integrated it to external LMS. For grade sync, we have enabled required scheduled tasks. Through this we are able to fetch aggregate score for the course. We are now trying to achieve multiple grades to be sent back to external LMS. Not knowing how to move this posting this for new ideas to be implemented. Thanks much, Janvi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 12, 2021, 6:14 PM",
          "AuthorName": "Janvi MDL",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4158814&course=5",
          "role": [
            "Picture of Janvi MDL"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Multiple grade back to External LMS through LTI",
          "Text": "Hi Janvi, At present, Moodle can't pass back multiple grades for individual line items when a course is published. This could perhaps be implemented as an improvement in 4.1, on top of the LTI 1.3 work which is due to land in 4.0. I'd imagine it would be nice to be able to configure whether or not you'd like a published course to create line items for each activity/resource (and post associated scores), or whether just the course total is sufficient. Create an issue in our tracker with the \"LTI provider\" component set on it and link it here if you like! Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 16, 2021, 11:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 428486,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=428486",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Zoom Pro LTI 1.3",
          "Text": "Hi, We have tried to set up Zoom LTI Pro 1.3 on our Moodle 3.9.7 instance, following the Zoom guidelines found online . When trying to access the Zoom LTI activity (as a user), the error, \"The requested URL was not found on this server .\" is displayed. Our developers tried to look into this issue and they provided us with the below information. Accessing https://www.um.edu.mt/vle/mod/lti/view.php?id=493 , an iframe within this page is used to load another page within Moodle. This iframe's src (ie the page which needs to be loaded within the iframe) is \"launch.php?id=493&triggerview=0\". Within this latter loaded page, a form is submitted automatically via javascript to https://applications.zoom.us/lti/advantage/login/t-BzbI27TgSAqJEhsWUleA After the form is submitted (to Zoom, there seems to be some processing by Zoom), the page is redirected to https://www.um.edu.mt/mod/lti/auth.php?login_hint=2&lti_message_hint=493&scope=openid&response_type=id_token&redirect_uri=https%3A%2F%2Fapplications.zoom.us%2Flti%2Fadvantage%2Foauth%2Fcomplete&state=DQPwj1AaTr2XUFmmVyoFog&nonce=1LAXsyM3SumWgRZ70q71uQ&prompt=none&client_id=6KpfDiHiUlNeKPJ&response_mode=form_post which returns the error \"Not Found\". This latter URL does not exist, but it can be noted that /vle is missing from the URL. We have spoken to Zoom about this but while they are looking into this from their end, they asked us to check with Moodle as well. Can you please advise? Thank you in advance. Kind Regards,",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1724435/Zoom%20LTI%201.3%20issue.png?forcedownload=1"
          ],
          "Time": "Wednesday, October 27, 2021, 8:42 PM",
          "AuthorName": "Naomi Mifsud",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2012608&course=5",
          "role": [
            "Picture of Naomi Mifsud"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Zoom Pro LTI 1.3",
          "Text": "Hi Naomi, That part of the process is called the Authentication Request and is a call made to Moodle from the third party tool. It uses the preconfigured endpoints (URLS) to know where to send this request (those endpoints you probably set up in Zoom when configuring the integration). So, it seems that Zoom's configuration for the Moodle's Auth Request URL just needs to have that '/vle/' part added to it so it makes the call to the right place. Looking at the Zoom docs you linked (and noting that I've not set the Zoom integration up before and that this is just a guess!), it could be that the domain in step IV - \" LTI Moodle Site Domain \" - needs to include that missing /vle/. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 29, 2021, 10:13 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Zoom Pro LTI 1.3",
          "Text": "Hi Jake, Thank you for the information provided. We will inform Zoom accordingly. Thanks, Naomi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 1, 2021, 5:39 PM",
          "AuthorName": "Naomi Mifsud",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2012608&course=5",
          "role": [
            "Picture of Naomi Mifsud"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 428393,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=428393",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI: Setting default user role",
          "Text": "Folks, Just wondering what the Moodle way to set a default role in Moodle matching the role passed on via LTI.  e.g. changing non-editing teacher for LTI faculty to editing teacher. Thanks! Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 26, 2021, 3:26 AM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI: Setting default user role",
          "Text": "Hi Kenwrick, I'll assume you're talking about the roles being assigned to users launching into an activity provided by the Moodle LTI Provider. In that case, you'll find a \"Role for teacher\" setting on the enrolment method (Course settings -> Published as LTI Tools, then edit the relevant instance). Note also that this role is assigned at the course module context (i.e. the activity context) for shared activities , so a user launching into a published assignment will only get the teacher role in that assignment, not in the wider course. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 29, 2021, 9:55 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI: Setting default user role",
          "Text": "Thank you!  I will try it in the morning. Kenwrick",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 29, 2021, 3:55 PM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 428457,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=428457",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "'External Tool Link' on 'Site Home' doesn't show for students",
          "Text": "Hello - I'm able to add an 'external tool' activity to my 'site home' and the link appears to work fine when I'm signed in as an admin - but if I sign in with a student account, I don't see the external tool link. I've double checked the \"availability\" setting for the link and that seems fine. Does anyone have any ideas for getting this to work? Thanks so much!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 27, 2021, 3:54 AM",
          "AuthorName": "Veronica Skudlarczyk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4565265&course=5",
          "role": [
            "Picture of Veronica Skudlarczyk"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "'External Tool Link' on 'Site Home' doesn't show for students",
          "Text": "There are no students on the home page, so you'll need to check permissions for the 'authenticated user, role",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 27, 2021, 7:08 PM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 'External Tool Link' on 'Site Home' doesn't show for students",
          "Text": "Thanks for the help! We got it to work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 28, 2021, 12:18 AM",
          "AuthorName": "Veronica Skudlarczyk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4565265&course=5",
          "role": [
            "Picture of Veronica Skudlarczyk"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 426271,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426271",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Google Classroom & Moodle",
          "Text": "Hi, In our school we can use the Google Classroom, but we want to integrate it with Moodle. How can we do that? https://docs.moodle.org/311/en/LTI_and_Moodle Which is the simple solution? The Classroom will be the main interface. (But I don't prefer it. ) G.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, September 1, 2021, 1:18 AM",
          "AuthorName": "Gábor Makó",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3865818&course=5",
          "role": [
            "Picture of Gábor Makó"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Google Classroom & Moodle",
          "Text": "If you want to implement Google Classroom-like features in Moodle you should be looking into Google Assignments: https://edu.google.com/intl/ALL_uk/assignments/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 26, 2021, 4:20 AM",
          "AuthorName": "Jon Witts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=89775&course=5",
          "role": [
            "Picture of Jon Witts",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 427954,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427954",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3(LTI Advantage) Course List",
          "Text": "Hi, Is there any chances for me to get all the course list from Moodle using LTIAdvantage? As what I google in LTI before, lineItem is used to get single/multiple course that user are enrolled with. I avoiding from using Moodle API since our application will support different LMS platform(Moodle/Blackboard/Canvas).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 13, 2021, 7:49 AM",
          "AuthorName": "Nurul Ain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4545797&course=5",
          "role": [
            "Picture of Nurul Ain"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3(LTI Advantage) Course List",
          "Text": "Hi Nurul, Both the main LTI Advantage services exposed by Moodle (Names and Roles being the first, Assignment and Grades being the second) are designed to deal with information for the context from which the tool is launched. So either the course, or the module (in cases where a resource link level option is supported). Perhaps you can elaborate on your use case? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2021, 1:32 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 427910,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427910",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Enabling LTI Advantage for Multiple Courses",
          "Text": "IF I configure an LTI 1.3 tool on my moodle instance for a specific course, is it possible to then expand that configuration to additional courses or at the system level? Or would you need to \"DELETE\" the course configuration of the LTI 1.3 tool and then \"re-install\" at the system level? I know you can add LTI 1.1 tools to specific courses via key/secret but wasn't sure about LTI 1.3 Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 12, 2021, 10:21 AM",
          "AuthorName": "DREW HAMMERBECK",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4355561&course=5",
          "role": [
            "Picture of DREW HAMMERBECK"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Enabling LTI Advantage for Multiple Courses",
          "Text": "Hi Drew, There isn't currently a way to expand this course-level definition out to a wider selection of courses. You would need to do like you say and remove the definition, and recreate at the site level but this will mean a new deployment id, so be mindful of that also. MDL-69489 also might be of use. This hasn't landed yet but deals with course-category level tool restrictions. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2021, 1:23 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 427972,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427972",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Safari not working unless \"Prevent cross-site tracking\" is disabled",
          "Text": "We are using “Published as LTI tools\" feature on a course. When using the Safari browser (version 14.1.2.)  with \"Prevent cross-site tracking\" enabled and accessing the course activities from within the external system we are prompted for login details but still can't access the content as we are again prompted for login details. In the external system, we set the content to open in a new window but this did not solve the problem. When we disable \"Prevent cross-site tracking\" in Safari, it works ok: We are not prompted for login details and can access the content published as LTI tools ok. I noticed in https://tracker.moodle.org/browse/MOBILE-3724 (Fix LTI 1.3 launch in the app) that the first testing step is: Before testing this in iOS, please go to iOS native settings, select Safari and then disable \"Prevent Cross-Site Tracking\". Does this mean there is no way to code around the \"Prevent cross-site tracking\" in Safari or is this a bug? E.g. I was wondering whether adding SameSite=None to the cookies might do the trick? Thanks, Barry",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 13, 2021, 7:18 PM",
          "AuthorName": "Barry Oosthuizen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=520295&course=5",
          "role": [
            "Picture of Barry Oosthuizen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Safari not working unless \"Prevent cross-site tracking\" is disabled",
          "Text": "Hi Barry, Firstly, can you tell me what version of Moodle you're running? This issue was patched recently in MDL-71887 but you'll need be running one of 3.9.9+ 3.10.6+ or 3.11.1+ to get that fix. The issue you linked is a Mobile issue and doesn't relate to standard Moodle. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2021, 1:12 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423928,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423928",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Please, can the external tool activity completion use passing grade!",
          "Text": "Hi, We want to use H5p.com rather than the integrated H5P activity. This gives us simpler question management in a single interface rather than have to jump around into different courses and sections . However, there is a major failing on the activity completion criteria in that you can't set this to be completed on the student receiving a PASSING grade! The activity itself DOES allow you to set a passing grade, but activity completion will not act upon it! This makes the entire integration pretty much pointless as the activity is set as complete when ANY grade is received. Please can this be implemented? Settings on External LTI activity: Setting in H5P activity",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1707660/image%20%282%29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1707660/image%20%283%29.png"
          ],
          "Time": "Saturday, June 26, 2021, 7:27 PM",
          "AuthorName": "Chris Swinney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=430091&course=5",
          "role": [
            "Picture of Chris Swinney"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Please, can the external tool activity completion use passing grade!",
          "Text": "Hi Chris, You're not the only one to want this. This is something that's currently being worked on, and it quite close to being integrated into core Moodle. You can see the progress of this work here: https://tracker.moodle.org/browse/MDL-52206 . This \"Require passing grade\" completion option was part of Moodle's Quiz module, but we're moving it so that it can be used in other modules too. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 12:51 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Please, can the external tool activity completion use passing grade!",
          "Text": "I encountered the same problem: have you solved yours?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 16, 2021, 1:28 PM",
          "AuthorName": "Antonio R Cantoro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2872534&course=5",
          "role": [
            "Picture of Antonio R Cantoro"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 427769,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427769",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Quiz - Short Answer Formatting lost when delivered as LTI",
          "Text": "Tested as an LTI provider: Moodle versions 3.9.6 plus 3.9. plus 3.11+ Tested as an LTI receiver: Moodle versions 3.9.6+ plus 3.10.4 Good afternoon all, After many hours of methodical and extensive testing, where we have tested with and without other plugins being installed so as to eliminate those as a possible causes, we believe we have revealed a bug. Here's what we've found. In brief, the moodle text editor is removed from the question answer box (essay question with response format set to 'HTML Editor' ) when the question is presented to the candidate. If the candidate manually formats their answer by inserting new lines for paragraphs e.t.c. and then submits their answer, the manual formatting is not saved in the moodle database . This makes it difficult for the markers of the question to read, and therefore is both time consuming and annoying which can result in standardisation errors in the manual marking. We set the question format to HTML Editor, because we want the candidates to be able to format their answers, but it doesn't seem possible. The problem only occurs when a combination of two moodle settings are applied. The quiz is delivered as an LTI activity The quiz has a 'duration' time set (i.e exam lasts 60 mins e.t.c.) If we switch off the quiz duration, the problem goes away, but the duration is important for our examination scenario. We believe this to be a bug in the core moodle that has not been raised by anyone else therefore we will raise it on Moodle Tracker , but first I'd welcome others from the community to follow our testing procedure to verify our diagnostic outcome. See the video below for an illustration of the problem. Follow this link. https://iframe.dacast.com/vod/5f4bb0c3721776f95d31843dbc2fcf72/4e2b5ea1-3f6a-e32c-0128-082164be2a8b",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 7, 2021, 10:21 PM",
          "AuthorName": "Peter Ward",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=31376&course=5",
          "role": [
            "Picture of Peter Ward"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Quiz - Short Answer Formatting lost when delivered as LTI",
          "Text": "Thanks for the detailed report, Peter. I'll be interested to see what others report on this behavior. Personally, I've been unable to replicate it locally, using master as both the provider and consumer and with the 'essay' question type (which I think is what you're using - not short answer as mentioned in the title of the post). Just a few follow up questions: How did you set up the quiz question - is it indeed essay? Are you able to replicate this on vanilla Moodle installs? Can you hit this problem in a normal browser session (i.e. not an incognito window)? Can you hit this in other browsers too? Ideally, I'd like to know we we can replicate this in a specific version of vanilla Moodle before we start creating tracker issues. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 8, 2021, 2:04 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz - Short Answer Formatting lost when delivered as LTI",
          "Text": "Hi Jake, Many thanks for your testing. Yes there is a typo in my title, I should have said ' Quiz - Essay Formatting lost when delivered as LTI' We have also reworked our testing process as a result of your findings Jake and can now confirm. The problem we reported does exist in Moodle latest LTS version 3.9.10 (vanilla) The problem does NOT exist in Moodle latest version 3.10.7 (vanilla) The problem does NOT exist in Moodle latest version 3.11.3+ (vanilla) The solution is therefore to upgrade. Thanks for your help Jake.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 11, 2021, 5:43 PM",
          "AuthorName": "Peter Ward",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=31376&course=5",
          "role": [
            "Picture of Peter Ward"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz - Short Answer Formatting lost when delivered as LTI",
          "Text": "Hi Peter, Thanks for the update. I'm glad you were able to pin down the problem to a specific version. Unfortunately, that branch is now in security-only support, so upgrade is indeed the best path here. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 12, 2021, 9:24 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 426991,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426991",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Grade Synchronization Schedule",
          "Text": "Hello- I had used Moodle 3.5 as an LTI tool to pass a Moodle Quiz score to the LMS that my school uses.  I remember that there was a setting where I could tell Moodle to pass the grade every 1 min, 30 min, 1 hr, etc.  I think this was in the System Administration under scheduled tasks. Anyway, I went away from using Moodle as an LTI tool for about a  year or so, and now I am back.  This time I am working with Moodle 3.9.  The grades do pass from Moodle to my LMS's gradebook, but it seems to happen at some point overnight.  I would like to set Moodle to pass the grade to the LMS much sooner than that.  I cannot find this setting for some reason.  Can someone kindly point me to where this setting is in the System Administration in Moodle? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 17, 2021, 12:03 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade Synchronization Schedule",
          "Text": "Hi Mike, You can find the relevant task in the tool site under Site admin > Server > Tasks > Scheduled tasks . The one you're looking for is named \"Publish as LTI tool grade sync \". Hope that helps. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 17, 2021, 9:59 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade Synchronization Schedule",
          "Text": "Hello everyone... I'm using two LMS Moodle 4.10: the first one works as an LTI Provider, where I create quizzes, and the second works as an LTI Consumer, where my students answer the quizzes shared by the LTI Provider. Apparently everything works perfectly, because when students click on the external tool of the quiz link, they are automatically sent and enrolment in Moodle Provider LTI, where they can answer the quiz and receive their grades. However, after completing the quizzes, Moodle Consumer LTI is not receiving student grades back. I tried different settings but nothing worked. As far as I can understand above, Mike Simurdiak has had success with this grade feedback, even if it's only overnight. Anyway, if everyone can help me, by showing me where I am going wrong, I'll be grateful. Thanks. Below is one of my settings: OBS: < ... > (click button) ... (default value) LTI Provider configuration (Login: admin): --------------------------- I. Quiz creation: 1. Turn Edit on 2. Add an activity or resource: Quiz 2.01 General * Name: Training 01 ... 2.02 Timing",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 26, 2021, 2:46 AM",
          "AuthorName": "Sanderson Pereira da Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2356560&course=5",
          "role": [
            "Picture of Sanderson Pereira da Silva"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 425906,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425906",
      "NoOfResponses": 14,
      "ResponsesInList": [
        {
          "Title": "Passing group membership to external tools",
          "Text": "I am pretty much an LTI novice, so please excuse me if that is a silly question. Is there a way to pass information about Group membership to the external tool? I just found a 2014 thread from this forum: https://moodle.org/mod/forum/discuss.php?d=262855 . The two tracker issues mentioned there were both fixed in Moodle 3.0, so I think that means the answer is 'Yes, if you can work out how to set it up'. But - and this is probably the silly question - would be be possible to have a simpler option. For example, in the mod_lti setting, an option to be able to turn on Separate/Visible groups, and then the group info is included in the LTI launch? (Is there space for that in the LTI standard?)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 20, 2021, 11:12 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "Well, reading the code, I have found Moodle.Person.userGroupIds which looks like something that can be used in the Custom parameters - except that I cannot find any documentation about it, and I have not made it work yet.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 21, 2021, 2:51 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "Right, so in 'Custom parameters' you put somethign like groupids=$Moodle.Person.userGroupIds and then in the LTI launch you get something like: custom_groupids: 123,456 (This is with LTI 1.1.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 21, 2021, 3:00 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "And, this returns all the user's group ids in this course. I think that for what we are trying to do it would be better if: mod_lti said it supported FEATURE_GROUPINGS in lti_supports, so you could limit a particular LTI activity to the groups in one grouping . Then Moodle.Person.userGroupIds used groups_get_all_groups($cm->course, $userid, $cm->groupingid) to get the list of relevant groups. If this makes sense, let me know, and I will create a tracker. Also, depending on how you are trying to integrat, group id may not be very useful. Extending this so it also supports Moodle.Person.userGroupNames and Moodle.Person.userGroupIdnumbers might be good.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 21, 2021, 3:14 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "Hi Tim, It's a little hard to guess what you're trying to achieve, but I'll post some general information in the hope it may be of some use to you. There is an existing LTI specification called Course Groups which you can see listed here ( https://www.imsglobal.org/activity/learning-tools-interoperability ). You'll need to be signed in to IMS to see the spec though. This is an LTI Advantage service. We also already have an issue in Jira scoped with adding support for this here: https://tracker.moodle.org/browse/MDL-69233 Essentially, that allows the tool, via the Names and Roles service to ask the platform for information about the groups, groupings and group memberships. Also, just a FYI - It's unlikely we'll pursue any modifications to LTI 1.1 code now, given that's no longer supported by IMS and we're unable to certify for that standard any more. The focus will be on adding these kinds of things to 1.3. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 23, 2021, 11:04 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "What we are trying to achieve is passing the information about which teacher is mentoring which students in this particular activity, to an LTI 1.1 tool. In a course with multiple groupings, it would definitely be helpful to be able to select one grouping to apply to this LTI activity. That is a Moodle-side concept, so should not cause problems with standards compliance. Also, you probably want that as part of the 1.3 changes, if not before. The Moodle.Person.userGroupIds thing is self-evidently a Moodle-specific add-on - which seems to be allowed within the spec, so why would extending that slightly cause you problems. When you say \"It's unlikely we'll pursue any modifications to LTI 1.1 code now\" I realise you won't be making changes, but are you saying that if I made a patch, you are likely to reject it? Thanks for clarifying.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 23, 2021, 2:45 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "Thanks for clarifying, Tim. I see a few options here 1. Extend the substitution vars, adding support for the field you want (the group's teacher- however that's calculated) 2. Write an LTI source plugin, which implements the hook ltisource_PLUGINNAME_before_launch, allowing you to send whatever you'd like in the custom params during launch. 3. I don't think it's worth looking into the membership service for 1.1 as this doesn't return groups with Moodle. I think if you head down the path of substitution params (custom launch params), it's likely not going to be something we can land in core. You're probably going to end up with a specific param to give you the information you want (mentor details for a given student's launch), and this won't offer any value to the 1.3 side of things (which is what we are focusing on moving forward). Extending/adding substitution params (which are used by both 1.1 and 1.3) isn't generally a problem, provided they offer benefit/improvement to 1.3. If they happen to provide benefit for 1.1 in the process, then that's a plus. What I don't want is to be introducing substitution params which are only present as a workaround for something that LTI 1.3 and its services provide natively. Ditto goes for the source plugin, it's not likely to be something core will use but it is an option nonetheless. I agree that the groups/groupings feature support would be needed for that course groups service issue, if not before. That is, it doesn't make sense to talk about syncing groups and memberships when the module doesn't support that in the Moodle-feature sense (at least I don't think it does). Re 1.1 and our policy, that is hard to answer definitively. It's a little tricky in mod_lti, given the nature of the code in there. What I mean by this is that we have a mod which deals with several versions of LTI launches. In some cases, a code change will only impact 1.1/2.0 and in others (like the cases you mention above with substitution params) we see it can impact several versions. We're certainly steering clear of any 1.1-specific changes now that 1.1 is deprecated at IMS, but changes like small extensions to substitution params would certainly be ok, since they improve things for 1.3, and are something I consider safe for 1.1 (substitution vars being a very easy thing to test, with low chance of breaking anything). Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 23, 2021, 8:02 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "Thanks for that very full reply, Jake. I am about to disappear on holiday for a week, so no coding will happen before that. I might at least create the tracker issue for adding FEATURE_GROUPING support to the plugin, because that is something that seems like a sensible quick win to me. (Although, as an improvement, it would need to land in 4.0.) I may look at doing what we want in a ltisource plugin. (And, actually, if I made an ou-specific plugin, I would not need any core changes. I guess. I could hard-code some groups logic.) Do you know any examples of a really simple plugin? The ones at https://moodle.org/plugins/?q=type:ltisource look complex. (By the way, I don't know why the tool I am being asked to integrate with is using LTI 1.1, but I am not responsible for that other tool. I am just trying to configure our Moodle to talk to it.) Thanks again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 25, 2021, 4:25 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "Hi Tim, Creating the tracker for the groups/grouping feature wouldn't be a bad idea. I suspect the tricky thing there will be showing exactly how that feature is used by the external tool instance, in order to progress the issue through integration. Without the course groups service work, there isn't really anything being exchanged with the tool given this feature is supported. I guess you could set a grouping on the activity, but it wouldn't have any impact without other third party code right now. Do you see that issue having a wider scope? Perhaps enough to progress on its own? Regarding the LTI source plugins, unfortunately I only know of those plugins that you can see on the plugins database . I think there are still a number of tools still stuck on 1.1 at the moment. We're not likely to drop the ability to launch these for quite some time. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 25, 2021, 11:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "I think that exposing all the groups defined in the current course to the external tool is potentially a privacy concern in some situtations. To give just one example. Suppose you have a particular grouping in your course, with some groups you use to allow certain students additional time in the course quizzes using Group overrides. For that grouping, which students are in which group is senstive, and should not be sent to a third-party tool. So, the point of Moodle's Grouping setting, is to say that, for this activity, only the groups in this particular grouping are relevant. I think it makes sense that for LTI, you can set that setting in Moodle, and then only the groups in that grouping are shared with this instance of the external tool. (It is like the other settings which let you control which information from this Moodle site gets shared to the other tool. Does that make sense?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 26, 2021, 6:32 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "I think that makes sense. Setting a grouping on the activity like this would appear to suggest similar Grouping behavior to the assignment module in that a student will be unable to participate in the activity unless they are present in one of the groups within the grouping. What I was more getting at, I'll just type it out so I'm sure we're talking about roughly the same kind of thing. So, in your example, while certain students are clearly in groups (and a grouping perhaps) denoting the need for extra quiz time, we can prevent these groups being sent to the tool by setting a grouping on the external tool - a grouping that doesn't include these special sensitive groups. Is that right? We'd still have a means to allow all users to participate in the tool too. It's possible (likely?) that the students in these 'extra time' groups are in other course groups as part of a wider class grouping. If we were to set the external tool settings to use this wider course grouping, then only the 'non-sensitive' (for lack of a better term) groups will be exchanged with the tool (either as part of the course groups service work, as as part of your custom work for LTI 1.1). All students will still have access to the activity. I think I've got that right but please correct me if I've missed something there. Then, providing the above is correct, we also need to make sure that the external tool knows what to do in cases where the student is NOT a member of any of the groups within the set grouping. In these cases, I think the activity should stop the user from being able to launch, similar to the way that the assignment blocks submissions for users outside the set grouping. The next logical to then consider would be the membership service. We'll want to be sure that requests for membership return only those members in the set grouping. This would be similar to the way we don't return members who don't have access to the activity, I guess. None of this causes me great concern for 1.1 because if a grouping isn't set, we just continue to exhibit the same behavior as we currently do.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 26, 2021, 1:00 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "\"Is that right?\" - yes. \"I think I've got that right\" - yes. The only bit I am not sure about is \"where the student is NOT a member of any of the groups within the set grouping. ... I think the activity should stop the user from being able to launch\". I am not sure that we need to hard-code this logic. (and it might be problemmatic, because it would prevent an admin - not in any group in the course - from clicking the link to check it works. However, the real reason we don't need to hard-code anything there is because, if you want that functionality, you can get it with the standard Moodle 'conditional availability' settings. By the way, what happens now if you click an LTI launch link as admin, is that $Moodle.Person.userGroupIds is just an empty string, which I think is perfectly reasonable. I have created MDL-72421 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 26, 2021, 6:01 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "Thanks, Tim. Triaged that one just now. I've had a look at how other modules implement support for this and I'm now leaning towards with what you just said about being permissive. In fact, my assign example was bad anyway as that was in the case where group submission was enabled. If you just set a grouping on the assignment, even in separate groups mode course, anyone can submit to the assignment. It's only when filtering the submissions in the report that you're unable to filter on groups outside the set grouping. A few example cases: - Survey: Anyone can take the survey. Teachers then see a nice error message in the results report when trying to view a non-grouping submission (bug).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 27, 2021, 11:00 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group membership to external tools",
          "Text": "Thanks Jake. I think the issue with Forum is that when the forum is set to group mode, each post has to have a groupid set in the database or, to put it another way, it is like there is a sub-forum for each group. So, if you are not in a group in the relevant grouping, there is no sub-forum for you to post to, so it makes sense that you cannot post.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 7, 2021, 2:45 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 426498,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426498",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI not working showing - Exception - Return value of lti_get_instance_type() must be an object or null, bool returned",
          "Text": "Hello I have upgraded moodle 3.10 to 3.11 after upgradation LTI not working showing - Exception - Return value of lti_get_instance_type() must be an object or null, bool returned. Debug info: Error code: generalexceptionmessage s tack trace: line 521 of /mod/lti/locallib.php: TypeError thrown line 535 of /mod/lti/locallib.php: call to lti_get_instance_type() line 714 of /mod/lti/locallib.php: call to lti_get_launch_data() line 88 of /mod/lti/launch.php: call to lti_launch_tool() Output buffer: <br /> <b>Notice</b>: Trying to get property 'name' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2609</b><br /> <br /> <b>Notice</b>: Trying to get property 'id' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2611</b><br /> <br /> <b>Notice</b>: Trying to get property 'toolproxyid' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2613</b><br /> <br /> <b>Notice</b>: Trying to get property 'baseurl' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2615</b><br /> <br /> <b>Notice</b>: Trying to get property 'ltiversion' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2617</b><br /> <br /> <b>Notice</b>: Trying to get property 'clientid' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2619</b><br /> <br /> <b>Notice</b>: Trying to get property 'description' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2622</b><br /> <br /> <b>Notice</b>: Trying to get property 'parameter' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2624</b><br /> <br /> <b>Notice</b>: Trying to get property 'icon' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2626</b><br /> <br /> <b>Notice</b>: Trying to get property 'secureicon' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2628</b><br /> Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 6, 2021, 8:13 PM",
          "AuthorName": "Shailesh Todkari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2060862&course=5",
          "role": [
            "Picture of Shailesh Todkari"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI not working showing - Exception - Return value of lti_get_instance_type() must be an object or null, bool returned",
          "Text": "What version of PHP is your site running? 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 6, 2021, 9:41 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not working showing - Exception - Return value of lti_get_instance_type() must be an object or null, bool returned",
          "Text": "Hi Ken PHP version - 7.4.12 Thanks Shailesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 7, 2021, 12:45 PM",
          "AuthorName": "Shailesh Todkari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2060862&course=5",
          "role": [
            "Picture of Shailesh Todkari"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 426511,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426511",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Using LTI with H5P in a label | Sync with gradebook",
          "Text": "Hello everyone, And thank you in advance for any idea / help. For usability purposes, I am testing the possibility to embed a H5P.com-hosted H5P activity within a Moodle label in order to spare users unnecessary clicks to see content. I follow the following steps : I create a H5P activity on H5P Saas plateform I intergrate it with Moolde through LTI I embed the H5P activity within the label. Thus, the content displays right within each section. By this way of integration, does the H5P activity communicates with the Moodle gradebook ?  Or is it considered a better practice to use the H5P standalone activity within Moodle ? Thanks for any tip ! Laurent",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 6, 2021, 11:07 PM",
          "AuthorName": "Laurent Delvalle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4340261&course=5",
          "role": [
            "Picture of Laurent Delvalle"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 426230,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426230",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Publish as LTI: Course or activity not accessible",
          "Text": "Folks, I have Moodle activity published as LTI.  It was working well but now when I access it via LTI regardless of moodle/LMS role I'm getting \"Course or activity not accessible\".    No restrict access set.  No start/end date for the Publish as LTI bit. Any suggestions?  Would the logic of the status be in some log?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 31, 2021, 3:26 AM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Publish as LTI: Course or activity not accessible",
          "Text": "Okay, so apparently completion tracking is enabled by default ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 31, 2021, 7:44 AM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as LTI: Course or activity not accessible",
          "Text": "Hi Kenwrick, Did you get to the bottom of this one? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 1, 2021, 10:00 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 426109,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426109",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "lti 1.3 tool opening as embedded even though it is configured to open in new window",
          "Text": "Hello all, A partner of our company has just developed an lti 1.3 tool that we want to be opened in an new window. Even though we have configured the external tool to open in a new window, it is somehow trying to load it as an embedded one. Obviously, the tool's server doesn't allow embedding the tool, so we're having this error: But it shouldn't be loading it in the embed mode in the first place... Our moodle version is 3.10. Can somebody help us? Thanks! Regards, André",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1715686/Screenshot%202021-08-26%20at%2015.27.29.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1715686/Screenshot%202021-08-26%20at%2015.27.29.png?forcedownload=1"
          ],
          "Time": "Thursday, August 26, 2021, 10:30 PM",
          "AuthorName": "André Gonçalves",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4387996&course=5",
          "role": [
            "Picture of André Gonçalves"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: lti 1.3 tool opening as embedded even though it is configured to open in new window",
          "Text": "Hi André, Sorry to hear you're having trouble. I know of a few things that would result in an embedded launch like this. If you edit the activity settings and click \"Save and display\", it'll ignore the \"Launch container\" setting and launch embedded. You must launch from the course home page link to get the correct new window launch. If you're playing around with deep linking content selection within the activity settings, then once you've picked content from the tool, the launch container can change from \"Default\" to \"Embed\". If you're using deep linking, please make sure to check the launch container before saving the activity settings. The latter is a bug, IMO and I'll look at patching this in the future. If you're still having trouble, please let me know: Exactly how you've set up the tool at site level, including the value of \"Tool configuration usage\" and Exactly how you're creating the activity, prior to launch, in the course. Exactly how you're launching before seeing the problem. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 27, 2021, 11:24 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: lti 1.3 tool opening as embedded even though it is configured to open in new window",
          "Text": "Hello Jake, Thanks a lot for your reply. I'm still having issues. Here's the detail: (the values of the fields have been changed for the screenshot, and the value of the Client ID too). 1) adding external tool: 2) adding the external tool in the course: 3) clicking the external tool: In the browser console I get: \"Refused to frame 'https://this_url_is_correct' because an ancestor violates the following Content Security Policy directive: \"frame-ancestors 'self' *.google.com\". Which is basically the browser avoiding embedding. Thanks again for your help. Regards, André",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1715801/1.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1715801/2.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1715801/3.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1715801/4.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1715801/5.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1715801/6.png"
          ],
          "Time": "Friday, August 27, 2021, 7:55 PM",
          "AuthorName": "André Gonçalves",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4387996&course=5",
          "role": [
            "Picture of André Gonçalves"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: lti 1.3 tool opening as embedded even though it is configured to open in new window",
          "Text": "Thanks, André. That all seems to be defined properly to me, which makes tracking this one down a little more difficult. Can you inspect the activity link on the course page (using browser dev tools) and tell me whether you see an onclick=\"window.open...\" defined for the activity?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 1, 2021, 9:59 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 426032,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426032",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Removing LTI tool links and prune enrolments",
          "Text": "I am using moodle (just updated my test server to 3.11) as an LTI tool provider. We are trying to find a way to disable existing (old) tool links in bulk, and potentially also prune the LTI auto-enrolled users. Is there any way to do that? Niels",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 25, 2021, 4:29 AM",
          "AuthorName": "Niels Walet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=14488&course=5",
          "role": [
            "Picture of Niels Walet"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Removing LTI tool links and prune enrolments",
          "Text": "Hi Niels, There isn't currently a way to do that, but I can see value in that. Something like this would be especially useful given we're moving to support LTI 1.3 in the enrol_lti code for Moodle 4.0 and we're going to have a lot of old 1.1/2.0 tools that need to be considered for either migration or removal. It might be worth creating a tracker issue for this. I'll triage it if you create it Cheers, Jake",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, August 25, 2021, 11:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Removing LTI tool links and prune enrolments",
          "Text": "Hi Jake, I was afraid that was the case. Not extremely likely I can find the time to do that in the near future, but I will put it on my list. Niels",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 25, 2021, 4:24 PM",
          "AuthorName": "Niels Walet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=14488&course=5",
          "role": [
            "Picture of Niels Walet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 425528,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425528",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 - Proctoring Services in IMS global Spec",
          "Text": "Hello All, I'm trying to achieve LTI 1.3 IMS Proctoring strandards in my project as a tool provider. Does moodle support the LTI 1.3 proctoring spec and how this could be achieved like any specific configuration to be done while external tool in Moodle? Any help will be appreciated! Thanks in advance. Thanks, Vignesh Raju",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 10, 2021, 7:45 PM",
          "AuthorName": "vignesh raju",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4349988&course=5",
          "role": [
            "Picture of vignesh raju"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 - Proctoring Services in IMS global Spec",
          "Text": "Hi Vignesh, Unfortunately, Moodle doesn't currently support the Proctoring Service Spec. I think this would potentially be a nice addition though, but it's not on the roadmap as it stands. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 19, 2021, 10:51 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 425723,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425723",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.10.4+ iframe experience blocked in chrome version 92",
          "Text": "Hello Moodle, We see that we have a potential issue with Chrome 92 (the latest version of Chrome) from launching our LTI 1.3 tool and our Deep Link UI\napplication malfunctioning on Moodle 3.10 in an inframe experience. Moodle is presenting a sign-in screen that blocks from moving forward. Based on our investigation, We noticed that Chrome is blocking\nour request due to \"SameSite\" attribute not being set on the browser. Google\nChrome version - 92.0.4515.131 Moodle\n- 3.10.4+ ( Build: 20210611 ) Note: This issue was not observed on Moodle version 3.10.4+ ( Build: 20210604 ) on the same browser version. and we did not see this issue taking place on Firefox as well. Do you know if this is something that is fixed in the newer moodle version? or if there is a workaround for this?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1714314/Moodle%20image%201.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1714314/Moodle%20image%202.png"
          ],
          "Time": "Monday, August 16, 2021, 3:54 PM",
          "AuthorName": "Shanushika Iswera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4230448&course=5",
          "role": [
            "Picture of Shanushika Iswera"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 3.10.4+ iframe experience blocked in chrome version 92",
          "Text": "Hi Shanushika, We recently patched this problem with embedded launches. The issue was characterised by a set-cookie response header like you're seeing. See MDL-71887 for more information. You'll need to update your Moodle site to get access to this though, as it's not available in 3.10.4 - you need 3.10.6. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 19, 2021, 10:44 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 425456,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425456",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "WebWorK and Moodle SSO/SSI behaviour?",
          "Text": "Hello. We have moodle 3.9.x running on ubuntu with php 7.3.x and mysql 5.7.x Our webwork server is running the latest build I created the webwork cours; set up the secret \"password\" in webwork and configured the authen_LTI.conf file in WebWork.. I created a test moodle course and added students to them. I created the external tool to the WebWork class and when users click on that LTI LINK, it shows them the login page of their webwork course. Shouldn't they be SSO'd in there? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 7, 2021, 6:02 AM",
          "AuthorName": "Jerry Lau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1324621&course=5",
          "role": [
            "Picture of Jerry Lau",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 425164,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425164",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI 1.1 error in user grade update with a \"null\" grade",
          "Text": "Hello, We are trying to send an LTI 1.1 grade update request to moodle 3.8( http://3plcgmoodleprd.prd-prsn.com/moodle38/ ) instance with a null grade value. Request Body: <? xml version = \"1.0\" encoding = \"UTF-8\"?> <imsx_POXEnvelopeRequest xmlns = \" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXRequestHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>637907331</imsx_messageIdentifier> </imsx_POXRequestHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <replaceResultRequest> <resultRecord> <sourcedGUID> <sourcedId>SampleSourceId</sourcedId> </sourcedGUID> <result> <resultScore> <language>en-US</language> <textString>null</textString> </resultScore> </result> </resultRecord> </replaceResultRequest> </imsx_POXBody> </imsx_POXEnvelopeRequest> For the above request, we got the following response error. <?xml version=\"1.0\" encoding=\"UTF-8\"?> <imsx_POXEnvelopeResponse xmlns=\" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXResponseHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>1018505128</imsx_messageIdentifier> <imsx_statusInfo> <imsx_codeMajor>failure</imsx_codeMajor> <imsx_severity>status</imsx_severity> <imsx_description> Score must be numeric </imsx_description> <imsx_messageRefIdentifier>637907331</imsx_messageRefIdentifier> <imsx_operationRefIdentifier>replaceResultRequest</imsx_operationRefIdentifier> </imsx_statusInfo> </imsx_POXResponseHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <replaceResultResponse/> </imsx_POXBody> </imsx_POXEnvelopeResponse> Can we know whether Moodle does not support a \"null\" grade update for LTI 1.1 or is there any other method we can follow to send a grade update request with a \"null\" grade?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 29, 2021, 8:09 PM",
          "AuthorName": "Vinodya Bandara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4263636&course=5",
          "role": [
            "Picture of Vinodya Bandara"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI 1.1 error in user grade update with a \"null\" grade",
          "Text": "Hi Vinodya, That's right, as per the Basic Outcomes specification ( https://www.imsglobal.org/spec/lti-bo/v1p1#basic-outcome-service ), \"The only type of grade supported by this service is a decimal numeric grade in the range from 0.0 - 1.0\". Moodle enforces just that. Hope that helps. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 30, 2021, 2:54 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI 1.1 error in user grade update with a \"null\" grade",
          "Text": "Hi Jake, Thank you so much for the update! It really helps. Regards, Vinodya",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 30, 2021, 9:28 PM",
          "AuthorName": "Vinodya Bandara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4263636&course=5",
          "role": [
            "Picture of Vinodya Bandara"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423991,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423991",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "LTI in Moodle IFrame issue",
          "Text": "Hi there, We have just installed a LTI demo from a publisher that offers LTI licenses via BlinkLearning. I configured the external tool as outlined in the BlinkLearning documentation. The tool, i.e. the BlinkLearning integration works, but the content (book, activities ) is presented in a relatively small IFrame. Here is a screenshot: I came across the LTI message handler plugin. I understand that it allows for the LTI IFrame height to be set and that some people use it because their content is chopped off by the height of their IFrame. As you can see from the screenshot, we just have an IFrame that is too small. How would I go about solving this? Thanks for any help in advance! Regards, Andrew Thomas Tobey",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1707920/image.png"
          ],
          "Time": "Tuesday, June 29, 2021, 12:47 AM",
          "AuthorName": "Andrew Thomas Tobey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4274481&course=5",
          "role": [
            "Picture of Andrew Thomas Tobey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI in Moodle IFrame issue",
          "Text": "We use Debian 10 and Moodle 3.10 with MariaDB .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 29, 2021, 1:44 AM",
          "AuthorName": "Andrew Thomas Tobey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4274481&course=5",
          "role": [
            "Picture of Andrew Thomas Tobey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle IFrame issue",
          "Text": "```text\nHi Andrew\nThe same thing happened to me, I changed it directly in this file ...\n```\n \n```text\n../moodle/mod/lti/register.php\n```\n \n```text\n\n```\n \n```text\nIn my case I changed the height to 600px because the window was very small.\nHope this can help you.\nGreetings.\n```\n \n```text\nDanilo\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 6, 2021, 2:49 AM",
          "AuthorName": "Carlos Freire",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2617825&course=5",
          "role": [
            "Picture of Carlos Freire"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle IFrame issue",
          "Text": "Sorry... I paste an image but it did not appear in the file there is this text.. <iframe id=\"contentframe\" height=\" 600px \" width=\"100%\" src=\"launch.php?id=82&amp;triggerview=0\" allow=\"microphone ; camera ; geolocation ; midi ; encrypted-media ; autoplay \" allowfullscreen=\"1\"></iframe> I changed only the height. After that you have to save the file and restart apache server",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 6, 2021, 2:56 AM",
          "AuthorName": "Carlos Freire",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2617825&course=5",
          "role": [
            "Picture of Carlos Freire"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle IFrame issue",
          "Text": "Hi Carlos, Thank you very much. I wasn't expecting that there was static code in Moodle to set both the width and height of the IFrame. You made my day! Have a wonderful one yourself. Best, Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 6, 2021, 5:20 AM",
          "AuthorName": "Andrew Thomas Tobey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4274481&course=5",
          "role": [
            "Picture of Andrew Thomas Tobey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle IFrame issue",
          "Text": "I cannot find the entry you referred to in the file. All I find is a piece that reads: <iframe id=\"contentframe\" height=\"600px\" width=\"100%\" src=\"' . $registration->out() . '\" onload=\"doOnload()\"></iframe> Best, Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 6, 2021, 7:39 AM",
          "AuthorName": "Andrew Thomas Tobey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4274481&course=5",
          "role": [
            "Picture of Andrew Thomas Tobey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle IFrame issue",
          "Text": "Hi Andrew. Apparently it is the same entry with small variations according to each website ... maybe did you do a test changing the height in that file? that's the only input that refers to the height of the iframe, make a copy of the file before changing it and try other height values, they should be reflected on the screen, that worked for me. Hope you get lucky and let me know if it worked for you. Greetings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 7:06 AM",
          "AuthorName": "Carlos Freire",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2617825&course=5",
          "role": [
            "Picture of Carlos Freire"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle IFrame issue",
          "Text": "Hi there, Nope. I played around with some heights, but this line does not affect the height of the IFrame at all. Do you have Moodle 3.10? Regards, Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 8, 2021, 11:19 PM",
          "AuthorName": "Andrew Thomas Tobey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4274481&course=5",
          "role": [
            "Picture of Andrew Thomas Tobey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle IFrame issue",
          "Text": "Hi Andrew My Moodle is 3.10.2 I really so sorry. I did this change long time ago and I confused the paths. I re-created the stage and I realized that the real file you have to change is this... ../moodle/mod/lti/view.php here you are going to find this line... I made the test and I got a very large-height iframe box You can change the height value as you want. Please be carefully, enter the value with no spaces ... as you see in the image. Don´t forget firstable to backup your file, then make the changes, save and restart your Apache server (I have redhat) # systemctl restart httpd I am sure this is going to work for you too Greetings Danilo",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1709531/screen1.JPG"
          ],
          "Time": "Friday, July 9, 2021, 11:38 AM",
          "AuthorName": "Carlos Freire",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2617825&course=5",
          "role": [
            "Picture of Carlos Freire"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle IFrame issue",
          "Text": "Hi Andrew I expect you have solved your problem. I finally added the correct solution and I really so sorry if I couldn´t help you at the beginnig best regards Danilo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 23, 2021, 1:06 AM",
          "AuthorName": "Carlos Freire",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2617825&course=5",
          "role": [
            "Picture of Carlos Freire"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 412674,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=412674",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Make Moodle v3.9 as LTI Provider using LTI 1.3",
          "Text": "Pls anyone who would help us, about any documentation on how to make Moodle v3.9 as an LTI Provider using LTI 1.3. I really need the documentation so we can update our school capability using LTI 1.3. Moodle can only create a LTI PUBLISH tool and gave only the Tool url, secret key which is for the setup of LTI 1.1. But LTI 1.3 needs more than that. Please help me find a documentation on how Moodle v3.9 can be an LTI Provider using LTI 1.3. Thank you so much",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 23, 2020, 3:49 PM",
          "AuthorName": "IRVIN BAHAN",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3677358&course=5",
          "role": [
            "Picture of IRVIN BAHAN"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Make Moodle v3.9 as LTI Provider using LTI 1.3",
          "Text": "LTI consumer (External Tool) has been updated to accept 1.3, however the Publish to LTI Tool has not. There is a plan to do this, but no one is currently assigned to work on it. We would like it as well, so please check it out here, and PLEASE UPVOTE IT: https://tracker.moodle.org/browse/MDL-64780",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2020, 5:55 AM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Make Moodle v3.9 as LTI Provider using LTI 1.3",
          "Text": "I plan to have the provider code updated to support LTI 1.3 for Moodle 4.0. This update will support LTI 1.3 launches, deep linking content selection, grade sync using Assignment and Grade Services 2.0 and member sync using the Names and Role Provisioning Service 2.0. You can check the progress in MDL-69542 . This will not be backported. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 20, 2021, 8:55 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 424647,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424647",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Integration question regarding Practice Labs",
          "Text": "Hi Perry, I've just realised that our docs perhaps don't clearly explain the process for manually setting up an external tool over LTI Advantage. It's basically a manual exchange of URLS between tool (Practice Labs) and platform (Moodle). The tool gives us some URLS (they will send these to you, or provide a means for you to access them within the tool site). You then create a tool definition in Moodle, at which point a client id (and, in Moodle's case, a deployment id) is generated. Finally, you update the tool with the platform information. See below for required steps: You'll need some information from Practice Labs first. They will provide you with: Tool URL Public Keyset URL (or a public key string, but likely the URL) Initiate Login URL Redirection URIs (there may be several) Content Selection URL (may not be provided) Once you've got that you'll go to Admin > Plugins > Activities > External tool > Manage tools and click \"Configure a tool manually\" Enter the information above into the relevant fields and save. You'll now see a tool entry listed on the resulting page. Click 'View configuration details' in the tool's tile. You will see a popup that contains the information you're looking for. You need to take this information and use it in the tool to complete the registration process. This is a cumbersome process, and that's why dynamic registration exists. I'd ask the tool provider if they support that too. Hope that helps. Let me know if anything is unclear. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 16, 2021, 8:42 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 424124,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424124",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "reinstall the LTI enrollment plugin",
          "Text": "Hello, so I uninstalled the \"Publish as LTI tool\" / \"enrol_lti\" plugin under Plugins->Manage enrol plugins recently. So I wanted to reinstall it now, but I can't find any option to do that. I also don't seem to find it in the Plugins directory as that only seems to host community created plugins and not the \"Official ones\" that come with moodle. So where can I find the files that allow me to install the plugin again? Or can I just download the folder from here https://github.com/moodle/moodle/tree/MOODLE_39_STABLE/enrol/lti and plonk it in my installation without breaking stuff? using Moodle 3.9",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 1, 2021, 5:00 PM",
          "AuthorName": "Jeremy Schulz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4262742&course=5",
          "role": [
            "Picture of Jeremy Schulz",
            "Picture of Core developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: reinstall the LTI enrollment plugin",
          "Text": "HI Jeremy, That's right, it's not listed on the plugins database since it's shipped with core Moodle. You can either checkout that directory again using git (if you're familiar with that kind of thing), or like you said, put the plugin's directory back in place. I would make sure you're getting the source code for your exact version of Moodle though, which you can do via the tags feature on github. E.g. https://github.com/moodle/moodle/releases/tag/v3.9.7 Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 12:39 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: reinstall the LTI enrollment plugin",
          "Text": "Hey, thank you for the info. That certainly helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 8, 2021, 7:00 PM",
          "AuthorName": "Jeremy Schulz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4262742&course=5",
          "role": [
            "Picture of Jeremy Schulz",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 424334,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424334",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Feature request: set custom icon to a preconfigured tool",
          "Text": "The possibility to set a custom icon for a preconfigured tool (instead of the external tool generic one) would be very useful. Do you think it is possible, for how the external tools work? In case, where can I add this feature request for external tools?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 12:25 AM",
          "AuthorName": "Chiara Di Terlizzi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4053279&course=5",
          "role": [
            "Picture of Chiara Di Terlizzi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Feature request: set custom icon to a preconfigured tool",
          "Text": "Hi Chiara, You can in fact already do this. Go to Admin > Plugins > Activities > External tool > Manage tools and edit a tool. In the \"Tool settings\" section, click \"Show more\". You'll see an icon and secure icon URL pop up. Set one, and your tool will show up with that icon instead of the generic puzzle piece. Hope that helps! Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 12:12 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Feature request: set custom icon to a preconfigured tool",
          "Text": "Thank you so much! Where should I upload that icon in order to obtain the URL to insert in the field?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 3:34 PM",
          "AuthorName": "Chiara Di Terlizzi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4053279&course=5",
          "role": [
            "Picture of Chiara Di Terlizzi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ri: Re: Feature request: set custom icon to a preconfigured tool",
          "Text": "Hi Chiara, That's a question I can't answer. Maybe one for your organisation to assist with. Perhaps you can upload and store the icon in the same place as other educational resources. In some cases, you may be able to use an image hosted by the tool provider itself, on the provider's site for example. See also MDL-45105 which talks about allowing icon uploads, rather than just relying on an icon URL. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 8, 2021, 9:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 424213,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424213",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Common Cartridge: What version(s) are supported?",
          "Text": "Good evening everyone, Could someone tell me or point me in the direction of what version Common Cartridge or Thin Common Cartridge is supported by Moodle 3.11 and MoodleCloud? I have found these resources: https://docs.moodle.org/311/en/External_tool_FAQ#What_version_of_LTI_is_supported_by_the_external_tool.3F https://site.imsglobal.org/certifications/moodle Thank you for your time on this, Thomas E. Bennett",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 3, 2021, 5:57 AM",
          "AuthorName": "Thomas Bennett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4006654&course=5",
          "role": [
            "Picture of Thomas Bennett"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Common Cartridge: What version(s) are supported?",
          "Text": "Hi Thomas, This might be of some help to you: https://tracker.moodle.org/browse/MDL-60803",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 12:33 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Common Cartridge: What version(s) are supported?",
          "Text": "Thank you, Jake. This is exactly what I needed. Have a great day, Thomas",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 8:22 PM",
          "AuthorName": "Thomas Bennett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4006654&course=5",
          "role": [
            "Picture of Thomas Bennett"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423730,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423730",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "How to disable the ability to create new preconfigured LTI tools",
          "Text": "Hi, I would like that teachers from our Moodle site would be able to choose from the activity chooser a preconfigured LTI tool (Zoom LTI for instance) but I don't want them to create new preconfigured tools (with their own urls). The problem is that if I disable the capability mod/lti:addpreconfiguredinstance the preconfigured Zoom tool is not shown to teachers on activity chooser but if I enable that capability the teachers are able to add a new tool using the plus sign when editing the LTI zoom module instance in their course (image attached). I want them to use the Zoom preconfigured LTI tool exactly as a module and I don't want them to add new preconfigured tools. Does anyone know if it is possible to achieve that on Moodle 3.9?... Thank you! (PS: We have mod/lti:addmanualinstance  disabled for teachers)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1706923/LTI-preconfigured-tool.png"
          ],
          "Time": "Tuesday, June 22, 2021, 6:52 PM",
          "AuthorName": "Susana L.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141886&course=5",
          "role": [
            "Picture of Susana L.",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to disable the ability to create new preconfigured LTI tools",
          "Text": "Hi Susana, If you prohibit the capability 'mod/lti:addcoursetool', this should achieve what you're looking for. The \"+\" symbol is still present but users won't be able to add course tools. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 23, 2021, 4:17 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to disable the ability to create new preconfigured LTI tools",
          "Text": "Hi Jake, Thank you for your input! I changed the capability 'mod/lti:addcoursetool' on teacher's role, but the teacher is still able to see the \"+\" symbol and actually create a new tool that shows up on the list of tools (Site administration> PluginsActivity> modules> External tool> Manage tools). (Am i missing something... or doing something wrong...?) Thank you, susana",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 6:16 PM",
          "AuthorName": "Susana L.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141886&course=5",
          "role": [
            "Picture of Susana L.",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to disable the ability to create new preconfigured LTI tools",
          "Text": "Hi Susana, The + symbol will still be present, but they will see a notice if they try to use it. I've just double checked the code (and the behaviour) and it's definitely the 'mod/lti:addcoursetool' capability that's checked on the instructor_edit_tool_type.php page. Perhaps the user has multiple roles in that context or the capability isn't being set to prohibit. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 28, 2021, 8:42 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to disable the ability to create new preconfigured LTI tools",
          "Text": "Hi Jake,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 28, 2021, 7:16 PM",
          "AuthorName": "Susana L.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141886&course=5",
          "role": [
            "Picture of Susana L.",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422970,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422970",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Zoom LTPPro Setup - Moodle 3.10",
          "Text": "Hi All, Following the Zoom site's instructions on setting up LTIPro for Moodle. I enter the LTI Credentials and end up with a 403 error:  \"access is forbidden to  my_moodle_site.com/cp_errordocument.shtml (port 443)\" That page doesn't actually exist so unsure what is happening. I've tried both the Moodle plugin and the LTI approach and struggling to get Zoom Active. Any help and advice appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 2, 2021, 5:48 PM",
          "AuthorName": "Dave Emsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=95338&course=5",
          "role": [
            "Picture of Dave Emsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Zoom LTPPro Setup - Moodle 3.10",
          "Text": "Hi Dave, I have successfully integrated Zoom LTI Pro with our Moodle 3.10. You might find the following video useful for configuring the Zoom LTI Pro connections for your Moodle. While\nconfiguring the Zoom LTI Pro external tool manually on Moodle, I have picked up  the option\n'Show in activity chooser and as preconfigured tool' under 'Tool\nconfiguration usage' so Zoom live sessions can be added from the\n'Activity Chooser'. We ( Icfai Business School )\nschedule the Zoom meetings on the course page so that our Faculty Members\nand students can join the Zoom live sessions from within their Moodle course. Indira",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 28, 2021, 1:07 AM",
          "AuthorName": "Dr. Indira Koneru",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1062113&course=5",
          "role": [
            "Picture of Dr. Indira Koneru"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423618,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423618",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Missing or invalid consumer key - Sending Grades from External LTI system to Moodle 3.9",
          "Text": "I am currently developing a flashcard application using python-django on the server side where I can launch it from moodle as an external tools 'Tool Provider (TP) of Learning Tools Interoperability (LTI) version 1.1', I want to pass grades and custom values ​​from TP back to Moodle LMS version 3.9. When I launch my application from moodle, here is the information relating to the request received in the server side: {'oauth_version': '1.0', 'oauth_nonce': '507d631132d9774f5ec94728de8c6faa', 'oauth_timestamp': '1624013991', 'oauth_consumer_key': 'djangoConsultKey','ced ',' data_idres:'ced '2', 'lis_idres:' : {\"instanceid\": \"7\", \"userid\": \"2\", \"typeid\": \"6\", \"launchid\": 323115609}, \"hash\": \"cacf667303577a6731a59211f6b2c1c1e85f449646f 3d74c4ce91b9b25cfdf9a \"} ',' lis_outcome_service_url ':' http: //localhost/mod/lti/service.php ', for testing reasons, i used postman to be able to send a post request with this information above but apparently i get an authentication or token error. Knowing that lis_result_sourcedid and lis_outcome_service_url should be used, but I don't know how to make use of these parameters in the TP programs.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1706544/Sans%20titre%20%281%29.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1706544/Sans%20titre.png?forcedownload=1"
          ],
          "Time": "Friday, June 18, 2021, 11:10 PM",
          "AuthorName": "Youness Madhoun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4272230&course=5",
          "role": [
            "Picture of Youness Madhoun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Missing or invalid consumer key - Sending Grades from External LTI system to Moodle 3.9",
          "Text": "Hi Youness, First up, I'd like to point out that LTI 1.1 is deprecated. LTI 1.3 is the current standard that new tools should aim to support. I'm only mentioning this in case you weren't aware. It would be a shame to spend a lot of time implementing 1.1 only to find this out later. Now, It sounds like you're having problems with the grade sync. You can do this one of several ways: 1. Using Basic Outcomes (BO) 1.0. This is the old method and uses those 2 vars you mentioned - lis_result_sourcedid and lis_outcome_service_url. http://www.imsglobal.org/specs/ltiomv1p0/specification#toc-3 . This is really only used for 1.1 tools. You can check out Moodle's own enrol/lti/ code to see how it generates the payload ( https://github.com/moodle/moodle/blob/1fc5c588a4742f6b05ef526100f45708084e1815/enrol/lti/classes/helper.php#L357 ) 2. Using Assignment and Grade Services (AGS) 2.0. https://www.imsglobal.org/spec/lti-ags/v2p0 . This method only needs the user id and the grade and is much simpler. You'd normally use this method for 1.3 tools. I will note that the issue which landed this originally ( MDL-60416 ) did test this on 1.1 tools too, but it's not something I've recently confirmed is working. So, I'd recommend building your tool for LTI Advantage and using the AGS 2.0 method if you can. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 21, 2021, 12:28 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Missing or invalid consumer key - Sending Grades from External LTI system to Moodle 3.9",
          "Text": "Hello Jake , I thank you first for your answer, I applied the second solution but using postman I receive this error : { \"status\": 401, \"reason\": \"Unauthorized\", \"request\": { \"method\": \"POST\", \"url\": \"/mod/lti/services.php/3/lineitems/22/lineitem/scores?type_id=8\", \"accept\": \"*/*\", \"contentType\": \"application/vnd.ims.lis.v1.score+json\" } } Please guide me for this issue ..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2021, 6:12 PM",
          "AuthorName": "Youness Madhoun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4272230&course=5",
          "role": [
            "Picture of Youness Madhoun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Missing or invalid consumer key - Sending Grades from External LTI system to Moodle 3.9",
          "Text": "Hi Youness, That most likely comes from the fact that you're missing the relevant OAuth Authorization headers in the request. It could be thrown by this line (hard to say from the limited information however): https://github.com/moodle/moodle/blob/master/mod/lti/service/gradebookservices/classes/local/resources/lineitems.php#L87 Normally, this is handled by whatever library you're using, but since you're using postman, I'm not sure what you're doing to ensure this is being set/sent properly. I'd recommend making this call from your tool code directly, to guarantee the headers are generated and sent as they would be under normal use. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 9:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Missing or invalid consumer key - Sending Grades from External LTI system to Moodle 3.9",
          "Text": "Hello Jake , I use the pyLTIp3 library: https://pypi.org/project/PyLTI1p3/#configuration-using-django-admin-ui and the problem is linked to the header to be able to authorize requests sent by Postman to query Moodle whether for Score or results, I will try to call moodle directly in my code and keep you in touch . Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 4:22 PM",
          "AuthorName": "Youness Madhoun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4272230&course=5",
          "role": [
            "Picture of Youness Madhoun"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 416796,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=416796",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Zoom Integration Problem",
          "Text": "Hi, I'm hoping someone can help me with a problem I'm having. I've been using Zoom integration on Moodle LMS successfully for almost a year. There are some frustrating glitches such as scheduling meetings for a new subject which then connects to old recordings of a different subject. Now, as I'm scheduling meetings for term 1, the different subject meetings are conflating. Please see attached pic for example. There should only be the Thursday zoom class here, but Saturday has joined the party. This has happened multiple times. I'd appreciate any help. I've contacted zoom and they say it is a moodle issue. TIA",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1679474/zoom%20glitch.PNG?forcedownload=1"
          ],
          "Time": "Monday, January 18, 2021, 8:12 AM",
          "AuthorName": "An Newman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3998736&course=5",
          "role": [
            "Picture of An Newman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Zoom Integration Problem",
          "Text": "Hi An, This looks like you've set up Zoom using the Zoom LTI Pro integration. Is that right? What you're seeing there in that screenshot isn't something that Moodle generates. I'd be interested to know why Zoom says this was a Moodle problem. Perhaps you can add some more information here, such as how you've set this up, how you're scheduling meetings and exactly when/where the problem occurs. I'm sure there are others here that use Zoom that may be able to offer assistance too. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 1:13 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 415779,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415779",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Displaying Grading Summary For External Tool Assignments",
          "Text": "The instructor view of assignments includes a 'Grading Summary' section, where the student's submissions are listed. I work for Noteflight, an LTI Tool Provider. When I configure Noteflight as an External Tool, the assignments don't have this grading summary section. This is with the 'IMS LTI Assignment and Grade Services' option set to 'Sync grades and column management', but I have tried all of the different settings for this. When a student submits the assignment from Noteflight, moodle responds positively \n```text\n```\n\n\n#<ImsLti::OutcomeRequest:0x00007fc418b60038\n\n\n  @code_major=\"success\",\n\n\n  @consumer_key=\"BasicLTI\",\n\n\n  @consumer_secret=\"QnpkF5/Z19hDmTG9A9AQ9P0zTAgY6/kYgul2g0XAu8Y=\",\n\n\n  @description=\"Grade replace response\",\n\n\n  @lis_outcome_service_url=\"http://localhost:8888/moodle39/mod/lti/service.php\",\n\n\n  @lis_result_sourcedid=\n\n\n  \"{\\\"data\\\":{\\\"instanceid\\\":\\\"7\\\",\\\"userid\\\":\\\"4\\\",\\\"typeid\\\":\\\"1\\\",\\\"launchid\\\":284312746},\\\"hash\\\":\\\"2fef7efcf6e3d614b0b5a481be42e4c750e1a1a5325630ed0f5b460f8c25e664\\\"}\",\n```\n But the grade doesn't seem to be anywhere to be found in Moodle. We are using LTI 1.0 (Basic LTI) Any help would be appreciated.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1675534/Screen%20Shot%202020-12-22%20at%202.05.50%20PM.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1675534/Screen%20Shot%202020-12-22%20at%202.11.05%20PM.png"
          ],
          "Time": "Wednesday, December 23, 2020, 3:20 AM",
          "AuthorName": "Matt Jardine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3953303&course=5",
          "role": [
            "Picture of Matt Jardine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Displaying Grading Summary For External Tool Assignments",
          "Text": "Hi Matt, That first view (Grading Summary) has nothing to do with LTI. It's a view specific to the Assignment module in Moodle. When you return grades from your tool (and assuming it's successful), then you'll see the grades listed in the course grade book, which you can access from the left navigation pane. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 12:18 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423486,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423486",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Sending additonal information to an external tool with LTI",
          "Text": "Hey guys, i'm new to LTI and am yet to configure LTI functionality in my external tool, which I assume will be a time consuming process on my part. Before I start, I wanted to figure out if the following scenario is possible. I am trying to achieve personalised gamification in moodle and for that, I've created an adaptation engine as a web app written in python and flask, which I'd connect as an external tool to a course in moodle. I know for a fact that I can configure my external tool as such, so that username will be forwarded from moodle to my engine and at the end a result will be returned in the form of \"you are X\". My adaptation engine currently expects manual inputs from a student. The inputs are, for example, position on leaderboard, how manx XPs, no. of badges earned, current level, etc. Goal is that this manual input can be converted into something automatic, such that, when a student goes to the external tool and clicks on start, the required information is automatically forwarded to the engine. Is this possible with LTI? I'd appreciate it, if somebody can help me out. Regards, Akshay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 15, 2021, 11:00 PM",
          "AuthorName": "Akshay Nayyar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4279285&course=5",
          "role": [
            "Picture of Akshay Nayyar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Sending additonal information to an external tool with LTI",
          "Text": "Hi Akshay, Yes, LTI does support sending custom data to the tool during launch. For LTI 1.3 (which I assume you're working with, since the older versions are not currently recommended by IMS), the process is as simple as including user-specific data in the 'custom' claim during launch ( http://www.imsglobal.org/spec/lti/v1p3/#custom-properties-and-variable-substitution ). But how is this done in Moodle? Moodle provides an LTI subplugin type called 'ltisource'. Among other things, source plugins can augment the data included in launches, by implementing a component callback 'ltisource_PLUGINNAME_before_launch'. This is called when building the launch data to be sent. Given the standard means of including 'extra' data in LTI 1.3 is via the custom claim, you can simple return an item indexed by the name 'custom_YOURFIELDNAME', and this will automatically be added to the claim, and will be available to your tool during launch. Here's a link to some source plugins (I find reading code easier that reading a forum post!): https://moodle.org/plugins/browse.php?list=category&id=64 You'll can check out the source code for each plugin on it's plugin listing page. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 18, 2021, 12:53 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending additonal information to an external tool with LTI",
          "Text": "Hey Jake, thank you for the detailed response. I'm clear on how it works on the LTI side. All I need to do is get the information in the custom claim und get the information from the claim to where it is needed. I've successfully received the name and launchid among the other generic information from moodle to my tool. Now, I'm actively working towards getting the required information automatically instead of a student filling it manually. However, I'm not sure how to go about it on moodle side. I'm a student working on my bachelor thesis, thus I have no administrative rights on moodle. If anything needs to be installed in the background, I'd need to get in touch with the people responsible for maintaining moodle at my university. The link you provided, I see 2 plug-ins but they don't seem to be what I need. We're you aiming for something specific which has been removed since then? Also, let's say that I want the current leaderboard position of a student from Moodle. I'm using the level up plugin to implement leaderboards in my moodle course. Do I simply name course.custom_YOURFIELDNAME as course.custom_leaderboard or do I look for something specific to correctly name the attribute? I'd be grateful if you could guide me a little bit more. Or if you have some spare time, a quick online meeting. I'm relatively new to LTI and Moodle, so it could be that my questions are a little silly. Thank you for your time and patience. Regards, Akshay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2021, 6:08 AM",
          "AuthorName": "Akshay Nayyar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4279285&course=5",
          "role": [
            "Picture of Akshay Nayyar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending additonal information to an external tool with LTI",
          "Text": "Hi Akshay, Firstly, there are no silly questions when it comes to either Moodle or LTI . it's great that you're exploring the capabilities of the system. It sounds like you're across the LTI specs, which is great too. The link I provided was to the source plugins listing on the Moodle plugins database . From there, you can click a plugin (e.g. EcoHub LTI Source), then follow the \"Source control URL \" link to view the source. This was just an attempt at helping you see what sort of plugin code you'd need to write (i.e. what callback needs implementing, plugin structure etc.). Regarding the naming of the custom params, it sounds like you're perhaps talking about the tool setting \"Custom parameters\" (a UI field found in the external tool editing form). This can be used to send custom data in the launch, but only if the data is either static (defined in that field as something like 'id=abc123'), or uses one of the predefined substitution variables supported by Moodle. Moodle doesn't provide substitution variables for plugins. Substitution variables are things like 'uname=$User.username', which will pass the username of the user across in a custom 'uname' field. There is also support for things like Course and Context fields. In order for you to be able to send anything else (like leaderboard results, etc), you will need to create and install an lti source plugin. This is the only way to extend what can be sent in this custom data. Hope that helps. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2021, 10:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending additonal information to an external tool with LTI",
          "Text": "Hey Jake, thank you for getting back to me so fast. Please tell me, if i've got this right - Moodle is currently the limiting factor and not LTI. I'll have to create a plugin for moodle which then will be installed and added to moodle. With help of this plugin, on the external tool setting page, i can add custom parameters such as course.custom_leaderboard or course.custom_level among others to the field custom parameters. As soon as moodle goes to the external tool, the custom information will also be sent to the tool along with the generic information that is always sent. Is this correct? Also, what will be the aim of the plugin - adding more predefined substitution variables for leaderboards, levels, etc, to the already existing variables or something else? Regards, Akshay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2021, 9:59 PM",
          "AuthorName": "Akshay Nayyar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4279285&course=5",
          "role": [
            "Picture of Akshay Nayyar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending additonal information to an external tool with LTI",
          "Text": "Hi Akshay, You're right in that Moodle is the limiting factor for you right now. You're also right in that you need to create a plugin, however, implementing the before_launch() callback in the plugin won't allow you to add new substitution vars for use in the Moodle form; it allows you to programatically set custom_xxxx values based on, well, whatever you like (you can fetch this data however you like during the before_launch callback), and include these in tool launches. You'll likely also want to ensure that whatever custom_xxx properties you need are only being added to launches of your specific tool too - perhaps by inspection/comparison of the tool url in that callback function. The way that plugin callback is designed makes it a global callback that will be called before ALL tool launches. If the logic to fetch your leaderboard data is heavy, you really want to make sure you're only doing it when the appropriate tool URL is seen. The callback receives a few things: https://github.com/moodle/moodle/blob/master/mod/lti/locallib.php#L671 1. The tool type (a record from the PREFIX_enrol_lti_tools table) 2. The tool URL 3. The request params You should be able to make the relevant decision on whether to add leaderboard information based on the tool url here. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 9:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391538,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391538",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Grade passback error",
          "Text": "Hello, We are a higher ed content provider and we are connecting to Moodle via LTI 1.3 and receiving the following error. Can anyone help? Thank you! \"body\": { \"status\": 400, \"reason\": \"No handler found for /8/lineitems/33/lineitem  application/vnd.ims.lis.v1.score+json\", \"request\": { \"method\": \"POST\", \"url\": \"/mdl371/mod/lti/services.php/8/lineitems/33/lineitem?type_id=5/scores\", \"accept\": \"application/json\", \"contentType\": \"application/vnd.ims.lis.v1.score+json\" } }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 26, 2019, 11:15 PM",
          "AuthorName": "Lorraina Morrison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2783689&course=5",
          "role": [
            "Picture of Lorraina Morrison"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "Hi, I am facing the same issue.....Do you get any solution for this?... Please guide me for this issue",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 9, 2020, 6:46 PM",
          "AuthorName": "Rohit Shirsath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2907005&course=5",
          "role": [
            "Picture of Rohit Shirsath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "The endpoint has to be \"/mdl371/mod/lti/services.php/8/lineitems/33/lineitem/scores?type_id=5\" instead of \"/mdl371/mod/lti/services.php/8/lineitems/33/lineitem?type_id=5/scores\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 13, 2020, 12:45 AM",
          "AuthorName": "Kousel Mathi Chandrashekaran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2953318&course=5",
          "role": [
            "Picture of Kousel Mathi Chandrashekaran"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "Changing the endpoint in that way results in effectively the same error:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 28, 2020, 1:00 AM",
          "AuthorName": "Ken Champeon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3046300&course=5",
          "role": [
            "Picture of Ken Champeon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "Does anyone know what the type_id parameter means? It does not seem to be part of the IMS spec for LTI 1.3, so maybe its specific to Moodle but it would be nice to know what it means. I played around in Postman and tried changing it to different numbers and it didnt appear to make any change. Many thanks, Tom",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 22, 2020, 8:38 PM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "This solution worked for me. When my previous url was: \" /mod/lti/services.php/5/lineitems/8/lineitem?type_id=3/scores \"...this was the error I was getting: \n```text\n{\"status\"=>400, \"reason\"=>\"No handler found for /5/lineitems/8/lineitem  application/vnd.ims.lis.v1.score+json\", \"request\"=>{\"method\"=>\"POST\", \"url\"=>\"/mod/lti/services.php/5/lineitems/8/lineitem?type_id=3%2Fscores\", \"accept\"=>\"*/*\", \"contentType\"=>\"application/vnd.ims.lis.v1.score+json\"}}\n```\n Then I changed the url to \" /mod/lti/services.php/5/lineitems/8/lineitem/scores?type_id=3 \" and everything works fine now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 26, 2020, 3:55 AM",
          "AuthorName": "Karen Ling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3410832&course=5",
          "role": [
            "Picture of Karen Ling"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "Hello @Karen I applied your solution and got a 401 Unauthorized error, it seems to me that I am missing a token? where can i find it? thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2021, 5:14 PM",
          "AuthorName": "Youness Madhoun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4272230&course=5",
          "role": [
            "Picture of Youness Madhoun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "Youness, see my reply here: https://moodle.org/mod/forum/discuss.php?d=423618#p1707467",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 9:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 413578,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=413578",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Gradebook Issue: lis_result_sourcedid passing as \"{\"",
          "Text": "When students are launching into our tool the value of lis_result_sourcedid is being passed as \"{\". For this reason, when we attempt to post a grade the call fails. I have search all over and have not been able to figure out the cause of this. I have seen this across clients so it does not seem to be specific to a single client of ours. Any help would be much appreciated. Also this is an LTI 1.0/1.1 tool. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 10, 2020, 4:33 AM",
          "AuthorName": "Jason Fill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3844085&course=5",
          "role": [
            "Picture of Jason Fill"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Gradebook Issue: lis_result_sourcedid passing as \"{\"",
          "Text": "Hi Jason, If the launch happens over 1.1 like you say, the value Moodle sends for lis_result_sourcedid will be a JSON string, which can then be saved by tools and sent back during grade sync. That '{' is only the first character. I'd suggest troubleshooting the launch and seeing why the rest of the data isn't present in that field. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 21, 2021, 2:52 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 416540,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=416540",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to auto-enrol users in course through LTI",
          "Text": "We are using our moodle as an LTI provider for blackboard (for certain assessments). We would like to populate all of the users from the blackboard course before they first click the link to moodle (some of our students need extra time on their tests). I would guess the 'Publish as LTI tool users sync' would take care of that, but it does not. Is there something wrong with my understanding, or is there another problem: the sync service is up and running.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2021, 12:57 AM",
          "AuthorName": "Niels Walet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=14488&course=5",
          "role": [
            "Picture of Niels Walet"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to auto-enrol users in course through LTI",
          "Text": "Hi Niels, Apologies for the late response. I've just started taking care of this forum and am working through a number of old posts still. The short answer to your question is 'Yes' (sort of). It is possible to sync users before the students themselves launch the tool from the consumer site, however, this doesn't really add much because access to the shared resource is dependent on the resource link launch, at which point roles are assigned and access granted. There is a comment way back on the issue that introduced role sync that highlights this limitation: See here . The member sync task is perhaps most useful when revoking access to the resource, when the platform/consumer enrolments change, or the provider's enrolment method end date is reached. I suspect your use case needs some further unpacking too. You mention extra time on tests but I'm curious how you see that working. Is early access to the resource not something you can control (via access control to the resource link for example) on the consumer site? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 21, 2021, 2:31 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421351,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421351",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI authentication not working when embedded; allow frame embedding enabled",
          "Text": "Hi All, I'm facing this problem regularly and still cannot find a solution; also not in https://moodle.org/mod/forum/discuss.php?d=345828 . We are running 2 Moodle 3.9 websites; both HTTPS. The LTI provider published a whole course. This website used a normal moodle theme (boost) (so no probem with favicons) All settings are done as decribed in moodle docs : Enable LTI authentication plugin Enable Publish as LTI tool Allow frame embedding = On In the LTI consumer: Add external tool use cartridge URL and secret key use some text as consumer key launch container default or embed When I click on the external tool as a student, the login page of the LTI provider is shown. When I change the launch container to new window, I can directly access the content as expected. I tried the Saltire tool platform with my own LTI provider and the launch container embed. When I click on connect, this message is sent out: \n```text\nGET /tc-profile.php/sdd40c1026ba45a96721f49d3eb16ad24 HTTP/1.1\nAccept: application/vnd.ims.lti.v2.toolconsumerprofile+json\nHost: saltire.lti.app\n```\n Response: \n```text\nHTTP/1.1 400 Bad Request\nDate: Fri, 23 Apr 2021 08:24:18 +0000\n\nServer\n: \nApache\n\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\n\nCache\n-Control: no-store, no-cache, must-revalidate\nPragma: no-cache\n```\n Although it seems to work when opening in new window, we would like to use the content embedded. Is there anyone who could help?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 23, 2021, 4:34 PM",
          "AuthorName": "Jorine Koenderman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2705416&course=5",
          "role": [
            "Picture of Jorine Koenderman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI authentication not working when embedded; allow frame embedding enabled",
          "Text": "Hi Jorine, This seems related to another report - https://moodle.org/mod/forum/discuss.php?d=418339 . Can you add what browser you're using, whether you're running in incognito mode or not and whether this is a problem in other browsers? Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 18, 2021, 1:22 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 418339,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=418339",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI shows login screen of another platform",
          "Text": "Hi, I have seen the \" https://moodle.org/mod/forum/discuss.php?d=345828 \" LIT Authentication post..but still m not able to resolve this error. I am using Moodle Moodle 3.9.1+ as LTI Provider and Moodle 3.10.1+ as LTI Consumer both are on http server I have done all the steps required for configuring LTI in both moodle but when I integrate the LTI on I am getting redirected to the login page of other site. Although I can see the enrolled users in LTI provider site",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1685542/Screenshot%202021-02-15%20at%202.14.06%20PM.png?forcedownload=1"
          ],
          "Time": "Monday, February 15, 2021, 4:49 PM",
          "AuthorName": "Parul Prakash",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2347664&course=5",
          "role": [
            "Picture of Parul Prakash"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI shows login screen of another platform",
          "Text": "I have the same problem, too and i have looked through the post mentioned above with no results. My provider is a moddle 35 and my consumer is a moodle 39. And whenever I select the Launch Container as either \"Embed\" or \"Embed, without blocks\" it shows the login screen and when I select \"Existing window\" or \"New window\" it works perfectly fine and asks me for the Data Protection confirmation as it should for new users. In both cases I can see the account created by LTI on the Provider moodle. And obviously there is nothing wrong with the url's because it works in new windows but for completeness sake, The url generated and used after saving the cartridge url ends with \"/enrol/lti/tool.php?id=\". So obviously there seem to be a problem with passing the login data to the frame or something. Does anybody have any help for that? EDIT: So basically the same problem as described here ( https://moodle.org/mod/forum/discuss.php?d=421351 ). Though there is no answer either",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Thursday, June 17, 2021, 3:58 PM",
          "AuthorName": "Jeremy Schulz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4262742&course=5",
          "role": [
            "Picture of Jeremy Schulz",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI shows login screen of another platform",
          "Text": "Here are the access logs for the provider moodle if that is important: When the \"Embed\" option is selected it goes directly from course view to login: \"POST /enrol/lti/tool.php?id=1 HTTP/2.0\" 303 753 \"<consumer-Moodle url>\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36\" \"GET /course/view.php?id=3 HTTP/2.0\" 303 634 \"<consumer-Moodle url>\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36\" \"GET /login/index.php HTTP/2.0\" 200 22343 \"<consumer-Moodle url>\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36\" while when using the a \"Window\" option it takes the user to policy acceptance as it should: \"POST /enrol/lti/tool.php?id=1 HTTP/2.0\" 303 753 \"<consumer-Moodle url>\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36\" \"GET /course/view.php?id=3 HTTP/2.0\" 303 573 \"<consumer-Moodle url>\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36\" \"GET /admin/tool/policy/index.php HTTP/2.0\" 303 840 \"<consumer-Moodle url>\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36\" \"GET /admin/tool/policy/view.php?versionid=1&returnurl=https%3A%2F%2F<provider-Moodle url>%2Fadmin%2Ftool%2Fpolicy%2Findex.php&numpolicy=1&totalpolicies=1 HTTP/2.0\" 200 71005 \"<consumer-Moodle url>\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36\" EDIT1: Okay actually this error seems to only occur when using incognito mode to access the consumer moodle and then clicking on the lti item and it works as expected in guest or normal mode, so I guess it is fine. I assume this is due to the fact that chrome introduced the blocking of third party apps by default some time back ( https://support.google.com/chrome/answer/9977812?hl=en ) but that is just a guess.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 17, 2021, 5:01 PM",
          "AuthorName": "Jeremy Schulz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4262742&course=5",
          "role": [
            "Picture of Jeremy Schulz",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI shows login screen of another platform",
          "Text": "Hi Jeremy, Yes, this could be a cause of the problem, depending which version of chrome you're using and how it's configured. We addressed the chrome samesite cookies issue a while back, but it looks like you're running 3.9 so that shouldn't be a problem. You'll want to consider upgrading that 3.5 site though, since that is now out of support. That said, I've had reports from a few sources of tool launch issues from versions of Moodle which should have received that patch, so there may be more to it. If you find yourself in that situation, please check out the response headers in the browser dev tools and post back here if you find any 'Set-Cookie' headers there. That seems to be the symptom to a potential problem that I've yet to track down. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 18, 2021, 1:05 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 415164,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415164",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Content Item Selection Requests",
          "Text": "Hi all, maybe I'm missing something here, but is there not a way for Moodle (as a TP) to display a content selection dialog as a response to a message with lti_message_type: ContentItemSelectionRequest as specified in LTI 1.1? Publishing via external tools just means launch requests, right? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 10, 2020, 2:12 AM",
          "AuthorName": "Simon Schwarz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3928214&course=5",
          "role": [
            "Picture of Simon Schwarz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Content Item Selection Requests",
          "Text": "Hi Simon, That's right. For 1.1 (the current tool provider implementation), there's only support for normal launches, not deep linking launches. That's coming when we update the provider to 1.3 shortly. You can follow that work in MDL-69542 . Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 4:07 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Content Item Selection Requests",
          "Text": "Hi Jake,\n\nIf I am understanding you correctly, are you saying you can NOT use the \"select content\" option when adding an external tool - if the external LTI is 1.1? I have tried adding an 1.1 LTI to moodle, following the instructions provided by the external LTI and when I choose 'select content' I am able to select a piece of content, but then the response simply updates the modal window to show the moodle login screen. I have tried this on the demo instance available at moodle.org and my own instance - same result.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1706444/screenshot%20-%20moodle%20response.png?forcedownload=1"
          ],
          "Time": "Friday, June 18, 2021, 5:24 AM",
          "AuthorName": "Anthony Rae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4291181&course=5",
          "role": [
            "Picture of Anthony Rae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Content Item Selection Requests",
          "Text": "Hi Anthony, If I am understanding you correctly, are you saying you can NOT use the\n\"select content\" option when adding an external tool - if the external LTI is 1.1? Not quite. What I meant was the the Moodle LTI Tool Provider (where Moodle IS the tool, consumed by some other system) doesn't support content selection at all. As a Tool Consumer, like in your instance, Moodle should be able to process deep linking returns.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 18, 2021, 12:06 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423362,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423362",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "A central repository of resources for many schools",
          "Text": "A LTI noob wants to distribute own, identical Moodle course contents to many schools. The content, mostly PDF, some audio files and some H5P activities , are already put together in to a Moodle course. So theoretically restoring a course backup in all the school Moodles would solve the problem. BTW , the idea of duplicating the course is to give the teachers in the respective schools autonomy in their courses. Now the problem: The material will be constantly updated. How does one update the duplicates? LTI seems to be the answer. So the content can be kept in the original Moodle and exported through LTI to the satellites. Am I right? Thinking of it, I see the trade-off between disk space (duplicates) against network traffic, every user in all the schools will be fetching those resources from a single (the central) Moodle. What is your experience?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 12, 2021, 12:46 AM",
          "AuthorName": "Varenne Riocha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2604148&course=5",
          "role": [
            "Picture of Varenne Riocha"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: A central repository of resources for many schools",
          "Text": "I tried linking a PDF from one site to another, both Moodle 3.9.7. On the provider side https://docs.moodle.org/39/en/Publish_as_LTI_tool#Enabling_.27Publish_as_LTI_tool.27_at_site_level and https://docs.moodle.org/39/en/Publish_as_LTI_tool#Sharing_access_to_a_course_or_activity I came this far: On the consumer side, I am at: How to continue? What is \"Tool URL \"? There are three URLs on the other side - Cartridge URL, Launch URL and Registration URL - but no Tool URL! And also, where to in Preconfigure tool? Follow the '+'?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1706117/lti-1.png?time=1623765060396",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1706117/lti-2.png"
          ],
          "Time": "Tuesday, June 15, 2021, 9:48 PM",
          "AuthorName": "Varenne Riocha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2604148&course=5",
          "role": [
            "Picture of Varenne Riocha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: A central repository of resources for many schools",
          "Text": "Found by trial-and-error, the Tool URL is the Launch URL on the Moodle provider side. Hint: Once you enter the URL Moodle shows a yellow or green signal. Still getting the \"A required parameter (oauth_consumer_key) was missing\" https://docs.moodle.org/39/en/error/moodle/missingparam error. ???",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 16, 2021, 1:03 AM",
          "AuthorName": "Varenne Riocha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2604148&course=5",
          "role": [
            "Picture of Varenne Riocha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: A central repository of resources for many schools",
          "Text": "Update: I had to change the site URL of both sites for unrelated reasons. Now I see that the first site appears in a frame inside the second site as the External tool activity.  Not exactly what I wanted, I thought I exported a PDF, still. I'm sure, I haven't changed anything related to LTI, perhaps it is the login - am 'admin' in both. I saw in the documentation that the user has to be the same. What does that mean? The same username? I have only manual registrations on both sites so far.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 16, 2021, 5:14 PM",
          "AuthorName": "Varenne Riocha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2604148&course=5",
          "role": [
            "Picture of Varenne Riocha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: A central repository of resources for many schools",
          "Text": "Got a file (PDF) linked too. It was a beginner's error. I think the delay I had from exporting the tool to viewable in the External tool was the cron of the exporting site. Whatever.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 17, 2021, 4:46 AM",
          "AuthorName": "Varenne Riocha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2604148&course=5",
          "role": [
            "Picture of Varenne Riocha"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 419091,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=419091",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "\"error : invalid_request\" is coming instead of id_token in LTI 1.3 sporadically",
          "Text": "Hello, We are using LTI 1.3 tool in moodle 3.8 version ( http://3plcgmoodleprd.prd-prsn.com/moodle38/ ) and experiencing a sporadic issue when launching LTI 1.3 tool for the second time and also after refreshing the page. For a valid tool launch, when Moodle calls to target link URL we are expecting a parameter called id_token along with the JWT as a value, but sporadically we are observing a form data as \"error: invalid_request\". How can we resolve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 2, 2021, 10:16 PM",
          "AuthorName": "Janaka Pushpakumara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4113434&course=5",
          "role": [
            "Picture of Janaka Pushpakumara"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"error : invalid_request\" is coming instead of id_token in LTI 1.3 sporadically",
          "Text": "Hello, Is there anyone having an idea about this? We are still facing this issue in Moodle 3.8 version.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 30, 2021, 3:34 PM",
          "AuthorName": "Damith Perera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3244687&course=5",
          "role": [
            "Picture of Damith Perera"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"error : invalid_request\" is coming instead of id_token in LTI 1.3 sporadically",
          "Text": "Hello, we are having the same issue, when Moodle calls our LTI tool it makes the call without id_token set correctly. The form data is \"error:invalid_request\". We see this on moodle version 3.9 as well as 3.10.4 Any updates to this issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 9, 2021, 5:06 AM",
          "AuthorName": "Heesoo Jang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4279428&course=5",
          "role": [
            "Picture of Heesoo Jang"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"error : invalid_request\" is coming instead of id_token in LTI 1.3 sporadically",
          "Text": "I had a similar problem where id_token was missing. My issue was that the client_id was not configured correctly on my tool's database , which caused the JWT to not decrypt properly. So, double-check the client_id on your tool's database. Also, it may help to remove and remake the tool configuration from Moodle, and then double-check the client_id again (since it would have changed when you remade the tool).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 5:53 AM",
          "AuthorName": "Benjamin Maerkle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4280963&course=5",
          "role": [
            "Picture of Benjamin Maerkle"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"error : invalid_request\" is coming instead of id_token in LTI 1.3 sporadically",
          "Text": "Hi Janaka (and others) Any chance you can inspect the launches using your browser dev tools (the network tab, filtering on 'Doc' or 'HTML') and see if there's anything erroneous in there? Any warnings, etc. What is the response from mod/lti/auth.php, for example? TIA Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 1:08 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"error : invalid_request\" is coming instead of id_token in LTI 1.3 sporadically",
          "Text": "Hi Jake, yes, we investigated that and there wasn't any erroneous things in browser dev tool network. Further more As per our observation, this issue is associated with tool launch. We tried to reproduce the bug with following different combinations. Browser Is Produced",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1705655/error.PNG?forcedownload=1"
          ],
          "Time": "Saturday, June 12, 2021, 1:16 PM",
          "AuthorName": "Janaka Pushpakumara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4113434&course=5",
          "role": [
            "Picture of Janaka Pushpakumara"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421235,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421235",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Manage Tools option is not showing under the Plugins tab",
          "Text": "Hello, The Manage Tools option is not showing under the Plugins tab in my Moodle account. Site administration > Plugins > Activity modules > External tool> Manage tools https://www.screencast.com/t/miecHuJih How can I enable the Manage Tools option?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 21, 2021, 1:26 PM",
          "AuthorName": "Shashank Gupta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2511128&course=5",
          "role": [
            "Picture of Shashank Gupta"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Manage Tools option is not showing under the Plugins tab",
          "Text": "Hi Shashank, You need to enable the \"External Tool\" module, which you can do via \"Manage Activities \" (the first entry under \"Activity Modules\" in your screenshot). Just click the eye. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 3:58 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422667,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422667",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to get all the files from the Moodle assignment in a course?",
          "Text": "I want to get all the files from an assignment in Moodle. Is there a way to get all the files? When I call core_course_get_contents from my local Moodle instance as http://localhost:8077/webservice/rest/ server .php?wstoken=11e2d8b7f8e21ca1804e41e9cac5a816&wsfunction=core_course_get_contents&courseid=4&moodlewsrestformat=json I receive the response as: \n```text\n[\n    {\n        \"id\": 22,\n        \"name\": \"General\",\n        \"visible\": 1,\n        \"summary\": \"\",\n        \"summaryformat\": 1,\n        \"section\": 0,\n        \"hiddenbynumsections\": 0,\n        \"uservisible\": true,\n        \"modules\": []\n    },\n    {\n        \"id\": 23,\n        \"name\": \"Introduction\",\n        \"visible\": 1,\n        \"summary\": \"\",\n        \"summaryformat\": 1,\n        \"section\": 1,\n        \"hiddenbynumsections\": 0,\n        \"uservisible\": true,\n        \"modules\": [\n            {\n                \"id\": 44,\n                \"url\": \"http://localhost:8077/mod/assign/view.php?id=44\",\n                \"name\": \"Assignment\",\n                \"instance\": 3,\n                \"contextid\": 99,\n                \"visible\": 1,\n                \"uservisible\": true,\n                \"visibleoncoursepage\": 1,\n                \"modicon\": \"http://localhost:8077/theme/image.php/boost/assign/1613571924/icon\",\n                \"modname\": \"assign\",\n                \"modplural\": \"Assignments\",\n                \"indent\": 0,\n                \"onclick\": \"\",\n                \"afterlink\": null,\n                \"customdata\": \"\\\"\\\"\",\n                \"noviewlink\": false,\n                \"completion\": 1,\n                \"completiondata\": {\n                    \"state\": 0,\n                    \"timecompleted\": 0,\n                    \"overrideby\": null,\n                    \"valueused\": false\n                }\n            },\n            {\n                \"id\": 46,\n                \"url\": \"http://localhost:8077/mod/resource/view.php?id=46\",\n                \"name\": \"test(.txt)\",\n                \"instance\": 24,\n                \"contextid\": 102,\n                \"visible\": 1,\n                \"uservisible\": true,\n                \"visibleoncoursepage\": 1,\n                \"modicon\": \"http://localhost:8077/theme/image.php/boost/core/1613571924/f/text-24\",\n                \"modname\": \"resource\",\n                \"modplural\": \"Files\",\n                \"indent\": 0,\n                \"onclick\": \"\",\n                \"afterlink\": null,\n                \"customdata\": \"\\\"a:1:{s:10:\\\\\\\"printintro\\\\\\\";i:1;}\\\"\",\n                \"noviewlink\": false,\n                \"completion\": 1,\n                \"completiondata\": {\n                    \"state\": 0,\n                    \"timecompleted\": 0,\n                    \"overrideby\": null,\n                    \"valueused\": false\n                },\n                \"contents\": [\n                    {\n                        \"type\": \"file\",\n                        \"filename\": \"test.txt\",\n                        \"filepath\": \"/\",\n                        \"filesize\": 935,\n                        \"fileurl\": \"http://localhost:8077/webservice/pluginfile.php/102/mod_resource/content/1/test.txt?forcedownload=1\",\n                        \"timecreated\": 1621949734,\n                        \"timemodified\": 1621949744,\n                        \"sortorder\": 1,\n                        \"mimetype\": \"text/plain\",\n                        \"isexternalfile\": false,\n                        \"userid\": 2,\n                        \"author\": \"ABC\",\n                        \"license\": \"unknown\"\n                    }\n                ],\n                \"contentsinfo\": {\n                    \"filescount\": 1,\n                    \"filessize\": 935,\n                    \"lastmodified\": 1621949744,\n                    \"mimetypes\": [\n                        \"text/plain\"\n                    ],\n                    \"repositorytype\": \"\"\n                }\n            }\n        ]\n    }\n]\n```\n I want to get the files from the assignment. Is there a way to achieve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 25, 2021, 11:17 PM",
          "AuthorName": "DP Bhatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2718877&course=5",
          "role": [
            "Picture of DP Bhatt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to get all the files from the Moodle assignment in a course?",
          "Text": "Hi DP, You've posted this in the LTI forum. I'd suggest asking this over in the general developer forum here: https://moodle.org/mod/forum/view.php?id=55 Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 3:51 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423298,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423298",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI version",
          "Text": "Hi, Sorry I am new to Moodle. We are on 3.9 and is planning to up for 3.10.4. How do I check what LTI version is running in 3.9 and when we upgrade to 3.10.4. Is there a LTI plugin we need to install or it comes as the 3.10.4 package? Any help would be appreciated. Thanks Joyce",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 6:07 PM",
          "AuthorName": "Joyce Lam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=945950&course=5",
          "role": [
            "Picture of Joyce Lam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI version",
          "Text": "Hi Joyce, Both 3.9 and 3.10 are certified for both 1.1 and 1.3. You can view Moodle's IMS certifications here: https://site.imsglobal.org/certifications/moodle/moodle . You don't need any extra plugins to consume tools over either 1.1 or 1.3. This functionality comes as part of the standard Moodle install. You can see the docs on that here: https://docs.moodle.org/311/en/External_tool_settings#Adding_a_tool_site-wide . Currently, LTI Advantage (1.3) is the recommended means to consume tools. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 12:30 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI version",
          "Text": "Great! Thanks Jake. Joyce",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 2:09 PM",
          "AuthorName": "Joyce Lam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=945950&course=5",
          "role": [
            "Picture of Joyce Lam"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421042,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421042",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Sync Grades isn't working moodle > blackboard",
          "Text": "I'm using moodle 3.5.3+ (Build: 20181113) as LTI provider. and i'm trying to Launch the moodle course from Blackboard \" LTI consumer\" When i try to run the cron \"Publish as LTI tool grade sync\" i get this message --------------------------------- \n```text\nExecute scheduled task: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades)\n... started 15:46:19. Current memory use 8.5MB.\nStarting - Grade sync for shared tool '2' for the course '33'.\nCompleted - Synced grades for tool '2' in the course '33'. Processed 0 users; sent 0 grades.\n\nStarting - Grade sync for shared tool '4' for the course '80'.\nSkipping - Empty serviceurl for the user '6138' in the tool '4' for the course '80'.\nSkipping - Empty serviceurl for the user '6141' in the tool '4' for the course '80'.\nCompleted - Synced grades for tool '4' in the course '80'. Processed 2 users; sent 0 grades.\n\n... used 4 dbqueries\n... used 0.0018918514251709 seconds\nScheduled task complete: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades)\n```\n --------------------------------- I already added my domain to the trusted list of providers on blackboard and allowed access to membership service Also to check if there could be any interruptions i ran a cURL on my moodle server to blackboard site and i'm getting a reply Any ideas about what my next steps could be ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 15, 2021, 10:52 PM",
          "AuthorName": "Waleed Kotb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2158515&course=5",
          "role": [
            "Picture of Waleed Kotb"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Sync Grades isn't working moodle > blackboard",
          "Text": "Hi Waleed, The fact that you have an empty serviceurl appears to be the issue. The grade sync task is running but doesn't know what endpoint to call to return the grades. This is a field on the enrol_lti_users table. This serviceurl is set for each user when the (consumer) user launches the tool activity. I suspect this isn't being sent, perhaps due to a configuration issue in Blackboard. Maybe the tool definition there isn't set up to allow gradesync, and so doesn't send the lis_outcome_service_url field - but that's just a guess. I don't have access to Blackboard and can't confirm. You'd ideally need to troubleshoot the launch data and work out why the serviceurl isn't being sent. Hope that gives you something to go on. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 12:46 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421440,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421440",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Cannot translate preconfigured tool name and description",
          "Text": "When I try to add multilang spans to my tool name and description, these are not working. They are not even shown in strings. How can I obtain name and description in different languages for my preconfigured tool? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 26, 2021, 11:45 PM",
          "AuthorName": "Chiara Di Terlizzi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4053279&course=5",
          "role": [
            "Picture of Chiara Di Terlizzi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cannot translate preconfigured tool name and description",
          "Text": "Hi Chiara, We would like for this to support multilang, however, the issue that proposed this ( https://tracker.moodle.org/browse/MDL-60595 ) needed more work, and was reopened. Please feel free to add your +1 to that issue in hope Luca will pick it up again and get it over the line. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 3:59 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Cannot translate preconfigured tool name and description",
          "Text": "I voted, thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 5:15 PM",
          "AuthorName": "Chiara Di Terlizzi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4053279&course=5",
          "role": [
            "Picture of Chiara Di Terlizzi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421424,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421424",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3",
          "Text": "Hello, I have created a tool in reference tools in IMS and I have the tool launch url, tool deep link url etc. I have created an external tool in Moodle using these urls, but when I try to add it as a resource to a course I have this error: URL ERROR IN AUTHORIZATION, NO ROUTE MATCHES. Thank you in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 26, 2021, 8:20 PM",
          "AuthorName": "Michail Kilikis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4216837&course=5",
          "role": [
            "Picture of Michail Kilikis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3",
          "Text": "Hi Michail, That error isn't something Moodle generates. You're likely going to need to step through your tool code to work out what's generating that. Sorry I can't be of more help. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 4:00 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422136,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422136",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "\"guid\" parameter is missing from the LtiDeepLinking request payload in Moodle v3.8",
          "Text": "Moodle v3.8 LtiDeepLinking request payload is missing the LTI parameter called \"guid\" from \" https://purl.imsglobal.org/spec/lti/claim/tool_platform \" object. However, under the LTI 1.3 general payload, the parameter is available. In LtiDeepLinking request Payload: \" https://purl.imsglobal.org/spec/lti/claim/tool_platform \": { \"family_code\": \"moodle\", \"version\": \"2019111801.09\", \"name\": \"Moodle38PHP72PROD\", \"description\": \"moodle3.8 php7.2 prod\" } In LTI 1.3 general payload: \" https://purl.imsglobal.org/spec/lti/claim/tool_platform\": { \"family_code\": \"moodle\", \"version\": \"2019111801.09\", \"guid\": \"3plcgmoodleprd.prd-prsn.com\", \"name\": \"Moodle38PHP72PROD\", } Any idea why the parameter is not being passed? Is the \"guid\" parameter not considered as mandatory?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 12, 2021, 5:57 PM",
          "AuthorName": "Shanushika Iswera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4230448&course=5",
          "role": [
            "Picture of Shanushika Iswera"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"guid\" parameter is missing from the LtiDeepLinking request payload in Moodle v3.8",
          "Text": "Hi Shanushika, You're right in that 'guid' should be included if that claim is included (the claim is optional, however, the property is required if the claim is sent). The examples in Deep Linking 2.0 spec don't include this, which could be part of the reason why this was originally omitted (a guess). In any case, 3.8 is now out of support and this problem has been fixed in 3.9 onwards (see MDL-67612 ). Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 3:56 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422481,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422481",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How accurate is enrolment via lti on a course?",
          "Text": "Hello, I have a moodle course allowing enrolment through LTI (for various schools). I wanted to take a look at the usage of the course by the schools without having to contact them all (as there are over 100). So far, in participants, I have been filtering the schools name to see how many users are enrolled and when they last accessed the course. I wanted to ask how accurate is this reporting? Many schools use different VLEs such as blackboard and canvas, will it still capture those users? Also, is there an easier way of doing this? Essentially I wanted to see how many of the schools have added the moodle course to their vle (through LTI/ external tool). I believe a lot of the schools may be signing up for it and not end up using it, so I wanted to capture how many have put it on their VLE. I have moodle v3.8.1(build: 20200221). Thanks, Kathryn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 20, 2021, 6:32 PM",
          "AuthorName": "Kathryn Woodhead",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4232397&course=5",
          "role": [
            "Picture of Kathryn Woodhead"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How accurate is enrolment via lti on a course?",
          "Text": "Hi Kathryn, A couple of questions: Are you using more than one enrolment method for the course in question? One per school for example? When you say that you're filtering by the school's name, how exactly are you doing this? Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 3:06 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421832,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421832",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to configure Deep link launch URLs with path parameters and query parameters for Moodle v3.8, 3.9 & 3.10?",
          "Text": "We are implementing LTI 1.3 Deep linking functionality for moodle 3.8, 3.9, 3.10 and as per our design deep link launch URLs have path parameters and query parameters. However, w hen these links are launched the following error is observed: error: invalid_request error_description: Unregistered redirect_uri https:// Deep link launch url> Please guide us on how can we add URLs with dynamic path parameters and query parameters to the redirect_urls section of the tool? Does moodle support wildcards?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 5, 2021, 7:27 PM",
          "AuthorName": "Shanushika Iswera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4230448&course=5",
          "role": [
            "Picture of Shanushika Iswera"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to configure Deep link launch URLs with path parameters and query parameters for Moodle v3.8, 3.9 & 3.10?",
          "Text": "Hi Shanushika, It sounds like you're building a tool that returns content items via the deep linking content selection flow. Normally, the custom property of the linkitem ( https://www.imsglobal.org/lti/model/mediatype/application/vnd/ims/lti/v1/contentitems%2Bjson/index.html#LtiLinkItem ) is what's used to return arbitrary data alongside a content item (e.g. guid of the item), for use in the subsequent launch of said item later on, via a generic launch URL (tool/launch.php). Then, during launch, the custom claim ( http://www.imsglobal.org/spec/lti/v1p3/#custom-properties-and-variable-substitution ) is used to send this information over to the tool. Effectively you're using a claim to send this data back and forth, rather than via URL params. Does this answer your question? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 2:46 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422789,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422789",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI 1.3 assignment get route gives \"No context or unsupported content type\" bad syntax error",
          "Text": "Hello, We are using LTI 1.3 tool in moodle 3.8( http://3plcgmoodleprd.prd-prsn.com/moodle38/ )  and 3.9( http://3plcgmoodleprd.prd-prsn.com/moodle39/ ) versions. When we try to execute Moodle LTI 1.3 assignments get route it gives the following error of \" 400 No context or unsupported content-type \". How can we resolve this? Route: http://3plcgmoodleprd.prd-prsn.com/moodle38/mod/lti/services.php/ {moodleCourseId}/lineitems?type_id={typeId} { \"status\": 400, \"reason\": \"No context or unsupported content type\", \"request\": { \"method\": \"GET\", \"url\": \"/moodle38/mod/lti/services.php/{moodleCourseId}/lineitems?type_id={typeId}\", \"accept\": \"*/*\" } }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 28, 2021, 3:04 PM",
          "AuthorName": "Vinodya Bandara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4263636&course=5",
          "role": [
            "Picture of Vinodya Bandara"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI 1.3 assignment get route gives \"No context or unsupported content type\" bad syntax error",
          "Text": "Hi All, Any update on this issue? We observe the same behavior in moodle 3.10( http://3plcgmoodleprd.prd-prsn.com/moodle310/ ) instance as well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 7, 2021, 5:33 PM",
          "AuthorName": "Vinodya Bandara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4263636&course=5",
          "role": [
            "Picture of Vinodya Bandara"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 400365,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=400365",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "External tool URL field disappears in edit mode v3.7.3",
          "Text": "Hello, I would like to edit the URL in an external tool, Moodle 3.7.3 with the Edit Settings tool. The page partially loads and I see the URL field, but when it fully loads the field is gone, even in the show more view. This happens intermittently, only for some links, not others. Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 11, 2020, 12:24 AM",
          "AuthorName": "Polly Helm",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=223047&course=5",
          "role": [
            "Picture of Polly Helm"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External tool URL field disappears in edit mode v3.7.3",
          "Text": "Same here! Moodle 3.9.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2021, 12:00 AM",
          "AuthorName": "Susana L.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141886&course=5",
          "role": [
            "Picture of Susana L.",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tool URL field disappears in edit mode v3.7.3",
          "Text": "So I see what you mean. This only happens with 1 of my 6 external tool services. It is visible on page loads, then immediately gets flagged with [hidden] and disappears. This then is probably specific to the tool. Are you able to check the Tool URL set up in Site Administration - Plugins - Activities - External tool - manage. Are you able to talk with the tool service provider to see what the configuration should be?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1678794/with.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1678794/without.png?forcedownload=1"
          ],
          "Time": "Thursday, January 14, 2021, 7:57 AM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tool URL field disappears in edit mode v3.7.3",
          "Text": "Sorry for replying to the old thread but this one comes up as the first link when you google \"Moodle LTI URL Disappears\". So to help out anyone with this issue the solution is indeed simple. As John points out, it is in the tool provider configuration, but it doesn't have anything to do with the provider themselves. The solution is to go to Site Administration > Plugins > External Tools > Manage Tools and edit the configuration of the tool. Under \"Tool configuration usage\" set the drop down to, \"Do not show; use only when a matching tool URL is entered.\" First, a nod to the use of a semicolon. That setting prevents the preconfigured URL from disappearing when you edit a link.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1702944/Screen%20Shot%202021-05-25%20at%2012.52.49%20PM.png",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, May 26, 2021, 1:01 AM",
          "AuthorName": "Blaine Helmick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1503341&course=5",
          "role": [
            "Picture of Blaine Helmick"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422614,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422614",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI error \"(site.com) refused to connect\"",
          "Text": "Moodle 3.9 External Tool consumer gets error \"(site.com) refused to connect\" after creating user and enrollment on Moodle 3.5 LTI Tool.  Consumer using cartridge URL , both sites are https. What does the \"Force SSL\" setting in the consumer privacy setting impact, it is not checked in the existing consumer. TIA , Frank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 24, 2021, 10:28 PM",
          "AuthorName": "Frank Vierling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399964&course=5",
          "role": [
            "Picture of Frank Vierling"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 420066,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=420066",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course restoration from moodle 3.5 integrated with LTI and canvas to satnd alone moodle 3.10",
          "Text": "Hi, I have a moodle 3.5 site integrated with LTI and canvas which is to be migrated to stand alone moodle 3.10 . I am trying to restore the course for the same. The earlier site had custom plugins which were used in course. While course restoration, am facing lot of dependency due to integration. Here, I would like to ask you people what would be the better to restore course in new stand alone moodle 3.10. can some one help me with this? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 24, 2021, 4:15 PM",
          "AuthorName": "Janvi MDL",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4158814&course=5",
          "role": [
            "Picture of Janvi MDL"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 419616,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=419616",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI and language learning",
          "Text": "Can anyone provide and LTI-compliant site for language learners that our site can use in the External Tool activity? https://gloss.dliflc.edu/ has tons of stuff but is not LTI-compliant. I'm looking for a use case of the External Tool activity for language learners.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 13, 2021, 8:34 PM",
          "AuthorName": "Greg Rudl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1827973&course=5",
          "role": [
            "Picture of Greg Rudl"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 379773,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=379773",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "Version 3.2.1+ I am trying to upload an LTI .imscc file to the course restore section. When I do this, I receive a message that says \"The selected file is not a valid Moodle backup file and can't be restored.\" I then backed up several of our course webs as .imscc files and received the same error when I tried to restore them. Additionally, the company that provided the file tested it on their Moodle instance and mentions having a button to convert the .imscc file to a Moodle file. My instance does not have this button/option. Additionally, I cannot find any settings for adding it in on the administrative level. Does anyone know if this version had a bug that prevents the .imscc file upload or if there is something that might specifically need to be turned on our fixed on our site to have this option added? Unfortunately, an upgrade is not possible for us until summer. So, here is to hoping that is not the only solution. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 12, 2018, 9:47 PM",
          "AuthorName": "Sarah Noah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2138321&course=5",
          "role": [
            "Picture of Sarah Noah"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "Version: Moodle Cloud 3.7.2 Sarah, did you ever solve this? I'm getting a similar issue and if there was a way to convert .imscc backup files to .mbz it likely would help me. If I backup a Moodle course as a .imscc file and download it, it appears to be successful. But when I try to restore that same file, even immediately after backing it up, it warns me as expected: \n```text\nThe selected file is\n \nnot a standard Moodle backup file. The restore process will try to convert the backup file into the standard format and then restore it.\n```\n It then continues to ask me about the Restore Settings (9 of 14 settings were a Red X; checkbox \"include activities and resources\" was checked ON). The Restore Process succeeds: \n```text\nThe course was restored successfully, clicking the continue button below will take you to view the course you restored.\n```\n But the restored course is an empty shell: Instead of my custom topic names, they are generically named \"Topic 1\", \"Topic 2\", ... The topic's summary is still intact, however! The topic summary is gone most of my Activities and Resources are gone . Moodle Docs lists 6 activities that .imscc will backup and restore, but I got 1-ish unfortunately. Forums: successfully restored at the top course section level only. All forums in sub topics are gone Labels: gone IMS LTI activity (external tool): unknown, I did not use this in my course Page resources: gone Quizzes (partial support): gone URL resources: gone Thanks, any information will be appreciated!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Saturday, November 16, 2019, 9:59 AM",
          "AuthorName": "Kelly Wiens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2562989&course=5",
          "role": [
            "Picture of Kelly Wiens"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "Hi have you solved this error ? i am getting same error please help me",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 21, 2020, 10:00 PM",
          "AuthorName": "Work Entertainment Point",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3145829&course=5",
          "role": [
            "Picture of Work Entertainment Point"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "As for me, I have no more info than before. So the best I can do is turn off the Default Backup setting for \"imscc\" and tell all my users to avoid the imscc‼ I hope you get farther than I did!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 21, 2020, 10:39 PM",
          "AuthorName": "Kelly Wiens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2562989&course=5",
          "role": [
            "Picture of Kelly Wiens"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "I am also getting the same error. The documentation states that imscc imports are supported, but I've not been able to find more guidance than that.  If someone in the know could confirm that it is/is not still supported, it would save me/us some time. The fact that the IMSCC validator disappeared in November makes me wonder if there is a new way of doing things.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 24, 2020, 10:18 AM",
          "AuthorName": "Daniel Berger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=47471&course=5",
          "role": [
            "Picture of Daniel Berger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "I dont think an upgrade will fix the issue, I've done the Q&A testing for Moodle 3.9 on this and it still fails. Some vendors actually use common cartridge lite, which doesn't work in Moodle, but I've attempted to upload non-lite versions and would still get an error so I think some Bug Trackers may need to be opened with exact steps to replicate so the community further investigate. You can submit one by clicking the \"Tracker\" link up in the menu bar.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 7, 2020, 5:30 AM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "Ok, a good tracker to follow about this situation is here: https://tracker.moodle.org/browse/MDL-68805 Certain IMSCC files are support and other are not (yet). I've just successfully restored a version 1.1, and just failed a restore of a version 1.0",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1634495/success.png?forcedownload=1"
          ],
          "Time": "Monday, June 8, 2020, 10:32 PM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "Hey, there. My university after nine years has finally mandated that we move to its Moodle platform, so I exported my classes from NEO LMS (CypherLearning.com) into an imscc (CCF) 1.2 version format and was unsuccessful in importing them to Moodle using Restore. Additionally, thanks to this thread (thanks, everyone!) I just became aware that Moodle does not support imscc 1.2 or 1.3, but just 1.0 and 1.1. It just boggles my mind that anyone using an LMS that exports in 1.2 cannot import into Moodle. I'm asking myself, \"How can the Moodle community allow this state of affairs to have dragged on since 2018 - or possibly even longer?\" \"What does this mean for the future of Moodle itself?\" I'm sitting in front of my computer reflecting on just how much work it is going to take to two-screen copy & paste my class into Moodle over the next weeks. Super frustrated and disillusioned with Moodle already... Is there anything I can do to convert my imscc 1.2 file into imscc 1.1 or 1.0? Open to suggestions and help, Greg",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1690636/Screen%20Shot%202021-03-09%20at%201.43.22%20PM.png?forcedownload=1"
          ],
          "Time": "Thursday, March 11, 2021, 1:31 PM",
          "AuthorName": "Greg Brooks-English",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3171193&course=5",
          "role": [
            "Picture of Greg Brooks-English"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "Hi Greg! I feel your pain! - I've been through a few of these sorts of projects myself (and supported a lot of our clients through similar projects) as you might have seen above - implementing IMSCC 1.2 would be quite a signficant chunk of work and the cost vs benefit is sometimes hard to justify - in fact, in many cases it's cheaper to pay a few students to manually migrate content from the old LMS to the new one and you often end up with a much higher quality course with a manual migration. Usually these automated migrations require a massive amount of tidy up work after the restore anyway - I remember when we were doing this for Webct -> Moodle many years ago - we found that the time saved using an import tool was quite minimal because you then had to spend a chunk of time re-organising the content in your course anyway. What might help is if you explain the types of content you have in your old course as we might be able to suggest some things that might help speed up the process for you! Moodle does support drag/drop of a number of different content types - so if you have files/images/ scorm zips you can just turn editing on in the course and then just drag the files on top of the course hompage - if you have quizzes in your old LMS there are posssibly other ways available to import your question banks too. good luck!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 12, 2021, 5:25 AM",
          "AuthorName": "Dan Marsden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21591&course=5",
          "role": [
            "Picture of Dan Marsden",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "Dan! Damn it's nice to get some empathy, if not much else. Thanks for feeling my pain, and the bigger picture view that manual imports are sometimes better than a converter due to misformatting issues. I was not aware of that and doing a manual transfer is not quite as intimidating. Also, the idea to get my TA involved was also helpful, but I think she'd be incredibly inefficient not being familiar with NEO LMS. Here is a screenshot of the types of content my classes usually have: Quizzes Surveys Discussion Boards/Forums Team Project Assignments Essays (students submit written work by copying and pasting from MS Word or upload files) I'm curious if there is a program that could open my ismcc 1.2 files so I can access files/images/scorm zips... Any idea on that? And is there program that could open my class and allow me actually interact with my classes independent of my previous LMS - NEO LMS. Any idea? NEO LMS does not permit the export of anything except the entire class in CCF 1.2; they are great on import (both Moodle and Blackboard!), but don't make it easy to export out of their system (It's the Hotel California! You can never leave!). I think one thing I'm appreciating about Moodle immediately on going all-in on it is that there is a community of people who care about each other and it's not about the money, but solidarity and sharing. We need more of this in the world. Cheers, Greg",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1690885/Snag_3eeb8b.png?forcedownload=1"
          ],
          "Time": "Friday, March 12, 2021, 5:12 PM",
          "AuthorName": "Greg Brooks-English",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3171193&course=5",
          "role": [
            "Picture of Greg Brooks-English"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "Hello Greg. Sorry I can't help with your problem as this isn't my field of expertise but I had to come and thank you for your great compliment \" I think one thing I'm appreciating about Moodle immediately on going all-in on it is that there is a community of people who care about each other and it's not about the money, but solidarity and sharing. We need more of this in the world. \" I wish we could shout that louder",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, March 12, 2021, 6:38 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "Big warm smile. 😍",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 12, 2021, 8:38 PM",
          "AuthorName": "Greg Brooks-English",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3171193&course=5",
          "role": [
            "Picture of Greg Brooks-English"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: imscc Common Cartridge File Not Importing, No Option to Convert File",
          "Text": "Imscc is just a custom zip format - rename the file to .zip instead of. Imscc (or whatever it's extension is) and then open it like a normal zip.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 13, 2021, 3:23 AM",
          "AuthorName": "Dan Marsden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21591&course=5",
          "role": [
            "Picture of Dan Marsden",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 419486,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=419486",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 invalid_request on POST OIDC",
          "Text": "Hello! I try to integrate my simple frontend app with LTI. This is my login response on OIDC POST: { \"scope\": \"openid\", \"response_type\": \"id_token\", \"client_id\": \"my_id\", \"redirect_uri\": \" https://lovely-liger-13.loca.lt/project/submit \", \"login_hint\": \"2\", \"state\": \"DFY7YkpCMGF16Y5by32CsT7MNhJjO8\", \"response_mode\": \"form_post\", \"nonce\": \"DJe0Ld2hr70CgFkHOWaHeeqRN\", \"prompt\": \"none\", \"lti_message_hint\": \"25\" } My configuration at Moodle side: Tool Url: https://lovely-liger-13.loca.lt Public key type: RSA with key provided in the following format: -----BEGIN PUBLIC KEY----- PbhHpvY3V7+gLFPFOjMOy8DJ6rig5jimokHu9zxmTiLtHvpdMCAwEAAQ==... -----END PUBLIC KEY----- Initiate login URL : https://lovely-liger-13.loca.lt/oidc Redirection URL(s): https://lovely-liger-13.loca.lt/project/submit When I try to initiate Launch I get 400 on /project/submit with: \n```text\n{\"error\":\"invalid_request\",\"errors\":[\"Login Response was rejected: invalid_request\"]}\n```\n \n```text\nHow can I investigate it further? Are there some params missing?\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 10, 2021, 6:10 PM",
          "AuthorName": "Mikołaj Buda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4134090&course=5",
          "role": [
            "Picture of Mikołaj Buda"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 419449,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=419449",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Google Assignment LTI logging teachers out",
          "Text": "Hi there, Bit of a strange one which I am not too sure how to go about debugging... We have the Google Assignments LTI tool setup in our Moodle as per the instructions here: External_tool_settings and here: https://support.google.com/edu/assignments/thread/62671405 The first time you set up the external tool in Moodle, you go through all of the Google Assignment screens, selecting the file etc. and then when you click close / save, You are logged out of Moodle and are then presented with this error message: A required parameter (oauth_consumer_key) was missing More information about this error Even stranger, is that if you then log back in and repeat the above process it works perfectly. It does this every single time (i.e. you have to do the process twice) that you try and use the Google Assignments LTI tool in Moodle... This is understandably a little bit annoying! Any ideas about how to debug this gratefully received! Jon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 10, 2021, 12:57 AM",
          "AuthorName": "Jon Witts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=89775&course=5",
          "role": [
            "Picture of Jon Witts",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 418560,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=418560",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Turnitin Integration",
          "Text": "Hi, This is in relation to Turnitin integration with Moodle. Can you please confirm there is no effect if they following is done? - Changing Moodle config from Primary to Sub Account Does any info get lost when changing ID in Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 19, 2021, 9:17 AM",
          "AuthorName": "MoodleKittyCat .",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404085&course=5",
          "role": [
            "Picture of MoodleKittyCat ."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Turnitin Integration",
          "Text": "Hi, It’s Maryna, Community Manager from Turnitin. I highly recommend getting in touch with our Support or Sales Team to get the answers to your integration-related questions. They could be of great benefit to you. Sales Team: https://www.turnitin.com/contact Support Team: https://supportcenter.turnitin.com/s/ or tiisupport@turnitin.com Below you can also find some useful resources to learn more about integrating Turnitin into Moodle: https://help.turnitin.com/feedback-studio/moodle/moodle-home.htm If you still have any questions or lack any information, please let me know. I am always happy to assist you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 1, 2021, 8:50 PM",
          "AuthorName": "Marina Dibrova",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3957128&course=5",
          "role": [
            "Picture of Marina Dibrova"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 390778,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390778",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Syncing grades: Moodle course in Canvas",
          "Text": "Hi there, I successfully added an entire Moodle course to Canvas through LTI. I can't figure out how to sync grades between Moodle and Canvas. To be clear, I put an entire Moodle course with dozens of activities into a single Canvas activity. So when a student completes an activity in my Moodle course, I don't know where the grade for that specific activity goes in Canvas? I don't see the sync, but I have the sync set up right in Moodle. Again, I am not connecting a single activity through LTI. It's a full course. Anyone have experience here? Thanks, - Danny",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1575147/Moodle%20inside%20Canvas.JPG?forcedownload=1"
          ],
          "Time": "Tuesday, September 10, 2019, 9:44 PM",
          "AuthorName": "Danny Rubin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2362205&course=5",
          "role": [
            "Picture of Danny Rubin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Syncing grades: Moodle course in Canvas",
          "Text": "I would also like to get Moodle to Canvas LTI working--does anyone have directions with screenshots to get this working? If you could share that with everyone that would help a lot of folks out.... I've tried following the Docs directions, setting up Cartridge URL , Secret, Launch URL , and Registration URL, but I'm not getting Moodle to \"talk\" to Canvas and it bombs out with errors. In Canvas, it looks like you can only push back an entire Course grade, or just a single quiz / assignment from Moodle once you get it working.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 14, 2019, 1:37 AM",
          "AuthorName": "Joseph Liaw",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=284918&course=5",
          "role": [
            "Picture of Joseph Liaw"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Syncing grades: Moodle course in Canvas",
          "Text": "Wanted to report back that I think I figured out how to get the initial LTI working--there is a bug where if you have a favicon set in your theme, it causes the LTI to bomb out. Removing the favicon gets the LTI going! Now I'm having the problem of the course grade in Moodle pushing back to Canvas via an Assignment set up as an External Tool--anyone get this working and could share any tips or directions? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 19, 2019, 2:07 AM",
          "AuthorName": "Joseph Liaw",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=284918&course=5",
          "role": [
            "Picture of Joseph Liaw"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Syncing grades: Moodle course in Canvas",
          "Text": "Joseph...the issue is that Moodle's core LTI cannot send a single assignment grade across to an external LMS like Canvas. If you have connected your course to another LTI, it will send across an averaged grade of ALL the assignments graded in your Moodle course as a single grade in the external LMS gradebook. I have located a developer who is reconfiguring my LTI so that it will send individual assignments with individual grades to the external LMS. I will let you know if we are successful. Does that answer help you?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 19, 2019, 2:46 AM",
          "AuthorName": "Danny Rubin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2362205&course=5",
          "role": [
            "Picture of Danny Rubin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Syncing grades: Moodle course in Canvas",
          "Text": "Hi Danny: That is VERY helpful--I was going crazy trying to figure it out! It looks like though you can set a single activity (e.g. Quiz / Discussion Forum) vs. a Course to LTI the grade pass back to an external LMS like Canvas, so that might help some teachers. Another idea is to use the fantastic SubCourse plugin to push back an entire \"unit\" of instruction from Moodle as a Course grade to an external LMS--not ideal but at least it gives instructors options.... On another note, I got the LTI integration between Canvas and Moodle working partially, but my dilemma is that in a Moodle a new user account is created with the student's identical email / first name / last name, but NOT mapped to the existing user account that is already in Moodle--a completely new username is created (e.g. \"enrol_lti85984fc6add9f757fff3a415eb90a54252f7e280\") with a crazy string.  Any ideas on how to actually tie the 2 accounts together, or to avoid a new account being created? That would be the \"magic sauce\" that would tie the 2 systems together and build synergy between platforms to enable teachers to harness the best of each tool! Thanks for all your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 19, 2019, 4:43 AM",
          "AuthorName": "Joseph Liaw",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=284918&course=5",
          "role": [
            "Picture of Joseph Liaw"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Syncing grades: Moodle course in Canvas",
          "Text": "I plan to only have users create accounts through the LTI connection -- not through my actual account creation process. You can group users by authentication method (Auto Group plugin) so you can keep them organized that way. That will avoid duplication. Joseph...are you a teacher or a vendor selling to schools? I am a vendor (rubineducation.com).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 23, 2019, 11:52 PM",
          "AuthorName": "Danny Rubin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2362205&course=5",
          "role": [
            "Picture of Danny Rubin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Syncing grades: Moodle course in Canvas",
          "Text": "Hi Danny: I'm just a teacher, but also the system admin for our Moodle.... Doing account creation through LTI keeps it simple for the consumer system, but makes a huge mess in Moodle and creates multiple accounts for each user....I'm thinking there might be a setting under Authentication settings where you can lock user profile fields to help prevent duplication and to tie the accounts together... Will have to test after the holidays, and will report back what I figure out....if anyone knows how to tie together LTI accounts with existing user accounts in Moodle, please share since this will help a lot of people!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 24, 2019, 1:45 AM",
          "AuthorName": "Joseph Liaw",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=284918&course=5",
          "role": [
            "Picture of Joseph Liaw"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Syncing grades: Moodle course in Canvas",
          "Text": "Just wanted to report I figured out that in Canvas you have to set the LTI app as \"Public\" under privacy options so that the students first and last names are passed through to Moodle...then it works and the total course grade syncs back!!! Then in Canvas, you have to add Moodle as an Assignment as an External Tool and pick the LTI app that you configured! You can not have students login both manually, or with OAuth2, or with LTI--then you end up with multiple accounts for the same student! So the trick is to only use the Canvas LTI app Assignment as the method your students will login if you want to successfully integrate Moodle into Canvas.... Hope that helps!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 12, 2020, 9:07 AM",
          "AuthorName": "Joseph Liaw",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=284918&course=5",
          "role": [
            "Picture of Joseph Liaw"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Syncing grades: Moodle course in Canvas",
          "Text": "Hi Danny. I would be interested in hearing if your revised LTI tool works. I'm not using Canvas, but I am trying to get assignment grade from Moodle back into the external LMS. Thanks! I also found another issue. When a student clicks through to Moodle and it's set to hit a quiz it creates an account but without a role. If I set it to connect to the course it logs the student with a student role.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 25, 2019, 3:55 AM",
          "AuthorName": "Rob Frank",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2578419&course=5",
          "role": [
            "Picture of Rob Frank"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Syncing grades: Moodle course in Canvas",
          "Text": "Hi, I am also interested. Has anyone got the Quiz result stored on an external system via LTI?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 25, 2021, 8:39 PM",
          "AuthorName": "Arto Aalto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4100056&course=5",
          "role": [
            "Picture of Arto Aalto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Syncing grades: Moodle course in Canvas",
          "Text": "Moodle can sync to Canvas via LTI, but it's a lot of trial-and-error. Canvas LTI will grab the entire course grade, unless you setup a specific LTI for a quiz (thought that would be annoying!). However, it works and it makes getting students from one platform into the other a piece of cake! Here's a blog post with a guide I put up: https://sites.google.com/hinsdale86.org/skunkworkslearning/course-building/course-management/lti-integration",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2021, 4:01 AM",
          "AuthorName": "Joseph Liaw",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=284918&course=5",
          "role": [
            "Picture of Joseph Liaw"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 418142,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=418142",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Grade passback failing in LTI 1.1 and 1.3",
          "Text": "Hello, We (tool provider) have been partnering with a university client to troubleshoot grade passbook.  This investigation began in February 2020 when the response from Moodle was “Consumer key is missing” in LTI 1.1.  Historically that has indicated that authorization headers are being stripped.  More info here: https://moodle.org/mod/forum/discuss.php?d=323197#p1320091 This issue was never resolved and we opted to give up because the grading feature was not in high demand at the university at the time. This year we moved to LTI 1.3 in the same Moodle instance.  Grade passbook is still failing, but now with a 500 at: /moodle2020/mod/lti/services.php/6/lineitems/44349/lineitem/scores?type_id=2 The client’s Moodle logs contain the following: 2021-01-19T04:03:06-06:00 atticus http: - 52.6.76.55 - - [19/Jan/2021:04:03:06 -0600] \"POST /moodle2020/mod/lti/services.php/2305/lineitems/43377/lineitem/scores?type_id=2 HTTP/1.1\" - 2 \"-\" \"-\" - 0 27133 2021-01-19T04:03:07-06:00 atticus http: - 52.6.76.55 - - [19/Jan/2021:04:03:07 -0600] \"POST /moodle2020/mod/lti/services.php/2305/lineitems/43377/lineitem/scores?type_id=2 HTTP/1.1\" - 2 \"-\" \"-\" - 0 24925 Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 11, 2021, 6:19 AM",
          "AuthorName": "Sadie Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4061967&course=5",
          "role": [
            "Picture of Sadie Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade passback failing in LTI 1.1 and 1.3",
          "Text": "We'd love help from the community to get this issue resolved. Thanks to anyone who can provide any tips. Looking at developer tools we see this come up, right after submission/grading. ============================================================ Request URL : https://______.voicethread.com/api/rest/gradebook/22870530 Request Method: PATCH Status Code: 500 Internal Server Error Remote Address: 3.222.26.73:443 Referrer Policy: strict-origin-when-cross-origin ============================================================",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 13, 2021, 4:12 AM",
          "AuthorName": "Nathan Lind",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=773422&course=5",
          "role": [
            "Picture of Nathan Lind"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 417704,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=417704",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI redirects some users to wrong url",
          "Text": "Hello, Let me start with that I am very new to Moodle and PHP. We are using Smarthinking service and we put a  simple link on a WordPress site to redirect users to this service. (for example, courses.mysite.com/mod/lti/view.php?id=123) When we click the link we are redirected to an O365 login page then smarthinking service page, however, some users are redirected to a course on Moodle instead of smarthinking service page. Do you have any idea why this can be possible? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 3, 2021, 10:28 PM",
          "AuthorName": "Vanc Vanc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4042039&course=5",
          "role": [
            "Picture of Vanc Vanc"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 416305,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=416305",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.5 LTI provider for Ceridian Dayforce Learning",
          "Text": "My company has decided to start using Ceridian's Dayforce Learning LMS.  Dayforce Learning, I am coming to find out, has numerous shortcomings.  Moodle's lesson and exam functionality is lightyears beyond Dayforce's.  Therefore, I want to create lessons in Moodle and use them in Dayforce.  Their lesson options include SCORM , AICC, xAPI, and LTI.  SCORM and AICC are out since Moodle cannot export those types, import yes, export no.  xAPI looks complicated but may be the best option, but I need to do a lot more research.  That leaves LTI as perhaps the easiest option. I am a literal tyro on the LTI scene.  I have read most of the Moodle docs on it.  Dayforce's help is much worse than Microsoft's and is basically nonexistent. I have read Publish as LTI tool and enabled Publish as LTI tool at the site level and added the Publish as LTI tool as an enrollment method.  I have also read the LTI and Moodle thread, but do not understand large portions of it. I want the use of the tool on the Moodle side to be seamless.  Meaning, no Moodle login by the user.  I have provided the secret and tried each of the three links available in the lesson's Publish as LTI tool screen.  I got an error when I tried to use the Registration URL and got the Moodle login screen when I tried the Cartridge or Launch URLs. I got things to work once, but not the way I wanted.  I made a change (don't remember what) and now I have to login for Moodle, but the login screen keeps cycling up like I had not entered the proper credentials, without the incorrect username/password error.  Sometimes, I get the Invalid request error or another error I will try to reproduce. I am so confused right now that I have difficulty in even coming up with the proper questions.  I do know I need to work this from both sides (Moodle's and Dayforce's). Do I need to enable and setup OAuth for the autologin function to work? Are there any other settings I need to look at/check? Lets start with that.  Sorry for the long post, I think my frustration shines through.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 8, 2021, 5:55 AM",
          "AuthorName": "Al Henneberger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1521049&course=5",
          "role": [
            "Picture of Al Henneberger"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 3.5 LTI provider for Ceridian Dayforce Learning",
          "Text": "Hi Al, Sorry to hear of your frustrations setting up Moodle as an LTI provider for Dayforce Learning. As mentioned in the documentation Publish as LTI tool , the setup can be tricky, and the invalid request error can be difficult to trace the root of the problem. As I have no experience of Dayforce Learning, I can't offer much help, though I can answer your question Do I need to enable and setup OAuth for the autologin function to work? No, this is not necessary. You just have to enable LTI as an authentication plugin in Site administration > Plugins > Authentication > Manage authentication. If you'd like to see how it works having your Moodle site as an LTI provider when you have Moodle as an LTI consumer, you can use our Moodle Sandbox demo site as the LTI consumer site and follow the instructions in the video When you have the energy to try again with Dayforce Learning as the LTI consumer, please take notes of everything you try together with the exact error message you obtain. Hopefully an LTI expert can then advise further. It's possible that the problem lies with Dayforce, so perhaps you can ask them for help too? Either way, please let us know how you get on!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Saturday, January 16, 2021, 1:08 AM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.5 LTI provider for Ceridian Dayforce Learning",
          "Text": "Thank you for your response. Yeah, I remember that 'tricky' phrasing in the documentation, too. There is some of my frustration. I keep forgetting about the Sandbox demo site. I shall play using that. A follow on question about authentication. Do users in the LTI consumer also need to be registered users in the LTI provider? Some of my difficulty here is I have setup our Moodle site to have first initial, last name usernames (e.g. yours would be hfoster). Yet, IT has setup the LTI consumer usernames as firstname.lastname (e.g. helen.foster). If the answer to my question is no, no problem. However, if the user already exists in the LTI provider, yet the LTI consumer provides a different username is there a way to resolve the issue? As soon as I figure this out I will update the documentation and include Dayforce learning.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 18, 2021, 10:00 PM",
          "AuthorName": "Al Henneberger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1521049&course=5",
          "role": [
            "Picture of Al Henneberger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.5 LTI provider for Ceridian Dayforce Learning",
          "Text": "Do users in the LTI consumer also need to be registered users in the LTI provider? No, I don't think so. As I understand things, if you enable LTI as an authentication plugin on your Moodle site and 'Publish as LTI tool' as an enrolment method in your course, then when a remote user accesses the LTI tool, an account will be created for them and they will be automatically enrolled in the course. However, I have never set things up with a LTI consumer site other than Moodle, so my understanding is limited!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Monday, January 18, 2021, 11:34 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.5 LTI provider for Ceridian Dayforce Learning",
          "Text": "Hi Al, Sorry, I am not familiar with Ceridian's Dayforce Learning LMS but I will share what I have learned last fall. In fall 2020 I was able to set up an LTI tool between Populi and Moodle. Now students login to Populi, click on the LTI link in Populi, and the online class on the Moodle site will open. This link will authenticate each user in the respective Moodle class on the Moodle website. In the attached Zip-file you will find a short tutorial and four screenshots. With kind regards, Hartmut",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 17, 2021, 3:09 AM",
          "AuthorName": "Hartmut Scherer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=441502&course=5",
          "role": [
            "Picture of Hartmut Scherer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.5 LTI provider for Ceridian Dayforce Learning",
          "Text": "Thank you for your reply. I will look over your stuff and see what I can learn from it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 18, 2021, 10:09 PM",
          "AuthorName": "Al Henneberger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1521049&course=5",
          "role": [
            "Picture of Al Henneberger"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 416572,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=416572",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "plagiarism tools options",
          "Text": "Dear All, I would like to ask about what other good options you can use for plagiarism different from Turnitin as they are now increasing their prices every year? Is there any one using different tool in his/her college/university? and how good it is? Thank you all and looking forward to hearing from you all. Salim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2021, 2:41 PM",
          "AuthorName": "Salim Al Waili",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=491074&course=5",
          "role": [
            "Picture of Salim Al Waili"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: plagiarism tools options",
          "Text": "At a UK MoodleMoot a few years ago, Mark Glynn from DCU talked about their move to Urkund. It's on the list at https://moodle.com/news/moodlemoot-uk-ireland-2017-video-presentations-now-available/ so you might be able to find a video.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2021, 9:48 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: plagiarism tools options",
          "Text": "Thanks for sharing this Tim. Good to know that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2021, 11:57 PM",
          "AuthorName": "Salim Al Waili",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=491074&course=5",
          "role": [
            "Picture of Salim Al Waili"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: plagiarism tools options",
          "Text": "the moodle.org plugins database also allows you to see how many registered sites are using a plagiarism plugin - see here for all the plagiarism plugins ordered by the registered sites: https://moodle.org/plugins/?q=type:plagiarism%20sort-by:sites",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2021, 3:54 AM",
          "AuthorName": "Dan Marsden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21591&course=5",
          "role": [
            "Picture of Dan Marsden",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: plagiarism tools options",
          "Text": "Thank you Dan. That's a good idea. Salim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2021, 12:47 PM",
          "AuthorName": "Salim Al Waili",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=491074&course=5",
          "role": [
            "Picture of Salim Al Waili"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 415406,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415406",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Allow Teachers to Unenroll LTI Students",
          "Text": "In the Teacher Role, Under Publish as LTI Tool, I have set the Capability for Teachers to Allow for Unenrol Users from the Course (enrol/lti:unenrol) however there doesn't appear to be a way to let Teachers to delete a Participant as Admin can. Anyone know why this isn't working or have I got the wrong capability set?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 15, 2020, 6:48 AM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 415042,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415042",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Add custom variable to LTI Launch Request and using it",
          "Text": "I use moodle from Laravel through LTI. I  had to pass a specific file path from Laravel to Moodle through the LTI Launch Request, i appended to the parameters. Now i would like to access that variable in the Moodle's LTI content which is a Turnitin Assignment. With firebug i can see in the Tool.php the reference_file_path variable is avaliable in the request header but dont know how to access it in  the TurnitinAssignment/view.php: I tried to read as : $post['reference_file_path'] = optional_param('reference_file_path',0, PARAM_RAW); but in the View.php it does not avaliable Do you have any idea how to access it? Thank you in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 7, 2020, 10:17 PM",
          "AuthorName": "Antony Barela",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2091550&course=5",
          "role": [
            "Picture of Antony Barela"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 411814,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=411814",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI avoid user duplication",
          "Text": "Hi All I have created user manually in moodle and assigned to course. and from LTI if i try to access same course using same user email, first name , last name and username new user is creating in moodle with same user details(User is duplicating). how to avoid duplicate user creation from LTI. if user already exists in moodle then from LTi also same user has to access moodle course. Regards Zuheb",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 7, 2020, 9:16 PM",
          "AuthorName": "Zuheb A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2411153&course=5",
          "role": [
            "Picture of Zuheb A"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI avoid user duplication",
          "Text": "Hi Ruheb, Is it happening if you access the same Provider course or different courses?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 10, 2020, 4:21 PM",
          "AuthorName": "P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3790833&course=5",
          "role": [
            "Picture of P S"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 413599,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=413599",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI -- Restricted access for Consumer site Managers, Admins to the Provider Site.",
          "Text": "Hi All, I really hope someone can assist me or give me suggestions. I have set up a consumer site and a provider site and everything works well. I understand we can map Student to Student and Teacher to Teacher through the Enrolment tool. But I would like to somehow restrict the Consumer Site Managers, Site admins, Course creators to be restricted as well. Are there any workarounds to achieve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 10, 2020, 4:18 PM",
          "AuthorName": "P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3790833&course=5",
          "role": [
            "Picture of P S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 413185,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=413185",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External tool automatically gets started when user is sent to launch_presentation_return_url",
          "Text": "I have a \"single activity\" course where the activity is \"external tool\". When user launches the course, the tool is launched as expected. When the user ends their session, the tool sends user back to Moodle and Moodle automatically launches the activity again. Is there a way to make Moodle stop doing this? I'm using Moodle 3.9.2. The tool's \"end session\" sends the user to launch_presentation_return_url provided by Moodle via LTI launch . What I see in the Chrome dev tools: https://<Our Moodle>/mod/lti/return.php?course=2&launch_container=5&instanceid=1&sesskey=Lug3Gp814h https:// <Our Moodle> /course/view.php?id=2 https:// <Our Moodle> /mod/lti/view.php?id=1 https:// <Our Moodle> /mod/lti/launch.php?id=1 https://<Our LTI tool>/<LTI launch endpoint> I've learnt that if I manually go to any of these: https://<Our Moodle>/course/view.php?id=2 https://<Our Moodle>/mod/lti/view.php?id=1 I will always end up being sent to the external tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 3, 2020, 12:12 AM",
          "AuthorName": "Andrey Agibalov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3795606&course=5",
          "role": [
            "Picture of Andrey Agibalov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External tool automatically gets started when user is sent to launch_presentation_return_url",
          "Text": "I guess no-one thought of that particualr set-up before. I think you should create a bug report in the Moodle issue tracker ( https://docs.moodle.org/dev/Tracker_introduction ) then hopefully this will get fixed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 3, 2020, 11:27 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 412868,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=412868",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Multiple Moodle Instances, LTI, and Conflicting $Userids",
          "Text": "Hello All, We have two campuses that are using two different Moodle instances.  They both have a Practical Nursing program, and therefore both access a 3rd Party content provider through a LTI External Tool.  The two Moodle sites are under the same domain .  The LTI tool is not differentiating between the two sub domains when students access the resource with the same generated $Userid #'s. Example: Moodle instances are subs of main domain: domain.com/pn domain.com/spn Student 1: testuser1@domain.com Moodle Site 1 generated $Userid=116 Student 2: testuser2@doamin.com Moodle Site 2 generated $Userid=116 Student 1 accesses the External tool First:  Has access granted and shows their username in external portal. Student 2 accesses the External tool Second:  Access is granted, but shows Student 1's username in external portal. Any work completed by Student 2 in the external site is recorded on Student 1's grades My question is:  Is there any way to configure the tool or Moodle to differentiate between the two students even though they have the same Moodle generated $Userid #'s?  Maybe in the custom parameters of the tool?  I know I have read that the $Userid is the key to the database is Moodle, and that you should not try to change it, so looking for other solutions to this issue. Thanks in advance for any help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2020, 10:56 PM",
          "AuthorName": "Clint Webb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3798730&course=5",
          "role": [
            "Picture of Clint Webb"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 408639,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=408639",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 got an access token but getting list of members still fails, any reason why?",
          "Text": "Using postman, I am able to get an access token from a platforms Access Token URL , but when I try and then get a list of memberships from the platform, I get this: \n```text\n{\n\n\n    \"status\": 401,\n\n\n    \"reason\": \"Unauthorized\",\n\n\n    \"request\": {\n\n\n        \"method\": \"GET\",\n\n\n        \"url\": \"/moodle/mod/lti/services.php/CourseSection/1082/bindings/4/memberships\",\n\n\n        \"accept\": \"application/vnd.ims.lti-nrps.v2.membershipcontainer+json\"\n\n\n    }\n\n\n}\n```\n This only happens with a single users (schools) platform, running Moodle 3.9. Our other users, as well as our 3.9.1 sandbox on Moodlecloud work fine. Is there a setting or option that could be turned off that might cause this issue? We have tried everything I can think of to no avail. --Tom O'Connor Lead Developer - Hawkes Learning",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 12, 2020, 8:23 PM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 got an access token but getting list of members still fails, any reason why?",
          "Text": "Any idea what could be the cause? Was there a recent change to the Moodle LTI 1.3 code? Versions previous to 3.9 seem to work fine, but now we have a couple of users who are using 3.9 and later who all have the above issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 17, 2020, 9:01 PM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 got an access token but getting list of members still fails, any reason why?",
          "Text": "Hey Thomas, Were you able to get a resolution on this? We are experiencing the same issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2020, 3:38 AM",
          "AuthorName": "Roy Burgos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3563998&course=5",
          "role": [
            "Picture of Roy Burgos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 got an access token but getting list of members still fails, any reason why?",
          "Text": "No, we are still having the same problem. As mentioned it works with a number of other schools we work with, but there are a couple where it does not. Maybe its something to do with the plugins or themes they are using. Do you know if the moodle you are having an issue with is stock or has been customized?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 14, 2020, 1:31 AM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 409859,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409859",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Does core Moodle 3.9 support LTI1.3 Core and Advantage both as Tool Consumer and Provider?",
          "Text": "Hi Could somebody please confirm if core Moodle 3.9 currently supports LTI1.3 Core and Advantage both as Tool Consumer and Provider? My search hasn't been able to find a definitive answer. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 4, 2020, 7:32 AM",
          "AuthorName": "Karsten Sommer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156068&course=5",
          "role": [
            "Picture of Karsten Sommer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Does core Moodle 3.9 support LTI1.3 Core and Advantage both as Tool Consumer and Provider?",
          "Text": "I would like to know this as well, I am running 3.7 and it looks like it supports LTI 1.3 as a consumer but not as a provider. I am looking for provider functionality either as plugin or as core.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 9, 2020, 11:17 PM",
          "AuthorName": "Kim Curic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3719725&course=5",
          "role": [
            "Picture of Kim Curic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Does core Moodle 3.9 support LTI1.3 Core and Advantage both as Tool Consumer and Provider?",
          "Text": "Hi Kim FYI just posted the following comment in Moodle Tracker : https://tracker.moodle.org/browse/MDL-40761 +++ Hi all My latest testing on MoodleCloud (currently running v3.9.2) reveals that this issue still persists in core i.e. MoodleCloud default staff roles such \"Non-editing teacher\"(\"Role Short Name\" = \"teacher\") and \"Teacher\" (\"Role Short Name\" = editingteacher), in both cases is still sending in the Consumer LTI payload \"roles\" = \"Instructor\". Therefore, no granular staff roles are being sent by the Tool Consumer, thus preventing meaningful role assignment in the Tool Provider. Is this correct? Thanks, Karsten +++",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 12, 2020, 12:12 PM",
          "AuthorName": "Karsten Sommer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156068&course=5",
          "role": [
            "Picture of Karsten Sommer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Does core Moodle 3.9 support LTI1.3 Core and Advantage both as Tool Consumer and Provider?",
          "Text": "I am actually stuck one step behind this one. REferring to the documentation on https://docs.moodle.org/39/en/Publish_as_LTI_tool , the options available, I think are only to publish as LTI 1 or LTI 2 but no option to publish as 1.3? I could consider upgrading to 3.9 if the option is there",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 13, 2020, 8:37 AM",
          "AuthorName": "Kim Curic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3719725&course=5",
          "role": [
            "Picture of Kim Curic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Does core Moodle 3.9 support LTI1.3 Core and Advantage both as Tool Consumer and Provider?",
          "Text": "Hi Karsten Moodle currently does not support LTI 1.3 as a provider. It's in the pipeline as we know it's important, so as soon as we find the time we will be moving forward with this. Here is the epic that will be used for this work: https://tracker.moodle.org/browse/MDL-69542",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 13, 2020, 5:01 PM",
          "AuthorName": "Sander Bangma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2356736&course=5",
          "role": [
            "Picture of Sander Bangma"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 411527,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=411527",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Zoom LTI Pro - display",
          "Text": "Hi there, I hope you would help with the Zoom LTI integration. Zoom LTI link is launching in a new window, even though it is set to display embedded,  and I get this message - Redirect to Zoom... If you can not launch LTI Pro. Please click here. \"For improved security the Approved Domains section of the LTI Pro configuration page needs to be configured\" I added the Moodle URL to the approved domains, but that did not resolve the issue... In zoom lti tool configuration I have tried: Embed Embed without blocks Existing window But it still opens up a new window Any help on this is much appreciated! Many thanks, Vaida",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 2, 2020, 4:49 PM",
          "AuthorName": "Vaida Holohan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2165467&course=5",
          "role": [
            "Picture of Vaida Holohan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Zoom LTI Pro - display",
          "Text": "I had a same issue and solved by adding the site url into ZOOM LTI pro config area, The trick is to remove the trailing / at the end of the url. support link, https://zoomappdocs.zoom.us/lti-pro-v2/welcome/manage-and-configure#configure-approved-domains further I have regenerate the LTI key and updated the shared secret key Site administration>Plugins>Activity modules>Manage activities >Edit preconfigured tool Hope this will help you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, October 8, 2020, 9:08 PM",
          "AuthorName": "Class One to One",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3358984&course=5",
          "role": [
            "Picture of Class One to One"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 397148,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397148",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle as LTI provider - authenticate into existing Moodle user",
          "Text": "Hi, We are running both Canvas and Moodle. I would like to use the \"Moodle as LTI provider\" capability to allow users that are logged in to Canvas to seamlessly access a course in Moodle. I have set up the LTI on Canvas and on Moodle. When a user launches the LTI from Canvas, then a new user is created on Moodle with  the correct name and email address and with a username that looks like this: \n```text\nenrol_lti54e2fbac742e02437015152990ee6f6c45032457\n```\n Instead of this, what I want is for the username to be created based on the Canvas username, or if that username already exists in Moodle, to authenticate into the existing user and enrol then onto the relevant Moodle course as per the LTI link. Does anyone know how I can do this? I have tried to put custom parameters into the Canvas LTI but this is guesswork as I don't know what value Moodle would be looking for (if any). Thanks, Pete",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 6:59 PM",
          "AuthorName": "Pete Howard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2055311&course=5",
          "role": [
            "Picture of Pete Howard"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle as LTI provider - authenticate into existing Moodle user",
          "Text": "Hi Pete even i need same feature. Help me if you found solution for this. i want to avoid user duplication using LTI if user is already exists with same user details. Thanks Zuheb",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 7, 2020, 9:21 PM",
          "AuthorName": "Zuheb A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2411153&course=5",
          "role": [
            "Picture of Zuheb A"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 411803,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=411803",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI connection (External tool) sharing personal data",
          "Text": "Good morning everyone! Our Moodle (A) is connected to another Moodle platform (B) and we share information from A to B via the External Tool resource. \"B\" has notified us that t hey are seeing personal data from the students that take the course in \"A\", while in our system \"B\" students are encrypted. Is this normal and we can be sure that only those with manager/teaching roles can access said personal data or, on the other hand, personal data should not be shared at all between A and B? It seems they also had some issues with the grades at some point, so may it be related to a wrong setting that we have overlooked? Thank you very much for your support!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 7, 2020, 5:17 PM",
          "AuthorName": "Maria José E.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2190759&course=5",
          "role": [
            "Picture of Maria José E."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 410354,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410354",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Who's connected through LTI",
          "Text": "Is there a way to know who is connected through the publish to LTI link, or even how many are connected to my course through LTI? Maybe in a log somewhere? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 13, 2020, 12:25 AM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Who's connected through LTI",
          "Text": "Veronica, in your course, open course administration > users > enrolled users. As a teacher you should see all who are enrolled in your course. In the status column you will see something like this: This semester, I have two enrollment methods, manual enrollment and LTI enrollment. When you move your cursor over the \"i\" (on the right side of active), you will see the enrollment method of the user. With kind regards, Hartmut",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1656208/user%20status.jpg"
          ],
          "Time": "Thursday, September 17, 2020, 3:52 AM",
          "AuthorName": "Hartmut Scherer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=441502&course=5",
          "role": [
            "Picture of Hartmut Scherer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ynt: Re: Who's connected through LTI",
          "Text": "Hello\nHartmut, While\nusing LTI as an enrolment method, and in the case when you have more than 1\nactivity that you shared from your \"LTI Provider\" instance, how do\nyou control the participants in the course. I tried\nboth Moodle-Moodle and Moodle-OpenEdx scenarios, and observerd that there is a\nnew enrolled user in the LTI provider for each activity (when I check the user\nprofiles I can see different enrolment methods.) And in\nthe course list, they all have the same Firstname/Lastname and e-mail address\nvalues. Do you\nknow a way to avoid this, and present 1 student with 1 record in the classlist? Kind regards, Tansu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 28, 2020, 8:40 PM",
          "AuthorName": "Tansu PANCAR",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2429676&course=5",
          "role": [
            "Picture of Tansu PANCAR"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Who's connected through LTI",
          "Text": "Thank you, Hartmut!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 3, 2020, 1:25 AM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 410981,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410981",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Service section in new External Tool not showing any value",
          "Text": "After upgrading the LTI plugin to 1.3, To create a new external Tool, Services section is not showing any option. At source code level, lti_get_services() method returns blank. Please help",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1657538/LTI_screenshot.png?forcedownload=1"
          ],
          "Time": "Wednesday, September 23, 2020, 12:54 PM",
          "AuthorName": "Dhiren Singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2181365&course=5",
          "role": [
            "Picture of Dhiren Singh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 410930,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410930",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Language over LTI",
          "Text": "How are language preferences set for LTI users? A little test I just did, went as follows 1. Delete the user. 2. Make sure that the default language is set to Norwegian both in the site administration/Language/Language settings, and in the LTI enrolment settings ( server -wide). 3. Open the activity as the same remote user which was deleted.  (From BlackBoard if it matters.) 4. The new user comes in with English as the preferred language. Has anyone managed to select language for LTI users on a multi-lingual server?  What options do I have to control it? I know that I can let the students have course level access to change language for their own account, but this is a bit more cumbersome than I would like. Is there a better approach?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2020, 6:18 PM",
          "AuthorName": "George Schaathun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2003093&course=5",
          "role": [
            "Picture of George Schaathun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 410837,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410837",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Showing blocks in published LTI activities",
          "Text": "(I posted this question in the wrong forum first.  This is a better fit.) I would like to export an activity using blocks as an LTI activity.  I was quite surprised that the blocks do not show. Now I understand that I am not the first one to find this to be a problem, and my technical aid has inspected the code to conclude that there is no config setting that we have missed. Is there anyone here who is familiar with the implementation of the LTI module?  I wonder both why it has been designed not to show blocks, and whether one would consider changing it to do so, optionally or otherwise? We do consider implementing a fix of our own. Would such a change be welcomed?   Since LTI is a core feature, I am a reluctant to implement any modifications just on my own ... Thanks a lot in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 21, 2020, 2:57 PM",
          "AuthorName": "George Schaathun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2003093&course=5",
          "role": [
            "Picture of George Schaathun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Showing blocks in published LTI activities",
          "Text": "I think the issue you are describing is MDL-68792 , and the attempt to fix that has not yet succeeded.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 21, 2020, 4:21 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Showing blocks in published LTI activities",
          "Text": "Absolutely. Thanks a lot for the pointer. We'll study the discussion before we move on.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 21, 2020, 8:33 PM",
          "AuthorName": "George Schaathun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2003093&course=5",
          "role": [
            "Picture of George Schaathun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Showing blocks in published LTI activities",
          "Text": "Actually, I want to embed true blocks, not just fake blocks. Arguably, that makes my request an enhancement, while yours is a bug. I was not aware of the distinction when I posted, so thanks a lot for the knowledge boost. The case is this. We want to add a comment feature to questions, for the students to ask questions, with a direct easy to follow link to the question and instance, be that bug reports, requests for help, general evaluation, or whatever. As far as our own activity, CAPQuiz, is concerned, we could just as well use fake blocks, I think. However, we may want to use it also with the core Quiz, and then an independent block module is a more practical approach. I can imagine there being other applications, but the imagination is not concrete. Is this just me, or would there be in general interest optionally to be able to embed arbitrary blocks in LTI consumed activities ? For my immediate needs, I can probably patch core with one of the ideas considered for MDL-68792 , but such rogue approach is not entirely satisfactory ... :-- George",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2020, 2:54 AM",
          "AuthorName": "George Schaathun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2003093&course=5",
          "role": [
            "Picture of George Schaathun"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 410266,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410266",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle, LTI and Schoology",
          "Text": "At our school we use the Moodle LTI tool to send user information from Schoology to Moodle and allow the completion of quizzes and the push of grades back to Schoology. (User starts in Schoology, follows link to Moodle and finishes quiz, and a grade gets passed back to Schoology) Everything works great with the passback of information between Schoology and Moodle. However, for 1 out of every 50 students they get stuck with being asked for Moodle log in information when trying to open the LTI. They appear under our Moodle course participants with a last login as \"never\" with their name, email and IP address... This means some information is being sent from Schoology to Moodle, but not enough to get them into the course without entering login information. Are there any common trouble-shooting tips for students for when this happens. We have seen this problem occur on the schoology app for IOS and in Safari on IOS)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2020, 2:32 AM",
          "AuthorName": "Mark Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3563727&course=5",
          "role": [
            "Picture of Mark Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle, LTI and Schoology",
          "Text": "I am working with XYZHomework. When your problem occurs with them, it is because the student logged in via XYZHomework, NOT by clicking through via the Moodle class. So the connection is not properly established. How to solve? Best to talk with Schoology. Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2020, 9:39 PM",
          "AuthorName": "William Boyke",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3567564&course=5",
          "role": [
            "Picture of William Boyke"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle, LTI and Schoology",
          "Text": "I received a reply from my contact at XYZ. I am not including his contact Info. Hope this may help you. Bill B. There are two ways to enroll in a course, and it is one or\nthe other, not both. *  Scenario 1 - The course is not integrated.  The\nstudent goes to XYZ Homework website, logs in, enters Course ID to enroll \n(you could put a link to XYZ Homework in your Moodle course, and list the\nCourse ID to mimic \"single sign-on,\" as they would still go through\nMoodle, the grades just wouldn't auto-transfer) *  Scenario 2 - The course is integrated.  Students\nare not given the course ID.  Students enroll by clicking on the Moodle\nlink, which prompts them to log into their XYZ Homework course.  Grades\nauto-transfer If a student enrolls with Scenario 1, and then you want to\nintegrate your course into Moodle two weeks into the course, you would want to\nmake a record of that student's grades (by downloading the gradebook in XYZ\nHomework), then unenroll that student (unenrolling deletes all work, thus you\nwant to have a record of the grades before you unenroll the student), then\nhave the student enroll again by clicking on the Moodle link.  We suggest\nmaking all of your course edits, set all of your due dates, etc before\nintegrating, ideally, and never giving out the Course ID if you plan to\nintegrate (surprisingly, a number of Instructors miss this important fact,\nintegrate, and also give out the Course ID, which causes half of the class to\nnot enroll properly). With Scenario 2, the student needs to click on the Moodle\nlinks for the automatic grade transfer to work.  For example, let's say a\nmonth into a class that is integrated, a student wants to complete 3 homework\nassignments, 2.1, 2.2, and 2.3.  For 2.1, the student clicks on the Moodle\nlink, but for 2.2 & 2.3, the student does not click on the Moodle link, and\njust goes directly to XYZ Homework.  In this example, 2.1 would\nautomatically transfer grades, while 2.2 & 2.3 would not transfer (this is\na VERY common occurrence per my experience at Cengage, WebAssign, MobyMax, and\nhere). I think you both already have this video I put in the Zoom\nchat, but I will put it here as well.  The 6:09 mark of this video is\nwhere the hurdle is, with the blank screen: https://www.youtube.com/watch?v=ejb69sQ72dI&feature=youtu.be .  Best case scenario, we get this working either today or Monday, you\nstill may have to occasionally manually transfer grades, per the paragraphs\nabove. Lastly, if you use scenario 1, and never integrate, you can\nalways get the grades over to Moodle by exporting the gradebook, and importing\ninto Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2020, 10:18 PM",
          "AuthorName": "William Boyke",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3567564&course=5",
          "role": [
            "Picture of William Boyke"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 410303,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410303",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.9, LTI from XYZHomework, Assignment Link returns Blank",
          "Text": "My CC has just updated to Moodle 3.9. I am probably one of the first instructors at our school attempting to link Moodle via LTI to XYZHOMEWORK.com, the class is Pre-Algebra. Working with our school's Moodle Support and the XYZHomework tech we went through all the normal steps per XYZ. My Moodle Course shows all the links to the associated XYZ assignments, but when clicked through, the questions do not appear in the content box on the next page. We deleted and recreated the class and regenerated the LTI. No change was apparent. Next Monday, we will work with the next level of our Moodle Support Chain in case there is a permission setting only she can approve. Any Suggestions on what to look at next? Bill B.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2020, 9:20 PM",
          "AuthorName": "William Boyke",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3567564&course=5",
          "role": [
            "Picture of William Boyke"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 410184,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410184",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI and Ability for Students to Create Assignments with Techsmith",
          "Text": "We currently use LTI with Techsmith Relay recently rebranded as Techsmith Knowmia and would like to: a. have the faculty create an LTI project for students where they will develop a presentation using the Techsmith platform. b. other students should be able to view peer presentations. c. the instructor should be able to grade the assignment. This feature is available in Canvas for Techsmith but not in Moodle and we are told that it is a Moodle limitation. Is there a consideration for such a feature in the future? Any ideas for any workarounds? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 10, 2020, 1:58 AM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 409984,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409984",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 LtiDeepLinkResponse : A required parameter (oauth_consumer_key) was missing",
          "Text": "Hi All, I am getting an error message saying \"A required parameter (oauth_consumer_key) was missing\" Whenever I try to add Content item through LtiDeepLinkResponse. Does anyone know the reason why I am getting this error message. I am also attaching the JWT token response I sent back to moodle as a response(ltiDeepLinkResponse) to LtiDeepLinkRequest. eyJhbGciOiJSUzI1NiIsImtpZCI6IkI1RTMzRjBBOTdBNjQxMUM0OEU0QTRGMTE1RjA1Q0M3QTg5REI4RkEiLCJ0eXAiOiJKV1QifQ.eyJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9tZXNzYWdlX3R5cGUiOiJMdGlEZWVwTGlua2luZ1Jlc3BvbnNlIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vdmVyc2lvbiI6IjEuMy4wIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vZGVwbG95bWVudF9pZCI6IjEiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS1kbC9jbGFpbS9jb250ZW50X2l0ZW1zIjpbeyJjdXN0b20iOnsiYWN0aXZpdHlfaWQiOiIwIiwic3lzdGVtX3NldHRpbmdfdXJsIjoiaHR0cHM6Ly9sb2NhbC5tb29kbGVjbG91ZC5jb20vbW9kL2x0aS9zZXJ2aWNlcy5waHAvdG9vbC8xL2N1c3RvbSIsImNvbnRleHRfc2V0dGluZ191cmwiOiJodHRwczovL2xvY2FsLm1vb2RsZWNsb3VkLmNvbS9tb2QvbHRpL3NlcnZpY2VzLnBocC9Db3Vyc2VTZWN0aW9uLzIvYmluZGluZ3MvdG9vbC8xL2N1c3RvbSJ9LCJ0ZXh0IjoiVGhlIENvdXJzZSBEZXNjcmlwdGlvbiAwIiwidGl0bGUiOiJUaGUgQ291cnNlIDAiLCJ0eXBlIjoibHRpUmVzb3VyY2VMaW5rIiwidXJsIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMS9sdGkvcmVkaXJlY3QifV0sImlzcyI6IlE1NU1RR3FsMW9ydUl5ayIsImF1ZCI6Imh0dHBzOi8vbG9jYWwubW9vZGxlY2xvdWQuY29tIiwic3ViIjoiMiIsImlhdCI6IjE1OTkzNzY4ODMiLCJuYmYiOiIxNTk5Mzc2ODc4IiwiZXhwIjoiMTU5OTM3NzE4MyIsIm5vbmNlIjoiUXVKSTY0cUFRNWM9In0.YpmJPDzJPi1uS6bi-Mf6ELv8uxVVJqRjKszZ_wQdZB9yjNb3LZLdrOBgs6eAP_tka_d0HHGTanBkr3Zirk_aRp53UJzIl5e7XvymF4JaJpJ3Y1KFlvAMyDrzO3HDBDFbneCuaLvLJkqEstnpuN2Q5bk1mtD9hqUZx8K2kOS6b91ulhoesKInsJyq7XpqVC8YNWzhPohfunNJ0JSgLZcQ-efWb-W7tan9DLtprGBXvkLDNBNJDkrc_MyUsw2wNh4SRYSKsmHc26V-ieFBYXF3_ankstQO7CKQlhsHTD72sZnkExzCMIYAZZDlZFcxjMqq_B_Mmc15yFLKDM92k42Cyg",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1653808/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1653808/image%20%282%29.png"
          ],
          "Time": "Sunday, September 6, 2020, 3:12 PM",
          "AuthorName": "Krishna Lal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3535229&course=5",
          "role": [
            "Picture of Krishna Lal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 399481,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=399481",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Zoom  integration",
          "Text": "Hello! Im using 3.5.7 moodle version and following Moodle LTI For Zoom - Installation Guide i installed Zoom. Link for documentation https://zoomsupport.cosocloud.com/knowledgeBase/12575354 What did I do: Add Zoom as a external service and respective functions; Created token; Created my CoSo Cloud LTI Admin account ; In the LTI Admin Tool I caught my  Tool base URL (without <url> tags); Installing the LTI in Moodle: ​Add external tool configuration (adding Tool name, Tool base URL, Consumer Key, Shared Secret); What going wrong: When i'll add a external tool in my course in moodle return a message which follows in an attached print; Can anyone help? Thank you!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1611556/Captura%20de%20tela%20de%202020-03-31%2012-04-02.png?forcedownload=1"
          ],
          "Time": "Tuesday, March 31, 2020, 11:24 PM",
          "AuthorName": "Lucas Borges",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2910474&course=5",
          "role": [
            "Picture of Lucas Borges"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Zoom  integration",
          "Text": "I have installed it today and seems to be working for me,",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1643586/image.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1643586/image%20%281%29.png"
          ],
          "Time": "Thursday, July 16, 2020, 10:35 PM",
          "AuthorName": "Class One to One",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3358984&course=5",
          "role": [
            "Picture of Class One to One"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Zoom  integration",
          "Text": "I had issues with Coso Cloud also. I found Zoom has an LTI integration called 'LTI Pro by Zoom'. It works with moodle and a few other platforms. Here is the link to get started if you want to check it out. https://zoomappdocs.docs.stoplight.io/lti-pro-v2/welcome/getting-started It can also be customized for teachers and other moodle roles. ***Note: It launches into a separate browser when your website isn't configured as an approved domain )*** Click on 'Configuring LTI Pro on left hand side of instructions menu bar) I have attached what the browser launch looks like within moodle. When you carry out the install as mentioned in the above 2 links, you will be able to schedule zoom calls inside of this browser. When you do so, it will add it into the students calendar (because you created the token). **If you create a meeting from Zoom directly, and not from the moodle browser, it will not show up in their calendar.** Hope this helps!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1653496/Screen%20Shot%202020-09-04%20at%208.33.41%20PM.png?forcedownload=1"
          ],
          "Time": "Friday, September 4, 2020, 6:39 PM",
          "AuthorName": "lachlan sole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3497528&course=5",
          "role": [
            "Picture of lachlan sole"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 409525,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409525",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Leganto link and extarnal tomanol",
          "Text": "Dear all, I'm working on the integration of Leganto and Moodle. We use the exterlan tool to creat the link of Leganto in Moodle. But the creation of this link it is possible only manually after creating a course. I wonder if it is possible to add a link to Leganto for every course created automatically. Thanks Best regards Massimiliano",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 28, 2020, 10:35 PM",
          "AuthorName": "Massimiliano Cilurzo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3497784&course=5",
          "role": [
            "Picture of Massimiliano Cilurzo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 409515,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409515",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get group name",
          "Text": "Hi guys, how can I get a group name? I can't find information on Google and I'm also a newbie to Moodle. I'm following this: https://tracker.moodle.org/browse/MDL-55358 tutorial, but I can't find the correct custom parameter. I have the following in the LTI tool configuration: And I have the following group: I want to get custom_mygroups = Group_2 but I am getting custom_mygroups = 2 . Thanks in advance!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1651923/Captura%20de%20pantalla%202020-08-28%20a%20la%28s%29%2006.43.15.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1651923/Captura%20de%20pantalla%202020-08-28%20a%20la%28s%29%2006.45.27.png"
          ],
          "Time": "Friday, August 28, 2020, 6:55 PM",
          "AuthorName": "Hugo Leyton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3497212&course=5",
          "role": [
            "Picture of Hugo Leyton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 409348,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409348",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Getting calendar events from external system",
          "Text": "Hi there! Currently my university is in the process of migrating from Claroline ( https://en.wikipedia.org/wiki/Claroline ) to Moodle, and the difference is superb! In particular, we are going to use the calendar events in each course to make everyone's life easier, BUT right now most of the relevant events and dates are in a different system, where we plan all the courses in each semester and put dates and activities and such. And we don't want the teachers to do the same work twice. Is there a good strategy to make all the calendar events from the \"other\" system appear in Moodle? Is LTI a good choice in this case? Or the REST API is best? Or maybe I need to go directly to the database ? My plan for now is to code some Python to get all the relevant events in the original system (directly from the database), and then do whatever I need to do to send the data to Moodle (using LTI, REST, direct db, etc). (Yes, I'm simplifying a lot: we need some way to link both systems, so we can know that course X in one system matches course Y in moodle, but I wanted to ask first for the best strategy before starting to dig further). Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 26, 2020, 6:51 AM",
          "AuthorName": "Eric Ross Cortes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2265759&course=5",
          "role": [
            "Picture of Eric Ross Cortes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Getting calendar events from external system",
          "Text": "Hi Eric, Does the calendar in your other system follow the iCal standard? If so, you could use the standard feature Calendar import .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 27, 2020, 4:35 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting calendar events from external system",
          "Text": "Hi Helen! I can make it happen, but I'm talking about a process that will run every 30 minutes to automatically transfer the events from the other system to Moodle. Also, it needs to update the events (maybe the events will move from time to time). Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 27, 2020, 9:04 PM",
          "AuthorName": "Eric Ross Cortes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2265759&course=5",
          "role": [
            "Picture of Eric Ross Cortes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting calendar events from external system",
          "Text": "Ops! Maybe I needed to start my post asking if I can use REST to import a iCal file? Or there's support to \"subscribe\" to an external iCal, so Moodle can update automatically ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 27, 2020, 9:40 PM",
          "AuthorName": "Eric Ross Cortes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2265759&course=5",
          "role": [
            "Picture of Eric Ross Cortes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting calendar events from external system",
          "Text": "Wow, I'm answering to myself. Actually, I'm going to test creating an URL to connect the calendar to the external system (sorry, it's in spanish!): Thanks Helen!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1651738/image.png"
          ],
          "Time": "Thursday, August 27, 2020, 9:52 PM",
          "AuthorName": "Eric Ross Cortes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2265759&course=5",
          "role": [
            "Picture of Eric Ross Cortes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting calendar events from external system",
          "Text": "Hi Eric, This is an interesting one and it is possible, but a lot depends on how you have things set up in Moodle. Whichever way that you achieve this, LTI is not a suitable candidate in my opinion. LTI is intended to allow one system to access one activity, or a collection of activities, on a remote system. It does not cater to individual pieces of data relating to a diverse range of different things. It sounds like you already have a system which is intended as a canonical source of information for all data. I assume that this is some kind of Student Information System? If so, then I’d strongly recommend looking into writing an Enrolment plugin for Moodle. This would allow you to actually create all courses (and course categories) in Moodle automatically, including names, and dates, as well as user enrollments in those courses. If you are writing your own Enrollment plugin then you can also have it create activities, groups of users within a course, calendar events, and more. If you do not have a system which stores all of this information or you do not wish to have this level of integration, then you can either write a custom integration, or you should be able to use the REST API. For all of these options the approach is, largely speaking, the same: Every user, course category, course, and activity in Moodle has a field called an ‘idnumber’. This is unique within each data type (i.e. a user and a course can both have an idnumber of “foo” but two courses cannot have the same idnumber). The idnumber is intended to support integration with remote systems in whichever way you see fit. Usually you would use the unique ID in the source system as the idnumber in Moodle. This allows you to quickly and easily identify the same item in Moodle and then update it. The calendar is the only item type you mention which does not have an idnumber, but it does have a uuid field which I think you should be able to use in a similar way. Without knowing more about what you hope to achieve it’s hard to give any specifics but I’d encourage you to look at the existing enrollment plugins for some clues. I will shortly be releasing an alpha version of a new Enrollment plugin for One Roster too. Best wishes, Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 27, 2020, 10:50 PM",
          "AuthorName": "Andrew Lyons",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=268794&course=5",
          "role": [
            "Picture of Andrew Lyons",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting calendar events from external system",
          "Text": "Thank you Andrew! Actually, after a previous post from Helen, I started looking at using the iCal option, and it works! (almost 100%). Using a subscription in the calendar I was able to show the events from the \"main\" system in Moodle: It works pretty well! As I'm using the uuid field, Moodle updates the events with no problem (I tested moving, adding and deleting events). I have 3 issues right now: - Something about the dates and timezone maybe? Because the events are in the wrong day (they are off by -1) - Also, the iCal has no time, only dates, but Moodle show the events like happening at 20:00 always! I have no idea why - Each teacher will have to configure her calendars for each course. I'd like for that to happen automatically , but ¯\\_(ツ)_/¯ Thanks! Best regards!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1651810/image.png"
          ],
          "Time": "Friday, August 28, 2020, 2:54 AM",
          "AuthorName": "Eric Ross Cortes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2265759&course=5",
          "role": [
            "Picture of Eric Ross Cortes"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 408136,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=408136",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.9  to Moodle 3.9 LTI Grade Sync Not Working",
          "Text": "Hello All, I am a newly registered user who has found many great resources in this forum. Thanks to all! I just set up a Moodle 3.9 LTI provider and a Moodle 3.9 LTI Consumer. I set up an auto-graded quiz and LTI connection to the consumer site. Where this is at: 1. The activity-level LTI tool works (it is not a course LTI) 2. I have a non-editing teacher account in a group with a student account 3. The teacher can view attempts and see the grades in the Quiz LTI Iframe loading on the consumer site 4. The Provider LTI is set with Grade Synchronization turned to YES 5. The Consumer LTI tool is set to \"Accept Grades\" 6. Cron is running on \\enrol_lti\\task\\sync_grades the LTI Provider and the LTI Consumer with 0 writes on the Provider and 0 reads/writes on the consumer. Here is the task log output on the Provider site for the LTI tool I am testing: \n```text\nStarting - Grade sync for shared tool '625' for the course '14'.\n\n\nSkipping - Invalid grade for the user '7' in the tool '625' for the course '14'.\n\n\nFailed - The grade '1' for the user '21' in the tool '625' for the course '14' failed to send.\n\n\nSkipping - Invalid grade for the user '4' in the tool '625' for the course '14'.\n\n\nCompleted - Synced grades for tool '625' in the course '14'. Processed 3 users; sent 0 grades.\n```\n I assume the Skipping - Invalid grade refers to the users enrolled in the course who have not taken the quiz (such as Admin) This line is the one I am curious about: Failed - The grade '1' for the user '21' in the tool '625' for the course '14' failed to send. 7. The Consumer side Gradebook for the course in which I have placed this tool shows the Quiz in the table with just \"-\" as the grade entry for the student account that completed the quiz. I have read through several discussions in this forum and have still not been able to fix this issue. I appreciate your suggestions! Thank you.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1646877/test-user-lti-gradebook.jpg?forcedownload=1"
          ],
          "Time": "Monday, August 3, 2020, 1:54 AM",
          "AuthorName": "L B",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3423287&course=5",
          "role": [
            "Picture of L B"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 3.9  to Moodle 3.9 LTI Grade Sync Not Working",
          "Text": "Hi L_B. There ins any solution for this issue?? We are having the same problem. Despite the configuration in the course, there is no return to the califications grade book from the LTI resource.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 27, 2020, 12:54 PM",
          "AuthorName": "Juan Pablo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1435257&course=5",
          "role": [
            "Picture of Juan Pablo"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 409360,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409360",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI link id in database?",
          "Text": "I am trying to figure out where the LTI link is in the database . I have an LTI link on a page \" https://mymoodle-example.net/mod/lti/view.php?id=123456 7\" and I want to find the LTI record in the database in one of the tables with the id \"1234567\", but I can't figure out where this ID value is in the Moodle database?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 26, 2020, 3:23 PM",
          "AuthorName": "James .",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1351540&course=5",
          "role": [
            "Picture of James ."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 408496,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=408496",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Assignments by Google LTI Admin install issue",
          "Text": "Hello, I have managed to add Assignments by Google LTI integration to the external tools successfully. Well sort of. I can go and add and external activity and select Google Assignments from the drop down menu. But, the instant that I select Google Assignments the \"select content\" button grays out and I can't click it. What setting do I have wrong? Does anyone know? I have attached a screenshot below",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1648123/google%20assignments.png"
          ],
          "Time": "Monday, August 10, 2020, 3:08 AM",
          "AuthorName": "Mark Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=634724&course=5",
          "role": [
            "Picture of Mark Smith"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Assignments by Google LTI Admin install issue",
          "Text": "Hello Mark, I'm really sorry to see that your question hasn't been answered. I've been trying to solve the exact same error for days, surfing the Google Help Center, but I still have the same problem in both Moodles (one is a 3.3.4 and the other a 3.4) I manage. I also manage the Gsuite accounts and have done the integration with the code and the secret pass myself. I've tryied Google Chrome and Microsoft Edge, and nothing seems to be working. If you have figured it out, PLEASE let me know how. Thanks, Marina Pindar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 21, 2020, 4:41 AM",
          "AuthorName": "Marina Pindar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1322940&course=5",
          "role": [
            "Picture of Marina Pindar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 388385,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=388385",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Passing specified LTI attributes",
          "Text": "We have a Zoom integration that uses an LTI external tool to launch Zoom meetings. We need for Person.address.timezone to be passed as an LTI attribute, so Zoom can set our users' timezones properly in the tool. I see that attribute included in the Moodle LTI module, locallib.php. There is a function lti_get_capabilities() that returns an array, including Person.address.timezone => $USER->timezone, but this is not getting passed to Zoom as an attribute. How do I get this in the oauth form data passed when the tool is launched?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 11, 2019, 6:34 AM",
          "AuthorName": "Greg Beber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1437930&course=5",
          "role": [
            "Picture of Greg Beber"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing specified LTI attributes",
          "Text": "To clarify, the tool provider is using LTI 1.0, so is there any way to get the timezone capability passed as an attribute to the Provider in LTI 1.0? Can this be set anywhere in Moodle? If not is it something that the Provider can provision on their end to request? The attribute is recognized in LTI 1.0. so ho do I get it from Moodle to the Provider?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 11, 2019, 7:20 AM",
          "AuthorName": "Greg Beber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1437930&course=5",
          "role": [
            "Picture of Greg Beber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing specified LTI attributes",
          "Text": "Did you ever find a solution for this? I want to do the same for the user's groups (in order to make only certain calls within the Zoom LTI Pro app available to certain Moodle groups).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 6, 2020, 8:48 PM",
          "AuthorName": "Elliot Bannister",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2623586&course=5",
          "role": [
            "Picture of Elliot Bannister"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing specified LTI attributes",
          "Text": "Hi, I'm curious about this too - I'm trying to make use of the LTI attributes to assign Faculty to a given Zoom Security Group, and Students to another. I'm new to Moodle and Zoom and we're just doing our best to make everything work right now. This is what I've tried w/ no success. Thanks, Jason",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1649717/zoom_moodle.png?forcedownload=1"
          ],
          "Time": "Tuesday, August 18, 2020, 5:01 AM",
          "AuthorName": "Jason Clark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3459323&course=5",
          "role": [
            "Picture of Jason Clark"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 408864,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=408864",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 - changing student grade via replaceResult not working on Moodle v3.9.1",
          "Text": "changing student grade from my TP used to work up to Moodle 3.8, I have created a new instance with Moodle 3.9 and I sow that grading via TP is not working, even tho I am sending the same exact params. on TP the replaceResults is implemented according to IMS Global Learning Tools Interoperability™ Implementation Guide . Thanks in advance, Bayan.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 17, 2020, 4:27 PM",
          "AuthorName": "Bayan Abuawad",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3456647&course=5",
          "role": [
            "Picture of Bayan Abuawad"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 394915,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=394915",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Grade Sync Error",
          "Text": "I'm using a Moodle Quiz with Moodle being the Provider. I did all the LTI setup. From the remote system, the student is taken to the Moodle quiz , the attempt shows in Moodle, but the grade is not passed back. I get the following message when using the Publish as LTI tool grade sync: \n```text\nStarting - Grade sync for shared tool '20' for the course '250'.\nFailed - The grade '0.3857143' for the user '7079' in the tool '20' for the course '250' failed to send.\nCompleted - Synced grades for tool '20' in the course '250'. Processed 1 users; sent 0 grades.\n\n... used 35 dbqueries\n... used 0.65261793136597 seconds\nScheduled task complete: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades)\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 19, 2019, 11:23 PM",
          "AuthorName": "Rob Frank",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2578419&course=5",
          "role": [
            "Picture of Rob Frank"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Grade Sync Error",
          "Text": "I also noticed an interesting aspect when sharing a Quiz vs. a Course the Student role from the consumer doesn't pass to Moodle. However, when I share the Course the Student role passes to Moodle. Anyone else experience this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 23, 2019, 11:40 PM",
          "AuthorName": "Rob Frank",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2578419&course=5",
          "role": [
            "Picture of Rob Frank"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Grade Sync Error",
          "Text": "I want to better explain and document what I am experiencing: Using Moodle 3.8 as LTI Tool Provider. 1- When I set the LTI to a specific activity and click the link from the LTI Consumer (Populi) the student is taken to the moodle activity but no role is passed and no grades are passed back. 2- When I set the LTI to a course and click the link from the LTI Consumer (Populi) the student is taken to the moodle course , the student role is passed and no grades are passed back once the student completes the activity or course. Any idea on how to troubleshoot this? Is this an issue on the Moodle side or from the consumer side?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 30, 2019, 11:32 AM",
          "AuthorName": "Rob Frank",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2578419&course=5",
          "role": [
            "Picture of Rob Frank"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Grade Sync Error",
          "Text": "Hi Rob, Did you ever fix this issue? I am having a similar experience in Moodle 3.9 to Moodle 3.9 LTI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 9, 2020, 2:28 AM",
          "AuthorName": "L B",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3423287&course=5",
          "role": [
            "Picture of L B"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 408187,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=408187",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Publish to LTI URL link in course refused to connect",
          "Text": "When Moodle is the LTI consumer, any URL inside a Moodle course, for example, will throw an error \"connection refused\". Presumably because it is trying to open within the embedded frame. Other LMS (Canvas, etc) can handle this and open the link in another tab.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2020, 4:09 AM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 407781,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=407781",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Integration of edpuzzle external tool",
          "Text": "I've been running into an odd problem: We have both staging and production Moodle servers. I had successfully integrated an external tool (edpuzzle) on our staging server , but the same content and config does not appear to work on the production servers. I have been trying to troubleshoot this issue with no luck. I've also recorded the behavior and uploaded it to YT. Link to clip below. Can anybody provide any guidance? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 28, 2020, 12:31 AM",
          "AuthorName": "Christopher Jang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3413690&course=5",
          "role": [
            "Picture of Christopher Jang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Integration of edpuzzle external tool",
          "Text": "I'm getting people saying that they cannot see the video. I've attached a link that doesn't automatically embed below: https://bit.ly/2X1VjtN",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 28, 2020, 3:10 AM",
          "AuthorName": "Christopher Jang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3413690&course=5",
          "role": [
            "Picture of Christopher Jang"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Integration of edpuzzle external tool",
          "Text": "Do you have a subscription with EdPuzzle? They have been very helpful with resolving my Moodle issues and I'd suggest reaching out to their support team.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 3, 2020, 11:36 AM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 407580,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=407580",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "How to add LTI App into course?",
          "Text": "Greetings, I'm attempting to build a \"how to\" integrate into Moodle article, but I'm having a hard time figuring out where to start? Can you please point me in the right direction? Also, is it possible to get a demo account in order to take screenshots of the integration process for better visualization? Sincerely, Felix",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 23, 2020, 11:00 AM",
          "AuthorName": "Felix Reyes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3406791&course=5",
          "role": [
            "Picture of Felix Reyes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to add LTI App into course?",
          "Text": "Following up on this. I tried to set the LTI tool on the demo, but I lack administrator rights. So I can't see the plugins area. Is it possible for me to be granted an admin account for testing purposes?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 23, 2020, 11:20 AM",
          "AuthorName": "Felix Reyes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3406791&course=5",
          "role": [
            "Picture of Felix Reyes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to add LTI App into course?",
          "Text": "Hi Felix, I'm not quite sure what you're referring to, however we do have a demo site for trying things out, with admin access - Moodle sandbox demo .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 23, 2020, 4:50 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to add LTI App into course?",
          "Text": "Thank you for that information @Helen. I'm attempting to integrate our application via a launch URL , Secret and Shared key into Moodle. Let's see how this goes.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, July 24, 2020, 2:00 PM",
          "AuthorName": "Felix Reyes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3406791&course=5",
          "role": [
            "Picture of Felix Reyes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to add LTI App into course?",
          "Text": "You can get a free MoodleCloud account that allows you to access outside courses with LTI. I was doing this the other day so my MoodleCloud account could view courses and questions on one of my DigitalOcean hosted accounts. I was impressed with the results, but found the setup quite confusing. Because you cannot add plugins to MoodleCloud, the ability to access an external Moodle that does have plugins is quite interesting. The world would benefit from some documentation on how to connect from one Moodle to another. I think the interface allows connection to other systems which adds additional options which can add to the confusion. Moodle specific instructions could make it much easier.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 24, 2020, 4:03 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to add LTI App into course?",
          "Text": "Thanks for your reply Marcus. I'm trying to integrate an app which has a launch url, secret and shared key. But it's on a course by course basis. So, basically I will need to connect each course from our end with its partner course on Moodle each time. Every integration will have its own different credentials. It seems that this is possible, since one faculty member who uses our product, was able to create a launch icon from within Moodle (integrate as an external LTI tool) which transfers student names, emails, and other information on a course by course basis. But I'm unsure of the steps that he took in order to do this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 24, 2020, 5:18 PM",
          "AuthorName": "Felix Reyes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3406791&course=5",
          "role": [
            "Picture of Felix Reyes"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 407117,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=407117",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Lineitems",
          "Text": "When I create an assignment in moodle, and then try and get a list of all lineitems in a tool I am working on, the assignment I created does not appear in the lineitem container. Is there a special way you have to create assignments as line items in moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 15, 2020, 4:15 AM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Lineitems",
          "Text": "This document seems to indicate that there is a specific line item service in moodle that I should be able to access. But I am not sure how, any assistance would be appreciated. https://docs.moodle.org/dev/LTI_Gradebook_Services#:~:text=Line%20Item%20is%20a%20gradebook,definition%20the%20line%20items%20URL",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 16, 2020, 7:11 PM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 406321,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=406321",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI integration - blackboard",
          "Text": "Hi All, I came across Publish LTI in moodle 3.6, so just want to know whether course from moodle can be given to Blackboard LMS. Thanks, Manu M",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 1, 2020, 6:42 PM",
          "AuthorName": "Manu M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2472030&course=5",
          "role": [
            "Picture of Manu M"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 406020,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=406020",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI advantage compliance",
          "Text": "Hi, Does anyone know if  Moodle meets the LTI advantage compliance as a publisher and consumer or just as a consumer. I found the link below that talks about it, but not sure if its as a publisher too. https://moodle.com/news/moodle-amongst-first-institutions-worldwide-to-achieve-lti-advantage-certification Thanks Sandeep",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 26, 2020, 7:05 AM",
          "AuthorName": "Sandeep Gill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=913417&course=5",
          "role": [
            "Picture of Sandeep Gill",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI advantage compliance",
          "Text": "Hi Sandeep - Moodle currently supports LTI 1.3 Advantage as consumer only. There is an open tracker issue MDL-63088 for this. LTI 1.1 is supported as provider.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 28, 2020, 7:53 PM",
          "AuthorName": "Sander Bangma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2356736&course=5",
          "role": [
            "Picture of Sander Bangma"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 405405,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=405405",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to create LTI api in core php project",
          "Text": "My requirement is, need to create LTI api which supportable to moodle, anyone have idea how to create / implement LTI api in my project (core php project). Then these LTI api communicate with moodle using LTI tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 16, 2020, 3:26 PM",
          "AuthorName": "Bhupendra Singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3333399&course=5",
          "role": [
            "Picture of Bhupendra Singh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to create LTI api in core php project",
          "Text": "This is not really a Moodle-specific question. The point about LTI tools is that if you follow the standards, your app will work with any LMS. I don't acutally know the tnaswer to your quetsion, becasue I have never done it. However, fi you Google, there are various guides available, of which this seems to have the best title: Writing LTI stuff .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 16, 2020, 6:04 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create LTI api in core php project",
          "Text": "Hi Tim Hunt, Thanks for you support. It is possible to call moodle LTI  by postman. If yes how can be used that ?. Give some  idea about.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2020, 12:50 PM",
          "AuthorName": "Bhupendra Singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3333399&course=5",
          "role": [
            "Picture of Bhupendra Singh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create LTI api in core php project",
          "Text": "Sorry, I don't know. I hope somebody else does.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2020, 4:14 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 384874,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=384874",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Strange User IDs when Using Moodle as an LTI Tool",
          "Text": "I use Schoology as an LMS.  For homework for my students, I have a Moodle site running and I publish the Moodle quizzes as an LTI tool.  Students access the Moodle quizzes through Schoology's External Tool function.  The whole process seems to work well, including the correct grade passback from Moodle to Schoology.  However, the students' exact user name is not getting passed correctly from Schoology to Moodle.  If I want to login to Moodle to view the attempt, I see something like \"42753849::9e8a7c781f5c80a02a0cded932865849\" for a user name for the student.  It would be helpful if I could see the actual user name that should be passed to Moodle from Schoology.  Any idea what might be going on here so I can try to diagnose this problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 6, 2019, 9:40 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Strange User IDs when Using Moodle as an LTI Tool",
          "Text": "Hi MIke, I've just encountered this same issue when testing LTI with Schoology and the solution is to add Moodle as an LTI tool on the Course Level and not on the Material/Resource Level. You can follow the steps from the link below: https://support.schoology.com/hc/en-us/articles/206401048-Course-Materials-External-Tools Go to the ﻿ \"Setting Up LTI External Tool Providers in Schoology\" section. Hope this helps!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 11, 2019, 8:15 AM",
          "AuthorName": "Paolo Curray",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1896128&course=5",
          "role": [
            "Picture of Paolo Curray"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Strange User IDs when Using Moodle as an LTI Tool",
          "Text": "I noticed something similar with Canvas....when you add the LTI , there is a Privacy drop down box. If you pick \"Anonymous\", then you get the weird user names generated, but if you pick something else like \"Public\" or \"Name Only\", then the student names should show up properly. Hope that helps!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 19, 2019, 2:05 AM",
          "AuthorName": "Joseph Liaw",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=284918&course=5",
          "role": [
            "Picture of Joseph Liaw"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Strange User IDs when Using Moodle as an LTI Tool",
          "Text": "Hello Joseph, I am having the same problem with the Canvas-Moodle integration, but I do not have access to the Canvas settings and have to ask the administrators to change settings. Is the Privacy Drop-Down located in Canvas or Moodle? Thank You, Stan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 5, 2020, 5:41 AM",
          "AuthorName": "Stanislav Shap",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2533615&course=5",
          "role": [
            "Picture of Stanislav Shap"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Strange User IDs when Using Moodle as an LTI Tool",
          "Text": "Thanks for the help.  This does work well.  It appears that Schooogy is only prepared to send user info to Moodle if you have it configured at the course level in addition to at the activity level.  If only you didn't have to add each activity twice....oh well, at least it works.  Thanks again!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 28, 2020, 2:30 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 404756,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=404756",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI/xternal tool question",
          "Text": "Hi, I am wanting to add an external tool into a folder or lesson on moodle, how is this possible and is there a better way to do this?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1633679/Screen%20Shot%202020-06-02%20at%206.14.21%20PM.png?forcedownload=1"
          ],
          "Time": "Friday, June 5, 2020, 4:27 AM",
          "AuthorName": "Faatimah Murad",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3306615&course=5",
          "role": [
            "Picture of Faatimah Murad"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 404643,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=404643",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Instructions for LibGuides LTI from Springshare",
          "Text": "Hi all, does anyone have any instructions or experience for integrating Moodle (for us - 3.5) with Springshare's LibGuides (LibCal and LibAnswers)? The company are refusing to provide step by step instructions for Moodle (but they have for other VLE's). Note - I'm sure it would be an easy things to work out, but that takes resource and time, which we unfortunately don't have right this minute.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 4, 2020, 2:06 AM",
          "AuthorName": "Jessica Comber-Chaney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2887276&course=5",
          "role": [
            "Picture of Jessica Comber-Chaney"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 403790,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403790",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI questions",
          "Text": "I set up Moodle as an LTI tool provider with my SIS/LMS (Populi). I'm trying to better understand LTI and what exactly gets passed. A student logging into the course from Populi clicks the Moodle link and can now access the course in Moodle. I would also like the ability for the student to be able to login to Moodle directly at a future time (and not just through the LTI link in Populi). Is this possible? I have noticed if we manually enroll students into Moodle and later the student access Moodle using the LTI link from a specific course in Populi that it creates a new user and doesn't know to match the user with the one manually entered. Is there a way to get Moodle to match the user? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 21, 2020, 11:13 PM",
          "AuthorName": "Rob Frank",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2578419&course=5",
          "role": [
            "Picture of Rob Frank"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 403312,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403312",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Trying to add a new LTI in a course",
          "Text": "Got the following error when I attempted to add an lti activity to a course.  It seems to occur in one course only.  It is an old test course. Did you remember to make the first column something unique in your call to get_records? Duplicate value 'icon' found in column 'name'. line 885 of /lib/dml/pg sql _native_moodle_database.php: call to debugging() line 1438 of /mod/lti/locallib.php: call to pgsql_native_moodle_database->get_records_sql() line 134 of /mod/lti/mod_form.php: call to lti_get_type_config() line 204 of /lib/formslib.php: call to mod_lti_mod_form->definition() line 99 of /course/moodleform_mod.php: call to moodleform->__construct() line 141 of /course/modedit.php: call to moodleform_mod->__construct() It is executing this query: SELECT name, value FROM mdl_lti_types_config WHERE typeid = 1 UNION ALL SELECT 'toolurl' AS name, baseurl AS value FROM mdl_lti_types WHERE id = 1 UNION ALL SELECT 'icon' AS name, icon AS value FROM mdl_lti_types WHERE id = 1 UNION ALL SELECT 'secureicon' AS name, secureicon AS value FROM mdl_lti_types WHERE id = 1; It does not seem to affect adding an lti to another random course. Any Ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 15, 2020, 3:09 AM",
          "AuthorName": "Eric Katchan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555818&course=5",
          "role": [
            "Picture of Eric Katchan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 403117,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403117",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "MD5 Hash and providing a link to SSO on a service from Moodle",
          "Text": "Hi, I need to provide our Moodle students with access to a library and they have a system of SSO in which I need to provide a specific URL that includes their website, certain parameters, and a salted password with MD5. Is there any tool in Moodle that provides this functionality? The link I need to create from Moodle is like this: https://www.platform.THESERVICE.com/sso?CustomerId=<CID>&Email=<EMAIL>&FirstName=<FIRSTNAME>&ts=<UTC_TIME_STAMP>&md5=<MD5_VALUE> ; Best, Fabian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 12, 2020, 10:33 PM",
          "AuthorName": "Fabian Glagovsky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=566141&course=5",
          "role": [
            "Picture of Fabian Glagovsky",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: MD5 Hash and providing a link to SSO on a service from Moodle",
          "Text": "MD5 is not a good enough hash function for passwords. Really, raither than trying to re-invent some half-arsed security, this other system needs to implement LTI, which has a properly reviewed secuirty design. (Sorry, I realise this is not a helpful answer.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 13, 2020, 6:17 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: MD5 Hash and providing a link to SSO on a service from Moodle",
          "Text": "Haha, no, it isn't. But thanks anyway Best, Fabian",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, May 13, 2020, 6:59 PM",
          "AuthorName": "Fabian Glagovsky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=566141&course=5",
          "role": [
            "Picture of Fabian Glagovsky",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 394618,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=394618",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Failure Connecting to Moodle LTI Provider",
          "Text": "I am not able to connect to Moodle as an LTI Provider through an external LTI consumer. I keep receiving the error message Failed request. Reason: Sorry, there was an error connecting you to the application. I am able to connect to my Moodle course through http://ltiapps.net/test/tc.php . I followed all the steps from https://docs.moodle.org/38/en/Publish_as_LTI_tool Go to Site administration > Plugins > Authentication > Manage authentication and enable LTI Go to Site administration > Plugins > Enrolments > Manage enrol plugins and enable 'Publish as LTI tool' Allow frame embedding' is enabled (in \"Site Administration > Security > HTTP security\") Course Administration > Published as LTI tools I attached a file showing the differences in POST messages from the emulator and my external consumer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 12, 2019, 7:55 AM",
          "AuthorName": "Steven Harrison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2859690&course=5",
          "role": [
            "Picture of Steven Harrison"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Failure Connecting to Moodle LTI Provider",
          "Text": "Adding screenshots showing the POST request from the LTI emulator to Moodle and GIFT (LTI consumer) to Moodle. The emulator succeeded with a 303 status. GIFT was returned a 'unable to connect' with a 200 status.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1591349/Emulator-to-Moodle-POST.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1591349/GIFT-to-Moodle-POST.png?forcedownload=1"
          ],
          "Time": "Saturday, December 14, 2019, 3:12 AM",
          "AuthorName": "Steven Harrison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2859690&course=5",
          "role": [
            "Picture of Steven Harrison"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Failure Connecting to Moodle LTI Provider",
          "Text": "Does anyone have an idea of what to do next?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 20, 2020, 3:22 AM",
          "AuthorName": "Steven Harrison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2859690&course=5",
          "role": [
            "Picture of Steven Harrison"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 403061,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403061",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "HELP WITH ERROR 403 Forbidden",
          "Text": "```text\nPLEASE HELP WHEN I LINK MY LTI TOOL AND TRY TO SHOW IT IN THE COURSE SHOWS ME THE ERROR\n```\n 403 Forbidden and shows nothing",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 12, 2020, 7:58 AM",
          "AuthorName": "IEC PUEBLA",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3211731&course=5",
          "role": [
            "Picture of IEC PUEBLA"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 388278,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=388278",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Interfacing an external tool with LTI 1.3",
          "Text": "Hello everyone, I'm trying to grasp how LTI 1.3 works in order to interface a tool we are developing with moodle - and I must admit I'm struggling a bit. My first question is about authentication. In LTI terms, moodle is the platform , our software is the tool . The LTI 1.3 standard is based on OpenID Connect (OIDC), and the platform is serving as the identity provider. So I guess moodle should expose the OIDC API, documented at a well known address (.well-known/openid-configuration). I installed moodle locally to try this out, but couldn't find any trace of a OIDC API, not even in the sourcecode. Am I missing something?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 8, 2019, 11:18 PM",
          "AuthorName": "Thomas Girod",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2691650&course=5",
          "role": [
            "Picture of Thomas Girod"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Interfacing an external tool with LTI 1.3",
          "Text": "Hi, I am asking myself the same question. In the IMS library to build tool providers https://github.com/IMSGlobal/lti-1-3-php-library , you have to provide: - The platform's OIDC login endpoint - The platform's service authorization endpoint - The platform's JWKS endpoint Sakai provides them all but I cannot find them for moodle (version 3.7).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 6, 2019, 8:27 PM",
          "AuthorName": "Pierre-Yves Dufays",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=446188&course=5",
          "role": [
            "Picture of Pierre-Yves Dufays"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interfacing an external tool with LTI 1.3",
          "Text": "All this info is provided by moodle after you create your LTI 1.3 External Tool in Moodle UI. Path in moodle: \"Site administration -> Plugins -> Activity modules -> External tool\". You need to login as a moodle admin to access the UI. After you create an external tool, the following info can be seen in the tool configuration details ui. Platform ID: /moodle Client ID: Deployment ID: Public keyset URL : /moodle/mod/lti/certs.php Access token URL : /moodle/mod/lti/token.php Authentication request URL: /moodle/mod/lti/auth.php This is all the info you need to get started.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2019, 9:26 PM",
          "AuthorName": "Srinivas Jonnala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2708860&course=5",
          "role": [
            "Picture of Srinivas Jonnala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interfacing an external tool with LTI 1.3",
          "Text": "Thank you very much, it was right in front of my eyes but I didn't see it!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2019, 3:01 PM",
          "AuthorName": "Pierre-Yves Dufays",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=446188&course=5",
          "role": [
            "Picture of Pierre-Yves Dufays"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interfacing an external tool with LTI 1.3",
          "Text": "I don't see it. Is there a button or something? All I see are the settings that I entered. (This from Site admin / Plugins / Activity modules / Manage activities / Edit preconfigured tool) Can someone post a screenshot that shows where to find the \"tool configuration details ui\"? I am using Moodle 3.8",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 7, 2020, 8:37 AM",
          "AuthorName": "Jim Davis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2710999&course=5",
          "role": [
            "Picture of Jim Davis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interfacing an external tool with LTI 1.3",
          "Text": "I'm also looking for the tool configuration details as shown in this screenshot: https://github.com/SanDiegoCodeSchool/lti-node-library/blob/master/Moodle_Tool_Config.png on my moodle server ; but I can't seem to find it. Any hints? EDIT: Never mind, found it by clicking on the second icon (the 'list' icon) here:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1595220/Screenshot%202020-01-12%20at%2014.09.30.png"
          ],
          "Time": "Sunday, January 12, 2020, 9:06 PM",
          "AuthorName": "Joost van Doremalen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2878315&course=5",
          "role": [
            "Picture of Joost van Doremalen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interfacing an external tool with LTI 1.3",
          "Text": "Hi, I have a few questions about LTI 1.3. Please guide me about that. 1.During LTI 1.3 tool launch, login authorization launch parameters only contains below sample details: iss => https://xyz.moodlecloud.com target_link_uri => https://lxyz.com/launch login_hint=> 2 lti_message_hint=> 0 We are not getting either client_id or deployment id after tool launch. Will the launch parameters remain the same or will it be changed/updated by moodle in the future? 2. When I am trying to submit grades, I am getting below error response from moodle. \"body\": { \"status\": 400, \"reason\": \"No handler found for /8/lineitems/33/lineitem application/vnd.ims.lis.v1.score+json\", \"request\": { \"method\": \"POST\", \"url\": \"/mdl371/mod/lti/services.php/8/lineitems/33/lineitem?type_id=5/scores\", \"accept\": \"application/json\", \"contentType\": \"application/vnd.ims.lis.v1.score+json\" } }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 12, 2020, 3:44 PM",
          "AuthorName": "Rohit Shirsath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2907005&course=5",
          "role": [
            "Picture of Rohit Shirsath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interfacing an external tool with LTI 1.3",
          "Text": "Did you get any solution for clientId as parameter while launching 1.3 tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 6, 2020, 8:25 PM",
          "AuthorName": "Laxman Mankala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2928599&course=5",
          "role": [
            "Picture of Laxman Mankala"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 400211,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=400211",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Log in in external site by Moodle student user",
          "Text": "Dear ones, I made a non Moodle site in php with a course. Now I would like to add to this site the possibility that students who authenticate themselves on my course on Moodle can access without having to make a further login also on the external site. In a nutshell I would like a student to click on a button or link in the course on Moodle to be authenticated on the external site. I read that with Moodle it can be done using LTI but it is not clear to me how. In my site on Moodle it was easy to insert and configure the external tool but I don't know what I have to add to my site outside Moodle to receive the student data for authentication. I also know that LTI is not the easiest method but it is the method that the IT expert would like me to use (it would be easier with a webservice). Is there an example (better if done in php) that implements LTI authentication on the provider site? In case there isn't an example where can I find documentation? I tried to explore the IMS site but got lost without finding anything. Thanks in advance for any suggestions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 9, 2020, 6:49 AM",
          "AuthorName": "Stefano Fredella",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2958805&course=5",
          "role": [
            "Picture of Stefano Fredella"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Ri: Log in in external site by Moodle student user",
          "Text": "Hi, I found this example https://github.com/IMSGlobal/lti-1-3-php-example-tool/tree/master/src . I installed this example but was unable to get it working. I've done: - docker-compose up --build - php composer.phar install without receiving error messages. But when I call the test page of the platform I have this error: Anyone know what I have to change? Thank",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1615045/Error.png?forcedownload=1"
          ],
          "Time": "Saturday, April 11, 2020, 4:33 AM",
          "AuthorName": "Stefano Fredella",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2958805&course=5",
          "role": [
            "Picture of Stefano Fredella"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Log in in external site by Moodle student user",
          "Text": "Finally I discovered that this example run only with docker composer desktop that can be installed only with Windows 10 pro. Is not possible to use Windows 10 home.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 24, 2020, 1:33 PM",
          "AuthorName": "Stefano Fredella",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2958805&course=5",
          "role": [
            "Picture of Stefano Fredella"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ri: Log in in external site by Moodle student user",
          "Text": "Hello I'm actually doing the same implementation as you, but in OCaml. Here is some pointers to help you understand LTI protocol : - https://www.imsglobal.org/specs/ltiv2p0/implementation-guide To make your own External Registration Tool (Part 4 & 6). - https://www.imsglobal.org/spec/security/v1p0#step-1-third-party-initiated-login To know how to make OIDC Login requests - https://github.com/SanDiegoCodeSchool/lti-node-example#a-use-example-tool An example of OIDC login I hope it can help you. If you could share your code if you succeed in implementing it, I will be gratefull to you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 27, 2020, 6:19 PM",
          "AuthorName": "Maxime Salv",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3181130&course=5",
          "role": [
            "Picture of Maxime Salv"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 396002,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396002",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "NEW SameSite=None; Secure Cookie Settings breaks LTI",
          "Text": "With Chrome 80 in February, Chrome will treat cookies that have no declared SameSite value as SameSite=Lax cookies. Only cookies with the SameSite=None; Secure setting will be available for external access, provided they are being accessed from secure connections. The Chrome Platform Status trackers for SameSite=None and Secure will continue to be updated with the latest launch information. Mozilla has affirmed their support of the new cookie classification model with their intent to implement the SameSite=None; Secure requirements for cross-site cookies in Firefox . Microsoft recently announced plans to begin implementing the model starting as an experiment in Microsoft Edge 80. I believe that the Publish to LTI tool in Moodle will be affected by this! I have enabled the Experimental Features for #same-site-by-default-cookies and #cookies-without-same-site-must-be-secure in chrome://flags/ and the LTI links I have published to Schoology are broken and revert back to the Login screen. Does anyone know if this will be fixed in an upcoming Moodle release?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 21, 2020, 6:40 AM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: NEW SameSite=None; Secure Cookie Settings breaks LTI",
          "Text": "I have the exact same problem.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Tuesday, March 17, 2020, 2:42 AM",
          "AuthorName": "Ramon Figueroa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2382741&course=5",
          "role": [
            "Picture of Ramon Figueroa"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: NEW SameSite=None; Secure Cookie Settings breaks LTI",
          "Text": "This has been fixed. You will need to update to Moodle 3.8.1+.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 27, 2020, 11:28 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: NEW SameSite=None; Secure Cookie Settings breaks LTI",
          "Text": "This fix has also been backported to 3.5.11, 3.6.9, 3.7.5 as well, per MDL-67175 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 24, 2020, 6:19 AM",
          "AuthorName": "Randy Thornton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88992&course=5",
          "role": [
            "Picture of Randy Thornton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 399560,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=399560",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Issue with unregisterd redirect uri",
          "Text": "Hi, I have an LTI 1.3 external tool that I am developing/testing. When I try and launch the tool from Moodle, after the intitial request, it tries to make the redirect request back to my tool. But I keep getting the following: error: invalid_request error_description: Unregistered redirect_uri https://<the url of my tool> When I setup the tool, I did add the url i redirect to to the Redirection URI's field in the Edit Preconfigured Tool page. Is there another place I have to go to set things up?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 1, 2020, 10:54 PM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Issue with unregisterd redirect uri",
          "Text": "Disregard! I had a slight misspelling in the url... and despite staring at it for almost an hour I didnt see it until I copied and pasted it from someplace it was working :P",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 2, 2020, 12:36 AM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issue with unregisterd redirect uri [Solved]",
          "Text": "Glad to hear you figured things out Thomas. Thanks for posting your solution.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, April 2, 2020, 3:16 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 398357,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=398357",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Load Attendance  by LTI standard",
          "Text": "Hey.....! By Facial Recognition a python project i want to mark attendance of present students in class automatically to Moodle account.i have done saving attendance in excel sheet but i could not load attendance to moodle account. Can Anyone guide me regarding this Thanks in Advance.....!😊",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 16, 2020, 3:14 PM",
          "AuthorName": "ABRAR HAIDER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2808095&course=5",
          "role": [
            "Picture of ABRAR HAIDER"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 398160,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=398160",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI access prevented",
          "Text": "We are using Moodle 3.8.2 (Build: 20200309) Version 2019111802 We have set up some LTI links using the publish as LTI tools method and provided the links to a client. They  have set up the activities in their LMS and most users are able to access the content and everything is working for them. The main administrator however is unable to use the LTI link and is always presented with the logon page for our LMS.  We have checked and they haven't exhausted their seat allocation. They are using the same version of Moodle as us. has anyone got any ideas how to solve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 11, 2020, 7:33 PM",
          "AuthorName": "Stephanie Macky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2949576&course=5",
          "role": [
            "Picture of Stephanie Macky"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 398080,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=398080",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Whitelabel Error Page",
          "Text": "Im getting a this error when I add to the external tool. We wanted to partner up with elsevier and they gave us a url for the lti tool to work however Im getting this message: Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback. Mon Mar 09 16:44:40 GMT 2020 There was an unexpected error (type=Method Not Allowed, status=405). Request method 'GET' not supported Elsevier support can't also find the problem. I tried doing it on moodle versions 3.2 up to 3.5.10 but the error still persists. Hope I can get help with this problem thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 10, 2020, 12:49 AM",
          "AuthorName": "J Doe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2936385&course=5",
          "role": [
            "Picture of J Doe"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 397978,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397978",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding resultData url to grade passback XML",
          "Text": "For the past couple of years I've been using Moodle as an LTI provider for quizzes embedded inside Canvas. Moodle quizzes just do so much more than Canvas quizzes that it's worth it to me to jump through a few hoops. Is there a way to add the resultData field to the XML that's sent back to the LTI TC? I'm looking specifically to add a url to resultData for quizzes, but possibly for other assignment types in the future. The idea is that the speed grader in Canvas would be able to post to that URL to get information about the quiz so kids and teachers don't need to go back to the Moodle launch. Yes, I know there's security to think about there as well. But that's for another post. First thought was to filter the XML that's sent back. But it appears that there isn't a spot to do that. I found where it's created in the create_service_body function, but that only takes a grade as parameter and doesn't appear to have a way to add additional data to the XML. Found where that method is called, but appears that the value is sent to create an OAuth launch immediately. My current thought is to write a task plugin that basically overrides the existing grade passback task. And I've written plugins for Moodle and LTI tools both on the consumer and provider side. So I'm not worried about the actual coding. I'm just trying to work out a way to make this work without having to edit the core code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 6, 2020, 10:45 PM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 397858,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397858",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI External Tool and completion",
          "Text": "Only viewing and grading are currently supported as completion criteria for the External Tool plugin. Since LTI external tools often provide tests, quizzes, assignments, etc. where completion (e.g. based on a passing grade) is determined provider side, this leads to awkward constructions to handle course completions. Are there plans to add a completion criterion based on e.g. the Result.state? How do you guys handle this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 4, 2020, 9:21 PM",
          "AuthorName": "W Roes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1258805&course=5",
          "role": [
            "Picture of W Roes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 396423,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396423",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "LTI Sync Grades Issue",
          "Text": "Hello! I have configured Moodle to Deliver SCORM courses via LTI, and set up \"\\enrol_lti\\task\\sync_grades\" scheduled job to run every 10 minutes. The LTI consumer complains that grades are syncing to their system while the student attempting the exam within the SCORM Course. For an instance, if a student takes 20 minutes to answer all the questions, grades are syncing to their system every 10 minutes, but not the at the end of the quiz. I want the Moodle to sync grades post grades only after the student answered all the questions. Any work around for this? Any help would greatly appreciated. Thank You.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 30, 2020, 7:00 PM",
          "AuthorName": "Vijay Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2860169&course=5",
          "role": [
            "Picture of Vijay Joseph"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Sync Grades Issue",
          "Text": "Anyone have update on the issue I'm facing?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 31, 2020, 1:54 PM",
          "AuthorName": "Vijay Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2860169&course=5",
          "role": [
            "Picture of Vijay Joseph"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sync Grades Issue",
          "Text": "Hi Vijay, Make sure that you set your LTI tool to only sync grades after course or activity completion. Make sure that your scorm activity completion is set on only mark by either Passed or Completed. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 21, 2020, 8:54 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sync Grades Issue",
          "Text": "Hi, I have a similar problem with the LTI tool. I have created an activity with the LTI tool and it integrates correctly with Moodle. But when the student has finished the activity and I want to send a note to Moodle, I don't know which URL , method and parameters are used. Thank you, a greeting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 25, 2020, 5:00 PM",
          "AuthorName": "Francisco Sillero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2925153&course=5",
          "role": [
            "Picture of Francisco Sillero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sync Grades Issue",
          "Text": "Hi Francisco, Hope that this provides you some information on how to work with the External Tool activity. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 25, 2020, 9:48 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sync Grades Issue",
          "Text": "Hi Gemma, I'm going to explain myself to see if I understand the process. 1. Moodle (External Tool): Redirect or embed the External Activity. 2. External Activity: Sending grade after use. 3. Moodle (Save grade from External Activity) Step 1 is done. Step 2 and 3 is the one I don't know how to do. Is that process correct?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 25, 2020, 10:49 PM",
          "AuthorName": "Francisco Sillero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2925153&course=5",
          "role": [
            "Picture of Francisco Sillero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sync Grades Issue",
          "Text": "Hi Francisco Can you share screenshots of your settings in 1, that would give me an insight in what you issue is. Could you also share your moodle version you are on? Which LMS system do you use as a LTI Provider? Is this Moodle too Moodle - if so what is the Moodle version of the LTI provider? Thank you! Gem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 25, 2020, 11:26 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sync Grades Issue",
          "Text": "Hi, Gemma These are the data: Moodle version: 3.1.3 LTI version: LTI-1p0 Config LTI: Request: I have disabled the activity to show the request I receive from moodle.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1603084/1-Config.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1603084/2-Config.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1603084/Request-1.png"
          ],
          "Time": "Tuesday, February 25, 2020, 11:51 PM",
          "AuthorName": "Francisco Sillero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2925153&course=5",
          "role": [
            "Picture of Francisco Sillero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sync Grades Issue",
          "Text": "Hi Francisco, My Spanish (?) is not that great to actually understand the settings, but if you have selected the setting at Privacy for \"accept grades from tool\", you should be able to receive grades from the LTI Provider you are connecting too. If no grades have been passed through and are not showing up in your grade book, I suggest you contact the LTI provider that send you the link and discuss this with them. You could also do a check through https://lti.tools/saltire/ to see what is happening. Not to be too critical - and besides this discussion- but if you are still using Moodle 3.1, I suggest you do a Moodle upgrade to a more actual supported Moodle version. At this stage I don't see how I can help you any further, if your External tool setting are correct and you are NOT receiving grades, best approach is contacting the LTI provider. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 26, 2020, 3:40 AM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sync Grades Issue",
          "Text": "Hey, Gemma, I'll take your advice. Thank you, a greeting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 26, 2020, 3:27 PM",
          "AuthorName": "Francisco Sillero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2925153&course=5",
          "role": [
            "Picture of Francisco Sillero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sync Grades Issue",
          "Text": "Gemma, Thank you! I will try your advice.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 26, 2020, 7:54 PM",
          "AuthorName": "Vijay Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2860169&course=5",
          "role": [
            "Picture of Vijay Joseph"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 397521,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397521",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "CENGAGE LTI Grade synch update not working",
          "Text": "We are using Moodle Moodle 3.7.3 (Build: 20191111), with Cengage external modules. The Cengage modules work as they should and report a grade back to the Moodle gradebook. The grade value is stored in mdl_grade_grades in the item finalgrade field. However, the gradebook category and course totals do not get updated after Cengage stores the grade. If we manually update the grade book with some other grades, then the totals are updated correctly, including the Cengage data. Cengage insists everything is configured correctly on their end and on our end. Several questions: When/how does Moodle update category and course grade totals? In mdl_grade_grades there is a field, aggregationstatus. Is that a flag that is checked to recalculate category/course totals? What else should I be looking at? Thanks, Floyd",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 26, 2020, 4:03 AM",
          "AuthorName": "Floyd Saner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=142294&course=5",
          "role": [
            "Picture of Floyd Saner"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 395951,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395951",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "I can't see external tool page",
          "Text": "Hi community, I can't see the page \"manage tools >>external tool\" any body help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 20, 2020, 11:36 AM",
          "AuthorName": "Ezz Tech",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2880104&course=5",
          "role": [
            "Picture of Ezz Tech"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: I can't see external tool page",
          "Text": "Go to Site Administrator, Plugins and select manage enrollment plugins and make the LTI External Tool visible (enable the plugin)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 6:34 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 396898,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396898",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Does anyone have a working LTI connect based upon the Boost theme (or a child of Boost) ? At the moment the LTI provider appears to ignore the consumer \"embed\" or \"embed without blocks\" setting and provides a full page. How should Moodle (3.7) know it is embedded and present the correct embedded layout in Boost?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 11, 2020, 7:05 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "It doesn't seem to be theme related. I am guessing some extra parameters are need to say \"use embed format\" even though I selected embed in the consumer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 11, 2020, 10:50 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Hi Brian, Are you trying to embed a course or activity on a Moodle provider. The setting in the external tool configuration on the consumer only affects blocks the consumer system might add not the ones on the provider. If you want to remove blocks added by the provider that should be configured on the provider system with the correct layout or theme there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 13, 2020, 10:08 PM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Hi Daniel The provider is a different Moodle 3.7 server that I control. However, when trying to configure the provider to go into \"embed\" mode, I keep getting the full menus and navigation duplicated - one from the provider and one on the consumer. I have hacked core Moodle lti to always present embedded, but any help in doing this in the provider settings would be appreciated.  I am sure I am just missing something. I don't see anything in the provider settings that says how to present a course.  Just which tool to publish (course), secret code, and syncronisation settings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 14, 2020, 7:10 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "OK, newbie error (I haven't done LTI before) On the consumer site, I had to set custom paramenter \"force_embed = 1\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 14, 2020, 7:54 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "I think that setting changes the default for the external tool configuration form. Again if the is on the consumer, this may not have anything to do with the blocks you are seeing if they are added by the provider. They would need to be removed by the provided site. A Moodle LTI provider by default uses a embedded format when individual activity is shared, but not when a course is.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 15, 2020, 12:24 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Thanks Daniel What would be nice is if the embedded format for a course was available as an option on Moodle LTI provider. Ah well, I can get the consumer to request the course to be in embedded format, so that will do for now :D",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 16, 2020, 9:55 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Brian, That setting does not \"request\" anything of the provider. It just causes embedded layout to be used on the consumer. You can change the theme on the provider to use an embedded layout for the course, but that is a configuration question for the provider site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 4:22 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Actually, I stated that incorrectly earlier. The embed setting actually adds the blocks on the consumer site. It is essentially saying that you believe the provider has an embedded layout so it is okay to embed it within a full page layout. Setting this to something else open the provider in a page by itself.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 8:19 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Cool and thanks for your help Daniel As we are trying to publish central static content on a core Moodle server (moodle.kent.ac.uk/core) to each Moodle academic year (moodle.kent.ac.uk/2020) the overhead of LTI proves to be unnecessary.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 6:19 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 374930,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374930",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI consumer users are free to explore provider site",
          "Text": "Hey folks, Does anyone have any insight into whether this is expected or not.... I've created a course on my Moodle site which I then publish as an LTI tool.  When I consume this course via the launch URL , the corresponding user created for me on the Moodle site is able to navigate around the entire site.  Is there not a way of restricting the session to the course only? In the old local_ltiprovider plugin there was a setting 'forcenavigation' which would be used to redirect users to the course/mod if they tried to stray off the path. By the way, I am using Moodle 3.5. Cheers, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 23, 2018, 2:08 AM",
          "AuthorName": "Eric Richer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2314782&course=5",
          "role": [
            "Picture of Eric Richer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI consumer users are free to explore provider site",
          "Text": "Hello Eric, Today I noticed a scenario similar to what you mentioned. Case 1: LTI Provider: Moodle 3.5.2 LTI Consumer: Moodle 3.5.2 I shared a specific content (not the whole course) The navigation is normal, when I access from LTI Consumer, the content on LTI Provider is opened and no blocks from the provider is shown. When I shared the whole course, I can see the navigation blocks from Provider Moodle and navigate between different activities . Case 2 LTI Provider: Moodle 3.5.2 LTI Consumer: Open EdX I shared a specific content (not the whole course) There is no problem at the login and the content from Moodle is shown in the consumer side, but the navigation blocks from the moodle are also shown, and the user can navigate in the menu and between blocks, as if all course is shared: Does anyone experience similar issue? Especially with Open Edx or other non-Moodle platform as LTI Consumer? Regards, Tansu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 2, 2018, 10:45 PM",
          "AuthorName": "Tansu PANCAR",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2429676&course=5",
          "role": [
            "Picture of Tansu PANCAR"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI consumer users are free to explore provider site",
          "Text": "Hi, I've been playing around with LTI publication and consumption lately and here is what I noticed. When Moodle is an LTI provider, it will display contents using an embedded template (i.e. with no navigation whatsoever). This applies only for users with the student role on the consumer LMS, not for teachers (and higher roles) who will see the full navigation. To disable the navigation for everyone, 'force_embed=1' must be added as a custom parameter on the consumer system. I could confirm on the LTI test tools: http://lti.tools/saltire I couldn't find a way to force this form the provider Moodle, which is a pity in my opinion. Cheers, Max",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 22, 2019, 12:23 AM",
          "AuthorName": "Maxime Taisne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1100855&course=5",
          "role": [
            "Picture of Maxime Taisne"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI consumer users are free to explore provider site",
          "Text": "Hi all Is it worth adding this as a tracker for Moodle? Expected behaviour as an LTI provider is to 1. The Moodle LTI provider to have an option to force embed (needed both when sharing a course and when users are higher in privilege than student) 2. LTI consumer user should not be able to see \"the rest of the site\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 5:09 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 397048,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397048",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Publish a batch of activities as LTI with a unique secret",
          "Text": "Hi everybody, I would need to publish many activities as LTI, BUT with a unique secret (and not one by one). The activities I should publish come all from the same course. I think I have heard it is possible, but I cannot find a way Can anyone help me (or re-direct me to the proper thread)? Thanks in advance, Lorenzo",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, February 14, 2020, 6:01 PM",
          "AuthorName": "Lorenzo Testa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2914327&course=5",
          "role": [
            "Picture of Lorenzo Testa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 396921,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396921",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get course roster via LTI",
          "Text": "Hi all, I'm advising some CS students who are developing an application for a senior capstone project. They would like to use Moodle LTI to provision accounts for their app. However, they want faculty to be able to complete the process without requiring each student to launch the LTI in order to have an account created in the external tool. The students just need to be added to the external app so the teacher can mark assessment data for them, the students don't need to actually log in to it. I advised them to look at LTI based on how the PollEverywhere LTI app functions. My school has the PE LTI app installed in our Moodle and I see the following functionality: Instructor adds the Polleverywhere LTI to a course On first launch, the instructor sees a button that launches an LTI URL that creates accounts in the external app (Polleverywhere). See below. The students seem to be stuck and think that LTI requires each user to click the link in order to be populated into their app. I'm wondering if anyone has any ideas or pointers on how they can replicated the described functionality. Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1600567/2020-02-11_14-50-35.png"
          ],
          "Time": "Wednesday, February 12, 2020, 7:00 AM",
          "AuthorName": "Ben Kahn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1843974&course=5",
          "role": [
            "Picture of Ben Kahn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 390251,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390251",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle to Moodle LTI Content selection",
          "Text": "Hi All, I have two Moodle instances, one serving as a repository (R), the other as an LMS (L). I use LTI for the integration of shared courses or activities in (L). It is working but it seems necessary to declare each LTI object shared from (R) in (L). I'm looking if it's possible to declare (R) as \"External Tool\" once and then to have the possibility to display a kind of catalog of the LTI objects available in (R) from (L). On the client side (L), when configuring the external tool configuration, there is indeed a \"Content Selection URL \" field that seems to be made for this, but what is the URL to indicate for a Moodle LTI provider server ? Any idea ? Thanks. Laurent",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 29, 2019, 12:11 AM",
          "AuthorName": "Laurent Dairaine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=311695&course=5",
          "role": [
            "Picture of Laurent Dairaine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI Content selection",
          "Text": "Probably a bit late for you and sorry to say I don't have the answer, but we will need to build such a capability for specific Modules (classes). If you are going to do this from scratch you probably want a local plugin \"/local/ltisync\". If we get around to it I will try to come back here and remember to update this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 11, 2020, 7:02 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 396825,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396825",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 content creation",
          "Text": "Hello, When I am trying to create a single resource using External tool then it working properly using LTI. Process:Course->add a resource->select content->external tool Then using LTI 1.1 it creates single content properly. But when I am sending multiple content requests using LTI then content not created. Can you please help me with this? How to create multiple resources at a time using LTI 1.1 in moodle, Is there any different setting? Please find below my LTI 1.1 JSON content item sample for 2 content item request and single item request: \n```text\n{\n```\n \"@ context \": \"http://purl.imsglobal.org/ctx/lti/v1/ContentItem\" , \"@graph\" : [ { \"@type\": \"LtiLinkItem\", \"@id\": \"test123 - Lesson 02 Quiz\", \"text\": \"test123 - Lesson 02 Quiz\", \"mediaType\": \"application/vnd.ims.lti.v1.ltilink\", \"title\": \"test123 - Lesson 02 Quiz\", \"lineItem\" : { \"@type\": \"LineItem\", \"label\": \"test123 - Lesson 02 Quiz\", \"reportingMethod\": \"res:totalScore\", \"scoreConstraints\" : { \"@type\": \"NumericLimits\", \"totalMaximum\": 100 } }, \"custom\" : { \"lti_app_resource_id\": 3988 } }, { \"@type\": \"LtiLinkItem\", \"@id\": \"test123 - Lesson 03 Quiz\", \"text\": \"test123 - Lesson 03 Quiz\", \"mediaType\": \"application/vnd.ims.lti.v1.ltilink\", \"title\": \"test123 - Lesson 03 Quiz\", \"lineItem\" : { \"@type\": \"LineItem\", \"label\": \"test123 - Lesson 03 Quiz\", \"reportingMethod\": \"res:totalScore\", \"scoreConstraints\" : { \"@type\": \"NumericLimits\", \"totalMaximum\": 100 } }, \"custom\" : { \"lti_app_resource_id\": 3989 } } ] } ======================================== Single request, its working properly \n```text\n{\n```\n \"@context\": \"http://purl.imsglobal.org/ctx/lti/v1/ContentItem\" , \"@graph\" : [ { \"@type\": \"LtiLinkItem\", \"@id\": \"quiz123 - ECS01 Quiz\", \"text\": \"quiz123 - ECS01 Quiz\", \"mediaType\": \"application/vnd.ims.lti.v1.ltilink\", \"title\": \"quiz123 - ECS01 Quiz\", \"lineItem\" : { \"@type\": \"LineItem\", \"label\": \"quiz123 - ECS01 Quiz\", \"reportingMethod\": \"res:totalScore\", \"scoreConstraints\" : { \"@type\": \"NumericLimits\", \"totalMaximum\": 100 } }, \"custom\" : { \"lti_app_resource_id\": 3997 } } ] }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 9, 2020, 1:02 PM",
          "AuthorName": "Rohit Shirsath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2907005&course=5",
          "role": [
            "Picture of Rohit Shirsath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 396475,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396475",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to complete LTI consumer when provider is Scorm",
          "Text": "Hi, I have a situation where the LTI Provider is a Moodle single-activity course containing a Scorm . Scorm status could be 'Incomplete / Complete' or 'Failed / Passed'. I am looking for information on how the consumer side of this LTI construction can be completed. In other words how do I set activity completion on the External Tool in the consumer site. Situation 1: Scorm passes 'Incomplete / Complete' how do I set activity completion on consumer side? Situation 2: Scorm passes 'Failed / Passed' how do I set activity completion on consumer side? Situation 3: Scorm passes grade. Do I set activity completion on consumer side on 'Student should receive grade' in combination with 'Grade to pass'. Any tips are welcome!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 31, 2020, 5:42 PM",
          "AuthorName": "Peter Jonker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=851251&course=5",
          "role": [
            "Picture of Peter Jonker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 396402,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396402",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 requires redirect URI to be registered?",
          "Text": "I want to allow instructors to use the same resource-specific URLs, as we have been doing for LTI 1.0,  with LTI 1.3. So that instructors would not need to change their course info in an institution moves from LTI 1.0/1.1 to LTI 1.3. Our tool would detect which version of LTI is being used, and behave accordingly. The resource-specific URLS look something like https://the_tool_domain.com/view/{resource code} However, it appears that Moodle requires any tool URLs to be registered at the admin level (as a redirect URI for the external tool) before a course can use the link. Is there a way around this? If I didn't want to care about backward compatibility, I would put the resource info in a custom parameter, and have one shared redirect URI, but I would like to minimize the work for instructors. For what it's worth, this doesn't seem to be a restriction with the IMS reference platform.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 30, 2020, 6:28 AM",
          "AuthorName": "Jim Davis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2710999&course=5",
          "role": [
            "Picture of Jim Davis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 396327,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396327",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "no login vs LTI auth",
          "Text": "Hello Moodlers et LTIers, On Moodle 3.6 linking two Moodle sites. On the provider site, LTI authentication is enabled, but new LTI created users have the no login auth method instead of LTI. And with no login auth method, users lose their sessions after awhile. Am I missing a setting somwhere? François",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 29, 2020, 1:15 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: no login vs LTI auth",
          "Text": "OMG! Sorry, I just found it. There is a setting for auth method in LTI provider general settings. /admin/settings.php?section=local_ltiprovider",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 29, 2020, 1:30 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 389429,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389429",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI advantage - Access token usage fails with status code 401",
          "Text": "Hello, I configured an external tool in moodle to use LTI 1.3 and was able to generate an access token by sending a POST request to OAuth2 url \"..../moodle/mod/lti/token.php\". As per the LTI advantage security model spec, i used the grant type \"Client_Credentials\". I also provided the necessary scopes as mentioned in the spec. ../lti-ags/scope/lineitem ../spec/lti-ags/scope/result.readonly ../spec/lti-ags/scope/score ../spec/lti-nrps/scope/contextmembership.readonly. I am using the token as a Bearer token to fetch lineitems. In this case, i am receiving a 401 \"Unauthorized\" error. The lineitems url is \".../moodle/mod/lti/services.php/3/lineitems?type_id=3\" and this url is part of the LtiResourceLinkRequest message. Can you please point to what's causing the 401 unauthorized error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2019, 9:17 PM",
          "AuthorName": "Srinivas Jonnala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2708860&course=5",
          "role": [
            "Picture of Srinivas Jonnala"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI advantage - Access token usage fails with status code 401",
          "Text": "I also encountered this problem with a Moodle instance in Microsoft Azure using Bitnami - the problem was that apache was stripping out the Authentication headers. The fix for me was to set this in the httpd.conf file or alternatively in the vhosts file : \n```text\nSetEnvIf Authorization \"(.*)\" HTTP_AUTHORIZATION=$1\nSetEnvIf Content-Type \"(.*)\" HTTP_CONTENT_TYPE=$1\nSetEnvIf Accept \"(.*)\" HTTP_ACCEPT=$1\n```\n \n```text\nsee: \nhttps://stackoverflow.com/a/47031629\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 27, 2020, 9:29 AM",
          "AuthorName": "Stephen O'Leary",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2892879&course=5",
          "role": [
            "Picture of Stephen O'Leary"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 396157,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396157",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Add a Description field to External Tool activity",
          "Text": "There is no place for an instructor to add assignment instructions inside of the External Tool activity. It would be great to have a Description field with the option to show on the course page, just like we have available in the Moodle Assignment and Forum activities , for example. Otherwise, instructors have to create a label or page with specific directions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 24, 2020, 1:48 AM",
          "AuthorName": "Christy Mattingly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1732826&course=5",
          "role": [
            "Picture of Christy Mattingly"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 395660,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395660",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Error attempting to manage tools",
          "Text": "I am  running a test installation of Moodle (3.8+) to help with developing an LTI 1.3 tool. When I go to Site Admin: Plugins: External Tool: Manage tools, I get an error \"invalid response detected\". With debugging turned on, the stack trace shows \"Missing following required key in a single structure: platformid\" I'm not sure if I missed some step in setting up my Moodle, or what. Anyone have any ideas? I suspect this may be interfering in working with the LTI tools I am trying to set up.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 13, 2020, 6:45 AM",
          "AuthorName": "Jim Davis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2710999&course=5",
          "role": [
            "Picture of Jim Davis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error attempting to manage tools",
          "Text": "The error is occuring here: https://[my moodle URL ]/lib/ ajax /service.php?sesskey=KsCQ0lMiU5&info=mod_lti_get_tool_proxies A prior call to /lib/ajax/service.php?sesskey=KsCQ0lMiU5&info=mod_lti_get_tool_types returns the current external tools, which do have a platform id.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 15, 2020, 6:42 AM",
          "AuthorName": "Jim Davis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2710999&course=5",
          "role": [
            "Picture of Jim Davis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error attempting to manage tools",
          "Text": "I think the error was related to having upgraded a Moodle 2.x installation. Doing a completely new installation has eliminated the error, though the old LTI 1.0 tool info will need to be re-entered.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 15, 2020, 8:14 AM",
          "AuthorName": "Jim Davis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2710999&course=5",
          "role": [
            "Picture of Jim Davis"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 395653,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395653",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI in moodle and security",
          "Text": "Hi I want to start using LTI external tools in my moodle. I'm not referring to my moodle as being a LTI provider, rather the opposite - using LTI tools like \"VitalSource\", \"Codeboard\" etc. as embedded content in my moodle. (LTI consumer) Is there anything my IT security team should know about LTI in moodle? Are there any recommended security practices or measures that should be taken before using LTI tools? whether it's something that the Moodle's admin should configure or the server system administrator should? I'm mostly concerned about security issues like XSS or anything else that might abuse or manipulate our Moodle's system or even Moodle's database . I'm also concerned about privacy issues as I see that there is an option to send a little bit of user data to the LTI tool and I want to make sure that nothing but what was configured by Moodle's admin is sent out. We not only value the privacy of  our users but also the content in our Moodle -  we don't want our content to be somehow visible to anyone that is not a registered user in our Moodle. but mostly I'm considered about the security aspect of this. I have moodle 3.5.1 installed, btw .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 12, 2020, 6:07 PM",
          "AuthorName": "Patrick Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2361311&course=5",
          "role": [
            "Picture of Patrick Scott"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 395364,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395364",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI - \"Attempt grading\" returns wrong grade",
          "Text": "Hello, I have set Attempts grading to Last completed attempt , but the grading always return the first attempt. Below is an example of this: Sample Course. Number of attempts allowed: Unlimited Number of attempts you have made: 3 Grade for attempt 1: 30% Grade for attempt 2: 60% Grade for attempt 3: 20% Grading method: Last completed attempt Grade reported: 30% Any idea what is going on?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1594005/course_settings.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1594005/course.png?forcedownload=1"
          ],
          "Time": "Tuesday, January 7, 2020, 10:28 PM",
          "AuthorName": "Vijay Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2860169&course=5",
          "role": [
            "Picture of Vijay Joseph"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 395322,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395322",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI in Lesson",
          "Text": "Hi, is there a clean way to integrate LTI in a moodle lesson ? I found a way to integrate it with an iframe but then I have a moodle in a moodle  which I obviously not want.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 7, 2020, 12:01 AM",
          "AuthorName": "Stefan Hackel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2681603&course=5",
          "role": [
            "Picture of Stefan Hackel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 395225,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395225",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "currently unable to handle this request. HTTP ERROR 500",
          "Text": "Hi all, I'm testing out the LTI function and I've got two instances of moodle i'm testing on. I've followed the instructions here: https://docs.moodle.org/38/en/Publish_as_LTI_tool On the provider side, I've enabled embedding of iframes and have a URL and key for the course. When i add the resource to the consumer site however the activity does not appear. When I select the launch container as embed i receive a blank box where the content should be and when  I set the launch container to open in a new window, I receive the error message: This page isn’t working xxxx is currently unable to handle this request. HTTP ERROR 500 Can anyone give me any pointers on what to check on either consumer or provider site? Thank you! Shiran",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 4, 2020, 1:47 AM",
          "AuthorName": "Shiran Juttla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2331482&course=5",
          "role": [
            "Picture of Shiran Juttla"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 395181,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395181",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI - grade sync",
          "Text": "Hello there, enrol_lti\\\\task\\\\sync_grades is syncing only first attempt to LTI Consumer. When I have more than one attempt, I'm getting below message: Not sent - The grade for the user \\'9\\' in the tool \\'1\\' for the course \\'2\\' was not sent as the grades are the same. In the attached Report.png, you can see the user has three attempts, each attempt has different scores. Please help me resolve. Thanks in advance! Vijay",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1593341/Report.png?forcedownload=1"
          ],
          "Time": "Thursday, January 2, 2020, 8:13 PM",
          "AuthorName": "Vijay Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2860169&course=5",
          "role": [
            "Picture of Vijay Joseph"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI - grade sync",
          "Text": "Guys, any idea about the issue that I'm facing?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 3, 2020, 5:07 PM",
          "AuthorName": "Vijay Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2860169&course=5",
          "role": [
            "Picture of Vijay Joseph"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 395016,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395016",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "integrate LTI Tools in Asp.Net (vb.Net) application",
          "Text": "Hello, I am a Web Developer. I am new to LTI Tools. I want to integrate in my website https://empower3.empowerlearning.net/ . I do googling more and more about LTI. I found Canvas, Moodle, BlacBoard etc. but I am troubling that I did not get clear information or link where I can find to integrate it in my website. So I have some questions regarding same below I hope I will get satisfied answers 1. What is the full procedure to integrate LTI. 2. What requirements from my side to integrate LTI. 3. LTI is paid or free. 4. Can I integrate LTI Tools directly or need any third party like Canvas, Moodle, Blacboard etc. Thanks, Gaurav Aneja",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 24, 2019, 2:42 PM",
          "AuthorName": "Gaurav Aneja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2867201&course=5",
          "role": [
            "Picture of Gaurav Aneja"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 383658,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=383658",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "oauth 1.0 signature base string for LTI",
          "Text": "Can someone tell me what parameters go into the signature base string that is used to create the \"oauth_signature\" parameter when Moodle 3.6.3 makes a call to an external tool? I am writing a custom LTI Provider and have connected it to a Moodle external tool. When Moodle calls me, I get the POST parameters in the attachment (with some obfuscation). I need the string that Moodle uses to create the \"oauth_signature\" so I can re-create it and verify. I know the string begins with: \"POST&https%3A%2F%2Fmy_url.com but I need to know what other arguments Moodle puts into this string and in what order. That is, how to generate the string. Please don't refer me to the IMS Global website because I am not a member and they don't seem to make their specs public as near as I can tell. Thanks in advance, Brownell",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 12, 2019, 4:37 AM",
          "AuthorName": "Brownell Chalstrom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=105797&course=5",
          "role": [
            "Picture of Brownell Chalstrom"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: oauth 1.0 signature base string for LTI",
          "Text": "Hello, I have the same problem. Have you come up with a solution since?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 11, 2019, 7:57 PM",
          "AuthorName": "Adnan Hamzeh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2657205&course=5",
          "role": [
            "Picture of Adnan Hamzeh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oauth 1.0 signature base string for LTI",
          "Text": "Hi, I also try to do the same thing. Please let me know if you have found out in the meantime.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 27, 2019, 1:44 AM",
          "AuthorName": "Andreas Fürlinger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2661876&course=5",
          "role": [
            "Picture of Andreas Fürlinger"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 393845,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=393845",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Taking payment before giving out the LTI URLs",
          "Text": "Hi there, I have college clients who want to integrate our course into their LMS (ex: Canvas). However, I need to take payment from individual students before I place our course inside their LMS. Otherwise, students can access for free inside their LMS provider Are there any workarounds here or payment gateways you've used? Thanks, Danny Rubin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 24, 2019, 9:27 AM",
          "AuthorName": "Danny Rubin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2362205&course=5",
          "role": [
            "Picture of Danny Rubin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 393393,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=393393",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External Tool Custom Icon",
          "Text": "We have added a LTI External Tool and set the custom icon URL , which works great on the course page; however the icon in the activity picker is still the default external tool icon. Is there any way to get the custom icon for our external tool to show everywhere the tool icon is used, not just on the course page? I found this tracker entry but it looks like it is quite old and I am not sure if it is trying to address my problem or not... https://tracker.moodle.org/browse/MDL-45105 Jon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 13, 2019, 6:14 AM",
          "AuthorName": "Jon Witts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=89775&course=5",
          "role": [
            "Picture of Jon Witts",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool Custom Icon",
          "Text": "Did you select the option to \"display in activity picker as a preconfigured tool\" - I do see my custom icon there when I choose this settinG when initially setting up the LTI activity at the site level.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 14, 2019, 1:41 AM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 393398,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=393398",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Displaying Quiz grade in Moodle \"Consumer\" site gradebook",
          "Text": "Hi I have successfully integrated an LTI activity from one Moodle site (Provider) into another Moodle site (Consumer) where the content , quizzes and grades show perfectly in the embedded window. But I can not seem to get the grades to then show within the grade-book of the \"Consumer\" site itself. They appear back in the Provider Moodle site perfectly, but just not showing in the Consumer Moodle grade-book. Any ideas ? Cheers Richard",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 13, 2019, 12:37 PM",
          "AuthorName": "Richard Wallace",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1212465&course=5",
          "role": [
            "Picture of Richard Wallace"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 392288,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=392288",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "Third-party cookies and LTI",
          "Text": "Hi, I have two different versions of moodle running and I've noticed a different in behaviour when third-party cookies are disabled.  This is important because third-party tracking cookies are now blocked for all users\nby default in Firefox version 69.  This\nis also the default on Safari browsers, and Chrome are considering making this\nthe default setting in the future. When using moodle as a provided and embedding moodle quizzes into another VLE via LTI, on moodle 3.4.2 disabling third-party cookies has no detrimental effect.  Users can select the LTI link and moodle is nicely embedded in the consumer (Blackboard in my case). However, on moodle 3.7.2 if third-party cookies are disabled and the user selects an LTI link too moodle, LTI fails and they are bounced to the moodle login page.  The solution here is to set the LTI link to open in a new window, but that's not the behaviour I ideally want. There might be differences between my consumer VLE systems, but I can't think what that might be as both are the same version of software. Anyone else seeing odd behaviour when third-party cookies are disabled?  Any advice? Thanks, Stuart.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 15, 2019, 7:10 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Hello Stuart, Are you running both instances on the same site ( domain name)? If so there are some settings in Administration -> Server -> Session handling that may be helpful to distinguish them.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 20, 2019, 10:41 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Thanks Daniel.  I've tried a few things.  I've set the session cookie to be prefixed with something unique and tried again.  Same result.  I've tried accessing the LTI link using a Chrome incognito session where there should be no clash of cookie session data.  Same result. If I look in the browser console when third-party cookies are blocked and when using moodle version 3.7.2, for Chrome I see: Uncaught DOMException: Failed to read the 'localStorage' property from 'Window': Access is denied for this document. first.js:51 ...for Firefox I see: SecurityError: The operation is insecure. first.js:51 I note that the first.js files are different between moodle versions  3.4.2 and 3.7.2, although line 51 is identical.  When selecting LTI links which point to moodle version 3.4.2 I don't get any javascript errors in the console. So the issue is still a mystery.  What has changed between moodle versions 3.4.2 and 3.7.2 which prevent embedded LTI moodle sessions when third-party cookies are blocked?  Can anyone else reproduce this? Best wishes, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 22, 2019, 6:01 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "first.js is a combination file which is generated to load a lot of js modules used by plugins including third party ones. It is possible one of those is doing something it is not suppose to. What is on line 51?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 22, 2019, 11:12 PM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Chrome reports the error as line 51, column 100. Here: define('core/localstorage', [\"core/config\",\"core/storagewrapper\"],function(a,b){var c=new b(window. localStorage );return{get:function(a){return c.get(a)},set:function(a,b){return c.set(a,b)}}}); So it can't find the localStorage for the window when third-party cookies are blocked.  It's still unclear why this error isn't thrown in the earlier version of moodle I have. Best wishes, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2019, 12:10 AM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "It looks like core/storagewrapper was changed in 3.7 ( MDL-64835 ) to address some caching problem. Which theme are you using? It seems a little odd to me that js would be causing a login issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2019, 3:55 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Hi Daniel,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2019, 5:12 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Do the urls have separate domains or the same domain name?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2019, 11:46 PM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Same domain name of the two moodle provider services but different in the consumer services - summary below. However, in writing this out, you have flagged up that one key difference is that our production service embeds a moodle instance belonging to the same domain.  But in the test environment, they are different domains.  Though I don't have great knowledge of how this should work, it would seem plausible that where we have the same domain between provider and consumer, the cookies that moodle sets are considered as first-party cookies and not blocked so everything works.  But in the test environment the domains are different, and therefore the cookies that moodle sets are treated as third-party and blocked, breaking LTI embedding.  What do you think? Production service Blackboard consumer : online.manchester.ac.uk (Release 3700.0.2-rel.36+fbf2221) Moodle provider : stack.fse.manchester.ac.uk (Version 3.4.2) Outcome : LTI embedded moodle quizzes open normally within Blackboard. Test service (PPD) Blackboard consumer : manchester-ppd.blackboard.com (Release 3700.0.2-rel.36+fbf2221) Moodle provider : vm-stack-t01.its.manchester.ac.uk (Version 3.7.2) On the PPD server I set a cookie prefix in the session handling admin settings to \"ppd\".  Everything else under session handling is set with the defaults. Outcome : LTI embedded moodle quizzes fail to open correctly in Blackboard and instead bounce the user to a login screen embedding within Blackboard. As a test of my theory about what is going on, I'll see if I can prove this by requesting that our production moodle is registered as an allowed LTI provide on our PPD consumer Blackboard which has a different domain. That will strongly indicate if the issue is down to the version of moodle or a domain issue. Thanks for your support on this. Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 24, 2019, 4:54 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Dear Daniel, Thanks for helping to direct my trail of thought on this. My testing would strongly indicate that the issue I was experiencing was due to using different different domains on the test environment. What it means is that when we upgrade the production environment we shouldn't experience any issues as both will be running on the same domain . I'll document this in our service notes so that no one gets caught out by this in the future. Best wishes, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 24, 2019, 5:42 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Hello Stuart, Thanks for the information. I was a able to set up a test system and have been able to reproduce it. It does seem to be related to the issue I mentioned above. Upgrading will cause the problem on you production system so I would hold up if possible. Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 26, 2019, 1:39 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Hi Daniel, We might have our wires crossed here.  The issue I was experiencing was definitely down to my original testing setup having two difference domains.  I've managed to convince my IT department to authorise the URL to my upgraded (latest version) moodle against my current production Blackboard VLE service.  Both have the same domain name and when third-party cookies are set to be blocked, the issue I experienced when the domains were different does not occur. So in summary, in a setup with a consumer service linking to the latest version of moodle via LTI, as long as they both belong to the same URL domain no issues will be experienced if third-party cookies are blocked. Thanks, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 28, 2019, 9:47 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 392728,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=392728",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Customizing LTI plugin",
          "Text": "We have some requirements which require to customize the LTI plugin. We copied the LTI plugin added some suffix to required files in order to make it work side by side with standard LTI plugin. Installation is working fine. But settings are not appearing on the admin page. Need help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 25, 2019, 4:15 PM",
          "AuthorName": "Bij Gupt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2680690&course=5",
          "role": [
            "Picture of Bij Gupt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 392629,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=392629",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "PostMan as LTI Consumer",
          "Text": "hey....! As per a LMS project i have to use Postman as the Consumer and Moodle as the LTI Provider,i searched alot but found nothing on that can anyone guide me how i can do that?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2019, 2:00 PM",
          "AuthorName": "ABRAR HAIDER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2808095&course=5",
          "role": [
            "Picture of ABRAR HAIDER"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: PostMan as LTI Consumer",
          "Text": "Hi Abrar! First, you need to configure Moodle as LTI Provider. Then, you can interact with Postman. You can start with https://www.edu-apps.org/code.html Good Luck Salu2 Fernando",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, October 25, 2019, 2:39 PM",
          "AuthorName": "Fernando Navarro Páez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=499743&course=5",
          "role": [
            "Picture of Fernando Navarro Páez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 390247,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390247",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI published quizzes error if timer used",
          "Text": "When I embed a moodle quiz insider a consumer (in my case Blackboard), if the quiz has a timer enabled, a javascript error is thrown and aspects of the quiz break.  Having dug deeper I can see from the javascript error this is directly related to the quiz timer.  However, it is worth noting that when quizzes are embedded in a consumer, the side blocks are hidden/not included and this includes the quiz navigation block where the timer would normally display. The issue here (I believe) is that embedded quizzes don't display the quiz navigation block so when the javascript makes a call to update it, there is a setContent() function call which throws a null object error (I see this in the error message) - there literally is no timer component to update on screen. Is this an error anyone else can reproduce and do you know of any known work arounds? Thanks, Stuart.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 28, 2019, 10:59 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI published quizzes error if timer used",
          "Text": "I found this related post which discusses a similar problem (although without the javascript error being mentioned). I still don't have a solution though: https://moodle.org/mod/forum/discuss.php?d=371681 Any help/advice from the community appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 28, 2019, 11:50 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI published quizzes error if timer used",
          "Text": "I can now expland on this a bit more. The problem I am seeing breaks the display of MathJax rendered content within the quiz question which for my purposes essentially breaks the quiz question. I've raised a bug and added a lot more detail to the problem which others might find useful to note. Bug https://tracker.moodle.org/browse/MDL-66544",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 14, 2019, 7:49 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391942,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391942",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI to view course from other sites in our Moodle",
          "Text": "Hi all, I am new to LTI and am wondering if it is easy and possible to port /link in a course from another LMS into our Moodle system? I have read about connections to have others view our courses but am wondering how difficult it is to go the other way. Any information would be greatly appreciated. We are using Moodle 3.6. Kind Regards, Leticia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 7, 2019, 11:08 AM",
          "AuthorName": "Leticia Dark-rose",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1881713&course=5",
          "role": [
            "Picture of Leticia Dark-rose"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 390299,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390299",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Error in cron for LTI grade sync",
          "Text": "I'm embedding Moodle quizzes into Canvas and having issues with grades getting sent back to Canvas. (I find that the quiz and question bank system in Moodle is way better than Canvas, which is why I'm doing it this way.) But grades aren't syncing, which seems to be a somewhat common issue. I noticed that the fail delay gradually creeps up on the scheduled task until it's @ 24 hours. Found that I'm getting the following message when the task tries to run. \n```text\n\n```\n \n```text\nExecute scheduled task: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades)\n... started 09:11:18. Current memory use 5.7MB.\nStarting - Grade sync for shared tool '2' for the course '2'.\nSkipping - Empty sourceid for the user '6' in the tool '2' for the course '2'.\nSkipping - Empty sourceid for the user '3' in the tool '2' for the course '2'.\n... used 4 dbqueries\n... used 0.017449855804443 seconds\nScheduled task failed: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades),Can not find data record in \ndatabase\n table \ncontext\n.\n\nCron\n script completed correctly\nCron completed at 09:11:18. Memory used 7MB.\nExecution took 0.044808 seconds\n```\n I assume that's the reason that grades aren't syncing, but I'm not sure where to look to track down what's not happening. My Moodle is self hosted, so I have full access to CLI, database, and can upgrade if I need to. This was all working flawlessly last year, once I remembered to turn on the cron job, so I'm a little perplexed why it's stopped. Any thoughts or suggestions would be greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 29, 2019, 9:58 PM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error in cron for LTI grade sync",
          "Text": "Going to self reply a fix on this one. I was too focused on the can not find data record part of the message and missed the empty sourceid part. The resource ID #2 was an old quiz that I had done to test and that had been deleted. When I disabled that one under LTI providers it worked like a champ.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 29, 2019, 10:35 PM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error in cron for LTI grade sync",
          "Text": "A similar thing happened to me last week with CRON. I ended up having to remove all of the users’ LTI links... I am concerned that this is a bug, since a few people have reported it happening lately. How did you locate your resource To remove it? I had the error on Resource ID 548 but didn’t know where to find it to remove it. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 31, 2019, 5:54 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error in cron for LTI grade sync",
          "Text": "I went through my list of activities that were published as LTI tools and found #2. Fortunately, it was an early one and was just one I had used for testing. Plus, there were only about 20 on the server because it's just me using it. Clicked the eye next to that tool to disable and ran cron again and everything worked. Funny side note, when it started working it sent back grades on a quiz that we took the previous week. All those grades got flagged as late in Canvas. My kids freaked out.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 31, 2019, 9:19 PM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error in cron for LTI grade sync",
          "Text": "Ah, ok, I see, thank you. Yes, the same also happened with my student grades, it took about 4 hours after it started working but they all magically appeared in Canvas. I bet you and your students were relieved when they showed up!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, September 2, 2019, 8:44 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error in cron for LTI grade sync",
          "Text": "Thanks for sharing the solution ! FYI I have reported this behaviour in the tracker https://tracker.moodle.org/browse/MDL-66671",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 13, 2019, 11:27 PM",
          "AuthorName": "Arnaud Trouvé",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1973579&course=5",
          "role": [
            "Picture of Arnaud Trouvé",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error in cron for LTI grade sync",
          "Text": "Thank you Arnaud! Could you tell us what to do (or not do) in order not to receive this error in the future? Will this be fixed soon? This is quite important as my site uses thousands of LTI links exclusively.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 17, 2019, 5:32 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error in cron for LTI grade sync",
          "Text": "This is happening again, is there anyway of fixing it manually? Without removing resources? Can anyone help please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 5, 2019, 7:13 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391850,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391850",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI External Tools custom parameters",
          "Text": "Hello, Does anyone knows how to properly use the Custom Parameters field? Already tried many ways and none of them seems to work. I am passing the username as a custom parameter like below: PS: I do receive the key as: \"custom_lis_person_cpf\"=>\"{$USER}\"",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1579530/print%20lti.png"
          ],
          "Time": "Friday, October 4, 2019, 1:03 AM",
          "AuthorName": "João Victor Almeida",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2794331&course=5",
          "role": [
            "Picture of João Victor Almeida"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 371252,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371252",
      "NoOfResponses": 17,
      "ResponsesInList": [
        {
          "Title": "Errors trying to get LTI working",
          "Text": "We have 2 Moodle sites that I am trying to test LTI with. One is on 3.5, the other 3.4. When I go to a course in either site and add the External Tool Activity, enter the cartirdge url, secret and consumer key to the course and save, the link is created but when I try and open the activity I receive these error? Exception - Call to a member function out() on string More information about this error Debug info: Error code: generalexceptionmessage Stack trace: line 102 of /enrol/lti/classes/tool_provider.php: Error thrown line 67 of /enrol/lti/tool.php: call to enrol_lti\\tool_provider->__construct() What do I need to do to get the content from one site load properly in the other site?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 26, 2018, 4:57 AM",
          "AuthorName": "Bob Derezinski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2011048&course=5",
          "role": [
            "Picture of Bob Derezinski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Hi, I've exactly the same problem with two Moodles 3.5+. The error come from the Moodle that has the rôle \"tool provider\". In the past, I had test LTI with succes on Moodle 3.3.x (I believe x = 3). I have found this error on 3.4 and 3.5. is there a bug for LTI on 3.4 and 3.5 ? This is not realy and help (not a solution ), just a tip for the research. Bests regards, Jacques.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Thursday, June 7, 2018, 12:42 AM",
          "AuthorName": "Jacques Barzic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1939238&course=5",
          "role": [
            "Picture of Jacques Barzic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Moodle doesn't tell you the right tool URL that you need on your LTI consumer site. So get the cartridge url from the LTI provider Moodle and open it in your browser, then copy that URL from the row <blti:launch_url>https://XXXXXXXXXX/enrol/lti/tool.php?id=1</blti:launch_url> to your consumer site external tool to tool url or secure tool url (i guess it's secure if you have https) https://tracker.moodle.org/browse/MDL-57741",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 7, 2018, 4:11 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Hi, Thanks for your reply Urpo. But in my case the right tool URL was given in the External tool in the consumer site. it is the same URL that I read for <blti:launch_url> (or <blti:secure_launch_url>) in the cartridge. Best regards, jacques.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 7, 2018, 5:14 PM",
          "AuthorName": "Jacques Barzic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1939238&course=5",
          "role": [
            "Picture of Jacques Barzic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "hi, I believe the default come from the LTI Authentification. On the error page, there is also a \"Continue\" button. When I clic on this button, the authentification page of the LTI provider site is display. This means that the LTI function can't create an account for the LTI consumer user on LTI provider site. In my case, the two Moodle (provider and consumer) are on two different virtual servers. Also, I've make a test with two Moodle on the same servers, it's OK! Perhaps, is there a specific setting to do on the servers (apache, php,...)? Best regards, Jacques.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 8, 2018, 12:44 AM",
          "AuthorName": "Jacques Barzic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1939238&course=5",
          "role": [
            "Picture of Jacques Barzic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Have you ever resolved this issue? It seems like I'm stuck at precisely the same step. Trying to connect Moodle 3.2.9 to Moodle 3.5.1. Getting the same \"Call to a member function out() on string\" notification with the Continue button leading me on to the target site embedded in a frame, without being logged onto it..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 22, 2018, 8:00 AM",
          "AuthorName": "Przemek Kaszubski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109067&course=5",
          "role": [
            "Picture of Przemek Kaszubski",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Replying to myself, as I continued testing: 1. I was able to connect the two Moodle installations in the opposite direction: with Moodle 3.2.9 as provider and Moodle 3.5.1 as consumer. 2. My Moodle 3.5.1 is using the Fordson theme, which seems responsible  for the problem with LTI provision - cf. https://github.com/dbnschools/moodle-theme_fordson/issues/26 . I have tested deeper, changed to another theme - Boost Campus - and faced the same problem ! After switching to plain Boost I was able to connect from Moodle 3.2.9 to the Moodle 3.5.1 via LTI authentication without issues. I hope this problem can be addressed and my little report helps others. Is there a tracker for this issue? Where's the best place to report it? It seems like an LTI tool issue and theming issue at the same time. Perhaps I would yet need to test yet if a consumer Moodle 3.5.1 can connect / authenticate. Will proceed to that. Regards, Przemek",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 22, 2018, 6:10 PM",
          "AuthorName": "Przemek Kaszubski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109067&course=5",
          "role": [
            "Picture of Przemek Kaszubski",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "PS. After testing connections from another Moodle 3.5.1 site I can confirm that the problem persists. Ergo, there is something wrong with favicon overrides in the themes mentioned, which prevents sites with these themes to serve as LTI tool providers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 22, 2018, 6:49 PM",
          "AuthorName": "Przemek Kaszubski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109067&course=5",
          "role": [
            "Picture of Przemek Kaszubski",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Hi, I confirm, for me the issue come from the theme of the LTI provider. When I use on  LTI provider a standard Moodle them (like clean) it's OK. I continue my testing. Best regards, Jacques,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 3, 2018, 10:55 PM",
          "AuthorName": "Jacques Barzic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1939238&course=5",
          "role": [
            "Picture of Jacques Barzic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Hello, my last tests confirm the issue come from favicon. On our project, we have put a custom faivicon as the theme alows. When I take off this custom favicon (the default setting off the theme) on the LTI provider, LTI woks well. Finaly, I put our custom favicon directly in the theme folder instead of the default favicon, it's OK. With this solution, be careful when you make a theme update. Tanks Przemek for this tip. Best regards. Jacques.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 4, 2018, 8:57 PM",
          "AuthorName": "Jacques Barzic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1939238&course=5",
          "role": [
            "Picture of Jacques Barzic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Thank you, Jacques, for your tests and update. Would you mind telling us which theme you are using? Mine were based on Fordson and Boost_Campus. I just wonder if all this is a theme thing or an LTI Tool module issue. With the new Moodle version around, I might test again one day.. Kind regards. Przemek",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 11, 2018, 3:27 AM",
          "AuthorName": "Przemek Kaszubski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109067&course=5",
          "role": [
            "Picture of Przemek Kaszubski",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Hi Przemek, I have tested it with a 3.5.1 with Essential theme - and I accountered the same issue. The issue is resolved itself the minute I removed the favicon from the theme settings. I have tested it with the new version 3.5.2 with Essential theme and again accounted the same message. I solved the issue by removing the Favicon. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 18, 2018, 11:06 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Ok, from a developers point of view there is an error in the documentation of the favicon method in the core_renderer class. Note: All code referenced from Moodle version 3.5.2+ (Build: 20180914). So, given the stack trace in the OP , line 102 is: \n```text\n$icon = helper::get_icon($tool)->out();\n```\n this calls the static method 'get_icon' in the class helper to get a 'moodle_url' object and then call the 'out' method on it.  The 'get_icon' method in /enrol/lti/classes/helper.php is: \n```text\n    /**\n\n\n     * Returns the icon of the tool.\n\n\n     *\n\n\n     * @param \\stdClass $tool The lti tool\n\n\n     * @return \\moodle_url A url to the icon of the tool\n\n\n     * @since Moodle 3.2\n\n\n     */\n\n\n    public static function get_icon($tool) {\n\n\n        global $OUTPUT;\n\n\n        return $OUTPUT->favicon();\n\n\n    }\n```\n Thus this is the 'favicon' method in the 'core_renderer' class which is in /lib/outputrenderers.php: \n```text\n    /**\n\n\n     * Returns the URL for the favicon.\n\n\n     *\n\n\n     * @since Moodle 2.5.1 2.6\n\n\n     * @return string The favicon URL\n\n\n     */\n\n\n    public function favicon() {\n\n\n        return $this->image_url('favicon', 'theme');\n\n\n    }\n```\n this states that the return is a 'string', however the 'image_url' method of the same class is: \n```text\n    /**\n\n\n     * Return the moodle_url for an image.\n\n\n     *\n\n\n     * The exact image location and extension is determined\n\n\n     * automatically by searching for gif|png|jpg|jpeg, please\n\n\n     * note there can not be diferent images with the different\n\n\n     * extension. The imagename is for historical reasons\n\n\n     * a relative path name, it may be changed later for core\n\n\n     * images. It is recommended to not use subdirectories\n\n\n     * in plugin and theme pix directories.\n\n\n     *\n\n\n     * There are three types of images:\n\n\n     * 1/ theme images  - stored in theme/mytheme/pix/,\n\n\n     *                    use component 'theme'\n\n\n     * 2/ core images   - stored in /pix/,\n\n\n     *                    overridden via theme/mytheme/pix_core/\n\n\n     * 3/ plugin images - stored in mod/mymodule/pix,\n\n\n     *                    overridden via theme/mytheme/pix_plugins/mod/mymodule/,\n\n\n     *                    example: image_url('comment', 'mod_glossary')\n\n\n     *\n\n\n     * @param string $imagename the pathname of the image\n\n\n     * @param string $component full plugin name (aka component) or 'theme'\n\n\n     * @return moodle_url\n\n\n     */\n\n\n    public function image_url($imagename, $component = 'moodle') {\n\n\n        return $this->page->theme->image_url($imagename, $component);\n\n\n    }\n```\n which states it is a 'moodle_url' class, the 'image_url' method that is called on the 'theme_config' class in /lib/outputlib.php is: \n```text\n    /**\n\n\n     * Return the direct URL for an image from the pix folder.\n\n\n     *\n\n\n     * Use this function sparingly and never for icons. For icons use pix_icon or the pix helper in a mustache template.\n\n\n     *\n\n\n     * @param string $imagename the name of the icon.\n\n\n     * @param string $component specification of one plugin like in get_string()\n\n\n     * @return moodle_url\n\n\n     */\n\n\n    public function image_url($imagename, $component) {\n\n\n        global $CFG;\n\n\n        $params = array('theme'=>$this->name);\n\n\n        $svg = $this->use_svg_icons();\n\n\n        if (empty($component) or $component === 'moodle' or $component === 'core') {\n\n\n            $params['component'] = 'core';\n\n\n        } else {\n\n\n            $params['component'] = $component;\n\n\n        }\n\n\n        $rev = theme_get_revision();\n\n\n        if ($rev != -1) {\n\n\n            $params['rev'] = $rev;\n\n\n        }\n\n\n        $params['image'] = $imagename;\n\n\n        $url = new moodle_url(\"/theme/image.php\");\n\n\n        if (!empty($CFG->slasharguments) and $rev > 0) {\n\n\n            $path = '/'.$params['theme'].'/'.$params['component'].'/'.$params['rev'].'/'.$params['image'];\n\n\n            if (!$svg) {\n\n\n                // We add a simple /_s to the start of the path.\n\n\n                // The underscore is used to ensure that it isn't a valid theme name.\n\n\n                $path = '/_s'.$path;\n\n\n            }\n\n\n            $url->set_slashargument($path, 'noparam', true);\n\n\n        } else {\n\n\n            if (!$svg) {\n\n\n                // We add an \nSVG\n param so that we know not to serve SVG images.\n\n\n                // We do this because all modern browsers support SVG and this param will one day be removed.\n\n\n                $params['svg'] = '0';\n\n\n            }\n\n\n            $url->params($params);\n\n\n        }\n\n\n        return $url;\n\n\n    }\n```\n which also states it is a 'moodle_url' class (instantiated object of) being returned. So from a purely Essential theme point of view, I / Julian / David has been misinformed when reading the core code and written: \n```text\n    /**\n\n\n     * Returns the url of the custom favicon.\n\n\n     */\n\n\n    public function favicon() {\n\n\n        $favicon = \\theme_essential\\toolbox::get_setting('favicon', 'format_file_url');\n\n\n        if (empty($favicon)) {\n\n\n            return $this->page->theme->image_url('favicon', 'theme');\n\n\n        } else {\n\n\n            return $favicon;\n\n\n        }\n\n\n    }\n```\n in the overridden core_renderer method 'favicon'.  And thus I suspect many other developers have too.  I'll now work on a fix. Therefore the 'favicon' method in the 'core_renderer' class is incorrectly documented and hence the error message 'Exception - Call to a member function out() on string' because a string does not have a method called 'out' but a 'moodle_url' object does. Is there an MDL for this trivial bug? Also if you're using any of my other themes and have the same issue, then let me know. Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 19, 2018, 12:16 AM",
          "AuthorName": "Gareth J Barnard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=442195&course=5",
          "role": [
            "Picture of Gareth J Barnard",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Errors trying to get LTI working",
          "Text": "Just noting that this issue is present in Moodle 3.6 also.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 29, 2019, 7:39 PM",
          "AuthorName": "C Behan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1854471&course=5",
          "role": [
            "Picture of C Behan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Custom theme favicon on LTI provider site breaks LTI authentication [Solved]",
          "Text": "Thanks Gareth for the detailed information. Just noting that the problem of a custom theme favicon on the LTI provider site breaking authentication - MDL-66272 - has been fixed in Moodle 3.6.6 and 3.7.2.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 5, 2019, 10:53 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Custom theme favicon on LTI provider site breaks LTI authentication [Solved]",
          "Text": "Hi Helen! Thanks for sharing the news about the fix in Has anyone tested publishing an LTI activity or course from 3.7.2 and successfully launched the content elsewhere? I have been at it all night with no success. Upgraded our dev Moodle site to 3.7.2 from the GIT file, since it is not yet on moodle.org. I tried the Fordson theme, the new Classic theme, and the Boost theme. None of them make a difference. I still get the same Exception - Call to a member function out() on string error that started this particular thread. I was initially trying to add LTI content to a WordPress site, using a WordPress LTI Consumer plugin . No joy. So I tried adding it to another Moodle site running 3.6.2+. Same error occurs. Publishing LTIs from the 3.6.2 Moodle site to consume on the 3.7.2 site however works perfectly fine. I have tried all kinds of combinations of: Launch URL + secret (this is the combo that worked on Moodle and on WordPress after deleting the favicon!) Cartridge URL + secret Proxy URL alone Proxy URL + secret Cartridge URL alone I am now at a loss what to do to get this content to work. Any thoughts, anyone? I had such high hopes when I read that this had been fixed in 3.7.2 and spent long hours on a test upgrade and test of publishing the LTI to no avail. Help, please, anyone? Million thanks! PS: (4 hrs later...) I deleted the favicon in Fordson on the 3.7.2 site and now it works. But that seems to indicate that the problem was not taken care of in 3.7.2 as suggested in that tracker item, Helen. Or am I missing something? Thanks again. Then again, maybe the problem is in the Fordson Theme after all?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 9, 2019, 7:57 AM",
          "AuthorName": "Sarah Ashley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109588&course=5",
          "role": [
            "Picture of Sarah Ashley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Custom theme favicon on LTI provider site breaks LTI authentication [Solved]",
          "Text": "Hi Sarah, The problem does need to be fixed in the theme. The fix in the tracker is to update the documentation, but the theme developers still need to update their themes. I have flagged it with the Moove theme developer - maybe you could draw the Fordson theme's developer's attention to it? Catherine",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2019, 5:41 PM",
          "AuthorName": "C Behan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1854471&course=5",
          "role": [
            "Picture of C Behan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 371759,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371759",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Course grade won't transfer with LTI between Moodles",
          "Text": "Hello, I have two Moodle 3.3.5 instances but the course grade doesn't sync to the LTI customer from the LTI provider. Current course grade for user 94 is from the course 44 is 318,00 = Natural of the all rated activites. enrol_lti\\task\\sync_grades gives an error: Execute scheduled task: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades) ... started 10:46:09. Current memory use 16.6Mt. Starting - Grade sync for shared tool '1' for the course '44'. Failed - The grade '0.51290322580645' for the user '94' in the tool '1' for the course '44' failed to send. Skipping - Invalid grade for the user '92' in the tool '1' for the course '44'. Completed - Synced grades for tool '1' in the course '44'. Processed 2 users; sent 0 grades. ... used 10 dbqueries ... used 30.015266895294 seconds Scheduled task complete: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades) Any Advice?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 7, 2018, 3:52 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course grade won't transfer with LTI between Moodles",
          "Text": "If i change course grade calculation to simple weighted means it doesn't help, no grade is passed from LTI provider to LTI customer Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 7, 2018, 4:04 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grade won't transfer with LTI between Moodles",
          "Text": "Hello Urpo, I have the same problem: When I use 2 Moodle instances both working with version 3.5.1, after the remote user (from LTI consumer) completes the activity, he can view the grade from the activity page ( Your final grade for this quiz is 6.67/10.00.) And also in LTI provider site, admin user can see the grade of the remote user. But in LTI consumer page, when the student and also the admin, want to check grade report the grade can not be viewed. When I run the cron task (enrol_lti\\task\\sync_grades) from the LTI provider site as admin, the error message is like this: \n```text\nStarting - Grade sync for shared tool '14' for the course '100'.\nFailed - The grade '0.666667' for the user '739' in the tool '14' for the course '100' failed to send.\n```\n \n```text\nCompleted - Synced grades for tool '14' in the course '100'. Processed 1 users; sent 0 grades\n```\n Did you find a solution for your case?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 30, 2018, 10:33 PM",
          "AuthorName": "Tansu PANCAR",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2429676&course=5",
          "role": [
            "Picture of Tansu PANCAR"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grade won't transfer with LTI between Moodles",
          "Text": "Hello, It was an firewall issue for me, after solving it grade synced fine.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 6, 2018, 9:26 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grade won't transfer with LTI between Moodles",
          "Text": "Hi Urpo Karhula, Thanks for sharing, apologies I have to bump this thread. Would you be able to share whether the firewall on provider or consumer part? Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 28, 2019, 7:18 AM",
          "AuthorName": "Eric Kuncoro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=773592&course=5",
          "role": [
            "Picture of Eric Kuncoro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grade won't transfer with LTI between Moodles",
          "Text": "Most likely Consumer part..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 26, 2019, 3:38 PM",
          "AuthorName": "T Thakar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1625015&course=5",
          "role": [
            "Picture of T Thakar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391441,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391441",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI \"Refused to Connect\" Moodle to Moodlecloud. Tool configuration not found for this URL.",
          "Text": "I have a Moodle provider course set up, and am trying to consume it my MoodleCloud instance, but it only displays a \"Refused to connect error\" Provider Cartridge URL : https://sampledomain.com/enrol/lti/cartridge.php/1/1f8828ae716171f0a7bb5afc15e05974/cartridge.xml Secret: 0451fliTuagzDeXfDMHA3UUGdiWBqUeX Registration URL https://sampledomain.com/enrol/lti/proxy.php/1/4dce7c3b4af221ce330ccad999e0fbf4/ I've put in the Tool URL (trying both Cartridge and Registration, in case there was a difference) and it still returned an error \"sampledomain.com Refused to Connect\" In the settings in the consumer - the tool URL has been changed to \" https://sampledomain.com/enrol/lti/tool.php?id=1 \" and displays \"Tool Configuration not found for this URL\". I assume this might be causing the issue, but I don't know how to stop the URL from being changed. I have succesfully set up LTI in the other direction - Moodlecloud instance provider, Moodle consuming. Any help appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2019, 1:56 AM",
          "AuthorName": "Fazzi Associates",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2460880&course=5",
          "role": [
            "Picture of Fazzi Associates"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 379570,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=379570",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Quiz navigation block when embedded",
          "Text": "We use Canvas in our district, but I've used Moodle in the past. I've found that the quiz system and the way that Moodle handles question banks are just better than Canvas. But it's mandated that we use Canvas so that all students' course calendars show up together. This year I've been embedding quizzes from Moodle into Canvas using Moodle as an LTI provider so that I get to use Moodle but still stay within Canvas for the students. Works perfectly except for one catch. When a quiz is embedded no blocks are shown. Course navigation blocks are hidden, which makes perfect sense. But the block that allows students to jump between questions is also hidden. Is there a way to have just the quiz navigation block show when students take a quiz through an LTI consumer? My students tend to like to jump around between questions, and that's tough without the quiz navigation block.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 7, 2018, 9:51 PM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Quiz navigation block when embedded",
          "Text": "Hi Ryan, Did you ever find a solution to this and do you know if in the latest version of moodle if this is still an issue i.e. will upgrading provide a solution. I read something in the release notes for more recent moodle versions about the quiz navigation block being set to float, but I was unclear if this meant it wouldn't be hidden when embedded with LTI . Thanks, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 24, 2019, 5:08 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391133,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391133",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Global shared secret",
          "Text": "The old ltiprovider plugin written by Juan Leyva had a Global Shared Secret configuration option to allow for one secret to be used across all courses in the same site.  I don't see a corresponding feature in the Publish as LTI tool functionality.  It seems like you have a generate or configure a secret for each course or activity separately.  Is that really the case or am I missing something? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2019, 6:23 AM",
          "AuthorName": "Adrian Croft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2769371&course=5",
          "role": [
            "Picture of Adrian Croft"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 391079,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391079",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Deep Linking in Text editor",
          "Text": "I have (After a long while) a working LTI 1.3 tool. It works on Canvas/Blackboard. So next platform I'd like to try it out is Moodle I can add the LTI OK, but my question how do I add the tool to the text editor? Is this even possible in Moodle? I'm basically expecting a new button will appear in the text editor. But I can't find any setting that will allow this. Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1576403/Capture.PNG"
          ],
          "Time": "Tuesday, September 17, 2019, 5:16 AM",
          "AuthorName": "Daniel Lopez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2151649&course=5",
          "role": [
            "Picture of Daniel Lopez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 390867,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390867",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restrict LTI User to specific course",
          "Text": "Hi All, I have created the LTI user course activity and LTI user is able to logged in to consumer site and able to complete the course activities . But when LTI user is viewing other course by changing course ID, he is able to view the other courses too which should not take place. Any idea / clue on how can I stop LTI user to view other courses which he is not enrolled for? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 12, 2019, 10:46 AM",
          "AuthorName": "Yogi Mishra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2705340&course=5",
          "role": [
            "Picture of Yogi Mishra"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 389469,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389469",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Grade synch not working on some clients",
          "Text": "We are trying to connect activities from an external LTI-provider with a moodle course. Grades are supposed to be synched. The LTI-provider showed us a moodle class of thei own in a 3.4 Moodle with grade synch working. They could not achieve to get synch working in our demo Moodle 3.2.2+, we ourselves tried everything we could think of as well. I also checked the server -timestamp - it is not off. A student completes an LTI- lesson , he is recognized with his name given by Moodle there, his points are shown in the lesson, but not synched back to Moodle. Also there is no structure in the gradebook indicating that any kind of data flows back to Moodle from the LTI-provider. e.g. about lessons. (the lessons are available in separate activities imported via an IMSCC-file) Another test I made was to set up the external tool in my own development Moodle 3.6.4 where the settings for the services are available in the tool configuration. But the grade synch does not work there as well. In the end the whole structure may need to be implemented in a Moodle 2.9 with LTI as a plugin. But no tests were made in an older Moodle yet. Since the Moodle 3.4 where it works is \"in between\" the two versions where it does not work, I suppose the version of Moodle is not really the source of the problem. What could be, though, that we have not tried yet? A server setting? Some Moodle setting? Both the 3.2.2 and the 3.6.4 Moodle are mostly \"out of the box\" with no special settings or exotic plugins.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2019, 11:20 PM",
          "AuthorName": "Andreas Giesen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340154&course=5",
          "role": [
            "Picture of Andreas Giesen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade synch not working on some clients",
          "Text": "Swift help with this would be really appreciated. This could be a paid effort, if someone has expertise to make this work. Please contact me for details.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 20, 2019, 6:44 PM",
          "AuthorName": "Andreas Giesen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340154&course=5",
          "role": [
            "Picture of Andreas Giesen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade synch not working on some clients",
          "Text": "Hi Andreas, I am suffering exactly same issue as yours. My current Moodle instance is 3.6.3, and both External Tools (Poll Everywhere and Wiley Plus) grade sync back stop working. They were working with our previous Moodle 3.1.12. We are an Oracle shop, so there is a syntax issue in lti_get_shared_secrets_by_key(). After I fixed that syntax issue, I got this error in the server log. Debugging: LTI message verification failed: OAuth signature failed: In call to debugging()\\n* line 63 of /mod/lti/service.php: call to lti_verify_message()\\n No luck so far to find out why OAuth signature failed. Hope some expert out there can shred some lights for us.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 26, 2019, 11:16 PM",
          "AuthorName": "Bei Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1264773&course=5",
          "role": [
            "Picture of Bei Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade synch not working on some clients",
          "Text": "For those who might be in the same boat as me, read on coz I find the root cause with a simple solution. We are an Oracle shop with Moodle 3.6.3 and the root cause is an Oracle syntax issue in one SQL query in mod/lti/locallib.php. Basically we need to address the datatype inconsistency and also specify the select column using the same alias name “value”. Otherwise the function call following the SQL query to map the values from the array will return nothing. That is why the oauth signature verification fails, because there is no shared secret returned. And therefore no grade sync is happening. See the code snippet below for more details. $query = \" SELECT to_char(t2.value) AS value FROM {lti_types_config} t1 JOIN {lti_types_config} t2 ON t1.typeid = t2.typeid JOIN {lti_types} type ON t2.typeid = type.id WHERE t1.name = 'resourcekey' AND DBMS_LOB.COMPARE(t1.value , :key1) =0 AND t2.name = 'password' AND type.state = :configured1 UNION SELECT tp.secret AS value FROM {lti_tool_proxies} tp JOIN {lti_types} t ON tp.id = t.toolproxyid WHERE tp.guid = :key2 AND t.state = :configured2 UNION SELECT password AS value FROM {lti} WHERE resourcekey = :key3\"; $sharedsecrets = $DB->get_records_sql($query, array('configured1' => LTI_TOOL_STATE_CONFIGURED, 'configured2' => LTI_TOOL_STATE_CONFIGURED, 'key1' => $key, 'key2' => $key, 'key3' => $key)); $values = array_map(function($item) { return $item->value; }, $sharedsecrets); If you find it helpful, that would be great. If you are interested in getting more info from me, please feel free to contact me. Cheers, Bei",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 3, 2019, 9:48 PM",
          "AuthorName": "Bei Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1264773&course=5",
          "role": [
            "Picture of Bei Chapman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 390209,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390209",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.6.5 LTI notice",
          "Text": "Hello, We noticed this in our logs. How do we resolve these? Plugin / LTI PHP\nNotice:  Undefined property: stdClass::$lti_sendemailaddr in\n/moodle/application/mod/lti/service/memberships/classes/local/service/memberships.php\non line 270 Plugin / LTI PHP\nNotice:  Undefined property: stdClass::$lti_sendemailaddr in /moodle/application/mod/lti/service/memberships/classes/local/service/memberships.php\non line 272 Plugin / LTI PHP\nNotice:  Undefined property: stdClass::$lti_sendname in\n/moodle/application/mod/lti/service/memberships/classes/local/service/memberships.php\non line 270 Plugin / LTI PHP\nNotice:  Undefined property: stdClass::$lti_sendname in\n/moodle/application/mod/lti/service/memberships/classes/local/service/memberships.php\non line 272 Thanks, Barbara",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 28, 2019, 5:50 AM",
          "AuthorName": "Barbara Taylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=814678&course=5",
          "role": [
            "Picture of Barbara Taylor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 389886,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389886",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Provider: Publish course as LTI by WebService",
          "Text": "I need to Publish As LTI by using Web Service. Cannot figure it out. Could anyone get me the direction for the research? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 20, 2019, 9:15 PM",
          "AuthorName": "Tatiana Minina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2433322&course=5",
          "role": [
            "Picture of Tatiana Minina"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider: Publish course as LTI by WebService",
          "Text": "Wrote the custom external functions, just in case anyone needs... /* GENERATE LTI CODE FOR THE COURSE */ public static function add_lti_course_code_parameters() { return new external_function_parameters( array( 'schoolname' => new external_value(PARAM_TEXT, 'The School Name', VALUE_REQUIRED), 'courseid' => new external_value(PARAM_INT, 'The ID of the Course', VALUE_REQUIRED), 'startdate' => new external_value(PARAM_INT, 'The startdate (timestamp) of the new Course', VALUE_REQUIRED),",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 23, 2019, 3:03 AM",
          "AuthorName": "Tatiana Minina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2433322&course=5",
          "role": [
            "Picture of Tatiana Minina"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 389677,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389677",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Custom Parameters to identify user information",
          "Text": "We are using Moodle as an LTI provider - would it be possible to save where a particular User enrolment is coming from using Custom parameters? e.g. On School Site 1, would it be possible to add something like institution=schoolSite1 in Custom Parameters to ensure that we can track where a particular LTI enrolment is coming from?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 15, 2019, 5:00 PM",
          "AuthorName": "Rex Wallen Tan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2709316&course=5",
          "role": [
            "Picture of Rex Wallen Tan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 389557,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389557",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI tool not assigning correct role to teacher",
          "Text": "Hello everyone, I'm testing the \"Publish as LTI tool\" using what I believe Moodle 3.5 as LTI provider and Moodle Cloud as LTI consumer. I'm trying to publish specific quizzes, with the idea that the teacher on the consumer side can not only assign the quiz but modify it, having access to the course question bank. Whilst the authentication seems to be working just fine, I'm having issues with the role assigned to the consumer. Instead of creating a use on the provider side with Teacher privileges (as it should be), the tool is creating a user with no role assigned. This means the teacher does not have access to all the categories of the question bank, but only to the Default category for the specific quiz, which is empty (as it should). If I manually change the user specifying the role as Teacher the quiz works as expected. Any idea about what I'm doing wrong? Thanks! Filippo",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1570246/Screenshot%202019-08-12%20at%2019.00.58.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1570246/Screenshot%202019-08-12%20at%2019.00.18.png"
          ],
          "Time": "Tuesday, August 13, 2019, 1:07 AM",
          "AuthorName": "Filippo Aroffo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2660746&course=5",
          "role": [
            "Picture of Filippo Aroffo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 389496,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389496",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI users can see everyone's grades.",
          "Text": "I am using separate LTI links (Publish to LTI Tool) to connect different teachers in different institutions to a single course. However, when the grade book is made available, all teachers can see every student's grade (even those from other institutions). Students can still only see their own grade. Is there a way to restrict users (teachers) to just seeing their own students' grades? Thank you in advance for any assistance with this!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 10, 2019, 9:34 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 387340,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=387340",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Tool URL from preconfigured tool not automatically recognized",
          "Text": "For a client I am supposed to help integrate LTI courses imported as IMSCC with a demo moodle. We have tested any setup I can think of, but one main problem remains: the preconfigured tool with the settings is not recognized with \"Automatic, based on tool URL \". If I edit the activity manually and pick the preconfigured tool, it - mostly - works. Doing that for hundreds of activities linking to specific tasks within the book is out of the question. Why would the activity show \" Tool configuration not found for this URL.\" when both clearly are on the same domain without subdomain etc.? Both in the preconfig. tool and the activities created from the IMSCC the URLs start like: https://www.*****learning.com/modules/LTI/ Server .php?id***** Also as we run the site with https, we have tried to force https by extracting the IMSCC, changing all http related to the tool-URL (and remote activity icon) to https in the XMLs - and import that changed IMSCC - with no effect. Once this is solved, I might have to come back to other seemingly common issues like grades not reported back to moodle etc. seen when picking the tool in the activity manually. The Demoserver runs Moodle 3.2.2+",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle-demo.klett-sprachen.de/theme/image.php/boost/lti/1559668986/warning",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1561554/preconftool.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1561554/activity.png"
          ],
          "Time": "Friday, June 14, 2019, 10:08 PM",
          "AuthorName": "Andreas Giesen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340154&course=5",
          "role": [
            "Picture of Andreas Giesen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Tool URL from preconfigured tool not automatically recognized",
          "Text": "This has been solved... We were provided with the wrong URL for the external tool config. :| I opened a new thread concerning the grade synch.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2019, 11:21 PM",
          "AuthorName": "Andreas Giesen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340154&course=5",
          "role": [
            "Picture of Andreas Giesen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 389442,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389442",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course kit from google - Grades not synching with moodle",
          "Text": "Hi guys, I post this in hope is of help if anyone is having the problem of synchronization with moodle and course kit regarding grades, the problem we encounter was that the timestamp of the server was off by 30 min, this made our moodle to reject the post from course kit, you only have to update this and you are ready to go! Here is the link to the google forum, it explains in better detail: https://support.google.com/edu/coursekit/thread/10788250?hl=en I know it is already in google, but I share here because I looked here first and I hope it can help someone else Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2019, 3:40 AM",
          "AuthorName": "Kenia Delgado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2549301&course=5",
          "role": [
            "Picture of Kenia Delgado"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 388893,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=388893",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Mutliple user accounts with same name and email address",
          "Text": "We are using our Moodle 3.4 site as an LTI provider to various other organizations to consume Scorm packages from us. I think what I see is an anomaly where there are multiple users with different enrol_ltixxxxx usernames enrolled on the different scorm courses they have been given access to ( not the courses but the scorm packages individually ) . So , say for example you have a User : User01 LastName user01@website.com -- enrolled on Course01 userid = 100 User01 LastName user01@website.com -- enrolled on Course02 userid = 101 User01 LastName user01@website.com -- enrolled on Course03 userid = 103 and so on.... Is this expected behavior and if so how can we avoid this in the future?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2019, 8:15 PM",
          "AuthorName": "Hittesh Ahuja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1436697&course=5",
          "role": [
            "Picture of Hittesh Ahuja"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Mutliple user accounts with same name and email address",
          "Text": "Found a related Moodle Tracker issue : https://tracker.moodle.org/browse/MDL-55905",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2019, 8:28 PM",
          "AuthorName": "Hittesh Ahuja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1436697&course=5",
          "role": [
            "Picture of Hittesh Ahuja"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 387965,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=387965",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle as LTI Provider - can you add any detail to the 'open tool' page - https://DOMAIN/PATH/enrol/lti/tool.php?id=COURSEID",
          "Text": "Hi, We have managed to set up LTI for our Moodle - however, when you select the course/item in the external system before being directed straight to the course, you land on a page where you have to select the tiny link 'open tool' (https:// DOMAIN /PATH/enrol/lti/tool.php?id=COURSEID) - unfortunately as this isn't very visible, many people miss it -- and it looks like there is a space for course data/information to appear but I can' t find anywhere to enter it. If you view the image below, you'll see the tiny 'open tool' link text at the top and then a big empty white box area that looks like it should contain a description.  Is there anywhere in the Moodle front end admin space where you can add content for this page?  I am stumped.  It's minor but creates a usability / accessibility issue if users/course participants don't notice the link to continue on into the course or activity. I can probably get the back end admins to do something to make the link stand out, but a front end space to add some information relevant to each course or LTI item would be nice/logical (is there such a thing?)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1563861/LTIMoodle2019-07-01_123835.png"
          ],
          "Time": "Monday, July 1, 2019, 11:29 AM",
          "AuthorName": "Kristen Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2687746&course=5",
          "role": [
            "Picture of Kristen Morgan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle as LTI Provider - can you add any detail to the 'open tool' page - https://DOMAIN/PATH/enrol/lti/tool.php?id=COURSEID",
          "Text": "PS: We are using the Fordson (Boost base) theme.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 1, 2019, 12:34 PM",
          "AuthorName": "Kristen Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2687746&course=5",
          "role": [
            "Picture of Kristen Morgan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 386320,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=386320",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Provider: sending back grade discussion with LTI Consumer party",
          "Text": "Hello, I am having a discussion with an LTI Consumer Party about the value/grade that moodle is sending back as LTI Provider. And maybe I am missing something in Moodle that could help me moving forward. Any advice is welcome. Situation: Moodle 3.1 LTI provider standard Course with quize, 60% or higher is considered as passed with activity setting quiz is passed when grade is sufficient Coursecompletion: when quize is completed the course completes LTI provider setting: grade sync when course / activity completion is met I can see in the cron that this goes as I setted it up. The LTI Consumer receives any value higher then 60% (value 0.60000). The discussion is that the LTI Consumer claims that we should not send the value of the quiz but should send only value 1 because the course is completed. When I send the quiz value they will registrated this as progress and not completion. I have no idea how to get Moodle to make it 100%, well maybe I can by setting up the grade book differently (?). But I really wonder if they have implemeted the LTI consumer tool as it should. Is value 1 always the value that need to be sended. I have no issues with other implementation while running these settings, only this LTI consumer claims I have to change the code/value to always 1. Hope that anyone has some thoughts on this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 14, 2019, 2:07 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider: sending back grade discussion with LTI Consumer party",
          "Text": "Gemma, sorry for taking so long to get to this. What is the tool in question? I think you should be able to send the value of the quiz back, but of course each tool can define the parameters of the grade that they choose. maybe they only support pass/fail in their tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 28, 2019, 10:52 PM",
          "AuthorName": "Nick Thompson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=807505&course=5",
          "role": [
            "Picture of Nick Thompson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re: LTI Provider: sending back grade discussion with LTI Consumer party",
          "Text": "Hi Nick, The issue is/was that they only supported Pass (1), they did not even support fail (0) in their case. They have solved the issue on their side, by creating in their tool a table where they say, when value x is higher then value 1, then it is value 1. But my question is more if Moodle should not just send the value 1 when completed instead of the quiz grade? And/ or how do people handel a case like this, by example do they know an option where I can say in the Moodle gradebook: when a student has a grade a boven x then note value 1 and when they have grade below Y then note value 0? Gem Because then I would had probably solved it in a way they wanted",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 28, 2019, 11:32 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re: Re: LTI Provider: sending back grade discussion with LTI Consumer party",
          "Text": "It's not appropriate for Moodle to sanitize results from the tool. I would say that this sounds like it's the fault of the tool not using the spec properly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 29, 2019, 12:10 AM",
          "AuthorName": "Nick Thompson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=807505&course=5",
          "role": [
            "Picture of Nick Thompson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 386532,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=386532",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "2 ergonomics issues",
          "Text": "Hi moodlers, I need some help ;) From a Moodle A, I visit a course in a Moodle B via the external LTI tool and I have 2 questions about ergonimic design. how, if possible, to hide the items of the custom menu on site B how, if possible, to hide the breadcrumb trail on site B Thank you a lot",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, May 20, 2019, 6:22 PM",
          "AuthorName": "Jean-Marc Doucet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=843142&course=5",
          "role": [
            "Picture of Jean-Marc Doucet",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 2 ergonomics issues",
          "Text": "Hi Jean-Marc, In the documentation they talk about using custom parameters ( https://docs.moodle.org/37/en/Publish_as_LTI_tool#See_also ), though I figured it was easier for me to create a custom child theme that shows for Authetication: Manuel the normal view, and for Authetication: LTI the view I want (so with all the hidden items). It might not be the answer you where looking for, but hope it helps Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 28, 2019, 1:51 AM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 386238,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=386238",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Does Moodle support the lticm:options as a LTI consumer?",
          "Text": "A LTI provider for Canvas support the \"lticm:options\". In Canvas, when adding such a tool, it will show up the operations link defined by supporter with the \"lticm:options\". As an example below: <? xml version=\"1.0\" encoding=\"UTF-8\"?>\n<cartridge_basiclti_link xmlns=\" http://www.imsglobal.org/xsd/imslticc_v1p0 \" xmlns:blti=\" http://www.imsglobal.org/xsd/imsbasiclti_v1p0 \" xmlns:lticm=\" http://www.imsglobal.org/xsd/imslticm_v1p0 \" xmlns:lticp=\" http://www.imsglobal.org/xsd/imslticp_v1p0 \" xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xsi:schemalocation=\" http://www.imsglobal.org/xsd/imslticc_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticc_v1p0.xsd http://www.imsglobal.org/xsd/imsbasiclti_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imsbasiclti_v1p0p1.xsd http://www.imsglobal.org/xsd/imslticm_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticm_v1p0.xsd http://www.imsglobal.org/xsd/imslticp_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticp_v1p0.xsd \">\n<blti:title>readbook</blti:title>\n<blti:description>\n<!--\n[CDATA[readbook is an open-source, online learning tool focused on tools for digital annotation. readbook allows instructors, students, and co-learners to discover different ways of reading, interpreting, and discussing course materials.]]\n-->\n</blti:description>\n<blti:launch_url>https://***.com/lti</blti:launch_url>\n<blti:icon>https://***.com/sites/all/themes/readbook_stories/favicon.ico</blti:icon>\n<blti:extensions platform=\"canvas.instructure.com\">\n<lticm:property name=\"tool_id\">readbook</lticm:property>\n<lticm:property name=\"icon_url\">https://***.com/sites/all/themes/readbook_stories/favicon.ico</lticm:property>\n<lticm:property name=\"privacy_level\">public</lticm:property>\n<lticm:options name=\"resource_selection\">\n<lticm:property name=\"enabled\">true</lticm:property>\n<lticm:property name=\"url\">https://***.com/lti?destination=/lti_resource_list</lticm:property>\n<lticm:property name=\"text\">Add resources from readbook</lticm:property>\n<lticm:property name=\"selection_width\">800</lticm:property>\n<lticm:property name=\"selection_height\">600</lticm:property>\n</lticm:options>\n<lticm:options name=\"course_navigation\">\n<lticm:property name=\"text\">Manage readbook</lticm:property>\n<lticm:property name=\"enabled\">true</lticm:property>\n<lticm:property name=\"url\">https://***.com/lti?destination=/lti/course/setup</lticm:property>\n<lticm:property name=\"visibility\">admins</lticm:property>\n</lticm:options>\n</blti:extensions>\n</cartridge_basiclti_link>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 12, 2019, 8:21 AM",
          "AuthorName": "wz z",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=250778&course=5",
          "role": [
            "Picture of wz z"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 385896,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=385896",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding LTI link to every course / Adding LTI link to main course nav",
          "Text": "Is it possible to add a an LTI app to every course in Moodle? I know this question was asked a few years ago ( https://moodle.org/mod/forum/discuss.php?d=330654 ) but I was hoping the answer may have changed since then. I'd also like to know if it is possible to add an LTI link to the main course navigation (on the left side of the page in Boost). Such that when a user clicks on the link they launch the LTI app. If Moodle does not support it out of the box, would a plugin allow us to accomplish either of these things? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 2, 2019, 10:51 PM",
          "AuthorName": "Buddy H",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2652022&course=5",
          "role": [
            "Picture of Buddy H"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 385361,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=385361",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Provider : \"you cannot enrol yourself in this course\"",
          "Text": "Hi, I am trying to share a Moodle (3.6) activiry through LTI provider from another Moodle (3.5). It is generally working properly, but sometimes - it seems when the remote user is already created\", I got the error message \"you cannot enrol yourself in this course\"  at the client side. Any idea ? Thanks for help. Laurent.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 18, 2019, 2:20 PM",
          "AuthorName": "Laurent Dairaine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=311695&course=5",
          "role": [
            "Picture of Laurent Dairaine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 383150,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=383150",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Passing data from LTI tool back to Moodle 3.5.4",
          "Text": "Dear All, I am completely new to moodle. I am working as an LTI tool integrator in moodle. I had a query regarding the communication of LTI tool back to the moodle. That is, I had an LTI tool for examinations and need to save the exam result against the user in moodle database . How can I do that? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 28, 2019, 4:20 PM",
          "AuthorName": "Rahul R L",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2612433&course=5",
          "role": [
            "Picture of Rahul R L"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing data from LTI tool back to Moodle 3.5.4",
          "Text": "Dear Rahul, I suggest you have a look at the external tool activity, which is the name for the LTI consumer module in Moodle: https://docs.moodle.org/36/en/External_tool Hope this helps! Cheers, Max",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 4, 2019, 4:43 PM",
          "AuthorName": "Maxime Taisne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1100855&course=5",
          "role": [
            "Picture of Maxime Taisne"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing data from LTI tool back to Moodle 3.5.4",
          "Text": "Dear Max, Thanks for the reply. I gone through the link you provided. It helps me to configure the LTI tool in my moodle, thanks. Actually my LTI tool is intended for conducting an exam and I need that exam result back to moodle. How it is possible to do that? Hope its not an invalid question. Sorry if it is. Regards, Rahul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 27, 2019, 4:12 PM",
          "AuthorName": "Rahul R L",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2612433&course=5",
          "role": [
            "Picture of Rahul R L"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing data from LTI tool back to Moodle 3.5.4",
          "Text": "Dear Rahul, Sorry for this late reply. Your LTI should send the results back to Moodle if the feature has been developed within the tool. This is why LTI was conceived in the first place. Just try and let us know how it goes. Best, Max",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 10:29 PM",
          "AuthorName": "Maxime Taisne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1100855&course=5",
          "role": [
            "Picture of Maxime Taisne"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 385142,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=385142",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Disable Login/Logout",
          "Text": "Since my LTI users aren't logging in, is there a way to hide or disable login/logout for them?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 5:57 AM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 385037,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=385037",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Sending Scores back to moodle",
          "Text": "Is there any possibilities to save scores of more than one Students at a time. ie, First we are saving scores only in the external tool (an examination tool) database , after attending all students ,the result of all students will send back to moodle. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 10, 2019, 6:28 PM",
          "AuthorName": "Sayana Sudhir",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2640320&course=5",
          "role": [
            "Picture of Sayana Sudhir"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 384871,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=384871",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI passing role of Learner",
          "Text": "Hello- My apologies as I have read the documentation, but am a bit of a novice and may not have understood what it was I was reading.  We are using Moodle 3.5, and are an OPen LMS hosting client. We are working to implement a syllabus tool called Concourse, and an LTI integration using the External tool was suggested.  All works fine, the application is launched and the user name and password info is passed through.  However the role for each user is passed as \"learner\" regardless of the users' course role .  This remains true except for users who also have a system administrator role, who are then passed through with the role of instructor. Can someone confirm or deny for a novice, if there is a simple (think GUI) way to modify this information (ie configure the External tool tool to pass a course role).  If this is not possible, would further exploration of an LTI membership service be suggested?  Or if this is something that the LTI provider must manipulate on their side.... I appreciate you patience Bethany",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 6, 2019, 5:28 AM",
          "AuthorName": "Bethany Emory",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2318848&course=5",
          "role": [
            "Picture of Bethany Emory"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 384581,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=384581",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI authentication URL and link with subdomain",
          "Text": "Hello, I am facing an issue to configure a link to an external tool in Mood.e +Part 1: One-Time Configuration of the API + To make the interface work, it must be made known to the Moodle System. This needs to be done once for the whole moodle Site. 1) Login on Moodle 2) Go to the settings 3) Configure the API : http://api.schooltas.net/api/public/lti (see picture moodle attached) 4) Go to Plugins > Activity Modules > External Tool > Manage preconfigured tool 5) A request is sent to Schooltas (LTI Requests from Moodle) This works and we can arrive on the homepage of the external tool. But then, when we create a link in moodle it doesn't work. +Part 2: Creating links to e-books using the API + After the One-time Configuration of the API, the API can be used when referring to books. When trying to use the proposed URL to refer to an existing book with a correct user, the error message “Tool-Configuration for this URL not found” appears. Please find a screenshot of the current configuration attached to this message (Part two.PNG). This screenshot also shows the error message. It seems we have found the problem. In Moodle we can only have one single link for an external tool. Currently in the process we have two links for Schooltas: 1. the single sign on link: https://backend.schooltas.net/api/public/lti 2. The link to the book, e.g. https://mijn.schooltas.net/book#id The single sign-on (backend link) works. When we set it, we arrive correctly on Schooltas homepage. The only thing is that we would like to arrive directly in the book. And the URL for linking to the book is different from the \"Tool\" URL, which links to the backend. Question: Can you handle sub-domains, or not? And if not, how should we look at modifying our URL's? The set-up between Moodle and Schooltas works. It's only the deeplink to another sub- domain , which is apparently not supported by Moodle. Thanks a lot for your help! Aurélie",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1550161/moodle.jpg?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1550161/probleme%20URL.jpg?forcedownload=1"
          ],
          "Time": "Monday, April 1, 2019, 5:38 PM",
          "AuthorName": "Aurélie Leyendecker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2634237&course=5",
          "role": [
            "Picture of Aurélie Leyendecker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 383457,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=383457",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle Provider : LTI Content-Item configuration",
          "Text": "Hi, I setup a Moodle LTI consummer accessing to activities /courses picked up on a second Moodle instance configured as LTI provider. It is ok but need to setup  at consummer side each activity or course to be mounted manually (i.e., with particular access URL and key). Is there any way to configure consummer and provider in such a way to use the LTI Content Item configuration, allowing  the consummer to choose and pickup one of several activities or courses of the Moodle provider ? The idea could be to access to a sort of catalog of everything accessible to the consummer from the provider. Thanks for your help. Laurent",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 7, 2019, 5:19 AM",
          "AuthorName": "Laurent Dairaine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=311695&course=5",
          "role": [
            "Picture of Laurent Dairaine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 376884,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376884",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Debug error: Expired timestamp, yours 1538688602, ours 1538681402",
          "Text": "LTI has been working fine, suddenly it has stopped working and the following message appeared Debug error: Expired timestamp, yours 1538688602, ours 1538681402 I have seen  that there is an issue at Moodle Tracker MDL-60935 But not answer for the moment",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 5, 2018, 5:44 AM",
          "AuthorName": "Bernat Martinez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=92175&course=5",
          "role": [
            "Picture of Bernat Martinez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Debug error: Expired timestamp, yours 1538688602, ours 1538681402",
          "Text": "I had the same problem with a lti tool, in my case I checked the time difference by converting the timestamp and updating the server time to the same time as the external tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 25, 2018, 1:45 AM",
          "AuthorName": "Rafael Guzzo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2468848&course=5",
          "role": [
            "Picture of Rafael Guzzo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Debug error: Expired timestamp, yours 1538688602, ours 1538681402",
          "Text": "I have the same issue.  We are an LTI consumer...Moodle 3.6 to Moodle 3.5 connection.... The error message we receive is: An error occurred when launching the external tool:Debug error: Expired timestamp, yours 1551448244, ours 1551447910 This has to be an error, updating our server time to match the LTI publisher's server time doesn't make any sense....as it would cause confusion and errors with our learner. Does anyone have a solution for this issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 1, 2019, 9:46 PM",
          "AuthorName": "Ken Kavanagh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2576708&course=5",
          "role": [
            "Picture of Ken Kavanagh"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 383095,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=383095",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI grade sync behviour moodle->Blackboard",
          "Text": "Hi, I was wondering if there is anyone who could confirm the behaviour of moodle (provider) to Blackboard (consumer) grade syncing.  I was caught out this morning by behaviour 1 below and wanted to confirm this is \"normal\" for LTI or at least normal for a moodle-Blackboard setup.  I was also surprised by behaviour 3 that LTI users do not list in the moodle gradebook.  Confirmation of this as \"normal\" is appreciated as I am at the start of setting up a new service. 1. If a student completes a test and receives zero marks in moodle, on Blackboard this will not be entered as a zero, but instead appear as “not started” or a “- - “ entry in Blackboard’s grade centre.  It is unclear if the zero mark is actually sent by moodle, or if the LTI protocol treats it as a non-attempt, or if Blackboard is treating zeros as non-attempts.  However, the outcome is no attempt recorded on Blackboard, but an attempt can be seen on moodle. 2. If a student completes a test and receives a score >0, this mark will sync to Blackboard.  If a student re-attempts the quiz, the last attempt score will be transferred.  However, if moodle is set to use the Highest attempt, then only the highest attempt score is transferred. 3. The moodle gradebook “Grader report” does not list students coming in via the LTI link, although the “Grade History” area does report all attempts and scores and this information can be downloaded (albeit with email addresses rather than usernames). Thanks and best wishes, Stuart Anderson, University of Manchester.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 27, 2019, 8:36 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 345828,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=345828",
      "NoOfResponses": 53,
      "ResponsesInList": [
        {
          "Title": "LTI authentication not working",
          "Text": "Hi all, I am running two Moodle 3.2 sites locally. One is setup as an LTI provider, and the other as an LTI consumer. Steps to replicate: In LTI Provider: Enable LTI authentication plugin Enable Publish as LTI tool Allow frame embedding = On Web services: On (this isn't in the docs, but seemed to fix an error where the web service couldn't be found) Create a course Add a SCORM activity to the course Set the SCORM activity so that students do not see the course structure screen, and display = embedded Add Publish as an LTI tool enrolment method Set enrolment method settings: tool to be published, secret key, user synchronization = No In LTI Consumer: Create a course Add External tool activity Configure activity with the URL of the SCORM package in the Provider, secret key, consumer key and display = embedded Enrol test.user in course Login as test.user Access the External tool within the course Expected behaviour: The SCORM package should display in an iframe with no headers or footers from the Provider site The Provider should list test.user as an enrolled user in the provided course Actual behaviour: If not already logged into Provider site, the login page displays in the iframe on the Consumer site No new users are registered or enrolled on the Provider site Is this a bug, or have I missed something during the configuration process? Thanks, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 15, 2017, 7:06 PM",
          "AuthorName": "Mark Berthelemy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3015&course=5",
          "role": [
            "Picture of Mark Berthelemy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "[UPDATE] Still no success in registering users or logging in via LTI. I have tried with two LTI Providers (one Moodle 3.2 hosted locally, and the other Moodle 3.1 hosted on AWS). Both take the test user to the Provider's login screen within the iframe. Is there any reason why my LTI Consumer (hosted locally using MAMP ) isn't passing the right data to the Provider? I have tracked the POST call using Postman Interceptor, and it looks like the following data is being sent out from the Consumer: context_id:2 context_label:Test Course context_title:Test Course context_type:CourseSection ext_lms:moodle-2 ext_user_username:test.user launch_presentation_document_target:iframe launch_presentation_locale:en launch_presentation_return_url: http://moodle.localhost:8888/mod/lti/return.php?course=2&launch_container=3&instanceid=3&sesskey=iK3smesYJV lis_course_section_sourcedid: lis_outcome_service_url: http://moodle.localhost:8888/mod/lti/service.php lis_person_contact_email_primary:######@##### lis_person_name_family:User lis_person_name_full:Test User lis_person_name_given:Test lis_person_sourcedid: lis_result_sourcedid:{\"data\":{\"instanceid\":\"3\",\"userid\":\"3\",\"typeid\":\"4\",\"launchid\":535072775},\"hash\":\"16ddd1727f6ce4c2cb76303abd7b3cf9af45f5a18f4e2ff0f430c0591b7bb5fc\"} lti_message_type:basic-lti-launch-request lti_version:LTI-1p0 oauth_callback:about:blank oauth_consumer_key:abc oauth_nonce:############# oauth_signature:############# oauth_signature_method:HMAC-SHA1 oauth_timestamp:1484667680 oauth_version:1.0 resource_link_description: resource_link_id:3 resource_link_title:SCORM on Provider site roles:Learner tool_consumer_info_product_family_code:moodle tool_consumer_info_version:2016120501.01 tool_consumer_instance_description:Moodle dev / testing site tool_consumer_instance_guid:moodle.localhost tool_consumer_instance_name:Moodle Dev user_id:3 Any help very gratefully received! Thanks, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 17, 2017, 11:44 PM",
          "AuthorName": "Mark Berthelemy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3015&course=5",
          "role": [
            "Picture of Mark Berthelemy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi Mark, sorry you are encountering some problems. What launch URL did you paste into your consumer? You must use the URL given by the table on the \"Publish as an LTI tool\" page. It should be enrol/lti/tool.php?tool=X",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 18, 2017, 3:00 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Correction, on your 3.1 instance it should have enrol/lti/tool.php?tool=X, but on your 3.2 instance it should give enrol/lti/cartridge.php/X/YYYYYYYYYYYYYYY/cartridge. xml . Which will then be loaded by moodle and when you edit your instance again it should give the tool URL",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2017, 10:26 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi John, Ah. That's working now. It wasn't at all obvious that there is a separate page hidden away containing all URL to use. I've amended the documentation appropriately. Thanks for your help. It's obvious when you know how Mark",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, January 20, 2017, 11:48 PM",
          "AuthorName": "Mark Berthelemy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3015&course=5",
          "role": [
            "Picture of Mark Berthelemy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Glad I could help. And thanks for thinking of improving the docs too, every little bit helps",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, January 23, 2017, 10:43 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi Similar issue to Mark. Login credentials not being passed between a provider Moodle and consumer Moodle.\n\nAll configuration steps have been followed. Some details: Provider HTTPS Moodle 3.2 on Moodle Cloud Consumer (Attempt 1) HTTP Moodle 3.2 Moodle on Amazon AWS Cartridge URL: https://domain.com/enrol/lti/cartridge.php/1/93b8cdfce80858e450d6046ca326570c/cartridge.xml After Saving it is changed to: https://domain.com/enrol/lti/tool.php?id=1 User sees this error \"A required parameter (oauth_consumer_key) was missing\" Using: https:// www. domain .com/enrol/lti/tool.php?id=1 User is brought to the provider login page Using: https://domain.com/enrol/lti/proxy.php/1/ab2261b3fc7ab001ae495def3b0f3564/ User sees: Invalid request message Using: https:// www. domain.com/enrol/lti/proxy.php/1/ab2261b3fc7ab001ae495def3b0f3564/ User is brought to the provider login page Consumer (Attempt 2) HTTPS Moodle 3.0 Using: https://domain.com/enrol/lti/proxy.php/1/ab2261b3fc7ab001ae495def3b0f3564/ User sees: Invalid request message Using: https:// www. domain.com/enrol/lti/proxy.php/1/ab2261b3fc7ab001ae495def3b0f3564/ User is brought to the provider login page Any insight appreciated. Thanks Killian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2017, 6:20 PM",
          "AuthorName": "Killian Holmes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1430815&course=5",
          "role": [
            "Picture of Killian Holmes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "An update on this. Once I added the activity as an actual LTI tool, then it worked.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2017, 11:11 PM",
          "AuthorName": "Killian Holmes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1430815&course=5",
          "role": [
            "Picture of Killian Holmes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi, I am having the same issue. The Tool URL given to me is : http://somedomain.com/enrol/lti/cartridge.php/2/0e7355f72a20fdd93d690a8398438676/cartridge.xml It loads the moodle site Login page...without actually logging in and enrolling the LTI user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2017, 5:40 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "That URL looks right. But when you paste that in and save the instance, and edit it again, what URL is shown?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2017, 10:15 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi John, Initially I did not understand your question because when I paste the URL in SAKAI, and edit it again, the same URL that I pasted shows up. However, I then pasted the URL into Moodle, and when I edit it again, I get : http://somedomain.com/enrol/lti/tool.php?id=2 Also, next to the URL it now shows : Tool configuration not found for this URL. (this wasn't here initially) When i use the new URL in SAKAI, I get the following error message : \"External tool has finished with an error: Debug error: A tool consumer GUID must be included in the launch request.\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 21, 2017, 4:02 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Ah yes, it might be the case that SAKAI doesn't support XML cartridges. So you can copy the launch URL directly out of the cartridge XML to avoid having to use Moodle in between. There's a small chance that this may work: https://confluence.sakaiproject.org/display/~markjnorton/A+Common+Cartridge+Installer+using+OKI+OSIDs But in any case, it seems that unfortunately SAKAI does not send the tool_consumer_instance_guid parameter which is a recommended (But not required) parameter. I'm assuming there's no way to fix this in SAKAI's interface? The PHP LTI provider library Moodle uses requires this parameter. Which is a mistake, so I will create issues to fix this. Sorry that there is no immediate solutions (unless there's a way to add something to your site or LTI configuration to ensure SAKAI sends a tool consumer GUID. Things like site short name or site ID, activity short name or activity ID may help. But I'm only guessing as I haven't worked directly with SAKAI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2017, 10:32 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Here are the issues you can watch and vote on to help them get fixed faster https://tracker.moodle.org/browse/MDL-57741 No simple way to use LTI launch without cartridge support https://tracker.moodle.org/browse/MDL-57742 tool_consumer_instance_guid is required when it should be optional https://github.com/IMSGlobal/LTI-Tool-Provider-Library-PHP/issues/19",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2017, 10:56 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi John! Thanks for creating these for me. We are using Sakai 10. While I am an admin of our moodle site, unfortunately the Sakai site is owned by a different group, and thus we have no say in its installation/modifications. Nevertheless, we intend to be able to use our Moodle site with partner institutions that may or may not be using different versions of external options such as LTI, canvas, etc, so i think it would be beneficial if the issue is fixed so that Moodle LTI is compatible with other external systems right out of the box without involving other institutions IT. Thanks again, Phil",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2017, 10:24 PM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "```text\nGreetings, my friends, please consult me ​​as I can return the qualification from my lTI external keyboard to moodle system, which I should send your kind help\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 24, 2017, 2:52 AM",
          "AuthorName": "Diego Romero Armijos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1303741&course=5",
          "role": [
            "Picture of Diego Romero Armijos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Thanks for those John, I voted for them. Similar issues here too with LTI1. Trying to display a Moodle course inside Haiku (a small LMS). Got the launch url from inside the xml file but when I click on the link in Haiku it launches another instance of Haiku...not of the Moodle course. I'm guessing that this is because Moodle insists on getting tool_consumer_instance_guid when it's apparently up for debate on whether it is optional or not in the LTI specs?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Tuesday, January 24, 2017, 5:58 AM",
          "AuthorName": "Paul Tosney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=564373&course=5",
          "role": [
            "Picture of Paul Tosney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "That seems odd, I am not sure whether it's the same guid issue. Are you able to turn on debugging mode or check the Haiku logs to get more detail? Or share your settings here (blanking out the secret of course) What consumer key did you use?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 24, 2017, 9:29 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Did you ever resolve this issue Paul and John? I have basically the same issue when trying to use Moodle 3.5.1+ as an LTI server and PowerSchool Learning (formerly Haiku) as a client.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 5, 2018, 10:35 PM",
          "AuthorName": "Doug Loomer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=310951&course=5",
          "role": [
            "Picture of Doug Loomer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "I am having this issue occur sporadically. I have Moodle setup as the LTI provider to a Canvas instance. Out of about 150 students connecting simultaneously about 8 of them were redirected to the Moodle login page. For the rest, the LTI connection seemed to work perfectly. Is the LTI connection sensitive to the web browser type or settings? Any ideas? Thanks, Reid",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 18, 2017, 1:41 AM",
          "AuthorName": "Reid Proctor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1433321&course=5",
          "role": [
            "Picture of Reid Proctor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "If you can take a look at the moodle logs and server logs around the time of the problematic login maybe we can see what might be the cause. Unless it's a very old browser LTI should work fine. Are both your Moodle and your Canvas https?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 18, 2017, 8:42 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "I have set up my own Moodle as a provider and entered all the information as requested. In the consumer site I enter the required information, but, if I don't enter a consumer key, I get the error below, but the link takes me to the platform generally, if I do enter a consumer key, the link doesn't work. Any thoughts on this would be appreciated.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1440849/2017-08-22%2010_02_47-Error%20-%20Nightly.png?forcedownload=1"
          ],
          "Time": "Tuesday, August 22, 2017, 5:40 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "The consumer key is required, so we'll need to try fixing the problem when the consumer key is set. What do you mean by \"the link doesn't work\"?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 23, 2017, 9:17 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Dear John, The link doesn't work, see image below. Where do you need to enter the Consumer key? According to the Video posted on the Moodle.org site, the consumer key can be anything, but elsewhere I read that the consumer key is an important part of the process. On the provider site, in a given course I have the \"Published as LTI course\" option available, and have entered all the details given there into my consumer course.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1441082/2017-08-22%2010_03_59-WS%282%29%20-%20Nightly.png?forcedownload=1"
          ],
          "Time": "Wednesday, August 23, 2017, 1:52 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi John, I've been trying out some different settings, and one thing I've found is that when not using the pre-configured tool setting, I receive a different error. I get transfered to the provider Moodle in the end, but not logged in to the course nor the actual system, dumped on the doorstep so to speak, which is not ideal. Paul",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1441162/2017-08-23%2010_54_03-Error%20-%20Nightly.png?forcedownload=1"
          ],
          "Time": "Wednesday, August 23, 2017, 5:04 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Are you able to try using the test provider in canvas http://lti.tools/test/tp.php And test the test consumer against moodle http://lti.tools/test/tc.php If they are also broken it may help us diagnose the problem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 24, 2017, 9:00 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi John, I received the following from both links:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1441474/2017-08-24%2009_33_24-WS%282%29_%20Test%20and%207%20more%20pages%20%E2%80%8E-%20Microsoft%20Edge.png?forcedownload=1"
          ],
          "Time": "Thursday, August 24, 2017, 3:35 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "I'm guessing this is on a site with SSL (great!) So you can use these urls instead. https://lti.tools/test/tc.php https://lti.tools/test/tp.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 25, 2017, 10:39 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi John, Ok, so that works, and what it means is that it is not possible for a provider that is not using an SSL connection to connect to a consumer that is. That makes sense in a way and means that I have to set my Moodle provider site up on an SSL connection. I'll do that and keep you in the frame on the outcome. Many thanks for the input, this has helped tremendously, and by the way, should the documentation be amended to state this, or am I jumping the gun here? Very best, Paul",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1441665/2017-08-25%2007_44_42-WS%282%29_%20Test%20and%2013%20more%20pages%20%E2%80%8E-%20Microsoft%20Edge.png?forcedownload=1"
          ],
          "Time": "Friday, August 25, 2017, 1:43 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "I've now added some info, good point!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 28, 2017, 2:52 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "So John, I have encrypted my site, but guess what, it still gives me an error. My Supplier site is now running on a secure https:// path so that should no longer be an issue. This is causing me to loose my hair.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/mixed",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1442126/2017-08-28%2015_26_51-WS%282%29%20-%20Nightly.png?forcedownload=1"
          ],
          "Time": "Monday, August 28, 2017, 9:28 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "John, I notice that in your LTI Consumer key you have: jisc.ac.uk. Is this a specific key, or can this be anything? Regards, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 28, 2017, 11:14 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "My settings are as follows, is there anything there that you can see that looks wrong?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1442176/2017-08-28%2017_16_08-Editing%20External%20tool%20and%203%20more%20pages%20%E2%80%8E-%20Microsoft%20Edge.png?forcedownload=1"
          ],
          "Time": "Monday, August 28, 2017, 11:17 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Settings at the other end are:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1442177/2017-08-28%2017_19_17-Course_%20English%203%20-%20E3%20%28HS2018%29-PR%20and%203%20more%20pages%20%E2%80%8E-%20Microsoft%20Edge.png?forcedownload=1"
          ],
          "Time": "Monday, August 28, 2017, 11:20 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "As a final thought here: are there a set of prerequisites to setting up LTI to work? What I'm thinking here is that in the documents it tells you to activate various options to turn on LTI, but do you for example need to have XML_RPC running? With my site for example, on the face of things everything looks to be correctly configured, but there must be something that is not working and I really can not see what it can be.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 1, 2017, 1:40 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "XML_RPC is not required for LTI. All the prerequisites should be in the documentation. The settings you've shown all look correct. Been flat out with the current work at HQ so haven't had much time to look into this in more detail. Server logs etc may be the next way to help diagnose.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 1, 2017, 2:50 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi John, That is really interesting. I have just switched my PHP handler on the server and activated XML_RPC, and it works. Hmmm. The only thing that happens in between clicking on the link in the consumer Moodler, and the course opening in the Provider Moodle is the dialogue below.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1443054/2017-09-01%2010_32_12-Open%20tool%20-%20Nightly.png?forcedownload=1"
          ],
          "Time": "Friday, September 1, 2017, 4:29 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hello, We seem to be experiencing a similar issue here. We are running Moodle 3.3. We are attempting to use our Moodle site as Producer and an external Sakai (version 11.4) site as consumer. As per the instructions here: https://docs.moodle.org/33/en/Publish_as_LTI_tool we have enabled LTI authentication and the 'Publish as LTI tool' enrolment plug-in on the Moodle producer site. Frame embedding is allowed. The 'Publish as LTI tool' has been configured as an enrolment method in a Moodle course. We have supplied the cartridge URL and secret to the Sakai consumer. We have web services and XML_RPC enabled on the Moodle site. We are using SSL connections on both sites. When we used the Cartidge URL or the Registration URL we received an 'Invalid request' error. Shortening the cartridge URL to a URL ending in '/enrol/lti/tool.php?id=5' resulted in the following error in Sakai: 'External tool has finished with an error. Sorry, there was an error connecting you to the application.' If anyone has managed to successfully provide LTI from Moodle 3.2+ to a Sakai consumer, any troubleshooting tips and advice would be appreciated. Thanks, Mags",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 2, 2017, 9:28 PM",
          "AuthorName": "Margaret Phelan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2090200&course=5",
          "role": [
            "Picture of Margaret Phelan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Did you try John's test items higher up the post? First: Are you able to try using the test provider in canvas http://lti.tools/test/tp.php And test the test consumer against moodle http://lti.tools/test/tc.php If they are also broken it may help us diagnose the problem Second: I'm guessing this is on a site with SSL (great!) So you can use these urls instead. https://lti.tools/test/tc.php https://lti.tools/test/tp.php It was by doing that, that I was able to determine that the problem was in my Provider site, not the consumer. It could well be that on the consumer side that something is not correctly configured, equally, the provider too may not be correctly set up, even if you think it is. I literally had to go systematically through all the areas before I found that in my case it seemed to be in the PHP.ini file that something was not correct. But it did take time to fathom out.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 4, 2017, 3:39 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hello Paul, Many thanks for the quick reply. Your assistance is greatly appreciated. We will run though the checks you have advised and will post any updates here. Kind Regards, Mags",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 4, 2017, 4:13 PM",
          "AuthorName": "Margaret Phelan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2090200&course=5",
          "role": [
            "Picture of Margaret Phelan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Launch URL",
          "Text": "I am new to LTI integration and i am working as Tool provider using .net. I have generated consumer key and shared secret. Also i do have the launch URL as \"http://localhost:60856/oauth/LtiLaunch\" i am not sure how to test this with Tool Consumer (Schoology/ Canvas). Also i tried using http://lti.tools/test/tp.php . But still shows error and i am not sure what is the error. Please let me know if there any way i can provide my localhost address while the tool provider is in the development stage to get the outcomes from the Tool Consumer. I saw what are the outcomes through the documents. But if i want to see in the development, i should get redirected to my localhost with the LtiRequest details. Please anyone can help me on this issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 4, 2019, 6:12 AM",
          "AuthorName": "Arulselvan Kumarasamy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2573780&course=5",
          "role": [
            "Picture of Arulselvan Kumarasamy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Something that I find is that the course does not open when embedded in Moodle, I have to open it in a new window to work. I did read something about this either on a forum or in a Tracker note.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 4, 2017, 5:13 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hey Paul if you get that problem all you have to do is make sure you have \"allow frame embedding\" turned on (on the provider site). Although you should get a warning about that - have you turned it on already?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 5, 2017, 8:06 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi John, No I haven't, but will give it a go. Just to give some background of why we're doing this. I work for a University who run a University wide Moodle. But the problem with this concept is that not all of the Faculties have the same needs, so it occured to me that one way to overcome this was to set up a Faculty Moodle linked back to the Main platform. Faculty staff can use plugins etc. that are specific to their requirements, develop courses that utilise these, but students enrol over the main Moodle, and are directed when needs be to the Faculty platform for specific activities that need something special. Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2017, 10:06 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi John, I've activated it now, and yes it works a treat. Many thanks for that tidbit. For anyone looking for the option, it is: Site Adminitration>Security>HTTP security - in Moodle 3.3 Regards, Paul",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, September 6, 2017, 10:54 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Please help me out to solve this",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1506728/lti_plugin.png?forcedownload=1"
          ],
          "Time": "Tuesday, July 24, 2018, 1:40 PM",
          "AuthorName": "blessy poulose",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2466535&course=5",
          "role": [
            "Picture of blessy poulose"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hello, I'm running two moodle-3.4.2 bitnami installs on two separate windows boxes.  I've setup the two boxes per the instructions https://docs.moodle.org/34/en/Publish_as_LTI_tool and following the (based on 3.1).   I also added Mark's step 4 from the OP . On the consumer side, after entering the url ( http://10-pf0t5pgc/moodle/enrol/lti/cartridge.php/3/c209d245ff95820263d639e5f42b8c2c/cartridge.xml ) and secret from the provider side, and hitting either of the save buttons, I get a bad url error message and the consumer sides url is left empty upon reentering the configuration screen. Any ideas why the url is seen as bad and not updating to the .../tool.php/... url?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 20, 2018, 3:06 AM",
          "AuthorName": "Chad Adams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2426987&course=5",
          "role": [
            "Picture of Chad Adams"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hello John, I am trying to use Moodle as both consumer and provider with LTI. Both Moodle have version 3.3.5. The authentication seems to be Ok and I can see the title of the content I am sharing from the provider. However, I keep getting below messages, which says some image files can not be retrieved from the provider. Same result when I use below links, authentication is ok but image files can not be reached. What I see in the window to display external content: testlti INTRODUCTION The Mathematics Level 1 Subject Test assesses the knowledge you’ve gained from three years of college-preparatory mathematics, including two years of algebra and one year of geometry. If you’ve excelled in these courses, taking the test can support your high school grades, indicate an interest in pursuing math-based programs of study (science, technology, engineering, economics, etc.), and help you differentiate yourself in the admission process. https://XX.YYY.ZZ.XXX/theme/image.php/boost/theme/1525681569/favicon https://XX.YYY.ZZ.XXX/theme/image.php/boost/theme/1525681569/favicon https://XX.YYY.ZZ.XXX/enrol/lti/tool.php?id=9 https://XX.YYY.ZZ.XXX/enrol/lti/tool.phpid=9 https://XX.YYY.ZZ.XXX/theme/image.php/boost/theme/1525681569/favicon https://XX.YYY.ZZ.XXX/theme/image.php/boost/theme/1525681569/favicon I just deleted the IP address.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 9, 2018, 7:30 PM",
          "AuthorName": "Tansu PANCAR",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2429676&course=5",
          "role": [
            "Picture of Tansu PANCAR"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "I am new to LTI integration and i am working as Tool provider using .net. I have generated consumer key and shared secret. Also i do have the launch URL as \"http://localhost:60856/oauth/LtiLaunch\" i am not sure how to test this with Tool Consumer (Schoology/ Canvas). Also i tried using http://lti.tools/test/tp.php . But still shows error and i am not sure what is the error. Please let me know if there any way i can provide my localhost address while the tool provider is in the development stage to get the outcomes from the Tool Consumer. I saw what are the outcomes through the documents. But if i want to see in the development, i should get redirected to my localhost with the LtiRequest details. Please anyone can help me on this issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 4, 2019, 10:50 PM",
          "AuthorName": "Arulselvan Kumarasamy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2573780&course=5",
          "role": [
            "Picture of Arulselvan Kumarasamy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "I am totally stumped on my my LTI (External Tool) connections are not working. Here's the background, We are using moodle 3.6.2 version. Am attempting to connect to a set of courses using the external tool, as the LTI consumer.  The LTI publisher has provided me a series of courses, each with their own Cartridge URL and secret.  We are making up our own Consumer Key. When I take one of these cartridge urls and it's respective secret and I add it as an activity to a course, selecting external tool, I get the following error message: An error occurred when launching the external tool:Sorry, there was an error connecting you to the application. The URL also changes and reads: https://learning.orionlms.com/mod/lti/return.php?course=542&launch_container=4&instanceid=74&sesskey=1YGqrzvLsN&lti_errormsg=Sorry%2C+there+was+an+error+connecting+you+to+the+application.&lti_errorlog=Debug+error%3A+OAuth+signature+check+failed+-+perhaps+an+incorrect+secret+or+timestamp . Now, when I go over to the moodle sandbox site or even the moodle QA site, and load the cartridge and secret as an activity, using the external tool, I can access the course without any delay, no issues no problems.  What am I doing wrong? 1 more test for you.  I published a course on my Moodle.  I went over to the Moodle Sandbox and Moodle QA site and loaded my own Cartridge URL and secret as an activity on a test course and I got the same response from the Moodle sandbox and QA site which was: An error occurred when launching the external tool:Sorry, there was an error connecting you to the application. Now I know that the problem is our moodle...but what is it.  We have authorized the Plugin LTI feature for Authentication and Enrolment, so it's active.  But is there something else that we should be looking at or checking off?  Any and all help is gratefully appreciated. Thanks in advance, Ken Kavanagh Orion Learning ken.kavanagh@orionelearning.com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 5:08 AM",
          "AuthorName": "Ken Kavanagh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2576708&course=5",
          "role": [
            "Picture of Ken Kavanagh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Hi Ken, I did not try through moodle. After gone through many websites. I could be able to configure through https://canvas.instructure.com/login/canvas and https://www.schoology.com/ as a LTI provider. I have created the launch URL, Consumer key and secret. I have configured in schoology and canvas. It is working as expected. I worked as LTI Provider, but i did not work as LTI consumer. Can you please let me know are you working as a Consumer or provider. Regards Arul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 5:53 AM",
          "AuthorName": "Arulselvan Kumarasamy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2573780&course=5",
          "role": [
            "Picture of Arulselvan Kumarasamy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Arul, We are an LTI Consumer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 8:40 AM",
          "AuthorName": "Ken Kavanagh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2576708&course=5",
          "role": [
            "Picture of Ken Kavanagh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Sorry Ken, i worked as LTI provider and i am not sure about the LTI consumer details.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 11:29 PM",
          "AuthorName": "Arulselvan Kumarasamy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2573780&course=5",
          "role": [
            "Picture of Arulselvan Kumarasamy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI authentication not working",
          "Text": "Update:  Found an article on this site which described that LTI can fail if the LTI Publisher uses a custom favicon in their Cartridge URL.  Our LTI Publisher uses custom favicons.  So we removed it and we were able to access the Publisher's course 1 time successfully. In our testing, as a learner, we logged in accessed the course and then logged out.  However, we are unable to access the course again.  The error we are getting this time is: https://ourural.com/mod/lti/return.php?course=542&launch_container=4&instanceid=74&sesskey=RlyppuZXpO&lti_errormsg=Sorry%2C+there+was+an+error+connecting+you+to+the+application.&lti_errorlog=Debug+error%3A+OAuth+signature+check+failed+-+perhaps+an+incorrect+secret+or+timestamp . I will ask the Moodle Universe, is there a piece of code that we should be adding onto the end of the Tool URL so the LTI Publisher will accept a learner's multiple attempts to access the course?  We have read that we should/could put a '/' at the end of the Tool URL...but is there something that will allow for the Publisher's site to allow multiple accesses to the course by the same learner? Any help is gratefully appreciated! Ken Kavanagh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 17, 2019, 1:20 AM",
          "AuthorName": "Ken Kavanagh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2576708&course=5",
          "role": [
            "Picture of Ken Kavanagh"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 382563,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382563",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "An error occurred when launching the external tool",
          "Text": "Using Moodle 3.6.2 Stable. I am getting the following error message when I try to launch an activity in a course,  which is set up via the External Tool function: An error occurred when launching the external tool:Sorry, there was an error connecting you to the application. Can anyone tell me what this error is all about?  I have searched and cannot find how to fix this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 16, 2019, 2:07 AM",
          "AuthorName": "Ken Kavanagh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2576708&course=5",
          "role": [
            "Picture of Ken Kavanagh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 373978,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373978",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Integrate Google drive via LTI into Moodle (using \"Course Kit\")",
          "Text": "Has anyone tried the new Google drive \"Course Kit\" LTI connection, yet? See link: https://eductechalogy.org/2018/07/18/the-long-awaited-g-suite-integration-is-here-introducing-course-kit/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 30, 2018, 5:08 AM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Integrate Google drive via LTI into Moodle (using \"Course Kit\")",
          "Text": "I am interested in this as well.  I just learned of course kit, and will be speaking with others in my school district about tying it into our Moodle server .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 10, 2018, 1:15 AM",
          "AuthorName": "Sean Mullins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1179081&course=5",
          "role": [
            "Picture of Sean Mullins"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Svar: Integrate Google drive via LTI into Moodle (using \"Course Kit\")",
          "Text": "Hi! Now I have begun testing the Google CourseKit at our Moodlesite. It seems to work somewhat as suspected, like Google Classroom. Maybe it can be a great feature in some circumstances. But wouldn´t it be nice with an assignment-submission plugin instead with similar functions? I think CourseKit LTI lack to much to be an assignment alternative, perhaps if using before the real assignment submission. A CourseKit playlist:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1528770/CourseKit.jpg"
          ],
          "Time": "Thursday, November 29, 2018, 1:55 AM",
          "AuthorName": "Peter Liljedahl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=481405&course=5",
          "role": [
            "Picture of Peter Liljedahl"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Integrate Google drive via LTI into Moodle (using \"Course Kit\")",
          "Text": "I just learned of Course Kit. So very interested. Wondering how it's going for those that are piloting.  When attaching a Google doc to Moodle using the filepicker, is the attached a copy of the document? Will subsequent changes made to the Google doc appear in the attached document in Moodle? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 15, 2019, 1:52 AM",
          "AuthorName": "Nancy Atterberry",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2136176&course=5",
          "role": [
            "Picture of Nancy Atterberry"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 372573,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=372573",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Cohorts and LTI",
          "Text": "Hi, We are trying to set up cohorts and am wondering if there is a way to set up parameters so that a custom field can grab the cohorts. We need to know if there is a cohort ID that can be delivered through LTI so groups can be created in the course for our external tool. Thanks, Tonie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 27, 2018, 1:05 AM",
          "AuthorName": "Tonie Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2389954&course=5",
          "role": [
            "Picture of Tonie Miller"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cohorts and LTI",
          "Text": "Hi Tonie, Did you ever find a solution to this? I'm trying to do the same thing. Thanks, Veronica",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 11:03 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 382496,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382496",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI sync times and affects on performance",
          "Text": "Hi, I'm about to move into a pilot phase of using moodle as a provider for a Blackboard consumer.  In this case I will be embedding moodle quizzes containing the STACK question type into Blackboard. I have changed a couple of the Scheduled tasks settings for LTI.  I've left the sync_members setting at the default 30 minutes, but reduced the sync_grades settings to every 5 minutes.  My reason for this is that I think students will expect to see grades in Blackboard much more frequently than every 30 minutes and may panic if the grades aren't there is a reasonably timely fashion. I am seeking advice as to whether reducing the grade sync time by so much will cause any significant performance issues?  I expect there to be about 100 quizzes syncing initially, but hope the service to grow to several times this in the coming years. Advice appreciated. Thanks, Stuart.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 10:39 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 382494,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382494",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Sharing LTI secret with multiple consumers",
          "Text": "Hi, I have a scenario where Blackboard is my institution's main VLE, but moodle is used to provide certain functionality we don't have natively - in this case access to the the STACK question type within moodle quizzes.  Therefore moodle is my provider and Blackboard the consumer. I will omit some details here, but essentially the setup I was considering would involve the same LTI credentials from moodle (with its URL and secret) appearing in multiple Blackboard spaces.  Therefore different student cohorts may potentially be accessing the same quiz on moodle. Can anyone advise if I might encounter any issues with grade and user synchronisation between the two systems?  Or alternatively should the relationship between consumer/provider LTI links always be 1:1? Advice appreciated.  Thanks, Stuart Anderson",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 10:24 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 382042,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382042",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 for Moodle Tool Provider",
          "Text": "Work is underway to add LTI 1.3 support for Moodle as a Tool Consumer (see MDL-62599 ).  The project at https://docs.moodle.org/dev/index.php?title=LTI_1.3_support seeks to scope out the requirements to make similar updates for the LTI Tool Provider functionality in Moodle.   It also highlights some issues with the current implementation.  If you are using this feature of Moodle your feedback would be appreciated. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 5, 2019, 8:21 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 381310,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381310",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Can a Moodle lesson be published as an LTI and re-used within a site?",
          "Text": "I need to create three courses that all contain the same activity 1 and 3 - in this case they are lessons with activity completion required to complete the course with certificates unlocking upon completion. Ideally I would like to create these courses in a way that allows the users to complete activity 1 and 3 only once, as activity 2 will include case studies that cover different variations of the topic. Currently we are looking into the use of meta-courses, but LTI seems to be a more intuitive way to create these lessons to allow for grading to work properly across all three activities , as the progress will get tracked properly. Can anyone suggest if there is a plugin that allows for this kind of cross-course completion tracking?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 22, 2019, 11:35 PM",
          "AuthorName": "Jonny Galvez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2374619&course=5",
          "role": [
            "Picture of Jonny Galvez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can a Moodle lesson be published as an LTI and re-used within a site?",
          "Text": "Great idea, I can think of cases where I'd like to use this feature as well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2019, 1:00 AM",
          "AuthorName": "Chad Bergeron",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=776385&course=5",
          "role": [
            "Picture of Chad Bergeron"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can a Moodle lesson be published as an LTI and re-used within a site?",
          "Text": "Hi Chad, Would I be right in thinking that this feature doesn't currently exist? Cheers, Jonny",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2019, 5:30 PM",
          "AuthorName": "Jonny Galvez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2374619&course=5",
          "role": [
            "Picture of Jonny Galvez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can a Moodle lesson be published as an LTI and re-used within a site?",
          "Text": "As far as I am aware, not really. You can publish a course as LTI, and you can then link to that course as if it were an external tool, but from my testing so far, you end up creating duplicate user accounts every time someone clicks on the link to the 'external' tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 1, 2019, 6:01 AM",
          "AuthorName": "Chad Bergeron",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=776385&course=5",
          "role": [
            "Picture of Chad Bergeron"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can a Moodle lesson be published as an LTI and re-used within a site?",
          "Text": "Hi Johnny, Chad, I have tried this without success I see there is a tracker issue for this  - please vote for it! https://tracker.moodle.org/browse/MDL-57345",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 1, 2019, 8:28 PM",
          "AuthorName": "C Behan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1854471&course=5",
          "role": [
            "Picture of C Behan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 381826,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381826",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle to Moodle LTI Issues (3.5 to 3.3.2 and 3.5 to 3.6)",
          "Text": "Ok, here's the deal.  LTI Publisher is on Moodle 3.5, the LTI Consumer (me) was on Moodle 3.3.2 using Lambda Theme. Setting up the course using LTI cartridge and secret was easy.  Consumer key used on the Consumer side was my company name (Orion).  Got green check marks, everything looked good.  Saved the entry.  Clicked on the course to launch it and got the following message: An error occurred when launching the external tool:Sorry, there was an error connecting you to the application. After much troubleshooting, retesting - including testing the cartridge and secret using the https://ltiapps.net/test/tc.php emulator - we determined that the cartridge and secret worked perfectly, so we decided to change both moodle versions to 'Clean' and retest the LTI links again.  Still the same response received, as above. The LTI publisher suggested that maybe we should upgrade to the latest version of Moodle, which is currently 3.6 Stable, so we did and retested the LTI cartridge again and we achieved the same result. We are using LTI1, both the publisher and consumer are HTTPS, nothing seems wrong with the cartridge and secret so what's standing in our way? We have a workaround by using Scorm Cloud Dispatch but this breaks the course into multiple sections and it a pain for the learner...we'd rather have the LTI solution.  Can anyone help us? H-E-L-P Ken Kavanagh Orion Learning 416-992-5158 e: ken.kavanagh@orionelearning.com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 31, 2019, 8:55 PM",
          "AuthorName": "Ken Kavanagh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2576708&course=5",
          "role": [
            "Picture of Ken Kavanagh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 381417,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381417",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI links in atto",
          "Text": "Hi everybody, We are using LTI to embed videos hosted from a mediaserver. It would be useful to be able to add LTI links inside activities that have an editor (quiz and page for example) for better integration in course materials. I'm probably not the first one to think about that, but I didn't find anything either in the forums or in the tracker. Does anyone has ideas or project about that? Thanks in advance Jean-Roch",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 24, 2019, 5:55 PM",
          "AuthorName": "Jean-Roch Meurisse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1911669&course=5",
          "role": [
            "Picture of Jean-Roch Meurisse",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 377142,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=377142",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restrict LTI to preconfigured tools only",
          "Text": "It appears that anyone with a teaching role may add a new External tool instance in a course as long as they know the provider URL and any authentication details. However, I'd like to limit the addition of External tools to only those configured globally by the admin. I've played with the permissions, logged in as other users, but if the option to add a new instance is there, it can be configured to connect to any working LTI connector. I've tried setting Add course-specific tool configurations to not set. But this doesn't seem to prevent a manually configured LTI connector. I also tried setting Add new external tool activities to not set, but this just prevents adding any LTI tool. Am I missing something, or is this the only behaviour? Cheers, Adam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 11, 2018, 1:20 PM",
          "AuthorName": "Adam Barbary",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=939137&course=5",
          "role": [
            "Picture of Adam Barbary"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restrict LTI to preconfigured tools only",
          "Text": "Hi Adam I don't have a solution but thought I'd just say I feel your pain on this.  We're now using 3 preconfigured LTI tools in our Moodle instance and I have them set to show as discrete items in the activity chooser.  What's missing is the ability to make these available to only the roles I want to see them.  What I ideally want is the ability to set permissions on each tool, in the way you can for any other activity or resource type. As it is (and you describe) its only possible to set permission on the external tool, remove it and all the preconfigured ones go with it too. this is what I've done and I'm giving out External Tool capabilities to certain users on a needs basis. Not ideal. What I might end up doing is hiding the External Tool in the chooser via code, but only if I can;t find another solution. Have you looked for a tracker for this at all? If I get time I'll do a trawl and see what I can find.  One of use should probably raise a tracker issue for it. Best Neil",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 11, 2019, 9:17 PM",
          "AuthorName": "Neil Stapleton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1946885&course=5",
          "role": [
            "Picture of Neil Stapleton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 380776,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=380776",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Publish Course with all Activity Grades",
          "Text": "I have a course with several SCORM packages. When I publish as LTI, I only have the option to publish the whole course or one individual activity. When I publish the whole course, the grades from each activity are not showing within the external LMS (in this case Schoology), but rather as a percentage of the whole course. Is it possible to publish the course, while retaining each activity within, so that the grades for each activity are shown in the external LMS?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 10, 2019, 10:08 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 380675,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=380675",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI Provinding leads to missing oauth consumer key error",
          "Text": "Hi, I am trying to set up Moodle 3.5 as an LTI Provider. I followed all the instruction on https://docs.moodle.org/36/en/Publish_as_LTI_tool and I tested this with  another Moodle 3.5 site. This worked fine as did the test with https://lti.tools/test/tc.php After that I send the correct 'launch url' and 'secret key' to the customer that wants to access the courses on our Moodle. They set up their Docebo LTI part and filled in a random Consumer Key. Unfortunately their are a receiving the following message: Can anyone tell who is responsible for delivering the 'Consumer Key'? In my testcase I just made something up and that worked fine. I presume this works the same in Docebo, or is the Consumer Key something that we as a Provider should deliver? Additional info that might be relevant: the consumer is using a SSO! Can this have any effect? Are there any other setting that should be configured on our side? Hope that someone can help me out. Any hand is much appreciated. Hugo",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1534572/oauth%20consumer%20key.png"
          ],
          "Time": "Tuesday, January 8, 2019, 11:49 PM",
          "AuthorName": "Hugo Boel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2306935&course=5",
          "role": [
            "Picture of Hugo Boel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provinding leads to missing oauth consumer key error",
          "Text": "Hugo, We have the same issue.  I have no clue what to type into the Consumer Key field. We are trying to connect via LTI to our supplier in France.  I am have the URL and Secret however I am getting the same error as you are and I have no idea how to overcome it.  The LTI provider has not experienced this issue either....My LTI provider does not have any provision for a Consumer Key on their end. Watching this thread closely....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 9, 2019, 5:18 AM",
          "AuthorName": "Ken Kavanagh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2576708&course=5",
          "role": [
            "Picture of Ken Kavanagh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provinding leads to missing oauth consumer key error",
          "Text": "I think you can put a word of your choice as the Consumer key - but it should not be empty. See also here: https://moodle.org/mod/forum/discuss.php?d=359782#p1451306",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 9, 2019, 5:55 PM",
          "AuthorName": "heli g",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=814901&course=5",
          "role": [
            "Picture of heli g"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 356709,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356709",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "LTI missing consumer key?",
          "Text": "Hello, I have two moodles setup (moodle32 and moodle33); moodle32 is the LTI provider and moodle33 is the consumer. On the provider, the cartridge URL is: http://moodle32.lms.xxxxxx/enrol/lti/cartridge.php/3/713f367107aa5d5f72d3fa2aeaf6e5e7/cartridge.xml On the consumer, that has been added to a course as an \"Add external tool\" activity I've added the cartridge URL and secret, and the tool URL is now showing as http://moodle32.lms.xxxxxx/enrol/lti/tool.php?id=3 However, when I click on \"save and display\", I get the correct IFRAME and activity title, but the IFRAME content is \"A required parameter (oauth_consumer_key) was missing\" Where and how is the consumer key defined on the provider moodle? Thanks N",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 11, 2017, 6:22 PM",
          "AuthorName": "Nick Kings",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2105855&course=5",
          "role": [
            "Picture of Nick Kings"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI missing consumer key?",
          "Text": "I enabled full debug information on the provider moodle, and I get this information: A required parameter (oauth_consumer_key) was missing More information about this error × Debug info: Error code: missingparam × Stack trace: line 496 of /lib/setuplib.php: moodle_exception thrown line 567 of /lib/moodlelib.php: call to print_error() line 56 of /enrol/lti/tool.php: call to required_param()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 11, 2017, 8:00 PM",
          "AuthorName": "Nick Kings",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2105855&course=5",
          "role": [
            "Picture of Nick Kings"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI missing consumer key?",
          "Text": "Hi do you have the Consumer Key filled out in the External Tool activity form on the Consumer site?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 11, 2017, 8:54 PM",
          "AuthorName": "Michael Penney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3432&course=5",
          "role": [
            "Picture of Michael Penney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI missing consumer key?",
          "Text": "Hi No, I haven't; that is the problem.  I can't see where that is defined on the provider site. I can see the 'secret key' but not the 'consumer key' Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 11, 2017, 9:44 PM",
          "AuthorName": "Nick Kings",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2105855&course=5",
          "role": [
            "Picture of Nick Kings"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI missing consumer key?",
          "Text": "Ah. Excellent. I just realised! The consumer side can set the key to be anything. THANKS",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, August 11, 2017, 10:08 PM",
          "AuthorName": "Nick Kings",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2105855&course=5",
          "role": [
            "Picture of Nick Kings"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI missing consumer key?",
          "Text": "What did you realise Nick? We have the same issue and have not found the solution yet. Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 25, 2018, 10:32 PM",
          "AuthorName": "Irma Boks - Eek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2114101&course=5",
          "role": [
            "Picture of Irma Boks - Eek"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI missing consumer key?",
          "Text": "Dat is grappig Irma... Ik loop nu ook tegen dit issue aan? Heb jij op een andere manier al een antwoord gevonden? Groet Hugo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 8, 2019, 9:49 PM",
          "AuthorName": "Hugo Boel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2306935&course=5",
          "role": [
            "Picture of Hugo Boel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 380519,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=380519",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Embedded quiz",
          "Text": "Hi all, I would like to integrate a daily test (2 random questions from a Model quiz) on a web site outside of the Moodle Is it possible to place a quiz from the Moodle inside PHP / HTML page in iframe element, or is there any other friendly framework to develop such thing ? Thanks, Ravid",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 4, 2019, 2:58 AM",
          "AuthorName": "Ravid Arbel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2574189&course=5",
          "role": [
            "Picture of Ravid Arbel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 380462,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=380462",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Member sync confusion",
          "Text": "I am testing LTI using the Questionnaire activity module on a Moodle 3.5 Provider with a Moodle 3.5 Consumer. All appears to be working well with the exception of the email non-respondents functionality... The members are synced on the Provider course, but the have no role (in both course and activity). It appears the Student role is only assigned on undertaking the activity - prior to this, despite sync, they are Authenticated users in System, with no permission to complete or submit the questionnaire and consequently they are not potential respondents - so no email is sent. Only on accessing the questionnaire is the user assigned to the Student/Teacher role in the Activity. Is there a way to sync roles prior to accessing the Activity? One work-around I tried was to allow questionnaire submission to Authenticated users. This did result in emails being sent, many in fact... an email was sent for each user multiplied by the number of LTI instances in the course. Is there a way to consolidate these users, or is the only solution to have only have 1 instance of the LTI activity per Provider course? I'd appreciate all thoughts",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 2, 2019, 8:28 PM",
          "AuthorName": "heli g",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=814901&course=5",
          "role": [
            "Picture of heli g"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Member sync confusion",
          "Text": "Update: 1 LTI Questionnaire per Provider course and allowing Authenticated users to complete and submit the questionnaire did not resolve the multiple non-respondents issue: Users in other LTI activities (from different Provider courses) in the Consumer course, are listed as Potential users in the activity - and multiple emails are sent. (In my test there are only 5 Enrolled users, but an additional 16 Potential users (the same 5 people) - so 21 emails will be sent (distributed among the 5 email addresses). So my questions are: Is it possible to sync roles prior to the user accessing the activity? Is it possible to remove \"Potential users\" from having permissions in the activity (there is only 1 LTI activity in the Provider course) - and what is the purpose of having this feature at all? My last idea is to investigate whether the Questionnaire module could be hacked to identify non-respondents via unique email address and not username... But perhaps LTI is not the solution here... perhaps I should investigate MNET",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/thoughtful"
          ],
          "Time": "Thursday, January 3, 2019, 4:26 PM",
          "AuthorName": "heli g",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=814901&course=5",
          "role": [
            "Picture of heli g"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 379057,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=379057",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "External Tool - Internal Server Error 500",
          "Text": "Hi, I'm new to Moodle and now in the process of adjusting all settings and creating courses. We are using Moodle 3.5 in a hosted environment (which means we don't have access to the Linux system-files, a command line app or terminal!) We are a Nursing School and we want to link to Elsevier's Evolve Nursing Concepts Online. Elsevier sent us a link for this platform and we installed it, according to their setting instructions. However, when, in a Teacher role, I click the link I get an error-message, saying: Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback. Mon Nov 26 15:41:58 UTC 2018 There was an unexpected error (type=Internal Server Error, status=500). No message available I also created the link as a registration link, but that gives the same error-message. The complete error-log tells us the following: There was an unexpected error (type=Internal Server Error, status=500). Illegal unquoted character ((CTRL-CHAR, code 13)): has to be\nescaped using backslash to be included in string value at [Source: {\n\"@ context \":[ \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\" , { \"tcp\": \"https://students.cunursing.com/mod/lti/services.php/profile/KJ7uGwrvqJpCFAd#\" } ],\n\"@type\":\"ToolConsumerProfile\", \"@id\": \"https://students.cunursing.com/mod/lti/services.php/profile/KJ7uGwrvqJpCFAd\" ,\n\"lti_version\":\"LTI-2p0\", \"guid\":\"KJ7uGwrvqJpCFAd\", \"product_instance\":{\n\"guid\":\"students.cunursing.com\", \"product_info\":{ \"product_name\":{\n\"default_value\":\"Moodle\", \"key\":\"product.name\" },\n\"product_version\":\"2018051703\", \"product_family\":{\n\"code\":\"moodle\", \"vendor\":{ \"code\":\"mdl\", \"vendor_name\":{\n\"default_value\":\"Moodle.org\", \"key\":\"product.vendor.name\" },\n\"timestamp\":\"2018-11-22T15:38-0400\" } } }, \"service_owner\":{\n\"@id\":\"ServiceOwner\", \"service_owner_name\":{ \"default_value\":\"Caribbean\nUniversity of Nursing - Study Center\", \"key\":\"service_owner.name\" },\n\"description\":{ \"default_value\":\"Welcome to your personal Study\nCenter!When logged in you will find course-categories and courses\navailable to you, as well as your personal information (Profile). You\ncan adjust parts of the site to your liking. In\ncase any of the information seems inaccurate to you, please update your\nProfile or send an email to services@cunursing.com .\nFor course-related questions or issues you can also contact your Mentor\nor the concerning faculty-member.\", \"key\":\"service_owner.description\" }\n} }, \"capability_offered\":[ \"ContentItemSelectionRequest\",\n\"LineItem.url\", \"LineItems.url\", \"Results.url\", \"Scores.url\" ],\n\"service_offered\":[ { \"@type\":\"RestService\", \"@id\":\"tcp:LineItem.item\",\n\"endpoint\": \"https://students.cunursing.com/mod/lti/services.php/{context_id}/lineitems/{item_id}/lineitem\" ,\n\"format\":[\"application/vnd.ims.lis.v2.lineitem+json\"], \"action\":[\"GET\",\n\"PUT\", \"DELETE\"] }, { \"@type\":\"RestService\",\n\"@id\":\"tcp:LineItem.collection\", \"endpoint\": \"https://students.cunursing.com/mod/lti/services.php/{context_id}/lineitems\" ,\n\"format\":[\"application/vnd.ims.lis.v2.lineitemcontainer+json\",\n\"application/vnd.ims.lis.v2.lineitem+json\"], \"action\":[\"GET\", \"POST\"] },\n{ \"@type\":\"RestService\", \"@id\":\"tcp:Result.collection\", \"endpoint\": \"https://students.cunursing.com/mod/lti/services.php/{context_id}/lineitems/{item_id}/lineitem/results\" ,\n\"format\":[\"application/vnd.ims.lis.v2.resultcontainer+json\"],\n\"action\":[\"GET\"] }, { \"@type\":\"RestService\",\n\"@id\":\"tcp:Score.collection\", \"endpoint\": \"https://students.cunursing.com/mod/lti/services.php/{context_id}/lineitems/{item_id}/lineitem/scores\" ,\n\"format\":[\"application/vnd.ims.lis.v1.scorecontainer+json\",\n\"application/vnd.ims.lis.v1.score+json\"], \"action\":[\"POST\"] } ] }; line:\n39, column: 69] at [Source: { \"@context\":[ \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\" , { \"tcp\": \"https://students.cunursing.com/mod/lti/services.php/profile/KJ7uGwrvqJpCFAd#\" } ], \"@type\":\"ToolConsumerProfile\", \"@id\": \"https://students.cunursing.com/mod/lti/services.php/profile/KJ7uGwrvqJpCFAd\" ,\n\"lti_version\":\"LTI-2p0\",\n\"guid\":\"KJ7uGwrvqJpCFAd\", \"product_instance\":{\n\"guid\":\"students.cunursing.com\", \"product_info\":{ \"product_name\":{\n\"default_value\":\"Moodle\", \"key\":\"product.name\" },\n\"product_version\":\"2018051703\", \"product_family\":{ \"code\":\"moodle\",\n\"vendor\":{ \"code\":\"mdl\", \"vendor_name\":{ \"default_value\":\"Moodle.org\",\n\"key\":\"product.vendor.name\" }, \"timestamp\":\"2018-11-22T15:38-0400\" } }\n}, \"service_owner\":{ \"@id\":\"ServiceOwner\", \"service_owner_name\":{\n\"default_value\":\"Caribbean University of\nNursing - Study Center\", \"key\":\"service_owner.name\" }, \"description\":{\n\"default_value\":\"Welcome to your personal Study Center!When logged in\nyou will find course-categories and courses available to you, as well as\nyour personal information (Profile). You can adjust parts of the site\nto your liking. In case any of the information seems inaccurate to you,\nplease update your Profile or send an email to services@cunursing.com .\nFor course-related questions or issues you can also contact your Mentor\nor the concerning faculty-member.\", \"key\":\"service_owner.description\" }\n} }, \"capability_offered\":[ \"ContentItemSelectionRequest\",\n\"LineItem.url\", \"LineItems.url\", \"Results.url\", \"Scores.url\" ],\n\"service_offered\":[ { \"@type\":\"RestService\", \"@id\":\"tcp:LineItem.item\",\n\"endpoint\": \"https://students.cunursing.com/mod/lti/services.php/{context_id}/lineitems/{item_id}/lineitem\" , \"format\":[\"application/vnd.ims.lis.v2.lineitem+json\"],\n\"action\":[\"GET\", \"PUT\", \"DELETE\"] }, { \"@type\":\"RestService\", \"@id\":\"tcp:LineItem.collection\", \"endpoint\": \"https://students.cunursing.com/mod/lti/services.php/{context_id}/lineitems\" ,\n\"format\":[\"application/vnd.ims.lis.v2.lineitemcontainer+json\",\n\"application/vnd.ims.lis.v2.lineitem+json\"], \"action\":[\"GET\", \"POST\"] },\n{ \"@type\":\"RestService\",\n\"@id\":\"tcp:Result.collection\", \"endpoint\": \"https://students.cunursing.com/mod/lti/services.php/{context_id}/lineitems/{item_id}/lineitem/results\" ,\n\"format\":[\"application/vnd.ims.lis.v2.resultcontainer+json\"],\n\"action\":[\"GET\"] }, { \"@type\":\"RestService\",\n\"@id\":\"tcp:Score.collection\", \"endpoint\": \"https://students.cunursing.com/mod/lti/services.php/{context_id}/lineitems/{item_id}/lineitem/scores\" ,\n\"format\":[\"application/vnd.ims.lis.v1.scorecontainer+json\",\n\"application/vnd.ims.lis.v1.score+json\"], \"action\":[\"POST\"] } ] }; line:\n39, column: 25] (through reference chain:\ncom.elsevier.integration.application.model.lti2.ToolConsumerProfile[\"product_instance\"]) Sorry for the long error-text . It looks like some kind of program-language issue, but Elsevier is at a loss here and so are we. Anyone has any idea's or possible solutions? Many thanks in advance for all replies!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Monday, November 26, 2018, 11:48 PM",
          "AuthorName": "Arjan Luijken",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2086070&course=5",
          "role": [
            "Picture of Arjan Luijken"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool - Internal Server Error 500",
          "Text": "I ran into this with my moodle hosting partner yesterday and the cause was the boost campus theme for us, at least that's my impression thus far. They switched us back to our custom and outdated theme, and LTI begun working again across the board. I have no technical information to provide unfortunately, but try the clean theme and if LTI begins working you at least have a place to start! Edit: We're using 327 (Build 20180115) Our custom and outdated theme was built for 286, unsure of exact build, so has misc. problems here and there that are not critical, but we were hoping to get away from. Now we'll need to investigate a bit, when there's free time...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 7, 2018, 4:50 AM",
          "AuthorName": "Justin Almeida",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=928567&course=5",
          "role": [
            "Picture of Justin Almeida"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - Internal Server Error 500",
          "Text": "Thanks Justin, we also had the Boost theme installed by default, but changed it back to Clean. Didn't make any difference, unfortunately. Can't figure out what would be the program language issue here, that the error-message is referring to.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 7, 2018, 6:38 AM",
          "AuthorName": "Arjan Luijken",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2086070&course=5",
          "role": [
            "Picture of Arjan Luijken"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 378898,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=378898",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTi login Moodle app",
          "Text": "Hi there So I have my 3.5.3 moodle site up and running and LTi is turned on and I have checked the login works fine via the consumer site. The site comes up great in the Moodle app. Very cool. First question: Since some LTi consumers will only be using either the Android or iOS app, how can they use their consumer-side login credentials to login via the App? Second question: if an LTi authentication/enrolment is made via the web, how would they then use the moodle app to login since they would not know the username and password provided by the LTi Provider? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 22, 2018, 2:40 AM",
          "AuthorName": "Graham Courtney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331055&course=5",
          "role": [
            "Picture of Graham Courtney"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 378744,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=378744",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LibGuides",
          "Text": "Has anyone here configured the LibGuides LTI tool. What are the steps involved? At the moment, I'm getting an: OAuth verification failed message although I have definitely used the correct Secret Key. Is there anything, I need to enable on the LibGuides server ? cheers, Brad",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 19, 2018, 8:32 PM",
          "AuthorName": "Brad Nielsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2522606&course=5",
          "role": [
            "Picture of Brad Nielsen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 348068,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348068",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI Producer and Canvas - Need Help",
          "Text": "Has anyone successfully used Moodle 3.2 as an LTI producer and the Canvas LMS as the consumer?  If so, which \"configuration type\" did you use in the Canvas App setting. Were you able to share the entire course, or just certain resources. I've tried sharing the course as a whole and also just a quiz...No Joy.  Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2017, 2:34 AM",
          "AuthorName": "Bill Frey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=840891&course=5",
          "role": [
            "Picture of Bill Frey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "Unfortunately this does not seem to be working. Please vote and watch this issue: https://tracker.moodle.org/browse/MDL-57703 It's a shame that it's not working as moodle is complying with all the most basic aspects yet it is not working in canvas. I'm not sure where the cause of the problem is. I am keen to work on the bug but it's not a priority until more people vote and comment.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 10:23 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "I have it working in 3.1 - shared as a course. Is this a new issue in 3.2? In Canvas, after adding the App (Settings/Apps) to the course, I create an Assignment, External Tool, then input my launch URL and Shared Secret.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 20, 2017, 6:06 AM",
          "AuthorName": "Michael Penney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3432&course=5",
          "role": [
            "Picture of Michael Penney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "Thanks for commenting. I wouldn't have thought anything would have changed between 3.1 and 3.2 to affect this. If you get time and can try it on a 3.2 instance with the same settings that would help a lot. Is there anything else you had to do besides the steps you mentioned?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 22, 2017, 8:53 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "I just set up an LTI-handshake between Canvas ( https://mitt.uib.no ; my University's LMS) and Moodle ( https://nukit.ihelse.net ) using Moodle 3.3. The reason: I wanted to use Moodle's anonymous Feedback activity in a canvas course (see our recent publication doi: 10.1177/2058460117720858 ) To set up LTI, The documentation http://docs.moodle.org/33/en/Publish_as_LTI_tool worked pretty much as expected. However: You MUST enable the \"Publish as LTI tool\" plugin under Site/Plugins/Enrolmens/Publish as LTI tool BEFORE you create the LTI configuration for your moodle course. There were some minor glitches getting things to work in Canvas. Go to Settings/Apps and press \"+ App\". Choose the configuration type \"Paste XML \". In Moodle, go to Course administration/Published at LTI tools. Navigate to the page under \"Cartridge URL\" and paste the XML code into the dialog box in Canvas. Make sure it is pure XML without formatting codes inserted by Internet Explorer etc. The \"user key\" in Canvas is the name of your LTI object in Moodle, the \"shared secret\" is the secret in Moodle. Once the app is saved in Canvas, you can embed it in any Canvas module like any static page etc. However, the external Moodle page did not come up at once. I had to edit the module and the properties of the app and check \"open in a separate tab\". From that point onward, things worked like a charm.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 3, 2017, 1:13 AM",
          "AuthorName": "Martin Biermann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1994544&course=5",
          "role": [
            "Picture of Martin Biermann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "Martin, I just tried to follow your instructions and Canvas is tell me that the Cartridge XML from my Moodle 3.3 is an \"Invalid XML Configuration\".  So it won't let me save the app.  Do you have any other suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 14, 2017, 12:51 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "I just imported 2 Moodle activities (anonymous survey via the Moodle \"Feedback\" activity) into two of my Canvas courses at https://mitt.uib.no via the same mechanism. My instructions are still valid, the only change in Canvas is that the user key is now called \"Consumer key\". I advise you to paste in the xml WITHOUT any formatting characters as described. You may want to copy the screen contents of the cartridge.xml into a plain text editor (such as notepad++) first, so that you can be sure that is is pure xml. The opening tag is <cartridge_basiclti_link>, the closing tag is <cartridge_basiclti_link> and there should be NO characters (not even a white space) outside these tags. Hope that helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 14, 2018, 3:57 PM",
          "AuthorName": "Martin Biermann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1994544&course=5",
          "role": [
            "Picture of Martin Biermann"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 378479,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=378479",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Returning Grade From LTI Provider Tool",
          "Text": "Can anyone help in verifying if the raw body of the request is right or not ? <? xml version = \"1.0\" encoding = \"UTF-8\"?> <imsx_POXEnvelopeRequest xmlns = \" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXRequestHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>5be973b4701e8</imsx_messageIdentifier> </imsx_POXRequestHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <replaceResultRequest> <resultRecord> <sourcedGUID> <sourcedId>{\"data\":{\"instanceid\":\"12\",\"userid\":\"2\",\"typeid\":\"9\",\"launchid\":2114571173},\"hash\":\"8ba9b9024d44afed5dd750530c875ded19405cbfe0ec27e42d503f744ebba1ad\"}</sourcedId> </sourcedGUID> <result> <resultScore> <language>en-US</language> <textString>1</textString> </resultScore> </result> </resultRecord> </replaceResultRequest> </imsx_POXBody> </imsx_POXEnvelopeRequest>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 12, 2018, 11:03 PM",
          "AuthorName": "Tuhin Sharma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2551034&course=5",
          "role": [
            "Picture of Tuhin Sharma"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 376883,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376883",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Send grade back to Cloud Moodle problem",
          "Text": "Hi guys, Recently all my external tools stopped to accept grades from my assessment plugin. I constantly received the message \"imsx_description:Tool does not accept grades\". I've been looking around and I could not be able to find a reason why this is happening. I am attaching both the request and response I've been receiving and some scenarios I tried and failed to send the grade back.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 5, 2018, 4:13 AM",
          "AuthorName": "Diego Mendes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2527661&course=5",
          "role": [
            "Picture of Diego Mendes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 376820,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376820",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Copying LTI tool links / Parent IDs via custom parameters?",
          "Text": "We're need a way to copy courses with LTI tool links, while still preserving the LTI tool links' information (ie. something like this: https://www.imsglobal.org/lti-course-copy-road-nowhere ). We have courses with a lot of external tools, and remapping each one manually is extremely resource-intensive. From the link above, I don't think that $ Context .id.history and $ResourceLink.id.history custom parameters are currently supported by Moodle, but I do know that Moodle has a complete backup/restore course process that copies over some portion of the external tool. Is there any way right now to get the parent context ID and resource ID after a course is copied? On another note, is there a more thorough breakthrough of what custom parameters are available? The documentation I can see only provides: Custom parameters - most times you can leave this blank. The tool provider might use this to allow you to display a specific resource. And I'm looking for more of a detailed breakdown of what exactly Moodle can provide from the custom parameter endpoint. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 4, 2018, 6:41 AM",
          "AuthorName": "Anson Li",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2526881&course=5",
          "role": [
            "Picture of Anson Li"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 370031,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=370031",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Who wants to help me finish this OER publishing and distribution tool for Moodle?",
          "Text": "Hello All, I am wondering if anyone wants to take a shot at figuring out how to make this work. The functionality we want is from Moodle you can add an External tool that automatically creates a new blog and then allows users from the course to access and publish to the Wordpress blog. We also want to be able to take that blog and use deep LTI linking to export the contents as a cartridge which can be used by Moodle to embed the pages from the blog in a course. The idea is to use the Wordpress PressBooks book authoring plugin with Moodle to produce OER content and distribution in one site. The issue is that I cannot find a LTI plugin that handles both functions: creation and distribution. On one hand the users need to be registered as authors/admins with wordpress during content creation.  During distribution, users need to be registered as subscribers when they are just viewing the blog during distribution.  I was hoping that based on the LTI credentials we could differentiate what wordpress role the user gets in wordpress.  I am not having much luck. This works great for users to go from Moodle to Wordpress and auto-create a blog and add users of a course as authors on Wordpress. However, once the book is created we want to use it to embed as OER content in other courses.  Meaning, you export the wordpress content as a LMS Cartridge For that functionality there is a set of 3 Wordpress plugins by Candela which also uses LTI - LTI, Candela-LTI, and Candela-thin-exports.  The issue is the two LTI plugins do not play nicely on the same Wordpress site. Tools used: LTI tool to connect Moodle to Wordpress where Moodle initiates the creation and user management of new blogs in a Multisite Wordpress setup. https://github.com/celtic-project/wordpress-lti LTI tool set to create lms cartridge, user registration, and lti connection: Candela Github projects: https://github.com/lumenlearning Pressbooks Book Authoring plugin for Wordpress https://pressbooks.org/ Anyone want to help build a open source OER creation and distribution tool with me? I just need help figuring out how to either get both LTI plugins working on the same site or combine the functionality of these two plugins into one. This would be an all-in-one OER content authoring platform that works and plays well with Moodle for both creation and distribution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 1, 2018, 8:28 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Who wants to help me finish this OER publishing and distribution tool for Moodle?",
          "Text": "Just an update on this: We ended up using the Pressbooks LTI Provider tool for sharing finished books and content. https://github.com/pressbooks/pressbooks-lti-provider This doesn't help with instantly creating books directly from your LMS but it does allow for sharing and controlling access to your content and it is tightly integrated with Pressbooks.  I really love how nice it all works.  You can export an entire book chapter by chapter as a IMS Cartridge or you can pick any individual chapter to add into your Moodle course. Our initial idea is to have 2 pressbooks sites: Authoring/Instructional Site for book creation as an instructional tool that would allow students to author pages from the LMS in a shared classroom book Publishing/Distribution Site for distribution and publication of finished books. In this regard we can control access to content via the new Pressbooks LTI provider tool and we can also maintain the ability for teachers to create books directly by simply adding an activity within Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 30, 2018, 2:45 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Who wants to help me finish this OER publishing and distribution tool for Moodle?",
          "Text": "Chris, I have been viewing your posts and video and have used them\nto create my own Wordpress Multisite with Pressbooks plugin. I am now in the\nprocess of connecting the new Pressbooks site to Moodle with the LTI Provider\ntool. Before I go to far, and spend a lot of time down this road, I have a\nquestion. I want to use a template Workbook that each user can have\nhis own copy of. They can then edit there own Workbook and it becomes their own\ncreation as they work their way through the book making edits and comments. Is\nthis even possible? I think it is, but I guess I wanted the assurance that I am\nnot wasting to much of my time. Thanks, I know you have got to be super busy and don’t know\nme or owe me any advice, but I appreciate the knowledge you have shared up to\nthis point and hope you can give me some insight into this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 23, 2018, 3:17 AM",
          "AuthorName": "Walter Resendes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2345252&course=5",
          "role": [
            "Picture of Walter Resendes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Who wants to help me finish this OER publishing and distribution tool for Moodle?",
          "Text": "Walter, It doesn't work like that.  It is pretty much a read only kind of platform.  Best for writing and sharing open textbooks etc. Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 2, 2018, 3:06 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 376604,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376604",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "how to increase the height of peergrade frame in moodle",
          "Text": "Dear All, I have integrated peergrade in moodle. After adding the peergrade as an activity in my course. it shows me small frame with scrollbar. I want to increase the height of that frame. How should I increase the height of it? Thanks.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1518444/peergrade.jpg"
          ],
          "Time": "Friday, September 28, 2018, 11:42 PM",
          "AuthorName": "Babaso Aldar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2043935&course=5",
          "role": [
            "Picture of Babaso Aldar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 374801,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374801",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "List of LTI Tools?",
          "Text": "Hi everybody, I searched for that but did not found any list!? I found out, that padlet can be used via LTI. Do you know more? Is there a list of more tools? Regards, Birgit von Germany",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 19, 2018, 8:44 PM",
          "AuthorName": "Birgit Lachner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2473196&course=5",
          "role": [
            "Picture of Birgit Lachner"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: List of LTI Tools?",
          "Text": "Moodle wouldn't supply that, but this website dose have a large list of companies that offer LTI tool integrations https://www.imsglobal.org/all-learning-tools-interoperability-lti-tools",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 27, 2018, 7:54 AM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: List of LTI Tools?",
          "Text": "Screencast-o-matic supports LTI integration with Moodle: https://support.screencast-o-matic.com/hc/en-us/articles/360004618814-Adding-Moodle-LTI-Plugin The tool's URL to enter is: https://screencast-o-matic.com/lti/xml (after saving it will change to https://screencast-o-matic.com/lti/resource ) For best viewing experience when adding / editing the tool, open the Show More section in the LTI tool's settings and for \"Launch container\" choose \"Existing window\" or \"New Window\", as the full-screen view button unfortunately does not work as expected when embedded or default launch options are selected. It IS possible to get at the embedded video's target URL - **even** if the video is passsword protected, I'm afraid. Once there, the student will be able to download the video. It takes some \"hacking\",, but is possible. In this sense Screencastomatic's own platform for storing videos is not secure. I made these tests several months ago, but i don't think anything has changed. I may write to them one day, being a long time subscriber to their service.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 27, 2018, 8:39 PM",
          "AuthorName": "Przemek Kaszubski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109067&course=5",
          "role": [
            "Picture of Przemek Kaszubski",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 375085,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=375085",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle External Tools - LTI Version 1.x or 2.0?",
          "Text": "Hi, I'd like to know which version of LTI Tool Consumer Moodle 3.5.1 External Tools is using? I'm trying to develop a Tool Provider for a project but I'm having a hard time finding the proper documentation of Moodle's implementation of LTI, and IMS documentation is quite vague about how to implement their solution. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 27, 2018, 9:48 AM",
          "AuthorName": "RAFAEL AMORIM COELHO RIBEIRO",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2475907&course=5",
          "role": [
            "Picture of RAFAEL AMORIM COELHO RIBEIRO"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle External Tools - LTI Version 1.x or 2.0?",
          "Text": "https://docs.moodle.org/35/en/External_tool_FAQ",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 27, 2018, 11:13 AM",
          "AuthorName": "Darko Miletić",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=431153&course=5",
          "role": [
            "Picture of Darko Miletić",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 374784,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374784",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Common Cartridge Restore Is Passing Custom Parameter Value 0 But It Should Not",
          "Text": "I am new to the Forums here, and I hope I have found the correct place to pose my question! I am incorporating a new online homework system called Knewton Alta and after creating several assignments on Alta I export a Common Cartridge file and restore it on my course Moodle page in order to automate the creation of many many external tool items for my assignments (about 300). I spent several days working to determine why the external tools I made manually showed up in the grade book, the online HW was vetted and approved by our LMS team, but those produced by the restore of a Common Cartridge did not. I was able to determine that the external tool items created via the Common Cartridge were assigned a custom parameter of 0, where those I created were not. When I opened each external tool item that resulted from the Common Cartridge restore, deleted the 0 value from the custom parameter field, and saved the external tool, the item appeared in the grade book and the drop down option in the grade portion of the external tool settings also appeared allowing me to designate what category in the grade book the external tool (assignment) should be in. I spent the last three days reading about the custom parameter and I tried to add several forms of the following to the BasicLTI. xml file: <blti:custom> <lticm:property name=\"instructorcustom\">$@NULL@$</lticm:property> </blti:custom> I also found this issue: https://tracker.moodle.org/browse/MDL-38430 but I wasn't sure if it applied to my situation, although it seemed as though it may. I teach 4 courses with 200-300 assignments in each and this issue exists for each, if there are any suggestions at all I would truly appreciate them! If any additional information is needed please request and I will follow up ASAP! - Rob",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1511167/CustomParam.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1511167/BasicLTI.png"
          ],
          "Time": "Saturday, August 18, 2018, 10:06 PM",
          "AuthorName": "Robert Connolly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2149444&course=5",
          "role": [
            "Picture of Robert Connolly"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 374662,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374662",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Managing enrollments in external application",
          "Text": "Hello, someone must have run into this issue before and I am hoping can provide some direction.  We are connecting via LTI to an external service.  The user is provisioned in the external service when the LTI link in moodle is clicked.  Initially, the teacher, who creates the LTI link to the service will also provision the course in the external system when they first click on their LTI link. The question What happens when a student drops the course in moodle?  In theory, they should not have access to the service any longer.  Is there a best practices method to keep the enrolments in sync from moodle to the remote system? Any suggestions would be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 15, 2018, 8:58 PM",
          "AuthorName": "Eric Katchan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555818&course=5",
          "role": [
            "Picture of Eric Katchan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 374510,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374510",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Not Permitting VoiceThread to Record Video/Audio in iframe",
          "Text": "We have a VoiceThread LTI that, after we upgraded from 3.1 to 3.5, stopped allowing students and instructors to record video or audio in the Moodle window. Instead, we get this error message generated by VoiceThread: https://www.screencast.com/t/ryLkZl6Tk1L VoiceThread tells us that it's a setting in Moodle, and that the iframe where the VoiceThread is embedded\ndoes not contain the correct parameters to allow microphone and webcam access\nto the tool embedded there. So my question is, where can I get to the setting to allow the mic and camera access?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 12, 2018, 3:41 AM",
          "AuthorName": "Benjamin Moser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2475875&course=5",
          "role": [
            "Picture of Benjamin Moser"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 374244,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374244",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Availability dates in External LTI Tool settings?",
          "Text": "LTI tool tasks do not make it into the Dashboard notifications. I wonder if it would be possible to add the Availability section to the setttings for LTI tools added within course pages by teachers, and to the report these dates to the Dashboard? I'm directing this probing question to this forum first, I haven't yet trawled the Tracker. Thanks, Przemek",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 5, 2018, 11:06 PM",
          "AuthorName": "Przemek Kaszubski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109067&course=5",
          "role": [
            "Picture of Przemek Kaszubski",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Availability dates in External LTI Tool settings?",
          "Text": "I am replying to myself. Only now spoted this point in the Forum FAQ: https://docs.moodle.org/35/en/Forum_FAQ#How_can_I_get_my_forum_to_display_in_the_Course_overview_block.3F which says: \"Set an 'Expect completed by' date in the Activity completion section of your forum.\" I have just tested this for an LTI tool, and it also works - for the end date at least. (In fact this (workaround) method works with most other modules that have problems communicating their deadlines and opening dates to the Course overview, or those that don't have Availability / Timing setings.) Good to have a solution for external tools on the Moodle side ! Przemek",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 6, 2018, 6:05 AM",
          "AuthorName": "Przemek Kaszubski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109067&course=5",
          "role": [
            "Picture of Przemek Kaszubski",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 374086,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374086",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "calling LTI provider outside Moodle",
          "Text": "I have a question if it's possible to connect to a Moodle LTI provider outside Moodle (in our situation in a portal environment that goes to a Moodle course). Is this possible? From Moodle consumer to Moodle provider works fine, but I don't manage to get this working in the portal environment with a php script that sends a request via OAuth authentication to the Moodle LTI provider. I get this error: Sorry, there was an error connecting you to the application. The course I want to open without login on the Moodle provider is published as an LTI tool. The php script is included that calls the Moodle LTI provider (I changed some parameters inside)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 1, 2018, 3:27 PM",
          "AuthorName": "Alain Raap",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2249010&course=5",
          "role": [
            "Picture of Alain Raap",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 373883,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373883",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Duplicating external tool loses consumer key and shared secret: working as intended?",
          "Text": "On our Moodle 3.3 site, I am setting up multiple links to InQuizitive chapter quizzes using the external tool module.  The only difference between them is the name and the URL , so it would be super simple and easy to just duplicate it and modify those 2 properties.  Unfortunately, the consumer key and shared secret do not get copied over with the rest of the information, so I also have to expand the options and fill in those blanks.  I'm just wondering if this is a bug in Moodle, a problem with how our administrators have it set up, or something that was intended by the Devs?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 27, 2018, 3:04 AM",
          "AuthorName": "Doc Billingsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2469281&course=5",
          "role": [
            "Picture of Doc Billingsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 373636,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373636",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "registration via LTI tool",
          "Text": "Hi, When, from a Moodle A, I visit a course in a Moodle B via the external LTI tool I then have access to all the courses (free access) of the Moodle B by clicking on the Home button. Do you know how to confine the student to the only Moodle B course? Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 21, 2018, 4:16 PM",
          "AuthorName": "Jean-Marc Doucet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=843142&course=5",
          "role": [
            "Picture of Jean-Marc Doucet",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 373629,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373629",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Membership Service in Moodle 3.5",
          "Text": "Is it still possible to use the Names and Role service (memberships) from a LTI 2.0 (Tool Proxy) tool provider in Moodle 3.5 or higher? I ask for two reasons. First, it appears that the LtiLinkMemberships URL in the launch parameters is invalid. Instead of a valid URL, it is the string \"$LtiLink.memberships.url\". If I use the context membership endpoint, I don't receive any of the names or emails of the users. My tool registration correctly requested the Person.name.given, Person.name.family, Person.email.primary and Person.sourcedId capabilities. I know Moodle 3.5 upgraded to LTI Advantage, but I am unsure if that removed or affected support for LTI 2.X tool providers. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 21, 2018, 5:23 AM",
          "AuthorName": "Cory Buecker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2467102&course=5",
          "role": [
            "Picture of Cory Buecker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 373455,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373455",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "New Tracker improvement to LTI experience proposed; please vote!",
          "Text": "I've created a Tracker improvement ticket that will reduce confusion and unexpected gradebook behavior on new instances of LTI tools.  Please read it and vote for it here: https://tracker.moodle.org/browse/MDL-62839 Also, if you have a better understanding of Moodle code than I do, please feel free to contribute a patch! **Summary** When an administrator has configured an LTI tool and has set Accept grades from this tool to \"Delegate to teacher\", Moodle's default behavior is to enable that feature on all new instances of the tool.  Moreover, on the settings page when adding a new LTI instance to a course, this checkbox is initially hidden in the \"Privacy\" section, making it very likely that it will be missed.  Worse still, once grading is (unexpectedly) enabled, a new column in the gradebook will be created, which could cause confusion to students if the teacher did not intend for that to happen. The solution to avoid all of this confusion is simple, and the new Tracker ticket merely suggests that Accept grades from this tool be unchecked by default so that grading in LTI instances is treated as \"opt-in\".  Since there is no administrative setting for this option, a change to core code is needed. Thank you for supporting this idea!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 18, 2018, 12:19 AM",
          "AuthorName": "Glenn Pillsbury",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1184810&course=5",
          "role": [
            "Picture of Glenn Pillsbury"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 373252,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373252",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle integration with angular application",
          "Text": "hi , I am new to moodle ,just started now. i am trying to integrate moodle with my application (angular 4) . my basic idea is to use moodel as content source and i have separate application through user can launch the course . and i have to get the response from moodle web service (course progress) . i just stated the documentation .using LTI  i done some poc to launch the course externally(silent url).but unfortunately it logging the moodle application too. i don't want to login moodle application . i just want to launch course from my another app . Please share your thoughts for above approach",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 12, 2018, 9:10 PM",
          "AuthorName": "Mr Techie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2464391&course=5",
          "role": [
            "Picture of Mr Techie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 371681,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371681",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Show quiz navigation block - Moodle as LTI provide",
          "Text": "I am using Moodle 3.4 as a LTI provider for my course in our institution's Canvas implementation. So that each Moodle quiz shows up as its own gradebook item, I am creating individual publish as LTI provider enrollment methods for each quiz. This generally work fine, but the default behavior when the LTI tool launches in Canvas is to hide all of the Moodle blocks. I want to show my students the quiz navigation block so that they can see the timer for timed quizzes. With this block hidden, the timer is also hidden, I figure I can force this block to be shown with a custom parameter, but I do not know which one to pass. I'll settle for a comprehensive list of custom parameters I can pass back to Moodle from Canvas. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 5, 2018, 11:36 PM",
          "AuthorName": "Benjamin Norris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2075988&course=5",
          "role": [
            "Picture of Benjamin Norris"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Show quiz navigation block - Moodle as LTI provide",
          "Text": "Came here to ask the exact same question. Any luck? Closest I've gotten is to show all the blocks, but I don't want headers and all of that. I've used Moodle in the past, but our school district is using Canvas.  My goal is to embed quizzes into Canvas from Moodle so that I can use adaptive questions.  I've used adaptive in the past and prefer it for quick check quizzes.  Unfortunately, Canvas doesn't have anything close. There's other reasons I'd rather be using Moodle full stop, but this one that I haven't found a good work around for yet.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 6, 2018, 11:55 PM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show quiz navigation block - Moodle as LTI provide",
          "Text": "I have not solved this problem. How did you figure out how to show all blocks? I can set them to be visible to instructors only, but not to students. If you have figured out how to show them all to students, I will settle for that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 7, 2018, 12:28 AM",
          "AuthorName": "Benjamin Norris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2075988&course=5",
          "role": [
            "Picture of Benjamin Norris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show quiz navigation block - Moodle as LTI provide",
          "Text": "Confused myself... I can hide blocks for everybody, but haven't figured out how to turn them on. Was thinking if I could turn them on for everybody I could hide what I don't want with CSS .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 7, 2018, 1:10 AM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 372893,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=372893",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Internal LTI",
          "Text": "Hi there, I attempted to add an internal LTI on my 3.4 Moodle site and it's almost working but not quite! I added the LTI link in course A to a published-as-lti activity in course B. They are both on the same Moodle site. When the student clicks on the LTI link, they can see the activity. However a pop-up appears \"Web service is not available (it doesn't exist or might be disabled)\", and the student is logged out of the Moodle site. When I go to Course A, I can see that the LTI student is enrolled. Can anyone guide me on how I can add the web service please? Or is this 'internal lti' possible yet? Thank you Catherine",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 4, 2018, 7:44 PM",
          "AuthorName": "C Behan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1854471&course=5",
          "role": [
            "Picture of C Behan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 372697,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=372697",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to customize Grade settings to \"None\" for new LTI instances",
          "Text": "Using Moodle 3.3. Which file do I modify to make the Grade type drop-down menu be set to \"None\" by default when a new instance of an LTI tool is created?  I also need \"Accept grades from this tool\" to be UNchecked by default. In this case, we are using VoiceThread, and VoiceThread can pass grades back and forth. Most of the time, though, the instructors are not using VoiceThread for assessment and so having grading turned on by default leads to the activity being put into the Moodle grade book unnecessarily, which causes confusion. I would much rather instructors have to opt-in to the grading feature rather than remember to opt-out -- the settings are hidden behind two different parts of the configuration page. Also, there is no setting in the admin's external tool configuration to specify that both the checkbox and the drop-down be set so that no grades are enabled. My only solution is to hack the code to modify the HTML display of the form, but I don't know which file controls those things. Can anyone point me the right direction?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 29, 2018, 4:13 AM",
          "AuthorName": "Glenn Pillsbury",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1184810&course=5",
          "role": [
            "Picture of Glenn Pillsbury"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to customize Grade settings to \"None\" for new LTI instances",
          "Text": "I created a Tracker improvement ticket for this issue.  Please read it and vote for it here: https://tracker.moodle.org/browse/MDL-62839",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, June 30, 2018, 2:26 AM",
          "AuthorName": "Glenn Pillsbury",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1184810&course=5",
          "role": [
            "Picture of Glenn Pillsbury"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 353797,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=353797",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Moodle 3 as a LTI provider for edX (a consumer that only supports LTI 1)",
          "Text": "Hi I'm creating a course on edx.org (not Open edX) It has a LTI component that's based on the IMS Global Learning Tools Interoperability version 1.1.1 I'd like to use a Moodle 3.2 site as a LTI Provider. I know Moodle 3.2 supports LTI 2 , does that mean it doesn’t support LTI 1? Can I use Moodle 3 as a LTI provider for a consumer that only supports LTI 1? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 12, 2017, 5:26 PM",
          "AuthorName": "Danit Isaacs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1422929&course=5",
          "role": [
            "Picture of Danit Isaacs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 3 as a LTI provider for edX (a consumer that only supports LTI 1)",
          "Text": "Yep, you can use Moodle 3.2 onwards as an LTI provider for LTI1 as well as LTI2. And Moodle 3.1 supports LTI1 provider as well (but not LTI2 provider) If edX supports cartridges, all you need to do is copy the cartridge URL from the \"Published as LTI tools\" page. If not, open the cartridge in your browser and copy the launch URL instead. After that, use the secret given on the \"Published as LTI tools\" page and choose any consumer key you want.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 13, 2017, 8:18 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3 as a LTI provider for edX (a consumer that only supports LTI 1)",
          "Text": "Hi John Your method (open the cartridge in your browser and copy the launch URL ) worked well when connecting MOODLE 3.3 (LTI2) and MOODLE2.9 (LTI1 ) but the same method didn't work for me on EDX (they are still working with LTI 1) I attached the error message on on EDX platform i got do you have any suggestions?... Thanks Beni",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1447910/Capture.JPG?forcedownload=1"
          ],
          "Time": "Monday, September 25, 2017, 11:29 PM",
          "AuthorName": "Beni Zaks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246646&course=5",
          "role": [
            "Picture of Beni Zaks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3 as a LTI provider for edX (a consumer that only supports LTI 1)",
          "Text": "Are the EDX and the Moodle sites both accessible to each other? (e.g. publicly available?)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2017, 11:04 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3 as a LTI provider for edX (a consumer that only supports LTI 1)",
          "Text": "Yes",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 15, 2017, 2:53 PM",
          "AuthorName": "Beni Zaks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246646&course=5",
          "role": [
            "Picture of Beni Zaks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3 as a LTI provider for edX (a consumer that only supports LTI 1)",
          "Text": "Hello all, I have a similar problem. When I try to use Moodle as LTI Provider and Open EdX as LTI consumer, the cartridge url can not be understood by Open Edx. Moodle provides 3 parameters and LTI ID for LTI connection: Cartridge URL (which is an XML file since OpenEdx does not read the XML , I used the launch url shown in LTI from  XML file) Client Secret Registration URL In Open Edx, LTI connection has 2 steps  first as shown in screenshot, you need to write LTI Passports (id:client_key:client_secret), and after saving the changes in this page. In the content creation page, you add LTI content as an external resource, and write LTI ID (same as written in LTI Passports section) and LTI URL. We have 4 different parameters which are used in these 2 steps: LTI ID client_key client_secret LTI URL LTI ID and Client Secret are clear, for LTI URL I am using the launch URL obtained from cartridge URL, for client_key what should be written? When I write \"test\" in the client_key part, I receive the same error \"Failed request. Reason: Sorry, there was an error connecting you to the application.\"",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1498979/LTI%20Configuration%201.JPG?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1498979/LTI%20Configuration%202.JPG?forcedownload=1"
          ],
          "Time": "Friday, June 8, 2018, 4:42 PM",
          "AuthorName": "Tansu PANCAR",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2429676&course=5",
          "role": [
            "Picture of Tansu PANCAR"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3 as a LTI provider for edX (a consumer that only supports LTI 1)",
          "Text": "Hello everyone, We have exactly the same problem here : Moodle as LTI Provider and Open EdX as LTI consumer, not working. A (temporary) solution is to use the old LTI provider plugin : https://moodle.org/plugins/local_ltiprovider . It still works with Moodle 3.5.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 27, 2018, 10:53 PM",
          "AuthorName": "David Ligne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1832944&course=5",
          "role": [
            "Picture of David Ligne"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 349707,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=349707",
      "NoOfResponses": 19,
      "ResponsesInList": [
        {
          "Title": "Grades to External LMS",
          "Text": "i am trying to configure Grading functionality to send grades to external LMS via LTI. I am configuring Canvas and Moodle, as well as Moodle and Moodle. I have local Moodle and I also use trial Moodle on website. I am able to make LTI connection, and users successfully move from one LMS to another using LTI link. However, I cannot send grades. I am not sure if I configure it correctly, and even if I configure grades in correct place. Is there any instruction, screenshots, video or at least comments how I can configure grades sending to external LMS. I am using Moodle 3.1 Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 23, 2017, 11:14 PM",
          "AuthorName": "Sergii Alexandrov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2219741&course=5",
          "role": [
            "Picture of Sergii Alexandrov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "To double check, are you using Canvas (provider) in Moodle (consumer), or Moodle (provider) in Canvas (consumer)? If you are using Moodle as a provider, run \n```text\nphp admin/tool/task/cli/schedule_task.php --execute=\"\\enrol_lti\\task\\sync_grades\"\n```\n And see if it works, if it doesn't perhaps copy the output here and we can see what the problem might be. What version of canvas are you using?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 24, 2017, 10:18 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "Thank you for reply. The result is: Execute scheduled task: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades) Starting - Grade sync for shared tool '1' for the course '3'. Skipping - Empty serviceurl for the user '8' in the tool '1' for the course '3'. Completed - Synced grades for tool '1' in the course '3'. Processed 1 users; sent 0 grades. Starting - Grade sync for shared tool '2' for the course '3'. Skipping - Empty serviceurl for the user '14' in the tool '2' for the course '3'. Skipping - Empty serviceurl for the user '13' in the tool '2' for the course '3'. Failed - The grade '0.0055426395348837' for the user '11' in the tool '2' for the course '3' failed to send. Skipping - Empty serviceurl for the user '9' in the tool '2' for the course '3'. Skipping - Empty serviceurl for the user '8' in the tool '2' for the course '3'. Completed - Synced grades for tool '2' in the course '3'. Processed 5 users; sent 0 grades. Starting - Grade sync for shared tool '3' for the course '3'. Skipping - Empty serviceurl for the user '12' in the tool '3' for the course '3'. Skipping - Invalid grade for the user '11' in the tool '3' for the course '3'. Skipping - Empty serviceurl for the user '10' in the tool '3' for the course '3'. Completed - Synced grades for tool '3' in the course '3'. Processed 3 users; sent 0 grades. Starting - Grade sync for shared tool '4' for the course '3'. Failed - The grade '0.476667' for the user '11' in the tool '4' for the course '3' failed to send. Completed - Synced grades for tool '4' in the course '3'. Processed 1 users; sent 0 grades.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 24, 2017, 10:42 PM",
          "AuthorName": "Sergii Alexandrov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2219741&course=5",
          "role": [
            "Picture of Sergii Alexandrov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "Do you know which id the tool you are working on has? Are you using launch URLs or proxy/registration URLs?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2017, 9:46 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "as i understand i am using tools 1-4 i am not sure i understand your second question. I am using Enrollment Method key and url to create LTI connection. i made more tests and received 'Duplicate nonce detected' error. Please see the details below Execute scheduled task: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades) Starting - Grade sync for shared tool '5' for the course '5'. Header: ( [0] => Authorization: OAuth realm=\"\",oauth_version=\"1.0\",oauth_nonce=\"2a5ccc62b43224448f4a70877efbf6d8\",oauth_timestamp=\"1490797698\",oauth_consumer_key=\"123\",oauth_body_hash=\"U0HsJipsIPyQi%2Fc7yb2o7Cu%2FOwI%3D\",oauth_signature_method=\"HMAC-SHA1\",oauth_signature=\"TeZa76Ml7%2B6IJHyBxbcTX%2FAhNqA%3D\" [1] => Content-type: application/ xml ) Body: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <imsx_POXEnvelopeRequest xmlns=\" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXRequestHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>1490797698</imsx_messageIdentifier> </imsx_POXRequestHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <replaceResultRequest> <resultRecord> <sourcedGUID> <sourcedId>5-2-7-6-18dc7ca3a05a44f1924650645707e006eda35662</sourcedId> </sourcedGUID> <result> <resultScore> <language>en-us</language> <textString>0.57</textString> </resultScore> </result> </resultRecord> </replaceResultRequest> </imsx_POXBody> </imsx_POXEnvelopeRequest>Array Error Response from http://canvas.org.com/api/lti/v1/tools/5/grade_passback {\"errors\":[{\"message\":\"Duplicate nonce detected\"}],\"error_report_id\":1136} Failed - The grade '0.57' for the user '16' in the tool '5' for the course '5' failed to send. Completed - Synced grades for tool '5' in the course '5'. Processed 1 users; sent 0 grades.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 29, 2017, 10:41 PM",
          "AuthorName": "Sergii Alexandrov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2219741&course=5",
          "role": [
            "Picture of Sergii Alexandrov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "seems 'Duplicate nonce detected' is a Canvas issue. I managed grading passing between 2 Moodles. Can you please review and consider the following scenario I have a Course with many modules. Each module has its own Quiz and Test. For example Module 1 has Quiz 1 and Test 1 Module 2 has Quiz 2 and Test 2 and so on Can I make LTI link to a course, so that user comes from external LMS, passes Quiz 1, Test 1, Quiz 2 and Test 2. After that I move all 4 grades to external LMS gradebook? or I need to make separate LTI link for each Quiz and Test for passing all grades to external LMS gradebook?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2017, 9:59 PM",
          "AuthorName": "Sergii Alexandrov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2219741&course=5",
          "role": [
            "Picture of Sergii Alexandrov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "Unfortunately it's not yet possible for LTI provider to report back multiple gradebook items to the consumer. To vote for this feature to be added, vote at https://tracker.moodle.org/browse/MDL-55644 Unfortunately if individual grades need to be shared, each will need to be shared via LTI separately. If you share the whole cause it will report back the course grade instead (based on the individual items)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 31, 2017, 2:58 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "Thank you John. Your assistance is highly appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 31, 2017, 5:31 PM",
          "AuthorName": "Sergii Alexandrov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2219741&course=5",
          "role": [
            "Picture of Sergii Alexandrov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "Hello Sergii and John, Can you explain how you solved the\nproblem of passing grades between two moodle? Both my provider and consumer are moodle\nwith versions 3.3.6+ and 3.3.5+ respectively. In\nthe provider side a quiz is published as LTI tool (with ID 12) and added as an\nexternal resource in the consumer part. When\nthe user logins to LTI Consumer Moodle and opens the activity, accessing the\nquiz has no problem, and all questions are answered and user submits the\nanswers, view his grade and closes the window. In the consumer side, the grade is not\nlisted. In the provider side,  the grade is\nalso not listed, from the logs, it is possible to track when the user started\nthe activity and submitted, but there is no grade. In\nthe database , in \"mdl_quiz_grades\" table, I can view the grade from\nthe activity. When\nI run below code: \n```text\nphp admin/tool/task/cli/schedule_task.php --execute=\"\\enrol_lti\\task\\sync_grades\"\n```\n The outcome is like this: Starting - Grade sync for shared tool\n'12' for the course '98'. Failed - The grade '0.85714285714286'\nfor the user '756' in the tool '12' for the course '98' failed to send. Do you have any suggestions to analyze\nthe problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 26, 2018, 10:34 PM",
          "AuthorName": "Tansu PANCAR",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2429676&course=5",
          "role": [
            "Picture of Tansu PANCAR"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "I have 'Skipping - Empty serviceurl', too. Did you manage to fix that? I connected BB's CourseSites as LTI Consumer to Moodle as LTI Provider, and serviceurl and sourceid fields in table enrol_lti_users are empty . How they're filled? Thank you, appreciate help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 14, 2017, 1:21 AM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "These are given by the consumer so it's possible that blackboard is not providing them. We can check by reviewing the request sent to moodle from blackboard when the tool is first used by a new user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 18, 2017, 8:17 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS John Okely",
          "Text": "Have you set up the shared activities /courses on your LTI consumer yet? (This needs to be done first) If so, it should sync the grades when you run that command",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 28, 2017, 8:06 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS John Okely",
          "Text": "Wait are you using moodle as the consumer or provider? Grades should be synced from that test tool back to moodle instantly (go to \" Outcomes 1\" and click update and type a number from 0-1) The script I mentioned is for the opposite, when moodle is the LTI provider.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 3, 2017, 11:34 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS John Okely",
          "Text": "I noticed your site is https. Can you try with https://lti.tools/test/tp.php instead?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 3, 2017, 3:58 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 371798,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371798",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course Backup fails when LTI enabled",
          "Text": "We have LTI enabled on our site and export a couple courses with it.  When backing up a course, using the standard \"Backup\" link in the course's Administration block, the backup fails with the stack trace below.  The error is in backup_enrol_lti_plugin.class.php but this happens even on courses that don't use LTI.  We're on Moodle 3.4.2. Has anyone else had this problem, or is it something peculiar to our setup? Thanks. \n```text\nerror/multiple_optigroup_duplicate_element\n\n\nMore information about this error\n\n\nDebug info: \n\n\nError code: multiple_optigroup_duplicate_element\n\n\n$a contents: tool\n\n\nStack trace:\n\n\nline 144 of /backup/util/structure/base_optigroup.class.php: base_optigroup_exception thrown\n\n\nline 108 of /backup/util/structure/base_nested_element.class.php: call to base_optigroup->add_used()\n\n\nline 173 of /backup/util/structure/base_nested_element.class.php: call to base_nested_element->check_and_set_used()\n\n\nline 58 of /enrol/lti/backup/moodle2/backup_enrol_lti_plugin.class.php: call to base_nested_element->add_child()\n\n\nline 60 of /backup/moodle2/backup_plugin.class.php: call to backup_enrol_lti_plugin->define_enrol_plugin_structure()\n\n\nline 160 of /backup/util/plan/backup_structure_step.class.php: call to backup_plugin->define_plugin_structure()\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 8, 2018, 2:39 AM",
          "AuthorName": "R J",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2416958&course=5",
          "role": [
            "Picture of R J"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 371650,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371650",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Integration of Khan academy in moodle using LTI",
          "Text": "Hello Everyone, I wanted to integrated course and lesson from Khan Academy into my moodle site. Where I want that score or grade should be given to me in my moodle site for watching videos(just like energy point in Khan Academy) and for accessing course material etc. I also want that same energy point to be credited to my Khan Academy account. I'm using Moodle 3.4.3+ (Build: 20180524) So far I'm able to get the content into my moodle site all thanks to this post and users participating in that thread. Settings are: Tool Name: KhanAcad  // anything you want you can set Tool Base URL : https://www.edu-apps.org/tool_redirect?id=khan_academy Consumer key (copied from Ken's post above): sossiglti  // you can generate yours an use as I did Shared Secret: (copied from Ken's post above): sossiglti // you can generate yours an use as I did Anyone has encountered similar kind of requirement or help guide me in some direction. Is that even possible or not?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1498330/kahan%20academy%201.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1498330/kahan%20academy%202.png?forcedownload=1"
          ],
          "Time": "Tuesday, June 5, 2018, 4:37 PM",
          "AuthorName": "Gopal Sharma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2062393&course=5",
          "role": [
            "Picture of Gopal Sharma",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 371536,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371536",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Custom parameter sending twice",
          "Text": "Product Owner with limited Moodle interaction... We've successfully established a connection (SSO only) with older versions of Moodle, however a client of ours is now on 3.5 and we're running into a bit of a wall. Part of our authentication process is tied to a school key (our internal unique identifier to each school/client) that we enter as a custom parameter. For whatever reason, our debugging process is noting that the key is being sent twice, generating a \"Validation not passed\" error. I don't see anywhere where the field is entered twice, so I'm at a bit of a loss as to why this would happen (or how to prevent it). Any help would be greatly appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 1, 2018, 10:58 PM",
          "AuthorName": "Luke Courtright",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2448784&course=5",
          "role": [
            "Picture of Luke Courtright"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 371377,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371377",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Creating a course with External tool activity via web services",
          "Text": "Hello, I'm using v.3.3.5 and want to add the External Resources activity by API function to a course which been created via `core_course_create_courses` . But I faced  with 2 issues: _________________________________________________________________________________________________________________________________________________________ 1 st: I didn't find suitable API function listed in /admin/webservice/documentation.php to link  External Resources activity tool with existing course. most of `mod_lti_` functions are about creating/updating tool ( which I've already created ) or getting info about already defined LTI. ( `mod_lti_get_ltis_by_courses` ) but nothing  to set up (link) tool to course. Could you, please, advise, which one to use? _________________________________________________________________________________________________________________________________________________________ 2nd : After the course been successfully created via `core_course_create_courses` service with user's token ( retrieved from /login/token.php ), Appropriate course is not displayed below related user's \"My course\" section on UI, but it appeared on \"Courses\" section with missed summary block. course created via UI In comparison with another course all parameters returned from `core_course_get_courses` are pretty the same. Any suggestions? Maybe some additional actions been missed ? _________________________________________________________________________________________________________________________________________________________ BTW : I already passed through some of the circles of hell: Enable web services Enable rest protocol Add a service Add functions to service Put all required capabilities to user Hope the reason not related to the steps above. Thanks in advance, Aleksandr Vorobev",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1497112/courses.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1497112/add_activity_exists.png"
          ],
          "Time": "Tuesday, May 29, 2018, 8:35 PM",
          "AuthorName": "Alex V",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2447516&course=5",
          "role": [
            "Picture of Alex V"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 353428,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=353428",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Programming an LTI Provider in C# for Moodle as Consumer",
          "Text": "Hi everybody, I'm currently trying hard to extend an existing learning on-line learning application for Latin vocabulary into an LTI Provider for Moodle. The existing app is coded in C#, and this is the only language that I really master, so I would like to stick to it. I have found a project named LtiLibrary which seems to offer a lot of functionality for Lti and C#. However, there is virtually no documentation and the project maintainer is not easily available. So I hope that someone here has already done a similar project or can point me to resources. One more thing, the latest version of the mentioned LtiLibrary relies on MVC. My existing app is a rather old-fashioned ASP.NET app, and I don't want to refactor it. All I want is the ability to single-sign on to it from Moodle (which I have actually managed), and to post back grades for a single user (which I seem unable to accomplish). Any help would be dearly appreciated, Tobias",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 3, 2017, 5:06 PM",
          "AuthorName": "Tobias Schliebitz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2245610&course=5",
          "role": [
            "Picture of Tobias Schliebitz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Programming an LTI Provider in C# for Moodle as Consumer",
          "Text": "Hi Tobias, I see you asked this question a while back. Have you managed to find a solution. I am in the same situation now. I have setup LMS system in Moodle and would like to use LTI to auto authenticate from my ASP.Net websites writtedn C# code. Can you help me with your findings please. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 28, 2018, 11:03 AM",
          "AuthorName": "Synchro Admin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2443478&course=5",
          "role": [
            "Picture of Synchro Admin"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 371073,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371073",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course Category as LTI Custom Parameter",
          "Text": "Hello, everyone; Within the tool I am currently developing, it would be very convenient to know the category containing the course from which the tool has been launched. I am aware I can send some dynamic custom parameters as \"custom_SectionSourcedID = $CourseSection.sourcedId\" but I can't find anything related to course categories. Is there any way to send the category the course belongs to as a custom LTI parameter to the external LTI Tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 23, 2018, 4:13 PM",
          "AuthorName": "Pablo Garcia de los Salmones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2407052&course=5",
          "role": [
            "Picture of Pablo Garcia de los Salmones"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 370437,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=370437",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Requests to Moodle's Outcome Service failing",
          "Text": "Hello, everyone; I am currently developing a quiz game to work as an external tool within Moodle. I am following the IMS LTI specification and using OAuth for authentication, as it requires. I recently managed to authenticate the launch POST request from Moodle, and am now trying to send grades back to Moodle from my tool by using LTI Basic Outcome Service. Here is where I have encountered a problem: I build POX messages, sign the request, and send it, but for some reason they are succeeding just once every several attempts (30% of the time, more or less). For the rest of them, Moodle responds with a failure POX message that includes \"Message signature not valid\" as its description. Obviously, I want to trust my requests will succeed whenever I need them to. Any ideas on the reason this could be happening? Any suggestions on how to find out? Thank you all in advance for your help! For illustration purposes, I show you here below an example of a successful request and a failed one, along with each one's Base String (the one signed with the OAuth protocol): ################################## ##########Successful request########### ################################## Body hash : hPssgohenJEvtKta2so7Y27p3kU= Base String (line breaks are for display purposes only) : POST&http%3A%2F%2F127.0.0.1%2Fmoodle%2Fmod%2Flti%2Fservice.php&oauth_body_hash%3DhPssgohenJEvtKta2so7Y27p3kU%253D %26oauth_callback%3Dabout%253Ablank%26oauth_consumer_key%3Dkey%26oauth_nonce%3D63cc0764c4cc4701abe28fa5fd406378 %26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1525940779%26oauth_version%3D1.0 Body: <? xml version=\"1.0\" encoding=\"UTF-8\"?> <imsx_POXEnvelopeResponse xmlns=\" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXResponseHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>1602471533</imsx_messageIdentifier> <imsx_statusInfo> <imsx_codeMajor>success</imsx_codeMajor> <imsx_severity>status</imsx_severity> <imsx_description>Result read</imsx_description> <imsx_messageRefIdentifier>961216995</imsx_messageRefIdentifier> <imsx_operationRefIdentifier>readResultRequest</imsx_operationRefIdentifier> </imsx_statusInfo> </imsx_POXResponseHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <readResultResponse> <result> ﻿ ﻿ <resultScore> <language>en</language> <textString>0.5</textString> </resultScore> </result> </readResultResponse> </imsx_POXBody> </imsx_POXEnvelopeResponse> ############################### ##########Failed request########### ############################### Body hash = YLigJE+8wr7rCwOITqdc1IP3zFs= Base String : POST&http%3A%2F%2F127.0.0.1%2Fmoodle%2Fmod%2Flti%2Fservice.php&oauth_body_hash%3DYLigJE%252B8wr7rCwOITqdc1IP3zFs%253D %26oauth_callback%3Dabout%253Ablank%26oauth_consumer_key%3Dkey%26oauth_nonce%3D6de4380ce2ab4d9a90e3fe1723dc5141 %26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1525940816%26oauth_version%3D1.0 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <imsx_POXEnvelopeResponse xmlns=\" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXResponseHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>1688463600</imsx_messageIdentifier> <imsx_statusInfo> <imsx_codeMajor>failure</imsx_codeMajor> <imsx_severity>status</verity> <imsx_description>Message signature not valid</imsx_description> <imsx_messageRefIdentifier/> <imsx_operationRefIdentifier>unknownRequest</imsx_operationRefIdentifier> </imsx_statusInfo> </imsx_POXResponseHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <unknownResponse/> </imsx_POXBody> </imsx_POXEnvelopeResponse>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 10, 2018, 5:49 PM",
          "AuthorName": "Pablo Garcia de los Salmones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2407052&course=5",
          "role": [
            "Picture of Pablo Garcia de los Salmones"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 369054,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=369054",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Linkedin learning and lynda.com video embed into Moodle using LTI",
          "Text": "Hi everyone. Previously, we could embed the Lynda.com video into Moodle. I remember, at that moment, we paid Lynda so we could embed the videos from Lynda to our Moodle via LTI. Since Linkedin purchase Lynda a couple of years ago, I am wondering if we can still embed the Linkedin Learning video to Moodle. I have checked that Moodle is not the Linkedin Learning partner. I guess it means that we cannot integrate Linkedin Learning video with Moodle, right? ( If misunderstanding, please let me know) Our case is, we have linkedin Learning account but we don't have Lynda.com account. We are using Moodle as our LMS. What we want to achieve is to embed the Linkedin Learning video to our Moodle. Can someone let me know how to do it? thanks By the way, I have read the article that  linking lynda's account with Linkedin learning account but i don't think it means that we can embed the content from Linkedin, it just means that we can use these two learning platforms by using one account.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 16, 2018, 2:09 PM",
          "AuthorName": "Steven Jiang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2221963&course=5",
          "role": [
            "Picture of Steven Jiang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 260129,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=260129",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "LTI Custom Parameters and Passing the Username",
          "Text": "I'm looking to pass the Username of a user using the LTI link... Is there any sort of template variable that we would be able to pass as a custom parameter for the LTI link, to dynamically pass the username of whoever is using the link? Is there any way to retrieve the username that wouldn't be too cumbersome to set up on the Moodle side of things? Any advice on the best way to approach this would be awesome.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 14, 2014, 11:12 PM",
          "AuthorName": "Dyllan Latimer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1793103&course=5",
          "role": [
            "Picture of Dyllan Latimer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "I'm guessing you would need to modify Moodle's LTI plugin code to do so.  Perhaps it would be easier to work with what Moodle already sends, which is user_id (unique per site, sequentially numbered starting at 2), lis_person_name_given, lis_person_name_family, lis_person_name_full, & lis_person_contact_email_primary? I'm not sure what utility having the Moodle username would provide beyond these fields. Care to describe what you're wanting to do?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 15, 2014, 1:40 AM",
          "AuthorName": "Benjamin Riggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1771863&course=5",
          "role": [
            "Picture of Benjamin Riggs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "Hi Benjamin, Thank you for the response.  At this point we need the username because of how our integration is currently configured with moodle web services in our mod to receive the student roster. The identifier through our web services is Username rather than the user_id that LTI passes by default.  In the near future the user_id passed through LTI is what we would use, however due to development timelines we need to do this as a stop gap since there would need to be more development done on our other products to fully support the LTI 1.1 standard for passing data back to Moodle. Basically this is how we want this to work in the interim, but surprisingly Moodle is the only LMS that we support which does not have the custom parameter - Mod with Moodle web services is installed by the institution. Users within the institution register their account and proprietary hardware information. Our desktop software imports the roster via web services and joins the account server info by the institution name and Moodle Username.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 15, 2014, 3:17 AM",
          "AuthorName": "Thomas Osman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1152729&course=5",
          "role": [
            "Picture of Thomas Osman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "Thomas, You have 2 options - you can either: 1.  Create an LTI sub-type, and add the additional parameter via the sub-type.  However, this will not be possible until MDL-44902 is integrated (please vote!). 2.  Modify mod/lti/locallib.php and add the custom parameter to the $requestparams, ideally under this corresponding code block . Option #2 not preferred because you would be modifying Core code, but it is going to be your fastest option.  If you are an experienced Moodle developer that's up to the task of supporting/maintaining a Core patch then it should be viable for you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 20, 2014, 4:27 AM",
          "AuthorName": "Kris Stokking",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=669060&course=5",
          "role": [
            "Picture of Kris Stokking"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "I have a similar question about integrating \"echo360\" with Moodle. In our local set up, the echo360 tool uses a unique identifier (\"identikey\") that is a cross-campus unique id. That key was already used for the campus-wide D2L setup, and we're trying to set up echo360 with our departmental Moodle setup. I've gone ahead and modified line 248 of mod/lti/locallib.php to emit \"username\" (which we set to be the identikey identifier) rather than the internal moodle ID (which is the row number from mdl_users, best as I can tell). I'm uncomfortable keeping this change in our code based, but we can't control the echo360 install because they don't want to break integration with D2L. What remains to resolve https://tracker.moodle.org/browse/MDL-44902 to allow such integration?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 26, 2014, 6:20 AM",
          "AuthorName": "Dirk Grunwald",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=25027&course=5",
          "role": [
            "Picture of Dirk Grunwald"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "Hi Kris, I would like to assign the user's username as a custom parameter passed to the LTI provider, which only recognizes \"lis_person_sourcedid\", so I need to put it as lis_person_moodle=$username. Is there a way for the variable to expand to the current user's username? Otherwise, how would I go about to create an LTI sub-type and add the additional parameter via the sub-type, to achieve the same functionality? Sincerely, Richard",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 26, 2017, 2:02 AM",
          "AuthorName": "Richard Ma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2282344&course=5",
          "role": [
            "Picture of Richard Ma"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "$User.username should be what you need",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, August 28, 2017, 8:26 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "Thank you for the reply John. I was able to return the username as the custom parameter \"custom_lis_person_sourcedid\". However, the parameter \"lis_person_sourcedid= \" is also returned, and always returns a blank line. The tool provider seems to only recognize the first instance of the variable, which is always empty, and not the custom variable that I have set up. Is there a way to remove \"lis_person_sourcedid\" since it always returns an empty value, or can I change the value it returns? Thank you, Richard",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 28, 2017, 11:15 PM",
          "AuthorName": "Richard Ma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2282344&course=5",
          "role": [
            "Picture of Richard Ma"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "Hmm, that sounds like a bug to me. I can't think of a way around it. Perhaps report it to the tracker?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 5, 2017, 8:36 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "Has anyone found a solution for this? We have an LTI tool that pulls moodle username. There is a fix to the moodle code that will enable this but as we don't have access to the code, is there a way to manage this through UI/custom parameters? Many thanks Ben",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 18, 2016, 5:28 PM",
          "AuthorName": "Ben Hutchens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1725824&course=5",
          "role": [
            "Picture of Ben Hutchens"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "Hi all, I want to send user -> country, user -> ethnicity (custom field) or object -> property to an LTI provider. I am able to send a static value by adding into custom parameter section of the external tool. But how can I have a dynamic value be passed through LTI? I tried as below but no luck. lis_person_country=$user->country lis_person_country=$User->country lis_person_country=$user.country Your help will be much appreciated. Thanks Bhavin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 26, 2018, 1:50 PM",
          "AuthorName": "bhavin patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2397710&course=5",
          "role": [
            "Picture of bhavin patel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters and Passing the Username",
          "Text": "Hi Bhavin, Did you ever get this to work?  I am trying to pass a numeric user ID that isn't present in the default LTI launch and I'm wondering if it will be possible via a dynamic value, as you're describing. thanks! Carrie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 12, 2018, 6:30 AM",
          "AuthorName": "Carrie Bishop",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2423033&course=5",
          "role": [
            "Picture of Carrie Bishop"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 368480,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=368480",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "roles in LTI provider site",
          "Text": "Hi All, We have an LTI provider moodle site. Students click on LTI links in an external site to activities in our site and are thus enrolled via LTI as students on those activities. They become a student on our site at activity level. What we want is for these students to automatically get a student role on the course containing these activities. At the moment they do seem to get access to the course automatically but I don't quite know how it works as they do not have any role at all defined at course level. We want teachers who access the course via LTI to be teachers in the course but I'm assuming if we solve the student role assignment, we solve the teacher role assignment! Anyone got any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 5, 2018, 12:26 AM",
          "AuthorName": "tamara evans braun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2018596&course=5",
          "role": [
            "Picture of tamara evans braun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 368464,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=368464",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Students can enrol Learning Plans for himself",
          "Text": "Hi All, Students can enrol Learning Plans for himself  ??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2018, 10:32 PM",
          "AuthorName": "Nilesh Pathade",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255217&course=5",
          "role": [
            "Picture of Nilesh Pathade"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 356795,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356795",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "upgrade to Moodle 3.1 LTI not showing results in GradeBook",
          "Text": "Hi all, After upgrading from Moodle 2.7 to 3.1 our LTI connection from our AMS (assessment management system) no longer records the results in the Moodle gradebook but records the results fine in the AMS. Any ideas? Cheers Wes",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2017, 12:13 AM",
          "AuthorName": "Wesley Eccles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2172087&course=5",
          "role": [
            "Picture of Wesley Eccles"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: upgrade to Moodle 3.1 LTI not showing results in GradeBook",
          "Text": "Hi Wes were you able to get this one sorted? Cheers S",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 20, 2017, 1:05 PM",
          "AuthorName": "Surej Cherian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2306456&course=5",
          "role": [
            "Picture of Surej Cherian"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: upgrade to Moodle 3.1 LTI not showing results in GradeBook",
          "Text": "Havin the same issue. Did you find a solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 24, 2018, 3:26 AM",
          "AuthorName": "Shiv R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2249552&course=5",
          "role": [
            "Picture of Shiv R"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 367616,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=367616",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI launch ever only shows .xml file",
          "Text": "Hi, I'm trying to get it to work that another site is set up as LTI consumer and Moodle as LTI provider. Setting up Moodle as LTI Provider is done as explained in the documentation. However when I try to login with a different site (I'm using http://lti.tools/test/tc.php for testing purposes) and click on \"Launch TP\" it only shows the . xml file. It looks the same if I enter the cartridge URL in the address bar of the browser, it will just show the content of the .xml file. What's wrong? (Moodle version is 3.4) Thanks for reading",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 21, 2018, 6:49 AM",
          "AuthorName": "Lexi K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2256834&course=5",
          "role": [
            "Picture of Lexi K"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI launch ever only shows .xml file",
          "Text": "It does work from Moodle to Moodle. The problem seems to be that these xml cartridges (is that the right name?) are not supported by every LTI consumer, in my case this test website and Ilias, but Moodle requires them (at least for LTI version 1, which is the only option in my case). Found this here: https://moodle.org/mod/forum/discuss.php?d=345828#p1396326",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 21, 2018, 7:42 AM",
          "AuthorName": "Lexi K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2256834&course=5",
          "role": [
            "Picture of Lexi K"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 367343,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=367343",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Unable to get LTI content to display",
          "Text": "I have 2 Moodle sites setup and I am trying to test the LTI functionality between them. They are both running version 3.3. In Provider site I have\nenabled the following: ·        \nSite\nAdministration>Plugins>Authentication>Manage Authentication>Enable\nLTI ·        \nSite Administration>Plugins>Enrollments>Manage\nEnroll Plugins>Enable Publish as LTI Tool Once enabled, in the LTI Provider site go to a course>Administration>Users>Enrollment\nMethods>Add Method>Select Publish as LTI Tool. ·        \nEnter a Custom Instance Name ·        \nSelect the Tool to be Published (Entire course\nor a Lesson within the Course).  Choose\nEntire Course. ·        \nUnder Remote System copy the Secret code. ·        \nClick Add Method – You are taken back to the\nEnrollment Methods screen that now displays your new Enrollment Method. ·        \nGo to Administration>Published as LTI Tools ·        \nMake a note of the launch details (cartridge URL and secret) or just the registration URL for the LTI Consumer site. You will need to give the LTI Consumer Site In Consumer site: ·        \nCreate or go to a course (Knowledge Hub Setup\nand Maintenance)>Add a lesson or if a lesson exists Add an\nActivity>Select External Tool as the Activity Type and click Add. ·        \nName the Activity. ·        \nPreconfigured Tool defaults to Automatic, based\non URL.  If I click Add, the screen that\nloads is blank, no error. ·        \nEnter the Tool URL, based on the info provided,\nthis is the Cartridge URL from the Provider (Shown above) ·        \nEnter the Shared Secret ·        \nLogin as a Student ·        \nGo to course and click on the LTI Activity. \n(The course should load at this point, but I just get a blank screen\nwithout any error messages (see below) Any clue as to why the content doesn't load?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 16, 2018, 4:54 AM",
          "AuthorName": "Bob Derezinski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2011048&course=5",
          "role": [
            "Picture of Bob Derezinski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 367078,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=367078",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle as LTI Provider to my SIS",
          "Text": "Good afternoon all, I'm utilizing an SIS as a consumer to my Moodle site. I've published the activities within the individual classes as LTI Published tools and have received the consumer keys and launch URL 's. In the site admin menu, under authentication I have enabled external web services in order to allow for this. When I enter the student portal(SIS), I click on a class and select an activity and a new window opens with our site address, the activity name and it repeats itself several times. Has anyone else had issues publishing activities within classes to an external site? Thanks Ed",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 12, 2018, 2:48 AM",
          "AuthorName": "Ed Pina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2406490&course=5",
          "role": [
            "Picture of Ed Pina"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 366753,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=366753",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "common module settings  - group mode",
          "Text": "The external tool no longer appears to have the complete common module settings including group mode, groupings. This is an important feature when using LTI to filter for groups e.g. Turnitin LTI. Is this feature no longer available or is there some other settings to include this option?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 6, 2018, 5:13 AM",
          "AuthorName": "Anna Gemmell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2172014&course=5",
          "role": [
            "Picture of Anna Gemmell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: common module settings  - group mode",
          "Text": "Hm, you are quite right. I don't see Groups here at all in any version since 2.9 up to current 3.4. I suspect this absence is due to the potential collision of Moodle groups and LIS Groups, which are an LTI feature. Support for LIS Group variables was added into 3.4 https://tracker.moodle.org/browse/MDL-55358 so that the course groups would pass over into groups on the provider app side, if it supported them and requested them. So basically, if your LTI is configured to use groups in some way then it will send them; if not, it will not. The app decides this and there is probably some configuration setting for this or a url parameter to pass, or whatever. I have not used a group aware LTI app yet but the issue to me would be how you designate which groups to use. Since a course may have many groups and groupings and users may be members of multiple groups which have no relation to what the LTI activity does, there would need to be a way to do that. So, for Turnitin, you would need to ask them if they support groups at all and if so, how that is set up on your side. You can still use the Groups/Groupings for the Access restrictions, but that is a different thing. Useful but different.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 10, 2018, 3:39 AM",
          "AuthorName": "Randy Thornton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88992&course=5",
          "role": [
            "Picture of Randy Thornton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 193355,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=193355",
      "NoOfResponses": 195,
      "ResponsesInList": [
        {
          "Title": "New contrib: LTI Provider",
          "Text": "About this plugin This is a local plugin for making Moodle a LTI provider tool. It can be use to provide access to full courses or activities from remote systems (other Moodle installations, Sakai, any LMS LTI consumer compliant) Please note that since Moodle 2.2 there is a core activity plugin called \"External tool\" that is a LTI consumer. Why this plugin This plugin allow remote systems users (LTI consumers) access to Moodle courses or Moodle activities inside a course. Moodle (version 2.2 and onwards) is a LTI consumer tool also. You can use this plugin to share activities and courses between Moodle installations without configuring a Moodle network. You can also share activities and courses with other LTI consumer tools like Sakai Main features Provide access to full courses or single activities. Single sign on Change the navigation block of a course or activity for displaying information and links only regarding to your current course. Send backs course or activity final grades to the LTI consumer tool Modify the course or activity page for hiding the header, footer and left or right blocks More info here: http://moodle.org/plugins/view.php?plugin=local_ltiprovider",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2012, 1:03 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan, thank you very much for this great plugin! It is total easy to use and it works . I found a small issue. In line 154 in the tool.php you do a db-query to \"local_ltiprovider_user\" and also a comparison with the sourceid. But the sourceid is different on each call. So each time a new entry is created in the table \"local_ltiprovider_user\". If a student is calling this tool three times or more an error occurs. Error: mdb->get_record() found more than one record! line 1302 of /lib/dml/moodle_database.php: call to debugging() line 1262 of /lib/dml/moodle_database.php: call to moodle_database->get_record_ sql () line 1242 of /lib/dml/moodle_database.php: call to moodle_database->get_record_select() line 154 of /local/ltiprovider/tool.php: call to moodle_database->get_record() You can see this error if you enable debugging at the provider-side where your plugin is installed. Best regards an a happy new year! Andreas",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, January 6, 2012, 4:35 AM",
          "AuthorName": "Andreas Grabs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36220&course=5",
          "role": [
            "Picture of Andreas Grabs",
            "Picture of Core developers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Andreas, thanks for your bug report: I'm going to change this right now according what the IMS LTI spec says lis_result_sourcedid=83873872987329873264783687634 This field contains an identifier that indicates the LIS Result Identifier (if any) associated with this launch. This field identifies a unique row and column within the TC gradebook. This field is unique for every combination of context_id / resource_link_id / user_id . T his value may change for a particular context_id / resource_link_id / user_id from one launch to the next. The TP should only retain the most recent value for this field for a particular context_id / resource_link_id / user_id. This field is optional.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2012, 5:12 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "This is fixed in the control version system https://github.com/jleyva/moodle-local_ltiprovider/commit/14489f75ec8a868a91be781d9031cd394b466253",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2012, 5:16 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "The plugin entry is also updated with this fix http://moodle.org/plugins/view.php?plugin=local_ltiprovider",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2012, 5:24 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan, perfekt! Now it works without errors . Best regards and a nice weekend Andreas",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, January 7, 2012, 5:34 AM",
          "AuthorName": "Andreas Grabs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36220&course=5",
          "role": [
            "Picture of Andreas Grabs",
            "Picture of Core developers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi I am experimenting with my own LTI provider that will communicate with Moodle. I'm trying to send a GRADE to Moodle. Moodle sends to my provider, the following information: lis_result_sourcedid ={\" data \":{\" instanceid \":\"12\",\" userid \":\"2\",\" launchid \":239445611},\" hash \":\"9b483fd22cfbfb2bb5d3de957258736c543900470eb54acab15aeda2c0263755\"} Using POX and XML , what information\nshould I include as .$source. ? <replaceResultRequest> <resultRecord> <sourcedGUID> <sourcedId>' .$source. '</sourcedId> </sourcedGUID> <result> <resultScore> <language>en-us</language> <textString>'.$grade.'</textString> </resultScore> </result> </resultRecord> </replaceResultRequest> Should I send full \"lis_result_sourcedid\" ?  I.e.:\n{.............................} Just the \"data\"? I.e._ { \" data \":{...}.........} Just the \"instanceid\"? Just the \"launchid\"? Just the \"hash\"? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 27, 2015, 3:50 AM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Alejandro I have just run into this problem.  Did you find an answer ? Is it all or just a section ? Cheers, JMC",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 4, 2015, 11:01 PM",
          "AuthorName": "John McCann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1961038&course=5",
          "role": [
            "Picture of John McCann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hello, I am using Moodle 3.0.3 version. I have installed this plugin, as per the context here \" https://docs.moodle.org/30/en/LTI_Provider \", i have followed the instructions. A new link called \"LTI Provider\" is shown in the course navigation block. But when I clicked on it, it is showing 500 internal error page. Please help me on moving forward. Thanks Sricharan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 12, 2017, 1:19 PM",
          "AuthorName": "Charan Sri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2143800&course=5",
          "role": [
            "Picture of Charan Sri"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Problem with X-Frame-Options",
          "Text": "Juan,  This is really cool - I downloaded it and got it working in Moodle 2.2 on the IMS servers. It took me a while to debug a blank screen that was caused by   X-Frame-Options being set to sameorigin if I wanted to embed it in a frame.   I had to change Site administration / ▶ Security / ▶ HTTP security -> Allow frame embedding allowframembedding to \"yes\" to get it to work in a frame. You might want to change lthe redirect() call to first check $CFG->allowframembedding and if frame embedding is disallowed do not do the redirect and instead, generate HTML with and without Javascript to make a popup window. This way folks would not have to enable something they consider insecure.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 9, 2012, 3:20 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem with X-Frame-Options",
          "Text": "Actually it should *check* if it is same origin before doing the popup - a little trickier.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 9, 2012, 3:36 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem with X-Frame-Options",
          "Text": "Thanks for your feedback Charles",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 12:46 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem with X-Frame-Options",
          "Text": "Hi Charles, wow, this is new in Moodle 2.2! I'm not sure I can add some javascript for handling this, because if this header is present, my code will not be executed. So I cannot check this option (the browser is blocking my provider site code) Any ideas? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 1:02 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem with X-Frame-Options",
          "Text": "Good point.   Let me think about it.   I have the code to play with.  I have a feeling you could tweak the headers early in your PHP code that gets the launch.  Grab it after Moodle sets the headers but before they get sent...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2012, 6:32 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem with X-Frame-Options",
          "Text": "Hi Charles, I've been looking at this, and I've posted a message in the developers forum. In this message I ask for add new hooks in Moodle in order to achieve this easily withouth core changes http://moodle.org/mod/forum/discuss.php?d=193801",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 15, 2012, 5:17 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem with X-Frame-Options",
          "Text": "Hi Charles, I've added support for displaying in a new window the tool ifmoodle embedding is disabled in the setttings. We detect (as you suggested) the setting and display a notice message that opens a popup. If popups are blocked, the user can open the tool using a link provided in the notice message https://github.com/jleyva/moodle-local_ltiprovider/commit/22685ee204b3922f012ffa77a81698b39721b227#tool.php The code is in the github repository, I will update the plugin once I fixed a bug with the grades sync Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 19, 2012, 7:01 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Hiding left and right blocks not quite right",
          "Text": "Juan, The option to hide left and right blocks (a wonderful feature by the way) does indeed hide the blocks on my version, but it still leaves the space on the left and right, kind of defeating part of the purpose of removing these. Did I already say how awesome this is Thanks.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, January 9, 2012, 3:23 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Very very cool Just added a review of the plugin. http://www.somerandomthoughts.com/blog/2012/01/08/review-lti-provider-for-moodle-2-2/",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, January 9, 2012, 7:04 AM",
          "AuthorName": "Gavin Henrick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=281671&course=5",
          "role": [
            "Picture of Gavin Henrick",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "I just did a Screen Cast on Using this Module",
          "Text": "I am using this module in a small pilot in a class with 60 students I am teaching at the University of Michigan.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 9, 2012, 9:29 PM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I just did a Screen Cast on Using this Module",
          "Text": "Thanks Chuck for this example video of IMS LTI in action. For those who don't know, Charles Severance is the developer of the Sakia LMS and a strong voice in the educational community for IMS LTI. You totally ROCK, Dr. Chuck!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/approve"
          ],
          "Time": "Tuesday, January 10, 2012, 11:19 PM",
          "AuthorName": "Bryan Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10226&course=5",
          "role": [
            "Picture of Bryan Williams"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I just did a Screen Cast on Using this Module",
          "Text": "Thanks for the kind words Brian.    This is all so much fun.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 6:01 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I just did a Screen Cast on Using this Module",
          "Text": "Thanks Charles for sharing this video.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 27, 2014, 5:06 AM",
          "AuthorName": "ali jafari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45313&course=5",
          "role": [
            "Picture of ali jafari"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hello first of all thanks!! I found one problem. I f you have in the same Moodle BasicLTI Provider and BasicLTI Consumer you get errors because there are some repeated classes and function. I changed 3 files and then everything works. The files are: ims-blti/blti.php ims-blti/blti_util.php ims-blti/OAuth.php Then when I try to register a tool I have the same problems in mod/basiclti. The best solution is to change all the functions in this 3 files prefixing with ltiprovider_ or something like that? What do you think?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 10, 2012, 10:27 PM",
          "AuthorName": "Antoni Bertran Bellido",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=691469&course=5",
          "role": [
            "Picture of Antoni Bertran Bellido",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Thanks Antoni for your feedback, indeed this is a big bug I will check it out asap",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, January 11, 2012, 12:43 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "This code is the IMS sample code that has been included in Juan's code.   Since Juan grabbed the code from IMS (which is great), I have refactored things, combining stuff into a single file. Once things settle down, I want to get things realigned and so I will be happy to take these suggested changes back and integrate them into the IMS sample code.  But there is no rush - what needs to happen is get things nice and clean here and then later unify the code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 6:07 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Antoni, I have installed the plugin in a Moodle 2.2 installation and share activities between courses without error Can you provide some steps to reproduce this error? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 4:48 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan, I install a new Moodle 2.2 and install your plugin and http://code.google.com/p/basiclti4moodle/ Then when I go to /admin the page doesn't load (I get blank page)... If I overwrite the 3 files it works...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 5:47 PM",
          "AuthorName": "Antoni Bertran Bellido",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=691469&course=5",
          "role": [
            "Picture of Antoni Bertran Bellido",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Antoni, in Moodle 2.2 you don't need the basiclti4moodle plugin, you have the \"External tool\" (lti consumer)  included in core But it's true this can cause problems in Moodle 2.0 and Moodle 2.1 installations",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 8:09 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Yes!!! I didn't know it. You are right everything works fine with Moodle 2.2",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 9:48 PM",
          "AuthorName": "Antoni Bertran Bellido",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=691469&course=5",
          "role": [
            "Picture of Antoni Bertran Bellido",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi All, I used two moodle instances where one works as the consumer and the other as the provider. Everything works fine except when it comes to transfering the grades back to the consumer. Then I insatlled MoodleCron-Setup.exe ( http://download.moodle.org/download.php/windows/MoodleCron-Setup.exe ) but it still doesn´t work Can anyone pls tell me what is the problem? Thank you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Wednesday, January 11, 2012, 1:16 AM",
          "AuthorName": "Enosha Hettiarachchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=620889&course=5",
          "role": [
            "Picture of Enosha Hettiarachchi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Enosha, can you go to Admin -> Notifications? There is a message telling something abouth that the cron have not been executed the last 24 hours? Can you call the cron directly, put in your browser: yourdomain.com/admin/cron.php Can you copy and paste here the cron output? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2012, 7:58 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan, When I go to Admin -> Notifications, it doesn't give any messages. Cron output I get is \n```text\nServer\n Time: Fri, 13 Jan 2012 15:28:14 +0100\n\n\n\n\n\n\nCreated missing \ncontext\n instances\n\n\nCleaned up stale user sessions\n\n\nRunning auth crons if required...\n\n\nRunning enrol crons if required...\n\n\nRunning cron for enrol_cohort...\n\n\nStarting activity modules\n\n\nProcessing module function assignment_cron ...... used 3 dbqueries\n\n\n... used 0.094145059585571 seconds\n\n\ndone.\n\n\nProcessing module function forum_cron ...Starting digest processing...\n\n\nCleaned old digest records\n\n\n... used 3 dbqueries\n\n\n... used 0.056394100189209 seconds\n\n\ndone.\n\n\nFinished activity modules\n\n\nStarting blocks\n\n\nFinished blocks\n\n\nStarting quiz reports\n\n\nFinished quiz reports\n\n\nStarting admin reports\n\n\nFinished admin reports\n\n\nStarting main gradebook job...\n\n\ndone.\n\n\nStarting processing the event queue...\n\n\ndone.\n\n\nStarting course reports\n\n\nFinished course reports\n\n\nStarting gradebook plugins\n\n\nFinished gradebook plugins\n\n\nFetching external \nblog\n entries...done.\n\n\nDeleting blog associations linked to non-existent contexts...done.\n\n\nStarting registration update on hubs...\n\n\nFinished registration update on hubs.\n\n\nDeleting session linked tokens more than one day old...done.\n\n\nStarting admin tools\n\n\nProcessing cron function for tool_qeupgradehelper...\n\n\ndone. (1 dbqueries, 0 seconds)\n\n\nFinished admin tools\n\n\nChecking automated backup status...INACTIVE\n\n\nDeleting old draft files... done.\n\n\nCron script completed correctly\n\n\nExecution took 0.719168 seconds\n```\n Thank you Best Regards Enosha",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2012, 10:30 PM",
          "AuthorName": "Enosha Hettiarachchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=620889&course=5",
          "role": [
            "Picture of Enosha Hettiarachchi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Please, be sure that you are executing the cron in the Moodle where the ltiprovider is installed. It seems that the lti provider is not installed in the Moodle where you launched the cron It must appear this line: \" Running cron for ltiprovider\" Can you verify this? If you were launching the cron in the right place, please, enable debugging in Moodle Admin - Development - Debugging - Show all messages and click display messages, and execute the cron again",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 15, 2012, 5:15 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan, This time I executed the cron on the moodle provider where the LTI Provider is installed. And the output is \n```text\nServer Time: Mon, 16 Jan 2012 12:17:11 +0100\n\n\n\n\n\n\n Created missing context instances\n\n\nCleaned up stale user sessions\n\n\nRunning auth crons if required...\n\n\nRunning enrol crons if required...\n\n\nRunning cron for enrol_self...\n\n\nRunning cron for enrol_cohort...\n\n\nStarting activity modules\n\n\nProcessing module function assignment_cron ...... used 2 dbqueries\n\n\n... used 0.040203809738159 seconds\n\n\ndone.\n\n\nProcessing module function chat_cron ...... used 5 dbqueries\n\n\n... used 0.030758857727051 seconds\n\n\ndone.\n\n\nProcessing module function forum_cron ...Starting digest processing...\n\n\nCleaned old digest records\n\n\n... used 3 dbqueries\n\n\n... used 0.021239042282104 seconds\n\n\ndone.\n\n\nProcessing module function scorm_cron ...... used 1 dbqueries\n\n\n... used 0.033830881118774 seconds\n\n\ndone.\n\n\nFinished activity modules\n\n\nStarting blocks\n\n\nProcessing cron function for rss_client....\n\n\n0 feeds refreshed (took 0.009339 seconds)\n\n\ndone.\n\n\nFinished blocks\n\n\nStarting quiz reports\n\n\nFinished quiz reports\n\n\nStarting admin reports\n\n\nFinished admin reports\n\n\nStarting main gradebook job...\n\n\ndone.\n\n\nStarting processing the event queue...\n\n\ndone.\n\n\nStarting course reports\n\n\nFinished course reports\n\n\nStarting gradebook plugins\n\n\nFinished gradebook plugins\n\n\nFetching external blog entries...done.\n\n\nDeleting blog associations linked to non-existent contexts...done.\n\n\nStarting registration update on hubs...\n\n\nFinished registration update on hubs.\n\n\nDeleting session linked tokens more than one day old...done.\n\n\nStarting admin tools\n\n\nProcessing cron function for tool_qeupgradehelper...\n\n\ndone. (1 dbqueries, 0 seconds)\n\n\nFinished admin tools\n\n\nProcessing customized cron scripts ...Processing cron function for local_ltiprovider...\n\n\nRunning cron for ltiprovider\n\n\ndone. (1 dbqueries, 0.01 seconds)\n\n\ndone.\n\n\nChecking automated backup status...INACTIVE\n\n\nDeleting old draft files... done.\n\n\nCron script completed correctly\n\n\nExecution took 0.694152 seconds\n\n\n\n\nBut it still doesn't pass the grades to the other moodle instance. \n\n\nDo I need to do something with the grade setting in consumer instance?\n\n\n\n\nthank you\n\n\nenosha\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 16, 2012, 7:20 PM",
          "AuthorName": "Enosha Hettiarachchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=620889&course=5",
          "role": [
            "Picture of Enosha Hettiarachchi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Enosha, are you exporting the full course or just and activity? can you update the user grade in an activity or the final course grade (if you are sharing the full course) and run again the cron function? It should display more information for debugging Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 19, 2012, 6:57 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juna, I am exporting just an activity (For testing, I created a quiz and i am exporting only this quiz) The user grades of that quiz is updated in the particular provider course and the problem is it's not passed to the consumer I again ran the cron but it doesn't display any messages... Regards Enosha",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Friday, January 20, 2012, 5:35 PM",
          "AuthorName": "Enosha Hettiarachchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=620889&course=5",
          "role": [
            "Picture of Enosha Hettiarachchi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "תשובה ל: New contrib: LTI Provider",
          "Text": "Hey juan. 1. i cant tell you how glad i am to see this plugin come out. many many thanks. 2. i have translated this plugin to hebrew, how do i contribute it ? 3. can you specify exactly what happens when i use this tool to share activities on the SAME moodle site ? from what iv'e seen, after the user clickes on the link and transfered, he adopts his new identity, and is revoked of all his rights in this site. even thow he still is an active student in the site. if he wants to continue working on the site, he has to log out and log in again. (or am i doing something wrong ?). Omer",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 4:27 AM",
          "AuthorName": "עומר המאירי",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1303949&course=5",
          "role": [
            "Picture of עומר המאירי"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: תשובה ל: New contrib: LTI Provider",
          "Text": "Hi Omer, 2 please, attach in a new message your trasnlation zipped 3 This tool is not designed to share activities in the SAME site. IMS LTI is for sharing between differents systems. What you see (change of identity) is what really should happen. For sharing activities in asite, I recommend you to use metacourses or others moodle approach",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 4:45 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "New contrib: LTI Provider",
          "Text": "This works brilliantly! Any chance that a theme could be set from the config page? Even if from the URL (i.e., &theme=base). I see you can add custom css , but it would be sweet to be able to set a custom LTI provider theme.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 12, 2012, 1:56 AM",
          "AuthorName": "John St",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=691370&course=5",
          "role": [
            "Picture of John St"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "The other thing if we are playing with the CSS would be to include the LMS provided CSS somewhere in the head if it was provided.   It eeds to be somewhere early so as not to conflict with essential things that the Moodle theme needs to define.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2012, 6:34 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Charles, in the current plugin version you have options for adding custom CSS (bellow the hide page and footer settings) Using some CSS hacks will be easy modify the header and add a background logo, the main problem is that not custom html can be added Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2012, 7:53 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "תשובה ל: Re: תשובה ל: New contrib: LTI Provider",
          "Text": "",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, January 12, 2012, 2:42 AM",
          "AuthorName": "עומר המאירי",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1303949&course=5",
          "role": [
            "Picture of עומר המאירי"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: תשובה ל: Re: תשובה ל: New contrib: LTI Provider",
          "Text": "toda raba",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, January 13, 2012, 8:01 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan, Thank you for this great plugin. I'm sharing a forum across Moodle 2.2 sites, everything works fine except that I can't on the consumer side get rid of the theme header for the site providing the forum. I have checked the option to hide both the header and footer on the provider side but somehow only det footer is hidden. Any hint about what I could do to get the header hidden? Regards Alex Contis",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 6:07 AM",
          "AuthorName": "Alex Contis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1104821&course=5",
          "role": [
            "Picture of Alex Contis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Excellent effort.  Thank you.   One thing I note is I can't get it to work.  It appears there is a problem with Moodle 2.2 in the External tools code.  I get the following Fatal error: Call to undefined function hash() in /usr/local/www/moodle/mod/lti/locallib.php on line 204 I have included it here just in case it is a provider and not consumer issue. The error is on a consumer Moodle 2.2.1+ Moodle 2.2.1+ (Build: 20120119)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 12:03 PM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Which PHP version are you using for running Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 6:55 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "PHP version 5.3.8 built from sourse.  OS FreeBSD 8.2 Stable as of last weekend. Using mysqli as native DB driver.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 24, 2012, 10:23 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Check in Server --> PHPinfo if PHP has been compiled without hash support, something like --disable-hash",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 29, 2012, 4:53 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "It seem I was suffering a decaying laptop.  Windows 7 and Firefox .  I changed to Kubuntu and FF 9.0.1 and the problem disappeared.   I guess to old adage, \"air conditioning is like computers, open windows and they both stop working.\" [F8BBS 1995] One quirk I found is that if an assignment is on the provider and the file to be uploaded is on the local FS, Json breaks with redirect errors.  Workaround, use a cloud or place assignments on the consumer. Second interesting feature, that effects only those with write privilege on the consumer.  If as I do have 2 tabs open in the browser, one on the consumer and the other on the provider. When you go from tab with consumer to tab with provider the session information for the consumer follows you.  You are locked into the consumer session on the provider, until cron.php runs.  Should not effect students.   This looks like a browser issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 30, 2012, 6:41 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "For hiding the header I use a CSS line that should work on most Moodle Themes . Which theme are you using? If you have CSS skills you can add custom CSS lines in the tool settings for hiding (changing colors, etc..)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 6:52 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi, I tested with the darkb theme on the provider side. It works ok if I change to the standard theme. I suppose it's something withe the darkb theme that's different since the option \"Hide page header\" does not work. Did you consider puting the \"LTI provider\" link in the \"Settings\" block? Regards Alex Contis",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 7:49 PM",
          "AuthorName": "Alex Contis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1104821&course=5",
          "role": [
            "Picture of Alex Contis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Alex, currently it is not posible too add links in the settings block from a local plugin. If in a future it's posible, I will add the link there 'cause is the right place You may ask the darkb theme developer for a css line to hide the page header Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 9:13 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I just uploaded a new version: http://moodle.org/plugins/pluginversion.php?id=466 - New settings for: -- Enrolment duration -- Enrolment start and end dates -- Enrolments quota - Support for Moodle 2.2 allowframembedding option Dont't forget to go to Admin -> Notifications after upgrading the code, there are changes in the plugin's tables",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 29, 2012, 4:55 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "תשובה ל: Re: New contrib: LTI Provider",
          "Text": "Grades are not sent back to the consumer: Hey juan. Again, great work on this plugin, i cannot say this enough. I have installed the lates version, and students are able to go through the tool into a quiz activity which i set up. They are also able to take the test, and submit the result. After they are all done - i can see their grades on the provider's Grade report, but from some reason it doesnt send the grades back to the consumer. - i have checked \"send grades back\" - cron jobs gives me this output: \n```text\nProcessing customized cron scripts ...Processing cron function for local_ltiprovider...\nRunning cron for ltiprovider\n Sync tool id 1 course id 2\n Sync tool id 2 course id 14\n Sync tool id 3 course id 14\n Sync tool id 4 course id 14\n Sync tool id 5 course id 14\n Sync tool id 6 course id 14\ndone. (55 dbqueries, 0.14 seconds)\n```\n \n```text\n\n```\n but still - no grades aprear on the consumer side, am i missing something ? i would really appriciate your help. Cheers, Omer",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 26, 2012, 11:17 PM",
          "AuthorName": "עומר המאירי",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1303949&course=5",
          "role": [
            "Picture of עומר המאירי"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: תשובה ל: Re: New contrib: LTI Provider",
          "Text": "For those experiencing problems with the grades, I have added some additional debugging in the function that sends grades back Overwrite your local/ltiprovider/lib.php (make a backup before) with https://raw.github.com/jleyva/moodle-local_ltiprovider/master/lib.php And run again the cron manually, please, add here the debug messages",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 5, 2012, 8:03 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Grades not transferring",
          "Text": "Hi Juan, I'm running two identical instances of Moodle 2.3 on the same webserver. One has your LTI Provider plugin installed, and set to share a single activity: online assignment. The Consumer site is able to pull in that assignment with no problem. But I'm unable to get the grades to send across. The \"send grades across\" tick box is ticked. When I run cron.php on the Provider site, the relevant section says: Processing customized cron scripts ...Processing cron function for local_ltiprovider... Running cron for ltiprovider done. (1 dbqueries, 0 seconds) As a \"teacher\" I have graded the assignment, and the grade is showing in the Provider's gradebook. I have tried over-riding the grade and then running cron, but with the same result as above. Any ideas? Thanks, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 7, 2012, 3:58 PM",
          "AuthorName": "Mark Berthelemy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3015&course=5",
          "role": [
            "Picture of Mark Berthelemy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring",
          "Text": "You need or should have Webservices enabled on both sides to get gradebook to transfer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 7, 2012, 5:00 PM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring",
          "Text": "Perfect! Thanks John.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 7, 2012, 5:06 PM",
          "AuthorName": "Mark Berthelemy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3015&course=5",
          "role": [
            "Picture of Mark Berthelemy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring #2",
          "Text": "I am encountering the same problem as Mark, with the grades not transfering between an LTI provider and consumer site. I have setup an external tool on a Moodle 2.3.2 site.  Enabled web services, embedded frames and just in case it helps, enabled Publishing in the grades section.  Let's call this site A. I have installed the LTI provider on a Moodle course running physically on another server.  Within that course, I have setup an LTI Tool using the LTI Provider link in the course navigation.  Frames and webservices are enabled on this site as well as grade publishing.  Lets call this site B. I can login as a student on on site A and can take the quiz on site B.  When I click on the review, I see my score displayed correctly on site B in a frame.  I can return to the course on site A by clicking on the breadcrumb link. I have then run the cron job for both sites and I get a message from site B stating: Processing customized cron scripts ...Processing cron function for local_ltiprovider... Running cron for ltiprovider Sync tool id 1 course id 2 User grade send to remote system. userid: 6 grade: 0.3 done. (29 dbqueries, 1.22 seconds) When running site A cron, I do not see any message relating to lti at all. I'm now at a loss to see how to get a grade to appear in the course on site A.  Any suggestions welcome!  Thanks! ATG",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 17, 2012, 8:07 AM",
          "AuthorName": "Tony Gordon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=734699&course=5",
          "role": [
            "Picture of Tony Gordon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transferring #2",
          "Text": "Added Webservices as well on both sites via Site admin> Plugins > Web services > Manage protocals.  Turned on AMF REST and SOAP. XML -RPC is not allowed by our tech folks.  Still not returning a grade to the consumer site. Turned on Full Error reporting on test LTI provider server: the following was output when running the cron: \n```text\nProcessing customized cron scripts ...Processing cron function for local_ltiprovider...\nRunning cron for ltiprovider\n Sync tool id 1 course id 2\nUser grade not send: grade = \n\nNotice: Undefined index: query in /home/techlit/www/23test/local/ltiprovider/ims-blti/OAuth.php on line 269\nUser grade send failed: \nUser grade not send: grade = \n\nNotice: Undefined index: query in /home/techlit/www/23test/local/ltiprovider/ims-blti/OAuth.php on line 269\nUser grade send failed: \n\nNotice: Undefined index: query in /home/techlit/www/23test/local/ltiprovider/ims-blti/OAuth.php on line 269\nUser grade send failed: \ndone. (38 dbqueries, 1.1 seconds)\ndone.\n\n\n\n\nI don't know enough PHP to know what is happening (or not happening) on Line 269!\n\n\n\n\nTony\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 18, 2012, 9:52 AM",
          "AuthorName": "Tony Gordon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=734699&course=5",
          "role": [
            "Picture of Tony Gordon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hello, Juan. Thank you very much for your plugin, it works pretty. We have the following question. We want to pass from client LMS information about user group. As far as we can see from this link http://www.imsglobal.org/lti/blti/bltiv1p0/ltiBLTIimgv1p0.html#_Toc261271975 we can pass it from client (Moodle 2.2 or some other LMS) as a custom key/value parameter. Have you any plans to implement functionality by processing of some custom parameters? For example, you can check \"groupname\" key in POST variables and if this parameter exists, create corresponding group (if necessary) in course and assign user to it. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 5, 2012, 11:24 PM",
          "AuthorName": "Igor Kazakov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1117185&course=5",
          "role": [
            "Picture of Igor Kazakov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan, I am working in LMS system which is build in custom PHP.I have to fetch Course details,studedent details,subject details from a Moodle instances. Is Moodle LTI provider work there for this requirement?.Please help me. Thanks...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 31, 2012, 1:22 PM",
          "AuthorName": "Bhimcharan Samanta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1441035&course=5",
          "role": [
            "Picture of Bhimcharan Samanta"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "You should try Moodle WebServices for that",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 23, 2012, 7:19 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Juan, First of all, thank you for investing the time and effort on this contribution - it works great! I do have a question about activity reporting, however. I have a Sakai instance running that is an LTI consumer of some courses I have running on Moode serving as the LTI provider. I thought it would be interesting to create a report (using your Configurable Reports block), showing external tool user logins to the Moodle platform. The report shows the First Name, Last Name, Email Address, and Logins to the System. Output from the report lists the users coming in from Sakai alright, but it shows a zero for the number of logins. I presume it has to do with the fact that the users coming in from Sakai are set up in Moodle as a nologin account - correct? Is there a way around this as it would be nice to be able to report on external users and their activities. Cheers! David Richter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 13, 2012, 5:29 AM",
          "AuthorName": "David Richter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1415285&course=5",
          "role": [
            "Picture of David Richter"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "You my create a SQL query in my configurable reports, you have all the information you need in: local_ltiprovider_user table Also, you can filter the moodle log table by ltiprovider login in the description field",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 23, 2012, 7:22 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Thanks, Juan; I'll give that a try!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 23, 2012, 9:58 PM",
          "AuthorName": "David Richter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1415285&course=5",
          "role": [
            "Picture of David Richter"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I could use some help please, The setup all goes ok, I make a tool, when I refere to the tool from another system (Canvas) I get this error in the frame: This webpage has a redirect loop The webpage at http://iteach.org/japomani/moodle/mod/quiz/view.php?id=2 has resulted in too many redirects. Clearing your cookies for this site or allowing third-party cookies may fix the problem. If not, it is possibly a server configuration issue and not a problem with your computer. Here are some suggestions: Reload this webpage later. Learn more about this problem. Error 310 (net::ERR_TOO_MANY_REDIRE Then I go back to moodle, and all pages give the same error. If I remove the lti folder from local, moodle goes back to normal. Then I uninstal and reinstall lti, everything is ok agian, until I try to access the tool from the other LMS. When I click the test button in the plug in I get redirected to the course main page, when I go directly to the url for the tool I get a blank screen. Any suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 5, 2012, 3:46 AM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "It also seems to affect logins. After I have tried to access the tool from canvas, when I go back to moodle, and move the lti provider folder out of local so I can get access to the site again, I lose my admin privilages, it kicks me out to my profile page, and have to log out and log back in to get the admin navigation again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 5, 2012, 4:46 AM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "The infinite loop is solved by updating your browser. It seems it was a early problem. I use FF and it works OK. Now! It appears that the cookie for the LTI provider is retained by the browser, solution close and reopen the browser or, wait for the cron job to remove the cookie on the provider. The correct solution should be for the consumer to give the provider it's session cookies. I don't know how to make this happen. There is a third issue with Moodle as the provider. A LTI session expires when the cron job is run on the provider. If you have a short period for cron IE 15 minutes it will give problems.  My solution is to increase the crone time to 120 minutes and not place forums and assignments on the provider. They need processing quickly,",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Saturday, May 5, 2012, 9:32 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "John, thanks for the insight. I have tried it in the most current version of FF and Chrome. No go. I have also cleared all the cookies, no go. Any other ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 5, 2012, 1:01 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "When I had the problem the code needed some fine tuning. Simply closing and reopening the browser fixed the problem. Here is a secret and launch URL you can try here. Secret   75b47ef4ca38fb8c7569c69b367b1e3e Launch URL http://beasty.dorset.org.au:5050/moodle/local/ltiprovider/tool.php?id=24 If you don't get the problem then your code may be need updating. Let us know. John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 5, 2012, 2:24 PM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hmmm... That is helping a ton, thank you. This may just be a troubleshooting issue. The tool you send displayed. I got: Enrolment options You can not enrol yourself in this course. Is that what I should have seen? I am wondering if my LMS is not sending the right credentials. Is there a way to troubleshoot that, to see what is coming through?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 5, 2012, 9:16 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "John, Would you try to see if you can access my tool? Tool name Shared secret Launch URL Edit Label: Assignments 487bf49bf9784d13dc2c467776be59eb http://iteach.org/japomani/moodle/local/ltiprovider/tool.php?id=2 It is just a label",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 5, 2012, 11:02 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I can confirm that I am getting the re-direct loop that you describe. The only thing I can think of is maybe old code.  You can get the absolute lattest and greatest from the git repo at https://github.com/jleyva/moodle-local_ltiprovider Just click the zip button at the top left and get the newest, reinstall and see if that fixes things.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 6, 2012, 8:18 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Well, that didn't work either. I reinstalled moodle with the latest version and that did not help either. These were the only problems with the install. should be installed and enabled for best results The xmlrpc extension is needed for hub communication, and useful for web services and Moodle networking Check php_extension intl should be installed and enabled for best results Intl extension is used to improve internationalization support, such as locale aware sorting. The only non standard thing I am aware of about my install is that moodle data is not in the same folder. Could it have anything to do with the authentication modules I have installed? Manual accounts Settings No login Settings Email-based self-registration The rest are greyed out",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=docs&rev=293",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=docs&rev=293",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fhide&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=spacer&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=spacer&rev=299"
          ],
          "Time": "Sunday, May 6, 2012, 10:38 AM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Ensure the LTI provider has \"allow frame embed\" checked in admin >> security >> http security Also ensure the course you have LTI on has an enrolment method.  I use manual and that seems to be OK. You can have multipal methods on a course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 6, 2012, 11:37 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Thank you for continuing to think about this. Both of the options you mentioned are engaged. Here is the enrollment methods I have: Available course enrolment plugins Name Instances / enrolments Enable Up/Down Settings Uninstall Manual enrolments 1 / 2 Settings Uninstall Guest access 1 / 0 Settings Uninstall Self enrolment 0 / 0 Settings Uninstall Cohort sync 0 / 0 Settings Uninstall Category enrolments 0 / 0 Settings Uninstall External database 0 / 0 Settings Uninstall Flat file (CSV) 0 / 0 Settings Uninstall IMS Enterprise file 0 / 0 Settings Uninstall LDAP enrolments 0 / 0 Settings Uninstall Course meta link 0 / 0 Settings Uninstall MNet remote enrolments 0 / 0 Settings Uninstall PayPal 0 / 0 Settings Uninstall Please select all required plugins and arrange then in appropriate order. Any other suggestions?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fhide&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=spacer&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=t%2Fdown&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fhide&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=t%2Fup&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=t%2Fdown&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fhide&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=t%2Fup&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=t%2Fdown&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fhide&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=t%2Fup&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=spacer&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fshow&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fshow&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fshow&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fshow&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fshow&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fshow&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fshow&rev=299",
            "http://iteach.org/japomani/moodle/theme/image.php?theme=fusion&image=i%2Fshow&rev=299"
          ],
          "Time": "Sunday, May 6, 2012, 9:11 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "The last arrow in my quiver. Turn webservices on. Admin >> Advanced features Then turn on in Admin >> Plugins >> Web Services all the available transport protocols Do for both provider and consumer and, I will keep my fingers crossed. I have a sneaking suspecion the loop is caused by the gradebook reporting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 7, 2012, 10:43 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Thanks for your diligence John, unfortunatally it still is not working. I am working on other hosting, maybe that will solve the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 7, 2012, 9:10 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Jared, John and Juan: ( Lotta J's !) I seem to have encountered this same looping condition. It seems to be keeping the LTI consumer in Moodle 2.2.2 from connecting to a Provider on Moodle 2.2.1. The error message I get is this: I tried the same Moodle 2.2.2 External Tool on Jared's Label and it worked like a charm. No looping redirects. Then I tried it on John's Beastie at Dorset and I got the same error  message I'm getting on my own Moodle 2.2.1 ILP provider. I've tweaked the cookies (different cookie names on both sites), scrutinized the enrollment plug ins, checked \"allow frame embed\" and all the other remarkably thorough suggestion's make by John. I even downloaded and installed Juan's newest code from GitHub. So the question becomes what's different on Jared's box ( iteach.org/japomani/moodle) that's letting his provider demo connect, nut preventing John's and my provider from doing the same? Jared : Would you be willing to post your specs (Moodle version on your provider, plugin version, etc.) and configuration screens from your provider John and I can both see what you're doing differently ? I'm terribly curious to find out what's different about Jared's software &/or configuration on his provider that's resulting in  a proper LTI connection. Bob Blomeyer Online Teaching Associates",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/881971/Page%20isnt%20redirecting%20properly.jpg"
          ],
          "Time": "Tuesday, May 8, 2012, 10:11 AM",
          "AuthorName": "Robert Blomeyer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=522305&course=5",
          "role": [
            "Picture of Robert Blomeyer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Robert, Moodle version is latest download of 2.2.2+, LTI provider is latest version from git hub I am note sure which configuration screens would you like?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 8, 2012, 11:11 AM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "This is discouraging, I rebuilt moodle on a different server, it has the same problem. I suspect that there is an error in the latest version of Moodle or the latest version of LTI Provider that is preventing this from working. It seems to be version specific. Here is my test data on my new server: 3bc2b9b84327d0e763f619ab7b707828 http://japomani.tk/moodle/local/ltiprovider/tool.php?id=1 Any ideas how to get the developer's attention to look into this. It has such great promise but it is disappointing for it to not be working.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 8, 2012, 11:51 AM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "If both of you are using a hosted service the problem will be in the .htaccess file so lovingly place in the moodle root by the host .  If you can gain shell access \"less .htaccess\" will allow you to read it. Talk to your hosting service.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 8, 2012, 2:48 PM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I don't have one in my moodle folder, at the public_html level I have one, but it is blank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 8, 2012, 8:21 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I have full access to my hosted directory using cPanel. I can edit the mysterious .htaccess file. So what needs to be in it for the LTI provider to work? We should all HOPE it's something that simple. BobBl",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, May 9, 2012, 1:31 AM",
          "AuthorName": "Robert Blomeyer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=522305&course=5",
          "role": [
            "Picture of Robert Blomeyer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I also have a .htaccess file in my public_html (web root) folder. It appears to be blank. With dot files looks can be deceiving. Dr. Bob",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 9, 2012, 1:57 AM",
          "AuthorName": "Robert Blomeyer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=522305&course=5",
          "role": [
            "Picture of Robert Blomeyer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Sorry Jared. I got a 404 Not Found message: Dr. Bob",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/882241/Sorry_Jared.jpg"
          ],
          "Time": "Wednesday, May 9, 2012, 1:48 AM",
          "AuthorName": "Robert Blomeyer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=522305&course=5",
          "role": [
            "Picture of Robert Blomeyer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Jared: My new Moodle 2.2.2 server works perfectly as an LTI  Consumer. Moodle's new External Tool activity works like a charm. My delimma is getting Juan's \"Provider\" plugin to work on one of OTA's Moodle 2.2.x  sites. I've currently got Juan's Provoider Plugin installed on a Moodle 2.2.1 sandbox. That's the one I can't talk to without the \"infinite redirects\" error message popping up. I'm hopeful John will have insights into what my site's .htacess file should say. Bob Blomeyer",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 9, 2012, 1:39 AM",
          "AuthorName": "Robert Blomeyer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=522305&course=5",
          "role": [
            "Picture of Robert Blomeyer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Jared: Would you shoot & share a screenshot of your LTI provider configuraton for this provider resource: Jared's LTI Label That Still Works Whatever you did there is still working. The one you posted after that on didn't work: Jared's new LTI resource that doesn't work now This shows how the LTI resource I've attempted to configure on our test server looks. It DOES NOT WORK. I obliterated the secret and URL. I already know it doesn't work. No need for either of you to waste your time on it. Application of Ocham's Razor would suggest the the simplest solution is the best choice. I'm betting the solution has something to do with the way the Provider side is configured. Is there any notable difference in the way you've configured the Provider side for the two resources I've provided Consumer side screenshots for? Dr. Bob",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/882256/Jareds%20Label%20that%20works.jpg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/882256/Jareds%20label%20that%20doesnt%20work.jpg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/882256/My%20provider%20block%20that%20doesnt%20work.jpg"
          ],
          "Time": "Wednesday, May 9, 2012, 2:21 AM",
          "AuthorName": "Robert Blomeyer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=522305&course=5",
          "role": [
            "Picture of Robert Blomeyer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "OK.  It took a while. But I've learned a few things about what to do (and not do) to get the LTI Provider and Consumers configured on Moodle. For starters - here's an IMS Learing Object I've set up as an LTI Tool on on a Moodle 2.2.1. sandbox. It works nicely from the LTI Consumer on a different Moodle 2.2.2 server. Subject: Copyright and Intellectual Property (Copyright 2012. Online Teaching Associates. All Rights Reserved) URL - http://www.onlineteachingassociates.net:8080/moodle/local/ltiprovider/tool.php?id=2 Secret - 5506d29bf3134155fa2a916110275cce I eventually figured out that the reason I couldn't get that server to work previously was that I had it configured with a Site Policy URL. NOTE : Juan's LTI provider Plugin won't work from a site that's configured with a site Policy Statement on a URL. That's at Admin>Security>Site Policy. I don't know for a fact. But I suspect that might be what caused  the looping and time-out's that kept me from connecting before. The other thing I learned is there are lots of \"optional settings\" for LTI, both on the Consumer and the Provider side. Unless the LTI Provider lets potential consumers know how they've configured LTI tool or course instance, the Consumer may not be able to connect successfully. The screenshots below illustrate both the Provider configuration and the consumer configuration for the That's located at: Admin>Plugins>Activity Modules>External Tool Then there's the activity configuration itself. Finally, here's what the Provider Moodle course's LTI Provider Settings look like from the Provide-side view. That one's tricky. If you tic \"Force course or activity navigation, the remote participant loses their Moodle \"breadcrumb trail\" can't navigate back into the Moodle course on their originating moodle server. And finally here's what it looks like installed on the consumer side: That's the extent of my progress to date. We're attempting to configure our Moodle 2.2.2 LTI Consumer to make an entire Moodle Course available from our Provider on a Moodle 2.2.1 Sandbox;  with only limited success to date. Limited because teachers can connect, but students can't. A student user can make the innitial connection and view the remote course. When the initial connection is made, the student's identity is succcessfully added as a manual enrollment on the Provide side. But when the student in the remote course attempts to disconnect from the provider side, we get this error message and the Provide's Moodle site locks up . I'm still working on providing courses. If I figure it out I'll post again. Bob Blomeyer (BobBl)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/882903/Site%20Policy.jpg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/882903/External%20Tool%20Config.jpg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/882903/LTI%20Activity%20Preferences.jpg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/882903/LTI%20Provider%20Setting%20From%20Course%20itself.jpg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/882903/In%20Lesson%20-%20Consumer.jpg"
          ],
          "Time": "Friday, May 11, 2012, 6:35 AM",
          "AuthorName": "Robert Blomeyer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=522305&course=5",
          "role": [
            "Picture of Robert Blomeyer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Thank you Robert! I just made it to your test site from 1.9 using basic LTI4Moodle ( http://code.google.com/p/basiclti4moodle/ ). I was running into a loop last time I tried to connect both Moodle sites (1.9 to 2.2). It now works, but I couldn't exactly tell why. I just untic a few options just like recommended. I will just keep my fingers crossed. François",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 24, 2012, 11:00 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Did you find a solution for the conflict with the Site Policy URL? Unfortunately this is a showstopper for us.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 16, 2013, 6:45 PM",
          "AuthorName": "Alastair Hole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100951&course=5",
          "role": [
            "Picture of Alastair Hole"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi, the new version of the plugin (released today) should solve the Site Policy URL problem. This version has multiple changes and new features, I think it will tested but please, do some tests in a different site than production prior to upgrade if it's possible Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 17, 2013, 12:17 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Thanks for your swift reply I'll give it a try on our test server. Cheers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, December 17, 2013, 5:44 PM",
          "AuthorName": "Alastair Hole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100951&course=5",
          "role": [
            "Picture of Alastair Hole"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "It seem the problem with redirects is back. There is an additional issue with ltiprovider and the latest and greatest moodle 2.2.3, I get this error on install Stack trace: line 569 of /lib/upgradelib.php: downgrade_exception thrown line 271 of /lib/upgradelib.php: call to upgrade_plugins_modules() line 1437 of /lib/upgradelib.php: call to upgrade_plugins() line 269 of /admin/index.php: call to upgrade_noncore() Any attempt to remove the ltiprovider dire ctory breaks Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 4, 2012, 11:10 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Is there a way to restrict users from accessing the LTI tool link in a Moodle course either by roles or some other way? we are using moodle 2.2.1.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 17, 2013, 2:41 AM",
          "AuthorName": "Mr. Marc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119727&course=5",
          "role": [
            "Picture of Mr. Marc"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Problem Deleting LTI Provider User",
          "Text": "Can I say this is a very useful and innovative plugin, well done! What i've noticed when accessing content from other moodle, it will create a new user (i.e: username: ltiproviderd5f635d3f81b0bee62f5296ce3839ad1). And I can't seem to delete that user from LTI Provider's moodle: \"Invalid User\" error was produced. Is this supposed to be the case? any help would be appreciated. Thanks. Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 25, 2012, 3:02 PM",
          "AuthorName": "Eric Kuncoro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=773592&course=5",
          "role": [
            "Picture of Eric Kuncoro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem Deleting LTI Provider User",
          "Text": "I can see the problem happens because user's mnethostid=0, confirmed=0. i've added default values in line 82, it seems to be fixed now. $user->mnethostid=1; $user->confirmed=1;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 26, 2012, 8:23 AM",
          "AuthorName": "Eric Kuncoro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=773592&course=5",
          "role": [
            "Picture of Eric Kuncoro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem Deleting LTI Provider User",
          "Text": "Eric, thanks for the info, I've updated the code in github with this fix, please note the differences: https://github.com/jleyva/moodle-local_ltiprovider/commit/8946a4b574d3e55d7f58976a0b2073b5469e83a3 Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 31, 2012, 11:04 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Juan: Fabulously easy installation. Love it! A question Because the plugin sets up a No Login authentication it makes it hard to look after someone in an emergency when SSO is not functioning (say consumer portal is down for example). Do you have any ideas about how an admin could provide manual authentication and enrollment but then later revert back to SSO?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 31, 2012, 4:28 AM",
          "AuthorName": "Graham Courtney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331055&course=5",
          "role": [
            "Picture of Graham Courtney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "The only way is to edit one by one all the users and change the auth method and assign the users a passwords, it can be a huge task if you have a lot of users",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 31, 2012, 8:23 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "So I tried that but when I change it to say Email Self-registration and put in a password (leaving the username as the assigned ltiprovider email) it then gives me the following error: phpCAS error: phpCAS::client(): type mismatched for parameter $server_version (should be `string') in /home2/simulear/public_html/moodle/auth/cas/auth.php on line 172 any thoughts or recommendations of what might be going on. The event that this would happen is in the event that the LTi connection does not work but a user needs to get in to do their work. So a temporary solution is fine. Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 31, 2012, 11:03 PM",
          "AuthorName": "Graham Courtney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331055&course=5",
          "role": [
            "Picture of Graham Courtney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Have you tried manual accounts?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 31, 2012, 11:06 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Yes. Same error I'm afraid.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 1, 2012, 4:53 AM",
          "AuthorName": "Graham Courtney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331055&course=5",
          "role": [
            "Picture of Graham Courtney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Hitting issues with Blackboard Consumer",
          "Text": "This is my first shot, and indeed my institution's first experience at LTI modules, so this may be a predictable problem, but I'm getting errors as below: \n```text\nNotice: Undefined index: user_id in /home2/l557375/public_html/moodle/local/ltiprovider/ims-blti/blti.php on line 195\n\n\n\n\nNotice: Undefined index: roles in /home2/l557375/public_html/moodle/local/ltiprovider/tool.php on line 116\n\n\n\n\nWarning: session_regenerate_id() [function.session-regenerate-id]: Cannot regenerate session id - headers already sent in /home2/l557375/public_html/moodle/lib/moodlelib.php on line 4131\n```\n The launch URL is http://legalwriting.ie/moodle/local/ltiprovider/tool.php?id=1 . I'm running Moodle 2.3.1, and downloaded LTI provider from Github in the past week. On clicking continue, you can create a user but this cannot be either confirmed or deleted by me as an administrator.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 21, 2012, 5:35 PM",
          "AuthorName": "Michael Coyne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1208372&course=5",
          "role": [
            "Picture of Michael Coyne"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Fully supported in 2.3?",
          "Text": "Is this fully supported in Moodle 2.3? I know it mentions 2.2+ onwards but I wondered just how many people were running it in 2.3 and what sorts of issues they were having. I mean, is it functional enough in 2.3 to rely on?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 26, 2012, 3:35 AM",
          "AuthorName": "Chris Stones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=228585&course=5",
          "role": [
            "Picture of Chris Stones"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Fully supported in 2.3?",
          "Text": "I Installed this plugin in 2.3.2+ and get the following errors of deprecated functions, 2 I could fix, but the last one start to happen in Index.php of the user list: Should be fixed to version 2.3.2+ Deprecated: Function split() is deprecated in C:\\xampp\\htdocs\\moodle\\local\\ltiprovider\\ims-blti\\OAuth.php on line 753 Deprecated: Function split() is deprecated in C:\\xampp\\htdocs\\moodle\\local\\ltiprovider\\ims-blti\\OAuth.php on line 757 textlib_get_instance() is deprecated. Please use static calling textlib::functioname() instead. line 2939 of \\lib\\deprecatedlib.php: call to debugging() line 54 of \\local\\ltiprovider\\tool.php: call to textlib_get_instance() The tool will be opened in a new Window. Please, check that popups for this site are enabled in your browser. You can use the link displayed bellow for opening the tool. Open tool in a new window In order to avoid problems embedding this site, please enable the allowframembedding setting in Admin -> Security -> HTTP security Should be fixed to version 2.3.2+ Deprecated: Function split() is deprecated in C:\\xampp\\htdocs\\moodle\\local\\ltiprovider\\ims-blti\\OAuth.php on line 753 Deprecated: Function split() is deprecated in C:\\xampp\\htdocs\\moodle\\local\\ltiprovider\\ims-blti\\OAuth.php on line 757 textlib_get_instance() is deprecated. Please use static calling textlib::functioname() instead. line 2939 of \\lib\\deprecatedlib.php: call to debugging() line 54 of \\local\\ltiprovider\\tool.php: call to textlib_get_instance() Ir para o conteúdo principal Esta página será automaticamente redirecionada. Se nada estiver acontecendo, por favor use o link continuar, abaixo. (Continuar) Error output, so disabling automatic redirect. 3# Error Notice: Undefined index: SP in C:\\xampp\\htdocs\\moodle\\user\\index.php on line 727",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 16, 2012, 11:00 PM",
          "AuthorName": "Oswaldo Rojas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1514458&course=5",
          "role": [
            "Picture of Oswaldo Rojas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "What a brilliant development! It seems to work well between two installations of Moodle 2.3. However I have noticed that if I am Admin or Manager in Moodle A and follow the LTI link I have editing rights (Teacher role?) in the course in Moodle B  where the LTI provider is set. I have set the LTI course role for instructor & student to both be student. Does this tool also need an option e.g. match any other role = student/teacher/manager etc to prevent this potential problem? Great work and potentially very useful. Thanks again, Jim",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, November 3, 2012, 6:12 PM",
          "AuthorName": "Jim Judges",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=924&course=5",
          "role": [
            "Picture of Jim Judges"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "An old issue I have been experiencing with LTI. Both consumer and producer are Moodles, when I use external tools from producer to moodle consumer, the consumer gets kicked after the producer cron job runs. On the consumer Moodle we get a login screen. We can open the cron to run less frequently, but when the consumer is also using the producers communications tools it bounds on the ridiculous to increase cron time. What am I doing wrong or forgotten to tweek?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 15, 2012, 4:46 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I have been working with the LTI provider quite extensively over the past few days. I have hit some roadblocks that I could really use some help with. I have two moodle installs, each on their own server The LTI Producer is on Moodle 2.4 The LTI Consumer is on Moodle 2.3 I have made two quizzes on the Producer and made them Tools I created two external Tools on the Consumer linked to the quizzes on the Producer Both appear to work great. I can take both quizzes on the consumer, I can confirm that they have been taken on the Producer Here is the first problem: When User A takes Quiz 1 in the consumer, a new user for User A is created on the Producer (that is what I would expect to happen). When User A takes Quiz 2 in the Consumer, a SECOND new user for User A is created on the Producer. I have done this with three tools now and have THREE user accounts for User A on the Producer. In the grade book, there are three User As and grades for each user are blank except for the column of the assignment that created that user. Is this how it is supposed to work? Is there a setting I'm missing? This problem is compounding because the producer grades are not being reported to the consumer gradebook. When I run cron, these are the results: \n```text\nProcessing customized cron scripts ...Processing cron function for local_ltiprovider...\nRunning cron for ltiprovider\n Sync tool id 2 course id 5\nUser grade not send: grade = \nUser grade send failed: \n Sync tool id 3 course id 5\nSkipping user 13\nSkipping user 14\ndone. (20 dbqueries, 0.63 seconds)\ndone.\n\n\n\n\nAny help would be appreciated. Perhaps I am being too ambitious, but I was hoping to use this tool next week.\n\n\n\n\nHere is the info for my tools\n```\n Quiz: LTI Quiz Test d42dd4989cad6d7d1a843bb5e80df557 http://livegreat.us/moodle/local/ltiprovider/tool.php?id=2 Quiz: LTI Quiz Test2 ff061af4318fb8f16946fa57dcc3c644 http://livegreat.us/moodle/local/ltiprovider/tool.php?id=3",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://livegreat.us/moodle/theme/image.php/standardold/core/1356355178/t/delete",
            "http://livegreat.us/moodle/theme/image.php/standardold/core/1356355178/t/edit",
            "http://livegreat.us/moodle/theme/image.php/standardold/core/1356355178/t/hide"
          ],
          "Time": "Saturday, December 29, 2012, 2:33 AM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Jared, It seems that I am having the exact same issue. I can see the grades in the provider but the cron script does not push them to the consumer. Were you able to solve this issue? FWIW I have web services and all protocols enabled on both systems and they are both running locally with their own domain names, directories, and databases.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 17, 2013, 6:10 AM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Joshua, No, I am still waiting to hear back from anyone. This is a fantastic idea, I got very excited when I got it up and running. It would solve a problem I have where our school LMS (an LTI consumer) has a lot of good features that the students like and are used to, but also allows me to bring in the best of Moodle. I hope we get this worked out soon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 20, 2013, 11:02 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Did you find the solution? I'm having the same problem. greetings Erik",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 19, 2014, 6:35 PM",
          "AuthorName": "Erik van Leur",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1814122&course=5",
          "role": [
            "Picture of Erik van Leur"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Juan, I ran into a rather scary problem today. I set up a course in Moodle (2.4) as LTI Provider and invited different Moodle admins to connect to it from their Moodle sites. One person connected under a wrong identity (excuse my English). Let's call them Alice and Beth. They both have a Moodle site (version 2.2) with admin role hosted on the same server. Alice roamed to my Moodle course through external tool activity (LTI) at 16:08 and didn't logout according to Moodle's log. Later Beth tried to access the same way, but got authentified under Alice's name. Wrong identity! In the log, I see a second login (16:37) under Alice's name. No Beth user created. Both users come from different IP addresses. How can one connect under someone else's identity? Of course, they both connect with the same secret key. Any idea?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2013, 9:55 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "update We had a similar case yesterday with another user who was connected with MY identity on the provider Moodle course. And Beth tried again today and was still under Alice's identity. So it is not just a one time issue. My Moodle log showing a login when I was asleep last night.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink",
            "http://flizotte.ep.profweb.qc.ca/jing/pour_forum_moodle_LTI.png"
          ],
          "Time": "Thursday, February 14, 2013, 11:56 PM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Are these coming from one consumer system or from more than one consumer system?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 15, 2013, 1:22 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Charles, They connect from diffrent consumer Moodle sites and they all have the same key. I'm glad it's just a big demo of LTI's potential. François",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 15, 2013, 1:53 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Ah - Then this is likely a bug that I found and fixed in my version of the code. The problem is that they need different keys and code in the provider needs to differentiate the same user_id from different systems.  If you check the two accounts you will see that they have the same user_id value (i.e. primary key in the Moodle system). I will try to get the patches to Juan via github and come back here to report.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 15, 2013, 2:00 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "OK - I just checked in my changed and sent a pull request to Juan.  Here is my fixed code: https://github.com/csev/moodle-local_ltiprovider A key is that two Moodle consumers talking to one Moodle provider must use different keys - but can use the same secret.   The key is what \"name spaces\" the user accounts.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 15, 2013, 2:14 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Wow, I really appreciate. I'd like to share more information. My technical skills are limited. I'm just a power user. From my provider I got a URL and a shared secret. Then when I set my consumer, I logically filled these two fields. But it was not working. My provider doesn't generate a key. So I tried the shared secret as a key. And I got it to work! Am i just causing a mess? Am I missing something? Another important information: Pierre was able to connect under my name and published in a forum under my name. No account was generated for him in my provider Moodle. So I cannot see his ID. François",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://flizotte.ep.profweb.qc.ca/jing/lti_settings.png",
            "http://flizotte.ep.profweb.qc.ca/jing/lti_2.png",
            "http://flizotte.ep.profweb.qc.ca/jing/lti_3.png"
          ],
          "Time": "Friday, February 15, 2013, 2:48 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Setting the key and secret to the same thing works because the provider ignores the key.  What I have done (with my patched version above) when I put the same Moodle class into two Learning management systems is to use a *different* key for each one - you can also add a new LTI endpoint so you don't even share the secret between them.  Then the modified code adds the key to the user_id to make a gunique account name - and so we avoid logins where folks seem to stumble into the wrong identity. My code in the pull request to Juan has a compatibility mode so it keeps working with existing accounts that already have been created.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 16, 2013, 2:39 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi , Simply great work..! It works fine for me. My need is to access stuff in the provider, say a course, from consumer even when there is no internet connection. We can backup a course from the provider and restore it in the consuer. But this has to be done automatically. Is there a way to accomplish this task? Your help is highly appreciated. Thank you in advance..!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 21, 2013, 12:20 AM",
          "AuthorName": "Sandareka Wickramanayake",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1430865&course=5",
          "role": [
            "Picture of Sandareka Wickramanayake"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Is there a version recommended for Moodle 2.4.1 ? I tried the version listed in plugins but got errors on install about versions. Should I use the Git version instead?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 22, 2013, 11:25 PM",
          "AuthorName": "Michael O'Brien",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36312&course=5",
          "role": [
            "Picture of Michael O'Brien"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Any issue with Internet Explorer 9 runninf on win 7? I have a Moodle linked to another with LTI. It works fine with FF and Chrome but doesn't automatically login with IE.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 7, 2013, 3:53 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Juan, I have been using the LTI Provider tool and appreciate this contribution. I've noticed that, when sharing at the course level and accessing several courses as a student, multiple accounts are created (one per course). I was wondering if there is a way to group these under the same account. I do realize that conceptually, this system is keeping the different shared resources distinct from one another, but having one user would make certain information more meaningful. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 22, 2013, 2:31 AM",
          "AuthorName": "Brendan Rollinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1580794&course=5",
          "role": [
            "Picture of Brendan Rollinson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Provider: user grade send failed in 2.4.3+ (Build: 20130328)",
          "Text": "Hi all, User grade send failed in the following lti provider installation: ltiprovider version from git: 2011121706 moodle version: version  = 2012120303.03;  release  = 2.4.3+ (Build: 20130328) Tested on a hosted moodle and local install. Same ltiprovider version worked with the following moodle version: version  = 2012120300.00;   release  = 2.4 (Build: 20121203); The lti consumer is moodle 2.2 installation for testing with lti provider 2.4 (success) and 2.43 (failed). Did something got broken in 2.4.3+? The problem appears to be grademax being declared as undefined property in 2.4.3+. TIA for any help. Roel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 31, 2013, 9:52 AM",
          "AuthorName": "Roel Cantada",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=53280&course=5",
          "role": [
            "Picture of Roel Cantada"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider: user grade send failed in 2.4.3+ (Build: 20130328)",
          "Text": "I do not know if this is the correct solution to the undefined property error in line 208 of lib.php, but the error notice went away: } else { $grade = reset($grades->items[0]->grades); //appears to have suppressed error $grademax = floatval($grades->items[0]->grademax); //                                    $grademax = floatval($grade->item->grademax); $grade = $grade->grade; } Unfortunately although my local lti provider is successfully sending grades, the same installation in a vps is failing. Need to dig further. Roel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 2, 2013, 7:05 AM",
          "AuthorName": "Roel Cantada",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=53280&course=5",
          "role": [
            "Picture of Roel Cantada"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider: user grade send failed in 2.4.3+ (Build: 20130328)",
          "Text": "I haven't solved this yet, but it appears to be a problem with the way nginx-php-fpm had been set-up. It may be something with the location directive in nginx as the moodle is in a folder. The ones that I had reported the grades to work are in apache.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 14, 2013, 3:10 PM",
          "AuthorName": "Roel Cantada",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=53280&course=5",
          "role": [
            "Picture of Roel Cantada"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider: user grade send failed in 2.4.3+ (Build: 20130328)",
          "Text": "Make sure the Moodle LTI provider has the allow embedding checked.  Admin/Security/HTTP/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 14, 2013, 4:24 PM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider: user grade send failed in 2.4.3+ (Build: 20130328)",
          "Text": "We are experiencing the same 'User grade send failed' issue. We are using a slightly an older version of Moodle--2.4.1+ (Build: 20130208) on both LTI provider and consumer sites, which are both installed on a the same hosted server. The LTI Provider plugin version is the same as Roel's. On the provider Moodle site, we have a course with multiple Activities. Each Activity is represented by a single SCORM , which returns a grade. The \"Tool to be provided\" is set to \"Course\" in the LTI Provider Plug-in settings. Grades appear fine for students who are logged directly into the provider site. On the consumer site, we have created an External Tool Activity, which is configured to connect with the course on the provider. 'Web services' and 'Allow Frame Embedding' are enabled on both sites. We know cron jobs for both sites are running fine. Grades do NOT appear for students who are enrolled in the same course via the provider site. Can someone please help us determine the problem? Please let me know if you need our SCORM packages to troubleshoot this issue. Thanks in advance! Angelo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 19, 2013, 5:23 AM",
          "AuthorName": "Angelo Perera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1584233&course=5",
          "role": [
            "Picture of Angelo Perera"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider: user grade send failed in 2.4.3+ (Build: 20130328)",
          "Text": "About the grades sending back:\n\nFor testing what is happening: - In a course with grades, modify manually in the Grade Book any grade in any user in any activity. This is necessary because the system does not send back grades if they have not changed since the las synchronization - Then, execute manually in a browser the admin/cron.php script, notice that grades are sync hour by hour, so you may need modify this line $synctime = 60*60; to $synctime = 1; (the file to modify is local/ltiprovider/lib.php) - Copy all the information displayed in the browser (once the admin/cron.php finishes) related to LTI provider (starting with ... Running cron for ltiprovider) - Post a new message in this thread with the results of the cron job",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 23, 2013, 11:19 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider: user grade send failed in 2.4.3+ (Build: 20130328)",
          "Text": "Juan, I'm posting this cron output to help document what happens to prevent sending grades when running PHP in FCGI mode. As you said, \"it's a problem in a Moodle consumer side (external tool) in the function getallheaders.\" \n```text\nProcessing customized cron scripts ...Processing cron function for local_ltiprovider...\nRunning cron for ltiprovider\n Starting sync tool id 1 course id 2\n Completed sync tool id 1 course id 2 users=0 sent=0 errors=0\n Starting sync tool id 2 course id 3\n User grade send failed: <br />\n<b>Fatal error</b>:  Call to undefined function getallheaders() in <b>/nnnnnnnn/\nmoodle.thereitis.org/mod/lti/service.php\n</b> on line <b>36</b><br />\n\n User grade send failed: <br />\n<b>Fatal error</b>:  Call to undefined function getallheaders() in <b>/nnnnnnnn/\nmoodle.thereitis.org/mod/lti/service.php\n</b> on line <b>36</b><br />\n\n User grade send failed: <br />\n<b>Fatal error</b>:  Call to undefined function getallheaders() in <b>/nnnnnnnn/\nmoodle.thereitis.org/mod/lti/service.php\n</b> on line <b>36</b><br />\n\n Completed sync tool id 2 course id 3 users=9 sent=0 errors=3\n Starting sync tool id 3 course id 3\n Completed sync tool id 3 course id 3 users=1 sent=0 errors=0\ndone. (42 dbqueries, 0.72 seconds)\n```\n I saw at #MDL-40005 that you were able to create movement toward resolution. Thanks! ~Brendan note: my Moodle & plugin version stats are the ones given in my post below.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 10:17 PM",
          "AuthorName": "Brendan Lalor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1611963&course=5",
          "role": [
            "Picture of Brendan Lalor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider: user grade send failed in 2.4.3+ (Build: 20130328)",
          "Text": "Update: I switched from running PHP 5.3 in FastCGI mode to 5.4.x CGI (on DreamHost, if that matters). The errors in the cron output are the same.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 11:04 PM",
          "AuthorName": "Brendan Lalor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1611963&course=5",
          "role": [
            "Picture of Brendan Lalor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "If anyone is experiencing problem with the users to be automatically un-logged, sessions problems etc... you can apply this patch: https://github.com/jleyva/moodle-local_ltiprovider/pull/14/files It replaces the \"nologin\" auth method for a standar \"manual\" one I'm not going to integrate this feature because it's not backward compatible We are trying to get some funding (crowdfunding) for make improvements to the plugin, until this happens I can't expend so much time Sorry",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 8, 2013, 6:58 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan, Is the crowdfunding campaign running at the moment?  If so, where can we find it?  I'm sure that some of the people who have been participating in this thread will be willing to contribute - but we can't if we don't know where/how! -Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 9, 2013, 6:44 AM",
          "AuthorName": "Paul Nicholls",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1159203&course=5",
          "role": [
            "Picture of Paul Nicholls"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Seems that enabling this setting in the php.ini, fix the problem in some cases: allow_url_fopen = On Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 23, 2013, 11:50 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Also, it seems that if you are running PHP in FCGI mode or using a differente webserver that Apache , the grade service is not going to work, it's a problem in a Moodle consumer side (external tool) in the function getallheaders See: https://tracker.moodle.org/browse/MDL-40005",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 3:12 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Juan, until you pointed out I need the php setting \"allow_url_fopen = On\" I had the following cron error (using an instance of Moodle 2.5 as the consumer), which I include here to help document the problem: Processing customized cron scripts ...Processing cron function for local_ltiprovider... Running cron for ltiprovider Starting sync tool id 1 course id 2 Completed sync tool id 1 course id 2 users=0 sent=0 errors=0 Starting sync tool id 2 course id 3 Problem with http://moodle.thereitis.org/mod/lti/service.php , fopen( http://moodle.thereitis.org/mod/lti/service.php ): failed to open stream: no suitable wrapper could be found Problem with http://moodle.thereitis.org/mod/lti/service.php , fopen( http://moodle.thereitis.org/mod/lti/service.php ): failed to open stream: no suitable wrapper could be found Problem with http://moodle.thereitis.org/mod/lti/service.php , fopen( http://moodle.thereitis.org/mod/lti/service.php ): failed to open stream: no suitable wrapper could be found Problem with http://test.lts.ie/25/moodle/mod/lti/service.php , fopen( http://test.lts.ie/25/moodle/mod/lti/service.php ): failed to open stream: no suitable wrapper could be found Completed sync tool id 2 course id 3 users=9 sent=0 errors=4 Starting sync tool id 3 course id 3 Completed sync tool id 3 course id 3 users=1 sent=0 errors=0 done. (42 dbqueries, 0.15 seconds) Thanks for helping navigate past this error. ~Brendan note: my Moodle & plugin version stats are the ones given in my post below.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 10:10 PM",
          "AuthorName": "Brendan Lalor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1611963&course=5",
          "role": [
            "Picture of Brendan Lalor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Juan & community: Thanks for the revolutionary plugin! My issue: The Provider stores quiz grades that I cannot manage to push to the Consumer (Moodle 2.5+ build: 20130627). Some stats: I'm using lti_provider 2.3 ( version = 2011121707) in my course Provider Moodle (Moodle 2.4.4+ build: 20130627). I've got web services activated and cron running on both Moodles. Am I having these grade woes because I am not using a Consumer Key? I am not sure WHETHER I should be offering a Consumer Key from my Provider, and if so, I am not sure HOW to do this (which I mention because of the docs that say \"The 'tool provider'... will issue you with this key. If you are merely linking to a tool with no secure access or gradebook sharing then you won't need a consumer key.\") I do want to push grades back to the Consumer. H-h-h- how ??? (By the way, I have put some random numbers in the Consumer Key field of the \"External Tool\" activity module on my Consumer Moodle. But that's just because when I leave it blank, I get the notice on an otherwise white screen: \" Missing oauth_consumer_key in request \". Not sure why that's necessarily an error. But I mention it on the chance that it matters.) Thanks very much for your help. Very much, ~Brendan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2013, 5:26 AM",
          "AuthorName": "Brendan Lalor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1611963&course=5",
          "role": [
            "Picture of Brendan Lalor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I was receiving the \" Missing oauth_consumer_key in request \" error, and did a web search. Luckily I found the solution in this thread: (By the way, I have put some random numbers in the Consumer Key field of the \"External Tool\" activity module on my Consumer Moodle. But that's just because when I leave it blank, I get the notice on an otherwise white screen: \" Missing oauth_consumer_key in request \". Not sure why that's necessarily an error. But I mention it on the chance that it matters.) ... and it was posted by me , a little over a year ago!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 24, 2014, 1:03 AM",
          "AuthorName": "Brendan Lalor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1611963&course=5",
          "role": [
            "Picture of Brendan Lalor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Can I ask how you fixed this.  I am setting up 2 moodle sites, I've got the LTI provider recording quiz results from the child site but I can't get the grades sent to the child site for access by the student there? I have no consumer key set which I assume is the problem but how do I set one up on the provider site.  I have full access to both sites via ftp etc. Thanks for the help in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 21, 2015, 11:36 PM",
          "AuthorName": "David Price",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=143345&course=5",
          "role": [
            "Picture of David Price"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "You don't need to setup a key in the provider site, the key is like an unique identifier send by the consumer. Most of the time if you don't receive the grades in the consumer side is because a communication problem between servers (in some cases is the same server). Grades are sent using an internal HTTP requests via fopen so it's hard to debug what is happening",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 25, 2015, 6:07 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan Leyva, Thank you for developing this plugin. I am new to Moodle and php, and I was experiencing the problem where the grades are not sent back to consumer. Here is something that I found when looking into the problem. Below is the cron output produced on provider side: \n```text\nProcessing customized cron scripts ...Processing cron function for local_ltiprovider...\n... started 18:46:18. Current memory use 46MB.\nRunning cron for ltiprovider\nDEBUGGING: Tools are located as local_ltiprovider. Sendgrades enabled.\nStarting sync tool id 1 course id 2\nDEBUGGING: Users are found as local_ltiprovider_user.\nDEBUGGING: Tell me who the user is 1\nDEBUGGING: Tell me what the source-id is {\"data\":{\"instanceid\":\"3\",\"userid\":\"27\",\"launchid\":167942083},\"hash\":\"50ac51638a9c6ece834199a8520a88a9f73c1a33d8bd567824cd7c4b077daaa3\"}\nDEBUGGING: Tell me what the service-url is \nhttp://www.nectarlearn.com/lmsbackup/mod/lti/service.php\n\nDEBUGGING: Tell me what the cusumer-key is c70d26795dfd91d3866ebc278b0a5e1b\nDEBUGGING: Tell me what the consumer-secret is c70d26795dfd91d3866ebc278b0a5e1b\nDEBUGGING: The grade (COURSE) of user 1 is 100.00000.\nDEBUGGING IN OAuthBody: context is Resource id #849\nDEBUGGING IN OAuthBody: endpoint \nhttp://www.nectarlearn.com/lmsbackup/mod/lti/service.php\n\nIN SE User grade send failed: RVICE!!!!!!!!\n```\n Looks like the user information and grade are found and collected on the provider side. When it hits the line in lib.php: Where it is directed to OAuthBody.php: The $endpoint here is /mod/lti/service.php on the consumer side. From the cron log, it seems this file was not thoroughly executed. My message \"IN SERVICE!!!\" (in service.php on the consumer side) was cut into two pieces by the failing message: IN SE User grade send failed: RVICE!!!!!!!! I think this means on the provider side, the process has already proceeded to the next stage before $reponse is filled with any  actual content. Could this be the web service issue? I might be going in a wrong direction. Please correct me if that is the case. Thanks, Francis",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1024576/response.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1024576/fpon.png"
          ],
          "Time": "Thursday, August 29, 2013, 3:13 AM",
          "AuthorName": "Francis Sun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1642397&course=5",
          "role": [
            "Picture of Francis Sun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan, thanks for all this work ! i'm making local follow ups to solve the following requirements : Handle automated groups/groupement generation based on LTI customer identification to ensure insulation of users from several customer entities Add a complete web service layer to create/update/delete LTI courses or activities \"on demand\" i will try to reintegrate all your upgoing changes to keep implementation as compatible as possible.... Cheers Valery",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 24, 2013, 3:11 AM",
          "AuthorName": "Valery Fremaux",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1487618&course=5",
          "role": [
            "Picture of Valery Fremaux",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi, the current version in the GIT repository can handle the auto creation of LTI courses \"on demand\" The first point seems also very interesting Please, fork the current version in GIT in order to work so is the one with the last features Thanks for your contributions! Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 26, 2013, 10:30 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "At the end of a quiz, my students are getting an error while submitting it, and the stack trace starts near the ltiprovider plugin. Is it related? (Image attached): Coding error detected, it must be fixed by a programmer: Cannot require a CSS file after <head> has been printed. Debug info: https://philosophy.thereitis.org/open/local/ltiprovider/styles.php?id=1 Error code: codingerror Stack trace: line 877 of /lib/outputrequirementslib.php: coding_exception thrown line 111 of /local/ltiprovider/lib.php: call to page_requirements_manager->css() line 1281 of /lib/navigationlib.php: call to local_ltiprovider_extends_navigation() line 3000 of /lib/navigationlib.php: call to global_navigation->initialise() line 3048 of /lib/navigationlib.php: call to navbar->has_items() line 58 of /theme/bootstrapbase/renderers/core_renderer.php: call to navbar->get_items() line 118 of /theme/clean/layout/columns3.php: call to theme_bootstrapbase_core_renderer->navbar() line 866 of /lib/outputrenderers.php: call to include() line 796 of /lib/outputrenderers.php: call to core_renderer->render_page_layout() line ? of unknownfile: call to core_renderer->header() line 240 of /lib/outputrenderers.php: call to call_user_func_array() line 565 of /mod/quiz/renderer.php: call to plugin_renderer_base->__call() line 565 of /mod/quiz/renderer.php: call to mod_quiz_renderer->header() line 99 of /mod/quiz/summary.php: call to mod_quiz_renderer->summary_page() line 111 of /local/ltiprovider/lib.php: call to page_requirements_manager->css() starts with '$PAGE->' // Custom CSS if (isset($SESSION->ltiprovider)) { $PAGE->requires->css(new moodle_url('/local/ltiprovider/styles.php', array('id' => $SESSION->ltiprovider->id))); } Ideas? Thanks for any help, as I'd really like to get the quizzing back in operation! ~Brendan",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/brokenfile.php#/1708139/user/draft/327066674/Screenshot%20from%202014-02-10%20102139.png"
          ],
          "Time": "Monday, February 10, 2014, 11:42 PM",
          "AuthorName": "Brendan Lalor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1611963&course=5",
          "role": [
            "Picture of Brendan Lalor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "That code in /local/ltiprovider/lib.php seems like a really bad idea in so many ways. PHP script that outputs the CSS - well, because of the way LTI works I can see that might be necessary, but it is certainly not something you would want to do. Adding CSS to the page in a place like local_ltiprovider_extends_navigation that is just meant to be about defining the navigation structure, there must be a better way? ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 11, 2014, 3:16 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "By the way, when I /* comment out line 111 */ the error vanishes. And there is nothing reported even in Developer \"Debug Messages\" mode. Thanks, Tim.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 11, 2014, 11:31 AM",
          "AuthorName": "Brendan Lalor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1611963&course=5",
          "role": [
            "Picture of Brendan Lalor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi, this is a bug I noticed a few days ago, affecting only some themes. Some Moodle themes sends HTML before the whole navigation object is loaded (navigation is loaded prior to $OUTPUT->header()) so I know it's not a \"clean hack\" but for local themes is the only way to load CSS dinamically This is the reason I suggested additional hooks for local plugins (including handling renderers) In any case, I'm  going to include a patch in the code for adding only CSS if the page heading was not send",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 11, 2014, 4:33 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Thank you: that's good to hear! Updates won't cause breakdowns. I hear what you're saying about adding flexibility elsewhere in the software to accommodate what you're doing here. The functionality of this plugin seems so important to me that if that's \"the right way\" to make an LTI Provider, then it's a no-brainer: do it! Bring on the additional hooks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 11, 2014, 9:37 PM",
          "AuthorName": "Brendan Lalor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1611963&course=5",
          "role": [
            "Picture of Brendan Lalor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Header redirect error",
          "Text": "hi im getting the same error. \"Cant redirect while printing page header\" code. Any solutions ? line 754 of /lib/outputrenderers.php: coding_exception thrown line 2592 of /lib/weblib.php: call to core_renderer->redirect_message() line 96 of /local/ltiprovider/lib.php: call to redirect() line 1300 of /lib/navigationlib.php: call to local_ltiprovider_extends_navigation() line 222 of /blocks/navigation/block_navigation.php: call to global_navigation->initialise() line 178 of /blocks/navigation/block_navigation.php: call to block_navigation->get_navigation() line 294 of /blocks/moodleblock.class.php: call to block_navigation->get_content() line 236 of /blocks/moodleblock.class.php: call to block_base->formatted_contents() line 993 of /lib/blocklib.php: call to block_base->get_content_for_output() line 1045 of /lib/blocklib.php: call to block_manager->create_block_contents() line 361 of /lib/outputrenderers.php: call to block_manager->ensure_content_created() line 45 of /theme/clean/layout/columns3.php: call to core_renderer->standard_head_html() line 877 of /lib/outputrenderers.php: call to include() line 807 of /lib/outputrenderers.php: call to core_renderer->render_page_layout() line 101 of /index.php: call to core_renderer->header()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 7, 2014, 1:25 PM",
          "AuthorName": "mike thiem",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=207790&course=5",
          "role": [
            "Picture of mike thiem"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan ! am working around your LT!I Provider for some projects where such \"object providing\" could be a great architecture. This is a feature suggestion (i did implement it as a proto) Our need was to integrate some group/gouping generation function that is : when students come from a remote LTI customer, we need ensuring insulation of populations comming from distinct institutions. The enhancement uses the customer key to create (and automatically bind incoming user to) groups in the LTI published course, so we can ensure with a separated groups policy that these distinct incommers will not meet. happy to share if valuable... Valery.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 14, 2014, 2:54 AM",
          "AuthorName": "Valery Fremaux",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1487618&course=5",
          "role": [
            "Picture of Valery Fremaux",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Valery, Can you provide info on how you did this? This is exactly what I need as well... Hopefully Juan can implement this to the functionality of the LTI-provider, but in the mean time, if you can help me with your solution, that would be wonderfull. The providing Moodle is a 2.6 version btw....... thank you in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 5, 2014, 5:13 PM",
          "AuthorName": "Daniel Dubbeldam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1719465&course=5",
          "role": [
            "Picture of Daniel Dubbeldam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "For the time being we changed theme, at course level. The theme afterburner doesn't seem to trigger the 'CSS error'. Commenting out the navbar() function of our theme (in lib.php) also gets rid of the error. However it brings some rendering issues. We'll watch this space for further update.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 15, 2015, 8:56 PM",
          "AuthorName": "Sam Moulem",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1828650&course=5",
          "role": [
            "Picture of Sam Moulem"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Thanks for the tip; that's valuable info.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 15, 2015, 8:53 PM",
          "AuthorName": "Sam Moulem",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1828650&course=5",
          "role": [
            "Picture of Sam Moulem"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Juan, I'm having a little trouble with your plugin. I'm trying to use it to provide SCORM packages to Canvas. When I try add the external tool in Canvas, it displays the error message, \"Invalid xml syntax.\" Has anyone else every had this problem? If so, how do you get around it? Thanks, Martin Williams",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 29, 2014, 12:04 AM",
          "AuthorName": "Martin Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1735853&course=5",
          "role": [
            "Picture of Martin Williams"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hey all, I'm really hoping someone can help me out. I'm having a problem with using the LTI system to get courses available from one Moodle course to another. Currently, I have it all installed and at face value it all works. The problem comes when a student clicks on an external tool link to access the remote course, and it will load up the page but then just hang. It simply displays a blank screen (with the main site's banner), but the frame is empty. Eventually, it will load up a page from the remote site at the login page, with the words \"Session has timed out\" displayed Back at the remote site, it does actually log me out of any account I'm currently using. Also, the logs show that a user is logging in (via \"web\") but it doesn't mention that they log out. So I know that authentication is working, because of that log, and also new members are made when remotely using a different user. Pretty much the only setting I've changed is so that the default auth method is \"Manual\" I'm not sure if people can try it out, but the URL is: http://www.tabornsw.edu.au/moodle/local/ltiprovider/tool.php?id=2 The secret key thing is: 50138d54acb4706e12275c134ad104ba Can anyone help? Moodle is saying they are logging in, but then it just hangs and the session times out?! I've spent hours on this trying to fix it",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorgcleaned_moodleorg/core/1401815022/s/sad"
          ],
          "Time": "Thursday, June 5, 2014, 7:21 AM",
          "AuthorName": "Stuart Blake",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1800879&course=5",
          "role": [
            "Picture of Stuart Blake"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Juan, Thanks for an excellent plugin. I'm using it to perform some research on remote access to activities between Moodle sites. I'm coming across a problem which might be how I have things setup or not. Perhaps someone could guide me here. Two Moodle sites running 2.6. Site T - The provider of a Database activity using LTI Provider plugin. Site Q - The site which \"consumes\" the activity using standard Moodle External Tool. The issue: Students access the Database from Site Q. They begin entering their data. It takes some time. When they finally click \"save\" to save their entry, the student is then sent to Site T's login page and their entry is discarded. I've timed it using a timer. Entries can be saved within 6 minutes. After 6 minutes, entries cannot be saved. My question is: where should I look to continue discovering the reason for this timeout? I've checked PHP.ini and looked at USER TTL which was set for 6 minutes. I added more time and restarted apache, but no joy. Still 6 minutes timeout. Any thoughts? Any help is greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 3, 2014, 11:08 AM",
          "AuthorName": "Thom Rawson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821225&course=5",
          "role": [
            "Picture of Thom Rawson",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Ok, an update: In the LTI Provider settings if you change the authentication method from \"nologin\" to \"manual\" then the timeout issues seem to go away. I don't quite understand why nologin has some kind of timeout associated with it, but I'll guess there is a good reason. If anyone understands that aspect a little more, please educate me via link, etc. There is one other thing you need to do before the fix is completed, however. If you already had users access the External Tool (Provided Moodle LTI object being consumed) with your default authentication method being \"nologin\", those LTI users will continue to have that method even when they re-access the tool. In other words, they will still experience the timeout that I mentioned above. Luckily, there are a couple ways to work around this issue that I've found. 1. Delete all the LTI users created with \"nologin\" authentication types. Moodle makes this easy using filters and bulk user actions. 2. Manually edit each LTI created user and change their authentication type from \"nologin\" to \"manual\" - this is what I did since I only had a dozen or so students working on that particular activity. For my research I'm able to have access to both systems in this situation, but it could be troublesome for people accessing LTI objects without that kind of access. One other point: I'm not sure if having \"manual\" as the authentication type meets security requirements for Moodle sites everywhere. Having that manual account in your Moodle could be a potential issue if the user happened to try and log in directly to the remote Moodle site which was providing the LTI object. This might be impossible because the user id is not published to the remote user and has something like \"ltiuser-blah-blah-blah\" as the id. However, if someone knows the way Moodle LTI Provider makes user accounts and passwords, it might be an issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 14, 2014, 6:31 PM",
          "AuthorName": "Thom Rawson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821225&course=5",
          "role": [
            "Picture of Thom Rawson",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "When User A takes Quiz 1 in the consumer, a new user for User A is created on the Producer (that is what I would expect to happen). When User A takes Quiz 2 in the Consumer, a SECOND new user for User A is created on the Producer. I have done this with three tools now and have THREE user accounts for User A on the Producer. In the grade book, there are three User As . Is that what is supposed to happen? Also, does grade pass back work with Workshop? Workshop creates two columns in the gradebook for one assignment.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 15, 2014, 8:08 AM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "It looks like grade pass back works for workshop, but only  sends one column of data back. How can I get it to either send two columns back or merge the data into one column?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 15, 2014, 9:01 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hello, I just want to write to say that this plugin has been extremely valuable to our organization.  Thank you very much for your contribution. Is there a planned release that is compatible with Moodle 2.7? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 3, 2014, 3:03 AM",
          "AuthorName": "Toan Tran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=938509&course=5",
          "role": [
            "Picture of Toan Tran"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Forum users not able to reply",
          "Text": "I have set up a class in another LMS (not Moodle) with a link to a Moodle site running version 2.7. When a user goes into from the LMS into a Moodle forum they can make a new post without any problem.  However, if a user wants to reply, they are able to compose it, but when they try to post, a message pops up that says that a guest cannot post and they are presented with a regular Moodle log in screen. I was able to duplicate this on my own, even though I am the course teacher.  Then I went directly to the Moodle site and logged in.  I then logged out of Moodle and then accessed Moodle again from the external link in the other LMS.  This time I was able to post to the forum without any problems. Any ideas about why this happened?  Should I simply say to the student to try again? Confused. CAB",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 10, 2014, 9:44 AM",
          "AuthorName": "Clinton Branscombe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=74801&course=5",
          "role": [
            "Picture of Clinton Branscombe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Forum users not able to reply",
          "Text": "Clinton, check Thom Rawson's reply in this thread on the 14th July. I think it will solve the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 10, 2014, 12:42 PM",
          "AuthorName": "Justin Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=14534&course=5",
          "role": [
            "Picture of Justin Hunt",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi, I am a first Level Support admin for a University Moodle platform which has very limited plugins, thus restricting the functionality of the System. Unfortunately I am not able to alter any of the Network Settings, however, I have my own Moodle platform which is bristling with plugins, and so the idea to utilise the LTI plugin came to mind. Unfortunately it didn't work and so thus I posted a question which Mary very kindly answered and suggested the LTI Provider plugin. Sadly this doesn't seem to work either. Each time I try to make the link it asks me to Login to the host Moodle which I was hoping to avoid. Can anyone suggest any thoughts on where I may be going wrong please. Page 1. Page 2",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1164391/LTIP.PNG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1164391/LTI-1.PNG",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1164391/LTI-2.PNG"
          ],
          "Time": "Thursday, September 18, 2014, 11:15 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "We are trying to use this to allow users in a set of courses (let's call them A1, A2, A3, etc.) to access some common resources in a separate course (let's call it B) on the same Moodle server . The links I have set up allow the user to go from course A1, A2, etc. to course B, but then the user is logged out of their account that has permissions in course A1, because now they are the pseudo-user in course B. The new user account displays the same name in the header, so it took me a while to realize that this is what's going on. Is there a way to re-use the same user account in the Provider course through LTI? Or do we have to host the resources on a separate Moodle instance? We would rather be able to keep all the user actions under the same user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 27, 2014, 2:44 AM",
          "AuthorName": "Elizabeth Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1413178&course=5",
          "role": [
            "Picture of Elizabeth Dalton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Juan, I hope you know I love you, because what I am about to say will seem unkind. The LTI Provider is a terrible mess. I can say this after using it in a live course this semester. At first it seems OK, but in practical experience, it is just awful. (sorry for the harsh words) I have added 7 LTI Workshops and imported them individually into Canvas. Each student gets a new user in Moodle for EACH assignment. That makes for 800+ users! There is a bug with the manual enrolments so that the time zone is a mess and students cannot turn in assignments within six hours of the due time. Grade passback only works for about 10% of the users. If it failed 100% I would think it was a chron issue, but only a few scores make it back. Work shop has two columns but grade passback only sends one score. With 7 rows for each user there is no way to know which score goes with which row, so if I need to enter a score by hand, there is no way to know which one it is. So, I don't mean to sound unkind. But I thought the community should be aware of my experience. I would love if someone would just explain to me that this is user error and that just do it different.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 18, 2014, 11:14 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hello there, first of all, sorry for not being able to offer a good/continuos support of the plugin, as you may know I did that plugin just for fun, thinking that it will benefit the community, but maintaining this types of plugin takes time and, unfortunately, I don't have two much free/spare time. Regarding Jared comments: - Do not worry for your rant, I understand your frustration - Different students account: Usernames are created in the way suggested by the LTI guys, using a combination of consumer_key + user_id. Maybe you should use the same consumer key in all your activities. The consumer_key is like a prefix for indicating a consumer site. - Time zone: The default time zone for students is the local time configured in the server. I don't know exactly what problem are you having. This can be improved in the LTI provider side but adding new configuration settings. - Grade passback: Notice that this may fails if the remote server has downtimes, connection problems, etc... The grade passback is a direct server communication (the server where moodle is installed and the remote server) an invalid configuration, networks problems, etc.. may affect - Workshop grades: The current LTI specification doesn't support multiple grades Some final thoughts. Moodle is a very complex application with multiple features, configurations, settings, etc... Creating a LTI Provider tool is very complex since you need to add multiple configuration settings for handling all possible use cases. I tried my best and I've been looking for funding to improve it and fixing bugs. I'm thinking in starting multiple crowdfunding campaigns in order to fund all the plugins I made (configurable reports, jmail, lti provider...), someone suggest me to offer anual subscription for covering plugins upgrade and maintenance. BTW , I forgot to mention that you can always contract professional support to Moodle partners",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 19, 2014, 4:40 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Thanks for not taking offence Juan, Is the consumer key and the shared secret the same thing?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2014, 11:09 AM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Also, is there a way to restart the grade passback so I don't have to copy it by hand?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 25, 2014, 9:27 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Sorry for my late response, I didn't receive any notification of this message. The consumer key is the unique id of your remote site, note that different sites can share the same resources, the consumer key is like a \"prefix\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 5, 2014, 6:56 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Thank you Juan! Changing the consumer key appears to fix the multiple users issue.  I let you know about the other things.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 26, 2014, 9:57 PM",
          "AuthorName": "Jared Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582516&course=5",
          "role": [
            "Picture of Jared Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "hello First, thank you for this useful tool. I'm starting to develop a mobile application that needs LTI . I have already installed LTI . This works perfectly , and I managed to share files on a moodle to another. To further develop the application , I need to : * Once installed my webService , it receives from Moodle , the request of use. * then Moodle, sends the token . ** I need my webService print this token into a html file. ?? Can you tell me where I can start , or that I need? thank you very much",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 5, 2014, 6:17 PM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Great ! I was looking exactly the same. I am inspiring on this website (spanish ) : https://moodle.org/mod/forum/discuss.php?d=118669#p520456 I had thought : 1) Go to the block administration, security, policies, and check the box to force authentication. 2) Then, using PHP, I want to create a FORM , do this: <form action=\"tu_moodle/login/index.php\" method=\"post\" id=\"login\"> <input class=\"input\" type=\"text\" name=\"username\" id=\"username\" value=\"\" /> <input class=\"input\" type=\"password\" name=\"password\" id=\"password\" value=\"\" /> </form> <input name=\"submit\" type=\"submit\"  value=\"Entrar\" /> Can anyone tell me if I'm doing well ? My question is : Is this method is valid for LTI ? Or is it for something more generic ? Thank you very much , I appreciate your answers because I totally lost .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 7, 2014, 6:57 PM",
          "AuthorName": "Raul Santos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1891222&course=5",
          "role": [
            "Picture of Raul Santos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "hello Raul I 'm also thinking the same method as you. On the internet , I see that talk about OAUTH and maybe your method is too generic. Have you checked if it works?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 3, 2015, 1:21 AM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi I am experimenting with my own LTI provider that will communicate with Moodle. I'm trying to send a GRADE to Moodle. Moodle sends to my provider, the following information: lis_result_sourcedid ={\" data \":{\" instanceid \":\"12\",\" userid \":\"2\",\" launchid \":239445611},\" hash \":\"9b483fd22cfbfb2bb5d3de957258736c543900470eb54acab15aeda2c0263755\"} Using POX and XML , what information\nshould I include as .$source. ? <replaceResultRequest> <resultRecord> <sourcedGUID> <sourcedId>' .$source. '</sourcedId> </sourcedGUID> <result> <resultScore> <language>en-us</language> <textString>'.$grade.'</textString> </resultScore> </result> </resultRecord> </replaceResultRequest> Should I send full \"lis_result_sourcedid\" ?  I.e.:\n{.............................} Just the \"data\"? I.e._ { \" data \":{...}.........} Just the \"instanceid\"? Just the \"launchid\"? Just the \"hash\"? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 28, 2015, 1:26 AM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I've already solved. It was a problem to pass the lis_result_sourceid by POST. This contains invalid characters in a URL. I 've fixed it using urlencode() and urldecode ().",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 29, 2015, 2:24 AM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi Garcia, I was just following the thread on lis_result_source_id issue, I am also facing the same problem where in lis_result_source_id comes with 3 different values as in your earlier post. What is the fix for the problem?  Can you help here.? Thanks BK",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 10, 2015, 11:09 PM",
          "AuthorName": "Bharath Rengan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1948639&course=5",
          "role": [
            "Picture of Bharath Rengan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "How to get l is_result_sourceid for all students? my question here https://moodle.org/mod/forum/discuss.php?d=336209 do you have idea how to do it? Or any other way? thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 16, 2016, 4:15 AM",
          "AuthorName": "nva nva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106940&course=5",
          "role": [
            "Picture of nva nva"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider - zero score not sent",
          "Text": "Hi, That's a brilliant plugin and we are testing its features between two Moodle installations ( 2.8.5). However it seems when candidates scores 0, getting all questions wrong, the grade/score is not sent back by the LTI provider. It seems the pluging send only grades greater than zero in ltiprovider/lib.php (line 267 in our version): if ($grade > 0 and $grade <= $grademax) { $float_grade = $grade / $grademax; $body = local_ltiprovider_create_service_body($user->sourceid, $float_grade); We have candidates that get all questions wrong and therefore score zero; which is a valid grade. Am I correct in my assumption? Will it be addressed? Thanks again, Sam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 15, 2015, 9:20 PM",
          "AuthorName": "Sam Moulem",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1828650&course=5",
          "role": [
            "Picture of Sam Moulem"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider - zero score not sent",
          "Text": "Hi, yes, you are right. I fixed it so now zero grades are send back Changes are in github, I will publish a new version of the LTI provider plugin soon Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 5:26 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider - zero score not sent",
          "Text": "Thanks, that's fantastic! I'll have a look .",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, August 6, 2015, 3:31 AM",
          "AuthorName": "Sam Moulem",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1828650&course=5",
          "role": [
            "Picture of Sam Moulem"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Moodle 2.9 compatible?",
          "Text": "Hi Juan, Is your LTI Provider plugin compatible with Moodle 2.9?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 11, 2015, 2:01 AM",
          "AuthorName": "Rob Emenecker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1963063&course=5",
          "role": [
            "Picture of Rob Emenecker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.9 compatible?",
          "Text": "When attempting to add a course via the LTI Provider link in the course admin and then clicking Add, I receive the following error: Coding error detected, it must be fixed by a programmer: textlib_get_instance() can not be used any more, please use core_text::functioname() instead.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 11, 2015, 3:31 AM",
          "AuthorName": "Rob Emenecker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1963063&course=5",
          "role": [
            "Picture of Rob Emenecker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I just updated the plugin to work with Moodle 2.9 (it includes several additional bug fixes) https://moodle.org/plugins/pluginversion.php?id=9345",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 19, 2015, 12:09 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi, I just uploaded a new version of the plugin compatible with Moodle 3.0 https://moodle.org/plugins/pluginversion.php?id=10423 Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 1, 2016, 11:10 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi all, I am new to using this plugin. I have the Provider plugin located on a Moodle 3.0.2 I have the consumer (External Tool) on a Moodle 2.8.7 I have been able to get a student to leave the 2.8 site and complete a quiz in the Moodle 3.0 site. The grade has been recorded in the Moodle 3.0 grade book. That said I have been unable to get the grade to be sent back to the moodle 2.8 site. I have ticked the \"send grades back...\" setting. Could someone suggest a change that will return the student grades to the 2.8 site? Are there any instructions on its use as I seem to only find bits within this forum? Hope you can assist. Cheers Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 16, 2016, 1:50 PM",
          "AuthorName": "Mark Whitington",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=68359&course=5",
          "role": [
            "Picture of Mark Whitington"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Provider question",
          "Text": "Dear Juan, Thanks for creating this great plugin.  A question: Is it possible to configure the plugin (via Moodle settings) so that when a student whose enrollment has expired tries to access the course via the external link, he cannot actually get into the course?  We have a need for this type of feature, but I can't seem to find the right settings combination for it.  We are using the \"enrollment duration\" setting to give students 60 days of access when they first click on the external link.  However, on day 61, they can still access the course, even though their enrollment has expired. Thanks so much, Justina Torres",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 12, 2016, 4:46 AM",
          "AuthorName": "Justina Torres",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1152868&course=5",
          "role": [
            "Picture of Justina Torres"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider question",
          "Text": "Juan, An update.  I did some more testing on our Moodle site, and it was actually a setting in the student role that was causing this problem.  It is now working correctly. Thanks, Justina Torres",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 12, 2016, 11:28 PM",
          "AuthorName": "Justina Torres",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1152868&course=5",
          "role": [
            "Picture of Justina Torres"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Provider: no sso",
          "Text": "I am testing the great LTI on two Moodle 2.4 servers. Both consumer and producer are Moodles, In the consumer Moodle I stuck with the login screen of the producer Moodle. I can see that the new account is made in the course, but still the loginscreen appears, sso does not work. I am using the standard settings. Any idea?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 13, 2016, 4:07 AM",
          "AuthorName": "jj v",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397379&course=5",
          "role": [
            "Picture of jj v"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider registration",
          "Text": "Hi Jaun, Can you please explain me how to register and use this LTI provider tool with with global secret Key. Thanks Sagar",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1339672/provider_registration%20%282%29.png"
          ],
          "Time": "Wednesday, May 4, 2016, 4:51 PM",
          "AuthorName": "Sagar Rajput",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2084657&course=5",
          "role": [
            "Picture of Sagar Rajput"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hi! I've been given the task to write an LTI consumer in Python+JavaScript that connects to Moodle. I have installed your plugin on our Moodle test server and it works beautifully. Our home system needs to be able to get the ANSWERS of the students back to our own system. Is this possible using your plugin? I'm not 100% certain about the details of LTI and what version I might need - or if I need custom parameters for this. I have asked and unfortunately getting just the grades back is not enough for our uses, since we want to be able to look at the process the student went through to get to the right answer. I know one can go into Moodle and look at the answer attempts, but we need to integrate the answers into our own system too without Moodle showing up. If your plugin supports this behavior, I will jump up and down in joy since many problems have been solved that would have involved hacking with JavaScript and IFRAMEs. Otherwise I will need to look further. -- Pekka, from http://www.jyu.fi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 19, 2016, 3:46 PM",
          "AuthorName": "Pekka Kasa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2107643&course=5",
          "role": [
            "Picture of Pekka Kasa"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "I'm not totally sure and could (easily) be wrong, but I don't think its an issue of whether Moodle supports this, but whether the LTI specification does, given the wide range of possible question types in a Moodle quiz. You may be better off looking at an api/webservice that would allow you to draw off the quiz responses directly from the database?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 19, 2016, 4:34 PM",
          "AuthorName": "Richard Oelmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=480148&course=5",
          "role": [
            "Picture of Richard Oelmann",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Hello Juan, I am using Moodle 3.0.3 version. I have installed this plugin, as per the context here \" https://docs.moodle.org/30/en/LTI_Provider \", i have followed the instructions. A new link called \"LTI Provider\" is shown in the course navigation block. But when I clicked on it, it is showing 500 internal error page. Please help me on moving forward. Thanks Sricharan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 12, 2017, 1:20 PM",
          "AuthorName": "Charan Sri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2143800&course=5",
          "role": [
            "Picture of Charan Sri"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New contrib: LTI Provider",
          "Text": "Is there a migration path from this plugin to the \"Publish as LTI tool\" framework described at https://docs.moodle.org/en/Publish_as_LTI_tool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 7, 2018, 6:24 AM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 360196,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360196",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Open Source LTI Book Publishing Tool that can use H5P in content",
          "Text": "There is a lot of talk and movement towards OER resources for both consuming and producing.  Back in 2013 we were intrigued with the potential of a wordpress plugin called Pressbooks which allowed for collaborative authoring with the ability to export as ePub, PDF, MOBI, and other formats.  What we did that was unique was utilize LTI to integrate it as a tool for Moodle. By setting up Wordpress with the LTI plugin you can create a fully integrated book publishing tool with Moodle. Pressbooks has come a long way since 2013.  It is a much smoother and refined user experience now.  I am hopeful that we will get teachers and students making short stories, lessons, worksheets, and other resources that can be shared. What I find really exciting is the inclusion of H5P within the content.  We can now generate interactive books and resources.  While the H5P doesn't transfer to epub or PDF yet, there seems to be acknowledgement from Pressbooks that they should work on a way to include it somehow.  By linking to the web version of the book you can get all the interactions and rich content. Here is how we implemented it with our Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2017, 8:31 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Open Source LTI Book Publishing Tool that can use H5P in content",
          "Text": "Great to hear how people are using and enthusing about the LTI tools. I have started getting into it lately and love it!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 20, 2017, 10:22 AM",
          "AuthorName": "Bruce Herbert",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2223786&course=5",
          "role": [
            "Picture of Bruce Herbert"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Open Source LTI Book Publishing Tool that can use H5P in content",
          "Text": "Amazingly useful, thank you for sharing!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 21, 2017, 5:44 AM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Open Source LTI Book Publishing Tool that can use H5P in content",
          "Text": "Hey Chris, I've been playing with LTI connections between Moodle and Pressbooks like you have. The behavior that I am getting, is that when I create that LTI connection with Moodle, it creates a new pressbooks ebook for that connection everytime. What I want is to develop an ebook in pressbooks first, and then connect that ebook via LTI to a Moodle course. Are either of the two plugins that you played with able to connect that existing pressbooks ebook, to a new LTI connection? The use case for us is using open source textbooks, but a faculty member wants to use 90% of the original content, and maybe customize a little bit, or to pull information from multiple OER resources into one course textbook. That text will be prepared and ready far earlier than the Moodle course shell, and they want to be able to easily use that content again without having to recopy it. They want students to be able to see this content with single sign on from the LMS. Ed",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 29, 2017, 4:44 AM",
          "AuthorName": "Ed Beck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1975261&course=5",
          "role": [
            "Picture of Ed Beck"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Open Source LTI Book Publishing Tool that can use H5P in content",
          "Text": "I think what you should do is have a Moodle Course in which you connect and build all your main OER books.  You can control who has access to edit those books from that course.  Then, once these books are developed a teacher can link to it as a URL resource from their own course. However, if they want to make changes or customize the book they must create a new LTI ebook Activity, import the content from the original (Possibly using one of the export formats from the original ebook), and then make desired edits.  With this approach it would also allow anyone in their course to have access and edit the book as well.  So it might not be ideal. Another option might be a link to the main ebook site and then the teacher creates a new ebook via LTI Activity called Supplemental materials in which they expand upon the original textbook. I don't think it will work the way you want it to.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 29, 2017, 10:53 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Open Source LTI Book Publishing Tool that can use H5P in content",
          "Text": "Thanks Chris, I'm pretty sure there is someway to make it work that way, because that is what Lumen Learning is doing with their pressbooks sites. I just haven't found the right combinations of plugins... yet! My next option is I am going to play some more with the plugins that Lumen has open-sourced. I had installed just their LTI helper, but I didn't get it to work properly at least at first. I think I need to install more of their plugins stack because there must be dependencies in other parts. https://github.com/lumenlearning I am also going to do a fresh install of wordpress, because since I was just playing with this, I was using a bitnami wordpress on aws to get me a little bit of a jump, and then installing the pressbooks plugins. Sometimes in those easy bake stacks they have modified or locked a file in a way that makes it hard to install plugins. I appreciate your comments, if you see anything around I hope you think of this thread and share it back. Ed",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 29, 2017, 11:33 PM",
          "AuthorName": "Ed Beck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1975261&course=5",
          "role": [
            "Picture of Ed Beck"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Open Source LTI Book Publishing Tool that can use H5P in content",
          "Text": "Chris, Just in case you are curious, I did get the Candela LTI to work the way I wanted it to. I couldn't make it work with a Pressbooks install set for sub-domains, but once I started over and used directory setup, I got it to working (mostly). When you set up the LTI, you have to know the Site ID, so I installed this plugin too. https://wordpress.org/plugins/wp-show-site-id/ The only problem I have left is that the first time I use the LTI connection with each user, it shows an error message, but works correctly on the 2nd and each subsequent attempt. Ed",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 13, 2017, 9:58 AM",
          "AuthorName": "Ed Beck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1975261&course=5",
          "role": [
            "Picture of Ed Beck"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Open Source LTI Book Publishing Tool that can use H5P in content",
          "Text": "Ed, I'd be interested in knowing more about how you got the plugins working.  That might be the ideal workflow for sharing completed books.  What are the tricks that got it working?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 14, 2017, 9:23 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Open Source LTI Book Publishing Tool that can use H5P in content",
          "Text": "Chris, I will follow your advice and write up something a little more final once I have spent some more time with it. Some tips so far: When you are doing your initial pressbooks install, make sure you install in directory mode and not subdomains. Subdomains seem to confuse the LTI connection. Lumen Learning is a for-profit company that is a champion of OER. It sells a service to colleges and faculty who want to adopt OER by providing a pressbooks site, maintained with additional plugins and analytics. Lumen has acted as good partners with the opensource community and have open sourced the plugins they developed. Their github repo: https://github.com/lumenlearning Specifically I am using their LTI helper named candela-lti. This plugin acts as a helper to the LTI plugin and both must be installed. Network activate the two LTI plugins. From the Network site, enable LTI consumers. This will give you one LTI address for your entire pressbooks network. http://your.pressbooks.site/api/lti/BLOGID When you are looking to link to a specific book, you need to replace \"BLOGID\" with the site ID number from Pressbooks. The Site ID number isn't always readily apparent, so I installed the \"WP Show Site ID\" plugin which adds the site id to the header of the pressbooks site. Next steps I am taking... There is an interesting fork of the Candela-LTI. In Indiana Universities fork, instead of creating new users first it searches to see if that user exists. For a university setting that already has a Single Sign On, it may make more sense to create all users at the network level, and allow the LTI to associate users with their books. This would have the advantage of allowing users to access their book through the Moodle LTI connection or directly, whichever they prefer. This is all hypothetical and I haven't tested it yet. https://github.com/IUeDS/iupb-lti I also like the export as thin common cartridge link plugin, that makes a separate LTI connection for each chapter. Depending on your course structure and how you want students to access the book this could be interesting. Now that I have the basic LTI plugin working I am going to try this plugin from Lumen again. Both Lumen and Indiana have a fork of this plugin, and I am going to try Lumen's first, because I know Indiana is specifically developing for Canvas integration, and I believe Canvas uses LTI 1.3 while Moodle uses 1.1. --- I wish pressbooks had an app marketplace like Moodle and Wordpress does with good tracking community support. Let me know what you have found useful.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 15, 2017, 10:01 PM",
          "AuthorName": "Ed Beck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1975261&course=5",
          "role": [
            "Picture of Ed Beck"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Open Source LTI Book Publishing Tool that can use H5P in content",
          "Text": "Hey Chris, I'm asking you this question both as someone who is both interested in Pressbooks and Themer. I'm trying to use LTI to embed Pressbooks directly in Moodle. Here's a screenshot. My issue is how short the LTI iframe window is. Would there be an easy way to make that LTI frame taller? By easy I mean, insert this custom CSS into the GUI?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1476846/Pressbooks%20embed%20without%20blocks.PNG"
          ],
          "Time": "Friday, February 23, 2018, 10:19 PM",
          "AuthorName": "Ed Beck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1975261&course=5",
          "role": [
            "Picture of Ed Beck"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 365994,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=365994",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI activity Grades no longer updating 3.1",
          "Text": "We've been using LTI to integrate a 3rd party assessment tool with our moodle. The 3rd party app is launched via a link on the course page, when complete a grade is sent back to moodle and stored in the grade book. This has been working preferably until a week ago. The app still launches but the grades do not update. The error \"Message signature not\nvalid\" is returned. When trying the test tool http://lti.tools/test/tp.php , the grade doesn't return . We just get an error. This suddenly stopped working last Monday.  The assessment developer has not changed anything. The moodle host says the server and ip changed but nothing else. Any suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 20, 2018, 1:14 AM",
          "AuthorName": "Shiv R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2249552&course=5",
          "role": [
            "Picture of Shiv R"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 364628,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=364628",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Enable LTI logs for debug",
          "Text": "Hey guys, I'm developing a Tool Provider with LTI 2.0 and I'm stuck in Tool Proxy registration process (like I said in this discussion: https://moodle.org/mod/forum/discuss.php?d=364420 ). I read in this discussion ( https://moodle.org/mod/forum/discuss.php?d=333441 ) that Moodle can log LTI requests errors, like bad json format. Is that true? If so, how can I do this? I tried some approaches but none gave me any error messages. I'm using Moodle 3.4, installed following this tutorial (I changed from 3.2 to 3.4): https://websiteforstudents.com/installing-moodle-ubuntu-17-04-nginx-support/ I attached the config files from my nginx, php-fpm and moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 26, 2018, 5:10 AM",
          "AuthorName": "Wallison de Oliveira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2374807&course=5",
          "role": [
            "Picture of Wallison de Oliveira"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 364378,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=364378",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "A problem, issue and a query that will help.",
          "Text": "Hi, Could we integrate third-party content via plugin like LTI or any other so that we can promote and feature our partners content and provide access to courses through our platform but all content remains on our partner's LMS? How to achieve this quickly? Thanks Moodle 3.4",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2018, 10:46 AM",
          "AuthorName": "MoodleKittyCat .",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404085&course=5",
          "role": [
            "Picture of MoodleKittyCat ."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Can AICC compliant courses be LTI'ed into our Moodle LMS?",
          "Text": "Can AICC compliant courses be LTI'ed into our Moodle LMS? If a provider does not know if they are LTI consumer compliant or not. How do we make sure they are or not? What series of questions should we ask? If they are not LTI consumer compliant and then what other options do we have? Thanks (Edited by Mary Cooch to clarify the subject title - original submission Monday, 22 January 2018, 3:38 AM)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2018, 11:38 AM",
          "AuthorName": "MoodleKittyCat .",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404085&course=5",
          "role": [
            "Picture of MoodleKittyCat ."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can AICC compliant courses be LTI'ed into our Moodle LMS?",
          "Text": "Hello RK. I have just changed the title of this post to make it clearer for others to see and be able to help you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2018, 3:14 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: A problem, issue and a query that will help.",
          "Text": "The short answer is yes - you can use LTI to achieve this. Please see the relevant Moodle docs for help on this functionality. If you have further questions, I suggest that you make them more specific, and outline the steps you have tried, and the specific issues that you have encountered.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2018, 12:04 PM",
          "AuthorName": "Andrew Lyons",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=268794&course=5",
          "role": [
            "Picture of Andrew Lyons",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 363767,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=363767",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Secret key - urgent request please",
          "Text": "I just upgraded to Moodle 3.4 from 3.1. In 3.1, there was a secret key that had to be entered so that when users from another program clicked on the external link, they would be LTI enrolled in the right course in Moodle. But, I cannot find anywhere to enter that secret key in 3.4. I read all the Moodle docs , and they are very vague, and even inaccurate. Can someone walk me through it please and tell me exactly what screens to go to and how to get there? I have the keys, but students are arriving this morning and won't be able to access Moodle through LTI, so it is rather urgent. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 9, 2018, 8:18 PM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Secret key - urgent request please",
          "Text": "In Site Admin > Plugins > Activities > Manage Activities, you will see a link for External Tool > Settings. yourmoodle.com/admin/settings.php?section=modsettinglti You’ll then be able to edit any existing tools and configure the shared secret.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2018, 6:54 AM",
          "AuthorName": "Jon Bolton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5514&course=5",
          "role": [
            "Picture of Jon Bolton",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 364420,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=364420",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Need some help with LTI 2.0 registration process",
          "Text": "Hey guys, I'm developing a Java Tool Provider using LTI 2.0. Using IMS LTI Tool Consumer emulator I can made my Tool Proxy pass the registration process with 201 code, but when trying it on Moodle or Canvas I can't. I'm using this Vagrant Box with canvas: Vagrant box supersoftware/canvas-lms - Vagrant Cloud And create a second Moodle vm using this tutorial: How to install Moodle 3.2 on Ubuntu 16.04 but it gave me 400 Bad Request when trying to get ToolConsumerProfile (the tc_profile_url is https://192.168.1.7/mod/lti/services.php/profile/?lti_version=LTI-2p0 ) The first Moodle VM gives me 400 Bad Request when trying to post the tool proxy. Canvas gives me 401 Unauthorized or 500 Internal Server Error Canvas gives me 401 if I use this to get oauth_body_hash public static String signBodyHash(String requestBody) throws NoSuchAlgorithmException, UnsupportedEncodingException { MessageDigest md = MessageDigest.getInstance(\"SHA1\"); byte[] output = Base64.encodeBase64(md.digest(requestBody.getBytes())); String bodyHash = new String(output); return URLEncoder.encode(bodyHash, \"UTF-8\"); } And 500 if I use this code: public static String signBodyHash(String requestBody) throws NoSuchAlgorithmException, UnsupportedEncodingException { MessageDigest md = MessageDigest.getInstance(\"SHA1\"); byte[] output = Base64.encodeBase64(md.digest(requestBody.getBytes())); String bodyHash = new String(output); return bodyHash; } I attached the Tool Consumer Profile, the registration request parameters (reg_key and reg_password), Tool Proxy and the OAuth headers. If someone could give some tip or clarify what I'm doing wrong I'll be very grateful!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2018, 3:41 AM",
          "AuthorName": "Wallison de Oliveira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2374807&course=5",
          "role": [
            "Picture of Wallison de Oliveira"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 364129,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=364129",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to write an authentication for an external tool (LTI tool provider side) ?",
          "Text": "Hi, I have an external PHP app (tool provider) that I want to use with our Moodle as an external tool activity. I configure the Launch URL ,Secure launch URL,Consumer key, Shared secret,etc... When I click on the link, it opens successfully my app launching a post request with the following information (dumped from my browser debug tool): \n```text\noauth_version:1.0\n\n\noauth_nonce:2f025d85fdcaaee29bbe371fb81b19b1\n\n\noauth_timestamp:1516112873\n\n\noauth_consumer_key:clef_client\n\n\nresource_link_title:test exernal tool\n\n\nresource_link_description:\n\n\nuser_id:48521\n\n\nlis_person_sourcedid:\n\n\nroles:Instructor,urn:lti:sysrole:ims/lis/Administrator,urn:lti:instrole:ims/lis/Administrator\n\n\ncontext_id:109\n\n\ncontext_label:Cours de test\n\n\n...\n```\n I would like now to write authentication code on my external tool side according to this documentation : If I understand well the schema, I should check that the oauth_signature ('56oSlZxu0di36xhQhmCpIXmi5kw=') using the shared secred and other attributes on my app side? Am I right? How can I achieve that? Is there any lib to that? A PHP snippet will be welcome. greetings, ben",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://www.edu-apps.org/coding/tool_launch.png"
          ],
          "Time": "Tuesday, January 16, 2018, 10:47 PM",
          "AuthorName": "Benoît M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2216283&course=5",
          "role": [
            "Picture of Benoît M"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to write an authentication for an external tool (LTI tool provider side) ?",
          "Text": "IMS has a PHP library for this on GitHub: https://github.com/IMSGlobal/LTI-Tool-Provider-Library-PHP which can help with this, or at least provide an example of a working implementation. More generally, documentation for LTI can be found at https://www.imsglobal.org/activity/learning-tools-interoperability .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 17, 2018, 4:57 PM",
          "AuthorName": "Joost van der Borg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1677927&course=5",
          "role": [
            "Picture of Joost van der Borg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to write an authentication for an external tool (LTI tool provider side) ?",
          "Text": "Hi Joost, thanks for your answer! This looks good, I am testing this lib, I will try to post an answer if the result is successfull. There is a wiki for this lib directly at github . greetings, ben",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 17, 2018, 9:45 PM",
          "AuthorName": "Benoît M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2216283&course=5",
          "role": [
            "Picture of Benoît M"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to write an authentication for an external tool (LTI tool provider side) ?",
          "Text": "This lib is finally working, I wrote some doucmentation on this wiki. Greetings, ben",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 19, 2018, 9:30 PM",
          "AuthorName": "Benoît M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2216283&course=5",
          "role": [
            "Picture of Benoît M"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 364233,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=364233",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI does not work in embed mode. Works with new window",
          "Text": "I have setup 2 moodles to talk to each other using LTI (3.1 as provider and 3.4 as consumer). If the LTI course is set to open in a new window (on the consumer), everything is good.  a new window launches with the course on the provider platform. If I embed or embed without blocks, then the frame appears in the consumer moodle, but is always blank.  Frame embedding is switched on in both moodles. Any assistance appreciated...... Les",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 18, 2018, 5:39 PM",
          "AuthorName": "Leslie Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1780644&course=5",
          "role": [
            "Picture of Leslie Foster"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 363423,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=363423",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI and embedding on IOS",
          "Text": "L.s Whatever I try, I’m not able to embed a moodle activity from another site with LTI. On IOS it opens a new page with the source site name on top (which is pretty bad). The same when accessing with the moodle app Am I expecting to much? Is embedding only possible on desktops? Who can help? Bert",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 28, 2017, 5:27 AM",
          "AuthorName": "Bert van der Hooft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1612564&course=5",
          "role": [
            "Picture of Bert van der Hooft"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 363186,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=363186",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle and Canvas grade Passback",
          "Text": "I have published a course on Moodle 3.1 with LTI using \"Publish as LTI\" option. When I include this course as assignment in Canvas, it doesn't pass the scores back to Canvas. What could be going wrong here?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 20, 2017, 2:11 AM",
          "AuthorName": "Poonam Agarwal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2359953&course=5",
          "role": [
            "Picture of Poonam Agarwal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 362388,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=362388",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle and LTI integration how to Clone the master course",
          "Text": "In Moodle through LTI integration anyone have any idea about how to Clone the master course and send the user to his private cloned course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 1, 2017, 7:07 PM",
          "AuthorName": "ItsMe Rajan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2339915&course=5",
          "role": [
            "Picture of ItsMe Rajan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 346413,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=346413",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI v1 Consumer outputs XML File instead of the shared course",
          "Text": "Hi, I got a problem with my LTI test site. I have a local instance of moodle 3.2 that has a shared course with the following tool url (v1): http://127.0.0.1:8080/enrol/lti/cartridge.php/1/469e3d601590c1c7f6b6171ef18d86de/cartridge.xml In my second instance of moodle (2.9) I included a external LTI tool with the given URL and secret. When I open this shared course I get nothing but the output of the cartridge. xml file. The request parameters look like this: resource_link_title: LTI v1 resource_link_description: user_id: 2 lis_person_sourcedid: roles: Instructor,urn:lti:sysrole:ims/lis/Administrator,urn:lti:instrole:ims/lis/Administrator context_id: 2 context_label: consumer course context_title: Consumer Course resource_link_id: 2 context_type: CourseSection lis_course_section_sourcedid: lis_result_sourcedid: {\"data\":{\"instanceid\":\"2\",\"userid\":\"2\",\"typeid\":\"2\",\"launchid\":695106945},\"hash\":\"ffc23cf6725b22e4e28a7c6cc170540eb06c0eecb310e8f65e1ac3118a0233e3\"} lis_outcome_service_url: http://127.0.0.1:8090/mod/lti/service.php lis_person_name_given: Admin lis_person_name_family: User lis_person_name_full: Admin User ext_user_username: admin lis_person_contact_email_primary: starhorst@googlemail.com launch_presentation_locale: en ext_lms: moodle-2 tool_consumer_info_product_family_code: moodle tool_consumer_info_version: 2015051108.01 oauth_callback: about:blank lti_version: LTI-1p0 lti_message_type: basic-lti-launch-request tool_consumer_instance_guid: 127.0.0.1 tool_consumer_instance_name: Moodle Consumer launch_presentation_document_target: iframe launch_presentation_return_url: http://127.0.0.1:8090/mod/lti/return.php?course=2&launch_container=3&instanceid=2&sesskey=WtUQJqBvKn Can someone please give me a hint what I'm doing wrong? Best regards Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 25, 2017, 9:23 PM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI v1 Consumer outputs XML File instead of the shared course",
          "Text": "Small update: When I use a moodle 3.2.1 instance as LTI v1 consumer I get this error: Error reading file \" http://127.0.0.1:8080/enrol/lti/cartridge.php/1/469e3d601590c1c7f6b6171ef18d86de/cartridge.xml \" The xml looks like this: https://gist.github.com/anonymous/8d4e4d6cf8929c66bd41360e639c1212",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 25, 2017, 11:15 PM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI v1 Consumer outputs XML File instead of the shared course",
          "Text": "Update: works now. Fixed it by using the \"launch_url\" given in the xml. Also had to set a \"consumer key\" on the lti tool consumer site. Without the consumer does not generate the oauth_secret.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 26, 2017, 8:28 PM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI v1 Consumer outputs XML File instead of the shared course",
          "Text": "Yep that's exactly right. Glad you found a solution Michael. Here's an issue to add back the launch URL https://tracker.moodle.org/browse/MDL-57741 you may want to vote for. In moodle 3.1 onwards the cartridges ( XML ) are supported directly",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 27, 2017, 9:13 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI v1 Consumer outputs XML File instead of the shared course",
          "Text": "Hi Michael Berhorst , In Moodle through LTI integration Do you have any idea about how to Clone the master course and send the user to his private cloned course. Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 30, 2017, 9:43 PM",
          "AuthorName": "ItsMe Rajan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2339915&course=5",
          "role": [
            "Picture of ItsMe Rajan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 337668,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=337668",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Embed",
          "Text": "In moodle 3.1 I'm not able to embed an moodle LTI activity without blocks. I just shows the site as if it was an iframe embed. The only difference is that login is working. Frame embedding is permitted on the publishing as well as the consumer site. What could be wrong?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2016, 1:57 PM",
          "AuthorName": "Bert van der Hooft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1612564&course=5",
          "role": [
            "Picture of Bert van der Hooft"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Embed",
          "Text": "Closed: works now. Why? It beats me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 10, 2016, 6:28 PM",
          "AuthorName": "Bert van der Hooft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1612564&course=5",
          "role": [
            "Picture of Bert van der Hooft"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Embed",
          "Text": "Hi Bert I have had similar issues. Could you point me in the right direction, please? Can I not get the LTI to embed in the second site without showing the first sites URL ? I am trying to hide the first sites URL. I see that this doesn't happen I the Moodle videos tho? did you get the same problem? thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 29, 2017, 7:03 PM",
          "AuthorName": "Mark Henry",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2107964&course=5",
          "role": [
            "Picture of Mark Henry"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Embed",
          "Text": "Hi Mark, I'm not exactly sure what you mean by \"hide\" the first sites url. Is the first site your provider? It sounds like what you want is to use \"embed, without blocks\". Let me know if that option fixes it for you. If not I can help further",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2017, 10:53 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Embed",
          "Text": "Mark, thank you for sharing this.. i see you wondering pretty same questions i do now, so cannot not to wonder myself: ..any breakthrough on this? ..had you find the way? many thanks in advance, as well",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, June 30, 2017, 4:28 AM",
          "AuthorName": "anna ko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1250385&course=5",
          "role": [
            "Picture of anna ko"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Embed",
          "Text": "Could you try selecting \"embed, without blocks\" in the external tool settings? Let me know if that does what you are looking for",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 30, 2017, 8:13 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Embed",
          "Text": "We did, but it removes the blocks of the current (home) cite. We are willing to remove the blocks and the top heading of the LTI provider cite. Attaching the image:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1431306/Capture_Blocks_in_LTI.JPG"
          ],
          "Time": "Sunday, July 2, 2017, 11:43 PM",
          "AuthorName": "anna ko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1250385&course=5",
          "role": [
            "Picture of anna ko"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Embed",
          "Text": "Oh! I understand the problem now. If you log in as a student, the headers will not be visible. We show the headers and blocks in order for the teachers so that they are able to access all teacher features. However if you are sure you don't want the headers for teachers, add \"force_embed = 1\" to the custom parameters on the consumer's mod_lti. This should solve the problem for you, if it doesn't just let me know. שלום",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 3, 2017, 8:38 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Embed",
          "Text": "Hi John. I have the same issue but the solution doesn't work for me...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 29, 2017, 6:13 AM",
          "AuthorName": "Luis Herrera Noguera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1902696&course=5",
          "role": [
            "Picture of Luis Herrera Noguera"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 362214,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=362214",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI links not appearing on initial page load in Chrome",
          "Text": "I am curious if any one is having a similar problem. In Google Chrome (currently running Version 62.0.3202.94) my LTI links in the course I teach often don't appear on initial load, or sometimes appear and then quickly disappear.  Pressing F5 to reload the page brings them all back. See this in action: https://www.screencast.com/t/3jONKYv6z Other teachers here are having the same problem utilizing different LTI providers in Moodle than the one I use. Not sure how best to solve this. Any advice is appreciated! Scott",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 28, 2017, 11:51 PM",
          "AuthorName": "Scott Hardwick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120802&course=5",
          "role": [
            "Picture of Scott Hardwick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 362182,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=362182",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problems upgrading from 2.9 to 3.3",
          "Text": "I am guessing what is going on with all my shared content when I am upgrading from the plugin LTI Provider to the Share as LTI which is coming with moodle 3.3. Is there a way to migrate all the shared content and the users that have participated on that content?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 28, 2017, 2:43 PM",
          "AuthorName": "Juan Carlos Molina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=217852&course=5",
          "role": [
            "Picture of Juan Carlos Molina"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 361900,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361900",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Content-item",
          "Text": "Hi, I've a problem with select content in manage tool. Moodle is 3.4 Is there a problem in this version? Error is invalid request, and not show anything. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 22, 2017, 5:09 AM",
          "AuthorName": "Gianluca Torbidone",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1565278&course=5",
          "role": [
            "Picture of Gianluca Torbidone"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 361666,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361666",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Uniquely Identify Moodle Course",
          "Text": "Hi, I have an LTI Tool provider which runs perfectly fine with Canvas. When I try to integrate it with Moodle, I face a lot of issues. Some of which have been fixed, for example, Moodle instead of old \"launch_presentation_return_url\", it sends \"content_item_return_url\" etc. Anyway, the issue that I am facing currently is that in my application I need to uniquely identify the course, Moodle doesn't send a unique course identifier, I only get course name and there can be many courses with the same name by same instructor. Is there a way to uniquely identify each course at Tool Provider's end? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 17, 2017, 4:28 AM",
          "AuthorName": "Hamza Manzoor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2345118&course=5",
          "role": [
            "Picture of Hamza Manzoor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 361490,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361490",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Deleting users on the consumer site",
          "Text": "Hi, If a user is deleted on the consumer site should it's status be updated on the provider site e.g. deleted or some sort of suspension? I've had a good look around and run crons multiple times to no avail.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 14, 2017, 9:17 PM",
          "AuthorName": "Ray Lawrence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7127&course=5",
          "role": [
            "Picture of Ray Lawrence"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 361121,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361121",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Need to integrate My web app with users coming from a moodle",
          "Text": "I am having one PHP web application and another one 3rd party have moodle application. One user have registered in both my web application and moodle. I need to get that user information from 3rd party moodle application using LTI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 7, 2017, 6:48 PM",
          "AuthorName": "ItsMe Rajan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2339915&course=5",
          "role": [
            "Picture of ItsMe Rajan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 361028,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361028",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "sharing activities between courses using LTI",
          "Text": "hi guys, i'm trying to share activity between courses on same moodle site. is someone done that before? i see the activity but, my SESSION keep confused when i get into the activity.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 5, 2017, 3:34 PM",
          "AuthorName": "meir ifrach",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2169612&course=5",
          "role": [
            "Picture of meir ifrach"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360857,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360857",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Grade not returning to \"consumer\" course",
          "Text": "Hi all, I am new to the LTI process. I am attempting to link two Moodle sites. Provider = M3.1 with HTTPS Consumer = M3.3 with HTTP I am able to get a student from the consumer course to the provider course (I can see the new enrollment) The student can complete the quiz and see the 100% in the Provider course grade book. The provider course is embedded in the consumer course page. I have manually run the cron on each site. Unfortunately the grade has not returned to the consumer course. Q. are there any settings that I may be missing? Q. Does HTTPS have anything to do with successful grade transfer? Can LTI be setup without HTTPS? Hope someone can suggest some leads to follow as I would really like to use this LTI feature.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 1, 2017, 6:02 PM",
          "AuthorName": "Mark Whitington",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=68359&course=5",
          "role": [
            "Picture of Mark Whitington"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360686,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360686",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "i want to create bundle course but using 2 instence of moodle",
          "Text": "Hi I am new in moodle I have one probelm that i have 2 moodle instence. moodle2 as LTI Provider and Moodle1 Consumer i use LTI Tools and Sucessfully Integrated with moodle1 but when click the moodle1 link it redirect to moodle2 and i want to display it moodle2 course in moodle1 i want to create package for 6 courses so please help me",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 28, 2017, 3:32 PM",
          "AuthorName": "ALTAF KALANIYA",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2334634&course=5",
          "role": [
            "Picture of ALTAF KALANIYA"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 353423,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=353423",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Publish as an LTI Tool and Schoology",
          "Text": "Hello- I am trying to get add Moodle activities into Schoology as an external tool and I cannot get it to work.  I went into the Moodle Sandbox and enabled all three of these things as suggested by the moodle docs page: https://docs.moodle.org/33/en/Publish_as_LTI_tool \" Go to Site administration > Plugins > Authentication > Manage authentication and enable LTI Go to Site administration > Plugins > Enrolments > Manage enrol plugins and enable 'Publish as LTI tool' It is recommended that the site administration setting 'Allow frame embedding' is enabled (in \"Site Administration > Security > HTTP security\") so that tools are displayed within a frame rather than in a new window.\" In the Moodle Sandbox site I created a one-question quiz and I tried to get the quiz to work on the basic edition of Schoology.  If I put the launch cartridge URL from Moodle into the URL box on Schoology, I get this in Schoology when I try to launch the tool: Quiz https://demo.moodle.net/theme/image.php/boost/theme/1496445138/faviconhttps://demo.moodle.net/theme/image.php/boost/theme/1496445138/favicon https://demo.moodle.net/enrol/lti/tool.php?id=1https://demo.moodle.net/enrol/lti/tool.php?id=1 https://demo.moodle.net/theme/image.php/boost/theme/1496445138/faviconhttps://demo.moodle.net/theme/image.php/boost/theme/1496445138/favicon Sandbox Moodle sandbox demo https://demo.moodle.net/ Placing the Moodle registration URL into the Schoology Parameters box does nothing.  If I place the Moodle registration URL into the URL box on Schoology, it takes me to the Moodle demo site with an error and then leads me to the main Moodle Sandbox page. I made sure to complete all of this before the Sandbox site reset itself. Anyone get Published Moodle LTI tools to work in Schoology?  If so, could you elaborate on how to get it to work? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 3, 2017, 9:05 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Just as an update.  I created the LTI tool in the moodle sandbox like I did before and added it as an external tool in Moodle v 2.9 that I am currently running.  Moodle 2.9 spits out the same thing as Schoology does when I run the external tool.  I wonder if I am missing an admin setting or something.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 4, 2017, 4:44 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "It sounds like schoology does not support cartridges. Open the cartridge in your browser, and copy the launch url instead. In the case above this would be https://demo.moodle.net/enrol/lti/tool.php?id=1 although by now demo. moodle.net will have been reset so that tool will need to be created again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 6, 2017, 8:41 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Hi John- Thanks for the reply.  If I do that and post into Schoology, I just get the error message \"Sorry, there was an error connecting you to the application.\" If I create an LTI tool in the Moodle Demo Sandbox, I can't even it it to work when I add it as an external tool to the Mount Orange Demo Moodle Site.  This is the error that the Mount Orange site gives me \"An error occurred when launching the external tool:Sorry, there was an error connecting you to the application.\" Is it possible that LTI tools published with the Moodle Demo Sandbox cannot actually be run due to some setting? Before I know that it is an error with Schoology, I should be sure to get it working in Moodle first.  I would think that Moodle published LTIs should be compatible with Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 14, 2017, 7:01 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Are you also copying the secret and typing in a consumer key? Moodle LTI published tools are compatible with Moodle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 14, 2017, 9:23 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Yes, I do copy the secret and enter in a consumer key. The Mount Orange site cannot seem to use an external tool from the Moodle sandbox site.  It loads the icon ok on the main page, but gives this error when trying to import a news forum as an external tool \"An error occurred when launching the external tool:Sorry, there was an error connecting you to the application.\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 20, 2017, 11:21 PM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "I have enabled Publish as LTI authentication and enrolment on the School demo site but it will be another hour before the site change actually takes place, but if you want to try again in a few hours, perhaps you can let us know how you get on?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 21, 2017, 12:26 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Thanks for doing that Mary.  I published one of the news forms on the mount orange school site as an LTI tool and tried to import it into Moodle 2.9 as an external tool.  When I use the . xml link, the screen is blank.  When I try the LTI v 1 link, it says that it is not supported.  Did you enable frame embedding on the mount orange site?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2017, 9:20 PM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Yes, Allow frame embedding is enabled. You could also try on the Sandbox site demo.moodle.net where you can have admin rights to set it up yourself and double check.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2017, 9:56 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "I was able to get it to work eventually, but I had to publish as an LTI tool on a different Moodle site than either the Moodle sandbox or the Mount Orange site.  I am wondering if those sites have some sort of setting preventing it from working. LTI tools from Moodle do appear to work in Schoology (I tried the forum as well as quizes with question types multiple choice and drag and drop into text).  However, Schoology only uses LTI v 1.0, so I had to change the link from the v 2.0 .xml that Moodle originally gives you. Thanks for all your help Mary and John.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 1, 2017, 12:31 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "I can get the LTI to work and it will pass quiz grades from Moodle to Schoology. What I cannot get to work is to have Schoology pass the student's name to Moodle.  Right now when I log into Moodle, the student name is listed as something like \"enrol_lti6bc413f070ac15e35789037218a672880c523ebb\" instead of the student's actual name.  Is there some setting when I can get the student's actual name passed to Moodle? This will make it easier for me to review any student attempts.  Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 27, 2017, 10:52 PM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 360630,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360630",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Account duplicated",
          "Text": "We are using a LTI from one Moodle  providing content to two different Moodle sites. We have found that some LTI created accounts (e.g. enrol_lti7fd2da98ce6b2900d58d6b201db8df1bd971a4ce)  are duplicated, that's to say two students from the two different sites have the same account. Maybe the reason is because we have used the same LTI instance for both sites, but we are surprised as the accounts are randomly constructed. Has this happened to anyone else?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 27, 2017, 4:37 AM",
          "AuthorName": "Bernat Martinez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=92175&course=5",
          "role": [
            "Picture of Bernat Martinez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 356808,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356808",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Passing Grades Back To Moodle",
          "Text": "Hi, I'm working on developing an external tool for Moodle that is authenticated using LTI. I currently have authentication working properly on clicking the link in Moodle to my external tool. During the sign in, Moodle passes the parameter lis_result_sourcedid, which looks something like this: {\"instanceid\":\"1\",\"userid\":\"5\",\"typeid\":\"1\",\"launchid\":740494135},\"hash\":\"500124560eba26b6673d07f04c61ccc3ba6861f874d439b60d378ea7b798ac1d\"} Then, later, when I'm attempting to pass grades back, I need to pass back a sourcedid parameter in my LTI xml . Am I supposed to pass all of this? Or just the launchid or something like that? I haven't been able to find any clear answers about what's supposed to be passed back through LTI as LTI's documentation has been pretty hard to find.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2017, 4:26 AM",
          "AuthorName": "Will Knospe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2273288&course=5",
          "role": [
            "Picture of Will Knospe"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing Grades Back To Moodle",
          "Text": "If you are a member of IMS you may get more help there than here. But let's see if I can help. For reference, here is what moodle passes back in its provider. \n```text\n716c919df5a065dd7a3fc5702544d33a:::115:::249:::{\"data\":{\"instanceid\":\"3\",\"userid\":\"249\",\"launchid\":180548532},\"hash\":\"290ab06bcf0ed944243b530718bdad0d33277884842e3f304cfb95c56c91b752\"}\n```\n Here is what the test tool provider passes back. \n```text\n716c919df5a065dd7a3fc5702544d33a:::S3294476:::29123:::dyJ86SiwwA9\n```\n Here is the documentation, although you might have already found it http://www.imsglobal.org/specs/ltiv1p1/implementation-guide#toc-17",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2017, 8:36 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing Grades Back To Moodle",
          "Text": "Hi Will - fwiw, in our tool we are passing back that entire sourcedid and it works (which you have likely discovered by now).  I was surprised that the sourcedid had this much info and changed on every launch, and still haven't quite figured out if we can always just send back a score for the latest one of these for a particular student.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 25, 2017, 11:33 PM",
          "AuthorName": "JP Slavinsky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2332999&course=5",
          "role": [
            "Picture of JP Slavinsky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing Grades Back To Moodle",
          "Text": "Actually, I just found the answer in the LTI 1.1 implementation guide.  Go figure lis_result_sourcedid=83873872987329873264783687634 This field contains an identifier that indicates the LIS Result Identifier (if any) associated with this launch.  This field identifies a unique row and column within the TC gradebook.  This field is unique for every combination of resource_link_id / user_id .   This value may change for a particular resource_link_id / user_id from one launch to the next. The TP should only retain the most recent value for this field for a particular resource_link_id / user_id . This field is optional.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, October 25, 2017, 11:36 PM",
          "AuthorName": "JP Slavinsky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2332999&course=5",
          "role": [
            "Picture of JP Slavinsky"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 350318,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350318",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Clarifying moodle LTI behaviour with Blackboard",
          "Text": "Hi, I've been exploring the LTI connector with moodle as the provider and a Blackboard installation as the consumer.  I have successfully configured both ends to allow students and teachers to pass through to a single course, complete gradable activities , and the mark is passed back to Blackboard when the 30 minute chron-job runs. However, my ideal setup is to either: to have a new moodle course created each time the LTI activity is instantiated in a (unique?) Blackboard course by copying an existing template course. OR for a new instance of a single activity type to be created for each LTI instance from Blackboard. In short, I want a single Blackboard course space to link to specific activities within moodle.  With my current set up, many Blackboard courses will link to a single moodle course or activity created on demand.  This is confusing for students and teachers.  I want students in one Blackboard space to access a single moodle area for their specific moodle activities. I appreciate the 2.7 documentation on the separate LTI plugin is old now, but it eludes to how this might (or could) be implemented using the LTI spec.  See section \"Service for context (course) creation, using other courses as template\" https://docs.moodle.org/27/en/LTI_Provider#Service_for_context_.28course.29_creation.2C_using_other_courses_as_template I can find one discussion thread where Abhishek Chouhan says be managed get these custom parameters to work.  There is a longer discussion thread on a different site where it is clearer that his attempts were successful. https://moodle.org/mod/forum/discuss.php?d=339905 Can anyone with plenty of LTI experience confirm if these custom parameters for context creation (or resource duplication) actually work in the latest version of moodle? I welcome you \"managing my expectations\" here. Thanks, Stuart Anderson, University of Manchester, UK",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 4, 2017, 8:06 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Clarifying moodle LTI behaviour with Blackboard",
          "Text": "The create context feature present in the old plugin was not included in core. If you'd like to see it added, could you create an improvement request? It would be great to add your use case to the issue so it's clear what the feature is for. In addition you may be interested in voting for https://tracker.moodle.org/browse/MDL-55444 which would allow moodle to put users from each different consumer into a different group so that they could interact and be graded separately.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 2:07 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Clarifying moodle LTI behaviour with Blackboard",
          "Text": "Thank you John, that's very helpful.  I'm still getting to grips with my Blackboard to moodle LTI integration, but have just made a big step forwards in the last couple of hours. Regarding other differences between the old plugin and post 3.2 integrated LTI functionality.  Under the old documentation, I noticed that there was a recommendation to create extra roles (External Student, External Teacher) where a site uses both local and remote (LTI) users.  I can still the logic of doing that, but I can't find a way to set that as a default for all new LTI instances where as a I got the impression this could be configured as a default under the old plugin.  Am I correct that under the 3.2 implementation you can't set default LTI roles and have to apply them on a case by case basis? Thanks for your help, and yes, I'll think about MDL-55444 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 11:38 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=134840&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Clarifying moodle LTI behaviour with Blackboard",
          "Text": "In the new version the roles are handled for you automatically, so there's no need to map it manually.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2017, 3:06 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Clarifying moodle LTI behaviour with Blackboard",
          "Text": "Hi Stuart LTI is new to me and I have setup a connection with the Blackboard administrator but my entire Moodle page with all site settings appears. Is this supposed to happen? I assumed it would just embed the course in Blackboard without the Moodle Nav bars visible. Is there a different way to tackle this in Moodle or Blackboard? Thanks Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 19, 2017, 4:51 PM",
          "AuthorName": "michael frost",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2328819&course=5",
          "role": [
            "Picture of michael frost"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 360205,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360205",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "An LTI plugin to use as an observation grid for students ?",
          "Text": "Hello, we are exploring solutions to give the possibility to teachers to add an activity in a course, which would allow students to collect data, under for form of an observation grid. This grid could take many forms. We already explored the database option, but for some technical reasons, it may not be possible to use that activity type. So, do you know a plugin that would allow to create such a fillable webform, in which students could insert values and files (as pictures), exactly as the Database activity allows to do so ? Thank you, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2017, 10:40 PM",
          "AuthorName": "Eric Breton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2328260&course=5",
          "role": [
            "Picture of Eric Breton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360152,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360152",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI- enrolments and analytics",
          "Text": "We're looking to provide content to another trainer via a LTI connection. Does anyone know or any reporting we can use which will show how many enrolments the other trainer has made against our content? Also are there any other analytics we should know about?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2017, 7:15 AM",
          "AuthorName": "Roslyn Ridley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1878003&course=5",
          "role": [
            "Picture of Roslyn Ridley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360145,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360145",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Grade passback using LTI tools stopped working",
          "Text": "I have published a series of quizzes from a Moodle course as\nLTI tools, and my students have been accessing them through the university’s\nproprietory course management system called “Learning Suite” (LS).  I’ve created activities in LS that use the\nLTI “secrets” and URLs from Moodle quizzes, so that when students click on the activity in\nLS, they’re taken to the Moodle quiz, and then their grade is passed back from\nMoodle to LS. At least, that’s what was happening until about a week ago, when\nthe grade passback feature stopped working. Students are still taken to the\nMoodle quizzes from LS, and they can still complete the quizzes, but their\ngrades no longer get passed back to LS. The university’s tech support says they\nhaven’t made any changes to LS, so some change must have been made in Moodle.\nThe only change I’ve made was to grant another individual guess access to the\nMoodle course; I think I may have changed some setting under “Enrollment\nmethods” as I was trying to do this. There are Could this have caused the\nproblem? If so, how do I fix it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2017, 5:19 AM",
          "AuthorName": "Blair Bateman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2183066&course=5",
          "role": [
            "Picture of Blair Bateman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360088,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360088",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI as a Global tool for all courses that appears in the course navigation",
          "Text": "Is there a way to add a global menu option to add an LTI tool? Right now I have to \"add an activity or resource\" under the general activities and it will appear there (as shown in number 1). This is a little obfuscated for our users Is there anyway we can add it and appears below \"Courses\" (as shown in number 2) thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1452226/Capture%20%281%29.JPG"
          ],
          "Time": "Tuesday, October 17, 2017, 4:55 AM",
          "AuthorName": "Daniel Lopez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2151649&course=5",
          "role": [
            "Picture of Daniel Lopez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 359850,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359850",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Services available for manually configured tools",
          "Text": "This is a discussion area for the enhancement: https://docs.moodle.org/dev/LTI_Services_on_LTI_1x See also tracker issue: https://tracker.moodle.org/browse/MDL-60416 LTI Services access has been artificially constrained to be offered only\nto tools deployed using a Tool Proxy (LTI 2.0). This improvement is to\nmake those services available to manually configured tools too as\noptions in the configuration interface.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 11, 2017, 10:12 PM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 359782,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359782",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Error message with lti cartidge file",
          "Text": "I have created a set of LTI inks on one Moodle site, at a course level and used them to establish links on another Moodle site. After adding the URL and the secret I get a tick and a message saying Using tool cartridge. Then I save it and I get this error. Error reading file \" http://landbasedlearningltd.com/enrol/lti/cartridge.php/1369/e86e34a9f82948f2c654088d96a815d7/cartridge.xml \" Interestingly I have already added this same link on the same course, on another external link and it works fine. If however when I make a duplicate of the external resource link the link fails to work.  It links to the site but gives this error. A required parameter (oauth_consumer_key) was missing. In fact, I can not get any other link to work on this site. Why do I get this error? Another interesting point is that on another Moodle test site I operate I have used the same URL to establish a number of different external links and they all work perfectly. Has anyone got any ideas about this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 10, 2017, 11:21 PM",
          "AuthorName": "Patrick McDaniel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2322873&course=5",
          "role": [
            "Picture of Patrick McDaniel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error message with lti cartidge file",
          "Text": "Found my own solution, may be obvious to you professional but thought I would share it. There appears to be a huge inconsistency in the way that the different LTI links work, on the different versions of Moodle.  Some versions of Moodle, will accept the links as we created them in Moodle 3.3.1 as the cartridge Plugin.   We have discovered that some versions of Moodle will not accept these cartridge links and they will only accept a more basic link, based on a simple URL So if the cartridge link,  fails then to manually add the enrolement url and secret. If you do use this method you must open the 'see more' link and add a word to the consumer key. Without this key, the link will not work. Hope this helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 11, 2017, 8:53 PM",
          "AuthorName": "Patrick McDaniel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2322873&course=5",
          "role": [
            "Picture of Patrick McDaniel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 359411,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359411",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.2 fails to accept grade on first submission of assignment",
          "Text": "I use Moodle 3.2 as a Tool consumer and use it to open an external Tool provider to do an exercise and get back the grade. The Tool provider uses LTI library from IMS Global ( https://github.com/IMSGlobal/LTI-Tool-Provider-Library-PHP ). The submission of grade back to Moodle always fail upon the first submission (no matter who the student is), but successful for other submissions afterwards. When it fails I can find some error logs below: PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 89 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 90 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 90 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 91 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 91 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 92 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 92 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 93 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 136 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/locallib.php on line 1689 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 144 Is it that moodle fails to setup something upon the first receipt of grades? Adrian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2017, 4:23 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 359353,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359353",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How I can use same LTI activity in several courses?",
          "Text": "Hi I should to add same LTI activity to several courses. If I use same ID twice in 'Common module settings' > 'ID number', I get error ' This ID number is already taken'. Any ideas? rgd Arto",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 2, 2017, 3:41 PM",
          "AuthorName": "Arto Aalto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1204894&course=5",
          "role": [
            "Picture of Arto Aalto"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 359015,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359015",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI subplugin questions",
          "Text": "Hi! I've been trying to create an LTI subplugin in order to send the LTI provider some additional information that is not sent by default in Moodle's LTI activity (in particular, the system context role of a user). I understand I can do this by implementing the ltisource_pluginname_before_launch() callback. Is there a better way to do this rather than creating an LTI subplugin? Also, I want to display this as a new activity in the activity chooser. Till recently, this was done using the get_types() callback. This function allowed to display new LTI activities in the file chooser while leaving the default or original one intact and still present and visible in the activity chooser. However, get_types() is deprecated and now we should use get_shortcuts(). This function seems to only allow replacing the original LTI activity by the one defined by the subplugin. This looks bad because in a typical scenario people would like (I do, at least) to have the sub-plugin modified LTI activity while the original, default LTI activity is still available for use. Is there a way to do this with get_shortcuts()?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 25, 2017, 7:39 PM",
          "AuthorName": "Luis de la Torre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1291642&course=5",
          "role": [
            "Picture of Luis de la Torre"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI subplugin questions",
          "Text": "By the way, regarding the problem adding LTI subplugins in the activity chooser, you can also follow this: https://tracker.moodle.org/browse/MDL-60223",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 26, 2017, 3:46 PM",
          "AuthorName": "Luis de la Torre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1291642&course=5",
          "role": [
            "Picture of Luis de la Torre"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 358662,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=358662",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI and Grade Privacy - VoiceThread and eReserve",
          "Text": "We are using Boost in 3.2 and when creating an LTI with eReserve and VoiceThread, the activities are still going into the gradebook despite the \"do not accept grades\" being selected. Our fix is to edit settings and select accept grades, then return to course and edit setting again and select do not accept grades. Is this a known issue with other users? Thanks. Shawn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 2:27 AM",
          "AuthorName": "Shawn Trueman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046278&course=5",
          "role": [
            "Picture of Shawn Trueman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re:  LTI and Grade Privacy - VoiceThread and eReserve",
          "Text": "I believe this is a known issue with a fix just awaiting review. https://tracker.moodle.org/browse/MDL-59789",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 8:56 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  LTI and Grade Privacy - VoiceThread and eReserve",
          "Text": "Thank you John.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 9:34 AM",
          "AuthorName": "Shawn Trueman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046278&course=5",
          "role": [
            "Picture of Shawn Trueman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  LTI and Grade Privacy - VoiceThread and eReserve",
          "Text": "John - One other question. How will I know when this bug is fixed? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 9:32 PM",
          "AuthorName": "Shawn Trueman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046278&course=5",
          "role": [
            "Picture of Shawn Trueman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  LTI and Grade Privacy - VoiceThread and eReserve",
          "Text": "If you add yourself as a watcher on the issue, you will be emailed when it is fixed",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 20, 2017, 9:11 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 339905,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339905",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "LTI Provider in Moodle",
          "Text": "Hi, I am trying to create a course using course template feature through LTI. Following steps provided in this link https://docs.moodle.org/30/en/LTI_Provider [ Service for context (course) creation, using other courses as template ] I am using free moodle cloud instance for this. Few queries 1. Sending request from LTI consumer to Moodle LTI Provider to create new course using template, bnut it is not working. Used these custom parameters \n```text\n\"lis_outcome_service_url\" = \"local/ltiprovider/services.php\"\n\n\n\"custom_service\" = \"create_context\"\n\n\n\"custom_context_template\" = \"1\"\n```\n I am not sure what mistake am I doing? Or is there any configuration is missing on moodle side. 2. Above link talks about the. \"Once installed, a new link called \"LTI Provider\" will be displayed in the course navigation block .\" I am not finding any such link user course. Does moodlecloud support to create new course using course template through LTI. Any help or pointer on this will be really helpful. Thanks in advance. -- Thanks Abhishek Chouhan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 16, 2016, 11:38 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider in Moodle",
          "Text": "MoodleCloud uses the latest version of Moodle, Moodle 3.1 For each version of Moodle we have dedicated documentation, and you can see which version in the URL of the documentation. So I saw that you referenced documentation from Moodle 3.0 in your earlier post. Try the Moodle 3.1 documentation on Publish as LTI tool which is available here: https://docs.moodle.org/31/en/Publish_as_LTI_tool Also note that the free MoodleCloud sites do not allow for installing any extra plugins (LTI Provider was an additional plugin)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 16, 2016, 2:29 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider in Moodle",
          "Text": "Thanks Mary for the reply. I have already verified the 3.1 document. Configured the moodle e.g \"Published as LTI Tool\" using that document. Is there any way to verify that \"LTI Provider\" plugin installed on moodleclound3.1 or not? On the 3.0 LTI Provider document https://docs.moodle.org/30/en/LTI_Provider , when you click on 3.1 document though link provided on 3.0 LTI Prover page at top. It is redirected to another page \"Publish as LTI Tool\". It seems that name of the plugin is changed in 3.1.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 16, 2016, 3:10 PM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider in Moodle",
          "Text": "Finally everything is working fine. User can't install new plugin on cloud instance. Installed \"LTI Provider\" plugin on local instance. With above changes, now user can provision the Courses.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 19, 2016, 10:06 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider in Moodle",
          "Text": "Hello Mary/Abhishek, wanted to kindly confirm that Moodle Cloud supports LTI in the same manner as it does when integrating via LTI with Moodle 3.1.  We are a software vendor with long standing integration to Moodle (versions 2.9 through 3.3) and now would like to provide integration with Moodle Cloud.  Just need to verify we can deploy our LTI package to it,  Thanks so much in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 12:54 AM",
          "AuthorName": "Joshua Horner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2304731&course=5",
          "role": [
            "Picture of Joshua Horner"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider in Moodle",
          "Text": "Hello Joshua. I think the easiest way for you to test everything MoodleCloud and LTI would be to get yourself a free MoodleCloud site",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, September 19, 2017, 1:34 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider in Moodle",
          "Text": "Thanks for the reply Mary.  We've just recently obtained a MoodleCloud instance and will indeed test it thoroughly prior to deploying.  Just couldn't tell from the previous thread if there were any known issues we could identify prior to.  I'll reply here once we complete our testing.  Thanks so much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 2:03 AM",
          "AuthorName": "Joshua Horner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2304731&course=5",
          "role": [
            "Picture of Joshua Horner"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Provider in Moodle",
          "Text": "To clarify ...  Thanks for the reply Mary.  We've just recently obtained a MoodleCloud instance and will indeed test it thoroughly prior to deploying.  Just couldn't tell from the previous thread if there were any known LTI provider plugin issues we could identify prior to.  I'll reply here once we complete our testing.  Thanks so much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 2:05 AM",
          "AuthorName": "Joshua Horner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2304731&course=5",
          "role": [
            "Picture of Joshua Horner"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 358246,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=358246",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Not Creating Token",
          "Text": "Running Moodle 3.1.7 I am running an LTI that appears to be working. However it is not uploading tokens. I have added the users to Authorized users in the tool, and Allowed Authenticated Users the ability to \"Create a Web Service Token\" The LTI still errs out saying it cannot create a token. Am I missing something?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 11, 2017, 8:51 PM",
          "AuthorName": "Mike Verna",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1446456&course=5",
          "role": [
            "Picture of Mike Verna"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Not Creating Token",
          "Text": "Hi Mike. Sorry to hear you are having trouble. Unless I'm misunderstanding what you're trying to do, LTI shouldn't have anything to do with Web Service tokens. LTI has it's own tokens. Could you take a screenshot of the error?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 12, 2017, 8:24 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Not Creating Token",
          "Text": "Thank you,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 13, 2017, 11:50 PM",
          "AuthorName": "Mike Verna",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1446456&course=5",
          "role": [
            "Picture of Mike Verna"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Not Creating Token",
          "Text": "I'm not sure how that fixed it but glad it did. I must be missing something. Glad you were able to get it working",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 14, 2017, 8:31 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 354378,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354378",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Support for Gradebook services",
          "Text": "The IMS Gradebook services (formerly known as Outcomes Management 2) are currently in Candidate Final Draft (pending completion of sample implementations and certification tests before it becomes final and public).  These services are designed to provide LTI tool providers with more control over the management of line items (columns) and results (cells) in the gradebook of an LTI tool consumer.  Cengage is supporting an implementation of these services for Moodle as described on the project page at https://docs.moodle.org/dev/LTI_Gradebook_Services. Comments and feedback welcome.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 22, 2017, 10:49 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Decoupled Line Items and mod_lti",
          "Text": "I've updated the document about our implementation approach and would be happy to hear of any feedback or advice about it. One\nthing to bring to attention was we realized how much the mod_lti module\nis currently gravitating around the presence of a Link. This caused\nsome tension with the decoupled (i.e. link-less) line items, in\nparticular as we want our initial implementation to be contained\nstrictly as a subplugin. We think we have found a workable compromise\nand would love to hear if there are major concerns with the trade-offs\nwe had to take. Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 28, 2017, 10:02 PM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 357211,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=357211",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI database tables",
          "Text": "Tried and tried to find a table containing the LTI Name, Cartridge URL and Shared Secret and failed! Can anyone help please",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 23, 2017, 5:16 AM",
          "AuthorName": "Andrew Shipley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1940245&course=5",
          "role": [
            "Picture of Andrew Shipley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI database tables",
          "Text": "Are you looking for the tables for the consumer (the \"External tool\" module) or the provider (\"Shared as LTI tool\" enrolment plugin)? For the consumer it will be the _lti table. But you may have to check _lti_types mdl_lti_tool_proxies if you used the proxy / auto configure to create it. _enrol_lti_lti2_consumer is the table for the enrol provider. I'm interested to know why you need access to the tables. Generally everything you need to do should be doable from the interface.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 23, 2017, 9:15 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI database tables",
          "Text": "I'm looking to build a report showing custom instance name - cartridge url - secret but can only find the secret within the LTI tables for me to build the SQL statement required",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 23, 2017, 1:39 PM",
          "AuthorName": "Andrew Shipley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1940245&course=5",
          "role": [
            "Picture of Andrew Shipley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 356830,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356830",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Add moodle speechace content in my wordpress  using LTI",
          "Text": "hi i am working in moodle to wordpress LTI tool. i am using speechace in moodle from which i want the speechace lessons to show in my wordpress site i am using the wordpress LTI consumer. after adding the lesson from speechace i got url and secret key, but the url is empty when i go to it. https://pronunciation.personalenglishcenter.com/enrol/lti/tool.php?id=3 thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2017, 5:18 PM",
          "AuthorName": "Tooba Khaliq",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2273194&course=5",
          "role": [
            "Picture of Tooba Khaliq"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 354590,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354590",
      "NoOfResponses": 16,
      "ResponsesInList": [
        {
          "Title": "Enhancing support for IMS Content-Item message",
          "Text": "Support for the IMS Content-Item message was added to Moodle 3.3.  This introduces a new, simpler workflow for adding an LTI link to a course.  However, there are use cases involving the creation of multiple items, such as a complete table of contents, which are not yet supported.  Cengage is supporting a project to enhance the support for Moodle as\ndescribed on the project page at https://docs.moodle.org/dev/LTI_ContentItem_Enhacements. Comments and feedback welcome.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 27, 2017, 11:58 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Enhancing support for IMS Content-Item message",
          "Text": "Hi Stephen, Would there be scope within this to look at the use of Content-Item in the text editors so that these items are embedded in Moodle activities (c.f. https://tracker.moodle.org/browse/MDL-56229)? Thanks Alistair",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 28, 2017, 1:25 AM",
          "AuthorName": "Alistair Spark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1434260&course=5",
          "role": [
            "Picture of Alistair Spark",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enhancing support for IMS Content-Item message",
          "Text": "Hi Alistair, The scope for this work does not include the integration of Content Item flow in text editor as it focuses on streamlining the addition of LTI Links as Course Activities. This is however I agree another great use case for the Content Item Selection Request. Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 20, 2017, 3:59 AM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enhancing support for IMS Content-Item message",
          "Text": "Cengage has updated the Project page with an outline of the proposed changes and I am sure would welcome comments and feedback.  My own questions are: It appears to be the case that for a tool to be able to return multiple content-items it must be added to the Activity Chooser.  Is that the case?  Are there no plans to add support for multiple items to tools which are added via the Add External Tool page? Are there any plans to extend the types of content-items being supported?  For example, to include static HTML? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 25, 2017, 3:44 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enhancing support for IMS Content-Item message",
          "Text": "Thanks Stephen for the feedback. Here are the responses: 1. Right, there is no plan to change the External Tool flow for now. The External Tool page flow seems really geared to focus on adding one link at a time. We did not find any way that would make the support of multiple items (in particular with autocreate) feel right in that flow, so thus why we propose to keep it untouched for now. 2. There is no plan to support anything else but LTI Links for now, but I see no reason why the implementation once completed could not be extended to support other asset types. Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 25, 2017, 3:43 PM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Opt-in or change default behaviour?",
          "Text": "The proposal is to change the behavior when launching from the Activity chooser to directly go to the Tool Provider UI. This is a change from the current flow where, where, when launching from the Activity Chooser, the user is sent to the External Tool Page with the tool pre-selected. Since this is a change, the current proposal is cautious and makes the new flow an opt-in option, and thus adds an extra setting in the external tool plugin page. The question is whether or not that is truly necessary. The support for Content Item Selection Request is still emerging, and it is a better experience to avoid any in between screen and just show the Tool Provider Add page. As such, should we just remove the opt-in option and just make it the behaviour:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 26, 2017, 6:41 PM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Opt-in or change default behaviour?",
          "Text": "This screencast of how the Content-Item message works in a different LMS/VLE may be of interest here.  Selecting the tool to add takes the user directly to the tool provider and the item is added to the course immediately on return using the title, description, icon and thumbnail provided as part of the selected item.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 26, 2017, 7:20 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Opt-in or change default behaviour?",
          "Text": "I wish we could avoid another checkbox for the content item flow. I wonder if it's possible to just always skip the edit page for anything that supports content-item? But yeah I suppose the setting is the safer choice.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 27, 2017, 9:26 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Opt-in or change default behaviour?",
          "Text": "An alternative to another checkbox might be to change the existing \"Content-Item Message \" checkbox into a select tag with options of \"single item\" and \"multiple items\".  The former would be the default and follow the current workflow.  The latter would send a value of true for allow_multiple and auto_create and skip the \"Add External tool\" page when activated from the activity chooser and bypass it on the return as well (however it was activated).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 27, 2017, 4:52 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Opt-in or change default behaviour?",
          "Text": "The more I think about it, the less I see why we would want to have the old behaviour. Kind of inclined to not proposing any option for now and make it the new behavior at least to begin with unless we hear of a strong case against that. Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 1, 2017, 10:05 PM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Screen Cast added",
          "Text": "Hi! I've added a short screen cast to illustrate the proposed flow: Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2017, 8:14 AM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Screen Cast added",
          "Text": "Thanks Claude. The workflow makes sense and looks good. So if you edit a tool, will you be taken to the content item directly, or to the current edit page? And if we add multiple while editing a tool, what will the behaviour be like?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2017, 9:00 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Screen Cast added",
          "Text": "Not sure if I fully understand which workflow you are referring to as \"edit a tool\", but as I understand the proposal the change only impacts the creation of links within a course.  When the tool is selected from the Activity Chooser it redirects the user to the LTI Tool Provider for them to select/configure one or more content-items to be added to the course.  On being returned to their Moodle course, these item(s) are automatically added to the course page.  (The screencast posted by Claude shows two items being added to the course.)  Once added, these items behave in the same way as any other External Tool (LTI) link; the only thing which has changed is how they were created.  And the change would only apply to those tools which are configured as supporting the Content-Item message and which have been added to the Activity Chooser.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2017, 5:50 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Screen Cast added",
          "Text": "I see. Thanks Stephen, that answers my question",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 3, 2017, 8:17 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Logic for creating a Grade Item",
          "Text": "Hi! I've added a section in the proposal around the logic to decide or not to add a gradebook column when a link is created. It's a bit more evolved that I would have hoped, and curious to hear feedback to see if that makes sense. Thanks! Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 9, 2017, 5:14 AM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Logic for creating a Grade Item",
          "Text": "After a bit more analysis and the discovery of the handling of Result.autocreate implementation in Moodle, I've revised the proposed flow for Grade Item creation. The key here is that: in the new flow (autocreate: true) regardless that the Tool requires a grade (either by capability OR explicit settings for manual deployment) a grade book column will only be created if there is an explicit Line Item section in the Content Item payload. Hoping to hear if that makes sense? Thanks! Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 11, 2017, 1:30 AM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 356584,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356584",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "User language always English when starting LTI request",
          "Text": "When starting an LTI request (via the LtiLibray ( https://github.com/andyfmiller/LtiLibrary )) and launch_presentation_locale is set to \"nl-BE\", the user still gets the Moodle page in English. Currently using version Moodle 3.2.2+ (Build: 20170316). Language packs installed: English, Dutch and French. Language settings: default language = Dutch Plugins - enrolments - Publish as LTI tool: Preferred language = Dutch Also when changing the preferred language of the user to Dutch and starting the LTI request again, the preferred language of this user is changed back to English and the page is shown in English. What parameter should be passed in the LTI request so that the preferred language of the user is correctly set (to Dutch)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 9, 2017, 6:19 PM",
          "AuthorName": "Filip Masset",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2270632&course=5",
          "role": [
            "Picture of Filip Masset"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 356570,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356570",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 356263,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356263",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "'Plugin disabled' next to Publish as LTI tool grade sync in Scheduled Tasks",
          "Text": "Dear Colleagues Passing grades back from Moodle (LTI Provider) to Sakai (Consumer) is working when I click 'Force send grades for all users' in LTI Provider / Grades synchronization report BUT when I try to set it up as a scheduled task in Site administration / Server / Scheduled tasks, I see 'Plugin disabled' in the 'Next run' column. I've checked the settings under Site administration / Plugins / Local plugins / LTI Provider and all looks good - how do I enable this plugin? Many thanks Damion",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 1, 2017, 10:34 PM",
          "AuthorName": "Damion Young",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2067208&course=5",
          "role": [
            "Picture of Damion Young"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 'Plugin disabled' next to Publish as LTI tool grade sync in Scheduled Tasks",
          "Text": "The LTI provider local plugin is now deprecated. What version of moodle are you using? If you are using 3.1 onwards, you should uninstall the LTI provider local plugin and enable the \"Share as LTI tool\" enrolment plugin and the \"LTI\" authentication plugin.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2017, 9:27 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 356240,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356240",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 356014,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356014",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.2 LTI not authenticating",
          "Text": "I just installed Moodle 3.2 over LAMP -rhel 7.3, Apache 2.4, Mysql 5.7, PHP 5.6.25) and the site worked fine for several days. Three days in, LTI no longer authenticates. I have back tracked and checked all that I know to do but cannot and correct the issue. ANy ideas would be helpful. thank you. Instead of launching a lab automatically, the LTI authentication window opens requesting login credentials.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 27, 2017, 1:28 AM",
          "AuthorName": "Alana Matthews",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2265310&course=5",
          "role": [
            "Picture of Alana Matthews"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 353296,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=353296",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Moodle and Canvas grade Passback",
          "Text": "Hi, I am using the LTI Provider in Moodle2.9 to integrate with Canvas LMS. Successfull authentication is happening and users are able to take quiz activity in Moodle. But grades are not passing back to Canvas, I am getting \" Error while processing content unencoding: invalid block \" when cron is executed. Please help me out in finding the cause of the issue. Thank You..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 1, 2017, 2:29 PM",
          "AuthorName": "Niranjan eAbyas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1296953&course=5",
          "role": [
            "Picture of Niranjan eAbyas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Are you in a position where you can upgrade? I believe moodle 3.1's provider is working with canvas. There are reports of it not working again in 3.2 onwards. If you are able to help out at all with more information, especially for the moodle core provider that's appreciated. The issue is here https://tracker.moodle.org/browse/MDL-57703",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 1, 2017, 5:10 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Hi John, Thank you for the reply. What information do you need regarding the issue that I am facing ? Regards, Niranjan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 1, 2017, 10:27 PM",
          "AuthorName": "Niranjan eAbyas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1296953&course=5",
          "role": [
            "Picture of Niranjan eAbyas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "I'm more interested in problems with more recent versions of moodle as we are no longer supporting the plugin. If you can't upgrade, I can suggest that you try using your moodle tool in http://lti.tools/test/tc.php and see if it works. Then try using http://lti.tools/test/tp.php in canvas and see if that works. Then you'll know for sure whether it's the moodle plugin or canvas at fault. Unless of course both work, in which case both are at fault I suppose.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 2, 2017, 9:29 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Hi john, Thank you for sharing the information. I checked with tc.php and everthing is fine. I am not sure how to check the tp.php in canvas. Can you please help me on how we can test the http://lti.tools/test/tp.php it would be more helpful it you can share any document also. Regards, Niranjan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 5, 2017, 4:34 PM",
          "AuthorName": "Niranjan eAbyas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1296953&course=5",
          "role": [
            "Picture of Niranjan eAbyas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Just copy http://lti.tools/test/tp.php into canvas where you normally put the moodle URL . Except set it to LTI 2 Registration URL instead of XML Key is 12345 Secret is secret",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 6, 2017, 8:56 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Hi John, Thank You. I don't find the LTI 2 option in our Canvas instance. We just have the \"Manual Entry\", \"URL\", \"Paste LMS\" and where should I submit the grades to the assessment and see if it passed back to Canvas. Another thing that we observed is that the values \"lis_result_sourcedid\" and \"lis_outcome_service_url\" are not passing to the Moodle. Will it be any cause for grades not passing back ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 21, 2017, 1:00 AM",
          "AuthorName": "Niranjan eAbyas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1296953&course=5",
          "role": [
            "Picture of Niranjan eAbyas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Try URL or manual entry. You may have found the cause with those missing values. Perhaps the LTI instance is not quite configured the best in canvas or they don't support grades. We can find out as we test with the test tool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 21, 2017, 8:45 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Hi John I am able to fix it. Issue was with the timezone and time.  Time difference between the Canvas and Moodle server should not be more than 5min. If you want to increase, please change below lines, protected $timestamp_threshold = 300; // in seconds, five minutes -- line number--->447 in local/ltiprovider/lms-blti/OAuth.php. Thank You..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 18, 2017, 8:34 PM",
          "AuthorName": "Niranjan eAbyas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1296953&course=5",
          "role": [
            "Picture of Niranjan eAbyas"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 354736,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354736",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Change in LTI URL and Other assets",
          "Text": "Hi all, I work for a company who is undergoing rebranding. We have a solution which is LTI compatible which integrate with institutes Moodle systems. Due to rebranding, our LTI callback URL will be updated with a new domain . We will also update our other branding assets. Our clients, embed LTI link in multiple places like course, student dashboard , Menu item, etc. They also have text and image associated with sections to promotion using our solution. My question is if Moodle administrators update external URL in the configuration once, will it reflect with updated details at all the other sections within Moodle? Secondly, Is there a way we can update associated images and text in bulk for any Moodle section? I have seen bulk course/student import sheets, but is there something similar to update content and images. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 30, 2017, 1:46 PM",
          "AuthorName": "Bhavin Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255472&course=5",
          "role": [
            "Picture of Bhavin Patel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 354412,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354412",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Result Data Extension",
          "Text": "Hello Moodler, We've been looking at getting details results back into moodle LMS through our LTI tool provider (Suppose one url to show result of that user)can moodle support something like resultData extension https://www.edu-apps.org/extensions/index.html https://www.edu-apps.org/extensions/result_data.html",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2017, 3:36 PM",
          "AuthorName": "Gautam Bishwas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=904614&course=5",
          "role": [
            "Picture of Gautam Bishwas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 354096,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354096",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Use Student ID for LTI Tool instead of moodle id",
          "Text": "Hello, I am running Moodle 3.1 (Build: 20160523) . I have an External Tool that is storing student information based on their Moodle ID. I want Moodle to send the Student ID instead so we can have the data stored over multiple years (we create new Moodle instance every year) without causing conflicts with reused Moodle ID's. The provider of the External Tool is unable to make this change on their end. I've seen some articles here that mentioned adjusting the /mod/lti/locallib.php file. Can someone walk me through what setting up that custom parameter looks like?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 17, 2017, 4:37 AM",
          "AuthorName": "Davian Rodriguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2151861&course=5",
          "role": [
            "Picture of Davian Rodriguez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 353058,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=353058",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Office Mix woes",
          "Text": "Hi, I'm on Moodle 3.2.3 and am trying to link to Office Mix LTI using external tool. It all looks great until Mix says The score is not written into Moodle gradebook. I've tried to search online and have seen a small number of people mention it but not share a fix. Has anyone experienced this and/or fixed this? Thanks Stuart",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1424442/Mix%20error.PNG"
          ],
          "Time": "Saturday, May 27, 2017, 12:12 AM",
          "AuthorName": "Stuart Ridout",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20629&course=5",
          "role": [
            "Picture of Stuart Ridout"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 352491,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352491",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "lti provider \"you cannot enrol yourself in this course\"",
          "Text": "Hello, I have this really, really weird problem, of which I can't seem to find an answer. hopefully you can help me: I have 3 different Moodle environments, of which 2 have the plugin \" local LTIprovider \". lets call these provider A & provider B . The third site is the consumer , so lets call it like that. Both provider sites are on the same server . Both provider sites were Moodle 2.9 , consumer site is 3.1.5. Both provider sites have the same course, and I created a LTI link with exactly the same settings for the both of them. When I put them in the consumersite, I can enter the courses with a student account. So far so good.. Now here comes the weird part: After upgrading both provider sites to Moodle 3.1.5, when trying to enter the LTI course on provider A, I get the message \"you cannot enrol yourself in this course\". When trying to enter the same course on provider B, it enters the course normally. So I have a problem on provider A. Steps taken to solve the matter myself: Reset all roles to their standard: no change Install \"block_admin_preset\" on both sites, export on provider B & import on provider A: no change On the server (I have SSH access to the server) deleted the code from provider A (except the config.php) and copied the code from provider B to the folder of provider A: no change Manually checked all settings in the course on both provider sites: the were all the same checked the links from local_ltiprovider on privder A and provider B: all settings are 100% the same. As you might understand I'm kinda confused about this issue.. Do you have any ideas how to solve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 11:06 PM",
          "AuthorName": "Daniel Dubbeldam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1719465&course=5",
          "role": [
            "Picture of Daniel Dubbeldam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: lti provider \"you cannot enrol yourself in this course\"",
          "Text": "so I did some research myself again today, and I have found the solution. apparently someone had bumped the version of the local_ltiprovider to 2014080103. in the update code from the local_ltiprovider it says this: \n```text\nif ($oldversion < 2014080103) {\n\n\n        $table = new xmldb_table('local_ltiprovider');\n\n\n        $field = new xmldb_field('enrolinst', XMLDB_TYPE_INTEGER, 2, XMLDB_UNSIGNED, XMLDB_NOTNULL, null, 1, 'requirecompletion');\n\n\n        if (!$dbman->field_exists($table, $field)) {\n\n\n            $dbman->add_field($table, $field);\n\n\n        }\n\n\n        $field = new xmldb_field('enrollearn', XMLDB_TYPE_INTEGER, 2, XMLDB_UNSIGNED, XMLDB_NOTNULL, null, 1, 'enrolinst');\n\n\n        if (!$dbman->field_exists($table, $field)) {\n```\n This means that, since our version was 2014080103, the columns \"enrollearn\"  and \"enrolinst\" were not created. This caused the site to not allow users to enter the course. Solution was to revert the version.php of the old local_ltiprovider back to 2014080102, and change the version in mdl_config_plugins also back to 2014080102. this way, we could upgrade the site with the new code, and since the ltiprovider is now below 2014080103, it was upgraded the right way, with the creatoion of \"enrollearn\"  and \"enrolinst\".",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 23, 2017, 4:55 PM",
          "AuthorName": "Daniel Dubbeldam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1719465&course=5",
          "role": [
            "Picture of Daniel Dubbeldam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: lti provider \"you cannot enrol yourself in this course\" [Solved]",
          "Text": "Daniel, good to hear you figured out the solution. Thanks for sharing it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 23, 2017, 4:58 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352677,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352677",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Importing External Tool",
          "Text": "Hello, I have courses with pre-configured External Tools and I want users to be able to import those external tools into their courses using the webservice core_course_import_course. In the source-course the tool is correctly configured, but after the import all information about the external tool is lost. This is the case if I use a preconfigured external tool as well as if it is a custom external tool. Can anybody tell me if I am doing something wrong or if it needs something special for importing ? Kind regards Robert",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1423009/tool_1_source.jpg?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1423009/tool_2_imported.jpg?forcedownload=1"
          ],
          "Time": "Friday, May 19, 2017, 8:32 PM",
          "AuthorName": "Robert Schrenk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1812998&course=5",
          "role": [
            "Picture of Robert Schrenk",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Importing External Tool",
          "Text": "Just found out this was already asked here: https://moodle.org/mod/forum/discuss.php?d=338206#p1363463",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 20, 2017, 1:49 AM",
          "AuthorName": "Robert Schrenk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1812998&course=5",
          "role": [
            "Picture of Robert Schrenk",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Importing External Tool",
          "Text": "This is not yet implemented in moodle. There are a few technical and security implications. But it is being worked on  at https://tracker.moodle.org/browse/MDL-34161 . The best thing you can do is vote and comment there or assist with the patch",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 22, 2017, 8:50 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Importing External Tool",
          "Text": "Thank you very much! At least there is a small spot of light. I will have a look into this. If I can I would contribute - what are the first steps?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 22, 2017, 1:46 PM",
          "AuthorName": "Robert Schrenk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1812998&course=5",
          "role": [
            "Picture of Robert Schrenk",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Importing External Tool",
          "Text": "Marina has attached her patch to the issue. You can use git to apply it to your moodle instance (you will want to use a test instance at first) E.g. git init . git pull git://github.com/marinaglancy/moodle.git MDL-34161 -31 You'll need to read the comments to figure out what to do next, sounds like it is blocked by https://tracker.moodle.org/browse/MDL-36580",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 22, 2017, 2:35 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 338206,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=338206",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "External Tool reverts to default",
          "Text": "Hi Everyone, We are running v3.0. We have 2 LTI configurations for the External Tool plugin (VoiceThread and EBSCO Discovery Service).  When courses are migrated into a blank course shell, either through the import function or through a backup/restore, they revert back to the default setting \"Automatic, based on Launch URL \" for an unknown reason.   Has anyone else experienced this and been able to resolve it? Thank you, Ericka",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 20, 2016, 3:03 AM",
          "AuthorName": "Ericka E.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1616201&course=5",
          "role": [
            "Picture of Ericka E."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool reverts to default",
          "Text": "Hi, I just found your post after asking a question about the same issue here: https://moodle.org/mod/forum/discuss.php?d=352677 Have you found a solution to this? Kind regards Robert",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 20, 2017, 1:48 AM",
          "AuthorName": "Robert Schrenk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1812998&course=5",
          "role": [
            "Picture of Robert Schrenk",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool reverts to default",
          "Text": "The export and import of LTI tool types is not yet implemented in moodle. There are a few technical and security implications. But it is being worked on  at https://tracker.moodle.org/browse/MDL-34161 . The best thing you can do is vote and comment there or assist with the patch",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 22, 2017, 8:51 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352287,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352287",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 2 registration not working only on remote instance of Moodle",
          "Text": "So this is going to sound weird, but I have an app that I am writing and LTI integration for. I am try to get the LTI 2 registration to work for this app. I have it working great on my Moodle instances running on my localhost (both 3.2 and 3.3), however when I try to register my app on a test instance running in AWS (3.2) I get a 400 error and no other output. I have added the tool_profile.json that I am sending to the failing moodle instance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2017, 9:22 PM",
          "AuthorName": "Michael Robellard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2237154&course=5",
          "role": [
            "Picture of Michael Robellard"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 2 registration not working only on remote instance of Moodle",
          "Text": "Hi I think I know two problems that might be causing this: You will need to run your LTI app on a publically available server in order for the AWS instance to access it. Even if you yourself have access to your tool, this won't be enough because moodle needs to send some requests directly to get the tool profile etc. You will need to allow your AWS instance as an origin in your tool. This is because the AWS instance needs to include your tool. To do this (assuming your tool is php) add \n```text\nheader(\"Access-Control-Allow-Origin: \nwww.yourawsdomain.com\n\");\n```\n There should be similar ways to do this in other languages",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 15, 2017, 9:04 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2 registration not working only on remote instance of Moodle",
          "Text": "I am now trying to register the tool from a publicly accessible location and I tried add an Access-Control-Allow-Origin header and I am still getting a 400 when I send the tool profile to the registration url.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 19, 2017, 2:54 AM",
          "AuthorName": "Michael Robellard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2237154&course=5",
          "role": [
            "Picture of Michael Robellard"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2 registration not working only on remote instance of Moodle",
          "Text": "Figured it out! Had nothing to do with Running publicly or Access-Control-Allow-Origin It was Apache . Apache was stripping the Authorization Header coming into the server. In moodle toolproxy.php the response code was being set properly to 401 on line 74 \n```text\npublic function execute($response) {\n\n\n\n\n    $ok = $this->check_tool_proxy(null, $response->get_request_data());\n\n\n    if ($ok) {\n\n\n        $toolproxy = $this->get_service()->get_tool_proxy();\n\n\n    } else {\n\n\n        $toolproxy = null;\n\n\n        $response->set_code(401);\n```\n but then being changed to 400 later on \n```text\n       if (!empty($toolproxy)) {\n\n\n            if ($ok) {\n\n\n                // If all went OK accept the tool proxy.\n\n\n                $toolproxy->state = LTI_TOOL_PROXY_STATE_ACCEPTED;\n\n\n                $toolproxy->toolproxy = $response->get_request_data();\n\n\n                $toolproxy->secret = $toolproxyjson->security_contract->shared_secret;\n\n\n                $toolproxy->vendorcode = $toolproxyjson->tool_profile->product_instance->product_info->product_family->vendor->code;\n\n\n\n\n                $url = $this->get_endpoint();\n\n\n                $body = <<< EOD\n\n\n{\n\n\n  \"@\ncontext\n\" : \"\nhttp://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\n\",\n\n\n  \"@type\" : \"ToolProxy\",\n\n\n  \"@id\" : \"{$url}\",\n\n\n  \"tool_proxy_guid\" : \"{$toolproxy->guid}\"\n\n\n}\n\n\nEOD;\n\n\n                $response->set_code(201);\n\n\n                $response->set_content_type('application/vnd.ims.lti.v2.toolproxy.id+json');\n\n\n                $response->set_body($body);\n\n\n            } else {\n\n\n                // Otherwise reject the tool proxy.\n\n\n                $toolproxy->state = LTI_TOOL_PROXY_STATE_REJECTED;\n\n\n                $response->set_code(400);\n\n\n            }\n\n\n            lti_update_tool_proxy($toolproxy);\n\n\n        } else {\n\n\n            $response->set_code(400);\n\n\n        }\n```\n I think if someone puts a return after the set_code(401) It should start returning a 401 instead of a 400. The fix in apache was simple Just add: \n```text\nSetEnvIf Authorization \"(.*)\" HTTP_AUTHORIZATION=$1\n```\n to the Apache Configuration and problem solved",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 19, 2017, 4:36 AM",
          "AuthorName": "Michael Robellard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2237154&course=5",
          "role": [
            "Picture of Michael Robellard"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2 registration not working only on remote instance of Moodle",
          "Text": "Glad to hear it was solved, and thanks for sharing the solution",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 19, 2017, 8:58 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352254,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352254",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Basiclti.xml authentication approach",
          "Text": "Hello Friends, I created one common cartridge package with BLTI module. My assumption is that when client import CC package in his/her LMS platform, then everything should get import including authorisation key. There  should not be any manual intervention. As per online documentation and sample; in my basiclti. xml file I put all three parameters 1. launch url 2 consumer key (guid) 3 secret key, but when I import my package in moodle, except guid & secret key everything gets imported. I also checked this package with canvas and I am facing same problem there. Herewith I am also attaching my sample package. Please help me to look into right direction.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2017, 1:39 PM",
          "AuthorName": "Shail Jai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=782218&course=5",
          "role": [
            "Picture of Shail Jai"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Basiclti.xml authentication approach",
          "Text": "Interesting, it seems no one has clue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 12:55 PM",
          "AuthorName": "Shail Jai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=782218&course=5",
          "role": [
            "Picture of Shail Jai"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Basiclti.xml authentication approach",
          "Text": "I'm not sure what you used to create it, but it does not look like an XML file to me. Perhaps copy paste the xml here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 1:40 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Basiclti.xml authentication approach",
          "Text": "Hi John, sorry, I just realise that attachment is not in xml format. Here  is the sample code. <?xml version=\"1.0\" encoding=\"UTF-8\"?> <cartridge_basiclti_link xmlns=\" http://www.imsglobal.org/xsd/imslticc_v1p0 \" xmlns:blti = \" http://www.imsglobal.org/xsd/imsbasiclti_v1p0 \" xmlns:lticm =\" http://www.imsglobal.org/xsd/imslticm_v1p0 \" xmlns:lticp =\" http://www.imsglobal.org/xsd/imslticp_v1p0 \" xmlns:xsi = \" http://www.w3.org/2001/XMLSchema-instance \" xsi:schemaLocation = \" http://www.imsglobal.org/xsd/imslticc_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticc_v1p0.xsd http://www.imsglobal.org/xsd/imsbasiclti_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imsbasiclti_v1p0.xsd http://www.imsglobal.org/xsd/imslticm_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticm_v1p0.xsd http://www.imsglobal.org/xsd/imslticp_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticp_v1p0.xsd \"> <blti:title>LMS</blti:title> <blti:description>moodle test</blti:description> <blti:icon></blti:icon> <blti:launch_url> http://example.com/test</blti:launch_url> ; <blti:custom> <lticm:property name=\"guid\">12345</lticm:property> <lticm:property name=\"secret\">abc123456</lticm:property> </blti:custom> <cartridge_bundle identifierref=\"BLTI001_Bundle\"/> <cartridge_icon identifierref=\"BLTI001_Icon\"/> </cartridge_basiclti_link>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 2:30 PM",
          "AuthorName": "Shail Jai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=782218&course=5",
          "role": [
            "Picture of Shail Jai"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Basiclti.xml authentication approach",
          "Text": "Basic LTI is designed to allow you to configure a tool, but the consumer key and secret should be kept private. This is because the cartridge should be public. If your key is also public, it defeats the purpose of the key. https://www.imsglobal.org/specs/ltiv1p0/implementation-guide#toc-5 This should explain why moodle and canvas both ignore it when you include it. But I'm interested to know if there's somewhere in the ims documentation that says it should be included in the cartridge.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 3:41 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352292,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352292",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI and Evasys",
          "Text": "Moodle 3.1.1+ (Build: 20160811) Version 2016052301.06 Stable version Has anyone integrated Evasys data via LTI/external tool?  I seem to have added the URL but that is far as I have got - this is the first time I have had a go at this.  When I go to add the activity it is not on my list. Evasys have provided passwords/links but I am not sure where I should be putting them.  We aim to provide feedback data on each course. thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2017, 11:45 PM",
          "AuthorName": "Sandra Watts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=387632&course=5",
          "role": [
            "Picture of Sandra Watts"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI and Evasys",
          "Text": "If you are provided with a password, this may be the secret you need to use. I'd try adding the tool manually. Go to Site administration > Plugins > Activity modules > External tool > Manage tools and click \"configure a tool manually\". The link should be pasted into \"Tool URL\". Then set shared secret to the \"password\" you were given. If you weren't given a \"key\" or \"username\" try just typing anything there, for instance your site name. You may want to just make it all one word. E.g. \"acmecorporation\" Let me know if this helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 15, 2017, 8:51 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 351423,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351423",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "external tool does't support LTI",
          "Text": "Hello Moodle-Users, how can I make a connection between Moodle and an external tool, if the external tool does not support LTI? In my case the external tool would be Jenkins or DOORS or PTC. What I want to realize is following scenario: A Moodle participant has chosen the course about Jenkins and is reading the introduction slides in moodle and watching some exercises. Now he has to do a task in Jenkins, the external tool. Problem is: how does moodle know that the task in the external tool is done? I would like to have a tick mark in moodle if the task is done. Is that possible? If yes, how?? Through Plugins? Web Services? I'm thankfull for every help. Greetings",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2017, 9:26 PM",
          "AuthorName": "Jülide Dursun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2230151&course=5",
          "role": [
            "Picture of Jülide Dursun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: external tool does't support LTI",
          "Text": "This could be done using web services, yes, but you will need to modify Jenkins to call the web service (perhaps they allow plugins?). This will require development work. External tool is only designed to work with LTI. A simpler solution would be to have a URL resource linking to Jenkins with \"Students can manually mark the activity as completed\" selected.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2017, 8:54 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: external tool does't support LTI",
          "Text": "Thank you for your help. But could you give me some advices how to do this? For the two suggestions, do you have some tips? Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2017, 4:34 PM",
          "AuthorName": "Jülide Dursun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2230151&course=5",
          "role": [
            "Picture of Jülide Dursun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: external tool does't support LTI",
          "Text": "You can start by reading https://docs.moodle.org/dev/Web_services and https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 8, 2017, 9:16 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 351594,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351594",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Help me. I want to use external tool in moodle 3.2.2+.But, I cannot use this. [What I can do] l can go to external tool setup page. [What I cannot do] I push submit button of setup page. but, I have gotten 500 error message. [error_message] Potential coding error - active database transaction detected during request shutdown:\\n* line 105 of /course/modlib.php: call to moodle_database->start_delegated_transaction()\\n* line 161 of /course/modedit.php: call to add_moduleinfo()\\n, referer: http://(my IP address)/moodle/course/modedit.phpadd=lti&type=&course=2&section=0&return=0&sr=0 [environment] PHP 5.6.30 MySQL 5.6.36 CentOS release 6.9 (Final)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 29, 2017, 7:02 PM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "First, share what you are filling in on the LTI form.  LTI resources were to be opened and usable by all who desire to use them.  Don't think there are any security/privacy issues by sharing that info. Typically, one is entering a url to an XML file. Example: https://www.eduappcenter.com/apps/162#.WQR-aMm1vFQ So does your Moodle have",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 29, 2017, 7:56 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "> Ken Task thank you for your answer. I filled only activity name, tool URL , consumer key, and secret.(This is like LTI 1.1.) There are five extensions of PHP by  \"php -m|grep xml\". libxml xml xmlreader xmlrpc xmlwriter I checked my database using MySQL Tuner. [result of MySQL check](I'm sorry. this is so long...) >>  MySQLTuner 1.6.0 - Major Hayden <major@mhtx.net> >>  Bug reports, feature requests, and downloads at http://mysqltuner.com/ >>  Run with '--help' for additional options and output filtering [--] Skipped version check for MySQLTuner script [OK] Currently running supported MySQL version 5.6.36 [OK] Operating on 64-bit architecture -------- Storage Engine Statistics ------------------------------------------- [--] Status: +ARCHIVE +BLACKHOLE +CSV -FEDERATED +InnoDB +MRG_MYISAM [--] Data in InnoDB tables: 18M (Tables: 370) [OK] Total fragmented tables: 0 -------- Security Recommendations  ------------------------------------------- [OK] There is no anonymous account in all database users [!!] User 'user@localhost' has no password set. [!!] There is not basic password file list ! -------- Performance Metrics ------------------------------------------------- [--] Up for: 26m 28s (484 q [0.305 qps], 113 conn, TX: 545K, RX: 62K) [--] Reads / Writes: 92% / 8% [--] Binary logging is disabled [--] Total buffers: 169.0M global + 1.1M per thread (151 max threads) [OK] Maximum reached memory usage: 170.1M (8.48% of installed RAM) [OK] Maximum possible memory usage: 338.9M (16.89% of installed RAM) [OK] Slow queries: 0% (0/484) [OK] Highest usage of available connections: 0% (1/151) [!!] Aborted connections: 9.73%  (11/113) [OK] Query cache efficiency: 25.2% (78 cached / 310 selects) [OK] Query cache prunes per day: 0 [OK] Sorts requiring temporary tables: 0% (0 temp sorts / 32 sorts) [OK] Temporary tables created on disk: 4% (3 on disk / 70 total) [OK] Thread cache hit rate: 99% (1 created / 113 connections) [OK] Table cache hit rate: 98% (454 open / 461 opened) [OK] Open file limit used: 0% (48/5K) [OK] Table locks acquired immediately: 100% (221 immediate / 221 locks) -------- MyISAM Metrics ----------------------------------------------------- [!!] Key buffer used: 18.2% (1M used / 8M cache) [OK] Key buffer size / total MyISAM indexes: 8.0M/97.0K [!!] Read Key buffer hit rate: 90.0% (10 cached / 1 reads) -------- InnoDB Metrics ----------------------------------------------------- [--] InnoDB is enabled. [OK] InnoDB buffer pool / data size: 128.0M/18.5M [OK] InnoDB buffer pool instances: 1 [!!] InnoDB Used buffer: 21.07% (1726 used/ 8191 total) [OK] InnoDB Read buffer efficiency: 94.58% (30040 hits/ 31761 total) [!!] InnoDB Write buffer efficiency: 0.00% (0 hits/ 1 total) [OK] InnoDB log waits: 0.00% (0 waits / 14 writes) -------- AriaDB Metrics ----------------------------------------------------- [--] AriaDB is disabled. -------- Replication Metrics ------------------------------------------------- [--] No replication slave(s) for this server. [--] This is a standalone server.. -------- Recommendations ----------------------------------------------------- General recommendations: Set up a Password for user with the following SQL statement ( SET PASSWORD FOR 'user'@'SpecificDNSorIp' = PASSWORD('secure_password'); ) MySQL started within last 24 hours - recommendations may be inaccurate Reduce or eliminate unclosed connections and network issues",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 29, 2017, 11:50 PM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "This part: \" I filled only activity name, tool URL , consumer key, and secret.(This is like LTI 1.1.) \" please provide specifics ... to all of them ... the actual entries you made. Tuner output ... one that catches my eye: [!!] Aborted connections: 9.73%  (11/113) Indicates there might be some issues in connectivity between the Moodle code on the web server and the DB server. Apache error logs might also show that. and this one: Reduce or eliminate unclosed connections and network issues Is the DB server on the same server as the moodle code it should be using socket connections. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 12:39 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "> please provide specifics ... to all of them ... the actual entries you made. I'm sorry. I tell you about them. Activity name : LTItest Tool URL : http://49.212.209.129/tool.php Consumer key : 12345 Shared secret : secret other forms : empty or default value(I don't change default customize of moodle 3.2.2+). Masayuki Asano.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 5:35 AM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Thank you! ;) In a test from command line to that URL and php script ... the following is returned ... ﻿ <p style=\"color:red\">Could not establish context : <p> <p>Base String:<br/> <br/></p> <pre> Raw POST Parameters: A lot of info about server where I tried to use it ... not disclosed here for obvious reasons. Raw GET Parameters: Nothing here. So ... what is one supposed to see? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 6:30 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "thank you for your report! It is the response that I want. The program is checking tool about LTI 1.1 POST values. It made and provided IMS GLC two years ago. Latest moodle use LTI 2.0. So, your launch might not catch normally it. I often checked Apache error_log when you advised about it. But, There was not found new message except 'Potential coding error - active database transaction detected during request shutdown:\\n* line 105 of /course/modlib.php: call to moodle_database->start_delegated_transaction()\\n* line 161 of /course/modedit.php: call to add_moduleinfo()\\n, referer: http://160.16.110.61/moodle/course/modedit.php?add=lti&type=&course=2&section=0&return=0&sr=0 \"'... I wander that I can add the other activity(Quiz,chat,and more...) to courses. But,I cannot add only external tools to courses. Would you mind to check php.ini and my.cnf of my moodle server?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 6:59 AM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Huh?   Really?  That was the response you expected?   Uhhhh .... you could have done this test yourself from command line on a Mac or Linux! Not sure what I'd be looking for nor what to suggest for config files as guessing settings isn't a good practice.   So I'll decline the invite. Appears you have linux ... install MySQLTuner to check DB. Someone else has reported a similar error as yours \"transaction detected during request shutdown\" A discussion about it ... 2014 ... but that was about quiz ... https://moodle.org/mod/forum/discuss.php?d=263351 The line reported (161) is in this bit of code: ﻿ if (!empty($fromform->update)) { list($cm, $fromform) = update_moduleinfo($cm, $fromform, $course, $mfor$ } else if (!empty($fromform->add)) { *161        $fromform = add_moduleinfo($fromform, $course, $mform); } else { print_error('invaliddata'); } Google finds quite a few hits on transaction detected during request shutdown' ... https://www.google.com/search?q=transaction+detected+during+request+shutdown&ie=utf-8&oe=utf-8 So ?????? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 8:00 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Mr Ken what I was NOT able to understand happened in my moodle. As a result, My problem was resolved. I could launch LTI formatted data from my moodle 3.2.2+ server to tool provider's server. [What I did] I added the code into course/modlib.php (106～108). <the code> if(!isset($transaction)){ echo \"<script>alert('invalid_error!');</script>\"; } Why did my moodle moved by the code to alert???",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 11:13 AM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Not sure I understand the question, but suggest if you think it's a bug please report it in tracker. https://tracker.moodle.org/secure/Dashboard.jspa When you do, you'll have to provide steps for someone to be able to replicate the problem so you'll have to disclose info ... other wise, no one who is a true programmer can test. Am not a coder. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 1:10 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Mr.Ken I cannot judge whether these error is bug or not. And. The problem doesn't resolve essentially.Because, It was unstable to add LTI tool.(My check was not enough...sorry.) But, I report Moodle Tracker these phenomenon. Because, honestly speaking, I think that my skill and knowledge about moodle is not enough to resolve the problem. I can only report that There is the problem. But, at least, I could add LTI tool. This is the fact. I cannot thank you enough for this. Thank you! masayuki asano",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 2:26 PM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "The error seems very strange. Have you tried using the test provider and seeing if you get the same error? http://lti.tools/test/tp.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 1, 2017, 8:34 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 351179,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351179",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "sharing activities within a single Moodle using LTI",
          "Text": "Hi Is it possible to have a single Moodle be both the provider and consumer of an activity? This would allow the sharing of a single activity between multiple courses. Thanks Killian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2017, 11:21 PM",
          "AuthorName": "Killian Holmes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1430815&course=5",
          "role": [
            "Picture of Killian Holmes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: sharing activities within a single Moodle using LTI",
          "Text": "It can be done, but because of the way LTI works it will create a new account on the Moodle and log the user out of their old account. So it may cause confusion. We want to eventually auto-detect this situation and just use the original account. This will be done in https://tracker.moodle.org/browse/MDL-57345 . Please vote and comment there so it can be picked up sooner.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2017, 8:17 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: sharing activities within a single Moodle using LTI",
          "Text": "Thanks for sharing the JIRA ticket. I've commented and voted for it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2017, 4:02 PM",
          "AuthorName": "Killian Holmes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1430815&course=5",
          "role": [
            "Picture of Killian Holmes"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 350388,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350388",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "External Tool LTI content-item message",
          "Text": "Hello, I tried to use the external tool to get a content list for selection by the LTI content-item message, but when I click the 'Select content' button it always gives the 'Invalid Content-Item response format' message. I have verified the message with the LTI emulator ( http://ltiapps.net/test/tc.php ) before and it looks ok (see attached). Anyone knows what's wrong with the format or it should be something else for the select content button? Adrian",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1413971/message.jpg?forcedownload=1"
          ],
          "Time": "Wednesday, April 5, 2017, 4:27 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool LTI content-item message",
          "Text": "What LTI provider are you using? If the url you entered is not an LTI provider it will not give a correct content-item response. If you are just interested to try it out, you can use the tool provider emulator http://lti.tools/test/tp.php If you are using a tool, it may be a problem with the tool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 6, 2017, 8:13 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回應: External Tool LTI content-item message",
          "Text": "So... I found out that moodle only accepts one item returned in the 'content_items' field, where (it seems?) in the LTI spec ( http://www.imsglobal.org/specs/lticiv1p0/specification-3 ) you can return multiple items in the content_item response.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 7, 2017, 3:19 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回應: External Tool LTI content-item message",
          "Text": "That is definitely a bug. Are you able to create a bug report on tracker.moodle.org?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 1:46 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回應: External Tool LTI content-item message",
          "Text": "I would like to know, is it that moodle's implementation expected to accept one item returned only? Cos it seems just to use the content item returned to configure the current external tools settings (with some custom parameters maybe).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 2:37 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回應: External Tool LTI content-item message",
          "Text": "Yes, well as far as I'm aware it just uses the first one. And yes, configuration only.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 3:23 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回應: External Tool LTI content-item message",
          "Text": "I registered the tool with membership service enabled, and I am able to retrieve the users list when using basic-lti-launch-request. However when I use the content-item selection, /mod/lti/contentitem.php throws a 404 error and no error log can be found. (I enabled all capabilities and tool settings parameters for both basic-lti-launch-request and ContentItemSelectionRequest like this): array( 'tc_profile_url'            => 'ToolConsumerProfile.url', 'system_setting_url'        => 'ToolProxy.custom.url', 'context_setting_url'        => 'ToolProxyBinding.custom.url', 'link_setting_url'            => 'LtiLink.custom.url', 'context_memberships_url'    => 'ToolProxyBinding.memberships.url', ) By the way, I alwyas get the following js error in the External tool registration result page, no matter registration is success or not. I believe this looks like to be a bug: Uncaught TypeError: window.parent.triggerExternalRegistrationComplete is not a function at Object.init (first.js:87)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2017, 5:43 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回應: External Tool LTI content-item message",
          "Text": "Feel free to create an issue about the triggerExternalRegistrationComplete error. As for the content item 404, did you check your web server logs? You can compare your content item request to a moodle to moodle one as a starting point. See if anything is missing",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2017, 11:31 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 351124,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351124",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Trying to use LTI 2.0 Membership service",
          "Text": "I am trying to develop an LTI 2.0 tool provider. I have Moodle running locally on my machine and have opened it up to the world via ngrok. (This also allows me to inspect the HTTP requests.) I can get Moodle to configure the external tool, add it to a site, and do a BLTI launch successfully. I'm am trying to then use the credentials to access Moodle's membership service to get a course roster list. Whenever I try to access it, I'm getting a 401 error. However, if I go to http://lti.tools/test/tp.php , set up the OAuth credentials in the \"Consumer\" tab then go to the \"Membership\" tab and issue the request to my server , it works. Looking at the raw HTTP request in ngrok, everything looks like it should work for my request. I've verified that the steps taken to generate the OAuth signature produce the same signature as the working request, so they should create a good signature for my request too. Example of the HTTP Requests: Good request from lti.tools — receives a 200 response with the data: \n```text\nGET /mod/lti/services.php/links/1/memberships?limit=25 HTTP/1.1\nHost: 6aecef01.ngrok.io\nAuthorization: OAuth oauth_version=\"1.0\",oauth_nonce=\"8ff57ef6c3069d9a00c4880b719d3587\",oauth_timestamp=\"1492697465\",oauth_consumer_key=\"PwU3QQ5su9p3FJe\",oauth_body_hash=\"2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D\",oauth_signature_method=\"HMAC-SHA1\",oauth_signature=\"fy7ik8IeKE9Fo%2BFNVb6cwPmsSz8%3D\"\nAccept: application/vnd.ims.lis.v2.membershipcontainer+json\nX-Forwarded-For: 50.28.38.70\n```\n Bad request from my tool provider — receives a 401 response: \n```text\nGET /mod/lti/services.php/links/1/memberships?limit=25 HTTP/1.1\nAccept: application/vnd.ims.lis.v2.membershipcontainer+json\nHost: 6aecef01.ngrok.io\nAuthorization: OAuth oauth_version=\"1.0\",oauth_nonce=\"88a937b722722ad6056751bb1948819c\",oauth_timestamp=\"1492697466\",oauth_consumer_key=\"PwU3QQ5su9p3FJe\",oauth_body_hash=\"2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D\",oauth_signature_method=\"\",oauth_signature=\"ffP9X937aSmmgJrNr%2B%2BtdFRwbpw%3D\"\nX-Forwarded-For: 2601:845:c200:d227:bd16:9504:5ced:6dd3\n```\n Does anyone have any insight on what I may be missing, or know if the source code for lti.tools is available somewhere?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2017, 2:26 AM",
          "AuthorName": "Brad Lindsay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2229931&course=5",
          "role": [
            "Picture of Brad Lindsay"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Trying to use LTI 2.0 Membership service",
          "Text": "I figured it out. I was sending an empty value for oauth_signtature_method. Can't believe I didn't see that after checking it several times.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 23, 2017, 8:46 PM",
          "AuthorName": "Brad Lindsay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2229931&course=5",
          "role": [
            "Picture of Brad Lindsay"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 351058,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351058",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Workflow to migrate MNet users to LTI users",
          "Text": "Hi, Martin Dougiamas mentioned in the tracker ( https://tracker.moodle.org/browse/MDL-40905 ), that MNet could be replaced with LTI authentication. Is there a workflow to migrate all users on a remote peer to LTI users? The basic idea is, that users do not even know, that authentication works different in the background and they keep their user credentials formerly authenticated through MNET. An MNet user is identified through the following columns in the user table: mnethostid auth Is it possible to migrate those users to LTI authentication and to match the user accounts to the same user on the identity provider, that was used for MNet authentication? Would be cool, if someone already has experience with migrating form MNet to LTI otherwise I am going to find out myself. Kind regards, David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 1:00 AM",
          "AuthorName": "David Bogner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=110156&course=5",
          "role": [
            "Picture of David Bogner",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Workflow to migrate MNet users to LTI users",
          "Text": "To replace MNET authentication fully, the best way would be: On the site you want the users to log into (what used to be your MNET auth subscriber - now LTI provider) Create a new course Share the whole course via LTI Use course meta enrolment on course you want the users from the other moodle to have access to. On the site you want the users to come from (what used to be your MNET auth publisher - now LTI consumer) Create a course with all users enrolled in it Add an instance of LTI and add the provided course. On the LTI provider site, run the \\enrol_lti\\sync_members scheduled task Users log in on their own moodle site and get to the other site by going to that new course and clicking on the LTI instance. (or we could use single activity course format to simplify it) As you have no doubt guessed from reading that, LTI is not a full replacement for MNET yet. There is still some more work to be done. However, if you only want users to enrol and use certain courses or activities , LTI will work really well and in fact may work better than MNET. It depends on your use case.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 9:10 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Workflow to migrate MNet users to LTI users",
          "Text": "Hi John, that is an interesting approach, but I think it won't solve our problem. We use MNet primarily as SSO solution because we do not have access to other SSO technologies. So we have a Moodle platform, that acts as Identity provider for several other Moodle platforms. Have a look at: http://onlinecampus-profil.virtuelle-ph.at/ With you approach, I assume that we would create new user accounts, which are different from the actual MNet accounts. But our goal is, that users keep their accounts and all roles, course subscription and other stuff associated to their accounts. Current Situation: User Richards logs in to Moodle IDP (Identity Provider) -> and is then transferred to Moodle Remote. On Moodle Remote, the user is logged in via MNet authentication. He is teacher in several courses on Moodle Remote and has the Manager Role site wide on Moodle Remote . Future desired situation: User Richard logs in to Moodle IDP and is then transferred to Moodle Remote but this time, via LTI . On Moodle Remote Richard should still have the same Moodle account as before, when he used to login via MNet. He is still manager for the whole site and subscribed to the same courses. Following your instruction will create a new user for Richard on Moodle Remote , which will be totally different from Richards previous account on Moodle Remote . In fact Richard has now a LTI and a MNET identity on Moodle Remote. There are thousands of users with the same problem as Richard. So we are really looking for solution to merge LTI accounts with MNET accounts. Thanks for your help. Kind regards, David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 9:34 PM",
          "AuthorName": "David Bogner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=110156&course=5",
          "role": [
            "Picture of David Bogner",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Workflow to migrate MNet users to LTI users",
          "Text": "LTI is not yet a full replacement for MNET. It doesn't work as an IDP. Because of this there's no point in converting MNET users to LTI users yet. And as such there's no feature to do it in moodle. You are correct LTI would create new accounts. To stop this, the auth type of all the MNET users on Moodle Remote could be changed to LTI and the username of each account set to create_username($consumerkey, $ltiuserid) from \\enrol_lti\\helper Using the consumer key of Moodle IDP . And $ltiuserid being the id of the user account on Moodle IDP . But again, I'm saying all this to say - this is too complicated I don't think LTI is ready yet. We could create a admin tool to do this, but there's no point IMO until LTI works as a proper IDP. In some cases LTI works better than MNET (when access to certain courses is all that's needed, with no continuity of users required etc). By the sounds of it, your use case (SSO) is one that is still better done in MNET. CAS is always another option for SSO",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2017, 8:54 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 350662,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350662",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "No grades synced to Moodle-consumer via LTI",
          "Text": "Hi there, I've two Moodle installations: Moodle-consumer and Moodle-provider. In the Moodle-provider, I've published a Quiz activity as LTI Tool, and integrated it into the Moodle-consumer. Now, I can get access to the Quiz from the Moodle-consumer via LTI, but when the Quiz is finished, the grade isn't synced to the Moodle-consumer. And meanwhile, in the Moodle-provider here is now a new created user from Moodle-consumer, and grade from the Quiz. But no grade synced to Moodle-consumer, so there is only '-' on the Grades page. In Moodle-provider's Publish as LTI tool settings, I haven't set up any actions/restrictions 'prior to grades synchronisation', so I expect grades to be synced immediately I pass the Quiz from Moodle-consumer. But as I said already, there're no grades synced to to Moodle-consumer. Can anybody help? How do I chech that at least the Moodle-provider sends proper data back to the Moodle-consumer, with student info and his/her grades? I am trying to use LTI4WIN ( http://www.spvsoftwareproducts.com/win/lti4win/ ) as LTI Consumer Emulator, but I don't understand how to see the outcomes there, which is turned on in the settings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 1:37 AM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "Sorry to hear you have hit problems. To help diagnose what's going on could you answer the following questions: Is cron set up and running on the moodle provider site? Is \"accept grades\" ticked on the moodle consumer site (external tool settings)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 8:44 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "Is cron set up and running on the moodle provider site? Maybe it doesn't work automatically, but some tasks are being done when I go to https:\\\\MySite.com\\admin\\cron.php?password=MyPass (this is allowed in admin setting) and also via command line, Regarding 'sync grades task', for all grades to be synced I get messages, that either the grades are same (though there is '0' in Provider and '-' in Consumer, which is different ), or that ' Skippin g - Invalid grade for the user '1029' in the tool '2' for the course '10006' . Is \"accept grades\" ticked on the moodle consumer site (external tool settings)? Yes. Maybe it's worth mentioning that my moodle's source code files were slighlty edited. Particularly, the behaviour of the ' Start Attempt ' button was changed: now it redirects to my other site, where a student does his test and then, the data with grades and other stuff is sent back to Moodle via Web-Service function, which stores it to quiz_attemts table. Could all 'sync grades' failures occure due to the system is confused, that there is some grade for the quiz , but no questions within and therefore no marks for each question ? And in Moodle, what's different between marks and grades? Thank you,  highly appreciate your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 11:29 PM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "Very likely that the modified code is the cause. Although it won't get confused regarding the questions. We can figure it out - what values are showing on the gradebook for the quiz on the provider site before you run the sync grades task? I'd try again with someone with a grade. 0 is complex behaviour as we have to handle the differences between the way LTI wants us to treat it and the way moodle treats it. I'll be interested to see if that is the cause of the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 9:02 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "I tried with grades >0, again no synchonization. I then learned that on Provider side, LTI grabs grades from grade_grades table, field finalgrade .But I don't get how this table is filled, how new row is added: there're fields which I cannot understand how they're filled, particularly itemid - what is it? So I see these solutions: Add rows to grade_grades table with finalgrade field to be grabbed by LTI code. But need to know, how to correctly form the row; Change LTI so it looks for grades to be synced in another table . Is it possible? Again, help here is always highly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 10:13 PM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "On the provider side the grade logic is provided by the module in question, not LTI or an LTI module. We can't and shouldn't need to change this logic. Are you saying grade_grades finalgrade has the wrong value? What module are you sharing via LTI?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2017, 3:05 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "On the provider side the grade logic is provided by the module in question, not LTI or an LTI module Yes, I understand this. LTI only reads grades from grade_grades table and then syncs them with Consumer. We can't and shouldn't need to change this logic. Ok, not change where from LTI grabs grades and how then they're synced with consumer, right? Are you saying grade_grades finalgrade has the wrong value? No, my grade_grades table doesn't get filled at all , because as I said I changed how my mod/quiz works. In my case, pressing Start|Re- Attempt button redirects to some quiz on my another, non-Moodle web-site with all USERID, quizID and other needed data. Then, the web-site returns sumgrades to my Moodle, and my Moodle stores grades to quiz_attempts and some other tables. When I learned these days, that LTI reads grades from grade_grades table , I tried fill this table manually along with other tables ( quiz_attempts and some other tables), but I didn't succeed. I then learned that this table can't be changed maually, and one should use grade_update function instead. I tried to call this function, but again no success without any warnings. The question now is, how do I fill the grade_grades table? What function should I call? What module are you sharing via LTI? Quiz Thank you, appreciate help here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2017, 11:19 PM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回應: No grades synced to Moodle-consumer via LTI",
          "Text": "I had the same problem as yours on moodle 2.9, and I found that it seems some part\nin the code was not finished by the developer. I upgraded to moodle 3.0\nand the problem solved.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 4:00 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回應: No grades synced to Moodle-consumer via LTI",
          "Text": "Mine is 3.1.0+",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 10:17 PM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回應: No grades synced to Moodle-consumer via LTI",
          "Text": "I am facing the same problem with moodle 2.9 and I cannot understand why my grades are not sent back to the consumer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 19, 2017, 4:06 PM",
          "AuthorName": "Juan Carlos Molina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=217852&course=5",
          "role": [
            "Picture of Juan Carlos Molina"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回應: No grades synced to Moodle-consumer via LTI",
          "Text": "Are you using the old lti provider plugin from the plugins DB? If it's possible to upgrade your moodle version, I'd recommend it -- we updated all that code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 8:13 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 350213,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350213",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Highest / Average / First / Last Grade for External Tool",
          "Text": "Hi, I am on Moodle 3.1 and have configured the external tool activity to connect to an LTI provider, Maple T.A. 10.  We successfully accept grades from the provider. Every time a student attempts the external tool, the grade is updated in the Moodle gradebook. I would say this is like \"Latest Grade\" setting in Moodle Quizzes. My question is whether one can keep track of  the highest / average / first / last grades of the external tool activity in the gradebook, just like Moodle Quizzes, hopefully by configuring the Moodle side. I note that the history of external tool attempts is stored in both the provider and Moodle. On Moodle side, you can view it in \"Grade History.\" A post which seems related: LTI Submission attempts sorting chronologically in gradebook and submission report https://moodle.org/mod/forum/discuss.php?d=271378",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 2, 2017, 3:15 PM",
          "AuthorName": "Saburo Higuchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=137045&course=5",
          "role": [
            "Picture of Saburo Higuchi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Highest / Average / First / Last Grade for External Tool",
          "Text": "Hi Saburo, Unfortunately the scoring of the students is the responsibility of the LTI provider, not the consumer. LTI only supports sending of one grade. In moodle the quiz module itself manages what grade it sends to the gradebook, and along these lines the tool is responsible for what grade it sends to Moodle. Maple T.A 10 will need to collate the grades and calculate the highest/average/first/last grade before it sends them to Moodle. Do you have a support channel for that tool? You may be able to follow it up with them http://www.maplesoft.com/support/ In the draft outcomes 2 specification multiple grades can be sent but that's more for separate grading items, not attempts. There is a chance it will be possible, so you may want to vote here: https://tracker.moodle.org/browse/MDL-51480 . But of course this will require that your provider also supports outcomes 2 (which is not yet released) Hope this helps, and sorry that we can't solve your problem in moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 4, 2017, 9:50 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Highest / Average / First / Last Grade for External Tool",
          "Text": "Hi John, Thank you for you response. Following your suggestion, we inquired a reseller of Maple T.A. and were told  that the newest version, Maple T.A. 2016.1,  can be configured to return the Highest / Average / Last grade via LTI. We plan to upgrade because this satisfies our demand. Although the upgrade would solve our problem completely,  I imagine an alternative design of Moodle External Tool module, the LTI consumer. Assume that there is only one grading item on an LTI provider.  Students use the external tool repeatedly, say, once a day. The external tool module, if appropriately designed, could record the last grade returned, a single integer, in its own database table every time a student attempts the tool. Then the module could calculate the Highest / Average / Last or some statistical quantity from the table entries  and send it  to the Moodle gradebook, just like the Quiz module does. This could add more flexibility for the case where the LTI provider only returns the last grade.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2017, 6:54 AM",
          "AuthorName": "Saburo Higuchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=137045&course=5",
          "role": [
            "Picture of Saburo Higuchi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 350517,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350517",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Incorrect sesskey while responding to LTI Content Item",
          "Text": "Hi there! I'm a developer and am trying to turn my application into an LTI Tool Provider. I'm using Moodle4Mac ( MAMP , Moodle 3.2) as my Tool Consumer to test my implementation of Content Item support. I am able to receive and authenticate ContentItemSelectionRequest requests from Moodle. I am constructing a response which I believe matches the LTI spec for a ContentItemSelection. I am signing it with oauth and sending it to the url that is given in the request, in my case: uri: 'http://localhost:8888/moodle32/mod/lti/contentitem_return.php?course=2&id=4&sesskey=qqF8Vn However, I get a 404 response from Moodle, with an html body that says: Incorrect sesskey submitted, form not accepted! This is surprising... since I am submitting the sesskey right there in the url. I am at a loss of how to debug this further... I've seen some users having issues with sesskey elsewhere, but I don't know enough about Moodle itself to really be able to dig further. Is this an issue with what I am sending to Moodle? Or is it something about my Moodle session setup?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 7, 2017, 11:15 AM",
          "AuthorName": "Denis L",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2225680&course=5",
          "role": [
            "Picture of Denis L"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Incorrect sesskey while responding to LTI Content Item",
          "Text": "Can you check the request is using the URL given by moodle each time? This error sounds like its using an old url (maybe correct once) and using that each time instead. Are there any more details you can give us?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 1:51 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 350691,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350691",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI-Tool-Provider-Library-PHP tutorial and documentation",
          "Text": "Does anyone know there is any further tutorial and documentation for the LTI library https://github.com/IMSGlobal/LTI-Tool-Provider-Library-PHP/ recommended by IMS Global, which seems to be only LTI 2.0 library so far? I tried a lot to register a tool on the moodle (moodle as tool consumer) and found out that some sort of product info (name, description) is required in the tool proxy profile. I cannot find whether this is a requirement of moodle or LTI standard. The wiki of the library seems too simple and lots of things left unexplained.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 4:08 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "回應: LTI-Tool-Provider-Library-PHP tutorial and documentation",
          "Text": "I also got the following js error in the External tool registration result page, no matter registration is success or not: Uncaught TypeError: window.parent.triggerExternalRegistrationComplete is not a function at Object.init (first.js:87) at externalregistrationreturn.php?id=21&sesskey=fhTwJKfhoD&lti_errormsg=Sorry%2C+there+was+an+error+co…:147 at Object.execCb (require.min.js:1) at b.check (require.min.js:1) at b.enable (require.min.js:1) at b.init (require.min.js:1) at require.min.js:1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 5:42 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI-Tool-Provider-Library-PHP tutorial and documentation",
          "Text": "The IMS forums would be a better place to ask about that. This is outside the scope of moodle. Yes it is LTI 2.0, however by manually creating the Consumer in the database you can use it with a consumer that only supports 1.0 As for finding out what's required and what isn't I'd go to https://www.imsglobal.org/specs/ltiv2p0/implementation-guide or other documents on the IMS site",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 9:09 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 348525,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348525",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Trouble with LTI tool.",
          "Text": "*edited* Hello Our server is Moodle 2.6.11 and I'm attempting to use MS Office Mix presentations in Moodle via the LTI activity. Unfortunately the quiz results of the Mix presentation are not being recorded in Moodle. I think it's because my web services are not properly set up, but it's only a guess and I wouldn't know either way. Can anyone lend a hand? Thanks, George",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 3, 2017, 5:45 AM",
          "AuthorName": "G Spencer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2178179&course=5",
          "role": [
            "Picture of G Spencer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Trouble with LTI tool.",
          "Text": "Hi George. By quiz results do you mean grades in moodle or results you can view inside Mix. If the former make sure \"Accept grades from the tool\" is ticked in the Privacy settings of the External tool (LTI) module. Hope I can help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 10:47 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with LTI tool.",
          "Text": "Yes, I do mean the grades in moodle. \"Accept grades from the tool\" is checked, but it still did not work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 10, 2017, 5:38 AM",
          "AuthorName": "G Spencer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2178179&course=5",
          "role": [
            "Picture of G Spencer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with LTI tool.",
          "Text": "To make sure I'm following, are you finding that the grades are being passed from the tool but not showing up in Moodle? If so, FWIW we experienced that and after much testing and checking of logs we found out it was how https requests turn into http requests inside our system. This was the solution that worked for us (we were on 2.6 at the time): Modify Moodle to switch out http for https when it's calculating the signature, knowing that whatever was sent to it from the external world was indeed sent to an https:// address. You would have to carry this change forward as you upgraded Moodle, of course, so be aware of that. The method you would have to change is \"get_normalized_http_url()\" in mod/lti/OAuth.php around line 403, possibly by inserting the code: if ($scheme == \"http\") { $scheme = \"https\"; } right before the \"return \"$scheme://$ host $path\" line at the end of the method",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 10, 2017, 6:14 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with LTI tool.",
          "Text": "Dear Tiffany, We are struggling with a similar issue. Would this be a change to make on the consumer Moodle server? Thanks and all the best, Julian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 10, 2017, 10:55 PM",
          "AuthorName": "Julian ter Huurne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=667387&course=5",
          "role": [
            "Picture of Julian ter Huurne"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with LTI tool.",
          "Text": "Yes, we made the adjustment on the consumer Moodle server Good luck!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, March 10, 2017, 11:26 PM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with LTI tool.",
          "Text": "This could be the solution to my problem, thanks. GS",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 13, 2017, 9:57 PM",
          "AuthorName": "G Spencer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2178179&course=5",
          "role": [
            "Picture of G Spencer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with LTI tool.",
          "Text": "Hey there. I appreciate your help, Tiffany, unfortunately this didn't fix the problem. We did change 'mod/lti/OAuth.php' and it did have an effect, but not the one I wanted. Now the 'Turn in' button in the top right corner has disappeared and been replaced with a log in button. Marks still aren't getting passed back to Moodle. Have you had a similar experience, Julian? GS",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 16, 2017, 11:21 PM",
          "AuthorName": "G Spencer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2178179&course=5",
          "role": [
            "Picture of G Spencer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with LTI tool.",
          "Text": "I'm embarrassed to say that I had some settings wrong when I was performing a test on the fix to 'mod/lti/OAuth.php'. But the original problem still exists; I'm still not able to get Mix to communicate the grade back to Moodle. The 'Turn in' button is where it should be, however when it is clicked, I get an error 'Sorry, but we ran into a problem while turning in your work. You may want to try again latter.' It's not a problem with a slow network or anything like that. Thanks in advance GS",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 17, 2017, 12:29 AM",
          "AuthorName": "G Spencer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2178179&course=5",
          "role": [
            "Picture of G Spencer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回應: Re: Trouble with LTI tool.",
          "Text": "I tried the submit outcome feature on moodle 2.9 and it seems some part in the code was not finished by the developer. I upgraded to moodle 3.0 and the problem solved.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 5, 2017, 4:17 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 336268,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336268",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Will upgrading break my LTI links?",
          "Text": "I have 3.1 installed, and am considering upgrading to 3.1.1. Before I do, I need to know if upgrading will change my status as an LTI provider. I had to provide the generated key codes from Moodle so that the LTI consumer (another LMS) can access my moodle. But before I do this, I need to know if an upgrade will break this link or render useless the key codes. It is a royal pain to get the other LTI consumer to change his codes, so I would rather avoid this if I can. Does anyone know? Can you provide any cautions about what to do to make sure nothing breaks as I upgrade to 3.1.1? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 11, 2016, 7:58 PM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Will upgrading break my LTI links?",
          "Text": "I can't think why it should... all the settings are in the database .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 11, 2016, 8:11 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Will upgrading break my LTI links?",
          "Text": "Howard, That's what I was thinking, but another wrinkle that might be an issue... Since the info is in the database, and since I will be upgrading to the latest, are the courses, including the LTI info, also in the database? I ask because when I upgraded to this latest, it started me out with a blank moodle, which I then restored courses to from the 2.9 version. I am assuming that if I use the current 3.1 database with the upgrade to 3.1.1 then it will also have all the courses in it and none of the LTI links will go away. Better to be safe than sorry...",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, July 11, 2016, 9:26 PM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Will upgrading break my LTI links?",
          "Text": "If you start out with an empty site and copy the courses then you didn't do an upgrade... you copied your courses to a new site. An upgrade will upgrade your existing site \"in place\". Whatever else you do - make sure you have proper backups before you do anything.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 11, 2016, 9:52 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Will upgrading break my LTI links?",
          "Text": "Howard, I am not understanding you... My intention in upgrading is to use the old database. What will be \"new\" will be the latest release. Unless you are talking about doing a git , which I am not confident in doing yet.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 12, 2016, 3:44 AM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Will upgrading break my LTI links?",
          "Text": "Well...The question is moot now. I went ahead and upgraded and the LTI links held just fine. I am now at 3.1.1 and a happy camper. Thanks for all your help. Perhaps my experience will help someone else.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 12, 2016, 4:10 AM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Will upgrading break my LTI links?",
          "Text": "Good to know thank you for this post",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 29, 2017, 7:05 PM",
          "AuthorName": "Mark Henry",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2107964&course=5",
          "role": [
            "Picture of Mark Henry"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 349762,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=349762",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI not working when embeding",
          "Text": "Hi, I am loading a survey tool from one Moodle 3.2 instance to another using LTI. It works when loading in a new/exciting window but it doesn't work when 'embed/embed without blocks'. I have 'Allow frame embedding' on ob both sites. Is there any extra settings I need to do/enable to have the embedding work properly? Regards, Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 24, 2017, 8:02 PM",
          "AuthorName": "Chris Mat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1951394&course=5",
          "role": [
            "Picture of Chris Mat"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI not working when embeding",
          "Text": "Yep allow frame embedding on the provider site should be all you need. Are either of the sites using https? This can cause a problem if the consumer site is and the provider site isn't, because you can't embed insecure (http) content in secure content (https) If you open the console of your browser can you see any errors? (An easy way to get to the console is to right click, inspect element, then click console)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2017, 9:36 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not working when embeding",
          "Text": "Thanks John. One Moodle was using SSL but the other was not. I enabled SSL on the other Moodle and it worked. That was very helpful. Thanks. Now, is there any way to embed only the activity? I am not interested in showing the whole Moodle inside another Moodle. I can use the CSS display: none; to hide the header, footer, breadcrumbs and menu but I wonder if there's a better way or a setting I have missed. Regards, Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2017, 11:46 PM",
          "AuthorName": "Chris Mat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1951394&course=5",
          "role": [
            "Picture of Chris Mat"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not working when embeding",
          "Text": "When a student logs in, they will see only the activity and no header/menu. A teacher needs access to the header and menus to do a lot of things, however if you don't want the teacher to see those either, set the custom parameters to \"force_embed=1\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 28, 2017, 8:29 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not working when embeding",
          "Text": "Hi John, This was really helpful. Thank you very much for your quick reply and for help. Regards, Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 28, 2017, 5:13 PM",
          "AuthorName": "Chris Mat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1951394&course=5",
          "role": [
            "Picture of Chris Mat"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not working when embeding",
          "Text": "Glad I could help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 29, 2017, 8:50 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 348598,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348598",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Feasibility Analysis of Moodle and LTI",
          "Text": "Hi, I am just starting with LTI 2.0. I read in the LTI documentation that full both-way REST based communication is possible between tool provider and tool consumer. Can anyone please tell me whether these following things are feasible via LTI? 1. Upcoming deadlines in moodle should be synced using my external tool provider. 2. Course created in moodle should be passed on to the tool provider to be created in the tool provider. 3. Roster information from moodle should be synced with the tool provider roster list. 4. Assignment created in the tool provider should automatically get created in moodle or vice - a - versa. Thanks, Omkar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 4, 2017, 5:34 AM",
          "AuthorName": "Omkar Joshi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2210896&course=5",
          "role": [
            "Picture of Omkar Joshi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Feasibility Analysis of Moodle and LTI",
          "Text": "Hi Omkar, An LTI provider is a tool to be included as part of the consumer. It is not really for syncing of courses or assignments etc. For instance if an assignment is created in the tool provider, it will be only part of the tool provider, but the consumer can access it. Could you go into more detail about some of your terms? What do you mean by deadline ? The deadline of the provided tool, or the assignments in the provided tool. What do you mean by roster information ? I hope this helps you understand of the purpose and place of LTI a bit more, and I hope I can help more after reading your reply. (Note that this is beyond just moodle - moodle just follows the spec)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 10:43 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Feasibility Analysis of Moodle and LTI",
          "Text": "Hi John, I have an external web application for managing courses, assignments and participants. I want to integrate this external web application with moodle using LTI. The external web application will act as an LTI tool provider and moodle will act as an LTI consumer. Deadlines are nothing but calendar events, like assignment completion deadline. Whenever I update a deadline for an assignment in my external web application, it should be automatically reflected in moodle for that particular assignment. Roster information is the list of participants(students, TAs) enrolled under a course. Whenever a participant is added / deleted from a course, the participant must also be deleted from the external web application automatically. I hope I am clear. I'm sorry for the confusion.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 2:42 PM",
          "AuthorName": "Omkar Joshi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2210896&course=5",
          "role": [
            "Picture of Omkar Joshi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Feasibility Analysis of Moodle and LTI",
          "Text": "That's not really what LTI is about as I understand it. What you are after is probably best dealt with using webservices: https://docs.moodle.org/32/en/Web_services",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 3:18 PM",
          "AuthorName": "Just H",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69050&course=5",
          "role": [
            "Picture of Just H"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Feasibility Analysis of Moodle and LTI",
          "Text": "Yes, to second this, web services are what you will need if the syncing of assignments and courses and deadlines (and more specific features like that) is critical to your app. LTI providers are designed to exist as one tool as part of a course on the LTI consumer (generally speaking)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 3:24 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Feasibility Analysis of Moodle and LTI",
          "Text": "Ah I see what you mean. It doesn't sound like LTI can do exactly what you might want. But it can achieve the same goal. It will sync roster information. It can't sync deadlines or courses or assignments. But it can give access to the courses and assignments in your web app. Hope this makes sense",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 3:22 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 347030,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=347030",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "External Tool Integration & LTI Outcomes Management 2 service",
          "Text": "I want to integrate a LTI complaint to tool to moodle. Since the launch is LTI1.1 compatible I'm planning on using the \"External Tool\" option to integrate this tool with moodle. The tool will be integrated at Course Level ( link to launch the external tool at course level) and once the tool is launched, in the tool side Instructors are able to create many assignments. Similarly for students the tool will be launch-able again in course level, once the tool is launched in the tool side the student can attempt any assignment the instructor has created. I'll need to create Grade Columns in moodle when instructor create & publishes the assignment in the tool side. And once a student attempts an assignment and finishes the assignment I should be able to send back the grade to moodle, for that specific assignment and for student. I have gone through the LTI Outcomes2 Services and that would seem to cater this requirement, but it looks like it's still not supported in moodle. When or which release is this service planned to be implemented in moodle? What other options are there to cater this requirement? Thank You.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 6, 2017, 9:16 PM",
          "AuthorName": "Chamila Liyanage",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2198535&course=5",
          "role": [
            "Picture of Chamila Liyanage"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool Integration & LTI Outcomes Management 2 service",
          "Text": "It's supported since 2.8, at least according to the release notes https://docs.moodle.org/dev/Moodle_2.8_release_notes#External_tool Also, please do not cross post. https://moodle.org/mod/page/view.php?id=7080",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 22, 2017, 6:00 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool Integration & LTI Outcomes Management 2 service",
          "Text": "Thanks Tim. I went through that but in supported services the Outcome Management Service 2.0 is not included. I found this forum post that's why I thought you might have more information about this feature.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 22, 2017, 6:50 PM",
          "AuthorName": "Chamila Liyanage",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2198535&course=5",
          "role": [
            "Picture of Chamila Liyanage"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool Integration & LTI Outcomes Management 2 service",
          "Text": "Note that while LTI2 is supported by moodle, Outcomes 2 is it's own thing and is not part of LTI2 Also note that outcomes 2 is still only a public draft, having not been finalised yet. https://www.imsglobal.org/specs/ltiomv2p0/specification-about However despite it being still in draft, work on it has been started. You can watch and vote for the issue here: https://tracker.moodle.org/browse/MDL-55644 If you are technically inclined or have someone at your disposal who is they can continue the work. As far as I know it's not a priority for current development (although definitely a very useful feature).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 10:01 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 348218,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348218",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI and Curatr3 - Invalidrequest",
          "Text": "L.s. LTI is working between moodle sites. Providing it to Curatr3  gave the error: Debug info: Error code: invalidrequest Stack trace: line 496 of /lib/setuplib.php: moodle_exception thrown line 73 of /enrol/lti/proxy.php: call to print_error() What could be wrong?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 26, 2017, 3:10 PM",
          "AuthorName": "Bert van der Hooft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1612564&course=5",
          "role": [
            "Picture of Bert van der Hooft"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 348017,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348017",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External Tool Integration & LTI Outcomes Management 2 service",
          "Text": "I want to integrate a LTI complaint to tool to moodle. Since the launch is LTI1.1 compatible I'm\nplanning on using the \"External Tool\" option to integrate this tool with\nmoodle. The tool will be integrated at Course Level ( link to\nlaunch the external tool at course level) and once the tool is launched,\nin the tool side Instructors are able to create many assignments. Similarly\nfor students the tool will be launch-able again in course level, once\nthe tool is launched in the tool side the student can attempt any\nassignment the instructor has created. I'll need to create Grade\nColumns in moodle when instructor create & publishes the assignment\nin the tool side. And once a student attempts an assignment and finishes\nthe assignment I should be able to send back the grade to moodle, for\nthat specific assignment and for student. I have gone through the LTI Outcomes2 Services and that would seem to cater this requirement, but it looks like it's still not supported in moodle. When or which release is this service planned to be implemented in moodle? What other options are there to cater this requirement? Thank You.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 22, 2017, 5:05 PM",
          "AuthorName": "Chamila Liyanage",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2198535&course=5",
          "role": [
            "Picture of Chamila Liyanage"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 346731,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=346731",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI to reuse course material between courses on same site",
          "Text": "Suppose you have course material in three courses on the same site, maintained by three different people in three different departments or at three different locations around the country, and each of them would like to include some activity from the other two courses into their own course, while not being responsible for the maintenance of the included material. Can all three publish their course or those activities that are to be reused with Publish as LTI, and then the other two can add an External tool activity to their courses to include the external material, or is it required to be located at another site?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 31, 2017, 9:07 PM",
          "AuthorName": "KS Læring",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2085808&course=5",
          "role": [
            "Picture of KS Læring"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI to reuse course material between courses on same site",
          "Text": "It can be done via LTI, but users will need to log out after using the shared tool and there may be unforseen problems. This is because the way the Publish as LTI tool works is by creating accounts based on the information given from LTI. And logging into that account automatically. There is an issue about improving this to use existing accounts when a moodle site includes its own tool. But that's out of scope of the LTI specification. So it may not be coming soon. Here is the issue, please vote and watch and comment on it if you can https://tracker.moodle.org/browse/MDL-57345 In the mean time, you may find it easier to create a course with course meta enrolment so that users from all three courses can access it. And then linking using the URL resource.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 1, 2017, 11:50 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Svar: Re: LTI to reuse course material between courses on same site",
          "Text": "Thanks, John.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 2, 2017, 4:53 AM",
          "AuthorName": "KS Læring",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2085808&course=5",
          "role": [
            "Picture of KS Læring"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 346661,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=346661",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Building own LTI Consumer for Moodle 3.2 fails at authentication",
          "Text": "Hi, I'm currently stuck creating an own LTI Consumer for Moodle 3.2. Here is the sample code: https://gist.github.com/anonymous/bccbfc82caca18cf7896338475bbaf21 I used the IMSGlobal/LTI Library for creating a consumer and building the request. But all I get is an error: Failed request. Reason: Invalid signature Sometimes it says: Invalid nonce. But at the end it does not work. Using a second moodle 3.2 instance as Consumer works fine. And I really dont see any difference in the basic launch request parameters. Which is totally frustrating. :/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 30, 2017, 10:51 PM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Building own LTI Consumer for Moodle 3.2 fails at authentication",
          "Text": "Update: solved. The code was correct. It was my own fault. The secret I set was never used. :/ It was defaulted to 'secret'.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 31, 2017, 1:05 AM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 335734,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335734",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "LTi consumer simple php example",
          "Text": "Hi.  I need to get some sort of proof of concept up and running for my client.  As part of that I have a Moodle 3.1 set up with some single activity SCORMs.  I've loaded the LTi Provider plug in. What I need now is some simple php code to pass some parameters (e.g secret, userid) to my Moodle to establish contact (nothing complex but if by the end of the weekend (I suspect for me a very long weekend) I could display a SCORM in an iframe ).  I found one example but it appears out of date and not with any documentation I could find. If anyone could point me to such a resource I'd be very grateful.  Tx in anticipation.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wideeyes"
          ],
          "Time": "Saturday, July 2, 2016, 5:11 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "Hello there. Sorry I'm not too sure about what you mean to do (and if it is about coding, programming I'm afraid I can't help) but you say you are using 3.1 and you have \"loaded the LTI provider plugin\" I presume you mean you have enabled Publish as LTI tool (docs link) because this is now standard in Moodle 3.1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 2, 2016, 5:25 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "Mary yes it is sort of programming. I have Moodle 3.1 set up as a LTi provider and using a test tool (e,g. LTi Launcher for Windows by Stephen Vickers) I can get an iframe connection to Moodle 1) inviting login and 2) directly and transparently logging in my admin user.  So the communication works in both directions. I need to investigate various combinations of parameters (requests from the consumer) to get the user not only logged on but at the requested course/resource and then at the point the user last was at within the course/resource. Why?  Well my LTi consumer is a non LTi compliant bespoke LMS so we need to code the communications at the consumer end.   And a simple php template and some example parameter combinations would be great  rather than reading the entire LTi specification which is probably beyond me even if I had more than a couple of days But glad I'm not the only one burning the weekend oil.  Tx and enjoy",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/thoughtful"
          ],
          "Time": "Saturday, July 2, 2016, 10:21 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "\" LTi consumer is a non LTi compliant bespoke LMS \" ... so that means this other LMS doesn't have an LTI tool to access the LTI content you've setup in a Moodle 3.1 (you've tested accessing with some outside of Moodle tool and the LTI content in the 3.1 Moodle is being displayed, etc.).   Is that right so far? If so, Moodle doesn't provide the code (API) for an LTI client (another LMS system).   For that, one would have to build one for the LMS that doesn't have an LTI tool. Here's a page that shows various LMS's that have the tool: http://www.edu-apps.org/tutorials.html and here's a page that talks about how to build an app: http://www.edu-apps.org/code.html So, if you don't mind me asking, what is this other \"bespoke LMS\"? Just for demo purposes, couldn't you acquire a free Canvas LMS account and do an LTI link to your Moodle 3.1? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 2, 2016, 11:57 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "Ken Yes that is about it.  For sure I can demo launching my Moodle 3.1 in an iframe using a LTi testing tool.  What I haven't managed is to get that tool to not only log the user on but also position them in a course/resource.  But the weekend is not over yet However rather than a tool I would like to demo some code that acts as the LTi consumer (at a very simple level).  I found some php code that looked like it would do the job but maybe it was a bit out of date or whatever.  Thus the request. While adding the LTi consumer functionality to a bespoke LMS may seem a bit of effort: the current bespoke LMS contains 1000s of courses that are fully and seemlessly integrated into production systems.  Only new courses will go to Moodle. the bespoke LMS is fully suported with an ongoing development team. the Moodle is very simple in what it will do.  It will only have single activity SCORMs available to all 6000 users (no other resources).  The courses will be available as and when.  The bespoke LMS will enrol the users using Moodle web service.  It is not necessary for the LTi to be concerned with results/grades/completion. For sure Moodle might play a bigger role over time but it needs to get its foot in the door. Sorry wittering. Anyway in the absense of a tool to show me the message/POST/ XML formats I'll continue with the tools I have and use a network sniffer to have a look (although tired eyes says that will be tomorrow) . Unless someone knows of a tool/code out there??? Cheers and thanks Ken.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wideeyes",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sleepy"
          ],
          "Time": "Sunday, July 3, 2016, 1:18 AM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "So bespoke is like a SCORM package ... online.   Bespoke itself doesn't have anything LTI yet (hmmmmm). Should give others a chance to respond as they might know, but this being a holiday weekend in USA those folks, if observing the holiday, probably aren't gonna respond this weekend.    Thought you were under time crunch. AnyHoo .... How about this: http://ltiapps.net/test/tc.php So what if one put a bespoke package (it's a SCORM like package, right?) into another moodle 3.1 instance (as a course) and then from the demo moodle link to that resource using LTI. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 3, 2016, 2:20 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "Sorry Ken I must be leading you astray.  The bespoke LMS is an inhouse developed .net LMS embedded within production systems.  What it lacks are: SCORM handling and LTi. But soon there will be a large number of new SCORM courses arriving.  So how can we give access to the SCORM packages without the users seeing two LMSs?  And LTi seems perfect in that it is a standard, accepted and documented approach.  We could just skip LTi and develop some code ourselves but we are not interested in long term support so the more we stick to industry standards the better. There is an option to embed a SCORM engine within the current LMS but Moodle is a preferred approach when looking long term. Well I hope you and the other good folks who hang around here enjoy your holiday.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/cool"
          ],
          "Time": "Sunday, July 3, 2016, 2:43 AM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "Hello again - I'm not in the US (in the UK) so I'm not on holiday but as I said before, I'm afraid I can't help with coding. I am however surprised that there is a fully developed production LMS that doesn't support SCORM and LTI. I assumed most other LMSs did (only knowing Moodle) Anyway, I have moved this thread to the LTI forum to see if you get more specialised advice.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Sunday, July 3, 2016, 3:20 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "Thanks Mary",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Sunday, July 3, 2016, 2:20 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "Well here a piece of php that sends a LTi POST.  It always launches Moodle 3.1.  It will log the session into admin if another session for admin already exists.  But not always. Just in case anyone can give any pointers here it is: <?php # ------------------------------ # START CONFIGURATION SECTION # $launch_url = \"http://localhost\"; $key = \"E2SystemsConsumerKey\"; $secret = \"63736373\"; $launch_data = array( \"user_id\" => \"2\", \"roles\" => \"1\", ); # # END OF CONFIGURATION SECTION # ------------------------------ date_default_timezone_set(\"Europe/London\"); $now = new DateTime(); $launch_data[\"lti_version\"] = \"LTI-1p0\"; $launch_data[\"lti_message_type\"] = \"basic-lti-launch-request\"; # Basic LTI uses OAuth to sign requests # OAuth Core 1.0 spec: http://oauth.net/core/1.0/ $launch_data[\"oauth_callback\"] = \"about:blank\"; $launch_data[\"oauth_consumer_key\"] = $key; $launch_data[\"oauth_version\"] = \"1.0\"; $launch_data[\"oauth_nonce\"] = uniqid('', true); $launch_data[\"oauth_timestamp\"] = $now->getTimestamp(); $launch_data[\"oauth_signature_method\"] = \"HMAC-SHA1\"; # In OAuth, request parameters must be sorted by name $launch_data_keys = array_keys($launch_data); sort($launch_data_keys); $launch_params = array(); foreach ($launch_data_keys as $key) { array_push($launch_params, $key . \"=\" . rawurlencode($launch_data[$key])); } $base_string = \"POST&\" . urlencode($launch_url) . \"&\" . rawurlencode(implode(\"&\", $launch_params)); $secret = urlencode($secret) . \"&\"; $signature = base64_encode(hash_hmac(\"sha1\", $base_string, $secret, true)); ?> <html> <head></head> <!-- <body onload=\"document.ltiLaunchForm.submit();\"> --> <body> <form id=\"ltiLaunchForm\" name=\"ltiLaunchForm\" method=\"POST\" action=\"<?php printf($launch_url); ?>\"> <?php foreach ($launch_data as $k => $v ) { ?> <input type=\"hidden\" name=\"<?php echo $k ?>\" value=\"<?php echo $v ?>\"> <?php } ?> <input type=\"hidden\" name=\"oauth_signature\" value=\"<?php echo $signature ?>\"> <button type=\"submit\">Launch</button> </form> <body> </html>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 3, 2016, 8:41 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "Just to say cooking with gas.  It's been gruelling but I am now down to playing with parameters and getting sensible errors from Moodle.  At least the course arrives.  So bit by bit (or should that be byte by byte Was bitten by the authentification (OAuth signature) problem seen by many in the past but found where to comment out the check as for my purposes security is not an issue.  When we do the real thing that will get sorted. Once I get some good clean results I'll post the working php script along with pointers to each parameters origin.  Hopefully someone might come this way. And thanks to Mary and Ken for keeping me company.  It does help just to know someone is there Now just hope the efforts lead to a moodling success. Cheers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, July 4, 2016, 3:33 AM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTi consumer simple php example",
          "Text": "Hi, did you fixed the php script? I'm sitting before the same problem currently. :/ Greetings",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 26, 2017, 9:36 PM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 346149,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=346149",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI error : XML with no associated style.",
          "Text": "Hi, I am using Moodle 3.2. Upon publishing a course as an LTI provider, I was given LTI 1 connection URL and secret, and LTI 2 URL. The LTI1 connection URL is a URL with a . XML ending. Is this what is supposed to happen? Using LTI1 connection URL provided resulted in the following error from the LTI consumer side : \"This XML file does not appear to have any style information associated with it. The document tree is shown below.\" When I used LTI2 URL, all i get is the error \"Invalid Response\". Please help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2017, 5:22 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI error : XML with no associated style.",
          "Text": "I found what may be the issue. The tool URL created by Moodle is *not* preceded with www. So instead of http://www.somedomain.com/asdajhasdh , it was http://somedomain.com After adding www to the tool URL, the site is now loading. A new problem has popped up which I will start a new thread. I hope this helps anyone who may be having the same issue. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2017, 5:37 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 337470,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=337470",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI tool throws error on my LMS.",
          "Text": "I tried to test LTI connection and grading from my LMS. I succesfully published course as LTI tool, but I couldn't access it from consumer. Screenshot with errors. Second question about consumer key: do you have some default key or it's value is optional?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 4, 2016, 5:27 PM",
          "AuthorName": "Kate Tretiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2114030&course=5",
          "role": [
            "Picture of Kate Tretiak"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI tool throws error on my LMS.",
          "Text": "Kate these errors normally indicate that the stated parameters are absent from the request POST. Here are the said parameters from my LTi simulator that works well with Moodle 3.1 on both Windows 10 localhost and Centos on a remote in the cloud. $launch_data[\"lti_version\"] = \"LTI-1p0\"; $launch_data[\"lti_message_type\"] = \"basic-lti-launch-request\"; $resource_link_id = kkkk Note like several LTi parameters $resource_link_id must be present but can be any value, or so it would appear from our testing. consumer_key we set to a string that identifies the consumer.  We had hoped it would be used as a prefix to the created user name (as we do not pass real user credentials) but sadly not.  We might do a bespoke on this as it would be really useful. HTH Nigel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 5, 2016, 4:06 AM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI tool throws error on my LMS.",
          "Text": "Thank you for your answer. I already fixed this, but got another issue connected with X-Frame-Options \"SameOrigin\" settings. I have troubles only when trying to connect Moodle's LTI Provider, with other platforms my LMS consumer works properly. Note: I tried to connect from standard IMS testing tool consumer and few other consumers and got the same error everywhere. Please, could you review this?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1360646/Screenshot_13.png?forcedownload=1"
          ],
          "Time": "Friday, August 5, 2016, 9:35 PM",
          "AuthorName": "Kate Tretiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2114030&course=5",
          "role": [
            "Picture of Kate Tretiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI tool throws error on my LMS.",
          "Text": "Kate if (empty($CFG->allowframembedding)) { @header('X-Frame-Options: sameorigin'); } Can you check if frame embedding is set in Moodle? Site administration / > Security / > HTTP security Allow frame embedding I assume this error is  from the provider. HTH Nigel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 5, 2016, 11:33 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI tool throws error on my LMS.",
          "Text": "Hi, Nigel. Unfortunately I have no access to administration part of the site. And I cannot make sure If this option is checked or unchecked. Situation with error still the same for the moment.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 8, 2016, 3:44 PM",
          "AuthorName": "Kate Tretiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2114030&course=5",
          "role": [
            "Picture of Kate Tretiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI tool throws error on my LMS.",
          "Text": "Was this ever resolved.  I've been told it's the cause of my issue as well  Nobody will tell me how to fix it in Moodlecloud.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 17, 2017, 12:33 AM",
          "AuthorName": "Ka Kill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2185050&course=5",
          "role": [
            "Picture of Ka Kill"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 344463,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=344463",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Error writing database",
          "Text": "Hey guys I just wanted to share my experience with an LTI error I got, maybe someone runs into the same error. We used a test moodle instance as an LTI provider (3.2) and used an existing one as an LTI consumer (3.1). After setting up the \"External Tool\" activity, I got the following error message: \"Error writing database \" . Enabling the Developer Mode, it gets a little a bit clearer: \"Data to long for column 'name' at row 1\" In my case our Moodle Platform shortname was just way to long, so I had to shorten it: http://yourmoodle.com/admin/settings.php?section=frontpagesettings Cheers, Joël",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2016, 10:05 PM",
          "AuthorName": "Joël Schmid",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815947&course=5",
          "role": [
            "Picture of Joël Schmid"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 333374,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333374",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to backup External Tools?",
          "Text": "When you do a backup of a course with External Tools the resource_link_ids of the External Tools aren't preserved. Though we need to identify an instance of an External Tool somehow and there seems to be no other way then using the resource_link_id. How can one guarantee that these Ids are preserved by the backup?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 19, 2016, 11:24 PM",
          "AuthorName": "Robin Woll",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2055006&course=5",
          "role": [
            "Picture of Robin Woll"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to backup External Tools?",
          "Text": "There are trackers regarding this : MDL-54122 , MDL-36580 , MDL-34161",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 8, 2016, 2:50 AM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 343850,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=343850",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Posting ToolProxy after registration request",
          "Text": "Hi all, I'm currently developing a lti provider for moodle. Whenever I'm posting a ToolProxy (after getting a registration request), I'm getting bad request from moodle. As I understand, the json I'm sending doesn't have all the properties needed for the ToolProxy, and that's why I'm getting this error from moodle. The problem is, I don't know what I'm missing (I won't copy it here because it VERY long). Is there any why I can get the logs from moodle server to check what the problem is (I'm running moodle on localhost)? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 3, 2016, 5:46 PM",
          "AuthorName": "Yonathan b",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2167605&course=5",
          "role": [
            "Picture of Yonathan b"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 343428,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=343428",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External App integration within Course",
          "Text": "Hi is their any documentation available for creating an external LTI app for moodle which will display the courses,quizzes,questions  in our application inside an iframe of moodle using the  api support. So that we can generate bubble sheets for the quizzes  to accommodate offline evaluation of students and when the students filled up the answer sheet we will sync back the responses to moodle for grading.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 23, 2016, 4:58 PM",
          "AuthorName": "Rahul Chakraborty",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2172861&course=5",
          "role": [
            "Picture of Rahul Chakraborty"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 196604,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=196604",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "service.php returning 404 when trying to submit grades",
          "Text": "I'm implementing a LTI provider service for our moodle 2.2 instance.  I have the oauth interchange working from moodle to the tool, but when attempting to post a grade back to moodle, I'm getting a 404 from CURL.  I can access the php in question and it gives me the error \"Exception - Consumer key is missing\". I suspect I have a configuration issue that I'm not aware of yet, as I'm just starting to work with moodle.  Any help appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 12:49 AM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: service.php returning 404 when trying to submit grades",
          "Text": "Nevermind, I discovered that my submit was borked.  Can anyone provide me a spec for how this is implemented?  The only thing I've found is that \"everything's supposed to be encoded in a post\".",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 22, 2012, 5:04 AM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: service.php returning 404 when trying to submit grades",
          "Text": "After some serious grinding, I got my external tool to work using the simple harness on IMS' website ( http://www.imsglobal.org/developers/LTI/test/v1p1/lms.php ) and it indicates that I'm submitting the grade properly.  I'm still getting a 404 when I try to use it on my moodle instance.  Any assistance would be appreciated.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, February 29, 2012, 1:51 AM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: service.php returning 404 when trying to submit grades",
          "Text": "There is something very wrong here...  Out of the box it appears that he latest 2.2.1+ doesn't accept grades via LTI. I was using this to test, supplied by http://www.imsglobal.org/developers/LTI/test/v1p1/tool.php Using my site secret it returns the following:  Exception - Message signature not valid This indicates to me that there may be something wrong with the OAuth implementation on either side.  I'm not certain how to approach this problem anymore. I've attached a screenshot of the external tool configuration in my moodle instance.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/859698/external_tool_setup.png?forcedownload=1"
          ],
          "Time": "Wednesday, February 29, 2012, 2:32 AM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: service.php returning 404 when trying to submit grades",
          "Text": "If you want you can use this game to test against my site. It will return grades that show in the gradebook. Keep in mind that I have experienced upload issues to a LTI provider. IE assignments. I will leave the tool open until Sunday late after noon, East Australian Time (UTC +11). Shared Secret   fae405cd4e1d47f48c363f49428d0395 Launch URL http://beasty.dorset.org.au:5050/moodle/local/ltiprovider/tool.php?id=14 Its a game of hangman in Afrikaans it should report back to your gradebook. John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 29, 2012, 8:27 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: service.php returning 404 when trying to submit grades",
          "Text": "It doesn't appear to be working as stated in my moodle instance. Turning on debugging I'm not seeing any data coming into my moodle instance either. Data is identical, aside from the secret being changed to reflect the one you supplied. Thank you for your assistance.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, March 1, 2012, 1:54 AM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: service.php returning 404 when trying to submit grades",
          "Text": "I have been having exactly the same problem and we are using version 2.3.1+. Did you ever figure out what was going on? This really holding us up.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 24, 2012, 10:33 AM",
          "AuthorName": "Dwayne Towell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1482042&course=5",
          "role": [
            "Picture of Dwayne Towell"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: service.php returning 404 when trying to submit grades",
          "Text": "I've just been discussing this with someone on IRC. It looks like Moodle doesn't currently support OAuth message signing with x-www-form-urlencoded. It currently only supports application/ xml style messages. See http://www.imsglobal.org/lti/v1p1pd/ltiIMGv1p1pd.html#_Toc309649688 for more info on the specification. There's an example in http://oauth.googlecode.com/svn/spec/ext/body_hash/1.0/oauth-bodyhash.html#anchor15 Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 6, 2013, 6:57 AM",
          "AuthorName": "Andrew Lyons",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=268794&course=5",
          "role": [
            "Picture of Andrew Lyons",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: service.php returning 404 when trying to submit grades",
          "Text": "Hi there, I'm seeing this same error, a 404 when trying to access the service.php. Did anyone ever get a resolution to this problem? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 6, 2013, 1:53 AM",
          "AuthorName": "Sam Youtsey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1556830&course=5",
          "role": [
            "Picture of Sam Youtsey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: service.php returning 404 when trying to submit grades",
          "Text": "I wound up flipping my infrastructure over due to other constraints that the business has put on me:  I built my own consumer that moodle submits to, so I've moved away from trying to fix this problem for the time being.  If I grind on this problem any more, I'll post here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 3, 2013, 9:54 PM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: service.php returning 404 when trying to submit grades",
          "Text": "Is there a solution for this problem? I am facing the exact same issue. We are trying to send messages in application/xml format only. Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 18, 2016, 6:48 AM",
          "AuthorName": "moodle user",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171173&course=5",
          "role": [
            "Picture of moodle user"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 315857,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=315857",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle Web Mining Tools",
          "Text": "Hello everyone I'm  Ziyad Hazim PhD student - Computer Science - Web Mining / e learning (CMS- Moodle) I want to ask some questions please... 1- Can we get data set (log file)  represent to output Moodle file with in order to apply some of mining techniques. 2- Is there (already available) Data Mining tools (built in Moodle application).  ?  or if not , 3- Is there any External Data Mining tools that (compatible) with the Moodle output log files and we can use it to make some mining techniques. 4- Can we use Weka Mining Application?  is it compatible with Moodle ? 5- Is there an reference that explain the types of format for Moodle output  (log) files. With thanks Yours Mr. Ziyad Hazim ( MSc. Computer Science) Lecturer in Faculty of science - University of Duhuk- Kurdistan Region - Iraq (Ph.D. Student at University of Ain Shams - Egypt)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 26, 2015, 7:42 PM",
          "AuthorName": "ziyad hazim",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1966465&course=5",
          "role": [
            "Picture of ziyad hazim"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle Web Mining Tools",
          "Text": "Hello Ziyad Hazim, also have much interest in the subject, I am master student and the subject of my dissertation is Moodle Web Mining for verifricar some standard of students evasion.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 20, 2016, 10:25 PM",
          "AuthorName": "Lorenzzo Mollinar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1476434&course=5",
          "role": [
            "Picture of Lorenzzo Mollinar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Web Mining Tools",
          "Text": "Hi, 1- Can we get data set (log file)  represent to output Moodle file with in order to apply some of mining techniques. For Moodle 2.7 and above you can use mdl_logstore_standard_log. 2- Is there (already available) Data Mining tools (built in Moodle application).  ?  or if not , 3-\nIs there any External Data Mining tools that (compatible) with the\nMoodle output log files and we can use it to make some mining\ntechniques. It will be necessary to execute some process before use Moodle logs. Please look for KDD. 4- Can we use Weka Mining Application?  is it compatible with Moodle ? Yes, if you process the data before use it. 5- Is there an reference that explain the types of format for Moodle output  (log) files. You may use this one:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1383389/mdl_logstore.PNG"
          ],
          "Time": "Friday, November 18, 2016, 12:54 AM",
          "AuthorName": "Renê Mendes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171057&course=5",
          "role": [
            "Picture of Renê Mendes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Web Mining Tools",
          "Text": "Lorenzzo, please see this link: http://br-ie.org/pub/index.php/wcbie There are many articles in Portuguese regarding using Moodle logs on data mining.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 18, 2016, 12:57 AM",
          "AuthorName": "Renê Mendes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171057&course=5",
          "role": [
            "Picture of Renê Mendes"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 340833,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=340833",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI tool not displaying on full screen",
          "Text": "I have added an LTI tool into my moodle account but when i click on the LTI tool  the page scroll stops working and the LTI page is displayed only on the visible part of the screen rather than the full screen. Not able to scroll down and see the full page and the menu items. Kindly suggest what is the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 4, 2016, 2:51 PM",
          "AuthorName": "ranu jaiswal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2098981&course=5",
          "role": [
            "Picture of ranu jaiswal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI tool not displaying on full screen",
          "Text": "Hello Ranu, Can't really help you on this, but I've had this issue too, and not on all of my moodle instances.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 29, 2016, 3:10 AM",
          "AuthorName": "David Ligne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1832944&course=5",
          "role": [
            "Picture of David Ligne"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 342023,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=342023",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI  Lynda stopped working",
          "Text": "Hello, I have en external tool configured for Lynda.com, as per the instruction from Lynda. It was working fine up until recently , however now when a a user clicks on the navigation link to lynda they receive  the error \" sorry this activity is currently hidden\". This seems like an permission issue, but i cant see where any permissions exist  for the external tool? i Have moodle 2.8.7",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2016, 6:12 AM",
          "AuthorName": "Martin Mitchell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2155041&course=5",
          "role": [
            "Picture of Martin Mitchell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI  Lynda stopped working",
          "Text": "Can you confirm that you havent hidden with the eye the LTI link in your course? Have you perhaps copied the link to it and pasted it as a text link somewhere, and hidden the original external tool URL ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2016, 1:48 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI  Lynda stopped working",
          "Text": "Hi Mary, I found the issue. A teacher had changed the enrolment method from guest to manual enrolment , on the course where the external tool was set. Hope that makes sense",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2016, 5:12 PM",
          "AuthorName": "Martin Mitchell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2155041&course=5",
          "role": [
            "Picture of Martin Mitchell"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI  Lynda stopped working",
          "Text": "Thanks for coming back and letting us know, so others can benefit from your experience!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2016, 5:14 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 341161,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=341161",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Provider with content picker.",
          "Text": "Hi all, I am wondering if anyone has done any work on extending the \"Publish as LTI\" in the newer version of Moodle with a content picker? To be more clear: There are LTI providers that will provide a tool consumer with a launch URL where they are then presented with a picker every time they use it to add modules or courses that they have access to. This eliminates the need to keep adding tools and providing separate LTI links. I have seen the work being done for adding the LTI ContentItem to the plugin ( https://docs.moodle.org/dev/LTI_Content_Item ), but it seems that functionality is for the consumer part of Moodle and not the provider part, unless im missing something. If anyone has any information about this, or could point me in the right direction, or even would just like to chat more about this, please let me know. Thank you in advance Roman",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2016, 3:36 AM",
          "AuthorName": "Roman Stotland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2154285&course=5",
          "role": [
            "Picture of Roman Stotland"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider with content picker.",
          "Text": "Hi Roman, In last few days I also did some research on this. It seems that you are right. Hope soon from Moodle side somevody will respond on this. In Moodle 3.2, content item is coming as consumer not as provider. -- Thanks Abhishek Chouhan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 14, 2016, 2:03 PM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 340588,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=340588",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Publish as LTI Tools vs LTI Provider",
          "Text": "Hi All, I am using Moodle 3.1 and want to use as provider. In Course configuration by default I saw \"Publish as LTI Tools\". Also I installed \"LTI Provider\" plugin. { https://moodle.org/plugins/local_ltiprovider } I am not sure the difference between these 2. Which one to use and when? I remember moodle doc 3.0 talks about LTI Provider and provision new course using template.  { https://docs.moodle.org/30/en/LTI_Provider } My requirement is to create/provision new LTI course in moodle if not available? Also as part of next implementation, use Content-item which will be part of moodle 3.2. - Thanks Abhishek",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2016, 9:18 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Publish as LTI Tools vs LTI Provider",
          "Text": "Hi Abhishek, Publish as LTI tool is included as standard in Moodle 3.1, so there is no need for you to install the LTI provider plugin. (The LTI provider plugin is only for use in sites using Moodle 3.0 or older.) Please see the documentation Publish as LTI tool for details.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2016, 5:25 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as LTI Tools vs LTI Provider",
          "Text": "Hi Helen, Thanks for your reply. With this standard \" Publish as LTI tool \" in 3.1, Can you please let me know how can we provision a new Course if that course is not there in Moodle (LTI Provider)? Is this possible with standard \" Publish as LTI tool \"? -- Thanks in advance Abhishek Chouhan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 3, 2016, 9:35 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as LTI Tools vs LTI Provider",
          "Text": "I don't think the Publish as LTI tool can create courses automatically, sorry.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 3, 2016, 3:02 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as LTI Tools vs LTI Provider",
          "Text": "Hi Helen, Thanks for the update.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 5, 2016, 8:27 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 233336,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233336",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "LTI not sending data",
          "Text": "Hi there. I'm a developer who is completely new on Moodle. I've setup the external tool and LTI in Moodle but then, when I click on the LTI link inside the course, no data is sent to the linked website. I'm using a tool that gathers the student email and creates a new account for him but there's no data in the $_REQUEST global variable. Am I missing something on the setup? Thanks a lot!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 29, 2013, 2:15 AM",
          "AuthorName": "Ignacio Cruz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1625480&course=5",
          "role": [
            "Picture of Ignacio Cruz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI not sending data",
          "Text": "Well, Moodle works with other external tools, so, if it does not work with your new external tool, then the bug is much more likely to be with your external tool than with Moodle. You probably need to use a tool like Firebug or Chrome developer tools (net tab), to see exactly what data is being sent from Moodle. Then you can try to understand where it gets lots before arriving at your tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 29, 2013, 2:27 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not sending data",
          "Text": "Thanks Tim. I just add this code on my website: var_dump($_REQUEST); And $_REQUEST is empty. Shouldn't be Moodle the one who send data to my website? I'm using WordPress on my website and lti4wordpress plugin would get the data from Moodle in order to process it but there's no data to process! I don't know if I'm explaining myself. Just tell me and I'll attach some screenshots with more details. Thanks a lot!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 29, 2013, 7:25 PM",
          "AuthorName": "Ignacio Cruz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1625480&course=5",
          "role": [
            "Picture of Ignacio Cruz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not sending data",
          "Text": "Moodle does send data to the LTI tool when it launches it. DId you follow my advice and watch what happens when you launch an LTI link. Do this: Install Firefox . Install the Firebug add-on. Add an 'External tool' activity to a test Moodle course, pointing at your tool, set to open embedded. When looking at that course page in Moodle, open Firebug (F12) and switch to the Net panel. Click the External tool link. You should see. GET request to mod/lti/view.php. GET request to mod/lti/launch.php (in the iframe). POST to your URL , with all the data that Moodle is sending as POST data. many more GET requests for all the CSS , JavaScript and images. 3. is the key one. If your tool is not recieving that data, it is your problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 29, 2013, 8:55 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not sending data",
          "Text": "Thanks again. Very helpful. I just checked and everything is there> GET, POST (with consumer key and all that info), so the problem must be in the tool. Maybe the question could be out of scope but, is there any common reason about this to be failing? Thanks again Tim!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 29, 2013, 11:09 PM",
          "AuthorName": "Ignacio Cruz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1625480&course=5",
          "role": [
            "Picture of Ignacio Cruz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not sending data",
          "Text": "Well, I found the error. I was using http://localhost/wp_moodle as URL Base but it should have been http://localhost/wp_moodle/index.php or something similar. It needs a php file in order to work. Cheers!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 30, 2013, 7:33 PM",
          "AuthorName": "Ignacio Cruz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1625480&course=5",
          "role": [
            "Picture of Ignacio Cruz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not sending data",
          "Text": "Hi Tim Hunt , Can i send the height and width parameter along with response of an  LTI request. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 4, 2016, 8:57 PM",
          "AuthorName": "ranu jaiswal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2098981&course=5",
          "role": [
            "Picture of ranu jaiswal"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 336549,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336549",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTi generated usernames",
          "Text": "We are using the LTi plugin.  And very nice it is too (after initial struggles). But we understood that the generated usernames in the LTi provider were made up of the consumer identifier #    the launch url supplied by the provider (Moodle LTI) $launch_url = \"http://localhost/local/ltiprovider/tool.php?id=1\"; #    identifier of consumer can be any string(e.g. consumer_LMS) but seems sensible it indicates which consumer when more than one $consumer_key = \"consumerLocation1\"; #    the secret supplied by the provider (Moodle LTI) $secret = \"7c92c079fff371188fc496\"; and a hash of the username. But what we get is : ltiproviderc5ee1a2c0458b53e8d1b0734bc62ec68d8e31ebfd1 Is that what others see and is there any way to get the consumer key to replace ltiprovider so we get in the case of the example above: consumer Location1 c5ee1a2c0458b53e8d1b0734bc62ec68d8e31ebfd1 Very much appreciate any thoughts.  Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2016, 5:47 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTi generated usernames",
          "Text": "Good question! Related to my \"Really Hard Question\" above. Have you gotten any answers yet?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2016, 12:08 AM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 340621,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=340621",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "A Really Hard Question",
          "Text": "Hello, We have just implemented LTI, and I have run into a tough question that I have no solution for... The screenshot below is of one of my students who are enrolled into Moodle from an LTI provider. Notice that the username is a hash, and the first name and last name are components of that hash. What I need is to identify the actual student names that are associated with the hash and first and last names and fill out that information so that the users can be identified in their profiles. If students fill this information out in their profiles, the next time they log in through LTI, their names get written over and replaced again with the LTI information. I do know who these students are, but short of typing their identities in manually in alternate fields, I have found that I cannot import them as a user upload .csv file. Why? Because moodle requires that the username, firstname, lastname, and email address be provided so that other fields can be populated. But of course, I cannot know what the hash is. Tied into this problem I also found that any fields I create cannot be uploaded to. For example, I created two new profile fields called fname and lname. Upload users doesn't recognize those as legitimate fields. Is there a solution to this dilemma? If so, please help me! Thanks in advance.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1372876/Capture.JPG?forcedownload=1"
          ],
          "Time": "Thursday, September 29, 2016, 9:09 PM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 340023,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=340023",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Allow frame embedding not working",
          "Text": "Hi, I am trying to embed moodle course in another website using \"LTI Provider\" plugin. On the browser getting error. Refused to display 'http://XXXXXXXXXXXXX/login/index.php' in a frame because it set 'X-Frame-Options' to 'SAMEORIGIN'. I have already enabled the option Home / > Site administration / > Security / > HTTP security Allow frame embedding Even though getting error. Any pointer on this will be helpful. -- Thanks in advance Abhishek Chouhan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 19, 2016, 4:24 PM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Allow frame embedding not working",
          "Text": "It is working as expected now. I was using the bitnami instance of moodle. In httpd.conf there was a check if X-Frame-Options is empty then set to SAMEORIGIN. This was the issue. commented that configuration.. All Good Now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 20, 2016, 11:22 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 339871,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339871",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "What  exactly is passed through LTI?",
          "Text": "I am new to LTI, but I have successfully set it up in Moodle such that when a user from another LTI compliant Learning Management System (called HAIKU) accesses Moodle in a link, then Moodle logs in that student and the student is then presented with Moodle pages. However, I am not sure what happens with certain data types from Moodle. For example, I want the scores from quizzes in Moodle to be passed back to HAIKU. Is that possible? If so, how? Unsure what to ask, since, as I said, I am new to LTI. Any advice is appreciated. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 15, 2016, 9:16 PM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 339343,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339343",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Publish as LTI tool - Duplicates of the same user",
          "Text": "Hi, I have a course setup on my moodle site which is sharing content using the publish as LTI tool. Next i have a blackboard site setup which i am using as a consumer of the lti links. On this site i have a student user which im using to access the lti content, however even though I am using the same student (with same first, last name and email address) to access the different lti links, my moodle site is creating a separate user for each lti link that i click on so i end up with many duplicates of the same user. I have checked that \"Allow accounts with same email\" is set to no under authentication settings and also tried to create user accounts with the same email manually and by uploading a csv. Both fail as they should, so why does creating accounts using lti still work? Is anyone else experiencing the same issue? or is this just a setting that i have missed somewhere? I am using Moodle 3.1.1+ (Build: 20160817). Thanks, Josh",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1367320/Screenshot.png?forcedownload=1"
          ],
          "Time": "Tuesday, September 6, 2016, 6:37 PM",
          "AuthorName": "Learning Science Ltd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2096741&course=5",
          "role": [
            "Picture of Learning Science Ltd"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Publish as LTI tool - Duplicates of the same user",
          "Text": "I'm running into a similar problem although a different use case. I'm using the external tool activity to link to a seperate course (Published as an LTI tool) on the same site. I get duplicate everything except the authentication method is LTI and the username is generated. According to the Moodle 3.1 Overview video up on YouTube @ Check it out at 1:34. \"You can now publish any course or course activity as an industry standard LTI tool. Which allows to include it within other moode courses , even if they are on other sites. Or even courses on other platforms.\" This is a new feature so there is a good chance it might have a few bugs in it but duplicate users seems like something that should have been caught... Learning Science Ltd... maybe try setting the authencation method for your original user on Moodle as LTI and then click on the LTI link from blackboard. I don't think that really solves you problem but would be a good step towards troubleshooting the problem. Still, if anyone else knows anything further to help either of us. Please chime in.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 8, 2016, 11:08 PM",
          "AuthorName": "Tristan Roscoe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1237262&course=5",
          "role": [
            "Picture of Tristan Roscoe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as LTI tool - Duplicates of the same user",
          "Text": "Are these links in the same course or different courses? If they are in different courses, they will be in different contexts and by design we need to create a different user. Here's why: if you have one course where a user is a teacher and another where the same user is a student, then what role will their account have? They are in a different context so must be treated differently. I created an issue on tracker for you: https://tracker.moodle.org/browse/MDL-55905 But please modify it with more details if you can. I don't have a full grasp on the problem you are experiencing yet. This might be because blackboard and moodle give a different context for different instances or it might be a problem in the provider code, but we can work that out while working on https://tracker.moodle.org/browse/MDL-55905",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 9, 2016, 11:21 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 339019,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339019",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Provider in Moodle 3.1 - Do not share blocks?",
          "Text": "Hi, I'm just trying out the new LTI Provider feature in Moodle 3.1, and I love it with one exception. Is there a way to prevent the the headers and blocks from the providing course from showing up in the consuming course? I'd like to just have the content pane appear if that's at all possible.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2016, 1:53 AM",
          "AuthorName": "Jason Fehr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=938619&course=5",
          "role": [
            "Picture of Jason Fehr"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider in Moodle 3.1 - Do not share blocks?",
          "Text": "It possibly depends on your theme. The LTI iframe forces an \"embedded\" layout - and your theme should provide a separate layout for \"embedded\" which does not contain blocks or a header.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2016, 10:05 AM",
          "AuthorName": "Damyon Wiese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337843&course=5",
          "role": [
            "Picture of Damyon Wiese"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 338065,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=338065",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "passing grades back to moodle 2.0",
          "Text": "Hey community, i am currently working on an implementation of an LTI Provider to offer individual lessons in moodle (like a cloze in a picture). I am working with a Java Servlet, running on a Tomcat 9. Our university's moodle is outdatet (welcome screen says 3.1, but lti launch-request says: ext_lms: moodle-2, lti_version: LTI-1p0 ). The validation of the lti-launch request of moodle is realized with the org.imsglobal.lti.launch.LtiVerifier, which works fine. However, when i try to pass grades back to moodle i always get the error \"V1.0985500758failurestatusConsumer key is missing.unknownRequest\". The request that produces this outcome is a POST on \"lis_outcome_service_url\" and contains the fields \"lis_person_name_full\", \"lis_result_sourcedid\" and \"oauth_consumer_key\" as i have seen in some php scripts when interacting with moodle gradebook. However it is not working. Form for POST (JSP): <c:set var=\"sourcedid\" value=\"${parameter.lis_result_sourcedid}\" /> <form action=\"${parameter.lis_outcome_service_url}\" method=\"POST\"> <input type=\"hidden\" name=\"lis_person_name_full\" value=\"${parameter.lis_person_name_full}\"> <input type=\"hidden\" name=\"lis_result_sourcedid\" value=\"${fn:escapeXml(sourcedid)}\"> <input type=\"hidden\" name=\"oauth_consumer_key\" value=\"${parameter.oauth_consumer_key}\"> <input type=\"text\" name=\"grade\">% <input type=\"submit\" value=\"Send Grade\"> </form> Am i doing this right? Are there any missing parameters? Is the order of there parameters importent? best regards Joscha",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 17, 2016, 11:47 PM",
          "AuthorName": "Joscha Zander",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2119695&course=5",
          "role": [
            "Picture of Joscha Zander"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: passing grades back to moodle 2.0",
          "Text": "Joscha I didn't think much of Moodle grade handling with LTi so do it all directly with the database but the following code appears in \"mod/lti/service.php\" in Moodle 3.1 foreach (lti\\OAuthUtil::get_headers() as $name => $value) { if ($name === 'Authorization') { // TODO: Switch to core oauthlib once implemented - MDL-30149 . $oauthparams = lti\\OAuthUtil::split_header($value); If you have that I'd hack that to first check that is your error message (ie,  add 'HERE' to the error message).  If it is i'd comment out the ' if ' and let: $consumerkey = $oauthparams['oauth_consumer_key']; Not a permanent solution but it will let you see if there are further errors and if there are it will give more of a clue. Would love to dig into it deeper but sadly rather busy at the moment. Hope someone else comes along but unfortunately this place is not well frequented despite LTi greatly extending the usefulness of Moodle, but you never know Cheers Nigel",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, August 18, 2016, 2:56 AM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: passing grades back to moodle 2.0",
          "Text": "Hey thanks for that answer, but unfortunately i have no influence on anything on moodle's side.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 20, 2016, 8:50 AM",
          "AuthorName": "Joscha Zander",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2119695&course=5",
          "role": [
            "Picture of Joscha Zander"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: passing grades back to moodle 2.0",
          "Text": "*Update for my initial question: I was able to send grades back to moodle with (org.imsglobal.pox.IMSPOXRequest) IMSPOXRequest.sendReplaceResult(request.getParameter(\"lis_outcome_service_url\"), request.getParameter(\"oauth_consumer_key\"), getSecret(), request.getParameter(\"lis_result_sourcedid\"),\"1\"); This call will set my own grade to 100% in moodle (i am the testing user). In the end it was very easy to send the grades back. However i study computer science and from a developers perspective the documentations (for any LTI package i have found so far) is superrr horrible. I can not imagine how it must be for a teacher... If requested by anyone - I will speak to my supervisor to publish my solution in the end. best regards Joscha Zander",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 20, 2016, 10:22 PM",
          "AuthorName": "Joscha Zander",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2119695&course=5",
          "role": [
            "Picture of Joscha Zander"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: passing grades back to moodle 2.0",
          "Text": "Joscha sorry assumed you had Moodle access.  But glad you got there in the end. I think you're right on the documentation level.  It isn't of course LTi as a standard (which is fairly flexible) but how each  provider and consumer implement it.  Hopefully as more people start using LTi it will improve. Sadly of course this is the open source world.  And as you point out many users are not well equipped to handle technical issues and even if they are like yourself they can often only see one end of the pipe.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 21, 2016, 12:00 AM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 338227,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=338227",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Grade Recording",
          "Text": "I am new to the LTI Provider in Moodle 3.1 and plan to allow access to courses from other LTI systems.  My question is does Moodle record activity completion when the criteria is met within the system? For example, if they completed the quiz with 80% does that score get recorded in Moodle and sent to the LTI consumer, and the activity completion criteria is flagged as completed? Hopefully the answer is yes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 20, 2016, 10:19 PM",
          "AuthorName": "David Boggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1590647&course=5",
          "role": [
            "Picture of David Boggs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 228066,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=228066",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Not auto logging into a site",
          "Text": "Hi, I've set up a test moodle server to be a provider and am trying to connect to it from another moodle. In the consuming moodle, I've added the LTI provider and used the external tool to link to the provider.  The problem I'm having is that the link only takes me to the login page for the provider.  I can't get it to go straight through to the course and auto create a user?  I'm not sure what I'm missing and any help would be appeciated. Thanks Kieran",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 8, 2013, 5:04 PM",
          "AuthorName": "Kieran Briggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=58075&course=5",
          "role": [
            "Picture of Kieran Briggs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Not auto logging into a site",
          "Text": "So, on looking into it further.  When I click on the LTI link to go to the provided course it creates the account in the moodle but still only takes them to the login screen rather than the course itself.  Also it doesn't log them in.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 8, 2013, 6:24 PM",
          "AuthorName": "Kieran Briggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=58075&course=5",
          "role": [
            "Picture of Kieran Briggs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Not auto logging into a site",
          "Text": "Did you solve this problem? I am facing the same problem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 13, 2016, 2:24 AM",
          "AuthorName": "jj v",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397379&course=5",
          "role": [
            "Picture of jj v"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Not auto logging into a site",
          "Text": "Did you solve it? I'm having the same problem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 10, 2016, 6:30 PM",
          "AuthorName": "Bert van der Hooft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1612564&course=5",
          "role": [
            "Picture of Bert van der Hooft"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Not auto logging into a site",
          "Text": "Are you sending all the required parameters?  Example: id : 2 user_id : U330001 roles : user resource_link_id : kkkk lis_person_name_family : U330001 lis_person_name_given : U330001 lis_person_contact_email_primary : U330001@e2systems.co.uk context_id : 1 lti_version : LTI-1p0 lti_message_type : basic-lti-launch-request oauth_callback : about:blank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 10, 2016, 8:17 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 337234,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=337234",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI Error with MediaWiki",
          "Text": "L.s. Trying to connect mediawiki als an external tool in Moodle. I get an error: Error LTI validation is not succesfully Invalid signature ours= QFbYlq0gm7M4ftGmsvbqiZMI= yours=mvmIzDJKga5MvpSJvd2FqWg= I.m using the MediaWiki extension of learning apps Does anybody knows what's wrong, or - even better - how to embed MediaWiki in moodle? Bert",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 29, 2016, 10:43 PM",
          "AuthorName": "Bert van der Hooft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1612564&course=5",
          "role": [
            "Picture of Bert van der Hooft"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Error with MediaWiki",
          "Text": "Bert can't help on the solution at the moment beyond to say it relates to Auth and openSSL Here's mine : Invalid signature ours= jiPd9IGmkss44+mgZycjFazA7dw= yours=YxIczTXiePjsicQ8cDEpVYBXvzw= In my case the Moodle is the tool provider.  I get this issue whether using the local LTi plugin or the LTi core functionality in Moodle 3.1 We will be working on this over the weekend and of course I'll come back if we have success but just to say this was holding me up last week so I simply commented out the test.  In moodle it is in OAuth.php (but there were originally three of these and now I have uninstalled the local plug in just two). I commented out the test in ./moodle/enrol/lti/ims-blti/OAuth.php /* if (!$valid_sig) { $ex_text = \"Invalid signature\"; if ( $OAuth_last_computed_signature ) { $ex_text = $ex_text . \" ours= $OAuth_last_computed_signature yours=$signature\"; } throw new OAuthException($ex_text); } and all worked (ok without security but I was only testing) and I could get on with setting up and testing iFrames and the such like. Probably not of value to you but I thought I'd throw it in the melting pot Cheers Nigel",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/thoughtful"
          ],
          "Time": "Saturday, July 30, 2016, 12:48 AM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Error with MediaWiki",
          "Text": "Bert a quick update. In our case it appears that Moodle is using a different\nEncode function to our simulator. Our Moodle is using this animal. _______________________________________ class OAuthUtil { public static function urlencode_rfc3986($input) { if (is_array($input)) { return array_map(array('OAuthUtil', 'urlencode_rfc3986'),\n$input); } else if (is_scalar($input)) { return str_replace( '+', ' ', str_replace('%7E', '~', rawurlencode($input)) ); } else { return ''; } } Research goes on.Cheers Nigel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 30, 2016, 5:51 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Error with MediaWiki",
          "Text": "Nigel, Thanks for extensive answer. Are you heading to a solution? Bert",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2016, 1:26 PM",
          "AuthorName": "Bert van der Hooft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1612564&course=5",
          "role": [
            "Picture of Bert van der Hooft"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Error with MediaWiki",
          "Text": "Bert the issue is how the signature is generated (providing all else is equal ). I have created a php simulation that acts as a consumer to the Moodle provider and after a bit of playing the signatures match (tried it with Moodle localhost and a different Moodle in the cloud and no problems). The problem is that you are the other way around as I understand it i.e. Moodle is the consumer and the tool external.  With mine the tool is internal and the non Moodle is the consumer. The code is 237 lines long but lots of comments in there.  You're welcome to it if it might help to understand the problem at the conceptual level.  Atleast it  is an example of how Moodle 3.1 the provider in core does it and I'd find it odd if Moodle 3.1 the consumer did it differently. But I guess you need to replicate the Wikimedia method in Moodle unless you can change the Wikimedia code? The other possibility I guess is some other parameter mismatch but they seem fairly straightforward: # OAuth Core 1.0 spec: http://oauth.net/core/1.0/ $launch_data[\"oauth_callback\"] = \"about:blank\"; $launch_data[\"oauth_consumer_key\"] = $consumer_key; $launch_data[\"oauth_version\"] = \"1.0\"; $launch_data[\"oauth_nonce\"] = uniqid('', true); $launch_data[\"oauth_timestamp\"] = $now->getTimestamp(); $launch_data[\"oauth_signature_method\"] = \"HMAC-SHA1\"; or a different level of OAuth. Drop me a mail if you'd like the code.  All the normal 'not fit for human consumption' and 'entirely at your own risk of course' It will end up as .net so I haven't been overly formal with it Nigel",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/mixed",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, August 9, 2016, 9:28 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 336984,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336984",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Installing LTi plugin on UNIX",
          "Text": "Hi all I installed the LTi provider plugin on Windows and had great success.  Now I have installed the same on a Centos m/c. All seems ok and I can generate a secret and url with id. Haven't yet set up OAuth so went to moodle/local looking for the ltiprovider directory structure I had seen on the Windows install.  However it is not present.  Thus I cannot edit ./local/ltiprovider/ims-blti/OAuth.php On Unix (Centos): [E2Admin@MoodleLMS local]$ ls readme.txt  upgrade.txt On Windows: HP@NigelsHP /cygdrive/c/Moodle/MoodleWindowsInstaller-latest-31/ server /moodle/local $ ls ltiprovider  readme.txt  upgrade.txt I've set debug to max but no messages, warnings or errors during installation but as I say it generates secrets and the id for the url ok. Anyone have any thoughts why this directory structure is missing on Centos but present on Windows? Or if you have a Unix install if you also do not have this structure? Cheers and tx for any thoughts",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 25, 2016, 9:58 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Installing LTi plugin on UNIX",
          "Text": "Did you manually install on the Linux server? If it works on Windows in moodlecode/local/ltiprovider then IF ltiprovider is in the same location on Linux it should work. What version of Moodles ... on Windows ... on Linux? Thought in the highest version of Moodle (any platfrom), litprovider was now part of core code. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 26, 2016, 1:41 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Installing LTi plugin on UNIX",
          "Text": "Just checked a 3.1.1+ (Build: 20160714) and LTI Provider is built in but not as a separate mod or local ... but in authentications and enrollments, etc.. (ie, other areas).   The Windows platform install where you have ltiprovider installed in local was/is a forerunner to the stuff in 3.1.1+ and not part of core.    There's a diff. ﻿ Use the search box below the Site Admin menu for \"lti\" and you'll see the various areas where something either needs to be turned on or have some setting set. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 26, 2016, 2:11 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Installing LTi plugin on UNIX",
          "Text": "Ken first as always much appreciate your time. The Windows and Centos both have 3.1.   We used https://moodle.org/plugins/pluginversions.php?plugin=local_ltiprovider to get the latest LTi plugin download for Moodle 3.1  And using site Administration/Plug Ins we let moodle handle the install which it did without complaint. LTi apeared in the menus and we could generate secrets and ids.  All quite normal. Beyond not having that local directory structure and thus no OAuth.php in local I do have mod/lti/OAuth.php enrol/lti/ims-blti/OAuth.php On windows with LTi installed in the same way I have: enrol/lti/ims-blti/OAuth.php local/ltiprovider/ims-blti/OAuth.php mod/lti/OAuth.php I see \"In Moodle 3.1 onwards, the Publish as LTI tool enrolment plugin and LTI authentication plugin allow remote users ......................\"    This presumably is the LTi move to core that you mentioned. So I guess we start again on those and see if they work.  That still leaves which OAuth is doing the validation but I guess by trial and error we will get there. Seems odd that moodle.org offer a download for Moodle 3.1 that is now presumably obsolete but I guess that is free software for you Tx Ken at least with your help we are back on the right road. Of course if anyone knows which OAuth.php is actually doing the validation it would be great to know. Cheers Nigel",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/biggrin"
          ],
          "Time": "Tuesday, July 26, 2016, 4:10 AM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Installing LTi plugin on UNIX",
          "Text": "Just downloaded the lastest LTIProvider plugin from downloads and unzipped. In the un-zipped archive there is a  'README.mediawiki' file.  It is ASCII text you could open it on Windows by changing the filename extension to .txt and open with NotePad. Here's a clip from that file: == How it works == === User authentication === * Users are created automatically in their first access to the system. * Users are created with a hashed username and also with an auth method that disable direct login to Moodle. * Users are allways enrolled in the course where the activities are. You can choose which role has the Learner and the Teacher from the remote system. There is also settings for setting Users profile default values (email visible, etc...) If you are going to have courses with local and remote users enrolled, I recommend you to create these new roles: * External teacher * External student The 3.1.x built in docs is here: https://docs.moodle.org/31/en/External_tool_settings I've not tested/explored either to the max, but could be the addon plugin offers something different from the builtin. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 26, 2016, 7:28 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Installing LTi plugin on UNIX",
          "Text": "Carry on like this Ken and we will be offering you a job.  We are based in Cadiz in Spain and London, UK.  Would that suit you? For our current project we only need student/user roles.  The attraction of LTi, beyond it being a documented standard, is the anonamous login (hashed virtual username).  In this case we only have single activity SCORMs so can keep the rest very simple.  Our clients biggest concern is security and LTi allows us to give close to 100% security despite the Moodle being cloud hosted. Anyway over night we set up the core stuff.  It appears to work ok based on limited testing.  But does have differences from the original plugin.   Nothing drastic so hopefully we can be back on track tomorrow. Cheers Nigel",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, July 26, 2016, 1:24 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 226617,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=226617",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Builtin support for edu-apps.org LTI catalog",
          "Text": "I wonder if we could support the config files for each LTI tool on the Instructure's LTI catalog web site: http://www.edu-apps.org/index.html ? I could be very helpful to have a listbox with all the LTI tools on the catalog, inside the LTI setting page. From which the teacher could pickup a tool and have its setting automatically apear on the page setting, directly from the config file that is on the web site. What do you think?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 13, 2013, 4:26 PM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Builtin support for edu-apps.org LTI catalog",
          "Text": "Also: http://www.informationweek.com/education/instructional-it/canvas-lms-maker-launches-open-education/240152738",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 19, 2013, 5:14 AM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Builtin support for edu-apps.org LTI catalog",
          "Text": "I keep getting spam -blocked, but I was working on something related to this earlier this week. I'll try to post a link in another post and see if that works... basically it's a Chrome extension that adds a link to more easily drop in apps listed on edu-apps.org into your external tools config.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 26, 2013, 6:41 AM",
          "AuthorName": "Brian Whitmer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558930&course=5",
          "role": [
            "Picture of Brian Whitmer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Builtin support for edu-apps.org LTI catalog",
          "Text": "I think maybe the spam filter hates github or something. If you go to github then the url is www.github.com/whitmer/chrome_edu_apps . It's a Chrome extension so it won't work in FF or Safari or IE . There's directions on the site for how to install the extension. Please let me know (@whitmer) if it's not working or if it needs tweaks. I've only been able to test it on a couple Moodle sites so far..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 26, 2013, 6:43 AM",
          "AuthorName": "Brian Whitmer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558930&course=5",
          "role": [
            "Picture of Brian Whitmer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Builtin support for edu-apps.org LTI catalog",
          "Text": "Cool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 22, 2016, 8:29 PM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 336579,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336579",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Question for Juan Leyva",
          "Text": "I am trying to\nuse LtiLibrary and post grades to all students under\nLTI item in the gradebook in Moodle. For 2 week I have been trying to\nfigure it out … How can I get lis_result_sourcedid with LTI for each student ? For now, I can post only grade for a student\nthat click on the LTI like so, var result=LtiLibrary.Core. Outcomes .v1. OutcomesClient .PostScore(Request.Form[ \"lis_outcome_service_url\" ].ToString(), Request.Form[ \"oauth_consumer_key\" ].ToString(), ConfigurationManager .AppSettings[ \"SharedSecret\" ].ToString(), Request.Form[ \"lis_result_sourcedid\" ].ToString() ,\n0.40); The question is how\ncan I post grade for a student with id 22 (for example), my id is 35 and I am\ntrying to replace it, like so...but it does not allow me to post grade.   Any\nideas? var result=LtiLibrary.Core. Outcomes .v1. OutcomesClient .PostScore(Request.Form[ \"lis_outcome_service_url\" ].ToString(), Request.Form[ \"oauth_consumer_key\" ].ToString(), ConfigurationManager .AppSettings[ \"SharedSecret\" ].ToString(), Request.Form[ \"lis_result_sourcedid\" ].ToString().Replace( \"\\\"userid\\\":\\\"35\\\"\" , \"\\\"userid\\\":\\\"22\\\"\" ), 0.40);",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Saturday, July 16, 2016, 5:46 AM",
          "AuthorName": "nva nva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106940&course=5",
          "role": [
            "Picture of nva nva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Question for Juan Leyva",
          "Text": "never mind, just found the solution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 19, 2016, 3:08 AM",
          "AuthorName": "nva nva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106940&course=5",
          "role": [
            "Picture of nva nva"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Question for Juan Leyva",
          "Text": "nva nva can you share you're solution.  With so little feedback on LTi every bit of gleaned info is like gold dust.  Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 19, 2016, 3:09 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 336209,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336209",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LtiLibrary - posting grade for all students",
          "Text": "I am trying to use LtiLibrary and post grades to all students under LTI item in the gradebook in Moodle. For now, I can post only grade for a student that click on the LTI like so, var result=LtiLibrary.Core. Outcomes .v1. OutcomesClient .PostScore(Request.Form[ \"lis_outcome_service_url\" ].ToString(), Request.Form[ \"oauth_consumer_key\" ].ToString(), ConfigurationManager .AppSettings[ \"SharedSecret\" ].ToString(), Request.Form[ \"lis_result_sourcedid\" ].ToString() , 0.40); The question is how can I post grade for a student with id 22 (for example), my id is 35 and I am trying to replace it, like so...but it does not allow me to post grade . Any ideas? var result=LtiLibrary.Core.Outcomes.v1. OutcomesClient .PostScore(Request.Form[ \"lis_outcome_service_url\" ].ToString(), Request.Form[ \"oauth_consumer_key\" ].ToString(), ConfigurationManager .AppSettings[ \"SharedSecret\" ].ToString(), Request.Form[ \"lis_result_sourcedid\" ].ToString().Replace( \"\\\"userid\\\":\\\"35\\\"\" , \"\\\"userid\\\":\\\"22\\\"\" ), 0.40);",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 9, 2016, 9:49 AM",
          "AuthorName": "nva nva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106940&course=5",
          "role": [
            "Picture of nva nva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LtiLibrary - posting grade for all students",
          "Text": "You can only send grades to the links that were used. When a LTI link is used and grades are allowed, a gradable object is created and the reference is supposed to be what you get as lis_result_sourcedid. You can not arbitrarily send a grade to an object that doesn't exist. So the users (all) need to make use of the link. This is the case not only for Moodle but for all the LMS I have worked with. This means that in your tool provider you also need to keep track of the launches storing the lis_result_sourcedid parameter received. I would also recommend you to store the lis_outcome_service_url parameter if you are planning to support different LMS. It is not the case for Moodle but for others the endpoint is what really changes. Good luck",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 18, 2016, 10:50 PM",
          "AuthorName": "Jesus Federico",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370546&course=5",
          "role": [
            "Picture of Jesus Federico",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LtiLibrary - posting grade for all students",
          "Text": "I THANK you! It makes sense, works now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 19, 2016, 3:07 AM",
          "AuthorName": "nva nva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106940&course=5",
          "role": [
            "Picture of nva nva"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 336522,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336522",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Detailed quiz results?",
          "Text": "Is it possible to have an external LTI tool report detailed quiz results to Moodle? Right now I can only see how to report a single score. Thanks, Jared",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2016, 3:51 AM",
          "AuthorName": "Jared Schaeffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2102696&course=5",
          "role": [
            "Picture of Jared Schaeffer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Detailed quiz results?",
          "Text": "Jared are you using SCORMs? As I understand it detailed question/answer results are available for a Moodle quiz (I have read) but not normally for SCORM (as I have seen).  Indeed we are actively pursuing this for a client at the moment. We have tried SCORMs with just a terminal quiz but still we only get the percentage grade. Hopefully someone else will come along but I will come back with our progress after we have tried various SCORM formats.  If that fails I guess we will try bespoke as our client needs this type of detail result reporting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2016, 5:35 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Detailed quiz results?",
          "Text": "Thanks Nigel. We aren't currently using SCORM. We just have an external LTI tool that I'm hoping I can get to report more detailed quiz results. I am curious to see what you find with different SCORM formats.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2016, 9:57 PM",
          "AuthorName": "Jared Schaeffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2102696&course=5",
          "role": [
            "Picture of Jared Schaeffer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Detailed quiz results?",
          "Text": "Jared just a quick update. We have dissected a number of SCORMs in the hope we might find someway of triggering something or embedding php but sadly no joy. So that leaves hooking into the code at the point that the grade is calculated as the only answer. We are reluctant to hack Moodle Core but I guess we have no choice.  We'll be looking at this  but not for a few weeks as we need to get Moodle live for our client and our guru resource who I'd trust with this is otherwise occupied. Moodling on ................",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 18, 2016, 2:12 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 336570,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336570",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding 3.1 LTI tool to 3.0.3+ Moodle",
          "Text": "Hi, We've just upgraded our instance of Moodle to 3.0.3, due to ~4 month upgrade process from DEV - LIVE. Therefor we have just missed out on the new functionality which comes with the new 3.1 version of the LTI tool, which would solve some issues for us. I've added the v3.1 tool to a local instance of Moodle v3.03 to do some testing, modifying a few 'version.php' files later to make them think our version of moodle is the required one, and hey presto it just seems to work, without breaking anything. Has much changed, other than the new UI and ability to add links to activity menu, in the new version which would likely break an older version of moodle? Thanks, Mark.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 16, 2016, 2:44 AM",
          "AuthorName": "Mark Findlay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1548313&course=5",
          "role": [
            "Picture of Mark Findlay"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 336284,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336284",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI provider plugin - Not sending grades",
          "Text": "Hi, I am really struggling to get my site to send grades from my LTI provided content to a consumer site, whether that be BlackBoard or another Moodle install. Im pretty sure i've set everything up correctly. I have Moodle 3.1+ (build: 20160701) installed with the the LTI provider plugin version 2016020100 (I am not using the Publish as LTI tool now part of Moodle core). I have moodles cron job running every 30 mins.  allow_url_fopen is set to on in my php.ini file. I've set http-security-allow-frame-embedding to on under site-admin->http security and i've checked send grades back in the settings for my lti provided content. The content works fine, it's just the grading thats not working. Is there something i'm missing? Thanks Josh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 11, 2016, 11:12 PM",
          "AuthorName": "Learning Science Ltd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2096741&course=5",
          "role": [
            "Picture of Learning Science Ltd"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 335950,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335950",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Content Item and Membership Service",
          "Text": "Hi We're a LTI tool provider. I'm trying to understand which Moodle versions (if any) support the IMS Global specifications for Content Item and Membership Service with LTI. Also, is anyone aware of a LTI solution with Moodle which passes on group membership from Moodle to a LTI tool. I.e., if you use groups within a Moodle course, pass on information on whether a student is a member of such a group to a LTI tool? Thanks Jacov",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2016, 8:47 PM",
          "AuthorName": "Jacov Mostovicz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1389176&course=5",
          "role": [
            "Picture of Jacov Mostovicz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 335937,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335937",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Thoughts on an error message??",
          "Text": "Hi Running Moodle 3.1 LTi provider I get an error sent to the consumer: Notice : Undefined index: resource_link_id in C:\\Moodle\\MoodleWindowsInstaller-latest-31\\ server \\moodle\\local\\ltiprovider\\ims-blti\\blti.php on line 13 line 13 of blti.php:   $resource_link_id = $_REQUEST[\"resource_link_id\"]; Anyone any ideas?  Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2016, 5:01 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 333917,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333917",
      "NoOfResponses": 22,
      "ResponsesInList": [
        {
          "Title": "LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi, I am using Sakai 10 as an LTI consumer , and Moodle 3 as LTI provider. The issue I am having is that the grades are not being transferred over. Have anyone successfully done this, and can help? Thanks, Phil",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 30, 2016, 10:44 PM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Philipp, The grades are synced via a task in Moodle that is run during the cron. Are you running the cron on your site? Regards, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 1, 2016, 10:56 AM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Mark! Sorry, I didn't see this response. Must not have set my notification preferences correctly. No, i did not set the moodle cron jobs yet. Thanks for the tip. I have now set it up according to this : https://docs.moodle.org/24/en/Cron_with_web_hosting_services using CPanel , using the command wget -q -O /dev/null http://www.mydomain.com/moodle/admin/cron.php Do you know if this suffice? Its been more than an hour, and no marks have come through, so I am not sure if I did it correctly. Phil",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 9, 2016, 3:20 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "I would visit http://www.mydomain.com/moodle/admin/cron.php directly and see what it tells you. It may only allow the cron to be run via cli. You can either change this setting so that isn't required or run it via CLI. See https://docs.moodle.org/31/en/Cron#Setting_up_cron_on_your_system for more information.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 9, 2016, 11:37 AM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi, Thank you for the help! I've successfully managed to get a couple courses to return marks to Sakai, after the cron job ran. However, i have not been able to get any other courses to return marks. I've duplicated settings as much as I know, but i must be missing something. Any ideas on whether there is a setting i could have missed? Thanks, Philipp",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 15, 2016, 2:13 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi, I have been able to get Cron jobs working using WGET command from Cpanel. Immediately after, 2 of the 3 test courses transmitted grades to SAKAI. However, I have been unable to duplicate this process for any of the other courses, new or old. I can keep adding quizzes to these 2 working courses, and the marks will all be transferred, however, not for new courses. Any ideas? I am backtracking any possible setting i've done but i can't think of any that would make those two work. It seemed to me that i have simply activated LTI, then created a new connection allowing marks to be transmitted. That is all. On the SAKAI side, i am not even making new connections. I am simply saving the new URL and secret, and specifying a different gradebook location. And it stops working. Any ideas on what would hidden settings i may have toggled to make LTI grade transfer work for one item but not for the other?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2016, 4:03 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Each LTI enrolment instance can specify whether or not it wishes to sync grades with the consumer. Have you confirmed this setting is enabled in the new courses? To confirm visit the course then go to 'Course administration' > 'Users' > 'Enrolment methods' and edit the LTI enrolment instance to view the setting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2016, 12:06 PM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "HI Mark, Thank you for being so patient with me. I have ensured that the \"LTI provider\" setting under \"Course Administration\" is toggled to \"Send Grades Back\" for each courses. Did you perhaps mean this setting? For my installation, there is no \"LTI Enrolment\" instance under 'Course administration' > 'Users' > 'Enrolment methods'. The two courses that works, have both their 'Manual enrolments' turned on, and one of them also have a 'Self Enrolment' instance turned on.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2016, 10:07 PM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Philipp, There seems to be some confusion here - sorry. In Moodle 3.1 we released our own LTI provider in the form of an enrolment plugin (enrol/lti). This is the plugin I thought you were talking about - but it seems instead you are referring to https://moodle.org/plugins/pluginversions.php?plugin=local_ltiprovider . I have not used this plugin thoroughly so it's hard for me to debug your issue. The cron should normally tell you what courses it processed and which ones it missed and why. Is there any information there?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2016, 9:47 AM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Mark, Thats okay, this has been quite the process! Haha. I have tried more than multiple things while keeping our thread alive. Please bear with me: In regards to Cron : - I made a mistake and used /usr/local/bin/php -q /real/path/to/script/admin/cli/cron.php on my shared hosting to activate cron every 30 minutes. Up until yesterday I have been using my browser pointed towards the admin/cron.php to refresh cron whenever i needed to see if its working, rather than wait that 30 minutes. Thats why I didn't realize that the shared hosting cron was not working until yesterday. up to this point i have never received any emails from cron jobs. I have now fixed it by using WGET, pointing towards admin/cron.php. This seems to be working, because i finally started getting emails from cron jobs. On your suggestion, i looked at the actual email sent to me, and turns out it has been sending me error messages. This is what the email sent me : mount: /var/fake/azlsbroc/var/lib/ mysql not mounted already, or bad option Please note that running the cron manually from browser never gave this error. From browser, i get the report (attached) . I don't see anything that I need to be aware of? In regards to Moodle 3.1 : Realizing that my LTI issue may be related to a bug that could have been subsequently fixed, i tried installing Moodle 3.1 on my sharing server on bluehost.com 2 days ago. The installation went like a breeze, however, the LTI link did not work . The link gave an error 500.  I opened a different thread elsewhere for this issue : https://moodle.org/mod/forum/discuss.php?d=334824 However it does not seem like anyone has any idea on what is wrong. I have also called bluehost, which was of no help. Considering that the issue may be server related, i then installed Moodle 3.1 on my XAMPP installation (localhost). Turns out, the LTI link worked just fine. Realizing that the issue is indeed server related, i then tried to install Moodle 3.1 on Godaddy. Halfway through installation, CSS stops loading. The installation page effectively becomes a text only page. I started another thread on installation issue here : https://moodle.org/mod/forum/discuss.php?d=334924 . It looks like no one has dealt with this either. Calling Godaddy was of no use. I now have 3 subdomain on Bluehost trying to get LTI to work, I have tried reinstalling Moodle 3.1 thrice on godaddy thinking maybe i had chosen the wrong PHP version (it is 5.4), and I have a local installation of moodle as well on my machine. I am really quite at a loss, and losing track of what i have tried doing to make things work. The current tally means I have more than few issues now : - LTI is patchy (not always working) when using Moodle 3.0 - Cron job sends me email with execution error - Moodle 3.1 wouldnt install correctly, will only load text and textboxes. I think I need to figure out how to install Moodle 3.1 correctly first, because the LTI issue i have may be corrected then. Do you have a suggestion on what to do either in regards to the issue with Bluehost installation or with Godaddy installation? Thanks for patience. Phil",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 18, 2016, 3:50 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Philip, Sorry you are having to try so many different approaches in an attempt to get this working. Unfortunately without having access to your site and possibly your server it will be difficult for me to figure out what is going on. According to your cron the local_ltiprovider was called but did not sync any grades - Processing cron function for local_ltiprovider... ... started 15:31:41. Current memory use 9.4MB. Running cron for ltiprovider Deleting LTI tools assigned to deleted courses Sync user profile images 0 profile images updated done. (10 dbqueries, 0.01 seconds) \"The installation went like a breeze, however, the LTI link did not work . The link gave an error 500\" - this sounds like a permissions issues on the server. May I suggest approaching a Moodle partner (see https://moodle.com/partners/ ). That way you will be receiving quality support by people who understand Moodle and its features as well as contributing back to Moodle development.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2016, 11:05 AM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Mark, Thanks for responding. I would not have known from the cron log paragraph you showed that no grades were synced! Since i don't actually know what the report would have looked like if grades were synced. I think that basically sums up the difficulties i've had with moodle. Not knowing how it should look like if it works right, i don't even know how to fix it. Haha. I feel  helpless as obviously i have no access to the actual godaddy or bluehost shared server either. I just have to take it by their words that everything seems to be running fine on their end, and there is no error messages in their logs. I am tasked with exploring moodle as a simple, right out of the box solution to untie ourselves from 3rd party partners of our current platform, so my initial difficulties makes it less likely that i would get permission to dig ourselves in deeper. I am going to try and dig a little deeper on all these issues. You've helped me tremendously in just pointing towards the right directions. Cheers, Phil",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2016, 10:03 PM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Phil, You could always use moodlecloud.com to create a free Moodle 3.1 site to test out. Once you have created a site be sure to read up on https://docs.moodle.org/31/en/Publish_as_LTI_tool on how to set up as an LTI provider. Hope that helps! Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 21, 2016, 11:07 AM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Mark, I am sorry for continuing the thread, but a new error message that i have never seen before just popped up. Following your suggestion, i now have an installation of the latest moodle version 3.1 on moodle cloud . Thank you. On trying to connect to it through Sakai after setting the LTI up, I receive this error Unknown exception related to local files (Can not fetch file form URL) Are you possibly aware of this error? To verify my setup, i have successfully connected it via LTI from one of the other MOODLE installation i had. LTI url : https://azlsbrock.moodlecloud.com/enrol/lti/tool.php?id=1 secret : k9hGiXy84yhTNdhXHUAP5bGqK8c1xFKn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2016, 3:50 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "PS: SAKAI also have some sort of Sakai Cloud that could be used for testing of its latest version. I am going to try and request my SAKAI expert to create one and have both of these approved cloud versions to connect to each other.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2016, 3:52 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hmm, could be something to do with the moodlecloud configuration. Thanks for bringing this to my attention. Will follow it up.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 24, 2016, 9:45 AM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Philip, I was able to create a moodlecloud site and have it act as an LTI provider with no issues. Looking at the error message I suspect the error is due to the call to \\enrol_lti\\helper::update_user_profile_image($user->id, $image) in enrol/lti/tool.php. What this function does it update the user's profile image on the LTI provider site when the consumer has passed a profile image URL. So, what I believe is happening is that your consumer is passing either 'user_image' or 'custom_user_image' (which specifies the URL of the image) but that URL is not accessible by moodlecloud so it is failing to update the profile image and throws an exception.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 24, 2016, 10:15 AM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Mark, I am not aware of an option on Sakai's end to allow or pass profile image through LTI.. Did you happen to try create a Sakai cloud site as well to see how the LTI works between the two platform? The reason why i am adamant about trying to get LTI to work between Sakai and Moodle is because Sakai is maintained by a different department in our organization and it is integrated to the AD - while Moodle would be something new and won't be integrated. Link to Sakai cloud site : https://sakaiproject.org/try-sakai I have created a Sakai cloud site on each of the cloud solution , Longsight and Edia. I have attached screenshots of the setting pages for each of the installation and the result. 1. Longsight SAKAI Cloud solution : LTI did not load (empty screen) 2. Edia SAKAI Cloud solution : LTI loaded, but for some reason Edia Sakai is the only one that does not even have an option to create gradebook connectio, so the Edia Sakai option is not very useful. 3. Internal Sakai solution : LTI connection gave the error I wrote above, and clicking continue brings me to a login page for Moodle (instead of automatically logging in user). Can you spot anything in my setting that seems off? Keeping in mind that Longsight and Moodlecloud are both cloud solution that should...theoretically work together (Sakai and Moodle approved installations?) I am happy to give you my moodlecloud/Edia/longsight passwords and username if that would help you see what my settings are. PS: If you download the screenshots it gives the descriptive names of what it is actually showing.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1351393/Internal%20Sakai%20LTI%20setting%20and%20result.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1351393/Longsight%20Sakai%20LTI.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1351393/MoodleCloud%20LTI%20Setting.png?forcedownload=1"
          ],
          "Time": "Saturday, June 25, 2016, 3:37 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Philip, I was able to reproduce the error message from a test consumer connecting to my LTI provider site. I have created https://tracker.moodle.org/browse/MDL-53222 and will work on a fix. It is because of the image URL that is sent to the provider not being valid. I am not familiar with Sakai but in order to access the provider you will need to discover how to fix the image URL, or you can wait for the issue to be fixed. Regards, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 27, 2016, 12:39 PM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Whoops - linked to the wrong issue. I meant https://tracker.moodle.org/browse/MDL-55027 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 27, 2016, 1:51 PM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Thanks Mark. I hope that when its integrated it will solve the problems i have in regards to LTI with Sakai as well. Cheers, Phil",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 29, 2016, 10:46 PM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI from Sakai to Moodle , transferring Grades",
          "Text": "Hi Philipp, https://tracker.moodle.org/browse/MDL-55027 passed testing and should be pushed to Moodle core shortly (once the status is set to 'Closed' it will be available for download from https://download.moodle.org/releases/latest/ (Built weekly version)). However, Moodlecloud only updates every point release. So, it wouldn't take effect until late July. You could either wait for that update to take effect on the Moodlecloud servers or try and install Moodle 3.1 again once the patch is available (or if you were able to figure out why Sakai was sending a bad URL that would work as well). Regards, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 30, 2016, 3:58 PM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 335327,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335327",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Difference between ADDING an external Tool and REGISTERING an external tool",
          "Text": "Im having some issues with integrating Zaption to passback grades to Moodle. I have enabled grades to be passed back globally in the privacy settings of the the LTI however this was done in \"adding an external tool\" After later testing and failing to get the grade successfully back I fumbled upon this \"external tool registration\" a separate LTI something or other in the admin section I have looked in this documentation and I see what moodle states about the two but I am confused. Does this need configured for Zaption to possibly pass back grades effectively? Meaning, do I need to register the LTI as well as adding it??? Confused by the whole process. Would love some direction. Thank you Moodle 3.0",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 25, 2016, 10:24 AM",
          "AuthorName": "Billy Zwiener",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1168989&course=5",
          "role": [
            "Picture of Billy Zwiener"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 335280,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335280",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "iOS app as external tool with LTI integration",
          "Text": "Hi, I was wondering if it possible to some how integrate an iOS app as an external tool with Moodle. From the documentation I've found, external tools seem like they need to be websites. If I can't make an iOS app and external tool, is there some other way to add an iOS app as an assignment in a course? Thanks, Jared",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 24, 2016, 5:35 AM",
          "AuthorName": "Jared Schaeffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2102696&course=5",
          "role": [
            "Picture of Jared Schaeffer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 334244,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=334244",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Receiving 404 error while posting grades to Moodle",
          "Text": "Whenever we are trying to post grades to Moodle ( http://moodle.johnwiley.com.au/mod/lti/service.php ) from external tool, we are getting 404 error. Below is the error description: ( The Http Server replied with a 4XX status\ncodeBW-HTTP-100000HTTP/1.1404Not Foundtext/html;\ncharset=utf-8sameoriginclosetext/javascriptennoneThu, 02 Jun 2016 00:41:00\nGMTIE=edgetext/cssno-cacheprivate, pre-check=0, post-check=0, max-age=0,\nno-transformPHP/5.5.13MoodleSession=gpiq1pgivbvv8lq53r7svid904;\npath=/ApachePCFET0NUWVBFIGh0bWw+CjxodG1sICBkaXI9Imx0ciIgbGFuZz0iZW4iIHhtbDpsYW5nPSJlbiI+CjxoZWFkPgogICAgPHRpdGxlPkVycm9yPC90aXRsZT4KICAgIDxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgaHJlZj0iaHR0cDovL21vb2RsZS5qb2hud2lsZXkuY29tLmF1L3RoZW1lL2ltYWdlLnBocC93aWxleV93aWxwL3RoZW1lLzE0NTY5Njg5MTEvZmF2aWNvbiIgLz4KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04IiAvPgo8bWV0YSBuYW1lPSJrZXl3b3JkcyIgY29udGVudD0ibW9vZGxlLCBFcnJvciIgLz4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgovLzwhW0NEQVRBWwp2YXIgTSA9IHt9OyBNLnl1aSA9IHt9OwpNLnBhZ2Vsb2Fkc3RhcnR0aW1lID0gbmV3IERhdGUoKTsKTS5jZmcgPSB7Ind3d3Jvb3QiOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdSIsInNlc3NrZXkiOiIzTWF6SzBDWGlUIiwibG9hZGluZ2ljb24iOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdVwvdGhlbWVcL2ltYWdlLnBocFwvd2lsZXlfd2lscFwvY29yZVwvMTQ1Njk2ODkxMVwvaVwvbG9hZGluZ19zbWFsbCIsInRoZW1lcmV2IjoiMTQ1Njk2ODkxMSIsInNsYXNoYXJndW1lbnRzIjoxLCJ0aGVtZSI6IndpbGV5X3dpbHAiLCJqc3JldiI6IjE0NTY5NjM4MjAiLCJzdmdpY29ucyI6dHJ1ZX07dmFyIHl1aTFDb25maWdGbiA9IGZ1bmN0aW9uKG1lKSB7aWYoLy1za2lufHJlc2V0fGZvbnRzfGdyaWRzfGJhc2UvLnRlc3QobWUubmFtZSkpe21lLnR5cGU9J2Nzcyc7bWUucGF0aD1tZS5wYXRoLnJlcGxhY2UoL1wuanMvLCcuY3NzJyk7bWUucGF0aD1tZS5wYXRoLnJlcGxhY2UoL1wveXVpMi1za2luLywnL2Fzc2V0cy9za2lucy9zYW0veXVpMi1za2luJyl9fTsKdmFyIHl1aTJDb25maWdGbiA9IGZ1bmN0aW9uKG1lKSB7dmFyIHBhcnRzPW1lLm5hbWUucmVwbGFjZSgvXm1vb2RsZS0vLCcnKS5zcGxpdCgnLScpLGNvbXBvbmVudD1wYXJ0cy5zaGlmdCgpLG1vZHVsZT1wYXJ0c1swXSxtaW49Jy1taW4nO2lmKC8tKHNraW58Y29yZSkkLy50ZXN0KG1lLm5hbWUpKXtwYXJ0cy5wb3AoKTttZS50eXBlPSdjc3MnO21pbj0nJ307aWYobW9kdWxlKXt2YXIgZmlsZW5hbWU9cGFydHMuam9pbignLScpO21lLnBhdGg9Y29tcG9uZW50KycvJyttb2R1bGUrJy8nK2ZpbGVuYW1lK21pbisnLicrbWUudHlwZX1lbHNlIG1lLnBhdGg9Y29tcG9uZW50KycvJytjb21wb25lbnQrJy4nK21lLnR5cGV9OwpZVUlfY29uZmlnID0geyJkZWJ1ZyI6ZmFsc2UsImJhc2UiOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdVwvbGliXC95dWlsaWJcLzMuMTUuMFwvIiwiY29tYm9CYXNlIjoiaHR0cDpcL1wvbW9vZGxlLmpvaG53aWxleS5jb20uYXVcL3RoZW1lXC95dWlfY29tYm8ucGhwPyIsImNvbWJpbmUiOnRydWUsImZpbHRlciI6bnVsbCwiaW5zZXJ0QmVmb3JlIjoiZmlyc3R0aGVtZXNoZWV0IiwiZ3JvdXBzIjp7Inl1aS1wYXRjaGVkIjp7ImNvbWJpbmUiOnRydWUsInJvb3QiOiIzLjE1LjBfMVwvIiwicGF0dGVybnMiOnsiZGQtZHJhZyI6eyJncm91cCI6Inl1aS1wYXRjaGVkIn0sImRkLWdlc3R1cmVzIjp7Imdyb3VwIjoieXVpLXBhdGNoZWQifX0sIm1vZHVsZXMiOnsiZGQtZHJhZyI6W10sImRkLWdlc3R1cmVzIjpbXX19LCJ5dWkyIjp7ImJhc2UiOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdVwvbGliXC95dWlsaWJcLzJpbjNcLzIuOS4wXC9idWlsZFwvIiwiY29tYm9CYXNlIjoiaHR0cDpcL1wvbW9vZGxlLmpvaG53aWxleS5jb20uYXVcL3RoZW1lXC95dWlfY29tYm8ucGhwPyIsImNvbWJpbmUiOnRydWUsImV4dCI6ZmFsc2UsInJvb3QiOiIyaW4zXC8yLjkuMFwvYnVpbGRcLyIsInBhdHRlcm5zIjp7Inl1aTItIjp7Imdyb3VwIjoieXVpMiIsImNvbmZpZ0ZuIjp5dWkxQ29uZmlnRm59fX0sIm1vb2RsZSI6eyJuYW1lIjoibW9vZGxlIiwiYmFzZSI6Imh0dHA6XC9cL21vb2RsZS5qb2hud2lsZXkuY29tLmF1XC90aGVtZVwveXVpX2NvbWJvLnBocD9tXC8xNDU2OTYzODIwXC8iLCJjb21iaW5lIjp0cnVlLCJjb21ib0Jhc2UiOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdVwvdGhlbWVcL3l1aV9jb21iby5waHA/IiwiZXh0IjpmYWxzZSwicm9vdCI6Im1cLzE0NTY5NjM4MjBcLyIsInBhdHRlcm5zIjp7Im1vb2RsZS0iOnsiZ3JvdXAiOiJtb29kbGUiLCJjb25maWdGbiI6eXVpMkNvbmZpZ0ZufX0sImZpbHRlciI6bnVsbCwibW9kdWxlcyI6eyJtb29kbGUtY29yZS1ub3RpZmljYXRpb24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWRpYWxvZ3VlIiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWFsZXJ0IiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWNvbmZpcm0iLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZXhjZXB0aW9uIiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWFqYXhleGNlcHRpb24iXX0sIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1kaWFsb2d1ZSI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsInBhbmVsIiwiZXZlbnQta2V5IiwiZGQtcGx1Z2luIiwibW9vZGxlLWNvcmUtd2lkZ2V0LWZvY3VzYWZ0ZXJjbG9zZSIsIm1vb2RsZS1jb3JlLWxvY2tzY3JvbGwiXX0sIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1hbGVydCI6eyJyZXF1aXJlcyI6WyJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZGlhbG9ndWUiXX0sIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1jb25maXJtIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1kaWFsb2d1ZSJdfSwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWV4Y2VwdGlvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZGlhbG9ndWUiXX0sIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1hamF4ZXhjZXB0aW9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1kaWFsb2d1ZSJdfSwibW9vZGxlLWNvcmUtZm9ybWF1dG9zdWJtaXQiOnsicmVxdWlyZXMiOlsiYmFzZSIsImV2ZW50LWtleSJdfSwibW9vZGxlLWNvcmUtaGFuZGxlYmFycyI6eyJjb25kaXRpb24iOnsidHJpZ2dlciI6ImhhbmRsZWJhcnMiLCJ3aGVuIjoiYWZ0ZXIifX0sIm1vb2RsZS1jb3JlLWFjdGlvbm1lbnUiOnsicmVxdWlyZXMiOlsiYmFzZSIsImV2ZW50Iiwibm9kZS1ldmVudC1zaW11bGF0ZSJdfSwibW9vZGxlLWNvcmUtYmxvY2tzIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiaW8iLCJkb20iLCJkZCIsImRkLXNjcm9sbCIsIm1vb2RsZS1jb3JlLWRyYWdkcm9wIiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uIl19LCJtb29kbGUtY29yZS1wb3B1cGhlbHAiOnsicmVxdWlyZXMiOlsibW9vZGxlLWNvcmUtdG9vbHRpcCJdfSwibW9vZGxlLWNvcmUtZG9jayI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImV2ZW50LWN1c3RvbSIsImV2ZW50LW1vdXNlZW50ZXIiLCJldmVudC1yZXNpemUiLCJlc2NhcGUiLCJtb29kbGUtY29yZS1kb2NrLWxvYWRlciJdfSwibW9vZGxlLWNvcmUtZG9jay1sb2FkZXIiOnsicmVxdWlyZXMiOlsiZXNjYXBlIl19LCJtb29kbGUtY29yZS10b29sdGlwIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiaW8tYmFzZSIsIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1kaWFsb2d1ZSIsImpzb24tcGFyc2UiLCJ3aWRnZXQtcG9zaXRpb24iLCJ3aWRnZXQtcG9zaXRpb24tYWxpZ24iLCJldmVudC1vdXRzaWRlIiwiY2FjaGUtYmFzZSJdfSwibW9vZGxlLWNvcmUtY2hlY2tuZXQiOnsicmVxdWlyZXMiOlsiYmFzZS1iYXNlIiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWFsZXJ0IiwiaW8tYmFzZSJdfSwibW9vZGxlLWNvcmUtbWFpbnRlbmFuY2Vtb2RldGltZXIiOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiXX0sIm1vb2RsZS1jb3JlLWxvY2tzY3JvbGwiOnsicmVxdWlyZXMiOlsicGx1Z2luIiwiYmFzZS1idWlsZCJdfSwibW9vZGxlLWNvcmUtZHJhZ2Ryb3AiOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiLCJpbyIsImRvbSIsImRkIiwiZXZlbnQta2V5IiwiZXZlbnQtZm9jdXMiLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24iXX0sIm1vb2RsZS1jb3JlLWZvcm1jaGFuZ2VjaGVja2VyIjp7InJlcXVpcmVzIjpbImJhc2UiLCJldmVudC1mb2N1cyJdfSwibW9vZGxlLWNvcmUtY2hvb3NlcmRpYWxvZ3VlIjp7InJlcXVpcmVzIjpbImJhc2UiLCJwYW5lbCIsIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbiJdfSwibW9vZGxlLWNvcmUtZXZlbnQiOnsicmVxdWlyZXMiOlsiZXZlbnQtY3VzdG9tIl19LCJtb29kbGUtY29yZV9hdmFpbGFiaWxpdHktZm9ybSI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImV2ZW50IiwicGFuZWwiLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZGlhbG9ndWUiLCJqc29uIl19LCJtb29kbGUtYmFja3VwLWNvbmZpcm1jYW5jZWwiOnsicmVxdWlyZXMiOlsibm9kZSIsIm5vZGUtZXZlbnQtc2ltdWxhdGUiLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tY29uZmlybSJdfSwibW9vZGxlLWJhY2t1cC1iYWNrdXBzZWxlY3RhbGwiOnsicmVxdWlyZXMiOlsibm9kZSIsImV2ZW50Iiwibm9kZS1ldmVudC1zaW11bGF0ZSIsImFuaW0iXX0sIm1vb2RsZS1jYWxlbmRhci1ldmVudG1hbmFnZXIiOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiLCJldmVudC1tb3VzZWVudGVyIiwib3ZlcmxheSIsIm1vb2RsZS1jYWxlbmRhci1ldmVudG1hbmFnZXItc2tpbiJdfSwibW9vZGxlLWNvdXJzZS1tYW5hZ2VtZW50Ijp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiaW8tYmFzZSIsIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1leGNlcHRpb24iLCJqc29uLXBhcnNlIiwiZGQtY29uc3RyYWluIiwiZGQtcHJveHkiLCJkZC1kcm9wIiwiZGQtZGVsZWdhdGUiLCJub2RlLWV2ZW50LWRlbGVnYXRlIl19LCJtb29kbGUtY291cnNlLXV0aWwiOnsicmVxdWlyZXMiOlsibm9kZSJdLCJ1c2UiOlsibW9vZGxlLWNvdXJzZS11dGlsLWJhc2UiXSwic3VibW9kdWxlcyI6eyJtb29kbGUtY291cnNlLXV0aWwtYmFzZSI6e30sIm1vb2RsZS1jb3Vyc2UtdXRpbC1zZWN0aW9uIjp7InJlcXVpcmVzIjpbIm5vZGUiLCJtb29kbGUtY291cnNlLXV0aWwtYmFzZSJdfSwibW9vZGxlLWNvdXJzZS11dGlsLWNtIjp7InJlcXVpcmVzIjpbIm5vZGUiLCJtb29kbGUtY291cnNlLXV0aWwtYmFzZSJdfX19LCJtb29kbGUtY291cnNlLW1vZGNob29zZXIiOnsicmVxdWlyZXMiOlsibW9vZGxlLWNvcmUtY2hvb3NlcmRpYWxvZ3VlIiwibW9vZGxlLWNvdXJzZS1jb3Vyc2ViYXNlIl19LCJtb29kbGUtY291cnNlLWNhdGVnb3J5ZXhwYW5kZXIiOnsicmVxdWlyZXMiOlsibm9kZSIsImV2ZW50LWtleSJdfSwibW9vZGxlLWNvdXJzZS1kcmFnZHJvcCI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImlvIiwiZG9tIiwiZGQiLCJkZC1zY3JvbGwiLCJtb29kbGUtY29yZS1kcmFnZHJvcCIsIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbiIsIm1vb2RsZS1jb3Vyc2UtY291cnNlYmFzZSIsIm1vb2RsZS1jb3Vyc2UtdXRpbCJdfSwibW9vZGxlLWNvdXJzZS1mb3JtYXRjaG9vc2VyIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwibm9kZS1ldmVudC1zaW11bGF0ZSJdfSwibW9vZGxlLWNvdXJzZS10b29sYm94ZXMiOnsicmVxdWlyZXMiOlsibm9kZSIsImJhc2UiLCJldmVudC1rZXkiLCJub2RlIiwiaW8iLCJtb29kbGUtY291cnNlLWNvdXJzZWJhc2UiLCJtb29kbGUtY291cnNlLXV0aWwiXX0sIm1vb2RsZS1mb3JtLXNob3J0Zm9ybXMiOnsicmVxdWlyZXMiOlsibm9kZSIsImJhc2UiLCJzZWxlY3Rvci1jc3MzIl19LCJtb29kbGUtZm9ybS1wYXNzd29yZHVubWFzayI6eyJyZXF1aXJlcyI6WyJub2RlIiwiYmFzZSJdfSwibW9vZGxlLWZvcm0tc2hvd2FkdmFuY2VkIjp7InJlcXVpcmVzIjpbIm5vZGUiLCJiYXNlIiwic2VsZWN0b3ItY3NzMyJdfSwibW9vZGxlLXF1ZXN0aW9uLXByZXZpZXciOnsicmVxdWlyZXMiOlsiYmFzZSIsImRvbSIsImV2ZW50LWRlbGVnYXRlIiwiZXZlbnQta2V5IiwiY29yZV9xdWVzdGlvbl9lbmdpbmUiXX0sIm1vb2RsZS1xdWVzdGlvbi1jaG9vc2VyIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1jb3JlLWNob29zZXJkaWFsb2d1ZSJdfSwibW9vZGxlLXF1ZXN0aW9uLXNlYXJjaGZvcm0iOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiXX0sIm1vb2RsZS1xdWVzdGlvbi1xYmFua21hbmFnZXIiOnsicmVxdWlyZXMiOlsibm9kZSIsInNlbGVjdG9yLWNzczMiXX0sIm1vb2RsZS1hdmFpbGFiaWxpdHlfY29tcGxldGlvbi1mb3JtIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiZXZlbnQiLCJtb29kbGUtY29yZV9hdmFpbGFiaWxpdHktZm9ybSJdfSwibW9vZGxlLWF2YWlsYWJpbGl0eV9kYXRlLWZvcm0iOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiLCJldmVudCIsImlvIiwibW9vZGxlLWNvcmVfYXZhaWxhYmlsaXR5LWZvcm0iXX0sIm1vb2RsZS1hdmFpbGFiaWxpdHlfZ3JhZGUtZm9ybSI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImV2ZW50IiwibW9vZGxlLWNvcmVfYXZhaWxhYmlsaXR5LWZvcm0iXX0sIm1vb2RsZS1hdmFpbGFiaWxpdHlfZ3JvdXAtZm9ybSI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImV2ZW50IiwibW9vZGxlLWNvcmVfYXZhaWxhYmlsaXR5LWZvcm0iXX0sIm1vb2RsZS1hdmFpbGFiaWxpdHlfZ3JvdXBpbmctZm9ybSI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImV2ZW50IiwibW9vZGxlLWNvcmVfYXZhaWxhYmlsaXR5LWZvcm0iXX0sIm1vb2RsZS1hdmFpbGFiaWxpdHlfcHJvZmlsZS1mb3JtIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiZXZlbnQiLCJtb29kbGUtY29yZV9hdmFpbGFiaWxpdHktZm9ybSJdfSwibW9vZGxlLW1vZF9hc3NpZ24taGlzdG9yeSI6eyJyZXF1aXJlcyI6WyJub2RlIiwidHJhbnNpdGlvbiJdfSwibW9vZGxlLW1vZF9xdWl6LWF1dG9zYXZlIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiZXZlbnQiLCJldmVudC12YWx1ZWNoYW5nZSIsIm5vZGUtZXZlbnQtZGVsZWdhdGUiLCJpby1mb3JtIl19LCJtb29kbGUtbWVzc2FnZV9haXJub3RpZmllci10b29sYm94ZXMiOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiLCJpbyJdfSwibW9vZGxlLWJsb2NrX25hdmlnYXRpb24tbmF2aWdhdGlvbiI6eyJyZXF1aXJlcyI6WyJiYXNlIiwiaW8tYmFzZSIsIm5vZGUiLCJldmVudC1zeW50aGV0aWMiLCJldmVudC1kZWxlZ2F0ZSIsImpzb24tcGFyc2UiXX0sIm1vb2RsZS1maWx0ZXJfZ2xvc3NhcnktYXV0b2xpbmtlciI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImlvLWJhc2UiLCJqc29uLXBhcnNlIiwiZXZlbnQtZGVsZWdhdGUiLCJvdmVybGF5IiwibW9vZGxlLWNvcmUtZXZlbnQiLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tYWxlcnQiXX0sIm1vb2RsZS1maWx0ZXJfbWF0aGpheGxvYWRlci1sb2FkZXIiOnsicmVxdWlyZXMiOlsibW9vZGxlLWNvcmUtZXZlbnQiXX0sIm1vb2RsZS1lZGl0b3JfYXR0by1lZGl0b3IiOnsicmVxdWlyZXMiOlsibm9kZSIsImlvIiwib3ZlcmxheSIsImVzY2FwZSIsImV2ZW50IiwiZXZlbnQtc2ltdWxhdGUiLCJldmVudC1jdXN0b20iLCJ5dWktdGhyb3R0bGUiLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZGlhbG9ndWUiLCJtb29kbGUtZWRpdG9yX2F0dG8tcmFuZ3kiLCJoYW5kbGViYXJzIiwidGltZXJzIl19LCJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIjp7InJlcXVpcmVzIjpbIm5vZGUiLCJiYXNlIiwiZXNjYXBlIiwiZXZlbnQiLCJldmVudC1vdXRzaWRlIiwiaGFuZGxlYmFycyIsImV2ZW50LWN1c3RvbSIsInRpbWVycyJdfSwibW9vZGxlLWVkaXRvcl9hdHRvLW1lbnUiOnsicmVxdWlyZXMiOlsibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWRpYWxvZ3VlIiwibm9kZSIsImV2ZW50IiwiZXZlbnQtY3VzdG9tIl19LCJtb29kbGUtZWRpdG9yX2F0dG8tcmFuZ3kiOnsicmVxdWlyZXMiOltdfSwibW9vZGxlLXJlcG9ydF9ldmVudGxpc3QtZXZlbnRmaWx0ZXIiOnsicmVxdWlyZXMiOlsiYmFzZSIsImV2ZW50Iiwibm9kZSIsIm5vZGUtZXZlbnQtZGVsZWdhdGUiLCJkYXRhdGFibGUiLCJhdXRvY29tcGxldGUiLCJhdXRvY29tcGxldGUtZmlsdGVycyJdfSwibW9vZGxlLXJlcG9ydF9sb2dsaXZlLWZldGNobG9ncyI6eyJyZXF1aXJlcyI6WyJiYXNlIiwiZXZlbnQiLCJub2RlIiwiaW8iLCJub2RlLWV2ZW50LWRlbGVnYXRlIl19LCJtb29kbGUtZ3JhZGVyZXBvcnRfZ3JhZGVyLXNjcm9sbHZpZXciOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiXX0sIm1vb2RsZS10b29sX2NhcGFiaWxpdHktc2VhcmNoIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIl19LCJtb29kbGUtdGhlbWVfYm9vdHN0cmFwYmFzZS1ib290c3RyYXAiOnsicmVxdWlyZXMiOlsibm9kZSIsInNlbGVjdG9yLWNzczMiXX0sIm1vb2RsZS1hc3NpZ25mZWVkYmFja19lZGl0cGRmLWVkaXRvciI6eyJyZXF1aXJlcyI6WyJiYXNlIiwiZXZlbnQiLCJub2RlIiwiaW8iLCJncmFwaGljcyIsImpzb24iLCJldmVudC1tb3ZlIiwicXVlcnlzdHJpbmctc3RyaW5naWZ5LXNpbXBsZSIsIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1kaWFsb2ciLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZXhjZXB0aW9uIiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWFqYXhleGNlcHRpb24iXX0sIm1vb2RsZS1hdHRvX2FjY2Vzc2liaWxpdHljaGVja2VyLWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJjb2xvci1iYXNlIiwibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9fYWNjZXNzaWJpbGl0eWhlbHBlci1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9fYWxpZ24tYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX2JvbGQtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX2NoYXJtYXAtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX2NsZWFyLWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b19jb2xsYXBzZS1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9fZW1vdGljb24tYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX2VxdWF0aW9uLWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIiwibW9vZGxlLWNvcmUtZXZlbnQiLCJpbyIsImV2ZW50LXZhbHVlY2hhbmdlIiwidGFidmlldyIsImFycmF5LWV4dHJhcyJdfSwibW9vZGxlLWF0dG9faHRtbC1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiIsImV2ZW50LXZhbHVlY2hhbmdlIl19LCJtb29kbGUtYXR0b19pbWFnZS1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9faW5kZW50LWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b19pdGFsaWMtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX2xpbmstYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX21hbmFnZWZpbGVzLWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b19tYW5hZ2VmaWxlcy11c2VkZmlsZXMiOnsicmVxdWlyZXMiOlsibm9kZSIsImVzY2FwZSJdfSwibW9vZGxlLWF0dG9fbWVkaWEtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX25vYXV0b2xpbmstYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX29yZGVyZWRsaXN0LWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b19ydGwtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX3N0cmlrZS1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9fc3Vic2NyaXB0LWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b19zdXBlcnNjcmlwdC1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9fdGFibGUtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iLCJtb29kbGUtZWRpdG9yX2F0dG8tbWVudSIsImV2ZW50IiwiZXZlbnQtdmFsdWVjaGFuZ2UiXX0sIm1vb2RsZS1hdHRvX3RpdGxlLWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b191bmRlcmxpbmUtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX3VuZG8tYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX3Vub3JkZXJlZGxpc3QtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX19fSwiZ2FsbGVyeSI6eyJuYW1lIjoiZ2FsbGVyeSIsImJhc2UiOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdVwvbGliXC95dWlsaWJcL2dhbGxlcnlcLyIsImNvbWJpbmUiOnRydWUsImNvbWJvQmFzZSI6Imh0dHA6XC9cL21vb2RsZS5qb2hud2lsZXkuY29tLmF1XC90aGVtZVwveXVpX2NvbWJvLnBocD8iLCJleHQiOmZhbHNlLCJyb290IjoiZ2FsbGVyeVwvMTQ1Njk2MzgyMFwvIiwicGF0dGVybnMiOnsiZ2FsbGVyeS0iOnsiZ3JvdXAiOiJnYWxsZXJ5In19fX0sIm1vZHVsZXMiOnsiY29yZV9maWxlcGlja2VyIjp7Im5hbWUiOiJjb3JlX2ZpbGVwaWNrZXIiLCJmdWxscGF0aCI6Imh0dHA6XC9cL21vb2RsZS5qb2hud2lsZXkuY29tLmF1XC9saWJcL2phdmFzY3JpcHQucGhwXC8xNDU2OTYzODIwXC9yZXBvc2l0b3J5XC9maWxlcGlja2VyLmpzIiwicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiLCJub2RlLWV2ZW50LXNpbXVsYXRlIiwianNvbiIsImFzeW5jLXF1ZXVlIiwiaW8tYmFzZSIsImlvLXVwbG9hZC1pZnJhbWUiLCJpby1mb3JtIiwieXVpMi10cmVldmlldyIsInBhbmVsIiwiY29va2llIiwiZGF0YXRhYmxlIiwiZGF0YXRhYmxlLXNvcnQiLCJyZXNpemUtcGx1Z2luIiwiZGQtcGx1Z2luIiwiZXNjYXBlIiwibW9vZGxlLWNvcmVfZmlsZXBpY2tlciJdfX19OwpNLnl1aS5sb2FkZXIgPSB7bW9kdWxlczoge319OwoKLy9dXT4KPC9zY3JpcHQ+CjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Imh0dHA6Ly9tb29kbGUuam9obndpbGV5LmNvbS5hdS90aGVtZS95dWlfY29tYm8ucGhwPzMuMTUuMC9jc3NyZXNldC9jc3NyZXNldC1taW4uY3NzJmFtcDszLjE1LjAvY3NzZm9udHMvY3NzZm9udHMtbWluLmNzcyZhbXA7My4xNS4wL2Nzc2dyaWRzL2Nzc2dyaWRzLW1pbi5jc3MmYW1wOzMuMTUuMC9jc3NiYXNlL2Nzc2Jhc2UtbWluLmNzcyIgLz48bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJodHRwOi8vbW9vZGxlLmpvaG53aWxleS5jb20uYXUvdGhlbWUveXVpX2NvbWJvLnBocD9yb2xsdXAvMy4xNS4wL3l1aS1tb29kbGVzaW1wbGUtbWluLmNzcyIgLz48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwOi8vbW9vZGxlLmpvaG53aWxleS5jb20uYXUvdGhlbWUveXVpX2NvbWJvLnBocD9yb2xsdXAvMy4xNS4wXzEveXVpLW1vb2RsZXNpbXBsZS1taW4uanMmYW1wO3JvbGx1cC8xNDU2OTYzODIwL21jb3JlLW1pbi5qcyI+PC9zY3JpcHQ+PHNjcmlwdCBpZD0iZmlyc3R0aGVtZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyI+LyoqIFJlcXVpcmVkIGluIG9yZGVyIHRvIGZpeCBzdHlsZSBpbmNsdXNpb24gcHJvYmxlbXMgaW4gSUUgd2l0aCBZVUkgKiovPC9zY3JpcHQ+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iaHR0cDovL21vb2RsZS5qb2hud2lsZXkuY29tLmF1L3RoZW1lL3N0eWxlcy5waHAvd2lsZXlfd2lscC8xNDU2OTY4OTExL2FsbCIgLz4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iaHR0cDovL21vb2RsZS5qb2hud2lsZXkuY29tLmF1L2xpYi9qYXZhc2NyaXB0LnBocC8xNDU2OTYzODIwL2xpYi9qYXZhc2NyaXB0LXN0YXRpYy5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KCjxib2R5IGlkPSJwYWdlLXNpdGUtaW5kZXgiIGNsYXNzPSJmb3JtYXQtc2l0ZSBjb3Vyc2UgcGF0aC1zaXRlIGRpci1sdHIgbGFuZy1lbiB5dWktc2tpbi1zYW0geXVpMy1za2luLXNhbSBtb29kbGUtam9obndpbGV5LWNvbS1hdSBwYWdlbGF5b3V0LWJhc2UgY291cnNlLTEgY29udGV4dC0xIG5vdGxvZ2dlZGluIGNvbnRlbnQtb25seSI+CjxkaXYgY2xhc3M9InNraXBsaW5rcyI+PGEgY2xhc3M9InNraXAiIGhyZWY9IiNtYWluY29udGVudCI+U2tpcCB0byBtYWluIGNvbnRlbnQ8L2E+PC9kaXY+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KLy88IVtDREFUQVsKZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgKz0gJyBqc2VuYWJsZWQnOwovL11dPgo8L3NjcmlwdD4KCgo8ZGl2IGlkPSJwYWdlIj4KICAgIDxkaXYgaWQ9InBhZ2UtaGVhZGVyIj4KICAgICAgICA8ZGl2IGlkPSJwYWdlLWhlYWRlci13cmFwcGVyIiBjbGFzcz0id3JhcHBlciBjbGVhcmZpeCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3M9ImhlYWRlcm1haW4gaW5zaWRlIj5XaWxleSBBdXN0cmFsaWE8L2gxPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVybWVudSI+PGRpdiBjbGFzcz0ibG9naW5pbmZvIj5Zb3UgYXJlIG5vdCBsb2dnZWQgaW4uICg8YSBocmVmPSJodHRwOi8vbW9vZGxlLmpvaG53aWxleS5jb20uYXUvbG9naW4vaW5kZXgucGhwIj5Mb2cgaW48L2E+KTwvZGl2PiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmF2YmFyIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndyYXBwZXIgY2xlYXJmaXgiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJyZWFkY3J1bWIiPjxzcGFuIGNsYXNzPSJhY2Nlc3NoaWRlIj5QYWdlIHBhdGg8L3NwYW4+PHVsIHJvbGU9Im5hdmlnYXRpb24iPjxsaT48YSBocmVmPSJodHRwOi8vbW9vZGxlLmpvaG53aWxleS5jb20uYXUvIj5Ib21lPC9hPjwvbGk+PC91bD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJuYXZidXR0b24iPiA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAKPCEtLSBFTkQgT0YgSEVBREVSIC0tPgo8ZGl2IGlkPSJwYWdlLWNvbnRlbnQtd3JhcHBlciIgY2xhc3M9IndyYXBwZXIgY2xlYXJmaXgiPgogICAgPGRpdiBpZD0icGFnZS1jb250ZW50Ij4KICAgICAgICA8ZGl2IGlkPSJyZWdpb24tbWFpbi1ib3giPgogICAgICAgICAgICA8ZGl2IGlkPSJyZWdpb24tcG9zdC1ib3giPgoKICAgICAgICAgICAgICAgIDxkaXYgaWQ9InJlZ2lvbi1tYWluLXdyYXAiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InJlZ2lvbi1tYWluIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVnaW9uLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiByb2xlPSJtYWluIj48c3BhbiBpZD0ibWFpbmNvbnRlbnQiPjwvc3Bhbj48ZGl2IGRhdGEtcmVsPSJmYXRhbGVycm9yIiBjbGFzcz0iYm94IGVycm9yYm94Ij48cCBjbGFzcz0iZXJyb3JtZXNzYWdlIj5FeGNlcHRpb24gLSBDb25zdW1lciBrZXkgaXMgbWlzc2luZy48L3A+PHAgY2xhc3M9ImVycm9yY29kZSI+PGEgaHJlZj0iaHR0cDovL2RvY3MubW9vZGxlLm9yZy8yNy9lbi9lcnJvci9tb29kbGUvZ2VuZXJhbGV4Y2VwdGlvbm1lc3NhZ2UiPk1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBlcnJvcjwvYT48L3A+PC9kaXY+PGRpdiBjbGFzcz0iY29udGludWVidXR0b24iPjxmb3JtIG1ldGhvZD0iZ2V0IiBhY3Rpb249Imh0dHA6Ly9tb29kbGUuam9obndpbGV5LmNvbS5hdS8iPjxkaXY+PGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkNvbnRpbnVlIiAvPjwvZGl2PjwvZm9ybT48L2Rpdj48L2Rpdj4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CjwvZGl2PgoKPCEtLSBTVEFSVCBPRiBGT09URVIgLS0+CiAgICAgICAgPGRpdiBpZD0icGFnZS1mb290ZXIiIGNsYXNzPSJ3cmFwcGVyIj4KICAgICAgICA8cCBjbGFzcz0iaGVscGxpbmsiPjwvcD4KICAgICAgICA8ZGl2IGNsYXNzPSJsb2dpbmluZm8iPllvdSBhcmUgbm90IGxvZ2dlZCBpbi4gKDxhIGhyZWY9Imh0dHA6Ly9tb29kbGUuam9obndpbGV5LmNvbS5hdS9sb2dpbi9pbmRleC5waHAiPkxvZyBpbjwvYT4pPC9kaXY+PGRpdiBjbGFzcz0ic2l0ZWxpbmsiPjxhIHRpdGxlPSJNb29kbGUiIGhyZWY9Imh0dHA6Ly9tb29kbGUub3JnLyI+PGltZyBzcmM9Imh0dHA6Ly9tb29kbGUuam9obndpbGV5LmNvbS5hdS90aGVtZS9pbWFnZS5waHAvd2lsZXlfd2lscC9jb3JlLzE0NTY5Njg5MTEvbW9vZGxlbG9nbyIgYWx0PSJtb29kbGVsb2dvIiAvPjwvYT48L2Rpdj4gICAgPC9kaXY+CiAgICA8L2Rpdj4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgovLzwhW0NEQVRBWwpNLnN0ciA9IHsibW9vZGxlIjp7Imxhc3Rtb2RpZmllZCI6Ikxhc3QgbW9kaWZpZWQiLCJuYW1lIjoiTmFtZSIsImVycm9yIjoiRXJyb3IiLCJpbmZvIjoiSW5mb3JtYXRpb24iLCJ2aWV3YWxsY291cnNlcyI6IlZpZXcgYWxsIGNvdXJzZXMiLCJtb3JlaGVscCI6Ik1vcmUgaGVscCIsImxvYWRpbmdoZWxwIjoiTG9hZGluZy4uLiIsImNhbmNlbCI6IkNhbmNlbCIsInllcyI6IlllcyIsImNvbmZpcm0iOiJDb25maXJtIiwibm8iOiJObyIsImFyZXlvdXN1cmUiOiJBcmUgeW91IHN1cmU/IiwiY2xvc2VidXR0b250aXRsZSI6IkNsb3NlIiwidW5rbm93bmVycm9yIjoiVW5rbm93biBlcnJvciJ9LCJyZXBvc2l0b3J5Ijp7InR5cGUiOiJUeXBlIiwic2l6ZSI6IlNpemU6IiwiaW52YWxpZGpzb24iOiJJbnZhbGlkIEpTT04gc3RyaW5nIiwibm9maWxlc2F0dGFjaGVkIjoiTm8gZmlsZXMgYXR0YWNoZWQiLCJmaWxlcGlja2VyIjoiRmlsZSBwaWNrZXIiLCJsb2dvdXQiOiJMb2dvdXQiLCJub2ZpbGVzYXZhaWxhYmxlIjoiTm8gZmlsZXMgYXZhaWxhYmxlIiwibm9yZXBvc2l0b3JpZXNhdmFpbGFibGUiOiJTb3JyeSwgbm9uZSBvZiB5b3VyIGN1cnJlbnQgcmVwb3NpdG9yaWVzIGNhbiByZXR1cm4gZmlsZXMgaW4gdGhlIHJlcXVpcmVkIGZvcm1hdC4iLCJmaWxlZXhpc3RzZGlhbG9naGVhZGVyIjoiRmlsZSBleGlzdHMiLCJmaWxlZXhpc3RzZGlhbG9nX2VkaXRvciI6IkEgZmlsZSB3aXRoIHRoYXQgbmFtZSBoYXMgYWxyZWFkeSBiZWVuIGF0dGFjaGVkIHRvIHRoZSB0ZXh0IHlvdSBhcmUgZWRpdGluZy4iLCJmaWxlZXhpc3RzZGlhbG9nX2ZpbGVtYW5hZ2VyIjoiQSBmaWxlIHdpdGggdGhhdCBuYW1lIGhhcyBhbHJlYWR5IGJlZW4gYXR0YWNoZWQiLCJyZW5hbWV0byI6IlJlbmFtZSB0byBcInskYX1cIiIsInJlZmVyZW5jZXNleGlzdCI6IlRoZXJlIGFyZSB7JGF9IGFsaWFzXC9zaG9ydGN1dCBmaWxlcyB0aGF0IHVzZSB0aGlzIGZpbGUgYXMgdGhlaXIgc291cmNlIiwic2VsZWN0IjoiU2VsZWN0In0sImJsb2NrIjp7ImFkZHRvZG9jayI6Ik1vdmUgdGhpcyB0byB0aGUgZG9jayIsInVuZG9ja2l0ZW0iOiJVbmRvY2sgdGhpcyBpdGVtIiwiZG9ja2Jsb2NrIjoiRG9jayB7JGF9IGJsb2NrIiwidW5kb2NrYmxvY2siOiJVbmRvY2sgeyRhfSBibG9jayIsInVuZG9ja2FsbCI6IlVuZG9jayBhbGwiLCJoaWRlZG9ja3BhbmVsIjoiSGlkZSB0aGUgZG9jayBwYW5lbCIsImhpZGVwYW5lbCI6IkhpZGUgcGFuZWwifSwibGFuZ2NvbmZpZyI6eyJ0aGlzZGlyZWN0aW9udmVydGljYWwiOiJidHQifSwiYWRtaW4iOnsiY29uZmlybWF0aW9uIjoiQ29uZmlybWF0aW9uIn19OwovL11dPgo8L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgovLzwhW0NEQVRBWwp2YXIgbmF2dHJlZWV4cGFuc2lvbnMxODA4ID0gW3siaWQiOiJleHBhbmRhYmxlX2JyYW5jaF8wX2NvdXJzZXMiLCJrZXkiOiJjb3Vyc2VzIiwidHlwZSI6MH1dOwovL11dPgo8L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgovLzwhW0NEQVRBWwpZVUkoKS51c2UoJ25vZGUnLCBmdW5jdGlvbihZKSB7Ck0udXRpbC5sb2FkX2Zsb3dwbGF5ZXIoKTsKc2V0VGltZW91dCgiZml4X2NvbHVtbl93aWR0aHMoKSIsIDIwKTsKWS51c2UoIm1vb2RsZS1jb3JlLWRvY2stbG9hZGVyIixmdW5jdGlvbigpIHtNLmNvcmUuZG9jay5sb2FkZXIuaW5pdExvYWRlcigpOwp9KTsKWS51c2UoIm1vb2RsZS1ibG9ja19uYXZpZ2F0aW9uLW5hdmlnYXRpb24iLGZ1bmN0aW9uKCkge00uYmxvY2tfbmF2aWdhdGlvbi5pbml0X2FkZF90cmVlKHsiaWQiOiIxODA4IiwiaW5zdGFuY2UiOiIxODA4IiwiY2FuZG9jayI6dHJ1ZSwiY291cnNlbGltaXQiOiIyMCIsImV4cGFuc2lvbmxpbWl0IjowfSk7Cn0pOwpZLnVzZSgibW9vZGxlLWJsb2NrX25hdmlnYXRpb24tbmF2aWdhdGlvbiIsZnVuY3Rpb24oKSB7TS5ibG9ja19uYXZpZ2F0aW9uLmluaXRfYWRkX3RyZWUoeyJpZCI6IjE4MDkiLCJpbnN0YW5jZSI6IjE4MDkiLCJjYW5kb2NrIjp0cnVlfSk7Cn0pOwpNLnV0aWwuaGVscF9wb3B1cHMuc2V0dXAoWSk7ClkudXNlKCJtb29kbGUtY29yZS1wb3B1cGhlbHAiLGZ1bmN0aW9uKCkge00uY29yZS5pbml0X3BvcHVwaGVscCgpOwp9KTsKIE0udXRpbC5qc19wZW5kaW5nKCdyYW5kb201NzRmODA5Yzk0ODRkMicpOyBZLm9uKCdkb21yZWFkeScsIGZ1bmN0aW9uKCkgeyBNLnV0aWwuanNfY29tcGxldGUoImluaXQiKTsgIE0udXRpbC5qc19jb21wbGV0ZSgncmFuZG9tNTc0ZjgwOWM5NDg0ZDInKTsgfSk7Cgp9KTsKLy9dXT4KPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nstatusCode: 404  reasonPhrase: Not Found ) The \"lis_result_sourceid\" parameter value looks like this: {\"data\":{\"instanceid\":\"13865\",\"userid\":\"3265\",\"launchid\":807679975},\"hash\":\"d6946f6462026eb9d962fd18ef99d54a47cb57a88ba737e11c06c91c62a4e130\"} does it have anything to do with this? Please suggest what could be the possible reason for this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 6, 2016, 6:12 PM",
          "AuthorName": "Mayur Agarwal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2096729&course=5",
          "role": [
            "Picture of Mayur Agarwal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Receiving 404 error while posting grades to Moodle",
          "Text": "The current version of Moodle for this site is v2.7 . The issue still persists. Please advice.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2016, 6:46 PM",
          "AuthorName": "Mayur Agarwal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2096729&course=5",
          "role": [
            "Picture of Mayur Agarwal"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 334908,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=334908",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Unable to pass information from Moodle External Tool to LTI connector for WP from SPV software",
          "Text": "I am trying to implement a SSO (single sign on) from Moodle to a WP multi-site, with sites already created. I hacked the LTI connector code (doconnect.php) to remove blog creation and just log users into existing multi-sites. This works fine. The problem is that there is no information being passed from Moodle accept for the userid. The context , resource link, all are not being passed. So there is no way for me to switch to a particular site based. I would like the use to be switched to a particular site depending on the origin (context) in Moodle such as different courses. I found no useful way to embed any parameter in the External Tool in the custom parameters section since I do not know the format. If I could pass the context in some way then I could direct the user to desired site among the multi-site. I thank you for any help in this regard.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2016, 11:35 PM",
          "AuthorName": "Madhu Avasarala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1725642&course=5",
          "role": [
            "Picture of Madhu Avasarala"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unable to pass information from Moodle External Tool to LTI connector for WP from SPV software",
          "Text": "Solved. Moodle passes the user details (name and id) and also the resource link. The resource link title is the course fullname followed by : followed by shortname. This can be filtered and mapped to different sites as desired. In effect you can get SSO from Moodle to Wordpress multi-site. This is very powerful as it combines 2 very powerful software packages with a SSO (Moodle centric). My scenario is Moodle as the main tool for school management as well as LMS.  SSO into Wordpress sites for payments through woocommerce and also for intranet outside of Moodle. Thanks to Simon Booth for his excellent software http://projects.oscelot.org/gf/download/frsrelease/959/6037/wordpress-lti-1.2.00.zip The modifications are very easy( http://projects.oscelot.org/gf/project/wordpress-lti/forum/?action=ForumBrowse&forum_id=2167&_forum_action=ForumMessageBrowse&thread_id=863 )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 18, 2016, 3:01 AM",
          "AuthorName": "Madhu Avasarala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1725642&course=5",
          "role": [
            "Picture of Madhu Avasarala"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 334133,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=334133",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Immediate LTI Provider grading",
          "Text": "I do development on a very large LTI provider project using Moodle and the LTI provider plugin that just got merged in to core. By large, think 600k+ tools, 8k+ courses, and we're only to the pilot stage of the project. In a year we'll have tens of millions of tools and over 100k courses. Given the existing setup for the LTI provider cron which hasn't changed since it was merged with core, it could easily take an hour to run the cron with all of the queries it would be running, and talking to other systems. We needed to be able to send grades back much more quickly than that, and came up with modifying core a tiny bit to get it done. Since the plugin is now part of core I've submitted what I used in the tracker so other people can make use of it, and possibly it will find it's way in to core at some point. If you would find it helpful you can see it on the tracker here: https://tracker.moodle.org/browse/MDL-54809 If you want to see it in core don't forget to vote. If you're on 3.0.3+ (Build: 20160317) feel free to use the attached version of lib/gradelib.php to get these changes. Only do this if you are only using Moodle as an LTI provider though, because any grade that gets updated will try to send back an LTI grade.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 3, 2016, 3:54 AM",
          "AuthorName": "Doyle Lewis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1964985&course=5",
          "role": [
            "Picture of Doyle Lewis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 333592,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333592",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Who use LTI format (except Moodle) ? (and how are manage accounts ?)",
          "Text": "Hello, I am pleased to discover the new ability of Moodle to save a course as LTI. I think that such a standard is very usefull and enable new partnership possibilities. Howerver I am wondering myself : who use LTI (except Moodle) ? It can be other LMS or some \"known sites\" (without a LMS behind). About logins and passwords : the student needs to have an account an the provider platform (plus his account on the consumer platform) ? Regards.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 24, 2016, 9:02 PM",
          "AuthorName": "Guillaume Antier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2008638&course=5",
          "role": [
            "Picture of Guillaume Antier"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Who use LTI format (except Moodle) ? (and how are manage accounts ?)",
          "Text": "LTI Product directory - https://www.imsglobal.org/cc/statuschart.cfm http://www.imsglobal.org/activity/learning-tools-interoperability",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 25, 2016, 4:44 AM",
          "AuthorName": "Richard Oelmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=480148&course=5",
          "role": [
            "Picture of Richard Oelmann",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Who use LTI format (except Moodle) ? (and how are manage accounts ?)",
          "Text": "Hi Guillaume, When Moodle is used as an LTI tool provider (using the new 3.1 feature Publish as LTI tool ) and remote users on a different site access selected courses and activities on your site, accounts are created automatically for them. They don't need to log in on your site (the provider platform).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 25, 2016, 2:29 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Merci !",
          "Text": "Thank you for your answers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, May 25, 2016, 4:19 PM",
          "AuthorName": "Guillaume Antier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2008638&course=5",
          "role": [
            "Picture of Guillaume Antier"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 333472,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333472",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Pass user groups with a basic launch request",
          "Text": "My use case is an LTI 2.0 tool that provides chat rooms. A teacher will be able to create a chat room for the whole course and a room for each group in the course. When a student launch the tool, he'll see a list of chat rooms he is allowed to enter. A click on a link will get him in the room. In 3.1 there is support for the membership service which let the tool provider retrieve the course participants with their roles and groups. The membership might change dynamically so if the tool need to know the user's groups it forces the tool provider to ask for the complete list of members on each launch request. It will be useful to get the user's groups as part of the basic launch request. With the above use case, when a teacher launch the tool and makes changes to the chat rooms like adding a new room or limiting a room to a specific group, the tool provider will retrieve the updated membership list. When a student launches the tool, the launch request will send his groups and the tool will be able to present only the relevant rooms. Is it possible to use the LIS Group Variables or are they mean for other purpose? https://www.imsglobal.org/specs/ltiv2p0/implementation-guide#toc-76",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 22, 2016, 1:31 AM",
          "AuthorName": "Pablo Platt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1585505&course=5",
          "role": [
            "Picture of Pablo Platt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 333441,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333441",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Debug LTI 2 ToolProxy registration",
          "Text": "Hi, I'm implementing a tool provider. When sending the tool proxy to /mod/lti/services.php/toolproxy I'm getting back 400 Bad Request response. I'm not sure if the error is because of a bad oauth signature or bad ToolProxy message format. How can I debug what's wrong with my request? I tried setting the Debug Messages to Developer in admin/settings.php?section=debugging and I checked /var/log/nginx/error.log but I don't see errors. Is there other way to enable logging or do I need to look somewhere else for the log files? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 21, 2016, 12:07 AM",
          "AuthorName": "Pablo Platt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1585505&course=5",
          "role": [
            "Picture of Pablo Platt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Debug LTI 2 ToolProxy registration",
          "Text": "Moodle does show LTI errors. I'm using nginx with php-fpm. I had to enable logging in php-fpm by settings catch_workers_output = yes. The error log is at /var/log/nginx/error.log I got errors about bad oauth signature, bad json format and non existing service.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 21, 2016, 9:29 PM",
          "AuthorName": "Pablo Platt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1585505&course=5",
          "role": [
            "Picture of Pablo Platt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 331887,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=331887",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to sync user data from Moodle to WebPA?",
          "Text": "Dear Sir/Madam, Many thanks for all the great contributions you've made for Moodle. I'm working at an international University and we've used Moodle as our LMS for over 10 years. We've installed Moodle 3.0 and preparing for the upgrade for next academic year. We are using WebPA for online peer assessment. But I haven't find a way to synchronise the user data from Moodle to WebPA yet. I searched on WebPA's official website , the Moodle tracker , but still failed to launch the membership service. The following screenshot shows the \" upload data\" menu on WebPA. From the guideline of WebPA LTI ,  in order to have the \"upload data\" menu be available on our WebPA website, I need to configure the membership service. I checked the Moodle3.0 LTI \"manage external tool registrations\" (Administration->site administration->Plugins->Activity modules->LTI), but I don't know where to find the \" Registration URL \". Following is the screenshot of the Moodle 3.0 LTI \"manage external tool registrations\" , I tried to use the \"Tool Base URL\" for the \"Registration URL\", but failed to connect. We will really appreciate it if anyone could help with this.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1336445/Screen%20Shot%202016-04-20%20at%2012.11.05%20PM.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1336445/Screen%20Shot%202016-04-21%20at%2010.31.04%20AM.png"
          ],
          "Time": "Thursday, April 21, 2016, 10:38 AM",
          "AuthorName": "na li",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1965175&course=5",
          "role": [
            "Picture of na li"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to sync user data from Moodle to WebPA?",
          "Text": "I found that I could not change the subject. In order to make it clearer, the Subject is better to be : How to sync students user data, e.g. groups from Moodle to WebPA Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 21, 2016, 4:09 PM",
          "AuthorName": "na li",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1965175&course=5",
          "role": [
            "Picture of na li"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to sync user data from Moodle to WebPA?",
          "Text": "We’ve setup the LTI connector for our local WebPA server and Moodle server. But in order to enable the “groups enhancement memberships” function as mentioned on the LTI Connector Overview page(please see the attached screenshot named“LTI Connector”), Moodle 3.0 need a registration URL(please see the attached screenshot named “registration URL”). I’ve read from the Moodle Tracker website, the core Moodle LTI cannot support the membership service before, but the issue has been fixed by the latest version Moodle 3.0(the attached screenshot named “Tracker1” shows that issue was fixed by version 3.0 of Moodle. The attache screenshot named “Tracker-WebPA” shows that issue is WebPA related). Here is the link of the Moodle tracker: https://tracker.moodle.org/browse/MDL-41724 https://tracker.moodle.org/browse/MDL-50658 https://tracker.moodle.org/browse/MDL-44170 So would any one could please help with the Registration URL? ( which Moodle 3.0 needed to enable the membership service, so that we can sync students group information from Moodle to WebPA.) Many thanks. Best wishes, Lina",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 20, 2016, 4:20 PM",
          "AuthorName": "na li",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1965175&course=5",
          "role": [
            "Picture of na li"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to sync user data from Moodle to WebPA?",
          "Text": "We've encountered exactly the same issue here. Our hope was that the issue of being able to import group data to WebPA would be solved in Moodle 3.0 (based on the description and some of the comments associated with MDL-41725 ). However, since it looks like use of the LTI memberships service requires the LTI client to offer up some sort of Registration URL - which, to the best of my knowledge, WebPA doesn't do - we're still completely stuck. What's even more frustrating is that apparently BlackBoard can import group data without issue. If anyone has any insight I'd really be grateful if it could be shared.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 20, 2016, 5:23 PM",
          "AuthorName": "Roland Sherwood",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=837213&course=5",
          "role": [
            "Picture of Roland Sherwood"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 333399,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333399",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "enable gradebook pass back?",
          "Text": "I am trying to integrate zaption into my moodle install. I have it working for the most part but it does not reflect any grade in the grade book for the student after they view the video with the interactive correct choices. Zaption tells me that I need to enable gradebook pass back on the admin side of my moodle . I am in moodle 3.0 Can anyone advise how I might enable gradebook pass back for this LTI? Thank you for any help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 20, 2016, 8:02 AM",
          "AuthorName": "Billy Zwiener",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1168989&course=5",
          "role": [
            "Picture of Billy Zwiener"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: enable gradebook pass back?",
          "Text": "Hi, See: https://docs.moodle.org/30/en/External_tool_settings#General_settings Option that must be enabled is: Accept grades from the tool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 20, 2016, 3:21 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 332303,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=332303",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "3.1. LTI provider",
          "Text": "HI, I'm trying out the LTI provider in the dev version of 3.1. I've set up the shared external tool in the 3.1 site and I'm attempting to set up the External tool in a 3.0 site. No matter what launch URL I enter I get \" Tool configuration not found for this URL.\" What URL should I use to share a course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2016, 10:56 PM",
          "AuthorName": "Ray Lawrence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7127&course=5",
          "role": [
            "Picture of Ray Lawrence"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 3.1. LTI provider",
          "Text": "Hi Ray, Please see https://tracker.moodle.org/browse/MDL-53977 . Obviously not as nice as directing you to some docs but they are not yet available (or created - sorry!). The replication steps in the description for that issue describes how to set up the provider and consumer. Regards, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2016, 4:51 PM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 3.1. LTI provider",
          "Text": "Thanks Mark, I'd missed a few steps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 30, 2016, 7:28 PM",
          "AuthorName": "Ray Lawrence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7127&course=5",
          "role": [
            "Picture of Ray Lawrence"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 330654,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=330654",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How do you add an external tool to all courses?",
          "Text": "Hi All, I am not a Moodle admin by trade but I need to be able to add an external tool to all courses on a site. I would like students are about to see it regardless of which courses they are going to. Is this something possible in Moodle 2.8-3.0? Please advise Thank you. JP",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 30, 2016, 8:53 AM",
          "AuthorName": "JP Dal Gobbo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2072168&course=5",
          "role": [
            "Picture of JP Dal Gobbo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How do you add an external tool to all courses?",
          "Text": "You can add an external tool that allows you to add content from that external toll to any course. This is done at the site level under plugins > activities > external tools. This just lets teachers add content from the external tool to the course. There isn't a way to add a specific activity to every Moodle course. The best method I know is to create a master course with the resource and then create all courses from that course. You will have to manually import the activity into existing courses.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 2, 2016, 1:12 AM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How do you add an external tool to all courses?",
          "Text": "Thank you for your reply Jason. I will try this approach and see how it works for us.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 5, 2016, 1:48 AM",
          "AuthorName": "JP Dal Gobbo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2072168&course=5",
          "role": [
            "Picture of JP Dal Gobbo"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 330058,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=330058",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding External Tool (LTI) link in Pioneer Icons",
          "Text": "Hi Is is possible to add and External Tool (LTI) link in the Pioneer Theme Icons? Thanks, Kirk",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 18, 2016, 3:32 AM",
          "AuthorName": "Kirk Benningfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2068364&course=5",
          "role": [
            "Picture of Kirk Benningfield"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 329905,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=329905",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Outcome shared by all course members",
          "Text": "Hi, I'm implementing an external chat room as an LTI provider. Is there a way to send back the chat log of each session to moodle? It will be nice to have  a list of all chat sessions in moodle on the course. Clicking on a row will show the log of chat messages in this session. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 15, 2016, 9:53 PM",
          "AuthorName": "Pablo Platt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1585505&course=5",
          "role": [
            "Picture of Pablo Platt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 328617,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=328617",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.8.10: Course Level LTI Links Break on Restore and Copy",
          "Text": "We use LTI to integrate with TechSmith's Relay for video content.  When backing up or copying course files, the LTI links are not preserved.  This is a considerable time and effort issue requiring significant repopulation of LTI link information. We're running 2.8.10.  Do later versions address this issue? Is there a workaround? Thanks, John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 23, 2016, 8:48 PM",
          "AuthorName": "John Falchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2050254&course=5",
          "role": [
            "Picture of John Falchi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.8.10: Course Level LTI Links Break on Restore and Copy",
          "Text": "Looks like there are a few known issues: https://tracker.moodle.org/issues/?jql=text%20~%20%22restore%22%20AND%20resolution%20%3D%20Unresolved%20AND%20component%20IN%20%28%22External%20Tool%20%28IMS-LTI%29%22%2C%20%22External%20tool%22%29",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2016, 2:57 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.8.10: Course Level LTI Links Break on Restore and Copy",
          "Text": "Yes, I saw these. I was just curious with regards to the workaround that you suggested in one of the forums, Edit this list https://github.com/moodle/moodle/blob/master/mod/lti/backup/moodle2/backup_lti_stepslib.php#L64 in the YU-instance of Moodle to include: resource key’, 'password', We tried this but it did not help.  Which version did you apply it to?  Did it work? Thanks, John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2016, 3:35 AM",
          "AuthorName": "John Falchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2050254&course=5",
          "role": [
            "Picture of John Falchi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.8.10: Course Level LTI Links Break on Restore and Copy",
          "Text": "If that simple-minded suggestion does not work, it is going to take someone with time to sit down and properly debug the problem to work out a fix. It is a promising sign that most of the un-fixed issues are assigned to someone, but I don't know how actively they are being worked on.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2016, 6:10 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 328149,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=328149",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Display history of External tool pages back on Moodle",
          "Text": "I have added an External tool to my course, and I would like that the students to be able to see on their Moodle page (on one of the blocks) the pages they visited on that external tool as links, and be able to go direct on one of them without using \"go back\" button on the web browser. It is a way to implement that as Moodle administrator in the HTML block for example?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 16, 2016, 7:56 AM",
          "AuthorName": "Remus Orha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2054533&course=5",
          "role": [
            "Picture of Remus Orha"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 327346,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=327346",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Launching a Google Drive Sheet through LTI activity",
          "Text": "Dear all, I am using Moodle 3.0 and although I did in older versions I am blocked trying to launch a Google Drive Sheet through a LTI activity. I configured the privacy of the drive document in order to be public, but it can not be launched successfully. Any idea? Thanks in advance. Cheers, RD",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 2, 2016, 6:25 PM",
          "AuthorName": "Roger Domínguez Argemí",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1027397&course=5",
          "role": [
            "Picture of Roger Domínguez Argemí"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 327148,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=327148",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Site wide added external tool not showing up in courses",
          "Text": "Using Moodle 2.7, I have added an external tool at site level, but no matter what I do I can't get it to be available when adding at course level. If I add the LTI at course level, it works in that course, but goes into the Rejected tab at site level and even if I then accept it, it's still not available in other courses. Any suggestions? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2016, 7:32 PM",
          "AuthorName": "William Mair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1311249&course=5",
          "role": [
            "Picture of William Mair"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Site wide added external tool not showing up in courses",
          "Text": "Silly me - forgot to tick the 'make available tool type' checkbox.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2016, 8:06 PM",
          "AuthorName": "William Mair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1311249&course=5",
          "role": [
            "Picture of William Mair"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 326438,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=326438",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Using an external tool from a plugin",
          "Text": "Hello, I'm working on developing a moodle plugin (no previous experience with Moodle plugins ) to allow users to choose media from our external site and embed them in the page (using atto or tinymce).  We a have an external tool setup https://docs.moodle.org/30/en/External_tool_settings which works well. All the parts about working the the appropriate editor and embedding the resulting content is clear enough. What I can't figure out is how to access our configured LTI tool from our plugin in order to open a popup window to select the media.  Is there a way to do this? Do I instead have to write another plugin to do the lti integration instead of relying on the External Tool functionality? When doing the same thing for canvas, we just needed to add some xml configuration when setting up the external tool: \n```text\n      <lticm:options name=\"editor_button\">\n        <lticm:property name=\"enabled\">true</lticm:property>\n        <lticm:property name=\"url\">Link to our external site</lticm:property>\n        <lticm:property name=\"text\">Media Chooser</lticm:property>\n        <lticm:property name=\"selection_width\">800</lticm:property>\n        <lticm:property name=\"selection_height\">600</lticm:property>\n      </lticm:options>\n```\n Unless I'm missing something, I don't think that particular option is available with Moodle, but I'm hoping there's some way to use our existing External Tool. Any help is appreciated.  And apologies if this isn't the right forum for this.  If that's the case, I would appreciate knowing what is",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, January 21, 2016, 9:16 AM",
          "AuthorName": "Colin Davidson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2043760&course=5",
          "role": [
            "Picture of Colin Davidson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using an external tool from a plugin",
          "Text": "Hi Colin, I don't believe this is directly available in Moodle, all of the systems I know of who have done similar integrations have had to develop this as part of their own plugin set - e.g.: https://github.com/mediacore/mediacore-moodle Was done as part of a local plugin. Thanks Alistair",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 21, 2016, 11:30 PM",
          "AuthorName": "Alistair Spark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1434260&course=5",
          "role": [
            "Picture of Alistair Spark",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using an external tool from a plugin",
          "Text": "Thanks Alistair.  I appreciate knowing I'm not missing something obvious before working on a plugin for this.  Have a great day. Colin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 22, 2016, 2:14 AM",
          "AuthorName": "Colin Davidson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2043760&course=5",
          "role": [
            "Picture of Colin Davidson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using an external tool from a plugin",
          "Text": "Hi Colin , We are in the same situation as yours . Are you following some guide on developing plugins for Moodle . Any help would be appreciated . For Moodle , if we know which resource to get from the server - its easier to add a custom tag when doing the \"Add Activity or Resource \" , where the resource_id would be the \"id\" of the resource . However the search pop up and embedding is something that we are looking for as well . Developing an App for Canvas and integrating with the Content was pretty simple [ With a search bar on the pop up ] .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 28, 2016, 6:35 PM",
          "AuthorName": "R K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046983&course=5",
          "role": [
            "Picture of R K"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using an external tool from a plugin",
          "Text": "Hey RK, Not really.  I didn't find a comprehensive one.  I got most of what I needed from looking at other plugins.  I did look at https://github.com/Pepitu/Moodle-specific-TinyMCE-example-plugin , but I suspect you're well past that basic level point.  I basically used it to get a feel for how other plugins work. I've been able to successfully build my plugin using a tinymce plugin and a local plugin.  The local plugin does the work of retrieving the LTI information and signing the request URLs and the tinymce plugin uses the signed urls to retrieve the data and display it to a user. The mediacore plugin linked above does that (and more), with the crucial logic being in the client class.  It also shows you how to setup settings for a local plugin, if you didn't know. Colin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2016, 4:09 AM",
          "AuthorName": "Colin Davidson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2043760&course=5",
          "role": [
            "Picture of Colin Davidson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 280026,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=280026",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "VoiceThread",
          "Text": "Hi, Moodlers, Does anyone have Voicethread LTI integration?  If so, do you know if there is an easy grading method build into the integrated tool?  Do faculty input grades from the VoiceThread page or do they have to manually enter grades into the gradebook? Erica",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 10, 2015, 4:16 AM",
          "AuthorName": "Erica Vail",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1217466&course=5",
          "role": [
            "Picture of Erica Vail"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: VoiceThread",
          "Text": "We have VT LTI integration. When you create an external tool activity in the course, create using assignment builder. Then when submissions are made you use the up and down arrows to input the point earned (screen grab attached). If there are no submissions then they enter via the gradebook. All of this is done via Moodle. Hope this helps, but happy to try to answer more questions if needed",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1203130/Screen%20Shot%202015-02-09%20at%202.56.17%20PM.png?forcedownload=1"
          ],
          "Time": "Tuesday, February 10, 2015, 4:57 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: VoiceThread",
          "Text": "Do you run your entire site in https? It seems as though that may be the only way for us to get grade book to function with this LTI. We've already purchased VT integration but without the assignment/grading feature it is a little deficient. Tech support from VT said, \" At bare minimum, any POSTs to https://[your-moodle-domain]/mod/lti/service.php must be under SSL in order for the gradebook integration to work. We'll need to\ndo a little testing after your Moodle host has been able to do this just to\nmake sure nothing else needs to be done, but in theory that should work. If\nthis isn't possible, you may not be able to use the gradebook integration\nportion of VoiceThread.\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 27, 2016, 9:38 AM",
          "AuthorName": "Shawn Trueman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046278&course=5",
          "role": [
            "Picture of Shawn Trueman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: VoiceThread",
          "Text": "Greetings. We recently upgraded from Moodle version 2.6.5 to 2.8.7. Now when duplicating a course  the text/recordings that the original course had seem to be missing. When I go to edit the activity settings, I see that the 'External tool type' is set to 'Automatic, based on launch URL '. If I change this field to VoiceThread and save, the activity now has the correct test/recordings available. We only mention this because this never happened before with 2.6.5. I've contacted VoiceThread about this, but wanted to see if you could help resolve this. I've checked the LTI settings and do not see a way to make VoiceThread the default selection, even though it's the only LTI we're using for the site.  Please let me know if you have any questions. I appreciate anyone's help greatly!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1269570/Screen%20Shot%202015-07-14%20at%202.00.56%20PM.png?forcedownload=1"
          ],
          "Time": "Wednesday, July 15, 2015, 2:07 AM",
          "AuthorName": "David Conrad",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1871863&course=5",
          "role": [
            "Picture of David Conrad"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 325997,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=325997",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Passing grades and getting more information about LTI in general",
          "Text": "Hi all We have our own custom LMS for our online language courses which we have already integrated with Moodle by implementing BLTI to provide single sign-on capability. However now we would like to take this a step further and return grades back to Moodle, as well as explore what other possibilities are available using full LTI. I have found it very difficult to get \"useful\" information about what is possible within LTI as I find that the official documentation at the www.imsglobal.org/lti site is not the easiest material to digest! I would first like to know how what on how to go about returning grades which are not simple scores such as 45%. e.g. one particular level of our general language courses are made up of 10 units, with 5 different scores for each unit (vocab, grammar, listening, etc), making a total of about 50 different scores for the whole level. We will always convert these individual scores into an overall grade but teachers will like to be able to see the individual scores to see if students need more help with a particular area (such as vocab or grammar). I wonder if anyone would be able to point me in the right direction to get information on how to format the data to pass the grades in this format back to Moodle via LTI, and how they can be displayed in Moodle. Finally, I am also interested in learning more about LTI in general, I wonder if this is the best place to discuss LTI and how to learn more about it or is there another more open forum (which isn't just Moodle specific) where I could visit? Many thanks! Andy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2016, 11:11 PM",
          "AuthorName": "Andy Castles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64615&course=5",
          "role": [
            "Picture of Andy Castles"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing grades and getting more information about LTI in general",
          "Text": "Sorry about the quality of the IMS documentation.  The one which covers this service is at http://www.imsglobal.org/specs/ltiomv1p0 .  It has 3 permitted actions: read, update and delete.  You can see examples of the messages which are sent between the servers by doing a test launch to (or at) http://lti.tools/test/ .  It is a very simple service and only permits the passing of a numeric grade as a value between 0 and 1 (inclusive).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2016, 12:13 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing grades and getting more information about LTI in general",
          "Text": "Many thanks for your quick reply and the link to the Outcomes Management Service specification. I'll read through it and try out the LTI test tool and see if it makes more sense. ( BTW , I didn't want to say the quality wasn't good, just that there is so much documentation, I couldn't find the section I needed!)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2016, 2:54 AM",
          "AuthorName": "Andy Castles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64615&course=5",
          "role": [
            "Picture of Andy Castles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing grades and getting more information about LTI in general",
          "Text": "Having read the Outcomes Management spec I see where it mentions that the only outcome that is supported is (as you stated) a single numerical value between 0 and 1.0. Does this mean then that what I was hoping to acomplish (a tool provider returning multiple grades) simply isn't possible within LTI? Thanks again!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2016, 4:02 AM",
          "AuthorName": "Andy Castles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64615&course=5",
          "role": [
            "Picture of Andy Castles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing grades and getting more information about LTI in general",
          "Text": "For that you need the Outcomes Management 2 spec ( http://www.imsglobal.org/specs/ltiomv2p0 ) which is currently in public draft and for which there is a draft implementation for Moodle ( https://docs.moodle.org/dev/LTI_Outcomes2_Services ).  This allows a tool provider to create and use as many columns (line items) in the grade book as it needs.  But outcomes remain numeric values with an optional comment and status.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2016, 6:59 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing grades and getting more information about LTI in general",
          "Text": "Hi Steven, does FOAF refer to the excellent pedagogical technique I think it does?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2016, 6:47 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing grades and getting more information about LTI in general",
          "Text": "Is that a trick question, Marcus?!  The answer all depends upon the context in which you have come across a reference to FOAF and what pedagogical technique you are thinking of. The only context in which I am aware of FOAF is the \"Friend-of-a-Friend\" schema from which IMS draws some of the vocabulary it uses in its service models.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2016, 7:27 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing grades and getting more information about LTI in general",
          "Text": "No, it was a mistake on my part (though I did not know it stood for Friend-of-a-Friend). I had mistaken it for a term I was taught on my teacher training, FoFo, which meant go away and find out (or similar).  My PGCE (teacher training) tutor was awesome. It is another example of my inability to focus I guess",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, January 15, 2016, 6:40 AM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing grades and getting more information about LTI in general",
          "Text": "Thanks Stephen. This sounds more like what I need. Glad to hear that there's a draft implementation for Moodle. I'll have to read the spec and also read up on Moodle Gradebooks and see how I can plug into them.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 15, 2016, 6:17 PM",
          "AuthorName": "Andy Castles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64615&course=5",
          "role": [
            "Picture of Andy Castles"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 324091,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=324091",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External Tool & Mind Tools",
          "Text": "Hi Team We have a 2.9 instance of Moodle and have attempted numerous times to use the External Tool plugin to access the Mind Tools site based on information provided by the site. We seem to constantly have issues and lose the connection that allows the automatic password validation. I have contacted the site but would love some in put from anyone who maybe successfully using the external tool with Mind Tools ( http://www.mindtools.com/community/index.php ) The following are the instructions provided by Mind Tools: LTI integration – Learning Tools Interoperability About LTI LTI is a standard for integrating Learning Management Systems with other secure learning content platforms, such as Mind Tools. LTI may be installed natively within your LMS, which makes integration with Mind Tools Connect quick and easy. A list of compatible systems can be found here, and you can find more information about LTI here. LTI Setup: Step-by-Step This guide is based on the Moodle system of LTI setup. Although the concept will be the same, the wording may vary depending on which personalized version you are using. This document will explain how to: ● Set up a new link from your LMS to Mind Tools resources. ● Configure the connection. ● Add additional links. ● Deep link (choose a specific page for your users to be directed to). ● Edit links. There is a small amount of extra information that you will need during the integration process. For security reasons, we will send this to you by email. Once you have completed the steps below, you will be able to access Mind Tools resources from your LMS. Before your customized pages are ready, you will be temporarily directed to our trial product. If you have any questions, please don’t hesitate to contact us. Setting up Your First Link/Configuration Step 1: Login to your LMS, and select “Edit Mode.” Step 2: Select the page where you would like the Mind Tools link to appear. Step 3: To create a link, click “Add an Activity or Resource” and select “External Tool.” Step 4: Decide what you would like the link text to be. For example, “Mind Tools Learning.” Type this in the “Activity Name” field. Step 5: Click (+) in the “External Tool Type” field to add an external tool configuration. This will open a new window. Note: you will only need to do this once, as this configures the connection to Mind Tools. Step 6: In the “Tool Name” field, enter “Mind Tools.” Step 7: In the “Tool Based URL ” field, enter: https://www.mindtools.com/connect/LTI/basic/tool.php Step 8: In the “Consumer Key” and “Shared Secret” fields, enter the information that has been emailed to you separately. Step 9: Click “Save Changes” to complete your configuration setup. You won’t need to do this again. Step 10: In the “External Tool Type” field, select “Mind Tools,” then click “Save and Return to Course.” Mind Tools should now appear within your page setup. Click “Mind Tools Welcome Page” – if this launches Mind Tools as a page, it means that your configuration is correct. You can now move on to use the system and add further links. Adding Additional Links Step 1: Select the page where you would like the link to appear. Step 2: Click “Add an Activity or Resource,” and select “External Resource.” Step 3: Add the activity name (this is what the user will see). For example, “Leadership Skills From Mind Tools.” Step 4: In the “External Tool Type” field select “Mind Tools.” Step 5: Click “Save Changes.” Repeat these five steps to add as many links as necessary. Note: As a default setting, additional links will direct your users to the Mind Tools homepage. To link to specific content pages, you will need to Deep Link (see below). Deep Linking Step 1: Select the page where you would like the link to appear. Step 2: In the “Custom Parameters” field, type: “url=” followed by the URL of the page that you’d like to link to. For example: “url= http://www.mindtools.com/community/pages/main/newMN_LDR.php ”. Step 3: Click “Save Changes.” Editing a Link to Mind Tools Step 1: Make sure “Edit Mode” is selected, and click the “Update” icon. Step 2: Amend the information as necessary. You can also choose how the content is launched in your LMS in the “Launch Container” drop-down menu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 2, 2015, 1:27 PM",
          "AuthorName": "Marie Weatherford - archived",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=328565&course=5",
          "role": [
            "Picture of Marie Weatherford - archived"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 323749,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=323749",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Learning Catalytics",
          "Text": "Hello, I was wondering if anyone would have any experience pairing Moodle (2.9 and up) with Pearson's Learning Catalytics ( https://learningcatalytics.com ) ? I can see them on https://www.eduappcenter.com , and they do claim to be LTI-compatible, though they speak about LTI 1.1 still. It happens to be a tool our University is triallling and I'm having a hard time getting its \"modules\", with their dynamically created session IDs, to communicate properly with Moodle's External Tool tasks.  I do get the \"Consumer key\", the \"Shared Secret\" and the \"Launch URL \" right, there is no error, but when a student clicks, they don't land in LC's appropriate live session even if one had been opened before they clicked so it has its ID number generated in LC . I will be trying to get further support from Pearson, but am also directing a hopeful request here ... (I first posted about LC in May at the wrong place - on the general forum here https://moodle.org/mod/forum/discuss.php?d=314060 , but asked some even more silly questions ) Many thanks if anyone can suggest anytrhing. Przemek",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, November 25, 2015, 7:45 AM",
          "AuthorName": "Przemek Kaszubski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109067&course=5",
          "role": [
            "Picture of Przemek Kaszubski",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 323304,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=323304",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Pass Username with LTI",
          "Text": "Hi, We are looking to setup integration with online video service using LTI. However we also want to maintain functionality with our SSO. Is there any way to have the LTI pass username@domain.ca ? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 17, 2015, 5:28 AM",
          "AuthorName": "Shaun T",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558732&course=5",
          "role": [
            "Picture of Shaun T"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 322234,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=322234",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Auto Group Creation",
          "Text": "Hi We are currently running two instances of Moodle. Students are enrolled\non one iteration and connected to our second iteration via LTI. We are\nlooking for a way for any groups created on the first iteration to be\nautomatically create and enroll students on the second iteration over the LTI connection.\nAccording to MDL-50658 it is possible to allow for roster syncing with other programs (e.g. WebPA), but I'm not sure if Moodle itself supports it. I must admit I am new to LTI, so any information would be tremendously helpful. Thanks! Julian Enright",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2015, 10:18 PM",
          "AuthorName": "Julian Enright",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1972613&course=5",
          "role": [
            "Picture of Julian Enright"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Auto Group Creation",
          "Text": "Hi Julian, According to that Tracker item this will only be available in Moodle 3.0 and was not back-ported into 2.9 or 2.8 so unless you are running the development branch on your Moodle site (which you shouldn't) then you'l have to wait until you upgrade to 3.0 to do this Thanks Alistair",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2015, 11:21 PM",
          "AuthorName": "Alistair Spark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1434260&course=5",
          "role": [
            "Picture of Alistair Spark",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 321894,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=321894",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "user_image via LTI",
          "Text": "Hi, I am creating an LTI plugin and I have a test instance of moodle via gnomio.com. I am trying to retrieve the user's avatar/profile image, but it seems that Moodle does not pass the user_image parameter (optional, not required in LTI 1.1 spec) Is there a way to turn on passing this parameter or a different way to retrieve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 21, 2015, 5:37 AM",
          "AuthorName": "Michael Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2014238&course=5",
          "role": [
            "Picture of Michael Lee"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 262855,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262855",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI Activity Groups & Grouping",
          "Text": "In Moodle, Groups and Groupings are disabled by default for External tool activity. 1. What is the reason the Groups are disabled for this activity? 2. Do I need to enable them by updating the lti_supports() function?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 26, 2014, 7:45 PM",
          "AuthorName": "Vignesh Gurusamy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1647025&course=5",
          "role": [
            "Picture of Vignesh Gurusamy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Activity Groups & Grouping",
          "Text": "Groups were never implemented because External Tool does not have a local grading interface or a way to separate content by groups within Moodle.  It's possible that the Tool Consumer (in Moodle) could pass the group to the Tool Provider by way of an LIS Group, so that the Tool Provider could decide how to display the information based upon user groups.  However, that feature has not yet been requested.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 1, 2014, 2:26 AM",
          "AuthorName": "Kris Stokking",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=669060&course=5",
          "role": [
            "Picture of Kris Stokking"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Activity Groups & Grouping",
          "Text": "Passing group information to the LTI tool sounds like a sensible suggestion. (Does LTI cope with Moodle's ability to put a user in multiple groups?) Also, I forget, but does 'External tool' have any reporting features these days? If so, it is important (e.g. data protection legislation) for those reports to support separate groups mode (imagine a case where non-editing teachers don't have 'access all groups' and can access those reports). If it helps I can create tracker issues for those two requests, but it might be better if they were done by someone who is more up-to-date than me on on LTI2, and the Moodle add-on.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 1, 2014, 2:31 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Activity Groups & Grouping",
          "Text": "LTI does have a way of handling groups, and that's through the Memberships service with groups. A discussion about getting groups from the Tool Consumer (Moodle) to a Tool Provider is here, but seems to have stalled a bit: https://tracker.moodle.org/browse/MDL-41724",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 10, 2014, 8:50 AM",
          "AuthorName": "John Hoopes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1619455&course=5",
          "role": [
            "Picture of John Hoopes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Activity Groups & Grouping",
          "Text": "We are currently running two instances of Moodle. Students are enrolled on one iteration and connected to our second iteration via LTI. We are looking for a way for any groups created on the first iteration to be automatically created on the second iteration over the LTI connection. According to MDL-50658 it is possible to allow for roster syncing with other programs (e.g. WebPA), but I'm not sure if Moodle itself supports it. I must admit I am new to LTI, so any information would be tremendously helpful. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 14, 2015, 10:23 PM",
          "AuthorName": "Julian Enright",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1972613&course=5",
          "role": [
            "Picture of Julian Enright"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 261527,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=261527",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Adding LTI 2.0 support",
          "Text": "Vital Source Technologies recognises the benefits that the IMS Learning Tools Interoperability (LTI) 2 specification\ncan deliver to tool providers and has, therefore, agreed to sponsor\nthis project in the interests of the whole community. The work will be\nundertaken in collaboration with Moodlerooms as an adaptation of the\nexisting LTI (External tool) module which they manage on behalf of the\nMoodle community. The main goal of this project is to implement LTI 2.0 functionality for\nMoodle which is capable of passing the IMS certification tests. It is\nnot expected that the required changes will have any significant impact\non the current LTI 1.1 functionality; indeed it is hoped that the work\nwill also have some beneficial side-effects for the current LTI\nimplementation. A full description of the proposed work can be found at http://docs.moodle.org/dev/LTI_2_support .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 4, 2014, 8:36 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Should LTI services be implemented as LTI Source plugins?",
          "Text": "One of the current issues arising from this work is whether the extensible services introduced with LTI 2.0 (and 1.2) should be implemented using the existing LTI Source plugin functionality.  One of the purposes of LTI Source plugins is to extend the LTI protocol, however, this does not appear to be implemented in a manner consistent with the latest LTI specifications.  For example, there does not appear to be a way for Moodle to announce the availability of these extensions so that other parties can discover them. The \"Defining services\" section of the project description outlines the properties and methods expected to be required for adding extensible services under LTI 2.0.  I suspect this could be bulit upon the existing LTI Source plugin framework, but I have not seen any examples (apart from a simple Dummy plugin) of its use so I don't have a feel for whether this might be welcomed by current users of the framework or if it might be better to keep it separate.  Is there a demand for non-discoverable services or might these be migrated into the new discoverable approach?  I am also aware that this framework can be used for more than just services, but can be used to create sub-plugins. I would welcome comments from anyone who is using the LTI Source plugin framwork.  Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 4, 2014, 9:00 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Should LTI services be implemented as LTI Source plugins?",
          "Text": "Better implement the updated spec and the LTI 2 - ToolProxy, Since no one seemed to implement and LTI source plugins so far. I am very much looking forward for this, since one of the first plugins I wish to implement is an xAPI (TinCan) plugin, which could widely expand the tracking of student progress when using the TP service.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 5, 2014, 8:42 PM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding LTI 2.0 support",
          "Text": "Hi Stephen, Could I also highlight https://tracker.moodle.org/browse/MDL-39134 as another thing you might be able to cover during this? I suggested a filter, but maybe an Atto plugin / change to the Link option in the editor would be another option. The underlying idea is that currently it isn't practical to add LTI links to external resources within the flow of a content page (loose term for anything teachers can edit - page/book/question in a quiz/forum post/...)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 12, 2014, 7:17 PM",
          "AuthorName": "Alistair Spark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1434260&course=5",
          "role": [
            "Picture of Alistair Spark",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding LTI 2.0 support",
          "Text": "Thanks, I'll add that to the list.  It looks, to me, like something which should be implemented as part of the new LTI Content-Item message which is currently in public draft at http://www.imsglobal.org/lti/ .  Is anyone already planning to implement this for Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 12, 2014, 8:14 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding LTI 2.0 support",
          "Text": "A screencast of the proposed implementation for LTI 2 is now available at http://www.spvsoftwareproducts.com/temp/lti2-moodle/ so you can see how it works and how few changes to the existing functionality have been required.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 1, 2014, 5:51 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding LTI 2.0 support",
          "Text": "I have added the LTI Provider plugin to my site, and set up the various parameters. Then, from a  second Moodle site I have linked to my Provider site using the secret key, secret URL etc. but all I come to is my provider site login screen. I admit I am a little confused about where I can find my customer key, or where I can set it. Any help on this would be very much appreciated.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1289372/2015-10-09%2010_10_49-TC1_%20Test%20-%20Internet%20Explorer.png?forcedownload=1"
          ],
          "Time": "Friday, October 9, 2015, 4:12 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 321105,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=321105",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Hello, Can anyone help me troubleshoot an LTI OAuth signature not matching up?  The issue was discovered using moodlecloud against our production tool provider.  I then reproduced the issue using MoodleCloud against my development tool provider.  However, when I use the latest (2015100200, but I have also tried v2.9.0) Moodle code running from my laptop, everything works fine.  Local Moodle and my dev tool provider produce the same signature and I don't encounter the error. Method: HMAC-SHA1 Secret: debugsecret String to be signed: \n```text\n==================================================================================\n\n\nPOST&https%3A%2F%2Fintegrations.digication.dev%2Fblackboard%2Flti%2F&context_id%3D\n\n\n3%26context_label%3DWRT101%26context_title%3DWriting%2520101%26context_type%3DCour\n\n\nseSection%26custom_debug%3D1%26ext_lms%3Dmoodle-2%26ext_user_username%3Dadmin%26la\n\n\nunch_presentation_document_target%3Diframe%26launch_presentation_locale%3Den%26lau\n\n\nnch_presentation_return_url%3Dhttps%253A%252F%252Fdigication.moodlecloud.com%252Fm\n\n\nod%252Flti%252Freturn.php%253Fcourse%253D3%2526launch_container%253D3%2526instance\n\n\nid%253D2%2526sesskey%253DlBG4GXnXi0%26lis_course_section_sourcedid%3D%26lis_person\n\n\n_contact_email_primary%3Djyan%2540statewood.edu%26lis_person_name_family%3DYan%26l\n\n\nis_person_name_full%3DJeffrey%2520Yan%26lis_person_name_given%3DJeffrey%26lis_pers\n\n\non_sourcedid%3D%26lti_message_type%3Dbasic-lti-launch-request%26lti_version%3DLTI-\n\n\n1p0%26oauth_callback%3Dabout%253Ablank%26oauth_consumer_key%3Ddebugkey%26oauth_non\n```\n I generated: gow2C7X3he1JvEKoM+clvHGIjII= MoodleCloud sent: j2rayHrF4BBNFOj7SvuBZoerMTI= Thanks for taking a look!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 4:11 AM",
          "AuthorName": "Peter Lefferts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2007668&course=5",
          "role": [
            "Picture of Peter Lefferts"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Are you able to access the base string generated at each end to compare the two?  You may find the page at http://lti.tools/oauth useful in checking signature calculations.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 4:53 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "As far as I know, I am not able to see the base string from moodle cloud . Is there a way to do that? Thanks for the link - however, I already tried looking at that tool early and reached its upper limit for number of parameters.  I believe the signature generation is correct since it worked locally.  There must be something different in the base strings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 5:09 AM",
          "AuthorName": "Peter Lefferts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2007668&course=5",
          "role": [
            "Picture of Peter Lefferts"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "I have removed the limit on the number of parameters for the signature calculation tool, and it confirms the signature you have generated.  I do not know anything about moodle cloud, but have you tried a local version of the same release of Moodle as it is running? I assume you have checked the obvious - that is, the key and secret are\nentered correctly in Moodle Cloud with no surplus whitespace around the\nvalues.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 5:34 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Yes to both- I've double checked key and secret, and (although I can't be sure what version moodle cloud is running) I chose v2.9.0 to test against locally based on the tool_consumer_info_version sent from moodle cloud. \n```text\n2015051102\n```\n Aside: Any idea what the \"02\" means? This shows \"00\" : https://github.com/moodle/moodle/blob/v2.9.0/version.php#L32 Does anyone know how to reach out to the moodlecloud folks?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 6:30 AM",
          "AuthorName": "Peter Lefferts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2007668&course=5",
          "role": [
            "Picture of Peter Lefferts"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Hi both - if you think this might be a bug you can  report it on our tracker here: Moodle Cloud bugs Also Stephen, maybe it might be useful to get yourself a Moodle cloud site for any future possible related issues?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 1:53 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Thanks Mary- I posted here but then found the problem when attempting to reproduce the issue on a new moodlecloud domain . https://tracker.moodle.org/browse/CLOUD-4 Please close this bug- the problem turned out to be that the course external tool configuration can override the consumer secret field, and it had auto-populated with a random value.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 9:36 PM",
          "AuthorName": "Peter Lefferts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2007668&course=5",
          "role": [
            "Picture of Peter Lefferts"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Glad you resolved the issue.  But the fact that the course external tool configuration is being auto-populated with a random value for the secret sounds like a bug to me.  Are you able to replicate this issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 10:15 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 316934,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=316934",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI Sites",
          "Text": "Hi, The site https://lti-examples.heroku.com/index.html appears to be inaccessible. Anyone else having this issue? Anyone knows another website, where I can get a comprehensive list of LTI providers that can be tested using External Tool? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 17, 2015, 9:20 AM",
          "AuthorName": "Sairam Chinnam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1537039&course=5",
          "role": [
            "Picture of Sairam Chinnam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Sites",
          "Text": "I had previously added a few sites from that list but now the entire site seems to have disappeared and I'm just getting the error message. I will continue looking for some LTIs that I can use for examples but it doesn't look promising.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 31, 2015, 7:53 AM",
          "AuthorName": "Lynn Hadfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=333635&course=5",
          "role": [
            "Picture of Lynn Hadfield"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sites",
          "Text": "Is the error you are getting related to 'security' ... ie, SSL (https)? Here's another: https://www.eduappcenter.com/ 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 31, 2015, 11:46 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sites",
          "Text": "And a little tool I made, to extract the proper key and secret values from the LTI configuration xml files you get off the above LTI tools repository: http://moodlemagic.info/moodle/tool/lticonfigxml2moodle/ Enjoy",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, July 31, 2015, 5:49 PM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sites",
          "Text": "Thanks so much Nadav - I don't think I could have got them working without your 'tool'.  This seems to be a lot more complex than it should be and getting the right information is quite difficult. I see you've added English text to the tool which means I don't have to translate the Hebrew now!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 26, 2015, 3:22 AM",
          "AuthorName": "Lynn Hadfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=333635&course=5",
          "role": [
            "Picture of Lynn Hadfield"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 319010,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=319010",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "Hello, I want to implement LTI Tool Provider and I am thinking which version of LTI specification to implement. LTI 2.0 implementation guide says that LTI 2.0 is compatible with version 1.1 but I am suspicious. Is it really possible for lets say LTI 1.1 Consumer to communicate with LTI 2.0 Tool Provider?  If it is, how would tool registration process and Tool Proxy setup go? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 28, 2015, 1:59 AM",
          "AuthorName": "Stefan Vuckovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1986226&course=5",
          "role": [
            "Picture of Stefan Vuckovic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "Perhaps the language in the LTI 2.0 Implementation Guide is a little too emphatic, but an LTI 2.0 Tool Provider should be able to support a launch from an LTI 1.x Tool Consumer if it allows LTI-1p0 as a permitted value of the lti_version parameter and is able to manually create and pass across a key and secret for the tool consumer to use.  So there are a few small additional requirements needed by a tool provider to include support for LTI 1 in addition to LTI 2.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 28, 2015, 2:46 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "Hello Stephen, How should we (as a Tool Provider) treat consumer key in LTI 2.0 if consumer chooses key that we already have in our system? I would show some kind of error page telling that consumer with that key already exists but I can't do that because they send consumer key (tool proxy guid) as a last step of interaction after I register tool proxy with that consumer and it's too late to show errors. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 21, 2015, 10:23 PM",
          "AuthorName": "Stefan Vuckovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1986226&course=5",
          "role": [
            "Picture of Stefan Vuckovic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "An excellent question!  Originally the answer was that, since the consumer key is expected to be a GUID, this should never arise.  However, for LTI 2.1 IMS proposes to allow a tool consumer to suggest a key to be used for the final tool proxy in the initial tool registration request message.  In this way tool providers can stop processing the request before offering a tool proxy.  For now, however, your main choices, as I see them, are: Do not update the tool proxy with the proposed key when the tool consumer accepts it and contact the customer as their launches will fail (you could return a status=failure parameter when returning the user as well as an lti_msg parameter to explain). Add support for duplicate keys provided their secrets are different, and use a different ID when referencing the tool proxy.  Validating incoming requests would then need to check the signature with the secret from each matching record to determine which customer it was coming from.  Certainly not ideal, but possible. Has this situation ever occurred to you?  I am expecting it to be a very unlikley event.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2015, 2:32 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "No, I don't expect this to happen but I'm just trying to cover all possible cases. Thank you for your suggestions, I think I'll go with option 2 because  it's automated. But now another question comes to my mind. What will happen when Consumer registers for two different set of tools (different registration urls). We will then have different Consumer records for same Consumer. Again, this would be a problem only if we need to track Consumers and their usage of our Tools in some way. I suppose this could be solved by including consumer authentication as part of Deployment UI after receiving tool proxy registration request. This would allow us to match consumer records. Again, thank you Stephen for your suggestions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2015, 7:16 PM",
          "AuthorName": "Stefan Vuckovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1986226&course=5",
          "role": [
            "Picture of Stefan Vuckovic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "Another excellent question and one which will hopefully be resolved in LTI 2.1 which will introduce the ability to re-register with a tool provider. In the meantime, with LTI 2.0, you have little choice but have multiple registrations with the same tool consumer if they want to add other tools.  You could try using the tc_profile_url or launch_presentation_return_url URLs (or at least their domains) to identify those coming from the same tool consumer.  Or, as you suggest, you may have given customers some form of key which allows them to identify themselves during the registration process.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2015, 8:13 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 270832,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=270832",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Set due date for LTI activity",
          "Text": "Hi all Is there a way or workaround to show a due date for an LTI activity? we are on 2.5, moving to 2.6+ in the next week Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 26, 2014, 4:01 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Set due date for LTI activity",
          "Text": "I am interested in this as well. I believe there are problems with unpredictable feedback from LTI providers which makes a due date (as used in quizzes and assignments) difficult to implement.  However, being able to set a due date so that External Tool activities appear on the calendar would be very helpful. Being able to set \"Allow submissions from\" and \"Cut-off date\" dates as well would be nice. I have added an issue in the tracker about this: https://tracker.moodle.org/browse/MDL-51430 Please vote for it if it's something you'd like to see.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 16, 2015, 5:09 PM",
          "AuthorName": "Brian Evans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1794484&course=5",
          "role": [
            "Picture of Brian Evans"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 320023,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=320023",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Launch data does not validate. Check your BLTI secret. ScormCloud",
          "Text": "Hi Folks, i've installed the latest stable moodle versions 2.6, 2.7 and 2.9 from GIT . In All three, When i try launch a BLTI against scormcloud, I get this error: Launch data does not validate. Check your BLTI secret. I have read the thread at https://tracker.moodle.org/browse/MDL-46536 it seems like the issue is fixed, but I cant seem to get this to work even though I pulled the latest stable code from git. This is failing against my scormcloud based LTI activity, as well as against the standard tests at http://ltiapps.net/test/tp.php I know my LTI dispatch is good, as it tests good from the ltiapps.net tool to scormcloud. So its probably the oauth bug, but I cant seem to be able to fix it Any help is appreciated!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1283774/01.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1283774/02.png?forcedownload=1"
          ],
          "Time": "Wednesday, September 16, 2015, 1:37 AM",
          "AuthorName": "Abhi puri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=827446&course=5",
          "role": [
            "Picture of Abhi puri"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Launch data does not validate. Check your BLTI secret. ScormCloud",
          "Text": "A few suggestions to try when launching to the http://lti.tools/test/tp.php site: Add a custom parameter of \"debug=true\" to the launch; this will give you a more technical error message Does the launch work if you remove the activity description? Have you checked the time on your Moodle server to make sure it is accurate?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 16, 2015, 2:41 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Launch data does not validate. Check your BLTI secret. ScormCloud",
          "Text": "#1 -- Check #2 -- Check #3  -- off by 3 seconds. Gosh! Thank you Stephen! you hit the nail on the head with that :D I recycled ntpd, and everything works now. Woot!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 16, 2015, 3:34 AM",
          "AuthorName": "Abhi puri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=827446&course=5",
          "role": [
            "Picture of Abhi puri"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 317752,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=317752",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Support for LTI Outcomes Management 2 services",
          "Text": "Vital Source Technologies funded the addition of LTI 2 support to Moodle 2.8.  It is now\nproposing to do the same to add support for the new Outcomes Management 2 (rich outcomes) services (see http://www.imsglobal.org/lti/ for details) which overcome the limitations of resource links having only a single gradebook column. A project page describing the work to be undertaken is being set up at https://docs.moodle.org/dev/LTI_Outcomes2_Services .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 1:11 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "In designing an implementation of the LineItem services, I need to find a way of creating records in the grade_items table.  It appears that, without making other changes to the core code, I cannot  create them with an itemtype of \"mod\", an itemmodule of \"lti\" and an iteminstance of null or \"0\".  If I do the gradebook interface tries to locate the associated LTI instance, which does not exist.  Since the columns exist independently of any specific resource link, they cannot be associated with an actual instance. My current proposal, for which I would appreciate feedback as I am probably not aware of the wider implications of doing this, is as follows: courseid would be the context to which the line item belongs (as currently used in Moodle) itemtype would be set to \"external\" or other similar constant string itemmodule would be null iteminstance would be the ID of the proxy tool instance which created it itemnumber would be incremented for each line item (starting at 0) iteminfo would record any ActivityId for the line item gradetype would be 1 (value) grademax would be set by the service grademin would be 0 My tests so far suggest that this works.  It does allow instructors to edit some of these values, but the specification does not prevent this.  (As probably the first implementation of this specification for a tool consumer there may be some best practice issues to decide along the way.)  The main issue which is not clear to me is the current vocabulary used to populate the itemtype field. Does this sound like a workable and sensible approach to others, or can you suggest a better one? TIA .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 1:40 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "\" Since the columns exist independently of any specific resource link\" - why? Even if you cannot naturally associate each LineItem, can't you find some arbitrary make the association, so that it fits the Moodle API? (Sorry, I have not read the Outcomes service spec, and I am not going to. If you can give, or link to, a one-page summary, then I might be able to help more. I guess the key thing to understand is the data model.) The one example of this in standard Moodle activity with multiple grade items is mod_workshop, where each workshop activity contributes two grade items. See https://github.com/moodle/moodle/blob/032a4fe51ccf41cbd3c310d52ca5b7777ffb5123/mod/workshop/lib.php#L1076",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 3:28 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "OK, I have now read your wiki page. That is a good summary. (Sorry, I should have done that before.) I note that the spec is still a draft. Perhaps this aspect of it deserves more discussion. Perhaps each LineItem should have to belong to one particular LTI activity in the course? If they don't re-consider that part of the spec, then i would suggest that the grade_items you create should not be linked to mod_lti at all. I can think of two ways you might handle it: 1) Create a special activity mod_ltioutcomeservice which cannot be added manually, but on any course where the outcome service is used, an instance of that module gets automatically added to the course (hidden from students) and manages all the grade items. 2) Alternatively, implement this services as a local plugin instead of a mod, and use standard custom grade-items, such as a user would create using the gradebook UI. (Or, extend the gradebook UI so the local plugins can own grade-items in a course.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 3:49 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "Thanks for your helpfui responses, Tim.  I left responding for a while in case anyone else wanted to contribute to the discussion, but I had not meant to leave it quite this long. My feeling about your second suggestions is that it seems to be contrary to the way in which LTI services have defined as sub-plugins which can be automatically discovered and offered to tool providers.  Your first suggestion has the disadvantage of requiring an additional install which, to me, is not ideal.  It would be nice for a service to be self-contained within a single sub-plugin. I have, however, heeded your advice about not abusing the content of the grade_items table.  My current proposal is to create the lineitems as manual items.  This involves a couple of database changes: 1.  The lti_submissions table has two new fields: courseid and gradeitemid which allow a submission to be associated with a grade item since this is no longer possible via the LTI instance ID.  The course ID is useful when a grade item has been deleted. 2.  A new table named ltiservice_outcomes2 is created with the following fields: id (auto number) toolproxyid gradeitemid activityid This table allows grade items created by the service to be associated with a tooi proxy and as a place to record any activity IDs defined by the tool provider.  At present I have not added any referential inegrity constraints so records will remain in this table after a tool proxy or grade item has been deleted.  Would a maintenance script to tidy up this table be sensible? Does this sound like an acceptable solution or should I be revisiting one of the other suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 15, 2015, 9:16 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "That sounds plausible, though as you say, it would be nice to get some input from other people. I don't know what the coding style rules say about digits in database table names. You may need to call it mod_lti_outcomes_two. (Table names must start with the plugin name.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 15, 2015, 2:19 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "Thanks Tim.  I cannot find any definitive documentation on the naming of plugins/subplugsin, apart from being lower case.  However, I have also not found any other examples which include digits in their name and I did find mod_turnitintooltwo which suggests that I should rename my subplugin to ltiservice_outcomestwo (named because it is an implementation of the Outcomes Management 2 specification).  In which case this would also mean a similar change to the database table name.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 15, 2015, 6:22 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 319796,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=319796",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Hide Other Student LTI Submissions via Gradebook",
          "Text": "Hi all We are on 2.6.5. When logged in as a student I click on grades to view my personal student grade. From that grader report as a student I can then click on any of the LTI items in the gradebook. When I do, as a student, I can then see the names, submission dates, and score for all other students. How can I turn this ability off (student view attached)? Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1282859/Screen-Shot-2015-09-11-at-11.12.33-AM.jpg?forcedownload=1"
          ],
          "Time": "Saturday, September 12, 2015, 12:18 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 318928,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318928",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Link to a LTI provider from an external source",
          "Text": "I apologize if I have missed this somewhere but what is the process that one would use to link to an LTI provider from an external source? Specifically, this is our situation. We have an external tool setup, on occasion that external tool generates an email with a link and sends it to an user. That user clicks on that link and goes directly to the LTI providers website. The provider sees that the user has not been authenticated and redirects back to our Moodle install. (We can tell the provider where and what parameters to send us.) That is where we are stuck, not sure what url and parameters to tell the LTI provider to use for us. It seems like there would be something in place already to handle this and I know that the provider has this workflow working with D2L. Any direction on this issue would be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 26, 2015, 11:00 PM",
          "AuthorName": "Steve Prater",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=48507&course=5",
          "role": [
            "Picture of Steve Prater"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Link to a LTI provider from an external source",
          "Text": "I ended up with a partial solution anyway. I created a custom page to keep in the moodle/local/ directory that solves the issue for Firefox and chrome. IE is misbehaving though. The solution involves IFrames and re-directions and is far from elegant. If you are in need of something like this, I'll attach it to this post. If you know of something better, please let me know! Have a nice day!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 3, 2015, 4:56 AM",
          "AuthorName": "Steve Prater",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=48507&course=5",
          "role": [
            "Picture of Steve Prater"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 318682,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318682",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI provider plugin Moodle to Moodle",
          "Text": "Hi, in my institution we have two instances of Moodle and we would like to share the contents of created courses in one of the instances to the other one. Maybe I'm missing something, but I didn't find how to use this plugin in that purpose, please can someone tell me how to create or configure any web service or another feature in order to share contents between two Moodle instances? I will like to be able even to duplicate the content. BTW my version of Moodle is 2.8.6 and when we install the 2.7 (latest) branch of the plugin we had error messages like: Class 'textlib' has-been renamed for the autoloader and is now deprecated. Please use 'core_text' instead. line 102 of /lib/classes/component.php: call to debugging () line? of unknownfile: call to core_component :: classloader () line? of unknownfile: call to spl_autoload_call () line 105 of /local/ltiprovider/edit_form.php: call to class_exists () line 191 of /lib/formslib.php: call to edit_form-> definition () line 102 of /local/ltiprovider/edit.php: call to moodleform-> moodleform () Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 21, 2015, 10:51 PM",
          "AuthorName": "Paula Ardanza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1770946&course=5",
          "role": [
            "Picture of Paula Ardanza"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 314563,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314563",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Is it possible to use LTI Provider tool to create content in LTI Consumer tool?",
          "Text": "Hi everyone! I am looking at LTI specification and cannot find the answer for my question. (maybe I missed something) Is it possible to pass created content (for instance learning courses) from LTI Provider to LTI Consumer tool? For example if provider tool allows to create learning courses, is there defined by the specification way to pass created course to LTI Consumer tool (moodle)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 2, 2015, 9:40 PM",
          "AuthorName": "ntl ntl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1960248&course=5",
          "role": [
            "Picture of ntl ntl"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is it possible to use LTI Provider tool to create content in LTI Consumer tool?",
          "Text": "Hi ntl, did you found the answer to your question? I'm trying to do the same, I have 2 instances of Moodle and I want to use the created content in one to the other. Please let me know if you know how to do it with the LTI provider plugin. Thanks in advance! Paula.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 21, 2015, 8:58 PM",
          "AuthorName": "Paula Ardanza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1770946&course=5",
          "role": [
            "Picture of Paula Ardanza"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 318532,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318532",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI provider & Launch course from external website",
          "Text": "Hi All I have installed LTI provider plugin in my moodle website. I have different courses with SCORM content. Can anybody tell me how can i launch my course on external website? I want to run course on external website so user can attempt course without moodle interface and login into moodle. Thanking in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 19, 2015, 3:35 PM",
          "AuthorName": "pratik patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1974563&course=5",
          "role": [
            "Picture of pratik patel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 317597,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=317597",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Coding LTI provider",
          "Text": "Any guidance on coding LTI provider for moodle and pass grades? By now this is the most straight forward guide I found: https://blogs.law.harvard.edu/acts/2014/07/11/basic-lti-workshop-using-php/ But only does basic launch actions and I need more info on how to get and set grade scores. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 31, 2015, 6:02 AM",
          "AuthorName": "Free Mx",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1975610&course=5",
          "role": [
            "Picture of Free Mx"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Coding LTI provider",
          "Text": "I maintain an open source class library which allows the LTI-related code to be abstracted away from an application.  The current version supports up to LTI 1.1 (i.e. includes the Basic Outcomes Service).  I am working on a new version to support LTI 2.  Details can be found at http://www.spvsoftwareproducts.com/php/lti_tool_provider/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 31, 2015, 6:39 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Coding LTI provider",
          "Text": "Sweet news",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, July 31, 2015, 7:01 PM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Coding LTI provider",
          "Text": "Thank you Stephen, very useful information for my research. Will use this library for implementation. Waiting for news on version for LTI 2.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 3, 2015, 2:55 PM",
          "AuthorName": "Free Mx",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1975610&course=5",
          "role": [
            "Picture of Free Mx"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 316546,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=316546",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Outcomes not working on links created in a version previous that 2.8 (when upgraded)",
          "Text": "I created an issue for this https://tracker.moodle.org/browse/MDL-50808 but as a brief summary. If an LTI link is created in a version previous to Moodle 2.8 (lets say 2.5) configured to receive grades and used, the reference to the gradebook created at that point does not work if the server is upgraded. When using the reference (lis_resource_sourcedid) stored by the Tool Provider, Moodle responds with a 404 error. There should be backward compatibility, and my guess is that the bug is in the form the sourcedId is validated when the replaceResult request is received, but it may also be in the reference to the item in the gradebook, so the script for upgrading would be the culpit (this I don't know, I am not that familiar with the internal code). Anyways, the workaround found is to ask students to use the link again. that seems to be rebuilding the reference along with the new ID used as lis_result_sourcedid. JF",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 10, 2015, 1:52 AM",
          "AuthorName": "Jesus Federico",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370546&course=5",
          "role": [
            "Picture of Jesus Federico",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Outcomes not working on links created in a version previous that 2.8 (when upgraded)",
          "Text": "Are you sure that this is an issue between 2.8 and previous versions of Moodle?  Inspecting the code suggests to me that the only recent change to the way the lis_result_sourcedid parameter value is generated was in Moodle 2.6.  Do you know if this issue arises when, for example, upgrading from 2.7 to 2.8?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 10, 2015, 2:31 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Outcomes not working on links created in a version previous that 2.8 (when upgraded)",
          "Text": "Hi Stephen, No, I did not tried from 2.7 to 2.8 because the case I got reported was specifically from 2.5 to 2.8. In the case I was working on (which is closed on our end)  there is no much we can do since the migration is already done, however I can help out narrowing the problem down if needed. I reproduced what the users had in production by a. installing a new 2.5, b. adding and using LTI links, c. migrating to 2.8 d. and finally trying to execute a repplaceResult What I could do is to try the same from 2.7 to 2.8 and 2.5 to 2.6 In what version the \"typeid\" was added to the sourcedId string? Is that the change you mean?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 10, 2015, 11:30 PM",
          "AuthorName": "Jesus Federico",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370546&course=5",
          "role": [
            "Picture of Jesus Federico",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Outcomes not working on links created in a version previous that 2.8 (when upgraded)",
          "Text": "As I understand your post, you are suggesting that the lis_result_sourcedid changed after Moodle 2.5 which caused integrations to fail unless this value was refreshed,  If so, my review of the code suggests that the only change to this value occurred in 2.6 (with the addition of the typeid element) and so my conclusion was that this is probably not a 2.8 issue, but a more general issue of upgrading from a version of Moodle prior to 2.6.  However, if this were the case I would have expected it to be widely known and raised some time ago - before I got involved with this part of the code base.  Have you tried manually adding the typeid element to a sourcedid value after upgrading to see if this is the actual cause?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 11, 2015, 2:00 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 213665,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213665",
      "NoOfResponses": 32,
      "ResponsesInList": [
        {
          "Title": "Wordpress and Moodle LTI",
          "Text": "I would like to create a tutorial explaining how to go from point A to point B for the average user to setup and use wordpress multisite inside Moodle.  However I am having the hardest time setting it up for myself. I have downloaded and installed the Wordpress LTI Plugin using this- Directions for configuring WordPress: Configure your WordPress account for multisite Download the WordPress LTI plugin Extract the LTI plugin into `wp-content/mu-plugin` Log as superAdmin and go to Network Dashboard -> Settings -> LTI Consumers Keys. Here you can manage the authorized consumers keys For more detailed configuration, follow the directions here The part that is missing is how you add wordpress into Moodle. What is the Launch URL ???  Obviously with the plugin you have to setup the consumer key and shared secret, but I cannot find any documentation on the Launch URL. If anyone can shed some light on this let me know.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/931031/wordpress_LTI.png?forcedownload=1"
          ],
          "Time": "Friday, October 12, 2012, 8:47 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "I have gotten to the point where I can add my Wordpress site to a course and using the external tool it will embed the main WP blog in my Moodle course. However, it doesn't login the Moodle user and it doesn't create a new blog or anything like that.  Is there a special trick to this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 16, 2012, 2:13 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Hi Chris, I have been working on this myself. I'm not sure what you are seeing. I had to add some debugging statements to determine there was a invalid signature in the OAuth process. In the end, it came down to some bad code related to magic quotes. For testing purposes, try to turn on magic quotes in your php.ini (not recommended for production). This will at least let you know whether this is your issue or not. I'm going to be working on LTI4WordPress. It's essentially an abandoned project. I'll probably try to put my own version up on github. Stay tuned.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 18, 2012, 1:01 PM",
          "AuthorName": "Darcy Christ",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1374447&course=5",
          "role": [
            "Picture of Darcy Christ"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Thank you Darcy.  If you have code you want to share I would love to be a part of testing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 18, 2012, 8:11 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Hi Chris, I have the setup running on the latest build of Moode/Wordpress. There's no trick as referring to the \"documentation\" except: 1. The Launch URL in my case (the root installation of your wordpress) is : http://mydomain.com/wordpress , so student's blog will look like http://mydomain.com/wordpress/wordpress-2-1 2. be sure to NOT to check the box of \"Accept grades from the tool. I am also puzzled with the access right when other students can edit on someone's blog (e.g change the title) and wish Darcy will come up with the updated coding. Thanks Both. Simon",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/933755/lti.JPG?forcedownload=1"
          ],
          "Time": "Monday, October 22, 2012, 3:33 PM",
          "AuthorName": "Simon Leung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1516788&course=5",
          "role": [
            "Picture of Simon Leung"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Hello Simon, Did you modify any settings or files? I did get the lauch URL to work. Here is the current issues: When I launch the activity it doesn't transfer my username to the blogs or create new users in wordpress. It doesn't create a new blog?  is it supposed to?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 22, 2012, 8:05 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "I should point out we are using LDAP for logins, so maybe that might be the issue?  I am not seeing anything in the error logs either.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 22, 2012, 8:59 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "YES!  I just got it working.  I had missed a file when uploading the LTI plugin.  Not sure how or why, but a re- upload worked.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 22, 2012, 9:35 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Here is a demo video I just made of wordpress and how it works with LTI and Moodle:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 23, 2012, 9:27 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "회신: Re: Wordpress and Moodle LTI",
          "Text": "Thanks for your module. I could setup an external tool activity but I got message when I clicked the activity next time. existing_user_login This username is already registered. I have a question about role mapping. I found that \"Instructor\" mapped to \"editor\". Is \"Instructor\" a customized name for \"Teacher\"? \n```text\n\tpublic function roleMapping($role, $blti) {\n\t\t\n\t    if ($role == 'Administrator' || $role == 'Instructor,Administrator') return 'administrator';\n\t    if ($role == 'Instructor') return 'editor';\n\t\t\n\t    return 'subscriber';\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 27, 2012, 9:12 AM",
          "AuthorName": "Jong-Dae Park",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=101725&course=5",
          "role": [
            "Picture of Jong-Dae Park",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "회신: Re: Wordpress and Moodle LTI",
          "Text": "I installed a subdirectory type multisite  wordpress 3.4.2. The os for the blog system is debian linux squeeze and the moodle version is 2.3.2+. The problem I have : Even though a course blog is created, a new user is created at the main blog as a subscriber, not a author of the created blog. Thanks in advance. JD Park",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 27, 2012, 10:58 PM",
          "AuthorName": "Jong-Dae Park",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=101725&course=5",
          "role": [
            "Picture of Jong-Dae Park",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 회신: Re: Wordpress and Moodle LTI",
          "Text": "Jong, Your issue may be related to renaming some of the user roles?  Have you renamed your user roles in Moodle?  Not quite sure why the user would be added as a subscriber.  Have you been changing the code for the WP Plugin?  It should just work out of the box.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 29, 2012, 8:46 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Hi All, It's great to see that some people have gotten this plugin to work. For some reason I haven't been able to.  I correctly configured the WP LTI plugin in wordpress and also configured an External Tool configuration in Moodle. I have followed the instructions to the letter, followed some suggestions from this post, and ensured (through some code additions) that the Consumer key received in the POST (from Moodle) and the secret retrieved (by WP) are correct.  I have reuploaded the plugin several times as well.  But alas, it is still not working. What I experience is that when I add an external tool activity in Moodle, pointing to the WP instance (hosted by me), I get a a Basic LTI Authentication Failed error: \"BASIC LTI Authentication Failed, not valid request (make sure that consumer is authorised and secre is correct) invalid signature ours=1yKmUk016k5LdhW85f2OAcwnSOg=  yours=o+cj)Nz5P/LD7GIV9Fd0txhaMhc=\" I have already ensured that the consumer key and secret are exactly the same in both sites. I have also ensured that the time/date/etc are correct in both sites.  Some token used to construct the signatures is different between both sites, but I can't figure out which one. Does anyone have any ideas on this? Thanks in advanced, Petri",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 29, 2012, 8:10 AM",
          "AuthorName": "Petri Calderon Larjanko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1209419&course=5",
          "role": [
            "Picture of Petri Calderon Larjanko"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Petri, I have gotten that error too sometimes.  Make sure the email address for the Moodle User and your Wordpress Admin are different. Also, make sure you only add the External Tool ONCE to Moodle via the Site Admin Panel > Plugins > External Tool.   If you have two instances I have seen it kick back the error you described ---- \"BASIC LTI Authentication Failed, not valid request (make sure that consumer is authorised and secre is correct) invalid signature ours=1yKmUk016k5LdhW85f2OAcwnSOg=  yours=o+cj)Nz5P/LD7GIV9Fd0txhaMhc=\". You can add that one instance over and over in courses and it will create unique blogs for each instance, but you cannot have two in the site admin panel.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 29, 2012, 8:43 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Any other suggestions? I'm having the same issue on a fresh install of wordpress, my admin account's email is different and I only have a single instance of the external tool. Any help would be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 30, 2012, 6:10 AM",
          "AuthorName": "Stephen Elaschuk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=413951&course=5",
          "role": [
            "Picture of Stephen Elaschuk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Also it doesn't appear to be an issue with my moodle install, as I can use the test instance from http://sourceforge.net/apps/mediawiki/learningapps/index.php?title=LTI4Wordpress#Test_Wordpress just fine.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 30, 2012, 6:57 AM",
          "AuthorName": "Stephen Elaschuk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=413951&course=5",
          "role": [
            "Picture of Stephen Elaschuk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Hi Stephen, I still haven't gotten this to work yet either. I had to stop work on attempting to do this because of compeeting priorities.  I had chats to colleagues more proficient in PHP than me and they can't see anything wrong with the code (in the 30 minutes I had with them).  Also, our Moodle instance is already using other external tools via LTI successfully, so it is also unlikely to be our Moodle instance. all the investigation I have done points to the LTI Wordpress plugin or the environment it is sitting in, generating a different signature due to some unknown token or parameter.  But I can't figure out what. Since this is not an active developed plugin, I have provided my techncial evaluation and advice to our learning and teaching area to either find a different external tool that has better supported plugins, or comission work to write our own LTI plugin for Wordpress.  However, they are very interested in using this one if we can get it to work. Regards, Petri",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 30, 2012, 7:13 AM",
          "AuthorName": "Petri Calderon Larjanko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1209419&course=5",
          "role": [
            "Picture of Petri Calderon Larjanko"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Yes, it does seem to be some kind of issue with the way the OAuth signature is computed, even though the code between the moodle and wordpress LTI plugins are virtually identical. I'm debating a workaround of just commenting out the actual verification of the token in mu-plugins/IMSBasicLTI/ims-blti/OAuth.php and implementing some kind of basic referrer check, since all my sites using the LTI plugin will be from the same domain . I've tried it just commenting out the signature check and it seems to work fine, although it is highly insecure obviously. I just added the /* and */ around the relevant portions of the \"valid_sig\" condition in mu-plugins/IMSBasicLTI/ims-blti/OAuth.php of the wordpress plugin as below /* if (!$valid_sig) { $ex_text = \"Invalid signature\"; if ( $OAuth_last_computed_signature ) { $ex_text = $ex_text . \" ours= $OAuth_last_computed_signature yours=$signature\"; } throw new OAuthException($ex_text); } */",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 1, 2012, 12:15 AM",
          "AuthorName": "Stephen Elaschuk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=413951&course=5",
          "role": [
            "Picture of Stephen Elaschuk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "The only time I have run into issues is when you have an Admin Account on Moodle and the Admin Account on Wordpress with the same name and email.  Then it throws an error.  We have this working quite well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 6, 2012, 1:23 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "First thing, set your WP site to network, there are some good docs on same in there wiki. Then you can setup categories with blogs per cat. Install the LTI module from the WP site. At some point you will have to also replace the .htaccess file in WP to allow tredirects. Check out http://sourceforge.net/apps/mediawiki/learningapps/index.php?title=LTI4Wordpress Hope that helps John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 30, 2012, 7:59 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Here is a tutorial I made on how we got it setup: http://blog.dearbornschools.org/webmaster/2012/10/25/wordpress-and-moodle-lti-stepsheet-and-tutorial-for-setup/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 29, 2012, 8:47 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Thanks for the suggestions Chris, and also for posting your step-by-step, nicely written. Unfortunately, I had already taken into consideration your suggestions (the mail address of the moodle user does not exist in WP and the external tool config in Moodle for WP is there only once. I even removed the external tool configuration and attempted to add manual entry of the config at the \"add external tool activity\" step, but same error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 30, 2012, 6:44 AM",
          "AuthorName": "Petri Calderon Larjanko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1209419&course=5",
          "role": [
            "Picture of Petri Calderon Larjanko"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "I suspect it maybe something with the local server install.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 30, 2012, 10:34 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Hi Petri and Chris, I have come across the problem \"BASIC LTI Authentication Failed, .....\" at the very beginning when I copied the \"mu-plugins\" folder to a wrong place. I didn't follow the readme and put under \"/wordpress/wp-content/plugins/\" which is supposed to be under \"/wordpress/wp-content/\". Wordpress then installed the plugin at the top \"global\" plugin section, but not in the plugin section under the \"Network Admin\" and I was prompted with that error. Simon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 31, 2012, 11:55 AM",
          "AuthorName": "Simon Leung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1516788&course=5",
          "role": [
            "Picture of Simon Leung"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Please see my tutorial for setting up LTI and Wordpress: http://blog.dearbornschools.org/webmaster/2012/10/25/wordpress-and-moodle-lti-stepsheet-and-tutorial-for-setup/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 6, 2012, 1:24 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Trả lời: Re: Wordpress and Moodle LTI",
          "Text": "Hi ! You can connect login between Moodle and Wordpress?. If homepage is Wordpress, you will login in WordPress. After you can go to lesson , course, quiz, ... without login again (not login again moode)!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 6, 2012, 4:21 PM",
          "AuthorName": "Van Tam Tran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1514363&course=5",
          "role": [
            "Picture of Van Tam Tran"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trả lời: Re: Wordpress and Moodle LTI",
          "Text": "Not really following you Van Tam. The LTI plugin for Wordpress allows users from Moodle to connect to Wordpress and isntantly creates a Wordpress blog for the course and adds all the users to the blog. The direction is from moodle to wordpress.  Wordpress is a tool of moodle.  You seem to want something that the LTI plugin currently doesn't do.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 6, 2012, 11:56 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Trả lời: Re: Trả lời: Re: Wordpress and Moodle LTI",
          "Text": "Hi thanks you Chris Kenniburg ! I want to use acount of Moodle or Wordpress single sign on (SSO) betwwen Moodle and wordpress! I hope you know and guide me!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 11, 2012, 7:42 PM",
          "AuthorName": "Van Tam Tran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1514363&course=5",
          "role": [
            "Picture of Van Tam Tran"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Hi All, Thanks for your stepsheet and tutorial ! When the installation is complete d, I do not understand if the students and theteacher can also access to Wordpress outside of moodle ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 24, 2013, 6:30 PM",
          "AuthorName": "benoit tostain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100621&course=5",
          "role": [
            "Picture of benoit tostain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trả lời: Re: Wordpress and Moodle LTI",
          "Text": "Hi your tutorial for LTI and Wordpress doesn't seem to be alive anymore, is it still available somewhere?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 1, 2015, 7:54 PM",
          "AuthorName": "Chris Hall",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1808531&course=5",
          "role": [
            "Picture of Chris Hall"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trả lời: Re: Wordpress and Moodle LTI",
          "Text": "Hi Chris H. It's found here in my humble little blog. Check out the Appendix section for the correct link (it's next to the stuck-out link which is obsolete) to Chris K's 2012 blog post on Moodle & LTI. You can also download the zip file from Chris K's original blog post - check the comments section of my blog post.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 2, 2015, 9:24 AM",
          "AuthorName": "Frankie Kam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=831135&course=5",
          "role": [
            "Picture of Frankie Kam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle LTI",
          "Text": "Hey guys, is there an external discussion forum specifically for the LTI4WordPress tool? I ask because I want to talk about the LTI functionality beyond just Moodle, and understand this may not be the place for it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 1, 2013, 9:06 AM",
          "AuthorName": "Jared Stein",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=121093&course=5",
          "role": [
            "Picture of Jared Stein"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 257022,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=257022",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Wordpress and Moodle using LTI",
          "Text": "I am trying to integrate wordpress with Moodle using LTI tool. Everytime I login to moodle I can see the wordpress home page and not the page whose url I specified while setting up external tool. Please help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 25, 2014, 10:18 PM",
          "AuthorName": "Bhavna Singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1773247&course=5",
          "role": [
            "Picture of Bhavna Singh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Wordpress and Moodle using LTI",
          "Text": "Typically the way I have setup Wordpress and Moodle is that you go to Moodle first.  Inside a moodle course you have an External Activity.  That External Activity connects to Wordpress MultiSite (Important difference: Multisite) and Moodle will create a new site in the WP Multisite setup and then automatically add users from Moodle as they click on the External Tool Activity. For Moodle, you always enter the Wordpress LTI URL .  For instance depending on which LTI plugin you are using it could be different but my setup always uses http://yourdomain.com/?lti Then the plugin and Moodle take over and create the new site and display it either as a pop-up or embedded.  I don't create a subsite.  Moodle and WP do that and use the Activity Name from Moodle as the title of the new blog .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 26, 2014, 8:40 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle using LTI",
          "Text": "Hi Chris I am trying to get Moodle to connect to WordPress using LTI. I don't suppose the plugin https://github.com/1000camels/basicLTI4WordPress/blob/master/readme.txt works anymore with wordpress-4.2.2 ? I tried the links http://www.spvsoftwareproducts.com/php/wordpress-lti/ and http://projects.oscelot.org/gf/project/wordpress-lti/frs/ but was not able to get it to work on my Moodle 2.8. Regards Frankie Kam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2015, 6:02 PM",
          "AuthorName": "Frankie Kam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=831135&course=5",
          "role": [
            "Picture of Frankie Kam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle using LTI",
          "Text": "I am aware of an issue with the LTI connector for WordPress at http://www.spvsoftwareproducts.com/php/wordpress-lti/ when WordPress is using MySQL , switching to use My SQL i is a current workaround at least for WordPress 4.2.2 whilst I resolve the root cause.  Might this be a temporary solution for you?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2015, 6:45 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle using LTI",
          "Text": "Thanks for your reply, Stephen. I need to connect from my Moodle site to my Wordpress store seamlessly. Hence LTI. However, for the record, 6 hours of work and I still couldn't get LTI4Wordpress and Chris' 2012 article to work on a multisite Wordpress 4.2.2. I followed all the steps, but I could not connect my Moodle site to my Wordpress site, but there was no automatic login at the Wordpress end. As for spvsoftwareproducts.com's Wordpress-LTI tool , I tried it but I hit a problem with this: Firstly , you will notice some PHP warnings at the top of the screen ( Warning : usort() expects parameter 1 to be array, null given in /home/frankie/public_html/store/wp-content/plugins/lti/includes/LTI_List_Table.php on line 269 Warning : array_slice() expects parameter 1 to be array, null given in /home/frankie/public_html/store/wp-content/plugins/lti/includes/LTI_List_Table.php on line 291 ) Secondly , no matter what I do, I cannot seem to add a Tool Consumer detail line (see red question mark '?'). I use the \"Add New\" option to add an LTI tool consumer.  I give the consumer a name, and WordPress displays a key and secret. After that the above screen always shows \"No items found\". It's as though none of the Tool Consumer names that I added were saved. Any ideas? Perhaps the LTI it will work if I revert to Wordpress 3.x. As for SPVsoftware's LTI, I haven't tried switching to MySQLi yet as a temporary solution. Thanks for the head's up anyway. Frankie Kam, Malaysia.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1263363/huh.PNG"
          ],
          "Time": "Wednesday, June 17, 2015, 11:14 PM",
          "AuthorName": "Frankie Kam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=831135&course=5",
          "role": [
            "Picture of Frankie Kam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress and Moodle using LTI",
          "Text": "Finally, I got it to work. See here .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 23, 2015, 9:43 AM",
          "AuthorName": "Frankie Kam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=831135&course=5",
          "role": [
            "Picture of Frankie Kam"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 315372,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=315372",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Activity on users Dashboard page?",
          "Text": "Hello one and all! I've got the latest Moodle up and running on the main domain of my server , (let's call it http://mydomain.com ) within that i've got a WordPress install set up ( http://mydomain.com/news ) which we use as a news feed/social wall type of thing. What i'm wanting to do is have our Moodle users be able to be auto logged in to that WordPress site (which is set for new sign ups to be authors). This is the bit where i've come unstuck. I'm aware you can use LTE to authenticate users in to a WP set up in a course but this would be from (and available in) every users Dashboard page. Any ideas any one? Many thanks in advance. Mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2015, 11:44 PM",
          "AuthorName": "Mike Bishop",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1891650&course=5",
          "role": [
            "Picture of Mike Bishop"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 310617,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=310617",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Adding an LTI tool in the demo environment",
          "Text": "Hi, I am investigating LTI and the surrounding user experience with a view to implementing an LTI tool. However I haven't been able to successfully add an LTI app to a Moodle course. I have tried adding a number of the publicly available tools on the EduApp store (Trello, YouTube, OneDrive for Business etc) while in the demo environment without success. I have also tried using an instance of Moodle hosted on a local machine, and one hosted on Microsoft Azure. I have added the URL from the EduApp Center as in the image attached. I have tried entering the URL both as launch URL or as a secure launch URL. The error that comes up is 'the page does not exist' or 'invalid URL', depending on whether I added the URL as a launch URL or secure launch URL respectively. Please can you advise me? There must be something very basic I am doing wrong, but I am not sure what. Thanks very much, Ailsa",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1242900/Adding%20an%20LTI%20tool.png?forcedownload=1"
          ],
          "Time": "Tuesday, March 24, 2015, 5:47 AM",
          "AuthorName": "Ailsa Leen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1937295&course=5",
          "role": [
            "Picture of Ailsa Leen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Adding an LTI tool in the demo environment",
          "Text": "You have hit a number of issues here with the eduappcenter and the LTI implementation by Instructure.  Firstly, the URL you have treated as a launch URL is actually a URL to a configuration file which can be used by Canvas to configure the tool.  The XML contains the launch URL amongst other properties.  Whilst other LMSs support the configuration of LTI tools using XML , the format used by Instructure does not conform to the IMS spec and so is unlikely to be useful in any other system.  And, in any case, Moodle does not support XML configuration. Secondly, I take issue with Instructure calling all the apps listed in the eduappcenter as being LTI.  The Trello example you selected is a good example.  It does not require a consumer key and secret for the simple reason that it is not accessing a secure resource.  When I launched it a publicly available video from Khan Academy was displayed in the browser.  The only sense in which this is LTI is that it performs an LTI launch internally and redirects the user to a publicly available page - there is no passing of personal data to the tool provider, it is merely a convenience for Instructure because it has adopted LTI as the mechanism for adding any content to its courses.  So when you see an application in the eduappcenter which does not have a key symbol (\"Requires Consumer Key and Secret\") then this is not an LTI app in the sense that there is a secure handoff to a third party application and the same end result could be achieved without LTI as access to the resource does not require any credentials. If you want to try out an LTI app then, as you have realised, you just need three pieces of information: a launch URL, a consumer key (to identify you as a customer) and a consumer secret (to secure the messages between the systems).  Here are some samples you can freely used without needing to wait for a key and secret to be issued by a tool provider: A.  LTI Test suite ( http://lti.tools/test/tp.php , use any key with a secret of \"secret\") B.  Sample Rating app (generate a launch URL, key and secret by clicking the button at http://www.spvsoftwareproducts.com/php/rating/ - this provides access for 14 days) C.  Example integration for WordPress (generate a\nlaunch URL, key and secret by clicking the button at http://www.spvsoftwareproducts.com/php/wordpress-lti/ - this provides access\nfor 14 days) HTH .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 24, 2015, 8:24 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding an LTI tool in the demo environment",
          "Text": "Thanks for clarifying this Stephen - that confused the hell out of me.  I was viewing the XML and couldn't understand why there were no valid LTI details provided.  Agreed that Instructure have no business calling these LTI resources if they don't employ LTI to authenticate users. ~ Rodney",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 15, 2015, 9:48 PM",
          "AuthorName": "Rodney Tamblyn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=221473&course=5",
          "role": [
            "Picture of Rodney Tamblyn"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 314397,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314397",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Is it possible to integrate an external content provider with LTI?",
          "Text": "Hi, Is it possible to integrate an external content provider with LTI? For example, course users should have (3 month) access to http://journals.lww.com/pages/default.aspx ? Do we have an example for that? Thanks, Vjeko",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 29, 2015, 11:43 PM",
          "AuthorName": "Vjekoslav Hlede",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=556706&course=5",
          "role": [
            "Picture of Vjekoslav Hlede"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is it possible to integrate an external content provider with LTI?",
          "Text": "Provided the external content provider supports LTI then this should be eminently possible.  It is, for example, one of the options used by Vitalsource to connect to their eTextbook reader.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 31, 2015, 12:24 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 313740,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313740",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "LTI 2.0 Implementation",
          "Text": "Hi everybody I'm a newbie on LTI and Moodle in general. We are trying to write an external tool interface to our existing application. Ideally our app will be called by Moodle with the Lesson we want the student to take and the student will see it and at the end, upon completion the grade will be sent back to Moodle. Please bear with me, your wisdom and knowledge will be greatly appreciated. We are using Moodle 2.8, LTI 2.0 built in. We enabled Web services across the site, JSON , XML -RPC. We have been doing this off of the LTI documentation but we can't find ANY example using LTI 2.0 so this is the flow we put together so far: We go to the administration > Plugins > Activity Modules > LTI > Manage External Tool registrations and register our plugin, or try to. External tool registration Enter a name, URL , Capabilities and services then we try to register it. Moddle sends this: launch_presentation_retur... `https://moodle.oursite.com/mod/lti/registrationreturn.php?id=13&sesskey=OdACc0zCJy` lti_message_type `ToolProxyRegistrationRequest` lti_version `LTI-2p0` reg_key `jVKFt0vjGfbynE3` reg_password `kln9fCRMcL19Y58` tc_profile_url `https://moodle.oursite.com/mod/lti/services.php/profile/jVKFt0vjGfbynE3?lti_version=LTI-2p0` Then the code in the provider side calls the tc_profile_url and gets back a json with tons of information, including: Context , product_instance, capability_offered, service_offered. Our code looks for the ToolProxy.collection service and when it finds it, starts building our JSON representation for the proxy. Under the security_contract the only accepted tool service is \"ToolProxy.collection.\" Whenever we try adding  \"ToolProxy.item\" or \"Result.item\" to the tool_service or end_user_service, we end up with a bad request 400. If we omit those items, we get a 201 response as expected. But those The question is: What are we doing wrong? What are we missing? Attached are the JSONs for the Tool Consumer Profile and Proxy Representation",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2015, 12:19 AM",
          "AuthorName": "Andres Montoya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=175934&course=5",
          "role": [
            "Picture of Andres Montoya"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "I can see a couple of issues here: Only services which you have been offered in the tool consumer profile can be requested in the tool proxy. The service element in the tool proxy should be the @id value for the service being requested (the documentation appears to be in error here). For an example of an LTI 2.0 tool provider try sending a registration request to http://lti.tools/test/tp.php .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2015, 1:26 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "Thanks for your response Stephen! Got some more questions. 1. So where in Moodle can we add the Result service to the Tool Consumer Profile? The only services that we can choose when adding an external tool registration are Tool Consumer Profile, Tool Proxy, and Tool Settings. I can add the Result.autocreate and Result.sourcedId capabilities, but not the actual service itself. Do we need to create a custom service for handling grades? I assumed this was a builtin service in Moodle 2.8. If we need to, is there any helpful documentation on how to accomplish this. 2. So in the Proxy JSON, for the Proxy service... line 163 for example. I would change: \"service\": \" https://moodle.oursite.com/mod/lti/services.php/profile/jVKFt0vjGfbynE3#ToolProxy.collection \", to simply \"service\": \"tcp:ToolProxy.collection\"? Thanks again for all the help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2015, 3:19 AM",
          "AuthorName": "Andres Montoya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=175934&course=5",
          "role": [
            "Picture of Andres Montoya"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "The LTI 2 Result service has not been implemented for Moodle.  You can still send use the LTI 1.1 Basic Outcomes service by selecting it when configuring the tool.  You are right that, technically, this service should also have been declared in the tool consumer profile as being available. Yes, but if you do not use the fully qualified URI you should also declare the prefix (\"res\", or whatever you choose to use) in the @contexts section.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2015, 4:17 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "Just a quick correction to my previous message... An LTI 2 tool will automatically have support added for the Basic Outcomes Service if you offer the Result.sourcedid and Result.autocreate capabilities and these are enabled in the Tool Proxy.  As an old-fashioned LTI 1 service, it is not declared in the Tool Consumer Profile, though probably should be.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2015, 5:00 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "Thanks Stephen, we got it all working with your advice. The LTI 1 service did the trick. You wouldn't happen to know when the Result service may be implemented into Moodle would you?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 20, 2015, 10:33 AM",
          "AuthorName": "Dustin Binge",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1942428&course=5",
          "role": [
            "Picture of Dustin Binge"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "I do not know of any plans for anyone to add it to Moodle, but I can raise it with our generous Moodle/LTI 2 benefactors, Vitalsource.  Do you have a specific need for this service?  It does little more than the existing Basic Outcomes service and to some extent less.  For example, according to the spec \"each Learner is permitted at\nmost one attempt for each link\"; that is, once they have a score recorded for an LTI link they should not be allowed to launch it again, unless their score is reset.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 20, 2015, 11:15 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "No real need currently, was just interested. The Outcomes service works just fine for what we need right now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 20, 2015, 8:42 PM",
          "AuthorName": "Dustin Binge",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1942428&course=5",
          "role": [
            "Picture of Dustin Binge"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "I may be adding this functionality. Stephen, ping me when you are available.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 22, 2015, 3:16 AM",
          "AuthorName": "Michael Aumock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1956830&course=5",
          "role": [
            "Picture of Michael Aumock"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 313719,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313719",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to link a resource from an external tool?",
          "Text": "In Moodle I'd like to create an external tool where a teacher can pre-configure the resource their students actually see. For example, it is possible to do this in the Canvas LMS. I've created a GIF below that demonstrates this process: http://recordit.co/OwARpYZjKN Is it possible to do this with Moodle? The ideal process is that an Administrator sets up an external tool sitewide and then when a teacher chooses to use this external tool within a course they can select a resource to use from the external tool. At the moment it seems like the only way to achieve something similar in Moodle is for a teacher to set up a new external tool each time and enter the launch url for the resource they want to link to. Alternatively they could use an external tool that has been set up sitewide and then provide some custom parameters. However, neither of these options are a particularly good user experience.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2015, 7:38 PM",
          "AuthorName": "Stephen Young",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1955751&course=5",
          "role": [
            "Picture of Stephen Young"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to link a resource from an external tool?",
          "Text": "It sounds to me as though what you are looking for is an implementation of the LTI Content-Item message.  This is under development for Moodle but was not complete in time to make the 2.9 release - see this forum post for more details",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2015, 8:23 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to link a resource from an external tool?",
          "Text": "Ok thanks for that Stephen. Do you know for which version of Moodle this will be completed?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2015, 9:51 PM",
          "AuthorName": "Stephen Young",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1955751&course=5",
          "role": [
            "Picture of Stephen Young"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to link a resource from an external tool?",
          "Text": "There is working code available from the Tracker item which anyone is able to use.  Having missed the deadline for 2.9, I am now planning to improve the code before the next release.  But I have still to make enquiries about how the move to Moodle 3 will affect such plans.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2015, 10:29 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 293571,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=293571",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Support for LTI Content-Item message",
          "Text": "Vital Source Technologies funded the addition of LTI 2 support to Moodle 2.8.  It is now proposing to do the same to add support for the new Content-Item message type (see http://www.imsglobal.org/lti/ for details) which improves the workflow for adding links to external tools. A project page describing the work to be undertaken is being set up at https://docs.moodle.org/dev/LTI_Content_Item .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 9, 2015, 2:50 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Support for LTI Content-Item message",
          "Text": "Exciting! Look forward to seeing this! Looks like it'll do something similar to what I was hoping would happen when suggesting this - https://tracker.moodle.org/browse/MDL-39134",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2015, 10:21 PM",
          "AuthorName": "Alistair Spark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1434260&course=5",
          "role": [
            "Picture of Alistair Spark",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 313162,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313162",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External Tool embedded formatting",
          "Text": "Hi all, Does anyone know of a way to alter the look and behaviour of the embedded frame when adding an external tool (is there a php file I have to alter somewhere)? I've incorporated my own file browser and added it as an External Resource (the out of the box Moodle folder resource doesn't do everything I need to). But the file browser only takes up about a 1/2 of the frame and looks quite unprofessional, I would also like to get rid of then recessed look of the iframe. Also the page is locked so i can't scroll, meaning I can't access the bottom links in the navigation bar on the left (I am talking about the main page here....the file browser within the iframe scroll works fine) Attached is a screenshot showing what i mean. Thanks in advance.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1253832/page%20view.PNG?forcedownload=1"
          ],
          "Time": "Thursday, May 7, 2015, 8:42 AM",
          "AuthorName": "Damian Hartley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1938424&course=5",
          "role": [
            "Picture of Damian Hartley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool embedded formatting",
          "Text": "Here is a link I found related to the scroll issue. https://tracker.moodle.org/browse/MDL-33960 Seems like it has been an issue but no-one bothered to fix it. Is there a workaround for this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 7, 2015, 9:04 AM",
          "AuthorName": "Damian Hartley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1938424&course=5",
          "role": [
            "Picture of Damian Hartley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 312023,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=312023",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "User cannot Enrol in course when moodle is LTI Provider",
          "Text": "G'Day, I am working in a testing environment on D2L's Brightspace platform. We are trying to setup our courses in their system using IMS LTI. I have the LTI Provider plugin installed on my test moodle installation (LTI Provider) and have created the link and shared secret. I have entered this information into D2L's Brightspace (LTI Consumer). It then gives me the option to preview the connection. When it accesses the course from my moodle installation, instead of giving me access it takes me to an enroll options page instead, and states at the bottom 'You can not enrol yourself in this course' Is there something I need to setup in the LTI Provider plugin settings (not much info on those settings) to allow auto enrollment when acting as a tool provider? or do I need to set something in D2L's Brightspace who is the LTI Consumer in this case? P.S. - I am very new too both Moodle and Brightspace.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 17, 2015, 3:04 AM",
          "AuthorName": "Gary Collins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=85797&course=5",
          "role": [
            "Picture of Gary Collins"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 223556,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=223556",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "Accessing Khan Academy via LTI",
          "Text": "I've just successfully integrated Prulu and Piazza discussion systems into our Moodle instance very easily as they supplied the URL , consumer key and shared secret.  Does anyone know how I get this information from Khan Academy?  I can't find anything on their site. Thanks. Brian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 2, 2013, 8:03 PM",
          "AuthorName": "Brian Mulligan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20172&course=5",
          "role": [
            "Picture of Brian Mulligan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "Hello Brian. Sorry, I just tried this and I failed too. I would like to know how this is done as well. Do you have to email a contact and ask for a  key?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 11, 2013, 9:35 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "Hi Mary. I've tried posting a query here: http://www.khanacademy.org/toolkit Brian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 11, 2013, 11:19 PM",
          "AuthorName": "Brian Mulligan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20172&course=5",
          "role": [
            "Picture of Brian Mulligan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "Been exploring the use of LTI as well.  Interesting and something to be pursued, IMHO ! Found a resource worth the time: https://lti-examples.heroku.com/ KhanAcademy Search for and embed Khan Academy lessons and exercise into course material. Khan Academy focuses on short lessons on math, science, etc. Uses the embedded player so students earn points for watching videos. Config URL: https://lti-examples.heroku.com/tools/khan_academy/config.xml any key and secret will work for this app.  In other words, invent your own.  For the working example below used: sossiglti for the key and the secret. Have one working example of a Khan Academy video at: http://sos.tcea.org/ltimoodle/course/view.php?id=4 Guest access is allowed. A couple of other examples as well. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 12, 2013, 6:06 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "Hi Ken. I was working through those heroku examples myself trying to find good demos. I couldn't get the Khan academy one to work with that URL but I'll try again and if I don't , I will post back. Thanks",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, March 12, 2013, 7:01 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "Here's my External Tool Config Tool Name: KhanAcad That will open a frame where one is browsing categories and videos available.  Teacher does this … not the student. Once one drills down to a video and one selects it, you will get a notice that from this time forward, anyone selecting the link you started to build will get the video … and then it shows the URL to that video you selected. Once you return to your course, click the link just built and you'll see the video you had selected. At first, one might have to use the . xml link above to find the tool_redirect?url ... hard to guess those.  When the error page shows you copy the redirect link, go back to editing your tool and use the re-direct link in the Launch/Secure Launch URL. Yeah, I know that's not very intuitive and it's strange, but .... 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 12, 2013, 9:01 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "This was a great tool ... Have they disabled it.. I cant seem to get it working.. Still going for you? Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 2, 2015, 9:25 AM",
          "AuthorName": "Vernon Spain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133649&course=5",
          "role": [
            "Picture of Vernon Spain",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "Unless you are using Canvas there is no need to use the LTI tool to access this site - there is no LTI launch across to Khan Academy.  Just try pointing your browser to https://www.edu-apps.org/lti_public_resources/?tool_id=khan_academy to see the interface.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 6, 2015, 9:59 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "Thanks Stephen, I seem to be missing something here though. I get the main page but it no longer saves the navigated to page, just the main page even if I insert the full path. I just get the message \"You're not in a system that supports auto-inserting content, so you'll\nneed to copy and past the following code by hand in order to insert it\ninto your content.\" I set it up a year or so ago and cant find my own example. Any suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 7, 2015, 1:43 PM",
          "AuthorName": "Vernon Spain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133649&course=5",
          "role": [
            "Picture of Vernon Spain",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "I don't know what you mean by \"it no longer saves the navigated to page\".  Since this is just a normal hyperlink I don't think there will be any sense in which it will remember where you were last.  However, you can set the hyperlink to point directly to a page of interest; e.g. https://www.edu-apps.org/lti_public_resources/?tool_id=khan_academy#/khan_academy/browse/root.new-and-noteworthy Unless you have connected via Canvas there is no way of automatically returning a link to the selected resource and add it to a page in Moodle.  Instead the page gives you options for copying and pasting the URL to the resource or HTML to use to embed it within a page.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 7, 2015, 10:49 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "I found the setup that I was looking for and it still works... Too many dev sites I think this was Ken's original setup?? Settings are: Tool Name: KhanAcad Tool Base URL: https://www.edu-apps.org/tool_redirect?id=khan_academy Consumer key (copied from Ken's post above): sossiglti Shared Secret: (copied from Ken's post above): sossiglti Make sure that \"Show tool type when creating tool instances\"  is checked. When you create the tool in a course page you are offered all the directories and when you navigate to the one you want it \"saves the navigated to page\" and then that's where the students are directed to when they access the resource. Cheers,",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/blush"
          ],
          "Time": "Wednesday, April 8, 2015, 9:05 AM",
          "AuthorName": "Vernon Spain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133649&course=5",
          "role": [
            "Picture of Vernon Spain",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "Too many dev sites .... yeah, I know! http://sos.tcea.org/ltimoodle/mod/page/view.php?id=119 The above might help explain a little more but basically, there are some LTI resources that do not really require a consumer key or shared secret, but Moodle is looking for them. Noticed just now in check things on ltimoodle, certificate issue with some of the links.   That could be an expired CA cert, I hope.  Otherwise, there's a serious problem given the state of https (ssl/tls/etc) today. 'spirit of sharing', Ken",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Wednesday, April 8, 2015, 12:18 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Accessing Khan Academy via LTI",
          "Text": "Here is a site that lists other LTI apps that may be useful. https://lti-examples.heroku.com/index.html John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 12, 2013, 7:01 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 309306,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=309306",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Consumersite (not Moodle) not able to provide required Moodle fields",
          "Text": "Hi, I am using Moodle 2.6 as LTI provider (through the LTI provider plugin). The consumer site is another LMS where they implemented LTI. This consumersite does only have Fullname and no separated fields for Firstname + Lastname. On launching the link from the consumer you end up on the Moodle profile page requiring to add your Lastname. Once added you can save your profile and can find your course. The data is stored in the Moodle database on provider end. However if you launch the link from the consumer again Lastname is empty again and requires you to add this again. This keeps occuring every you launch from consumer end. I assume this is because firstname, lastname, email are required fields for Moodle? What can be done on either consumer or provider end to prevent this behaviour?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 18, 2015, 7:02 PM",
          "AuthorName": "Peter Jonker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=851251&course=5",
          "role": [
            "Picture of Peter Jonker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 282332,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=282332",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Password Protect an LTI",
          "Text": "Does any one know a way (or a hack) to password protect an LTI item? I know I can do an restricted release, but I want a password that has to be entered, like as is possible in the quiz activity. Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 26, 2015, 6:26 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Password Protect an LTI",
          "Text": "Don't know about that in LTI but not that I know. How about having a quiz with one numeric question where the answer is the password. Based on completion of the quiz the LTI will appear. In other words the LTI is restricted on completion of the quiz. Or am I being to creative now",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, February 26, 2015, 3:36 PM",
          "AuthorName": "Peter Jonker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=851251&course=5",
          "role": [
            "Picture of Peter Jonker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Password Protect an LTI",
          "Text": "hey I've had to be all about the creative hacks when it comes to LTI's! Not a bad idea, it's worth playing with--thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 26, 2015, 10:11 PM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 207626,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207626",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Maximum Grade in External Tool",
          "Text": "I'm writing an external tool I want to integrate with moodle.  When I add it in, I don't see a way to have the maximum grade be anything but 100.  There seems to have been some discussion about this in MDL-20534 , but as near as I can understand it Chris Scribner decided to leave the maximum as something that can't be set by the user.  Have I understood the conversation correctly? If the max grade can't be set in the activity, is there some other way to do it?  I can't change it in the gradebook directly and I can't seem to find any other way to do it either.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 23, 2012, 10:50 PM",
          "AuthorName": "Steve Turley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=560921&course=5",
          "role": [
            "Picture of Steve Turley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Maximum Grade in External Tool",
          "Text": "Did you ever see any progress in this? I'm running into a similar situation. Our external tool doesn't define max value for grades",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 29, 2012, 1:17 AM",
          "AuthorName": "Dan Rapoza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1390828&course=5",
          "role": [
            "Picture of Dan Rapoza"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Maximum Grade in External Tool",
          "Text": "This is an old post, but I have the same situation and can't find a solution now either. Any new ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 8, 2014, 5:54 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Maximum Grade in External Tool",
          "Text": "I have the same problem with the external tool Atomic Learning.  There doesn't seem to be a way to set a grade other than 100.  Any help with this would be most appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 21, 2014, 6:32 AM",
          "AuthorName": "Edwinna Lucyk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=556399&course=5",
          "role": [
            "Picture of Edwinna Lucyk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Maximum Grade in External Tool",
          "Text": "I submitted this to the tracker. If you agree this should be addressed you can vote for it here: https://tracker.moodle.org/browse/MDL-49161 This is a major hurdle for our institution. With the large adoption of LTI of vendors the inability for Moodle to adapt easily (or at all) is amazingly cumbersome.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 12, 2015, 11:06 PM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 280245,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=280245",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Help with External Tool and wordpress",
          "Text": "Hello. We are using Moodle 2.7 and want to link up with a college course wordpress account. Very new to this area. Is there a  'dummy' guide to the process? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 12, 2015, 8:46 PM",
          "AuthorName": "Julie Harding",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=211898&course=5",
          "role": [
            "Picture of Julie Harding"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Help with External Tool and wordpress",
          "Text": "If you want to connect your Moodle course with WordPress using LTI, then I recommend that you take a look at the integration available at http://www.spvsoftwareproducts.com/php/wordpress-lti/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 12, 2015, 9:24 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 279043,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=279043",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Error: Wrong Consumer Key",
          "Text": "Hi all, I am in a debacle here.  I have gained the credentials from chemventage and even from carnegie mellon open learning initiative for the LTI, but after I set up the LTI for each on the Moodle site and try it on any course the same message appears\" Error: wrong consumer key\" ... I tried so many ways and options but none worked... Can anyone help out? Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 25, 2015, 11:22 PM",
          "AuthorName": "Ammar Elhassan ElMerhbi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1027130&course=5",
          "role": [
            "Picture of Ammar Elhassan ElMerhbi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 272314,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=272314",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "How to authenticate moodle LTI launch request",
          "Text": "Hi, I've created a LTI tool that I'm integrating with moodle. I have created a consumer key and secret but I'm unsure how do I validate (authenticate) the launch request. Here is the raw request that I'm receiving, so I'm guessing I need to validate the oauth_signature to authenticate the request. Are there any guides or examples to help me with this? I would really appreciate any help! POST http://ltitest.cloudapp.net/launch HTTP/1.1 Host: ltitest.cloudapp.net User-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64; rv:32.0) Gecko/20100101 Firefox /32.0 Accept: text/html,application/ xhtml + xml ,application/xml;q=0.9,*/*;q=0.8",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 11, 2014, 9:14 AM",
          "AuthorName": "Sam A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1865106&course=5",
          "role": [
            "Picture of Sam A"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to authenticate moodle LTI launch request",
          "Text": "Are you creating lti tool provider? You need to use different oauth libraries in order to generate a signature from secret and the lti post message. LTI uses oauth 1.1a so you need libraries that implement oauth 1.1a corresponding to your tool language. I hope i have understood your question correctly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 11, 2014, 8:15 PM",
          "AuthorName": "vartika sinha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1821039&course=5",
          "role": [
            "Picture of vartika sinha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to authenticate moodle LTI launch request",
          "Text": "Hello . I'm looking for something. Could you tell me how you managed to get this information? :: oauth_version=1.0&oauth_nonce=d8e900f0b71e76c4b12e89681c9b5cb9&oauth_timestamp=1412987714&oauth_consumer_key=username&resource_link_id=1&resource_link_title=tool&resource_link_description=&user_id=2&roles=Instructor%2Curn%3Alti%3Asysrole%3Aims%2Flis%2FAdministrator&context_id=2&context_label=My+first+course&context_title=My+first+course&launch_presentation_locale=en&lis_result_sourcedid=%7B%22data%22%3A%7B%22instanceid%22%3A%221%22%2C%22userid%22%3A%222%22%2C%22launchid%22%3A449414780%7D%2C%22hash%22%3A%2226f6510ff6e91e1a7814805190c01a9e9d02575de135d7a1483a70626bae8782%22%7D&lis_outcome_service_url=http%3A%2F%2Fdemo.moodle.net%2Fmod%2Flti%2Fservice.php&lis_person_name_given=Admin&lis_person_name_family=User&lis_person_name_full=Admin+User&lis_person_contact_email_primary=demo%40moodle.a&ext_lms=moodle-2&tool_consumer_info_product_family_code=moodle&tool_consumer_info_version=2014051202&oauth_callback=about%3Ablank&lti_version=LTI-1p0&lti_message_type=basic-lti-launch-request&tool_consumer_instance_guid=demo.moodle.net&launch_presentation_return_url=http%3A%2F%2Fdemo.moodle.net%2Fmod%2Flti%2Freturn.php%3Fcourse%3D2%26launch_container%3D3%26instanceid%3D1&oauth_signature_method=HMAC-SHA1&oauth_signature=JmFLDbhi%2FstYEFTSNA%2F44biCQkM%3D&ext_submit=Press+to+launch+this+activity",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 9, 2014, 5:14 PM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to authenticate moodle LTI launch request",
          "Text": "Hi Alejandro, that information is posted to you via moodle. Eg... When you setup an external tool you should specify a launch URL , consumerKey and consumerSecret. Then, moodle will post all the necessary data to your launch URL as http headers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 10, 2014, 12:32 AM",
          "AuthorName": "Oliver McPhee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1887972&course=5",
          "role": [
            "Picture of Oliver McPhee"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to authenticate moodle LTI launch request",
          "Text": "Thank you very much for your answer. Now I have configured a LTI Provider and LTI Consumer. Everything works and both communicate. But what I want to know is how do you get this information ? ¿ Looking at the source code of the page? Thanks for replying",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 10, 2014, 1:14 AM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to authenticate moodle LTI launch request",
          "Text": "You should find sample code on the IMS developers site to help with this: http://developers.imsglobal.org My own approach is to use a class library to handle the validation of launch requests; I have open source libraries for both PHP ( http://www.spvsoftwareproducts.com/php/lti_tool_provider/ ) and Java ( http://www.spvsoftwareproducts.com/java/lti_tool_provider/ ), but the actual code which does the message verification is just a few lines; for example; try { $store = new LTI_OAuthDataStore($this); $ server = new OAuthServer($store); $method = new OAuthSignatureMethod_HMAC_SHA1(); $server->add_signature_method($method); $request = OAuthRequest::from_request(); $res = $server->verify_request($request); } catch (Exception $e) { // invalid request } see the class library for details of the LTI_OAuthDataStore class but it is merely a way of providing the secret for a key and allows a nonce value to be checked against those used in previous requests.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 20, 2014, 5:27 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 276496,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=276496",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "More than basic outcomes...",
          "Text": "Hi all, Using LTI, my app launches and returns a simple score. However, I want to relay further data back to moodle... as well as the score, I want to return the time spent on my tool, and some other data. I understand that LTI 1.1 (as supported by moodle) doesn't allow you to do this... however, I wondered what web services moodle has available to an external tool that would give me this capability. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 10, 2014, 12:37 AM",
          "AuthorName": "Oliver McPhee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1887972&course=5",
          "role": [
            "Picture of Oliver McPhee"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: More than basic outcomes...",
          "Text": "You are correct that LTI 1.1 only supports passing back a numeric grade between 0 and 1.  However, with LTI 2 now supported in Moodle 2.8, the result service should become available soon which supports the addition of a comment field which may meet your needs.  In addition new services for managing line items and results have just been released as a public draft (see http;// www.imsglobal.org/lti ) and also support the comment option and I would expect to be made available within the Moodle module.  If this is not sufficient for your needs, you could also consider writing a custom (bespoke) service which is secured using the LTI credentials.  In that way the same code at your end could work with other platforms which implement the same service.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 20, 2014, 5:20 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 276465,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=276465",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "obtain the authentication token and print it",
          "Text": "Hello! I'm starting to develop an app that needs LTI . I have already installed LTI . This works perfectly , and I managed to share files on a moodle to another. To further develop the application , I need to : Once installed my webService , it receives from Moodle , the request of use. then Moodle, sends the token . ** I need my webService print this token into a html file. ??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 9, 2014, 5:53 PM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 196469,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=196469",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "External Tool - passing the Username?",
          "Text": "I notice that there are controls to share or not share both the launcher's name and email. Is there a way to share the launcher's Username? Or is there a way to use the Custom Parameters to accomplish this? I have searched, but cannot find anything about the format of the Custom Parameters, how they would be entered?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 18, 2012, 6:01 AM",
          "AuthorName": "Joe Ballard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1426540&course=5",
          "role": [
            "Picture of Joe Ballard"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "May I ask why you're looking for this information?  The user_id in the post uniquely identifies the user from moodle to the LTI provider.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 12:46 AM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "Because I'm connecting to a non-LTI provider, sort of a translation layer. For the LMS's we've got working this way so far (Blackboard and D2L), the username has been one of the parameters. So maybe it's an optional LTI parameter that Moodle chooses not to expose? I was hoping to access it through the Custom Parameters, but no luck there. It's kind of a duct-tape approach until the non-LTI provider can properly add LTI support to their product.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 2:44 AM",
          "AuthorName": "Joe Ballard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1426540&course=5",
          "role": [
            "Picture of Joe Ballard"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "This falls into an area I can't speak to.  The spec (1.0 or 1.1) doesn't have a call-out for actually passing that particular piece of data along.  That said, poking around in the 2.2 LTI PHP files, extending the functionality should be pretty straight forward for someone intimate with the guts of moodle.  I would imagine that it would be similar for the pre 2.2 LTI modules as well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 9:46 PM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "I got to thinking about this a bit more, and if you are in control of the external tool, or can suggest modifications, you COULD write code that takes advange of web services and query the user data that way.  look at core_user_get_users_by_id in the web services documentation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 16, 2012, 1:15 AM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "I was wondering if you could post what the URL would look like for \"hitting the service\" To me at least, I can't seem to actually ever \"hit the api\" externally.. it works just fine from the test harness.. but since there is literally 0 documentation on using the API in existance, I can't figure out the correct params like userIds[0]=2&userIds[1]=5 etc.. i'm amazed at how non-existant docs are.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 12, 2012, 8:56 PM",
          "AuthorName": "Roger Studner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1511627&course=5",
          "role": [
            "Picture of Roger Studner"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "I'm in the same situation as Mr. Ballard as I'm also looking for ways to obtain the username for my LTI external tool. My app tool will be used by different universities so I'm looking for a simple solution that can be used on any system. Like Mr. Ballard, I've also worked on other LMS like Blackboard and Canvas, and I've managed to find ways to insert the username in the parameters. But with Moodle, I'm at a lost. I've looked into the web service proposal by Mr. Ellis but I'm somewhat cold to the idea. For one thing, I'd like to minimize the amount of extra services we'd have to run to make our LTI tool work. The other thing is that I feel that it somewhat defeats the purpose of having the LTI since it should be providing us with the basic information that we need. So, basically, are there any other ways to get the username for an LTI external tool? Any hint would be appreciated! Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 3:43 AM",
          "AuthorName": "Shi Qiao Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1489458&course=5",
          "role": [
            "Picture of Shi Qiao Yu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "hello Have any of you got how to get the username ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 9, 2014, 5:18 PM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 276290,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=276290",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle integration with Alfresco",
          "Text": "Hi All, Actually, I was trying to integrate the external repository of Alfresco with Moodle. The problem I am facing is once I have provided my local url(port) followed by /alfresco/api and then the ui asks to put in un and pwd. Once I enter the un and pwd its just reloads and nothing happens. Please help. I do not have the afresco installed in local so no question of port conflict. I would really appreciate some help. Thanks in advance Deb",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 5, 2014, 7:51 PM",
          "AuthorName": "Debjyati Seth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1816374&course=5",
          "role": [
            "Picture of Debjyati Seth"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 275989,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=275989",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Two moodle platforms do not exchange grades",
          "Text": "Hi, I'm trying to connect two instances of Moodle 2.6 through the use of LTI External tool. LTI consumer can launch quiz on the provider. However, grades are not passed to the consumer. I tried everything I found on the other discussions that might be related to the issue. Web services are enabled on both platforms. Consumer is set to accept grades from the tool. I tried to turn on Debugging to Developer, but it doesn't show any error. Does anyone have idea what else could be the problem. Thanks, Zoran",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 1, 2014, 9:43 AM",
          "AuthorName": "Zoran Jeremic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1758822&course=5",
          "role": [
            "Picture of Zoran Jeremic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 260221,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=260221",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "External tools show up in grade report",
          "Text": "Hello! I have a little problem of external tools appearing in the grade report,  despite of having the Completion Tracking not ticked. I have being using the External Tool a lot  but just to show some videos, I know this is not the best way of doing that but now it is to late to go back and re-do them all. When looking at the grade report the external tools appear, taking a lot of columns despite, as I said, chosing the \"Do not indicate activity completion\" on the external tool options.. What could I do to avoid seeing these tools on the grade report? Thank you in advance. Mercedes",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/biggrin"
          ],
          "Time": "Friday, May 16, 2014, 4:46 AM",
          "AuthorName": "Mercedes Delgado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1712280&course=5",
          "role": [
            "Picture of Mercedes Delgado"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External tools show up in grade report",
          "Text": "I forgot, the only thing I could think of as a solution for students not to see these videos on the grade report is editing  each tool by tick the hidden option. I attach the image. But this is not a solution for me as a teacher, since I want to see only the quizzes on  the report . Thank you Mercedes",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1127912/hidden_grade_item.jpg?forcedownload=1"
          ],
          "Time": "Friday, May 16, 2014, 5:01 AM",
          "AuthorName": "Mercedes Delgado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1712280&course=5",
          "role": [
            "Picture of Mercedes Delgado"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools show up in grade report",
          "Text": "Did you find a solution for this? I was running into the same issue. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 9, 2014, 12:24 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools show up in grade report",
          "Text": "I'm with Tiffany...has anyone solved this issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 11, 2014, 1:39 AM",
          "AuthorName": "Juan F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1477574&course=5",
          "role": [
            "Picture of Juan F"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools show up in grade report",
          "Text": "Completion tracking doesn't affect whether an activity shows up in the grade report. I think you might not be able to turn grades off for LTI. You can set the weight to 0 to make sure it doesn't affect grades, or hide it as you have been doing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 2, 2014, 10:50 PM",
          "AuthorName": "Elizabeth Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1413178&course=5",
          "role": [
            "Picture of Elizabeth Dalton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools show up in grade report",
          "Text": "There are a couple ways to turn off grade in an LTI tool. The first an admin can do when setting up the tool for the site. Under the privacy settings for the external tool settings page you will see the setting Accept grade from tool. This can be set to Never, Always or delegate to teacher. The site level must be set to delegate to teacher for the next process to work. When adding that external tool to a course or editing it you should see the Accept grade from the tool checkbox. If this box is unchecked then no gradebook record will be created. If this box is checked than a gradebook item will be added. See the documentation at https://docs.moodle.org/27/en/External_tool_settings",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1158955/MDS__External_Tool_Configuration.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1158955/Editing_External_Tool.png"
          ],
          "Time": "Wednesday, September 3, 2014, 3:10 AM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External tools show up in grade report",
          "Text": "This has been helpful-thanks. Follow up question: If I have configured the tool on the site wide settings to always accept the grades from the tool, then it would mean that all LTI items from this provider would appears in the gradebooks? If that is correct, then that doesn't seem to the be the case for me. I have one LTI tool that is set up at the site level to accepts grades from the tool. When I look at a course that uses those LTI items some of the items are in the gradebook and some are not, but all individual LTI activities are set to accept grades from the tool. Another oddity related to this, is I can have an LTI activity that is not in the gradebook, but once any one student student completes that activity, it then appears in the gradebook for all users. Any advise as to why this is happening or how to correct it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 11, 2014, 1:10 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 272682,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=272682",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI item gone from gradebook",
          "Text": "Hi all We are on 2.6.5. I have one course that had a graded LTI item. Last week It was visible in the course and in the gradebook and scores were being sent by the the LTI host . Today, that item is still in course, but the LTI item is no longer in the gradebook. I don't see a way to delete an LTI item from the gradebook so I looked at the settings in the course for the LTI item and everything looks as it should. I had made an export of the gradebook last week and can see it was there. I enrolled a test student in the course, had that student complete the LTI quiz, they received a grade in the LTI, but again nothing displayed in the gradebook for them or the teacher. How might this had been removed and how might I go about getting it back?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 15, 2014, 12:07 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI item gone from gradebook",
          "Text": "I figured out the cause of this, but I can't determine how to fix it. 1. I have an LTI activity in the course. 2. Change the name of the activity using either quick name change or by editing the LTI activity. 3. Save the new name change. 4. The Item is now gone from the gradebook. 5. Revert the name back to the original name. Still missing from the gradebook. My questions are: 1. How do I change the name of an LTI activity while allowing it to remain in the gradebook? 2. How do I returned previously removed LTI activity items to the gradebook? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 8, 2014, 5:39 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 274481,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=274481",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "launch presentation document target",
          "Text": "Hello, LTI\n1.0 provides an LTI parameter or basic launch data (as specified in LTI spec), launch_presentation_document_target . This field communicates the kind of\nbrowser window/frame where the TC has launched the tool. It can have three\nvalues ' frame ' ' i frame ' and ' window '. Although\nthis parameter is not under \"required\"parameters. Is there any way I\ncan make moodle to send this parameter to my LTI provider? Is there a documentation in moodle which can provide me with all the parameters moodle consumer sends to Tool Provider? Another way could be to use custom parameters, but that approch would not be correct. Thanks!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 5, 2014, 1:39 PM",
          "AuthorName": "vartika sinha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1821039&course=5",
          "role": [
            "Picture of vartika sinha"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 257199,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=257199",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Error w/ Basic Outcome service reporting missing consumer key (2.6)",
          "Text": "I'm developing a tool provider for a Moodle instance and having trouble submitting grades back to Moodle. Attempting to POST to mod/lti/service.php throws a 404 error & the message 'Consumer key is missing.' (after turning on debugging). I've verified that my tool is producing valid OAuth headers and have even tried POSTing manually generated OAuth headers (both via the 'postman' chrome extension). As far as I can tell, the submitted XML is valid, though I don't think that's ever evaluated. I'm kind of at a loss, here. Anyone have suggestions for further inquiry?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 28, 2014, 12:08 AM",
          "AuthorName": "Benjamin Riggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1771863&course=5",
          "role": [
            "Picture of Benjamin Riggs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error w/ Basic Outcome service reporting missing consumer key (2.6)",
          "Text": "It turns out the OAuth library I was using (or, rather, the OAuth library that was being used by the LTI library I was using) was the culprit. While I didn't bother to find out the exact fault (my suspicion lies with its handling of the oauth_body_hash parameter), I was able to successfully post a grade using another OAuth library.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 2, 2014, 5:24 AM",
          "AuthorName": "Benjamin Riggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1771863&course=5",
          "role": [
            "Picture of Benjamin Riggs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error w/ Basic Outcome service reporting missing consumer key (2.6)",
          "Text": "can u please tell me which library you where using and which u used finally It would be a big help.. please help me save my job.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 4, 2014, 9:18 PM",
          "AuthorName": "vartika sinha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1821039&course=5",
          "role": [
            "Picture of vartika sinha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error w/ Basic Outcome service reporting missing consumer key (2.6)",
          "Text": "It turns out that i (my provider) had to trim hash and secret before sending LTI request to moodle consumer. I was using moodle 2.7 oauth1a google java libs version 20100527",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 17, 2014, 8:19 PM",
          "AuthorName": "vartika sinha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1821039&course=5",
          "role": [
            "Picture of vartika sinha"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 236989,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=236989",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Anyone successfully integrated Feed the Me?",
          "Text": "Hi! Is there anyone out there who has successfully integrated Feed the Me in Moodle? I've tried it in Canvas (which is the officially \"supported\" LMS) and it works, but I can't figure out why it won't work in Moodle. http://www.edu-apps.org/index.html?tool=feed_the_me Best, Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 5, 2013, 9:45 PM",
          "AuthorName": "Peter Vinnervik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1293291&course=5",
          "role": [
            "Picture of Peter Vinnervik"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Anyone successfully integrated Feed the Me?",
          "Text": "Peter, I haven't tried this, but we have a fair bit of experience with other LTI services as we have Moodle working with Blackboard xpLor product. What are your steps to reproduce?  I will try it with a local copy of Moodle and see if I can get it to work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 6, 2013, 11:43 PM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Anyone successfully integrated Feed the Me?",
          "Text": "You mentioned that you \"have a fair bit of experience with other LTI services as we have Moodle working with Blackboard xpLor product\".  Do you have some information, documentation on this?  We support both Moodle and Blackboard, and we are able to send content to the 'Cloud' via xpLor, but we cannot find any information on pulling content down from the 'Cloud'.  Is there a Moodle plug-in for xpLor?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 10, 2014, 4:30 AM",
          "AuthorName": "Lori Hitchcock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1751546&course=5",
          "role": [
            "Picture of Lori Hitchcock"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Anyone successfully integrated Feed the Me?",
          "Text": "Peter, Looking at this further I believe the issue is that the url that Instructure's instructions provide is to a configuration file and not an LTI launch url. Moodle needs the LTI launch url, where as Canvas uses an xml file to configure those features for you. If you look at https://feed-the-lti.herokuapp.com/feed_the_lti.xml?course_nav=1&homework_submission=1 . You will see there are actually 2 lti launch urls one for course navigation and one for homework_feed which are specific to Canvas. If you use https://feed-the-lti.herokuapp.com/lti_launch as the lti launch url i get the following screen shot",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1030161/Alg202__feed_me_test.png"
          ],
          "Time": "Friday, September 6, 2013, 11:55 PM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Anyone successfully integrated Feed the Me?",
          "Text": "This is good news, thanks a lot Jason for the help! Works well and I'm all set to test the application with my students. Best, Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 9, 2013, 3:22 PM",
          "AuthorName": "Peter Vinnervik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1293291&course=5",
          "role": [
            "Picture of Peter Vinnervik"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 271378,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=271378",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Submission attempts sorting chronologically in gradebook and submission report",
          "Text": "I currently maintain a Moodle 2.5 site where all of the courses make extensive use of LTI applications for mastery exercises and quizzing. It's very complex and cannot be created as a quiz object due to the interactivity required (questions involve building model electrical circuits where components used and desired outcome are dynamically generated). The challenge I am having is how the submission scores display in the grade book (/moodle/grade/report/grader/index.php?id=[COURSE_ID]) as confirmed by the LTI submissions table (/moodle/mod/lti/grade.php?id=[LTI_ID]&itemnumber=0&userid=[USER_ID]). The submissions table sorts results chronologically by submission date. You can click on the headers to sort other ways, I know, but I only use this page to confirm that the grades displayed in the grade book to also display the latest chronological result. We sometimes have 100+ such assessments in a course of 200+ students, so checking individual submission reports is not possible as they might have 10+ attempts each. Is there anyway to configure the site to display the highest score for a score submit via LTI instead of chronologically? A stakeholder maintains that it used to work this way, but I have my doubts.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 2, 2014, 11:10 PM",
          "AuthorName": "Adrian M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1859787&course=5",
          "role": [
            "Picture of Adrian M"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 271109,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=271109",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Unable to launch LTI course via external tool",
          "Text": "Hi, I have configured the LTI course on moodles using external tool with setting as launch url, consumer key, shared secret key and Launch Container :Embed,without blocks But, I fail to launch the LTI course. Following is the error I am receiving Invalid JSON response from server : {\"code\":\"failure\",\"data\":[{},null,\"d|e\"]} Can you please share what possible reason I might be facing ?? I may be missing some setting as well..I belive Regards, Priti",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 30, 2014, 3:38 PM",
          "AuthorName": "priti s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1858002&course=5",
          "role": [
            "Picture of priti s"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unable to launch LTI course via external tool",
          "Text": "If I uncheck all the privacy setting in external tool configuration , I am getting following error \"LTI Launch is not initialised properly...\" Is it not configured properly in moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 30, 2014, 7:30 PM",
          "AuthorName": "priti s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1858002&course=5",
          "role": [
            "Picture of priti s"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 269407,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=269407",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle integration with Unity3D",
          "Text": "Hi !!! I'm starting an educational game project with Unity3D which is necessary make an integration with Moodle! I just know that in some way is possible do it with SCORM , but i have tried without any success... I wanna know if is also possible by Moodle Web Services... Have someone already tried it or something similar?? I'll be grateful for any help!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 12, 2014, 3:57 AM",
          "AuthorName": "Eider Carlos Paulino Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1845636&course=5",
          "role": [
            "Picture of Eider Carlos Paulino Silva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 267891,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=267891",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Launching external site from LTI Source plugin",
          "Text": "I'm very new to Moodle plugin development, so please bear with me a bit. Recently, I've started development on an LTI source plugin, which adds a new External Tool subtype to the Activity chooser, using the get_types hook.  This ticket was invaluable with helping me get everything set up: So, my next steps would have been to use the add_instance_hook to provide a custom form for the user to configure the tool instance.  However, upon further reading of the above thread it appears that add_instance_hook receives no reference to the form (it actually receives no arguments at all), and instead it is expected that the hook is used to redirect the user an external site. After the redirect, I imagine the workflow would be (and please let me know if my assumptions are wrong here): User sets configuration values in the external site External site sends a custom request back to the mod/lti plugin (service.php) with relevant configuration values The LTI source plugin consumes the custom request, and finishes configuring the instance. I've been able to wrap my head around this so far, but the one piece that is still missing is how the initial request gets to the external site in the first place.  All the examples I've seen are mysteriously quiet about this What seems to make the most sense to me is that I would send an LTI launch request to the external site/tool provider within the add_instance_hook, since that would give the external site the proper context . However, I haven't seen any documentation about how to make such requests programmatically. I'm assuming that if the administrator has already configured the plugin with the launch URL to my provider, I can just query the details from the database , but how to perform the actual launch? Or am I just way off base here, and the expectation was only for add_instance_hook to trigger a simple 302 redirect?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, August 27, 2014, 11:55 AM",
          "AuthorName": "Kyril Revels",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1833532&course=5",
          "role": [
            "Picture of Kyril Revels"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 267104,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=267104",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "grades from LTI provider not being sent to Moodle gradebook",
          "Text": "Hi all We are running Moodle 2.6 We are trying to integrate an LTI and accept grades from the LTI provider. Currently the grades are not being pushed to our Moodle gradebook. The LTI is set up to accept grades from tool Always. When a student takes an LTi quiz our server logs indicate the following: Aug 15 10:33:21 arp4 httpd: test.test.gov 54.87.182.28 - - [15/Aug/2014:10:33:20 -0500] \"POST /mod/lti/service.php HTTP/1.1\" 404 12421 \"-\" \"OAuth gem v0.4.7\" Also when I enable debugging and take the quiz as a student, receive this error: Undefined offset: 1 in /usr/docroot/moodle/mod/lti/lib.php on line 471 Any ideas as to how I begin to track down this issue? The providers content is on an http while our moodle is set to https. Could this have a connection? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 18, 2014, 11:37 PM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: grades from LTI provider not being sent to Moodle gradebook",
          "Text": "Do you have web services enabled site wide?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 19, 2014, 5:42 PM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: grades from LTI provider not being sent to Moodle gradebook",
          "Text": "Hi Francois Yes I have web services enabled Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 19, 2014, 9:00 PM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: grades from LTI provider not being sent to Moodle gradebook",
          "Text": "And the cron is running? Grade transfer from provider to consumer is a cron task.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 19, 2014, 10:09 PM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: grades from LTI provider not being sent to Moodle gradebook",
          "Text": "Cron is running with no errors. Also I have Accept grades from the tool set as Always at the site wide LTI configuration.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 20, 2014, 10:19 PM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: grades from LTI provider not being sent to Moodle gradebook",
          "Text": "We did a bunch of testing today. Long story short, the issue seems to lie with the oauth signature. When oauth was disabled the score successfully passed to the gradebook. We continue to test and I continue to scour the forums for other users who have had similar experiences",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, August 21, 2014, 2:00 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 266721,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=266721",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup/Restore Consumer Key and Shared Secret",
          "Text": "Hi, I see there is a tracker ticket ( MDL-36580 ) open for this but I'm looking for a work around or temporary solution. I work for a large post secondary and we use a middle-ware app to clone(backup/restore) courses to create one for each section we offer. One of our courses is using a lot of LTI activities and the Consumer Key and Shared Secret don't get backed up. In the ticket it mentions this is done for security purposes. We are not to concern about security as the backups never leave our servers. Could someone please let me know how I can add these to fields to the backup? Storing them in plain text would be better then editing each activity a pasting it in a over and over. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 15, 2014, 1:44 AM",
          "AuthorName": "Shaun T",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558732&course=5",
          "role": [
            "Picture of Shaun T"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup/Restore Consumer Key and Shared Secret",
          "Text": "If you want to change this in your site, just edit this list https://github.com/moodle/moodle/blob/master/mod/lti/backup/moodle2/backup_lti_stepslib.php#L64 in your copy of the code. Add \n```text\n'resourcekey',\n'password',\n```\n somewhere. I don't think it is necessary to change the restore code. Please test this yourself before relying on it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 19, 2014, 4:51 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 263942,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=263942",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "External Tool (LTI) not working in Internet Explorer",
          "Text": "I have a Moodle 2.6.2 running being the LTI provider (using the LTI Provider plugin). My consumer Moodle is 2.6+ and there we use the External tool activity. This works fine using Chrome and other browsers. Using Internet Explorer 9, 10 and 11 it does not work. The link of the External Tool can be clicked and seems to start but ends up showing the login screen. I have experimented with authentication 'No login' and 'Manual' but both do not work. Have deleted all LTI accounts and started from consumer again. I can see that an account is being created on the provider site so some communication is being done. Anyone who has experienced the same and can provide a solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 15, 2014, 7:07 PM",
          "AuthorName": "Peter Jonker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=851251&course=5",
          "role": [
            "Picture of Peter Jonker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool (LTI) not working in Internet Explorer",
          "Text": "If you \"can see that an account is being created on the provider site\" then I suspect the issue is not with the LTI launch but with the security policy in your browser refusing to accept the cookie from the tool provider site when it tries to establish a login session.  Does the same behaviour occur when the tool provider is opened in a new window/tab?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 20, 2014, 5:36 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool (LTI) not working in Internet Explorer",
          "Text": "Stephen, Opening the External Tool in a new window/tab pulled the trick. That was every helpful! If I want to stick to embedded I think adjusting my security policy in the browser would help. Have you got any directions on what to look for to make that work? Thanks again! Peter Jonker",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 28, 2014, 10:53 PM",
          "AuthorName": "Peter Jonker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=851251&course=5",
          "role": [
            "Picture of Peter Jonker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool (LTI) not working in Internet Explorer",
          "Text": "I think this blog post may help you: http://www.celtic-project.org/Project_blog/2012/11/A_Learning_Experience_P3P_and If not, let me know.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 29, 2014, 2:12 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 214596,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=214596",
      "NoOfResponses": 22,
      "ResponsesInList": [
        {
          "Title": "Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "I made two stepsheets and tutorials on how to setup Moodle and Wordpress to work together using LTI. http://blog.dearbornschools.org/webmaster/2012/10/25/wordpress-and-moodle-lti-stepsheet-and-tutorial-for-setup/ Hope you find this useful.  It is such an easy to use tool once you get it setup properly.  This also includes an iFrame Security fix which will allow you to embed it into a moodle page by using a wordpress plugin created by Darcy W. Christ.  A link to the plugin is in the Site Admin Stepsheet.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 25, 2012, 10:01 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "Thanks! I have added a link to this in the docs. http://docs.moodle.org/en/External_tool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 25, 2012, 11:26 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "Thank you Mary.  You spelled my name wrong.  You added an extra  'g'.  It should be Kenniburg. Hopefully others will want to experiment with Moodle LTI. This is really neat stuff.  It really is easy to setup too once you get the hang of it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 26, 2012, 1:03 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "Sorry - was in a hurry about to go out to a school event Corrected now although don't forget anyone can edit Moodle docs so you were welcome to beat me to it or even add more information if you feel it will be  helpful. I look forward to getting the hang of this LTI stuff, which I haven't yet.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, October 26, 2012, 5:13 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "I tried modifying the Doc Page and it wouldn't accept my username and password from Moodle.org.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 26, 2012, 8:52 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "Ah -the other day apparently there was a problem logging in to the docs (it was ok if you were already logged in as I am for 30 days at a time) I believe it is fixed now so possibly you just tried on the day it decided not to work Hopefully another time you try it should accept your details.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, October 26, 2012, 9:41 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "Maybe it was that. I just changed my password for my account and it seemed to fix it.  Apparently I have been grandfathered in and had a very simple password.  Once I was brought up to the new security settings it worked.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 26, 2012, 10:36 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "Hi Chris >Click “Save and Return to Course”. >You can now click on the link in your course and it will open a new >window with your new blog . You will also notice that you are already >logged into your new blog. > Students will also be automatically logged in as well > Nope. Students won't be automatically logged in as well - instead, they log in as my Wordpress Admin account (argh!). I followed as best I could your instructions to setup the Moodle-Wordpress LTI at http://webmaster.dearbornschools.org/files/2012/10/Moodle-and-Wordpress-LTI-Tutorial.pdf . However, I end up with (1) Moodle automatically logging into the Wordpress with the Wordpress' admin account, when I login as a Moodle admin (that's FINE) (2)  Moodle automatically logging into the Wordpress with the Wordpress' admin account, EVEN THOUGH I log in first as a student inside Moodle. (that's NOT okay!) For example, no matter what Moodle user account I use to log into my Moodle site, I always end up with this Wordpress screen (which shows my Wordpress admin avatar and account settings)! What could I be doing wrong? Frankie Kam P.S., the instruction at http://sourceforge.net/apps/mediawiki/learningapps/index.php?title=LTI4Wordpress which says \"1. Download Moodle http://wordpress.org/download/ \" should be read as \"1. Download Wordpress...\" instead of \"Download Moodle...\"",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1009711/why.jpg"
          ],
          "Time": "Sunday, July 14, 2013, 10:18 AM",
          "AuthorName": "Frankie Kam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=831135&course=5",
          "role": [
            "Picture of Frankie Kam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "A quick thought, it could be a cookie problem, try closing the browser and starting a fresh session.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 15, 2013, 6:36 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "HI All I FINALLY got the Moodle-Wordpress integration to work. Yippee!!! Why I think it didn't work earlier: (1) Previously I used a CPanel to setup my Wordpress site. This time I setup my WordPress site manually . This involved manually downloading the WordPress wordpress-3.5.2.tar.gz file; ftp 'ing it to my webserver; using the CPanel's MySQL Database Wizard to create the My SQL database, MySQL username and password. (2) I created a folder named blogs.dir inside the wp-content folder (3) Somewhere at the end of the process, it still wasn't showing me a single sign on. So, I cleared all caches via \"Site Administration | Development | Purge all caches\". Bingo! That did the trick. It took me 2 days to to get this right. A titanic battle indeed. Finally!!! At least I get to feast my eyes on the screenshot below... ...and the screenshot below... If you notice (squint if you have to), in the upper right corner of both screenshots, the Moodle username and the Wordpress account names are the SAME! This is proof that Single Sign On (SSO) and login between my Moodle coursepage and my locally installed Wordpress is working. The username \"frankie\" is a Course Manager with full posting rights (edit, delete, add, etc.) whereas the username \"me\" is a Student account with limited posting rights (add, view). I am tempted to blog about this with full screenshots, step-by-step instructions and a video walkthrough, but that'll take like a minimum of 3 hours. That will have to wait. Regards Frankie Kam Links I used in this 'battle': http://webmaster.dearbornschools.org/files/2012/10/Moodle-and-Wordpress-LTI-Tutorial.pdf http://codex.wordpress.org/Installing_WordPress#Famous_5-Minute_Install http://wpcandy.com/teaches/how-to-enable-multisite/#.UeQPG-dkNqc http://wp.tutsplus.com/tutorials/using-wordpress-multisite-a-network-of-websites-at-your-fingertips/",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/biggrin",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1010076/works1.jpg",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1010076/works2.jpg"
          ],
          "Time": "Tuesday, July 16, 2013, 12:37 AM",
          "AuthorName": "Frankie Kam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=831135&course=5",
          "role": [
            "Picture of Frankie Kam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "Thre're issues with link http://webmaster.dearbornschools.org/files/2012/10/Moodle-and-Wordpress-LTI-Tutorial.pdf Can you share it at another address? TIA",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 4, 2013, 9:53 PM",
          "AuthorName": "Giuseppe Lancellotti",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1701324&course=5",
          "role": [
            "Picture of Giuseppe Lancellotti"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "http://webmaster.dearbornschools.org/2012/10/25/wordpress-and-moodle-lti-stepsheet-and-tutorial-for-setup/ This should work.  We recently rebuilt our wordpress server and had all kinds of issues.  Scroll down the page.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2013, 1:28 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "That's ok, tx a lot",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/cool"
          ],
          "Time": "Wednesday, October 16, 2013, 5:59 AM",
          "AuthorName": "Giuseppe Lancellotti",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1701324&course=5",
          "role": [
            "Picture of Giuseppe Lancellotti"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "Did anyone get it working with moodle 2.6?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 5, 2014, 5:20 AM",
          "AuthorName": "mo ollek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=128484&course=5",
          "role": [
            "Picture of mo ollek"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "We just upgraded and it appears to still work.  It only relies on LTI to connect.  Once it connects and does the handshake, Wordpress takes over.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 6, 2014, 11:25 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "will you please tell all steps in detail ..i don't know anything much more about moodle and wordpress ..so plz help me Thanks in advance .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2014, 10:07 PM",
          "AuthorName": "alisha kumar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1771544&course=5",
          "role": [
            "Picture of alisha kumar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "Hello Alisha, If you have a specific issue I'd be happy to help.  The tutorials were written a few years ago so some things have changed but not drastically.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 26, 2014, 8:30 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "How do you get it to pass the classroom name to wordpress? My setup uses the consumer key and moodle course id as the name to the blog. ie: sd58blogs-610-138 Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 3, 2014, 1:19 AM",
          "AuthorName": "mo ollek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=128484&course=5",
          "role": [
            "Picture of mo ollek"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "I am not sure Mo.  My setup does the same.  Sending the classroom name might be problematic as you might have 2 or more blogs from a single course as well as creating long urls based off moodle course names.  It also allows you to keep track of blogs by consumer key if you end up running multiple connections to your wordpress site. We use a plugin to automatically list the names of all the blogs on a wordpress page.  This does have a more \"friendly\" name.  It is just the URL that is not friendly. For our use case we really only want them using the blog via Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 7, 2014, 9:40 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "Hi, Chris. I was wondering if the plugin could be used to allow access via Moodle to existing private Wordpress pages, so that Wordpress could function as something of an object repository. I followed your directions, and believe I have everything configured correctly, and the Moodle user is transferred successfully to Wordpress, but I always get a \"Page Not Found\" in Wordpress rather than the page I point to, whether the page is set to public or private. I was wondering if I may have missed something in the settings, or whether what I'm trying to do is even possible. Thanks for any help and insight you can provide!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 11, 2014, 5:27 AM",
          "AuthorName": "Lein Shory",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=833584&course=5",
          "role": [
            "Picture of Lein Shory"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "If you do not have success with this, there is an alternative LTI connector for WordPress available from http://www.spvsoftwareproducts.com/php/wordpress-lti/ which perhaps might get you to where you want to be.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 11, 2014, 12:37 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress + Moodle LTI Setup and Tutorial",
          "Text": "I would explore using the SHare Key feature of this plugin: http://www.spvsoftwareproducts.com/php/wordpress-lti/ Since writing my tutorial we have switched to this plugin. http://www.spvsoftwareproducts.com/php/wordpress-lti/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 23, 2014, 12:37 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 263260,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=263260",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Proposal: improve robustness of LTI service.php",
          "Text": "Hi all, I am trying to create an LTI provider with grade reporting. I ran into a problem using Moodle 2.7 where I kept getting an error about \"Consumer key is missing.\", using the Python oauth2 library. Several other posts on this forum (from 2012 to 2014) also mention issues with this kind of error, but do not specify what language / OAuth / LTI library they are using. I tracked this down to Moodle's mod/lti/service.php and would like to propose a fix to make the LTI grade reporting more robust. On line 38, a check on the headers is performed: if ($name === 'Authorization') { <do something> } This was failing for me because between my OAuth library and Moodle, the header names were getting lowercased !! Hence no \"Authorization\" header found, no Consumer key, etc. I suspect others are experiencing the same error. I would propose something like the following to make this more robust and less frustrating: if (strtolower($name) === 'authorization') { <do something> }",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1140836/lowercased%20headers.png?forcedownload=1"
          ],
          "Time": "Thursday, July 3, 2014, 4:40 AM",
          "AuthorName": "Bob Jones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1810598&course=5",
          "role": [
            "Picture of Bob Jones"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Proposal: improve robustness of LTI service.php",
          "Text": "Whilst your suggestion would no doubt solve the issue, it seems that it is a workaround to a library that is not conforming to the HTTP protocol (which capitalises the name of the header).  A better solution for the wider community might be to get the error fixed in the Python library.  Which one are you using (name and version)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 3, 2014, 6:56 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: improve robustness of LTI service.php",
          "Text": "Sorry, I tried to make this post look all pretty and stuff, but Moodle kept on rejecting it as spam . Probably good reason for it... I am not an expert, but my understanding of the RFC spec is that field names are case-insentive, per both a reading of the spec and a thread on StackOverflow. Field values it seems can be case sensitive. So it seems like an update to Moodle would be the more spec-appropriate change? This problem affects multiple spots in the LTI implementation, as I discovered yesterday (i.e. in checking the body hash). In case it does matter, I am using the Python oauth2 library, v 0.7.0, which uses Python's httplib2 as it's web request engine. stackoverflow.com/questions/5258977/are-http-headers-case-sensitive http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 4, 2014, 1:18 AM",
          "AuthorName": "Bob Jones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1810598&course=5",
          "role": [
            "Picture of Bob Jones"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 262421,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262421",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "external database enrollment",
          "Text": "hiii is there any suggestions for auto grouping when using external database enrollment plugin ??? any ideas will be highly appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 19, 2014, 3:40 PM",
          "AuthorName": "Ahmed Nobani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1736295&course=5",
          "role": [
            "Picture of Ahmed Nobani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 262337,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262337",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External Tool igoring embed option on mobile",
          "Text": "We are using External Tool module on Moodle 2.5, and we've observed the following inconsistency: An external tool with embed option works properly on desktop browsers, with the content showing inside of the Moodle theme, and the URL on the page is still that of Moodle. However, the same link behaves differently on mobile browsers.  The link would launch as if it were redirected, with the launch URL of the LTI tool showing in the address bar instead of our Moodle's URL, and the content filling the entire window.  This happened on Safari and Chrome on the iPad Air, and the \"default web browser\" and Chrome on Galaxy Tab 10 and Galaxy Nexus. We tested the browsers using just a generic page with iframe and object, and they all work as wanted, with the iframe content staying inside the iframe Has anyone experienced this?  Is there anything in Moodle's External Tool LTI implementation that could have caused this? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 18, 2014, 9:56 AM",
          "AuthorName": "Toan Tran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=938509&course=5",
          "role": [
            "Picture of Toan Tran"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 262039,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262039",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Ideas on getting video into Moodle from LTI tool?",
          "Text": "I develop & maintain a tool that connects to custom software running on students' devices that acquires videos of them performing tasks using training instruments. They are currently accessible to the instructors via the LTI tool. Ideally, I would like some mechanism where the videos (or, rather their AWS S3 link for which Moodle has the proper credentials) would be automatically submitted for grading to the appropriate Moodle assignment. I'm not familiar enough with Moodle's architecture to know what the best approach would be. I'm assuming I'll be writing a plugin of some sort. Additionally, is assignment something that the upcoming LTI 2.0 (or 1.2) support would enable? If not, could it? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 13, 2014, 2:30 AM",
          "AuthorName": "Benjamin Riggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1771863&course=5",
          "role": [
            "Picture of Benjamin Riggs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 261959,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=261959",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External Tool plugin reverted back to default setting",
          "Text": "Hi Everyone, We are running Moodle 2.2.2+ on RHEL5. We have 3 LTI integrations configured in \"External Tool\" plugin(VoiceThread, MagnaCampus, and Examity SSO). We have several courses using them. Each LTI integration is configured to be \"Show tool type when creating tool instances\", so user can choose it in \"External tool type\" during its configuration. It has been working fine, but yesterday all \"External Tool\" activities in different courses reverted back to its default setting \"Automatic, based on Launch URL \" for unknown reason and as a result none of the External tool links are working in those courses. Have anybody seen it before or have any suggestion or comment about it. Thanks in advance. Ethan",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1135063/external%20tool.jpg?forcedownload=1"
          ],
          "Time": "Thursday, June 12, 2014, 2:26 AM",
          "AuthorName": "Ethan Kwan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1803275&course=5",
          "role": [
            "Picture of Ethan Kwan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 258003,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258003",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Add LTI Tool to Activity Chooser",
          "Text": "Greetings, I am still very new to Moodle, so please bare with me if I am going down the wrong path here. The goal is to make it possible to configure an External Tool Type to be displayed in a course's Activity Chooser (attached screen shots below). Once selected from the Activity Chooser, the user would then land on the external tool's edit instance settings page (/course/modedit.php?update=87) as if they had first selecting the standard \"External Tool\" option from the Activity Chooser, selected the tool from the external tool type select box, clicked \"save and return back to course\", then navigated to the tool's instance settings page. The approach that I'm inclined to take is to: - add a showinchooser field to the lti_type table - modify /mod/lti/edit_form.php to add a checkbox for showinchooser - add a function lti_get_types_for_chooser_add_instance() in /mod/lti/locallib.php based on lti_get_types_for_add_instance() to return results that have showinchooser = 1 - override core_course_renderer::course_modchooser() to add a call to lti_get_types_for_chooser_add_instance() The advantage to this approach is that the changes to core are minimal (all within /mod/lti). The disadvantage is that it requires modification to any other theme in which it is desired to display available external tools. Ideally, it would be nice to have these tools be seen as the rest of the modules listed within the Activity Chooser, I'm just not seeing a way to accomplish that cleanly. Thoughts and/or suggestions? Thanks! Dominic My home -> Site administration -> Plugins -> Activity modules -> Manage activities -> LTI Administration My home -> test_course",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1118709/add_lti_tool.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1118709/lti_tool_chooser.png"
          ],
          "Time": "Wednesday, April 9, 2014, 5:21 AM",
          "AuthorName": "Dominic Hanzely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1714851&course=5",
          "role": [
            "Picture of Dominic Hanzely"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Add LTI Tool to Activity Chooser",
          "Text": "And, uh, please bear with my request to bare with me... awkward!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/blush"
          ],
          "Time": "Wednesday, April 9, 2014, 9:29 AM",
          "AuthorName": "Dominic Hanzely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1714851&course=5",
          "role": [
            "Picture of Dominic Hanzely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add LTI Tool to Activity Chooser",
          "Text": "The BasicLTI plugin does this, when you add an external tool using it it displays the new tool in the list of activities the tutor can choose from.  I prefer this approach of adding to the list of activities as it makes it easy for the teachers to find rather than them having to look for it in a drop down list within the External Tool configuration page. https://code.google.com/p/basiclti4moodle/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 9, 2014, 3:50 PM",
          "AuthorName": "John Tutchings",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=811334&course=5",
          "role": [
            "Picture of John Tutchings"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add LTI Tool to Activity Chooser",
          "Text": "Thanks, John.  Looks like it's been a while since any work has been done on that plugin and there are some warning/error messages when running in 2.6, though nothing that prevents it from working. It is definitely a good source for inspiration, and I see that it accomplishes the desired functionality by adding subtypes to the module, so this will certainly keep me busy for a bit. Newbie question, though I intend to do my own experimenting with this idea, do you think that creating a subplugin for the LTI module could be a viable option? I don't fully understand the plugin system yet, so I've got some reading and tinkering to do. Thanks again, Dominic",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 11, 2014, 2:23 AM",
          "AuthorName": "Dominic Hanzely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1714851&course=5",
          "role": [
            "Picture of Dominic Hanzely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add LTI Tool to Activity Chooser",
          "Text": "I would definitely avoid using the basiclti4moodle if you are using a supported version of Moodle, as that has not received an update in nearly 2 years. The good news is that as of Moodle 2.6, the External Tool plugin should be able to support all of your sub-plugin needs.  The related ticket is MDL-36224 , which actually gives an example of a dummy sub-plugin that you can install under mod/lti/source to have it display in the Activity Picker.  You can also launch directly into the LTI Provider upon selecting the activity by tying into the add_instance_hook .  We'll be adding much more detailed information to the External Tool documentation within the next few weeks, but in the meantime if you have questions please feel free to private message me as I don't always see Forum posts.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 16, 2014, 1:15 AM",
          "AuthorName": "Kris Stokking",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=669060&course=5",
          "role": [
            "Picture of Kris Stokking"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add LTI Tool to Activity Chooser",
          "Text": "That's exactly what I was looking for in regards to sub-plugins. I'm going to check this out and will report back to this post. Thank you, sir!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 19, 2014, 2:48 AM",
          "AuthorName": "Dominic Hanzely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1714851&course=5",
          "role": [
            "Picture of Dominic Hanzely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add LTI Tool to Activity Chooser",
          "Text": "Just to followup on this conversation, the use of subplugins in LTI has been documented at http://docs.moodle.org/dev/External_tool . Thanks, Kris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 17, 2014, 4:11 AM",
          "AuthorName": "Kris Stokking",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=669060&course=5",
          "role": [
            "Picture of Kris Stokking"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 258100,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258100",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Using LTI at Course Level",
          "Text": "Hi, I would like to know if it's possible to provide a course using LTI. I assume it is, because I can save as a Course under \"LTI Provider: list of tools provided>add>Tool to be provided\" and Moodle Docs says \" This is a local plugin for making Moodle a LTI provider tool. It can be use to provide access to full courses or activities from remote systems (other Moodle installations, Sakai, any LMS LTI consumer compliant)\". I have the LTI Provider plugin, and a client who has their own Moodle and wants to use my course. I have added my Course to my LTI Provider \"list of tools provided\", but I cannot figure out how to provide this course for client's Moodle site. I can't find where in \"Add a new course\" I should put the LTI information. Any advice is gratefully accepted and appreciated. Thank you. NB I'm using Moodle 2.5 and my client is using 2.6.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 10, 2014, 2:27 PM",
          "AuthorName": "Tish Kirkland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=750277&course=5",
          "role": [
            "Picture of Tish Kirkland"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using LTI at Course Level",
          "Text": "If you used the Local LTI plugin on your site you should get 3 items:  A url, a key, and a password.  (Forgive me if the words do not match up exactly I am doing this from memory). Your partner must first create a course normally. Then go to Add Activity and select the \"external tool\".  In the settings for the external tool it will ask for the key and shared secret as well as the Launch URL .  Again this is found on the Local LTI settings when you shared your entire course. Once she plugs in all the information for the external tool just save and return to course.  There should now be a single link.  Click on that.  It should now display your entire course. This is a very simplified version of the process.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 12, 2014, 1:28 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using LTI at Course Level",
          "Text": "Great! Thank you. It worked! Next question... when setting up LTI, I selected to hide the blocks, headers, and footers. This worked, but now my original site has no headers, footers, or blocks - including Admin block. I'm at a bit of a loss now because I can't navigate anywhere on my site. Even if I click on 'Home' in the top horizontal navigation bar it just takes me back to the same course.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, April 12, 2014, 2:44 PM",
          "AuthorName": "Tish Kirkland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=750277&course=5",
          "role": [
            "Picture of Tish Kirkland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using LTI at Course Level",
          "Text": "I think I have worked this out: when logged into the client's site with my Tool open on that site, I was automatically logged in as my role on that site (Non-Editing Teacher), rather than my usual role of Admin on my site. This also affected my role on my own website, which was open in another tab. Fortunately I was able to log in as my normal Admin role on another computer and edit my Tool's settings from there. From this I have learned: It's a good idea to keep a second browser open (e.g. Firefox & Safari) and be logged into each (Tool through client's site and own website) using different roles I highly recommend not ticking the \"hide blocks\" option when creating your Tool unless you have done the above or can access your site from another computer Thanks for your help and support. I'm sure I will have more questions as I delve more into this.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Saturday, April 12, 2014, 7:13 PM",
          "AuthorName": "Tish Kirkland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=750277&course=5",
          "role": [
            "Picture of Tish Kirkland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using LTI at Course Level",
          "Text": "Glad you worked it out.  The one area I had not been able to tackle fully was the passing of grades between sites.  I am not sure if that fully works or not.  I assume it does. We mainly use LTI just for SSO to other activities such as Wordpress or Chemvantage.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 14, 2014, 8:19 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using LTI at Course Level",
          "Text": "As described in the posts above, the application of LTI specification provides course sharing as an activity within another course. I think it is useful to use this specification to create a system that allows you to share courses of a Moodle platform A to appear in the Moodle platform B, probably within a category \"Remote Courses\". You also want to support the display and storage of course data in a transparent manner between this two Moodles, as if the course is really provided by Moodle platform B. I would like to ask if someone is already working in this direction or if you have any idea on how to proceed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 30, 2014, 9:28 PM",
          "AuthorName": "Mirko Marras",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1767129&course=5",
          "role": [
            "Picture of Mirko Marras"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 259039,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=259039",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Grades not transmitted",
          "Text": "Here is the picture. LTI provider is running on Moolde 2.6 (course with quizzes). External tool is on Moodle 2.4 So from Moodle 2.4, you consume a course in 2.6. All is set to accept grades from provider, which is set to send grades. It's just not consistantly running. I launched cron manually on both sides. Something seems broken. Any idea where to look? François",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 26, 2014, 4:32 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grades not transmitted",
          "Text": "You did turn Web services on both ends so the grade books can talk to each other?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 26, 2014, 5:54 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transmitted",
          "Text": "That was it, I think. Web services were not enabled on provider side. I should have read all the Provider documentation. It says that Web services must be enabled on both sides. However, on the consumer side, Web services is not enabled, and I still get a grade. Thank you John for your quick reply.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 26, 2014, 11:05 PM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 258414,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258414",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI  Source plugins",
          "Text": "Can someone either explain what the purpose of the LTI Source plugins directory is and how to use it (preferably an example source plugin to look at), or point me to somewhere that this is already explained? Still trying to wrap my brain around the plugin system in general, so this subplugin business is even more confusing to me. Thanks! Dominic",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 15, 2014, 10:43 PM",
          "AuthorName": "Dominic Hanzely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1714851&course=5",
          "role": [
            "Picture of Dominic Hanzely"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI  Source plugins",
          "Text": "For anybody who is also curious about this: https://moodle.org/mod/forum/discuss.php?d=258003#p1120408",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 19, 2014, 2:55 AM",
          "AuthorName": "Dominic Hanzely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1714851&course=5",
          "role": [
            "Picture of Dominic Hanzely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 256259,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=256259",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "No base URL field for teacher to complete",
          "Text": "If I set up an external tool as an administrator, (Khan Academy in my case), I can set the configuration URL for the XML . Great. But when I then try to add a Khan Academy video to a course as a teacher, I'm only offered an area to paste the launch URL, which of course isn't the same as the XML configuration URL, so Moodle doesn't recognize the tool as having already been configured. Next to the launch URL field, it says, \" Tool configuration not found for this URL.\" What am I missing? How do I tell Moodle that I'm using the Khan Academy configuration? In the case of Khan Academy, I don't actually need public or secret keys, so I tried to continue on and just enter the launch URL given to me by Khan Academy. When I save and then try to view it, the Khan video doesn't display. I just see a Moodle course page with only my header and no blocks. No content or Khan video. What more do I need to do to make the video appear? Kimber",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 14, 2014, 6:07 AM",
          "AuthorName": "Kimber Warden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1044317&course=5",
          "role": [
            "Picture of Kimber Warden"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: No base URL field for teacher to complete",
          "Text": "I am having this same problem.  Were you able to figure anything out?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 2, 2014, 2:47 AM",
          "AuthorName": "Abby Tate",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1630948&course=5",
          "role": [
            "Picture of Abby Tate"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 256616,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=256616",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Minimise LTI bandwidth",
          "Text": "Hi, We want to connect a course on our MOODLE to another moodle using LTI. I am worried about the bandwith this might take up Is there any way of storing/caching a copy of the course on the other moodle so they don't keep on taking up bandwidth, but they get the course updates? rgds Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2014, 1:27 PM",
          "AuthorName": "Paul Wakelam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1607568&course=5",
          "role": [
            "Picture of Paul Wakelam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 256021,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=256021",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Integrate web page using LTI",
          "Text": "Hi all, I have a question about the integration of the web page that developed using ASP.Net in the Moodle 2.5 using LTI. How could I generate a consumer key and shared secret for that web page?? Is there any useful ling to help me about that?? Thanx for your support.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 11, 2014, 11:14 PM",
          "AuthorName": "Yusra Mohammed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1704495&course=5",
          "role": [
            "Picture of Yusra Mohammed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 218277,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=218277",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Accept grades from the tool: Always",
          "Text": "As far as I can tell this option is not working when selected in the site administration options.  Although individual activities are displayed with the checkbox checked (and greyed out) no item is created in the gradebook and no grades are returned. The workaround seems to be to delegate this decision to the teacher, then the option appears in each activity and it can be checked and grades do return OK. I'm running Moodle 2.2.3 (build 20120615) Is this a known issue?  I searched JIRA and couldn't see any mention of it. Similarly, you don't seem to be able to get open in New Window to work when it is set as the site-wide policy (but it can be overridden more easily in the activity).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 18, 2012, 10:01 PM",
          "AuthorName": "Steve Lay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=314223&course=5",
          "role": [
            "Picture of Steve Lay"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Accept grades from the tool: Always",
          "Text": "Thank you for posting this. I don't think I would have figured out this setup if it were not for this post.  I was having the same issue and found that I needed to select the Accept grades from this tool checkbox from the activity setup in the course vs. the external tool configuration.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 6, 2014, 4:55 AM",
          "AuthorName": "Monica Defendorf",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1765175&course=5",
          "role": [
            "Picture of Monica Defendorf"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 255245,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=255245",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External tool LTI usage tracking",
          "Text": "We have been using the External Tool LTI to connect up to an e-book supplier and we have just come to have a look at how much the links have been used and it would appear that it does not record its usage.  I have tried getting the information via Reports in the particular courses and when I select the activity I get the following message. Using Reports\\Course participation Using Reports\\Logs it just shows when it was added or updated. Using Reports\\Activity report it just gives a '-' for the number of views. We are Moodle 2.5.3 Has anyone else come across this and is this something that should be submitted as a bug?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1107115/externaltoolreport.png"
          ],
          "Time": "Thursday, February 27, 2014, 11:34 PM",
          "AuthorName": "John Tutchings",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=811334&course=5",
          "role": [
            "Picture of John Tutchings"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 254549,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=254549",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How could I get the Consumer Key of the tools",
          "Text": "Hi all, I have just started using the LTI tools in my Moodle 2.5 in the XAMPP environment. How we could get the configuration information of the tool Consumer Key and Shared Secret. Also, Is there any materials explain that. Thanx in advanced",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 18, 2014, 10:48 PM",
          "AuthorName": "Yusra Mohammed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1704495&course=5",
          "role": [
            "Picture of Yusra Mohammed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "إعادة: How could I get the Consumer Key of the tools",
          "Text": "This error when I use the External tool. Although I provide the wordpress URL Any help!!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1104469/Screenshot%202014-02-19%2012.12.52.png?forcedownload=1"
          ],
          "Time": "Wednesday, February 19, 2014, 4:21 PM",
          "AuthorName": "Yusra Mohammed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1704495&course=5",
          "role": [
            "Picture of Yusra Mohammed"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 252173,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=252173",
      "NoOfResponses": 14,
      "ResponsesInList": [
        {
          "Title": "Problem in LTI",
          "Text": "I m having some problem in LTI.This is an image of error message.Can anyone help??",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1093380/erroru.png"
          ],
          "Time": "Thursday, January 16, 2014, 4:21 PM",
          "AuthorName": "Chirag Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1743083&course=5",
          "role": [
            "Picture of Chirag Patel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "What version of Moodle are you using? Is there a php debugging message printed out when you turn debugging on? What LTI tool are you trying to connect to? Can you print out the configuration for the LTI tool you are trying to connect to?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2014, 8:43 AM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "https://moodle.org/plugins/view.php?plugin=local_ltiprovider I got lti from this link and my moodle is 2.3.1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2014, 4:17 PM",
          "AuthorName": "Chirag Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1743083&course=5",
          "role": [
            "Picture of Chirag Patel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "What LTI provider are you trying load LTI objects from? (I should have been more specific) Or is your goal to make Moodle and LTI Provider? Your title talks about external tool and you are linking to the LTI provider plugin, which is different from the Moodle core external tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 18, 2014, 12:25 AM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "I am trying to implement external tool through lti in moodle!!I think this is the method,I am trying to generate secret shared key! and it is giving me this error.So if you can help me!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 20, 2014, 12:34 PM",
          "AuthorName": "Chirag Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1743083&course=5",
          "role": [
            "Picture of Chirag Patel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "LTI works in two ways, the first is a provider.  The provider is the source of the content you wish to use, the second is the consumer or Moodle that will display the content. Moodle can do both, in order for Moodle to be the provider you need to install the LTI plugin from the Moodle.org sit.  You also need to as admin allow the Moodle provider to allow embedding  Site admin >> HTTP security    .  Also enable webservices  Site admin >> Advanced features , this allows the provider and consumer to exchange information such as grades and attendance... . At this point you should be able on a Moodle provider select a course and a object in the course and generate the URL and secrete.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 20, 2014, 4:05 PM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "\" Site admin >> Advanced features\" which features that must be checked ? thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 12, 2014, 4:06 AM",
          "AuthorName": "omnia badr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1722277&course=5",
          "role": [
            "Picture of omnia badr"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "Can you share a screen shot of the admin External Tools configuration screen minus the consumer key and shared secret. From the code that error has to do with not finding the course associated with the activity in the database . More information is needed than the screen shot of the error to determine what the actual issue is. I am assuming the course exists in the database, this may be an invalid assumption. I am trying to determine what LTI provider you are trying to connect with to see if I can replicate the issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 21, 2014, 10:20 PM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "first of all  frame embedding is allowed in my system. Then I am just trying to learn lti provider in model. and new to moodle. now I have created different courses and uploading screenshots of each step.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1095469/up1.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1095469/up2.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1095469/up3.png",
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1095469/up4.png"
          ],
          "Time": "Wednesday, January 22, 2014, 5:54 PM",
          "AuthorName": "Chirag Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1743083&course=5",
          "role": [
            "Picture of Chirag Patel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "Chirag, This is great information. This is an issue with the LTI Provider plugin not the External tools LTI plugin, they are different as John stated. The next steps would be to turn on debugging and reload the page. To enable debugging you need to be logged in as the site administrator and then click on the Site administration group under the settings block then the development link under site administration. Finally click on the debugging link. On the debugging page select developer next to Debugging messages and check the display debugging messages. Click the save changes button at the bottom of the page. Then navigate back to the LTI provider page and try to add a provider again. See if there is any PHP message that is printed out and paste it into the forum if there is. If there isn't an error or php warning then you may need to contact the author of the plugin Juan directly ( https://moodle.org/plugins/stats.php?plugin=local_ltiprovider ). I have experience with the External Tools LTI plugin but I have not used the LTI provider plugin Juan created and don't have to Moodle 2.3 site to test with either.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 23, 2014, 4:18 AM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "i am providing debugg info. Debug info: SELECT * FROM {course} WHERE id IS NULL [array ( )] Error code: invalidrecord Stack trace: line 1312 of \\lib\\dml\\moodle_database.php: dml_missing_record_exception thrown line 1288 of \\lib\\dml\\moodle_database.php: call to moodle_database->get_record_select() line 232 of \\lib\\modinfolib.php: call to moodle_database->get_record() line 1201 of \\lib\\modinfolib.php: call to course_modinfo->__construct() line 47 of \\local\\ltiprovider\\edit_form.php: call to get_fast_modinfo() line 173 of \\lib\\formslib.php: call to edit_form->definition() line 102 of \\local\\ltiprovider\\edit.php: call to moodleform->moodleform()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 23, 2014, 1:14 PM",
          "AuthorName": "Chirag Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1743083&course=5",
          "role": [
            "Picture of Chirag Patel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "I would definitely contact the maintainer. It looks like a bug where the add button is not passing the courseid. Can you tell me what the url is in the browser's url bar before you have clicked the add button? The one that has ltiprovider/index.php. I want to see what is after the ? if there is one in the url bar. I would also make sure your on the most recent version of the plugin for Moodle 2.3, looks like 2.3.1 which I am assuming that you are on, but it is always good to check the basics.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 24, 2014, 8:12 AM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "http://localhost/moodle/local/ltiprovider/index.php?courseid=2 and yes i have moodle 2.3.1 and i have also downloaded the most recent version of the plugin.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 24, 2014, 2:46 PM",
          "AuthorName": "Chirag Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1743083&course=5",
          "role": [
            "Picture of Chirag Patel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in LTI",
          "Text": "Looking at the code it looks like everything is correct. There must be a bug I am not seeing. I would contact the lti provider plugin developer they may be able to provide more insight.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 25, 2014, 3:09 AM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 253173,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=253173",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to access Moodle courses with 3rd Party any non-Moodle site?",
          "Text": "Hello, I would like to know how to get all the Moodle courses from 3rd party any non-Moodle site. As I am using the \"LTI provider\" plugin, but unclear about the use of this plugin. Can anybody please guide with full details or demo example step by step how to use this plugin & External tool in Moodle? I looked out many forums but could not get any expected result yet. Somehow at one stage, I got this message \"Sorry, this activity is currently hidden\". What does it mean? How to make visible the activity through External tool? Please help. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 30, 2014, 6:46 PM",
          "AuthorName": "Sharad Garach",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1712254&course=5",
          "role": [
            "Picture of Sharad Garach"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 245133,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=245133",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Any user login to moodle gives administratative previlages in Word Press.",
          "Text": "Hello I used the plugins like External tools basicLTI to integrate moodle and word press SSO. Thanks to the community, I could use SSO for moodle +WP Problem is when I login to moodle as admin and click on external tool WP, I get loging as administrator in wordpress.Thats great!!! But when any other user logging in moodle and clicks on WP, they get administrators previlages in WP. And It shows all the users as the administrator's name in the username.... It does not take email also.... Ideally the user filed that are there in moodle must be carried into WP. How to achive this??? Thanks Umesh",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1063034/wp.jpg?forcedownload=1"
          ],
          "Time": "Wednesday, December 4, 2013, 4:01 PM",
          "AuthorName": "umesh chavan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=52275&course=5",
          "role": [
            "Picture of umesh chavan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Any user login to moodle gives administratative previlages in Word Press.",
          "Text": "ohhhkk I did not notice earlier that its a basic toolbar on the left appears to every user with limited options. but then why its taking moodle amin's name as username for all the users?.. why it is not taking email ID of that user?.... so if in future the user wants to login the same username and password dirctly on WP, will it work?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 4, 2013, 4:51 PM",
          "AuthorName": "umesh chavan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=52275&course=5",
          "role": [
            "Picture of umesh chavan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Any user login to moodle gives administratative previlages in Word Press.",
          "Text": "In my experience with the LTI plugins Teachers = WP Admin role Students = WP Author Role Not sure about your naming convention but with every LTI setup I have done the only way to properly access Wordpress is via the Moodle Activity.  I couldn't login to wordpress from wordpress.  Login always flows from Moodle to Wordpress.  That is why the LTI connection exists.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 15, 2014, 4:40 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 251784,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=251784",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "API for adding external tools",
          "Text": "Hello, I would like to automatically create an external tool link in Moodle to an LTI tool (as opposed to using the UI).  I don't see an API to do this.  Do you have any suggestions on how to achieve this? Thanks, Ryan Nelson",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 11, 2014, 4:56 AM",
          "AuthorName": "Ryan Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1741029&course=5",
          "role": [
            "Picture of Ryan Nelson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: API for adding external tools",
          "Text": "Hi Ryan, Why do you NOT want to use the UI in Moodle for LTI?  It would seem at a glance reinventing the wheel to have to write more code for that, that already exists. Keep in mind the UI as well as the presentation also, reports back, IE Grades, who was there ... .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 11, 2014, 3:42 PM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: API for adding external tools",
          "Text": "Thanks, John. We are writing some software that will integrate with several different LMS's, of which Moodle is only one.  Customers of our product should not need to interact with the LMS directly in order to create external tools. The only way I've seen that looks possible is to directly invoke the modedit.php script which appears to create the external tool link, but that's really a brittle workaround.  Alternatively, I suppose a custom-written plugin might be able to do this as well, but would also be a lot of work.  I was simply wondering if there was something I'd missed.  Maybe an exposed API that would do this? Ryan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 13, 2014, 10:47 PM",
          "AuthorName": "Ryan Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1741029&course=5",
          "role": [
            "Picture of Ryan Nelson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 251336,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=251336",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Debugging LTI",
          "Text": "Hi, I'm trying to understand what Moodle is passing to an external provider. Any suggestions to understand (see) what data is being passed? Many thanks & happy new year! rtb",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 4, 2014, 12:28 AM",
          "AuthorName": "R.T. Brown",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=452553&course=5",
          "role": [
            "Picture of R.T. Brown"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Debugging LTI",
          "Text": "Everything goes via the user's web browser, so a tool like Firebug , or Chrome developer tools Network tab will show you all the data.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2014, 9:07 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 246044,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=246044",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "oauth_problem: signature_invalid",
          "Text": "Hi All, I have installed moodle locally,I have configured external tool with proper shared secret and consumer key as a LTI provider,In my application ,I am using Oauth validation ,It is working fine.One of our client is using moodle rooms their ,I have configured same thing but in our application we are getting exception like oauth_problem: signature_invalid oauth_signature_method: HMAC-SHA1 Please suggest me why our application is getting this exception ? Thanks in advance Gajendra S V",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 18, 2013, 9:43 PM",
          "AuthorName": "Gajendra S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1690164&course=5",
          "role": [
            "Picture of Gajendra S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 244347,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=244347",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Need some code change",
          "Text": "Hi, I am newbee in moodle and I need to modify some code as per my requirement. There are 4 options in launch container in external tools: Default Embed Embed without block New window I wish to use \"Embed without block\" but it should open in new window not in same window. For doing this what I need to do means where and how I add \"_blank\" in \"Embed without block\"??? Please help me asap, its bit urgent. Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 22, 2013, 6:13 PM",
          "AuthorName": "Aditya Dubay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1191309&course=5",
          "role": [
            "Picture of Aditya Dubay"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Need some code change",
          "Text": "Hey Aditya, You can see some detail regarding \"open behavior\" in \"mod/lti/lib.php\" (about lin 215) --------------- if ($launchcontainer == LTI_LAUNCH_CONTAINER_WINDOW) { $launchurl = new moodle_url('/mod/lti/launch.php', array('id' => $coursemodule->id)); $info->onclick = \"window.open('\" . $launchurl->out(false) . \"', 'lti'); return false;\"; } --------------- I'm working on that now, but if you take a look to generated html (when a course list is rendered), you can found that \"view.php\" is used instead \"launch.php\" to load in current page without block. So, in a primary test, I commented the \"if\" block and used \"view.php\" like that: -------------------- // if ($launchcontainer == LTI_LAUNCH_CONTAINER_WINDOW) { // $launchurl = new moodle_url('/mod/lti/launch.php', array('id' => $coursemodule->id)); // $info->onclick = \"window.open('\" . $launchurl->out(false) . \"', 'lti'); return false;\"; // } $launchurl = new moodle_url('/mod/lti/view.php', array('id' => $coursemodule->id)); $info->onclick = \"window.open('\" . $launchurl->out(false) . \"', 'lti'); return false;\"; -------------------- NOTE: This update, loads all external tool content in a new window (but just if external tool \"Launch Container\" has \"Embed\" or \"Embed without Blocks\" selected). Maybe this can help you to start seeing more deep in the source. If I have other news I'll comment here. Regards DS",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 22, 2013, 11:20 PM",
          "AuthorName": "debo sotnas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1724979&course=5",
          "role": [
            "Picture of debo sotnas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Need some code change",
          "Text": "Hi Debo, Thanks I try this today",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, November 23, 2013, 12:46 PM",
          "AuthorName": "Aditya Dubay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1191309&course=5",
          "role": [
            "Picture of Aditya Dubay"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Need some code change",
          "Text": "Hi Debo, After your suggestion I try to working on view.php or lti. in Launch container window I found this: if ( $launchcontainer == LTI_LAUNCH_CONTAINER_WINDOW ) { echo \"<script language=\\\" javascript \\\">//<![CDATA[\\n\"; echo \"window.open('launch.php?id=\".$cm->id.\"','lti');\"; echo \"//]]\\n\"; echo \"</script>\\n\"; echo \"<p>\".get_string(\"basiclti_in_new_window\", \"lti\").\"</p>\\n\"; I am not technical person so I wish to know how we can do the same echo with if ($launchcontainer == LTI_LAUNCH_CONTAINER_EMBED_NO_BLOCKS) { If we can then we are able to open \"Embed\" and \"Embed no block\" both in new window without disturbing long core code of module.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 23, 2013, 2:51 PM",
          "AuthorName": "Aditya Dubay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1191309&course=5",
          "role": [
            "Picture of Aditya Dubay"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Need some code change",
          "Text": "Hi Aditya, Sorry by delay. After I've tried on my Moodle installation, you can follow these steps: 1) add define const (mod/lit/locallib.php - lin 64) define('LTI_LAUNCH_CONTAINER_WINDOW_NO_BLOCKS', 6); 2) add windows-no-blocks to $launchoptions array with correspond text string (mod/lti/mod_form.php - lin 122) $launchoptions[LTI_LAUNCH_CONTAINER_WINDOW_NO_BLOCKS] = \"New window without blocks\"; 3) add code behavior to open view.php (moodle window without blocks - mod/lti/view.php - lin 125) }elseif( $launchcontainer == LTI_LAUNCH_CONTAINER_WINDOW_NO_BLOCKS && (!isset($_GET['loadok']) || (isset($_GET['loadok']) && $_GET['loadok'] != \"ok\"))){ echo \"<script language=\\\"javascript\\\">//<![CDATA[\\n\"; echo \"window.open('view.php?id=\".$cm->id.\"&loadok=ok','lti');\"; echo \"//]]\\n\"; echo \"</script>\\n\"; echo \"<p>New window without blocks</p>\\n\"; 4) update load popup behavior to remove blocks (mod/lti/view.php - lin 84), and change from this: if ($launchcontainer == LTI_LAUNCH_CONTAINER_EMBED_NO_BLOCKS) { to this: if ($launchcontainer == LTI_LAUNCH_CONTAINER_EMBED_NO_BLOCKS || ($launchcontainer == LTI_LAUNCH_CONTAINER_WINDOW_NO_BLOCKS && (isset($_GET['loadok']) && $_GET['loadok'] == \"ok\")) ) { 5) add load popup behavior (mod/lti/lib.php lin 219) }else if ($launchcontainer == LTI_LAUNCH_CONTAINER_WINDOW_NO_BLOCKS) { $launchurl = new moodle_url('/mod/lti/view.php', array('id' => $coursemodule->id)); $info->onclick = \"window.open('\" . $launchurl->out(false) . \"', 'lti'); return false;\"; I think it can work, please let me know anything Kind regards DS",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 26, 2013, 3:35 AM",
          "AuthorName": "debo sotnas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1724979&course=5",
          "role": [
            "Picture of debo sotnas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Need some code change",
          "Text": "Thanks for help I will try this...",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, November 28, 2013, 2:03 PM",
          "AuthorName": "Aditya Dubay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1191309&course=5",
          "role": [
            "Picture of Aditya Dubay"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 244089,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=244089",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Call for External Tool with specific parameters",
          "Text": "Hi All, When a new Activity (with External Tool) is created and I trying to launch, I get some errors related with LTI/OAuth parameters (signature, lti_version, etc). I tried two things: 1) Set my LTI/OAuth parameters in \"Custom parameters\" textarea (when I creating/editing External Tool) 2) Set my LTI/OAuth parameters with \"Launch URL \" (as query string) After each of those, I capture the network traffic via Firebug and: 1) If I set my LTI/OAuth parameters in \"Custom parameters\" textarea (when I creating/editing External Tool) my parameters appear with a \"custom_\" prefix (and all LTI/OAuth parameters are created by moodle instead use my values). 2) In other case, If I set my LTI parameters with \"Launch URL\" my parameters override the moodle values (as I expected/need - without \"custom_\" prefix as expected) but these parameters goes through query string (GET) Questions: - How I can override those Moodle \"default\" values using mines and send through Form Data (not query string) ? - Is that possible, or I need change my approach to solve this ? - Some recommendation in that case? Thanks in advance DS.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 20, 2013, 2:20 AM",
          "AuthorName": "debo sotnas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1724979&course=5",
          "role": [
            "Picture of debo sotnas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 232060,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232060",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Wordpress LTI Provider found (hard to google)",
          "Text": "Wordpress LTI Provider Hey, after reading a lot of articles and trying many tutorials, I finally found a great plugin which works beautifully. To avoid any future pain, I share it here: http://www.spvsoftwareproducts.com/php/wordpress-lti/ Now I'm ready to use wordpress with moodle next term. Hope to find a good LTI plugin for mediawiki soon. Jeremy@Victoria, Asutralia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 6, 2013, 7:46 AM",
          "AuthorName": "jeremy chen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=39562&course=5",
          "role": [
            "Picture of jeremy chen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Wordpress LTI Provider found (hard to google)",
          "Text": "http://sourceforge.net/apps/mediawiki/learningapps/index.php?title=LTI4Wordpress I use this one.  ANd I posted step sheets on how to install and use it. http://webmaster.dearbornschools.org/2012/10/25/wordpress-and-moodle-lti-stepsheet-and-tutorial-for-setup/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2013, 8:32 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress LTI Provider found (hard to google)",
          "Text": "I was just reviewing the plugin you posted and I think it works well too.  Nice find.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2013, 10:42 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 242538,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=242538",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle and PressBooks = Collaborative ePublishing Tool",
          "Text": "Just found this great plugin for wordpress multisite called Pressbooks.  Transforms wordpress into a epublishing tool where multiple people can add chapters and author a book. Using wordpress and Moodle LTI you can sync up your students and teachers via Moodle and have them automatically added as authors over on the Pressbook install with each new instance of the external tool creating a brand new book. http://webmaster.dearbornschools.org/2013/10/15/open-source-collaborative-ebook-authoring-tool-based-on-wordpress/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2013, 3:59 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 241503,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=241503",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Extending the functionality of Moodle using service oriented architecture (SOA)",
          "Text": "Hi every body, I am Master student and I am doing my research on how to extend the services and functionality of the e-learning application using service oriented architecture (SOA) . I choose MOODLE to be my area of research. However, I have alot of missing information about that. I want to study the main structure of MOODLE to know how to build my proposed architecture. My idea is to extend some software tools that some course need it which are known as virtual lab. Example, Computer Science software tools such as compiler, simulator , UML CASE , ... etc. So please, I need any ideas, information or comments about this topic. Thanx",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 9, 2013, 2:17 AM",
          "AuthorName": "Yusra Mohammed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1704495&course=5",
          "role": [
            "Picture of Yusra Mohammed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Extending the functionality of Moodle using service oriented architecture (SOA)",
          "Text": "http://www.aosabook.org/en/moodle.html describes the Moodle architecture. To connect other tools into any LMS using web services, you should use IMS LTI. There is a webinar linked here that gives an overview. http://www.imsglobal.org/webinarseries/ (There may also be more recent webinars available via Google.) Not that there are already add-only for Moodle like Virtual Programming Lab, and CodeRunner.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 9, 2013, 5:39 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "إعادة: Re: Extending the functionality of Moodle using service oriented architecture (SOA)",
          "Text": "Thanx Tim, But How could I affect the Moodle when I extending its architecture?? I mean which module or part I could study it more to link it to the middleware that has the defined services? I want to build the proposed architecture of my research, could you give me hint about that, please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 9, 2013, 12:36 PM",
          "AuthorName": "Yusra Mohammed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1704495&course=5",
          "role": [
            "Picture of Yusra Mohammed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: إعادة: Re: Extending the functionality of Moodle using service oriented architecture (SOA)",
          "Text": "Stop thinking about architecture. If you want to extend Moodle, start thinking \"What tool would make things better for teachers teacher or learners learning?\" Then, when you know what you want to build, you can think \"What is the best way to build that?\". Starting form \"I want an architecture and middleware are web-services\" fundamentally misunderstanding of the purpose of software development. Sorry to be harsh.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 9, 2013, 3:53 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "إعادة: Re: إعادة: Re: Extending the functionality of Moodle using service oriented architecture (SOA)",
          "Text": "No problem Mr.Tim feel free to discuss anything. We are here to learn. You are right about that points. I am studying extending the functionality of computer science courses and there are a lot. And the best way is to use service oriented instead of component based, it comes with a lot of benefits and that what I analysis in my research \"Is it possible to provide a such easy way of integration \"Technicality or usability \"? I will focus on your point. I know it will be difficult but I hope to get good result of that. Thanx a lot",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 10, 2013, 12:33 PM",
          "AuthorName": "Yusra Mohammed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1704495&course=5",
          "role": [
            "Picture of Yusra Mohammed"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 239699,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=239699",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Provider not sending email notifications",
          "Text": "Hello, We run several Moodles on the same server . We created a course on one Moodle for all teachers (like a hub) using LTI provider. We mostly use forums and they all get there fine. The problem is that none of them seem to receive email notifications of forum posts. We have their emails sent through, they are subscribed, but no notification. As admin, I roam through Mnet and I receive them no problem. I run the cron manually and I can see that they are processed. Any idea? Moodle 2.4.3 Lti Provider 2011121706",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 24, 2013, 9:39 PM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider not sending email notifications",
          "Text": "Self-reply We found it. Since LTI users have the nologin auth method, email notification don't get sent. This patch should fix it: https://github.com/jleyva/moodle-local_ltiprovider/pull/14/files",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 10, 2013, 4:27 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 240565,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=240565",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External Tool ignores lti_types_config.launchcontainer",
          "Text": "When adding a new External Tool to a course that is based off of a site-configured External Tool Type, the activity module tool ignores the parent tool's launchcontainer setting from lti_types_config.launchcontainer. Is this a bug?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2013, 1:28 AM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool ignores lti_types_config.launchcontainer",
          "Text": "Looks like it is a bug so I created a tracker issue and attached a fix MDL-42067",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2013, 2:40 AM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 240420,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=240420",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Search users using username instead of email",
          "Text": "Hi, Please guide me, how to change the default search option of moodle 2.5. I want to search users (teachers/students) using \"Username\" while enrolling them in any course instead of \"Name\" and \"Email\" Currently moodle 2.5 search is based on \"Name\" and \"Email\" only, it also includes the \"Username\" as well. Kindly guide me where i can make changes in moodle to search users via Username instead of name and email.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/1043478/username.png?forcedownload=1"
          ],
          "Time": "Monday, September 30, 2013, 2:01 AM",
          "AuthorName": "Khurram Ahmad",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1678098&course=5",
          "role": [
            "Picture of Khurram Ahmad"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 237856,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=237856",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Issues opening External Tool Link using Firefox",
          "Text": "We are running Moodle 2.5.1 (Build: 20130815) and are experiencing issues with External Tool links opening in firefox .   An external tool with parameters to open a URL on one of our media servers works fine in Chrome and IE - the new window is launched and the content from the desired URL is visible.  In firefox however the new window is opened and the URL appears but the content of the page is completely blank. Has anyone else experienced and resolved a similar issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 12, 2013, 4:14 AM",
          "AuthorName": "Shelley McLaughlin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1672331&course=5",
          "role": [
            "Picture of Shelley McLaughlin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Issues opening External Tool Link using Firefox",
          "Text": "Could it be related to the external tool itself? What kind of media (you mentionned media server ) are you trying to display through external tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2013, 9:13 PM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 235284,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=235284",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Problem with LTI Basic Outcomes Service on Moodle 2.5",
          "Text": "Hi, I am working with a LTI Tool provider compliant with LTI 1.1 (passed IMS Conformance test) that works just fine with Moodle 2.4 (and other LMS). We are using outcome services to access the gradebook. I am testing it out with Moodle 2.5 but the response I am getting each time I try to set a grade or even read the current mark I am getting a 404 Error. I would say that is the way the lis_result_sourcedid is handled but I am not sure. Does someone here knows if anything changed on the LTI component for processing outcomes? I was wondering if anyone else is experiencing this issue. The weird thing to me is that it just happen with Moodle 2.5 Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 23, 2013, 5:43 AM",
          "AuthorName": "Jesus Federico",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370546&course=5",
          "role": [
            "Picture of Jesus Federico",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problem with LTI Basic Outcomes Service on Moodle 2.5",
          "Text": "There are no changes in mod/lti which you can see by comparing stable branches in moodle repository https://github.com/moodle/moodle/compare/MOODLE_24_STABLE...MOODLE_25_STABLE So error is somewhere else. I would suggest to turn on error level to maximum in both PHP.ini and Moodle dev settings on your server and watch what appears there. Also there are some serious errors still present in mod/lti that can break execution of LTI service. For example in mod/lti/OAuthBody.php there are exceptions being thrown without proper namespace prefix. That immediatly cuts the execution in case of an error and you have no clue what is happening. That is exactly what happens in handleOAuthBodyPOST function. So all throw new Exception lines should be replaced with throw new \\ Exception .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2013, 2:07 AM",
          "AuthorName": "Darko Miletić",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=431153&course=5",
          "role": [
            "Picture of Darko Miletić",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 224662,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=224662",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Passing fields like username and idnumber and course idnumber?",
          "Text": "So what's the likelihood that the External Tool(LTI) will be expanded to also pass the user's username and idnumber and pass the course idnumber (often used for enterprise enrollment)? I'm looking at an LTI tool coming from one of our application providers and they've integrated with Blackboard and Canvas but are getting stuck with moodle since the moodle LTI implementation doesn't pass username - the course idnumber would make the tool even more functional. Would creating a tracker item help move this forward?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 16, 2013, 5:21 AM",
          "AuthorName": "Scott Krajewski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=40000&course=5",
          "role": [
            "Picture of Scott Krajewski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing fields like username and idnumber and course idnumber?",
          "Text": "We are also wondering about the possibility of different 'fields' being passed to the External Tool (LTI), especially username. I'm not very technical... is this tracker item going to help address this query? https://tracker.moodle.org/browse/MDL-36224 Or is a new tracker item required? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 12, 2013, 9:07 AM",
          "AuthorName": "Astrid Davine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1329919&course=5",
          "role": [
            "Picture of Astrid Davine"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 233986,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233986",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "License Management using (LTI) Moodle",
          "Text": "I have configured LTI Plugin in x & y moodle application and  suppose i add 30 user of y application in x moodle application for course details show purpose.so it cannot show 31 user to display course content of y application this is a totally license management kind of think suppose i provide license of two user but it cannot display screen third no user. so i want to know moodle is manage license management kind of think. Please help me for this problem as soon as possible.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2013, 8:35 PM",
          "AuthorName": "Ashish Panchiwala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1491358&course=5",
          "role": [
            "Picture of Ashish Panchiwala"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 233985,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233985",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course wise Display",
          "Text": "Hi, I have configured LTI plugin in Moodle x And y application.now i configure y moodle application in x application(Using shared key and consumer key) and i want to display only course part of y application not hall screen of y application in x application frame(Body Part) so what should i do for that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2013, 8:24 PM",
          "AuthorName": "Ashish Panchiwala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1491358&course=5",
          "role": [
            "Picture of Ashish Panchiwala"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 233252,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233252",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "A bunch of bug-fixes going in to the External tool module",
          "Text": "Between Mark Nielsen and me it has been a good week for getting LTI issues fixed: https://tracker.moodle.org/issues/?jql=Key%20IN%28MDL-40867%2CMDL-40863%2CMDL-40857%2CMDL-40005%2CMDL-36399%29 There is one issue in particular that I wanted to hilight, becuase it is a user-visible change. At the moment, if you set an LTI link ot open in a new window, what happens is Student clicks link. Course page is replaced by an almost blank page saying \"Your thing should open in a new window\". That page then tries to open the new window, but is highly likely to be blocked by your pop-up blocker. But, hopefully the external tool opens in a new Window. After MDL-40867 is fixed, it will work like this: Student clicks link. New window (or tab) opens containing the external tool. The old browser window which contains the course page does not change. I hope everyone agrees that this new behaviour is jsut better, and there is no issue in making this change on the Moodle stable branches. If you disagree, please comment in the bug.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2013, 7:33 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 233067,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233067",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External Tool Activity Ignores Permissions in 2.4+",
          "Text": "LTI in Moodle core 2.4.4+ (Build: 20130606) is ignoring permission settings. Specific example: Set either an Inheret permission or a course override permission for mod/lti:view to Prevent or Prohibit for a role This permission is ignored and the role is still able to View. This has been tested with Moodle version 2.4.4+ (Build: 20130606). Can someone please verify and open a tracker for this issue. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 3:20 AM",
          "AuthorName": "Alan Hare",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1519520&course=5",
          "role": [
            "Picture of Alan Hare"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool Activity Ignores Permissions in 2.4+",
          "Text": "Found MDL-40854 created by Tim Hunt and discussion thread here . Thank you!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, July 25, 2013, 12:45 AM",
          "AuthorName": "Alan Hare",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1519520&course=5",
          "role": [
            "Picture of Alan Hare"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 226790,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=226790",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "permissions on LTI tool",
          "Text": "Is there a way to restrict users from accessing the LTI tool link in a Moodle course either by roles or some other way? we are using moodle 2.2.1.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 17, 2013, 12:45 AM",
          "AuthorName": "Mr. Marc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119727&course=5",
          "role": [
            "Picture of Mr. Marc"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: permissions on LTI tool",
          "Text": "Hi, AFAIK , the management of the LTI tool permissions is the same that the permission management for a standard tool. Have a look to the management tool permissions. No new mechanism is specific for LTI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 17, 2013, 4:04 PM",
          "AuthorName": "Carlos Ors",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1589527&course=5",
          "role": [
            "Picture of Carlos Ors"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: permissions on LTI tool",
          "Text": "thank you carlos for the reply, I have created a clone of studernt role and prohbited the new role to anything to do with LTI tool and assigned that role to a user and the user can still access the link for the tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 18, 2013, 2:33 AM",
          "AuthorName": "Mr. Marc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119727&course=5",
          "role": [
            "Picture of Mr. Marc"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: permissions on LTI tool",
          "Text": "Hi again. I'm not an expert in moodle permission but afaik, the permission management of an activity should be managed regardless it is a normal tool or an external tool.  In fact, if you don't have access to a tool due to a permission issue, its link shouldn't be accessible either. So, review the case of restricting access with a normal tool and repeat the same procedure with the external tool. If the behaviour was different, that would mean there is a bug in the external tool permission management. Pherhaps you can find information in other Moodle forum section. I don't know. Good luck.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 18, 2013, 4:56 PM",
          "AuthorName": "Carlos Ors",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1589527&course=5",
          "role": [
            "Picture of Carlos Ors"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: permissions on LTI tool",
          "Text": "Hello, i'm facing the same problem can anyone share the answer plz. thks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 7:05 PM",
          "AuthorName": "Majda Majda23",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1620450&course=5",
          "role": [
            "Picture of Majda Majda23"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: permissions on LTI tool",
          "Text": "I was just looking at this. There are two options: http://docs.moodle.org/25/en/Available_for_group_members_only - this way works. http://docs.moodle.org/25/en/Capabilities/mod/lti:view - this currently does nothing. MDL-40854",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 8:52 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 232306,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232306",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Where do you set allowinstructorcustom?",
          "Text": "I need to send custom LTI parameters and it looks like this tracker item addresses it: https://tracker.moodle.org/browse/MDL-32301?page=com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:dvcs-commits-tabpanel The code looks like it checks the value but there is nowhere in moodle to enable/disable this flag.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 11, 2013, 4:24 AM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 232154,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232154",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Typo driving me crazy",
          "Text": "Hi LTI is the future for Moodle, but the Andrian Monk within me can't rest until I correct the typo in the pargraph below. It took me a while to understand the sentence below should be read as: \"..when the y load this tool...\". So does anyone know which source code in which php file contains the typo? I want to solve this one. Regards Frankie Kam",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/post/1008277/they.png"
          ],
          "Time": "Monday, July 8, 2013, 11:58 PM",
          "AuthorName": "Frankie Kam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=831135&course=5",
          "role": [
            "Picture of Frankie Kam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Typo driving me crazy",
          "Text": "Hi Frankie, I can't find the sentence in the en language pack, so it seems it's something that the site mangahigh.com would need to correct.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 9, 2013, 3:17 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 232020,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232020",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Consumer Payload",
          "Text": "Hi All -- Sorry if this question has been answered already but I could not find a topic that covered this. Using Moodle 2.5 (Build: 20130514) and I am trying to debug the payload of the LTI consumer talking to my provider.   A couple of questions: 1)  Is there a sample output from the LTI consumer to the provider somewhere that I can use as a reference? 2)  Is it possible to turn on a print out of that is being sent to the provider prior to injection to the provider, similar to Sakai? 3)  Are parameters like course ID, short name, and other course specific information configurable to specify what is sent in the payload or through custom parameters? I appreciate any insight I can glean from the group. Wes",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 5, 2013, 7:59 PM",
          "AuthorName": "Wes Barnes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=161395&course=5",
          "role": [
            "Picture of Wes Barnes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 231507,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=231507",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Posting Grades from External Module to Moodle",
          "Text": "As the title suggests, I would like for the external module I developed to send pass back grade data to Moodle. I already have single sign-on working, so I know I set up the 2-leg Oauth correctly. I pass grade information to Moodle following IMS Global's LTI specification (part 6.1), which says to use the replaceResult XML . However, I don't know what values to use for sourceid and messageidentifier. Also, can I send the XML without computing an Oauth body hash and signature, or must I have both?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 27, 2013, 5:19 AM",
          "AuthorName": "Justin Sung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1615917&course=5",
          "role": [
            "Picture of Justin Sung"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 229889,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229889",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Call for LTI app submissions",
          "Text": "Not sure if this got shared or not, but there's an LTI app submission bounty running now through June 10th offering a $250 prize for any new LTI integrations. The call is being run with judges from Remote-Learner, Instructure, Blackboard and Desire2Learn. If you know of an existing LTI integration, please share: http://instructure.github.io/lti_bounty",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 4, 2013, 2:14 AM",
          "AuthorName": "Brian Whitmer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558930&course=5",
          "role": [
            "Picture of Brian Whitmer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 229494,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229494",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Changing Activity Block from \"Basicltis\" to Name of External Tool",
          "Text": "Hello, We have used the lti.php resource to create an external tool that integrates our library database search interface directly into Moodle so that instructors can build reading lists for students.  Does anyone know how to change the appearance of the External Tool in the Activities Block? Right now it says \"Basicltis\" which is unintelligible to students. Is there a string that I can code with the name of the actual tool (\"Library Reading List\") instead? I am very grateful for any suggestions. Thank  you, Alicia Virtue",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/996480/readinglist.PNG?forcedownload=1"
          ],
          "Time": "Wednesday, May 29, 2013, 7:11 AM",
          "AuthorName": "Alicia Virtue",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1606401&course=5",
          "role": [
            "Picture of Alicia Virtue"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 229118,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229118",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI Plugin between Moodle 2.4",
          "Text": "Hi every one, I just started to work with Moodle 2.4.3 as a LTI  provider, and also Moodle 2.4.3 as client, I followed the instructions to install and setup the LTI provider plugin, however i have two problems: 1. when i created an activity \"external tool\" in the moodle client from the course with the link http://mymoodleltiprovider/local/ltiprovider/tool.php?id=1 and the shared secret i got the message: \"Invalid signature ours= JOxr4h7Io61VMnChj0dEWqQT+Mo= yours=cWs+r9tV6J+7dnK5n8GGbDLEif4=\" and both strings changes every time that i reload the page. 2. When i created an activity \"external tool\" just using one activity from my moodle provider y got: \" Firefox has detected that the server is redirecting the request for this address in a way that will never complete\" redirecting to \"http://mymoodleltiprovider/enrol/index.php?id=2\" There is something that i miss?, i followed the instructions in the pugin rewiew on http://www.somerandomthoughts.com/blog/2012/01/08/review-lti-provider-for-moodle-2-2/ , using in the consumer key the same value of the shared secret, some random characters and a empty string. thanks for your help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2013, 5:47 AM",
          "AuthorName": "Jairo Andrés Franco",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=758117&course=5",
          "role": [
            "Picture of Jairo Andrés Franco"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Plugin between Moodle 2.4",
          "Text": "Maybe I'm mis-understanding, but it sounds like you are trying to use the LTI External Tool to the Provider on the same server.  Is that correct? Might not be able to use External tool and link to the Provider on the same server. Here's one to 'play with': http://elearn.tcea.org/local/ltiprovider/tool.php?id=1 Consumer key: e00f6c053bfd358d29fc3738baf53474 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2013, 7:39 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Plugin between Moodle 2.4",
          "Text": "Thank you Ken, the example to play works perfectly. Right now my LTI prvider is on a different server; i don't know if i miss some configuration or the fact that i am also using mi LTI provider as a HUB Regards,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2013, 12:30 AM",
          "AuthorName": "Jairo Andrés Franco",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=758117&course=5",
          "role": [
            "Picture of Jairo Andrés Franco"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Plugin between Moodle 2.4",
          "Text": "'using mi LTI provider as a HUB' ... like a true Moodle 2 HUB? I've noticed this ... LTI link from Moodle A to Moodle B.  Am the Administrator of both Moodles.  If I've been tinkering with the LTI External link tool on Moodle A, and then see I'd like to change something on Moodle B (the LTI provider), browser has gotten cookies or something that affects my direct interaction with Moodle B in a new browser window.  Only way to do that is logout, clear browser cache if using same browser OR use a different browser. Haven't tried to combine the HUB I run with courses that also have LTI Provider.  So you may have stumbled upon a combo that conflicts but maybe only for admin users who might be into both systems using the same browser. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2013, 1:28 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Plugin between Moodle 2.4",
          "Text": "One of the first errors that i got was that i was using the same browser for both installations and logged as administrator, but as soon as i changed that i got the responses that i wrote in the first comment. Finally i got access to the LTI provider and i set the option of display all the errors and i have this: \" textlib_get_instance() is deprecated. Please use static calling textlib::functioname() instead.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2013, 3:27 AM",
          "AuthorName": "Jairo Andrés Franco",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=758117&course=5",
          "role": [
            "Picture of Jairo Andrés Franco"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Plugin between Moodle 2.4",
          "Text": "Hmmm ... judging from the errors show appears to be Windows.  And did you obscure the URL http://myltiprovider/? Is a Windows type shortcut URL and the other systems/browsers on different networks might have some issues with that. And ... 'some random characters and a empty string' ... when I setup an LTI provider thang, there is a shared key generated.  Maybe that's the issue ... in the first posting ... ie one of those 'invalid signatures' the 'random characters' you created? It wouldn't hurt to check the plugins out to see if there is an updated version of LTI Provider. Current version: 2.2 (2011121706) for Moodle 2.0, 2.1, 2.2, 2.3, 2.4 https://moodle.org/plugins/pluginversions.php?plugin=local_ltiprovider 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2013, 4:16 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 229102,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229102",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Missing LTI custom parameter when restore Common Cartridge",
          "Text": "Hi all, I have successfully imported Common Cartridge v1.1 into Moodle v2.3. The cartridge consists of a number of LTI links. The links to the Tool Provider import correctly but the TP requires a custom parameter. The LTI markup is as follows: [see lti_snippet.txt attached] If I use Chrome Developer Tools I can see the POST data sent to the Tool Provider and there is no custom parameter. If I look at the LTI link in Moodle, there is no custom parameter and none in the database either. The value is \"0\". If I create the LTI link manually in Moodle, it works perfectly. If I then backup the course as Common Cartridge v1.1 it exports everything except the custom parameter. Looking at the PHP code, it appears that the <blti:custom> element is ignored during backup/restore. Is this true? Does the CC backup/restore in Moodle ignore the LTI <blti:custom> element ? Thanks in advance for any confirmation or advice. Regards, Derek.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 22, 2013, 11:48 PM",
          "AuthorName": "Derek Humphreys",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1604406&course=5",
          "role": [
            "Picture of Derek Humphreys"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Missing LTI custom parameter when restore Common Cartridge",
          "Text": "Having done some more research, this is a bug. See MDL-38430 for more details. Regards, Derek.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2013, 4:21 PM",
          "AuthorName": "Derek Humphreys",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1604406&course=5",
          "role": [
            "Picture of Derek Humphreys"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 228096,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=228096",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Open Source LMS for LTI 1.1 enable IMS Common cartridges import",
          "Text": "Hi All, I'm thinking to have an open source LMS to import LTI 1.1 enable IMS Common cartridges, can I get this done with Moodle or any other LMS? If Moodle deals this below are few queries I would like to get clarified: 1.    Which version of Moodle can help in my requirement? 2.    Do I need to enable any LTI based controls/plug-in to get this imported? Thanks Santhosh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 8, 2013, 8:33 PM",
          "AuthorName": "Santhosh Suresh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1599539&course=5",
          "role": [
            "Picture of Santhosh Suresh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 225436,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=225436",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Using Moodle as an LTI provider issues",
          "Text": "Hi all I am developing a third party application that will use Moodle as an LTI provider.  I have installed Moodle 2.2 and the associated LTI plugin.  I have created a course and the \"LTI Provider\" option appears in the Course menu as expected.  I have created a forum and made it available through LTI.  I have an ID and a \"Shared Secret\".  These are as follows: Shared secret = 93eeb5a58b6cec0994efd87d2c56201b and Launch URL =http://localhost:8888/moodle22/local/ltiprovider/tool.php?id=3 Now using the test lms.php which comes with the LTI plugin  I configure the Launch URL as above and the \"Key\" to the \"Shared Secret\" above. I actually set the \"Secret\" to nothing.  When I launch I get the following error: \"Access to the tool is disabled\" Can anyone please shed some light on what I am doing wrong or share an example LTI client that works? Thnakyou in advance David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 26, 2013, 9:54 AM",
          "AuthorName": "David Miron",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1582900&course=5",
          "role": [
            "Picture of David Miron"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using Moodle as an LTI provider issues",
          "Text": "Hi David, I have not used the lms.php test script but we have a python app that uses moodle as an lti provider. We set secret to a value we came up with on the consumer side. As of now, the secret can be anything as long as it isn't empty. As long as you provide the correct shared secret the consumer secret contents does not matter as long as it has something in it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 1, 2013, 10:37 PM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 214875,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=214875",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Vanilla Forums and LTI",
          "Text": "I can also confirm that this plugin here: http://sourceforge.net/projects/learningapps/files/Files/Basic%20LTI%20Integrations/Vanilla2/ works for connecting a Vanilla Forum to your Moodle course. It creates a new forum category in Vanilla based on the name of your Moodle course.  However, I found that when a user tries to access the forum, they are given a random name and it doesn't carry over the name from Moodle. Maybe I am missing something?  Anyone else exploring Vanilla Forums?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 30, 2012, 2:07 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Vanilla Forums and LTI",
          "Text": "Hi Chris -- we just attempted this integration and it works as you said. We have no problem displaying the forum and it picks up the course and even the user's account (which we can tell by the email address) but it assigns a random name (like, \"<ourmoodlesitesite>:4\"). Have you been able to get this to work? I'm wondering if we just haven't set up the LTI configuration appropriately.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 14, 2013, 1:09 AM",
          "AuthorName": "Dan Olson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1451875&course=5",
          "role": [
            "Picture of Dan Olson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Vanilla Forums and LTI",
          "Text": "Hi to all, The plugin needs to verify that the user exists in order to know if it is necessary to create or not based on the LTI parameters received. LTI states that the tool should not use email as a primary key.  So, it is necessary to use a key based on the parameters received. This LTI plugin uses the combination of the LTI parameters: oauth_consumer_key + ':' + user_id as recommended by LTI. The field Name (which is the one that is displayed) is used to store this information. Pherhaps, another option would have been to create a new column in the users table to store this secundary key (key used when accessed by LTI). In this case, the plugin should create the column in the table in its inicialization. The problem then, would be to decide which information from LTI is used to store in the Name field since username is not currently passed in the Moodle LTI consumer. I have choosen the current option because permitted to pass, as well, the LTI certification tests.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 10, 2013, 10:18 PM",
          "AuthorName": "Carlos Ors",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1589527&course=5",
          "role": [
            "Picture of Carlos Ors"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 225868,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=225868",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Ektron and moodle",
          "Text": "I am having my website in EKTRON and looking for some kind of weservice for auto enrolment to moodle courses as some of my courses are auto enrolment and some are manual. Any one know how can I do that. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 2, 2013, 8:41 PM",
          "AuthorName": "Arvinder Rehal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1585747&course=5",
          "role": [
            "Picture of Arvinder Rehal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 224585,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=224585",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External tool changes breadcrumb links",
          "Text": "Hi, I'm using a Joomdle system, and embedding Moodle in an iFrame using that and want to have Moodle working completely within that frame. One problem that is happening is that when an external tool activity is used (I'm using catapult) that gets embedded in another frame within the frame, which is fine, but it seems as though all of the links outside that frame in the normal Moodle frame get a 'target=\"_top\"' added to them. I'm guessing that this is a built in thing with the way Moodle handles iframes so that links don't end up opening within the external tool frame. But the problem is, this ends up opening Moodle outside of the Joomdle frame when breadcrumbs are used to navigate back, because of the _top. I've been searching through everything I can think of, the php files in the mod/lti folder, the navigationlib.php, etc. And I can not find out where this _top is coming from. I'm thinking that if I can just change that to _self, or remove it completely, it might solve this problem. Does anyone know how Moodles handles this, and where that _top is coming from?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 15, 2013, 8:39 AM",
          "AuthorName": "Jake McGrath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1528203&course=5",
          "role": [
            "Picture of Jake McGrath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 219472,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=219472",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Syncing user id",
          "Text": "I am syncing users from an external db.  I am currently using the idnumber field to hold my unique user id from the external db.  I am also using the External tool to link back to an assessment that is given and uses the same external db.  I have 2 questions:  Is there a way to have Moodle sync it's own user_id field with my primary key field on my users table?  If not, is there a way to have the LTI launch somehow send the idnumber field so that my external assessment will know which user match with locally?  Thanks for any help provided.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 11, 2013, 5:44 AM",
          "AuthorName": "Heath Peeples",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1539051&course=5",
          "role": [
            "Picture of Heath Peeples"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 217651,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=217651",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.2 support for consumer outcomes",
          "Text": "We were using LTI consumer under Moodle 2.0 basicLTI to receive grades and other data from our external LTI producer, which do not work now that we've upgraded to Moodle 2.2. Is there a projected date for restoring LTIconsumer grade return functions for Moodle 2.2 (and later)? Are there any LTI alternatives for passing grades back to the Moodle as LTI consumer?  My search through resources (IMS, GoogleCode, SPVsoftware, etc.) hasn't uncovered anything ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 9, 2012, 4:08 AM",
          "AuthorName": "Jim Kiggens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=38344&course=5",
          "role": [
            "Picture of Jim Kiggens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 199633,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=199633",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Unable to install MPlayer plugin in moodle 2.2.1",
          "Text": "I hvae tried to install mplayer plugin in 2.2.1 but no success. Anyone knows any other media player is avaliable for moodle 2.2.1 which will support MP4 video. Thanks in advance for help.. Regards Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 31, 2012, 6:40 PM",
          "AuthorName": "Mahesh Patil",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1441365&course=5",
          "role": [
            "Picture of Mahesh Patil"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unable to install MPlayer plugin in moodle 2.2.1",
          "Text": "Hi Mahesh, Have also tried Mplayer as looked like would work after upgrade too but it has not been made to work for 2.2 as far as I know. This Thread mentions the 1.9 version and a 2.0 version beta, but not seen any mention so far of a 2.2 version to try. Have you tried uploading the MP4 video file within a Page or label using the Moodle media button?                 MoodlePlays it back once linked to.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 6, 2012, 6:03 PM",
          "AuthorName": "Richard Price",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=449592&course=5",
          "role": [
            "Picture of Richard Price"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 205755,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=205755",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Who knows about Noteflight and External tool?",
          "Text": "Our Head of Music has just signed up to Noteflight and he thinks it's great and he made me an instructor on it to take a look round.I thought it would be a good opportunity for me to test this out with Moodle 2 external tool as I saw on Gavin's blog post way back that this was possible - but I can't work out what I am supposed to add for the consumer key etc. Should I be an admin on Noteflight to have som extra information? Or is an instructor an admin?  Would just like some assistance here. PS - usually when I post, I find out the answer within minutes but i somehow  have the feeling that I won't in this instance",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Friday, June 29, 2012, 2:52 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Who knows about Noteflight and External tool?",
          "Text": "Hi Mary, I've googled around a bit and only seen mention of LTI on their higher ed product: http://www.noteflight.com/info/learn_more_highered Do you have an account with them, perhaps you could get in touch with them and enquire?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 29, 2012, 11:41 AM",
          "AuthorName": "Dan Poltawski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=104159&course=5",
          "role": [
            "Picture of Dan Poltawski"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Who knows about Noteflight and External tool?",
          "Text": "Hi Dan Yes - you're right - the version he has paid for is not the Higher ed version and therefore won't connect. http://www.noteflight.com/info/learn_more (Still , since he's not going to get Moodle 2 before Christmas , I don't suppose it would have mattered much anyway.... )",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Friday, June 29, 2012, 2:03 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Who knows about Noteflight and External tool?",
          "Text": "Hi Mary, We saw your post and would like to answer. Noteflight's educational packages (see http://www.noteflight.com/info/learn_more for details) are able to connect to Moodle 2.0, using its Basic LTI capability. The individual-user versions of Noteflight do not have this feature: we only provide consumer keys to purchasers of the educational version. Please write to us at info@noteflight.com if you would like to purchase (or upgrade to) an educational edition of Noteflight; we'll be happy to answer all your questions. Best, Joe Berkovitz Noteflight",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 2, 2012, 10:24 PM",
          "AuthorName": "Joe Berkovitz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=723972&course=5",
          "role": [
            "Picture of Joe Berkovitz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Who knows about Noteflight and External tool?",
          "Text": "Hi Joe, It would be great if Noteflight had a demo Moodle site where we can see this working. Is this at all possible? Am also conciddering passing this info on to our Music Teachers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 6, 2012, 5:45 PM",
          "AuthorName": "Richard Price",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=449592&course=5",
          "role": [
            "Picture of Richard Price"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 217115,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=217115",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle and Wordpress",
          "Text": "Hi all, I want to find a way to integration moodle in wordpress not integrating wordpress in moodle. i hope can't receive reply!! Thanks!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 3, 2012, 3:25 PM",
          "AuthorName": "Van Tam Tran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1514363&course=5",
          "role": [
            "Picture of Van Tam Tran"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 216386,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=216386",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "external quiz",
          "Text": "Hello, I'm trying to do the following: Create an external website with a quiz but it can upload to moodle the results, even make this application work on an iPad. I'm looking for information to ge started to develop the idea, but I'm a bit lost in the moodle world. A greeting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 22, 2012, 5:41 PM",
          "AuthorName": "cesar irnan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1528000&course=5",
          "role": [
            "Picture of cesar irnan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: external quiz",
          "Text": "just find this: https://moodle.org/mod/forum/discuss.php?d=198180 I'll have a look",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 22, 2012, 5:43 PM",
          "AuthorName": "cesar irnan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1528000&course=5",
          "role": [
            "Picture of cesar irnan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 215775,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215775",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Java LTI Tool",
          "Text": "I have a Java applet that I'd like to launch from Moodle using the External Tool/LTI feature.  I'd like to post scores, and any other training data I'm allowed) recorded at the applet up to the External Tool course in Moodle. I'm looking for any help I can get regarding implementing a Java LTI Tool in general or, specifically, interfacing to a Moodle External Tool course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 13, 2012, 4:10 AM",
          "AuthorName": "Timothy Flynn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1524647&course=5",
          "role": [
            "Picture of Timothy Flynn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 215698,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215698",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External Tool link breaking for Smart Thinking service",
          "Text": "Hi there, We have setup an external link tool for the Smart Thinking service that has been setup for our students. However, the link keeps on breaking and reverting to a blank URL link instead of the external tool link. Any ideas why this could be happening? Any advice or support would be greatly appreciated. Many thanks, Heidi Humphrey",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 12, 2012, 8:06 AM",
          "AuthorName": "Heidi Humphrey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1516765&course=5",
          "role": [
            "Picture of Heidi Humphrey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool link breaking for Smart Thinking service",
          "Text": "Moodle has a provision to not allow embedding of itself, if your LTI provider is a Moodle then you need to turn on allow embedding. Page path Home / ► Site administration / ► Security / ► HTTP security it's the 4th box tick. Don't forget to turn Webservices on on both so grades can flow. Hope that helps",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 12, 2012, 10:32 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 215594,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215594",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Owncloud and Moodle",
          "Text": "Hi people,\n\nI create this post to explain my problem and ocasionally find some solution:\n\nI want to use the external tool called OwnCloud to create a \"virtual disk\" for every course admin. The behavior i want to obtain is that if i put some files in a local folder on my pc, these files will automatically being uploaded into Moodle's running server and then, using filepicker i'll can select these files without upload another time because are already uploaded, a function similar to dropbox but implemented in moodle's server.\n\nThe question is if there are some plugin that do this function already, because if it is already created, I will use my efforts to develop something else.\n\nThanks for all answers in advance !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 9, 2012, 10:56 PM",
          "AuthorName": "Tuma Dremola",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1523634&course=5",
          "role": [
            "Picture of Tuma Dremola"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 191590,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=191590",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Database of external tools that can be integrated in Moodle",
          "Text": "I think that a database activity in this course (contrib section) for keeping a list of external tools that supports IMS LTI will be a good idea Gavin has pointed out some tools http://www.somerandomthoughts.com/blog/2011/11/28/moodle-2-supports-connecting-to-ims-lti-tools/ Any chance to be created?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 3, 2011, 7:31 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Database of external tools that can be integrated in Moodle",
          "Text": "This is a good mod.  Thank you Juan.  Now the question of some docs for it. Seeing as Moodle can be a supporter as well as a client.  Different servers. How does one set up a moodle to be a provider? I installed the mod and it registered OK.  I did config and it never blew up.  But when I embed from a to the provider (B) no resource. I love the idea we can have one source of share standard objects, rather than having to import and muck around at course level.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 19, 2012, 3:54 PM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Database of external tools that can be integrated in Moodle",
          "Text": "Juan, thanks for your suggestion of collecting info on external tools supporting IMS LTI. How about starting by making a list in the docs here: Using External tool .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 19, 2012, 7:02 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Database of external tools that can be integrated in Moodle",
          "Text": "My colleagues at Instructure set up an LTI tools example index https://lti-examples.heroku.com I haven't tested these all in Moodle 2, but they are definitely worth checking out. This might help feed a database in this course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 9, 2012, 9:15 AM",
          "AuthorName": "Jared Stein",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=121093&course=5",
          "role": [
            "Picture of Jared Stein"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 211435,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=211435",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Adding External Tool to all courses",
          "Text": "Is there a way to add an external tool to all the courses at once? Right now, I'd have to go to Site administration->Courses->Add/Edit courses, select the course category, select a course then add the external tool. This becomes time consuming with hundreds of courses.. Is there no other way?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 15, 2012, 2:22 AM",
          "AuthorName": "Shi Qiao Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1489458&course=5",
          "role": [
            "Picture of Shi Qiao Yu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Adding External Tool to all courses",
          "Text": "This would be the same for any tool being added to 100's of courses... I don't think it is possible except to manually add it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 19, 2012, 3:11 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding External Tool to all courses",
          "Text": "It is possible to register a external tool for global use. The but is, you have to do it manually. Check out this as admin Site administration / ► Plugins / ► Activity modules / ► External Tool Hope it helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 19, 2012, 5:24 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 213608,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213608",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course copy and external tools",
          "Text": "When I try to copy a course that contains external tools it loses its tool type and throws database errors about the gradebook when I try to fix it.  Is there any workaround for this and is there any way to let the external system know that it is a copied piece of content from another course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 11, 2012, 11:26 PM",
          "AuthorName": "Jamie Albinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1512580&course=5",
          "role": [
            "Picture of Jamie Albinson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 201692,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=201692",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Setting up an LTI",
          "Text": "I am trying to set up a link to wordpress where my students can create thier own entries in a wordpress blog that is set up through Moodle. i've looked at the documentation for LTI and to be honest I'm struggling. Anybody out there willing to give some advice or screenshots on how its done. I can get it so the wordpress webiste launches just like a normal url but I don't have user authentication Kind regards Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 1, 2012, 10:17 PM",
          "AuthorName": "Mark Glynn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=361949&course=5",
          "role": [
            "Picture of Mark Glynn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Setting up an LTI",
          "Text": "Hi Mark - I am coming very late to this one because I just arrived in this forum to ask a question about external tools myself. The documentation doesn't say much at the moment because I wrote it and I didn't know much at the time. If and when I learn more (hopefully from my own question coming up!) I will add to the documentation. Or if you have got it sorted in the meantime please add some documentation so I can learn from you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, June 29, 2012, 2:49 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Setting up an LTI",
          "Text": "Hi Mark Like Mary I was looking for an answer to my IMS LTI question. The only place I have come across anything relevant to your query is the Multi-user Word Press tool for blogs you can 'embed' in Moodle at Gavin Hendrick's site where he discusses various external tools: http://www.somerandomthoughts.com/blog/2011/11/28/moodle-2-supports-connecting-to-ims-lti-tools/ and references Dr Chuck's multi user sandbox which can be used within Moodle as an IMS LTI. http://csev.people.si.umich.edu/wordpress-mu/ This may help. Apologies, I do not have screenshots per se. Gavin's info helped me when I was creating an external tool for something else. I also found this useful when setting up an external tool: General LTI info (Moodle) http://docs.moodle.org/22/en/mod/lti/mod Kind regards Kylie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 7, 2012, 3:51 PM",
          "AuthorName": "Kylie Jakobsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1510047&course=5",
          "role": [
            "Picture of Kylie Jakobsen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 209105,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=209105",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI provider issues",
          "Text": "Doesn't send back quiz grades. Enrols consumer teachers as teachers on the provider even if is set to enrol them as non-editing or students. Has anyone encountered any of these or am I missing something in the settings? A minor issue is the manage link in the navigation block instead of settings block (should be easy to fix).",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, August 16, 2012, 7:56 AM",
          "AuthorName": "Itamar Tzadok",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=150168&course=5",
          "role": [
            "Picture of Itamar Tzadok"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI provider issues",
          "Text": "Hi Itamar, I just found this post in this forum (not the plugin one) The last version of the plugin fixes the point 1 (grades) Regarding Instructor role It works fine for me, can you explain exactly your problem and configurations? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 1, 2012, 10:24 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider issues",
          "Text": "Hi Juan. Thanks for the reply. I need to look into this again and will report back when I get to that.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, October 1, 2012, 11:07 PM",
          "AuthorName": "Itamar Tzadok",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=150168&course=5",
          "role": [
            "Picture of Itamar Tzadok"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 209056,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=209056",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "User friendliness of External Tool config UI",
          "Text": "Hi, I'm curious as to the status of basic LTI consumer support in Moodle. There are two consumers, the 'core' one which I think was written by Moodle Rooms after being forked from basiclti4moodle and basiclti4moodle itself. I've been experimenting with adding lti tools into Moodle using both consumers and the experience from a course teacher's perspective seems far better with basiclti4moodle. When a LTI tool is configured using blti4m it just appears as any other Moodle activity, whereas the core consumer requires a teacher to know the launch URL - how likely is that? With the core consumer it's also blatantly obvious that the activity is an 'External Tool', which, IMHO just seems pointless. Are there any plans to merge the two projects? It seems odd to have two different projects doing LTI, especially when the non 'core' one appears to offer a more user friendly experience. Cheers, Adrian.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 15, 2012, 6:42 PM",
          "AuthorName": "Adrian Fish",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1477061&course=5",
          "role": [
            "Picture of Adrian Fish"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 208399,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=208399",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "\"Pending\" Tool Providers",
          "Text": "Hi all, Perhaps it's something I've missed but just looking at the 'External Tools' configuration am I right in thinking that teachers can submit LTI providers to admins for approval that are then available across the entire site? If so then how do I actually get a provider to be listed under Settings->Site administration->Plugins->Activity modules->External Tool \"Pending\"? Thanks in advance, Ian.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/1441143/mod_forum/attachment/908264/pending_external_tools.PNG?forcedownload=1"
          ],
          "Time": "Friday, August 3, 2012, 7:16 PM",
          "AuthorName": "Ian Wild",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=325899&course=5",
          "role": [
            "Picture of Ian Wild",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"Pending\" Tool Providers",
          "Text": "Hi Ian (Sorry if you were expecting an answer - I don't know!) But I will do some investigation too as I would really like to get more to grips with External tool - the documentation on it is very sparse. Edit Well actually I am a bit nearer the solution because when you click the help file it actually says Pending - T hese tool providers came in through a package import, but have not been configured by an administrator. Teachers may still use tools from these providers if they have a consumer key and shared secret, or if none is required. So does that mean we assume that it's not a teacher on the course who suggests them to the admin for approval, but that they have come in from elsewhere?? However the capability http://docs.moodle.org/23/en/Capabilities/mod/lti:requesttooladd does suggest that teachers can ask admins to add external tools - so the question remains....",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/thoughtful"
          ],
          "Time": "Saturday, August 4, 2012, 2:51 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Pending\" Tool Providers",
          "Text": "As Mary suggests, when a Tool comes in say from a package it becomes pending, but still usable. The other instance of Pending can be where a Tool is configured as global and for some reason the provider does not respond to the initial validation. For global use, on your local Moodle, the admin need to configure it. Such instances, and not limited to the examples are, bringing in the concept of standard shared objects. This is much like programming SSO or in MS dll. An example, all science courses are 50% maths. Using a shared maths object becomes useful. It's already approved, and no rewrite needed. This is a very useful feature in courses such as STEM where cross discipline is used.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 4, 2012, 9:30 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Pending\" Tool Providers",
          "Text": "Hi John, Mary Thanks for your help. We have been testing using the LTI test provider URL at http://www.imsglobal.org/developers/LTI/test/v1p1/tool.php which works... but when this is added by a teacher this doesn't appear in the 'Pending' tab. Can you download LTI packages also? Or is this something different? Sorry for all the questions: I'm getting slightly confused . Thanks again, Ian.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wideeyes"
          ],
          "Time": "Monday, August 6, 2012, 8:04 PM",
          "AuthorName": "Ian Wild",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=325899&course=5",
          "role": [
            "Picture of Ian Wild",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Pending\" Tool Providers",
          "Text": "Bump ?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, August 10, 2012, 7:23 PM",
          "AuthorName": "Ian Wild",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=325899&course=5",
          "role": [
            "Picture of Ian Wild",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Pending\" Tool Providers",
          "Text": "I'm just \"bumping\" you Ian, because I'm in there with you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, August 11, 2012, 2:55 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 207030,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207030",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "moodle itself as an external tool ...",
          "Text": "Dear moodle-users, I have one moodle installation with a SCORM -package installed, which needs quite a lot of memory. I call this the SCORM-moodle. There also is a grade-outcome from this SCORM. On the other hand, I have many moodle-instances, and the registered users there shall be able to work with the SCORM-package. But I don't want them to install the SCORM on their own moodle-site (I call these HOME-moodles). After they finished their work, the achieved grade should be available in their HOME-moodle. I am wondering, if this is possible with the use of an external activity? In a way, that the user is registered in his/her HOME-moodle, klicks on a Link (coming from the external acitvity), signs in automatically at the SCORM-moodle, works here (maybe not even knowing he has changed the moodle-instance) and gets the grades pushed back to his HOME-moodle. At the moment I can't figure out if this is possible - and especially how. Thanks for any hint! Thomas",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 15, 2012, 5:05 AM",
          "AuthorName": "Thomas Eibel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88286&course=5",
          "role": [
            "Picture of Thomas Eibel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 204394,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=204394",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External task with no authentication required.",
          "Text": "We have a developed a Flash hazard identification tool that we would like to link into a course. Before now we used to link our tool to Moodle through adding a URL resource, though there was never any way to know if the student had found all of the hazards within the environment. The tool we have created displays a congratulations button once all hazards have been found, so I'm curious if this could tell Moodle that the task was completed, maybe that continue button just links to an exam. The tool look like this: http://www.clients.tourvista.co.uk/vt/elearning/domestic/kitchen/ Any ideas how I could achieve this? Cheers Tom",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 8, 2012, 10:38 PM",
          "AuthorName": "Thomas Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1460072&course=5",
          "role": [
            "Picture of Thomas Williams"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 203967,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=203967",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Initiating contact from desktop application?",
          "Text": "I would like to build a desktop app with LiveCode (formerly Runtime Revolution http://runrev.com ) to provide a complex simulation for my learners. They'll download the application from within the Moodle course. Would the External Tool interface be the right way to let the learner upload their activity in the simulation back to Moodle for inclusion in the Gradebook? Or would I need to use an external website that could receive the scores and act as an LTI provider? That could be problematic for learners-- the more complicated the system is, the more prone to failure.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 1, 2012, 10:01 PM",
          "AuthorName": "Elizabeth Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1413178&course=5",
          "role": [
            "Picture of Elizabeth Dalton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 200793,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200793",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "About setting conditional release (Restrict access) to external tool",
          "Text": "Dear all, I have problem when I setting Grade condition in external tool. I have three assignment activity which created by PHP as external tool and all setup and linked to the Moodle site. All three assignments were work and can return the score back to the Moodle. The student can go into one external activity and finish the tasks and then return back to Moodle module page. The situation is when I set those activities in Restrict access that the student must finish the first activity and then they can access to next external activity. I found that after the student finish the first one and then return back to Moodle module. The second one still gary in color and cannot access by the student. Even the condition was satified. The student required logout and then login again. The second activity will allow to access. I want to ask what happening since this will not occurs in moodle quiz activity? I want yours can give me some suggestion on setting restrict access to the external tool that it perform like normal Moodle quiz. Thank you for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2012, 5:18 PM",
          "AuthorName": "Sam Shan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1446326&course=5",
          "role": [
            "Picture of Sam Shan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 199266,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=199266",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External Database Authentication Not Working",
          "Text": "Here is the debug info: For odbc Connect(), MemberData_44851 is not used. Place dsn in 1st parameter. (odbc_ms sql ): SET CONCAT_NULL_YIELDS_NULL OFF IM002: [Microsoft][ODBC Driver Manager] Data source name not found and no default driver specified localhost: [Microsoft][ODBC Driver Manager] Data source name not found and no default driver specified (odbc_mssql): SELECT * FROM vw_MoodleFull2 WHERE UserName = '500833' AND Password = '12345' IM002: [Microsoft][ODBC Driver Manager] Data source name not found and no default driver specified With debugging turned off I simply continue to get the invalid login message.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 27, 2012, 10:00 AM",
          "AuthorName": "Stanley Swank II",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=698321&course=5",
          "role": [
            "Picture of Stanley Swank II"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 197509,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=197509",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Limiting user attempts  for external tool",
          "Text": "How to limit user attempts for External Tool [ET] activity ? this option is in SCORM activity by default, but cant find in ET activity. or do i need to activate it elsewhere? please help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 3, 2012, 5:19 AM",
          "AuthorName": "umesh kumar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=222392&course=5",
          "role": [
            "Picture of umesh kumar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Limiting user attempts  for external tool",
          "Text": "Currently it looks like there is no option for this, but Moodle hands enough information over to the LTI provider that this could be done on that end. This may make a good feature request for upcoming releases.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 13, 2012, 11:02 PM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 198180,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=198180",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Receive score from external system",
          "Text": "Hi, I hope this is the right section to discuss this, if no, please direct me... I want to specify an interface between a Moodle and an external system in order to receive scores from the external system into the user's gradebook. The scenario is that a user chooses a course. The course consists of three parts ( activities ): A presentation (in SCORM ) - to watch and learn A questionnaire (again SCORM) - to answer An external system (simulator) - for simulated hands-on tries of what the user has learnt The user will access the external system (through URL Resource or through the SCORM questionnaire) to perform some activities there (outside moodle). These activities shall return a score which shall be added in the gradebook of the user. Any ideas for doing this? Any plugins that may help? Any similar posts/discussions? Any document/book/url I can read? Thanks in advance, John",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, March 13, 2012, 4:09 PM",
          "AuthorName": "John Maglaras",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1413519&course=5",
          "role": [
            "Picture of John Maglaras"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Receive score from external system",
          "Text": "This is exactly what LTI is for.  The documentation and such for implementing this can be found at http://www.imsglobal.org/developers/BLTI/ Dr. Chuck ( CharlesSeverance ) seems to be the public face for the IMS with regards to LTI.  He has several videos floating about concerning the ideas and implementation of LTI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 13, 2012, 10:57 PM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 194811,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=194811",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Using Google Docs as an External Tool",
          "Text": "Does anyone have an idea how to use (plug in) Google Docs as an External Tool, directly? without using a \"middle man\" java server like : http://code.google.com/p/gdocs-task/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 28, 2012, 2:08 AM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    }
  ],
  "updated_no_of_posts": 831,
  "original_no_of_posts": 831,
  "removed_no_of_posts": 0
}