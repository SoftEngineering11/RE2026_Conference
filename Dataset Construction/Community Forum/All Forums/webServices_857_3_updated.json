{
  "forumName": "webServices",
  "totalNumberOfPosts": 1487,
  "posts": [
    {
      "PostID": 470774,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470774",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "insecure wstoken in url?",
          "Text": "Hi, I think I must be misunderstanding here but the way I see things even if a web page has SSL encrypted connection,  only data sent via a post request (or via headers) will be encrypted by the connection. Any data included in the url will not be protected, if this is the case why am I seeing wstoken being passed in the url in every example I find? Surely it can be included in headers of posted data, where its secure, however from my testing this doesn't appear to be the case, as it only appears to accept wstoken if its included in the url. Below is a small program written in c# (.net 9 console app), you can see I tried 2 methods of sending the token securely, neither work if the token is removed from the url. I also seen some stuff that suggests theirs a web address that includes \"/rest/v2/\"  which may work better but I not been able to find any documentation on this. --------------- using System.Text.Json; const string server = \"https://[ServerName]/webservice/rest/server.php\"; const string token = \"my token\"; HttpRequestMessage request = new(HttpMethod.Post, $\"?{server} wstoken={token} &wsfunction=mod_scorm_get_scorm_sco_tracks&moodlewsrestformat=json&scoid=3495&userid=65377&attempt=1\"); // Secure Method 1: Via Post (Not work) var postObject = new { wstoken = token, wsfunction = \"core_course_get_courses\", moodlewsrestformat = \"json\" }; var PostData = JsonSerializer.Serialize(postObject); request.Content = new StringContent(PostData); // Secure Method 2: Via Header (Not work) request.Headers.Add(\"api_key\", token); request.Headers.Add(\"wstoken\", token); using var httpClient = new HttpClient(); var response = await httpClient.SendAsync(request); //To read text output responseBody.Position = 0; using var reader = new StreamReader(responseBody); var sr = new StreamReader(responseBody); var myStr = reader.ReadToEnd(); Console.WriteLine(myStr);",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 5, 2025, 11:56 PM",
          "AuthorName": "Brian Taylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7880951&course=5",
          "role": [
            "Picture of Brian Taylor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "insecure wstoken in url?",
          "Text": "Hi, I've made changes based on https://moodle.org/plugins/webservice_restful and have also enabled REST protocol (with JSON / XML input support) but its still not seeing the token _____________________________________________ using System.Text; using System.Text.Json; const string server = \"https://[server]/webservice/rest/server.php\"; const string token = \"my token\"; HttpRequestMessage request = new(HttpMethod.Post, $\"{server}/mod_scorm_get_scorm_sco_tracks\"); var postObject = new { scoid = 3495, userid = 65377, attempt = 1 }; var PostData = JsonSerializer.Serialize(postObject); request.Content = new StringContent(PostData, Encoding.UTF8, \"application/json\"); request.Headers.Add(\"Accept\", \"application/json\"); request.Headers.Add(\"Authorization\", token); request.Headers.Add(\"wstoken\", token); request.Headers.Add(\"api_key\", token); using var httpClient = new HttpClient(); var response = await httpClient.SendAsync(request); var responseBody = await response.Content.ReadAsStreamAsync(); //To read text output responseBody.Position = 0; using var reader = new StreamReader(responseBody); var sr = new StreamReader(responseBody); var myStr = reader.ReadToEnd(); Console.WriteLine(myStr);",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 6, 2025, 12:24 AM",
          "AuthorName": "Brian Taylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7880951&course=5",
          "role": [
            "Picture of Brian Taylor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 468694,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468694",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Documentation for restful webservices",
          "Text": "Hi, where can I find the documentation for the restful webservices, I can only find them for rest.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 29, 2025, 8:27 PM",
          "AuthorName": "Paul van Bladel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1621822&course=5",
          "role": [
            "Picture of Paul van Bladel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Documentation for restful webservices",
          "Text": "Moodle's API is rest, not restful.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 23, 2025, 12:24 PM",
          "AuthorName": "JOSE RAMIREZ",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3382291&course=5",
          "role": [
            "Picture of JOSE RAMIREZ"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Documentation for restful webservices",
          "Text": "Then please explain this link: https://moodle.org/plugins/webservice_restful",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 23, 2025, 8:58 PM",
          "AuthorName": "Paul van Bladel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1621822&course=5",
          "role": [
            "Picture of Paul van Bladel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Documentation for restful webservices",
          "Text": "Hi, Paul. That’s a plugin developed by a third party company. All the way down you’ll find the developer info. Cheers!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 23, 2025, 9:33 PM",
          "AuthorName": "JOSE RAMIREZ",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3382291&course=5",
          "role": [
            "Picture of JOSE RAMIREZ"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Documentation for restful webservices",
          "Text": "From what I can see, you can use the Web Service API documentation inside your Moodle installation and use it for the RESTful plugin. https://YOUR_MOODLE_URL/admin/webservice/documentation.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 23, 2025, 11:07 PM",
          "AuthorName": "JOSE RAMIREZ",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3382291&course=5",
          "role": [
            "Picture of JOSE RAMIREZ"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Documentation for restful webservices",
          "Text": "That is the REST documentation",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 23, 2025, 11:52 PM",
          "AuthorName": "Paul van Bladel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1621822&course=5",
          "role": [
            "Picture of Paul van Bladel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Documentation for restful webservices",
          "Text": "Yep. Restful uses the same parameters as the Rest API. Have you tried them?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2025, 12:33 AM",
          "AuthorName": "JOSE RAMIREZ",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3382291&course=5",
          "role": [
            "Picture of JOSE RAMIREZ"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Documentation for restful webservices",
          "Text": "I installed the restful plugin on my test machine and got it working with curl. I can help you set it up if you'd like.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2025, 1:44 AM",
          "AuthorName": "JOSE RAMIREZ",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3382291&course=5",
          "role": [
            "Picture of JOSE RAMIREZ"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Documentation for restful webservices",
          "Text": "I have some functions working on restfull, but having documentation would be preferable compared too figuring it all out myself.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 27, 2025, 9:44 PM",
          "AuthorName": "Paul van Bladel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1621822&course=5",
          "role": [
            "Picture of Paul van Bladel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Documentation for restful webservices",
          "Text": "If you have functions working on restful, I don't understand why you think the rest documentation isn't useful. They use the same funcions with the same parameters.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 27, 2025, 10:18 PM",
          "AuthorName": "JOSE RAMIREZ",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3382291&course=5",
          "role": [
            "Picture of JOSE RAMIREZ"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Documentation for restful webservices",
          "Text": "Ok, give me the json string then for adding a user picture? or the json string or the json string for changing the visibility of a course module?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 27, 2025, 10:57 PM",
          "AuthorName": "Paul van Bladel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1621822&course=5",
          "role": [
            "Picture of Paul van Bladel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 468380,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468380",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Sending grades to manual itemgrades via web api",
          "Text": "Hello friends. I just created some manual itemgrades in a gradebook and I'd like to upload the student grades via web api. I found this method, core_grades_update_grades, but I'm unable to find what I need to use for the source and component parameters. Please someone can help me with this problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 10, 2025, 2:33 AM",
          "AuthorName": "José Renato Castro Milanez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=211920&course=5",
          "role": [
            "Picture of José Renato Castro Milanez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Sending grades to manual itemgrades via web api",
          "Text": "Hi, José. According to the documentation, component can be: mod_assign mod_book mod_chat mod_choice mod_data mod_feedback mod_folder mod_forum mod_glossary mod_h5pactivity",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 23, 2025, 12:17 PM",
          "AuthorName": "JOSE RAMIREZ",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3382291&course=5",
          "role": [
            "Picture of JOSE RAMIREZ"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470361,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470361",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "API for course upsert",
          "Text": "Hello, We are creating a external webservices for Moodle integration with another system. We need an API function that can upsert (insert or update) course in one call. Any help in that? We found a plugin tool_userupsert that does this functionality for users and wonder i f there is a similar one or any other API function that can upsert courses Thank You Wafaa",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 13, 2025, 8:09 PM",
          "AuthorName": "wafaa hamdy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4605167&course=5",
          "role": [
            "Picture of wafaa hamdy",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "API for course upsert",
          "Text": "Hi, Wafaa. I have what you're looking for. It works on Moodle 4. Haven't tested it out on Moodle 5. If you're interested, I'll post the plugin.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 23, 2025, 8:46 AM",
          "AuthorName": "JOSE RAMIREZ",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3382291&course=5",
          "role": [
            "Picture of JOSE RAMIREZ"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470532,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470532",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Debuginfo missing from response",
          "Text": "According to webservice documentation \"debuginfo\" field should be present in error response, but since upgrade to 4.5.5 it is not anymore. Was it removed because of security, or is there some toggle to enable debugging just for webservices (I dont want to have debugging enabled for everything on a production server )? Thanks for reply. \n```text\n\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 22, 2025, 5:19 PM",
          "AuthorName": "Petr Kalis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35266&course=5",
          "role": [
            "Picture of Petr Kalis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 469927,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469927",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Where is the external services functions documentation?",
          "Text": "Hi, I am trying to develop some APIs using the external services - however I cannot find any documentation for what parameters are expected in each function For example this function: core_enrol_submit_user_enrolment_form How do I know what parameters I need to send up with the API request? I have this so far as a curl request ``` curl -- location ' https://example.com/webservice/rest/server.php?wstoken=MY_TOKEN&wsfunction=core_enrol_submit_user_enrolment_form&moodlewsrestformat=json' ```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 17, 2025, 10:20 PM",
          "AuthorName": "Benjamin Shepherd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7677682&course=5",
          "role": [
            "Picture of Benjamin Shepherd"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Where is the external services functions documentation?",
          "Text": "After some more playing around, I have found it. It can be found in `Site administration -> Server -> API Documentation` E.g. https://mymoodlesite.com/admin/webservice/documentation.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 18, 2025, 10:27 PM",
          "AuthorName": "Benjamin Shepherd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7677682&course=5",
          "role": [
            "Picture of Benjamin Shepherd"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469754,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469754",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_user_search_identity",
          "Text": "Hi Moodlers I have added a custom field to the profile of our users. It holds a contact ID from Salesforce. This is 18 Characters long. I have limited the Custom Field length to less than 36 chars and added it to user identity under moodle policy. When attempting to execute an identity search via webservice API using the core_user_search_identity function, I do not get a result set returned against a known Salesforce ID on a Moodle users profile. Can anybody help me any further with this ? The custom profile field shortname is 3 chars long with no funny characters or whitespace I have set the field visibility to all users.. Is there any other settings that will include this field in user identity search ? Angus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 8, 2025, 4:28 PM",
          "AuthorName": "Angus Denton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1780481&course=5",
          "role": [
            "Picture of Angus Denton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "core_user_search_identity",
          "Text": "Hi Angus , It sounds like you're doing all the right things—setting the custom profile field correctly, ensuring it's within the 36-character limit, and marking it visible to all users. However, the `core_user_search_identity` function in Moodle has some specific behavior that might be the issue here. A few things to double-check: User Identity Fields Configuration Go to: `Site administration > Users > Permissions > User policies` Ensure your custom field is explicitly listed under \"Show user identity\" . Simply setting it to be visible to all users isn’t enough—it must be selected here to be included in identity searches via the API. Custom Field Shortname You mentioned your shortname is 3 characters long and without special characters or whitespace—that's great. Just ensure it doesn't match any reserved names or clash with other core fields. Data Population Sometimes it's easy to overlook whether the user account you're testing with actually has that field populated. Make sure the Salesforce ID is stored exactly (no trailing spaces or case mismatches). Webservice Permissions Check that the webservice user calling `core_user_search_identity` has the necessary capabilities: `moodle/user:viewdetails` Any custom capability you may have defined for accessing that field, depending on your site's policy. If you’ve verified all of the above and are still running into issues, you might be looking at a limitation of the core function itself. In such cases, a small plugin or extending the API might be the way forward. We’ve worked on similar integrations between Moodle and Salesforce, and we’d be happy to help further if needed — feel free to reach out through Our Site: https://www.wearetechtonic.com/ Regards Anita Rawar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 17, 2025, 3:54 PM",
          "AuthorName": "Anita Rawat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7675789&course=5",
          "role": [
            "Picture of Anita Rawat"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465923,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465923",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_xapi_delete_state throws exception if registration is provided",
          "Text": "Hello, I think I've found a bug in the xapi code. I'm developing a plugin that uses the xapi services and when I send a core_xapi_delete_state request providing a REGISTRATION value I get an exception. Examining the code I've discovered that the file delete_state.php (/lib/xapi/classes/external/delete_state.php) seems to contain a bug at line 93. The current code is \n```text\n$state = new state(\n\n\n  self::get_agent_from_json($agent),\n\n\n  item_activity::create_from_id($activityid),\n\n\n  $stateid,\n\n\n  $registration,\n\n\n  null\n\n\n);\n```\n According to the state class constructor the 4th and the 5th arguments should be switched. I've tried the following code and it works fine: \n```text\n$state = new state(\n\n\n  self::get_agent_from_json($agent),\n\n\n  item_activity::create_from_id($activityid),\n\n\n  $stateid,\n\n\n  null,\n\n\n  $registration\n\n\n)\n```\n I've just switched the last two arguments. I can't report this on tracker.moodle.org so I report it here. Best regards.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 10, 2025, 7:38 PM",
          "AuthorName": "Massimo Scali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1375646&course=5",
          "role": [
            "Picture of Massimo Scali"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "core_xapi_delete_state throws exception if registration is provided",
          "Text": "Good catch, looks like you’re right about the argument order. I just checked the constructor for the state class and it does expect $registration as the last parameter. Swapping those two makes sense and it explains why your fix worked. Surprised this hasn’t been picked up yet, might be worth sharing on the Moodle dev forums too since tracker access is limited for some users. In the short term, seamlessly integrating your own patch should keep things stable until it’s officially resolved. Furthermore, if you’re working on bigger projects and need reliable implementation or debugging support, an AI software development company can help you streamline these kinds of issues and future-proof your builds.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 5, 2025, 6:50 PM",
          "AuthorName": "Geeks Ltd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7619385&course=5",
          "role": [
            "Picture of Geeks Ltd"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469395,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469395",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "API Stopped Working",
          "Text": "I have some code in place that run every hour that uses Moodle API to load data about users, courses, enrollment, etc. They all worked very well until recently. They just stopped working, all of a sudden. The API keys did not expired. It all stopped working on July 3rd. I only noticed now.  This is a very urgent matter. Any help is really appreciated. I used this URL for the web service call: https://MYCOMPANY.moodlecloud.com/webservice/rest/server.php Again, all worked fine for 2 years until July 3rd. Any idea of what happened and how to fix it? Additionally, I like to state how extremely frustrated I am with Moodle. It is impossible to find support. You go to Support and basically they send you to forums like this. It is like saying \"you pay us but if you need help, good luck, hahahaha\". The API documentation? Forget about it finding any valid information there. It is confused, unorganized, impossible to find anything. Overall, what a piece of crap. Anyway, hopefully some kind soul can help me to find this, but seeing how little interaction these forums have, I do not have much hope.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 14, 2025, 11:56 PM",
          "AuthorName": "Igor Alcantara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7537310&course=5",
          "role": [
            "Picture of Igor Alcantara"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 468081,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468081",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Issue with API endpoint after moodle security updates",
          "Text": "we recently applied moodle security patches to Moodle 4.5.4 (Build: 20250502) from Moodle 4.5.1 (both on php 8.1) In doing so this seems to have broken our API module we built for bringing in course enrollments from our SIS the following error message comes up when viewing the web services/external services/functions of of the web service: `Exception - Class \"external_api\" not found` stacktrace: line 17 of /local/attendance/externallib.php: Error thrown line 75 of /lib/external/classes/external_api.php: call to require_once() line 217 of /webservice/renderer.php: call to core_external\\external_api::external_function_info() line 123 of /admin/webservice/service_functions.php: call to core_webservice_renderer->admin_service_function_list() I went down this rabbit hole: Github link to Moodle issue 2338 as the error was similar and when adding the line to the local plugins externallib.php: \n```text\nrequire_once($CFG->\ndirroot\n.'/lib/externallib.php');\n```\n the error becomes: `Exception - call_user_func(): Argument #1 ($callback) must be a valid callback, non-static method local_attendance_external::get_attendance_for_course_parameters() cannot be called statically` stack trace: line 110 of /lib/external/classes/external_api.php: TypeError thrown line 110 of /lib/external/classes/external_api.php: call to call_user_func() line 217 of /webservice/renderer.php: call to core_external\\external_api::external_function_info() line 123 of /admin/webservice/service_functions.php: call to core_webservice_renderer->admin_service_function_list() Any advice on how to resolve this issue would be helpful, thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 21, 2025, 2:54 AM",
          "AuthorName": "Walter Pabis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5590981&course=5",
          "role": [
            "Picture of Walter Pabis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Issue with API endpoint after moodle security updates",
          "Text": "After updating to Moodle 4.5.4, we fixed the API error by requiring `externallib.php` and making methods static—just like ensuring smooth performance through regular website updates and optimization .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 30, 2025, 3:49 PM",
          "AuthorName": "alita joz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7473600&course=5",
          "role": [
            "Picture of alita joz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 467890,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467890",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Need help debugging REST call",
          "Text": "Moodle Version 4.5.4+ (Build: 20250417). I'm trying to automatically enroll teachers and students based on an external system. I'm stuck in my very first experiment; \n```text\ncurl \"https://my-production-\ndomain\n/webservice/rest/\nserver\n.php?moodlewsrestformat=json&wstoken=foo&wsfunction=core_webservice_get_site_info\"\n```\n This produces `{` `exception: \"webservice_access_exception\",` `errorcode: \"accessexception\",` `message: \"Access control exception\",` `}` And I can't figure out why. I only have only one token: This token is mapped to user DCI Web Services who is a site administrator. The service DCI Custom Test API is enabled, it has the DCI Web Services user in authorized users, and it has core_webservice_get_site_info in its list of functions, amongst others. What I am missing?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1878352/image%20%281%29.png?1746710772733"
          ],
          "Time": "Thursday, May 8, 2025, 9:27 PM",
          "AuthorName": "Joel Peltonen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7274607&course=5",
          "role": [
            "Picture of Joel Peltonen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 467053,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467053",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "mod_attendance_add_session include QR Code",
          "Text": "Hello, I'm developping a script where I gather the required information from our private database for creating a session for an attendance instance on Moodle. The script will run automatically so that our colleagues won't have to create sessions manually anymore, hopefully. So far, I managed to create sessions through the API function mod_attendance_add_session, however the created sessions don't have the QR code feature although the necessary settings are checked by default in our Moodle environment. I hoped it'd work to add \"includeqrcode = 1\" and other necessary keywords as parameters although it wasn't mentioned in the API documentation, but unfortunately it didn't work. Is there any way to create a session through an API call, which has the QR code activated? Thank you in advance for any help you can provide!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 25, 2025, 11:11 PM",
          "AuthorName": "Feu Noct",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7302844&course=5",
          "role": [
            "Picture of Feu Noct"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: mod_attendance_add_session include QR Code",
          "Text": "Unfortunately the add_session() webservice is pretty basic and doesn't support a number of the session settings. If you have internal development capabilities, pull requests to improve that are always welcome!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 28, 2025, 3:52 PM",
          "AuthorName": "Dan Marsden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21591&course=5",
          "role": [
            "Picture of Dan Marsden",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 466970,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=466970",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Capabilities for the core_message_get_conversations web service",
          "Text": "Hello @ All What capabilities/permissions does the role that wants to use the core_message_get_conversations web service require? Thanks 4Help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 21, 2025, 6:02 PM",
          "AuthorName": "Daniel Jäger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6275840&course=5",
          "role": [
            "Picture of Daniel Jäger"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 465263,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465263",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Quiz Matching Question API Test",
          "Text": "mod_quiz_process_attempt please help me how to test this function in postman API Test how to pass answer of Question. my Answer is : Seta -> Geta; Ram -> Shyam; monu -> sonu moodlewsrestformat:json wsfunction:mod_quiz_process_attempt wstoken:818b0eb3222ff44120a12e92c29515be attemptid:14697 timeup:1 finishattempt:1 data[0][name]:slot data[0][value]:1 data[1][name]:q14719:1_answer data[1][value]:1 data[2][name]:q14719:1_:sequencecheck data[2][value]:1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 6:25 PM",
          "AuthorName": "Mohd Inam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6327255&course=5",
          "role": [
            "Picture of Mohd Inam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Quiz Matching Question API Test",
          "Text": "Have you looked at the unit tests?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 7:28 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz Matching Question API Test",
          "Text": "yes",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 7:39 PM",
          "AuthorName": "Mohd Inam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6327255&course=5",
          "role": [
            "Picture of Mohd Inam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz Matching Question API Test",
          "Text": "how to set Quiz Matching Answer : data[1][name]:q14719:1_answer data[1][value]:1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 7:41 PM",
          "AuthorName": "Mohd Inam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6327255&course=5",
          "role": [
            "Picture of Mohd Inam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz Matching Question API Test",
          "Text": "It depends on the question type and the configuration of the specific question of that type. mod_quiz_get_attempt_data returns the HTML of each question - which will include the input and select names you need. Working out the values is something you will have to do. The other way you can work it out is to view the question in a web browser, and submit it, and look at hte content of the POST request in your browser developer tools. (Actually, it might be good if mod_quiz_get_attempt_data returned by that method included the result of->get_expected_data for each question.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2025, 12:26 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz Matching Question API Test",
          "Text": "actually  : Setp-1 : wsfunction called mod_quiz_start_attempt moodlewsrestformat:json wsfunction:mod_quiz_start_attempt wstoken:818b0eb3222ff44120a12e92c29515bf quizid:71 forcenew:1 i received attemped (14702) id and uniqueid (14724) (as a Question ID) then Setp-2 : wsfunction called mod_quiz_process_attempt passing the parameter moodlewsrestformat:json wsfunction:mod_quiz_process_attempt wstoken:818b0eb3222ff44120a12e92c29515bf attemptid:14702 timeup:1 finishattempt:1 data[0][name]:slot data[0][value]:1 data[1][name]:q14724:1_answer data[1][value]:1:1 data[2][name]:q14724:1_:sequencecheck data[2][value]:1 and not properly Answer",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 18, 2025, 5:48 PM",
          "AuthorName": "Mohd Inam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6327255&course=5",
          "role": [
            "Picture of Mohd Inam"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463937,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463937",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Error in token.php",
          "Text": "Hi! I have a Moodle 4.5 installed and I´m configuring external webservices I´ve been using in another moodle 4.0 with no problems. But now, in this new version, when I add a token adding name, user an service, it generates the token but I get this error: \"Excepción - core_webservice\\reportbuilder\\local\\systemreports\\tokens::get_missing_capabilities(): Argument #3 ($serviceshortname) must be of type string, null given, called in [ dirroot ]/webservice/classes/reportbuilder/local/systemreports/tokens.php on line 146\" And if I go to admin/webservice/tokens.php I can only see the error, not the list of tokens. Can you help me to solve this? Thanks in advance!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 22, 2024, 1:16 AM",
          "AuthorName": "Susana Willemoës",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=73944&course=5",
          "role": [
            "Picture of Susana Willemoës"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error in token.php",
          "Text": "Hi! I want to add that I can see the error with Boost theme. Thank you!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 22, 2024, 6:13 PM",
          "AuthorName": "Susana Willemoës",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=73944&course=5",
          "role": [
            "Picture of Susana Willemoës"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error in token.php",
          "Text": "And with debug on it shows this: Trazado de la pila (stack): line 214 of /webservice/classes/reportbuilder/local/systemreports/tokens.php: TypeError thrown line 146 of /webservice/classes/reportbuilder/local/systemreports/tokens.php: call to core_webservice\\reportbuilder\\local\\systemreports\\tokens::get_missing_capabilities() line 655 of /reportbuilder/classes/local/report/column.php: call to core_webservice\\reportbuilder\\local\\systemreports\\tokens::core_webservice\\reportbuilder\\local\\systemreports\\{closure}() line 235 of /reportbuilder/classes/table/system_report_table.php: call to core_reportbuilder\\local\\report\\column->format_value() line ? of unknownfile: call to core_reportbuilder\\table\\system_report_table::core_reportbuilder\\table\\{closure}() line 233 of /reportbuilder/classes/table/system_report_table.php: call to array_walk() line 84 of /lib/table/classes/ sql _table.php: call to core_reportbuilder\\table\\system_report_table->format_row() line 227 of /lib/table/classes/sql_table.php: call to core_table\\sql_table->build_table() line 58 of /reportbuilder/classes/output/renderer.php: call to core_table\\sql_table->out() line 78 of /lib/classes/output/plugin_renderer_base.php: call to core_reportbuilder\\output\\renderer->render_system_report_table()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 22, 2024, 7:55 PM",
          "AuthorName": "Susana Willemoës",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=73944&course=5",
          "role": [
            "Picture of Susana Willemoës"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error in token.php",
          "Text": "Hi @susana, i have upgraded to Moodle 4.5 and experiencing the same issue with my webservices. Did you find any solution to the issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 28, 2024, 3:34 PM",
          "AuthorName": "Lebato MT",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2067139&course=5",
          "role": [
            "Picture of Lebato MT"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error in token.php",
          "Text": "I have the same error with Moodle 4.5+. I will open a ticket",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 9, 2024, 6:42 PM",
          "AuthorName": "Andrea Briganti",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861532&course=5",
          "role": [
            "Picture of Andrea Briganti"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Error in token.php",
          "Text": "Hi Susana, this is being tracked in MDL-83959",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 9, 2024, 7:18 PM",
          "AuthorName": "Paul Holden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=219220&course=5",
          "role": [
            "Picture of Paul Holden",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Moodle Workplace team",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 455363,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455363",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moving a file from Draft Area to a course using REST API endpoint",
          "Text": "Hi everyone I am relatively new to moodle web services. I want to upload a file under a course in moodle. My current status is : I can upload a file in draft area and move it private_files_area but I can't move it under a course. I just couldn't find any API endpoints regarding that. Is there any one who can give me a solution to the problem or atleast guide me to appropiate tutorials or resources? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 13, 2024, 12:59 AM",
          "AuthorName": "Nasim Hossain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6044338&course=5",
          "role": [
            "Picture of Nasim Hossain"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moving a file from Draft Area to a course using REST API endpoint",
          "Text": "Anyone ???",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 28, 2024, 5:48 PM",
          "AuthorName": "Simcentric Simson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6922596&course=5",
          "role": [
            "Picture of Simcentric Simson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462909,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462909",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.1 API - Need some general pointers",
          "Text": "Hi, I'm a Moodle administrator and I'm familiar with most of Moodle but my company has a new digital services director who wants to integrate our Moodle site to push data to and from other systems that we use. He says this can all be done by using an API. I know that Moodle has an API but that's the extent of my knowledge. I've looked at the documentation but it doesn't mean much to me at all. Can you help me with some general questions so that I can at least have a sensible conversation with the new director about this? We don't host our own Moodle and don't have any Moodle-technical people in our team. What parts of Moodle does the API cover - for exchanging data with external systems? Can we implement API use without having direct access to the server , database or Moodle code? Do we need a developer to use whatever is standard in Moodle? How easy is it to extend the API to any part of Moodle e.g. quiz question scores, quiz results? (I'm assuming we would need a developer for this). I'm sorry if these are really basic questions or if I've missed documentation that explains this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 15, 2024, 5:40 PM",
          "AuthorName": "Matt Parker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6873454&course=5",
          "role": [
            "Picture of Matt Parker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4.1 API - Need some general pointers",
          "Text": "Some *very* general pointers! It took us years to really understand the API system and just how powerful it is. Even though our hosting company and others were telling us all along that we could do most of our interfacing with student recrods systems and so on with the Moodle apis. SO it's worth persevering, but again, it is a part of IT management's mantra at the moment that everything can be linked up with APIs and thereby, they think, save them a salary or two. In fact I'd say learning about various APIs that might work together with Moodle has enabled us to do *more* good things rather than just the same quicker or more easily with fewer people! But to your questions: 1. Do have a look at the documentation in your server admin area - /admin/webservice/documentation.php just seeing the names of the end points will give you a flavour of what areas of Moodle you can interact with out of the box - both fetching for injecting into other systems and posting things into Moodle from other systems. 2. Yes...the whole point about api endpoints in this case is that they are just smart web urls that with the right information in the urls can provide you with lots of data, or handle lots of input. All the administration of what Moodle users get access to what is done through the web in the Moodle admin areas. 3. Not entirely. Obviously you need someone who is proficient in some technology that can form the right requests and generate and execute url requests, but they needn't really be Moodle people. If you have people already integrating other different back office systems the principles are the same and they ought to be able to work out what to do to add Moodle to their mix. 4. Refer you back to 1. above. A lot of the moodle apis appear to have been designed to help builders of apps (Moodle mobile for instance) so stuff like fetch someone's results and allowing them to be displayed somewhere outside Moodle is already there. But yeah, if you find things the standard APIs don't give you access to you might find you need someone to develop new endpoints for you ( and someone to deploy new moodle code/plugins to your server). There are also new ways of creating apis - I'm afraid I'm the sort who takes a while to understand what's there just at the point someone cleverer comes along and starts to do it better. and then it takes mea nother age to work out what they're doing different.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2024, 7:08 AM",
          "AuthorName": "Jock Coats",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2291&course=5",
          "role": [
            "Picture of Jock Coats"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.1 API - Need some general pointers",
          "Text": "Thanks so much! This is really useful. I feel a lot better now. Regarding your response to point 2: 2. Yes...the whole point about api endpoints in this case is that they are just smart web urls that with the right information in the urls can provide you with lots of data, or handle lots of input. All the administration of what Moodle users get access to what is done through the web in the Moodle admin areas. Can you (or anyone else) share an example URL that would grab some simple information e.g. first/last names of all users on the site? What do you mean by \"All the administration of what Moodle users get access to what is done through the web in the Moodle admin areas.\"? Does this mean that most of the site admin still has to be done manually?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2024, 4:53 PM",
          "AuthorName": "Matt Parker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6873454&course=5",
          "role": [
            "Picture of Matt Parker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.1 API - Need some general pointers",
          "Text": "Funnily enough, no! There are a couple of different ways different apis work, and I had forgotten that Moodle ones don't expose everything on the url, but carry their parameters in the body of the request. The closest I can get is to show you the \"request body\" of one I've been playing around with this morning (which is not a publiic moodle api but one we've written but the principle is the same - you sent a token to tell it who you are, a function you want it to carry out and then whatever parameters that particular function needs to work: moodlewsrestformat:json wstoken:{{moodle-housekeeping-token}} wsfunction:local_obu_assessment_extensions_external_award_exceptional_circumstance studentidnumber: 9999999 extensiondays:14 groupidnumber:2024.ZZZZ9999_S1_1_202409_75653_CWS1WEEK13-3_68559_OE And you send that to /webservice/rest/server.php I run most of mine from inside local php scripts where I can compare data from one system with moodle and send some change based on the differences. So yeah, for the most part you need someone able to write the equivalent of that script (either on a middleware machine or potentially on the machine that is the source of the data you want to send or retrieve from Moodle). A great tool to get familiar with (more familiar than me - I always forget - hence working all morning to get something right - how to format the requests) as called \"PostMan\". Which would allow you to explore your Moodle apis and see what they return if they are getting data - which you might then use to send to another api on the system you want to update, or vice versa to see how to put things into moodle perhaps as a result of a prior query or api call to the system you want as your source for changes. So, for instance, at the moment I use Moodle apis, mostly after querying an Oracle database from our student records system, to update some course details if they change dates in the SRS, to update student records in Moodle (usually profile fields), to move courses between categories, to create metalinks automatically, to create an populate groups in courses based on our timetabling system and so on. But that's all just scratching the surface really! If we had the time, for instance, we could watch for course leaders changing our course template and reverse what they had changed to really annoy them Many, but by no means all, third party plugins often have their own api \"endpoints\" so, say, you could pull grades from moodle assignments and transfer them to your student record system, and it is basically infinitely extensible (and I understand getting easier to do though I haven't really fully understood how the new recommended way of doing it is. But we wrote one that takes some of the functions of the mod_attendance module and exposes them so that our timetabling system can set up moodle attendance sessions for timetabled classes and so on. Cheers, Jock",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, October 16, 2024, 8:48 PM",
          "AuthorName": "Jock Coats",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2291&course=5",
          "role": [
            "Picture of Jock Coats"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.1 API - Need some general pointers",
          "Text": "So here's an illustration of the same request set out in the PostMan tool I was talking about:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1858667/Screenshot%202024-10-16%20at%2014.05.25.png"
          ],
          "Time": "Wednesday, October 16, 2024, 9:08 PM",
          "AuthorName": "Jock Coats",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2291&course=5",
          "role": [
            "Picture of Jock Coats"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461592,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461592",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "mod_quiz_save_attempt for multiple choice question not working",
          "Text": "Hi, I am trying to save a multiple choice quiz answer via Web Service API but it is not working.  Please take a look. This is the question: Given 15, select the all the correct operations a. 5 x 3 b. 2 x 10 c. 1 x 15 d. 3 x 6 e. 4 x 4 And these are the database row entries for the question mdl_question `id  parent  name              questiontext                                        qtype` `6   0       Multiplication 1  <p>Given 15, select all the correct operations</p>  multichoice` mdl_question_answers `id  question  answer         answerformat  fraction` `11  6         <p>5 x 3</p>   1             0.5000000` `12  6         <p>2 x 10</p>  1             0.0000000` `13  6         <p>1 x 15</p>  1             0.5000000` `14  6         <p>3 x 6</p>   1             0.0000000` And when I answer the question on the webpage, these are the answer database entries: mdl_question_attempts `id  slot  questionsummary                                                                   rightanswer    responsesummary` `11  1     Given 15, select all the correct operations: 2 x 10; 1 x 15; 3 x 6; 5 x 3; 4 x 4  1 x 15; 5 x 3  1 x 15; 5 x 3` mdl_question_attempt_steps `id  questionattemptid  sequencenumber  state        fraction` `17  11                 0               todo` `18  11                 1               complete` `19  11                 2               gradedright  1.0000000` mdl_question_attempt_step_data `id  attemptstepid  name     value` `25  17             _order   12,13,14,11,15` `26  18             choice0  0` `27  18             choice1  1` `28  18             choice2  0` `29  18             choice3  1` `30  18             choice4  0` `31  19             -finish  1` Now I am trying the save the answer via Web Services API using `mod_quiz_start_attempt` , `mod_quiz_save_attempt` , and `mod_quiz_process_attempt.` Running `mod_quiz_start_attempt:` \n```text\nhttp://**\ndomain\n.com**/webservice/rest/\nserver\n.php?\n\n\nwstoken=**token**&wsfunction=mod_quiz_start_attempt&moodlewsrestformat=json&\n\n\nquizid=1&userid=2\n```\n Then the db entries are mdl_question_attempts `id  slot  questionsummary                                                                   rightanswer    responsesummary` `26  1     Given 15, select all the correct operations: 5 x 3; 2 x 10; 1 x 15; 3 x 6; 4 x 4  5 x 3; 1 x 15` mdl_question_attempt_steps `id  questionattemptid  sequencenumber  state` `43  26                 0               todo` mdl_question_attempt_step_data `id  attemptstepid  name    value` `59  43             _order  12,13,14,11,15` Now running `mod_quiz_save_attempt` : \n```text\nhttp://**domain.com**/webservice/rest/server.php?\n\n\nwstoken=**token**&wsfunction=mod_quiz_save_attempt&moodlewsrestformat=json&\n\n\nattemptid=26&\n\n\ndata[0][name]=choice0&data[0][value]=1&\n\n\ndata[1][name]=choice1&data[1][value]=0&\n\n\ndata[2][name]=choice2&data[2][value]=1&\n\n\ndata[3][name]=choice3&data[3][value]=0&\n\n\ndata[4][name]=choice4&data[4][value]=0\n```\n No db change Note that I am using `data[0][name]=choice0` since `choice0 .. 4` is the name used in `mdl_question_attempt_step_data` Then running `mod_quiz_process_attempt` : \n```text\nhttp://**domain.com**/webservice/rest/server.php?\n\n\nwstoken=**token**&wsfunction=mod_quiz_process_attempt&moodlewsrestformat=json&\n\n\nattemptid=26&finishattempt=1\n```\n Then the db changes to mdl_question_attempts `id  slot  questionsummary                                                                   rightanswer    responsesummary` `26  1     Given 15, select all the correct operations: 5 x 3; 2 x 10; 1 x 15; 3 x 6; 4 x 4  5 x 3; 1 x 15` `reponsesummary` is not filled mdl_question_attempt_steps `id  questionattemptid  sequencenumber  state` `43  25                 0               todo` `44  26                 1               gaveup` it has `gaveup` , rather than `complete` and `gradedright.` mdl_question_attempt_step_data `id  attemptstepid  name     value` `59  43             _order   12,13,14,11,15` `60  44             -finish  1` no entries of `choice0 ... choice4` I am using C# to run these functions.  How am I doing it wrong? And I am wondering if there are sample codes for these and other API functions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 31, 2024, 3:20 PM",
          "AuthorName": "Leon Choi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1234763&course=5",
          "role": [
            "Picture of Leon Choi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: mod_quiz_save_attempt for multiple choice question not working",
          "Text": "I don't know the answer to your qustion, but this web service is used by the Moodle moodle app, and it works there, so one way to solve this would be to attempt the quiz in the mobile app in a way that lets you inspect the network traffic, to see what the right request is.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 11, 2024, 3:05 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461366,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461366",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "check_xmlrpc_usage en español",
          "Text": "Hola, llevo varios días con esta notificación de problema \"check_xmlrpc_usage\" \"Error leyendo la información sobre el entorno (14)\", lo cuál aparentemente no me permite actualizar moodle desde la versión 3.11.8 a una superior. El sitio está alojado en VPS, y xmlrpc se encuentra habilitado para PHP 7.4. Intenté también configurando el lenguaje a uno universal. Si alguien pudiera guiarme en alguna solución lo agradecería.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1852496/image.png"
          ],
          "Time": "Saturday, August 24, 2024, 1:15 AM",
          "AuthorName": "Mauricio Villegas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6621475&course=5",
          "role": [
            "Picture of Mauricio Villegas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 459878,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459878",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Pagination of webservices",
          "Text": "Hi, I have to read information for a very large instance (over 10k courses and 100k enrolments). Is there a way to paginate REST webservices calls? If not, what is the best way to extract that information from Moodle? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 2, 2024, 10:54 AM",
          "AuthorName": "Eduardo Gomes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6433582&course=5",
          "role": [
            "Picture of Eduardo Gomes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Pagination of webservices",
          "Text": "Hi Gomes, Webservices data can't paginate, You can call enrolled users by course ID one by one, and from web service return the data in JSON format. But it would take time. regards Puspen",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 13, 2024, 12:04 AM",
          "AuthorName": "Puspen Das",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6588854&course=5",
          "role": [
            "Picture of Puspen Das"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460803,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460803",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Error on getting MOODLE Login API using postman",
          "Text": "Hi, I am testing moodle login API using postman( https://learn.unhabitat.org/login/token.php?username=myusername&password=mypassword&service=myservice and i am getting this error below that the web service is not available while the service is enabled. kindly help { \"error\": \"Web service is not available. (It doesn't exist or might be disabled.)\", \"errorcode\": \"servicenotavailable\", \"stacktrace\": \"* line 92 of /login/token.php: moodle_exception thrown\\n\", \"debuginfo\": \"\\nError code: servicenotavailable\", \"reproductionlink\": \" https://learn.unhabitat.org/ \"",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1850439/image.png"
          ],
          "Time": "Saturday, August 3, 2024, 5:06 PM",
          "AuthorName": "amani minja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1796054&course=5",
          "role": [
            "Picture of amani minja"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 460326,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460326",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Course loads from REST API but not web UI",
          "Text": "Hello. I'm building an application that loads data from Moodle using the REST API. When I call `core_course_get_courses` , I get a course that doesn't show up in the Moodle UI. When I try to view the course by passing the id in the URL `/course/view.php?id=myid` , I get a redirect. When I try to edit the course instead, I get this: So far, maybe because I'm new to Moodle, I haven't seen any difference between it and any other course. I want to to exclude from the list of available courses, but I don't know what to use as an exclusion field.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1848557/Screenshot%202024-07-17%20at%2016-26-56%20Error%20INEC.png"
          ],
          "Time": "Wednesday, July 17, 2024, 11:30 PM",
          "AuthorName": "Dee Odee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6552256&course=5",
          "role": [
            "Picture of Dee Odee"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course loads from REST API but not web UI",
          "Text": "Never mind, I found it in the `format` field. In the \"weird\" course, it was set to `site` , and for the others, it was set to `topics` .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 17, 2024, 11:58 PM",
          "AuthorName": "Dee Odee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6552256&course=5",
          "role": [
            "Picture of Dee Odee"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460102,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460102",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Call webservices without wstoken parameter",
          "Text": "Hello Moodle team, I am programming for many years but I started to work on Moodle recently. I have created a web service for Moodle and everything works great while I am sending wstoken parameter in Postman, but when I set the 'loginrequired' => false in db/ server .php file of my web service, I expect that there is NO NEED to send wstoken parameter when calling the service. Is it right? If not, how can I write a service that everyone can call it before login or getting wstoken? I am using this URL to call services: http://localhost:8083/webservice/rest/server.php?wsfunction=local_my_services_get_courses&moodlewsrestformat=json I am getting the following error when I remove wstoken parameter: { \"exception\": \"moodle_exception\", \"errorcode\": \"invalidtoken\", \"message\": \"Invalid token - token not found\" } My 'server.php' file is like this : $functions = array( 'local_my_services_get_courses' => array( 'classname'   => 'local_my_services_external', 'classpath'   => 'local/my_services/externallib.php', 'methodname'  => 'get_courses', 'description' => 'Get courses list.', 'type'        => 'read', ' ajax '          => true, 'loginrequired' => false, ), $services = array( 'My web service'  => array( 'functions' => array( 'local_my_services_get_courses', ), 'enabled' => 1, 'restrictedusers' => 0, 'shortname' => 'my_web_services', 'downloadfiles' => 1, 'uploadfiles' => 1 ), ); Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 4:41 AM",
          "AuthorName": "Kia Kaviani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6024498&course=5",
          "role": [
            "Picture of Kia Kaviani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Call webservices without wstoken parameter",
          "Text": "Sorry, I made a typo, the filename is db/services.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 13, 2024, 1:32 PM",
          "AuthorName": "Kia Kaviani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6024498&course=5",
          "role": [
            "Picture of Kia Kaviani"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458092,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458092",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Connecting make.com to Moodle API",
          "Text": "Hi, I followed the instructions how to add the API user with token and everything on my Moodle site. Now, I wasn't sure how to fill out the form on make.com for the module \"http API key auth request\": For the API Key parameter name in the Credentials, is it correct to leave it on \"X-API-Key\"? In some forum posts, this is changed to \"apikey\" or \"api_key\". Or, should it not be \"wstoken\", as this is the Moodle parameter that expects the key? Anything else to add to the header? Or will make.com use this only for authentification with the credentials? And then I add all the fields in \"Query String / Add parameter\"? Like... wsfunction = core_user_create_users email = 1. data: attributes: Email (= mapping the fields) If someone has done this with make.com, it would be nice to see a screenshot or other clarification on these questions. Thank you! Nils",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1839690/makecom.jpg"
          ],
          "Time": "Thursday, May 2, 2024, 9:21 PM",
          "AuthorName": "Nils Klippstein",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6371639&course=5",
          "role": [
            "Picture of Nils Klippstein"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Connecting make.com to Moodle API",
          "Text": "Hey Nils, I am hustling with the same challenge of connecting make and Moodle. Is it working for you now? If yes, how did you achieve it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 3, 2024, 1:03 AM",
          "AuthorName": "Ludwig Linnekogel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5208373&course=5",
          "role": [
            "Picture of Ludwig Linnekogel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Connecting make.com to Moodle API",
          "Text": "I found it: it's API Key parameter name: wsfunction API Key placement: in the query string Hope this helps people in the future",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 8, 2024, 10:59 PM",
          "AuthorName": "Ludwig Linnekogel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5208373&course=5",
          "role": [
            "Picture of Ludwig Linnekogel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Connecting make.com to Moodle API",
          "Text": "Cool, thank you so much! I haven't been looking into it for a while as we first need to generate more interest in the project. Now, I'm sort of mentally away from it, but hopefully I'll find the right time to look into it again soon.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, July 8, 2024, 11:58 PM",
          "AuthorName": "Nils Klippstein",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6371639&course=5",
          "role": [
            "Picture of Nils Klippstein"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449509,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449509",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Pagination/Search of Moodle files?",
          "Text": "I have been researching the Moodle web services that exist for getting files from Moodle by course (however by instructor would work for my purposes as well). I found the mod_resource_get_resources_by_courses webservice. From what I've read in the documentation, I don't see anything about this service using pagination or having the ability to search for a file by its name. I'd just like to confirm that this is the correct conclusion? If so, are there any other web services that I should be considering that do have these features when fetching files from Moodle? Also when I test this web service myself, I noticed that it does not return files that are inside folders in Moodle, just files that are within a Topic. Is there any way to get files from within a folder?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 17, 2023, 1:31 AM",
          "AuthorName": "Mary Gwozdz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5382766&course=5",
          "role": [
            "Picture of Mary Gwozdz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Pagination/Search of Moodle files?",
          "Text": "H Mary Gwozdz, did you find an answer for this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 5, 2024, 8:34 AM",
          "AuthorName": "Eduardo Gomes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6433582&course=5",
          "role": [
            "Picture of Eduardo Gomes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Pagination/Search of Moodle files?",
          "Text": "No, this is as far as I got in my research.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 5, 2024, 9:30 PM",
          "AuthorName": "Mary Gwozdz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5382766&course=5",
          "role": [
            "Picture of Mary Gwozdz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458374,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458374",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Umbraco LMS & Moodle - creating and enrol users with API?",
          "Text": "Hi everybody, I have a website built with Umbraco CMS. In this site are presented some e-learning and blended courses that are, however, on Moodle. Now I would like to make sure that I create a registration form in Umbraco where a user registers his data, chooses username and password, as well as the chosen course (drop-down list?) and, through the API (of Moodle?) the user is created in the LMS and could access the course immediately. Can this be done? Can anyone spare some time to explain to me how I should proceed step by step? It is also okay if it can be done with an HTML site. Thank you very much. David",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, May 13, 2024, 1:13 AM",
          "AuthorName": "David Delcò",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1718191&course=5",
          "role": [
            "Picture of David Delcò"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Umbraco LMS & Moodle - creating and enrol users with API?",
          "Text": "In theory, yes it can be done. If you take a look at your documentation in the Moodle site - site administration > server > web services > API documentation. That should give you a place to start.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 21, 2024, 9:55 AM",
          "AuthorName": "Aaron Harker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2561682&course=5",
          "role": [
            "Picture of Aaron Harker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Umbraco LMS & Moodle - creating and enrol users with API?",
          "Text": "OK, thank you Aaron, I will take a look at this documentation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 21, 2024, 2:41 PM",
          "AuthorName": "David Delcò",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1718191&course=5",
          "role": [
            "Picture of David Delcò"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ri: Re: Umbraco LMS & Moodle - creating and enrol users with API?",
          "Text": "One thing I'll add, pay special attention to the structure of the data you are sending as it is very finicky.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 21, 2024, 3:17 PM",
          "AuthorName": "Aaron Harker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2561682&course=5",
          "role": [
            "Picture of Aaron Harker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Ri: Re: Umbraco LMS & Moodle - creating and enrol users with API?",
          "Text": "OK, thanks again Aaron. I will sure pay attention ad test all on a test platform before any production use.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 22, 2024, 5:43 PM",
          "AuthorName": "David Delcò",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1718191&course=5",
          "role": [
            "Picture of David Delcò"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459036,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459036",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Dokumentation der benötigten Rechte für eine WS-Function",
          "Text": "Hallo in die Runde, wo ist dokumentiert, welche Rechte ein Webservice benötigt? Speziell: Webservice \"core_user_create_users\" Welche Rechte muss die Rolle des Users haben, der den Webservice schlussendlich benutzt? Die Rolle soll mit minimalen Rechten ausgestattet werden. Also authentifizierter User ist nicht gewünscht. Danke für Eure Hilfe",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, June 3, 2024, 4:40 PM",
          "AuthorName": "Daniel Jäger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6275840&course=5",
          "role": [
            "Picture of Daniel Jäger"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 458372,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458372",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Webservice issue - help with fixing the problem please.",
          "Text": "Hi there, I am using Booking plugin (pro version) but I am unable to add any new instances. Everytime I want to add it shows the following error: Exception - Undefined constant \"mod_booking\\LOCAL_ENTITIES_FORM_ENTITYID\" File: /mod/booking/classes/dates.php Line: 323 \n```text\nError code: generalexceptionmessage\n* line 323 of /mod/booking/classes/dates.php: Error thrown\n* line 233 of /mod/booking/classes/option/fields/optiondates.php: call to mod_booking\\dates::set_data()\n* line 259 of /mod/booking/classes/option/fields_info.php: call to mod_booking\\option\\fields\\optiondates::set_data()\n* line 197 of /mod/booking/classes/form/option_form.php: call to mod_booking\\option\\fields_info::set_data()\n* line 72 of /lib/form/classes/external/dynamic_form.php: call to mod_booking\\form\\option_form->set_data_for_dynamic_submission()\n* line ? of unknownfile: call to core_form\\external\\dynamic_form::execute()\n* line 253 of /lib/external/classes/external_api.php: call to call_user_func_array()\n* line 83 of /lib/\najax\n/service.php: call to core_external\\external_api::call_external_function()\n\n\n\n\nI am really unable to figure it out. Could any of you please suggest me how to handle this and get it working.\n\n\nWhen looking into API documention, I could see a few more errors. I really do not know if both of them are linked or not. Any help would be highly appreciated.\n\n\nMany thanks\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 13, 2024, 12:29 AM",
          "AuthorName": "Rashad Raza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4138719&course=5",
          "role": [
            "Picture of Rashad Raza"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 458274,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458274",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding activities to a course with web service (Re-open)",
          "Text": "I wanted to post as a contribution to the topic ( here ), but it has already been closed. I won't post the original conversation here, but if you want to get better informed about the context of my post, just head over there. I hope my insights can contribute in some way to the community. I'm not a developer, just a curious person. I go through documentations, codes, conversations, and forums, playing in the playground, creating (mostly failing) solutions for my specific needs. My latest experiment involved creating a PHP script that duplicates a course ( core_course_duplicate_course ), retrieves a list of LTIs present in the course ( mod_lti_get_ltis_by_courses ), and filters the values that interest me ( [id], [coursemodule], [name], [securetoolurl], [resourcekey], [password] ). For example: \n```text\nArray\n(\n    [0] => Array\n        (\n            [id] => 4\n            [coursemodule] => 83\n            [name] => External Tool\n            [securetoolurl] => \n            [resourcekey] => \n            [password] => \n        )\n\n    [1] => Array\n        (\n            [id] => 5\n            [coursemodule] => 84\n            [name] => External Tool\n            [securetoolurl] => \n            [resourcekey] => \n            [password] => \n        )\n)\n```\n My intention was to update the LTI data from an array containing the new values for each LTI item/module returned with ( mod_lti_get_ltis_by_courses ), but I got stuck precisely in the part of updating the values. In this search for a solution, I found numerous questions here in the Moodle Forums and on Stackoverflow. Based on what I discovered, I developed the following reasoning: When we edit or add a new activity in a course, it calls the file present in ' /course/modedit.php '. Reading this code, I found that it uses the identifiers 'module' and 'type' to load a form of the module to be edited/added present in ' /mod/[modulename]/mod_form.php '. The file ' mod_form.php ' uses its ' localib ' to create/update the module in the database . So, I imagine that one way to create/edit modules via Webservice would be: 1. Create an object for the module to be edited/created. For example: \n```text\n$lti = array(\n    'coursemodule' => 83, // From what I understood, modules in the editor are identified by the module ID in the course 'coursemodule' and not by the ID of the module itself.\n    'name' => 'External Tool',\n    'introfiles' => array(),\n    'securetoolurl' => null,\n    'resourcekey' => null,\n)\n```\n 2. Instantiate the class instance in 'mod_form.php' (in my case it would be ' mod_lti_mod_form ') and pass the object values to the ' set_data() ' method. I think something like this: \n```text\n$form = new mod_lti_mod_form(null, null, null, null);\n$data = new stdClass();\n$data->name = 'Name of your object';\n$form->set_data($data);\n```\n And let it create the activity itself. In this case, we would be using the method of creating the activity using the form, but instead of passing the values via text interface, we pass them directly via code. Does this make sense? Could following this path (with the necessary adjustments that a real developer would know to be necessary) lead to a resolution? I hope that together we can find a solution. Being able to update and create modules via Webservice would be very useful for the entire community. --- My language is Portuguese Translate with help from ChatGPT",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 9, 2024, 1:09 AM",
          "AuthorName": "Designer Instrucional",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4605530&course=5",
          "role": [
            "Picture of Designer Instrucional"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 457638,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457638",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "student role cant access api web services",
          "Text": "can someone help me with this problem: 1. I can execute the moodle built-in web services using an admin user. but, when I try to access it with another user with a student role assigned. it always says that the user doesn't have rest:use permission . I already allowed in the student role. I think it is cause when I try to check user capability It only shows my user assigned with an authorized user and there is no student role assigned for that user.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1838048/Screenshot%202024-04-19%20120152.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1838048/Screenshot%202024-04-19%20120206.png?forcedownload=1"
          ],
          "Time": "Friday, April 19, 2024, 1:05 PM",
          "AuthorName": "030_Ahmad Fikri Husaini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6399022&course=5",
          "role": [
            "Picture of 030_Ahmad Fikri Husaini"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 453324,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453324",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "gradereport_user_get_grade_items not returning item information",
          "Text": "In Moodle 3.9 (will test later versions) I am calling gradereport_user_get_grade_items on a course with 2 activities : a lesson and an assignment. The lesson grade is returned including the itemname but the assignment has itemname=null and itemtype=course. If I have multiple assignments, their grades are summed and returned as a single course item. Is there a way for me to get a list of the grades for each assignment along with it's weighting as I need to report this in an external system to build a student transcript.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 7, 2023, 1:52 AM",
          "AuthorName": "Pete Edwards",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2080240&course=5",
          "role": [
            "Picture of Pete Edwards"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: gradereport_user_get_grade_items not returning item information",
          "Text": "Can anyone help with this please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 1, 2024, 7:53 PM",
          "AuthorName": "Pete Edwards",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2080240&course=5",
          "role": [
            "Picture of Pete Edwards"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: gradereport_user_get_grade_items not returning item information",
          "Text": "The itemtype=course is the overall course grade for that user. I am also struggling to get all items returned. I have quizzes, assignments, a lesson, a H5P, a forum and one manual item. Only half my items are returning in the webservice response. They are not hidden nor locked. This is v3.10.x",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 12:51 AM",
          "AuthorName": "Louisa van der Linden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2680939&course=5",
          "role": [
            "Picture of Louisa van der Linden"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457297,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457297",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "writing a new service - Class \\\"external_function_parameters\\\" not found",
          "Text": "Hi everyone. I used the exact same instructions in moodle documantaions to create a web service. Yet when I use postman to send a request to the relevant endpoint, I recieve an error with the message: \" Class \\\"external_function_parameters\\\" not found\". Furthermore when I go to 'site adminstration->developement->webservice test client' I get the same error. I tried \" require_once('lib/externallib.php');\" as suggested in functions doc page upon which the error message changed to \"Failed opening required 'lib/externallib.php' (include_path='[ dirroot ]/lib/ pear ;C:\\Moodle_403\\ server \\php\\PEAR')\". I would appreciate it if you could help me with this. The Moodle version is 4.3. Attached is the entire plugin folder.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 8, 2024, 3:14 PM",
          "AuthorName": "sajed zarinpour",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6385070&course=5",
          "role": [
            "Picture of sajed zarinpour"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: writing a new service - Class \\\"external_function_parameters\\\" not found",
          "Text": "I think the docs need an update. I was able to get this right by going through the original externallib file located in \"moodle/lib/external/externallib.php\". One can see that the use clauses are changed to use core_external\\external_api; use core_external\\external_function_parameters; use core_external\\external_multiple_structure;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 8, 2024, 4:00 PM",
          "AuthorName": "sajed zarinpour",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6385070&course=5",
          "role": [
            "Picture of sajed zarinpour"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: writing a new service - Class \\\"external_function_parameters\\\" not found",
          "Text": "This documentation might help undestand what is different now: https://moodledev.io/docs/4.2/devupdate#external-api (Of course, the main 'how to write a web service' documentation should also be updated.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 8, 2024, 6:58 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 456735,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456735",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Web access not working",
          "Text": "Good Day I am trying to launch a server , it is hosted localled and webservices have been enabled. I am running ubuntu 22.04 lts and Moodle 4.3 php 8 at this stage I am running purely on external IP with intention to apply a domain later When I log in locally (192.x.x.x/moodle) I can access and fiddle with the server When I remote in via web it times out if I go to just the external IP I get the apache2 Default page If I change the /var/apache/html to the moodle directory - the page will not load.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2024, 4:15 PM",
          "AuthorName": "Dark Duck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6351014&course=5",
          "role": [
            "Picture of Dark Duck"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web access not working",
          "Text": "I will note that I can remotely SSH and FTP into the server. I have setup a subdomain that points to the ip of my home server (public static IP)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2024, 5:58 PM",
          "AuthorName": "Dark Duck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6351014&course=5",
          "role": [
            "Picture of Dark Duck"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web access not working",
          "Text": "webservices isn't needed for a computer browser to access a moodle site.  webservices intended for mobile support. From your description, sounds like you have a Ubuntu server (where moodle code/application) resides in a private network ... 192.168.0.0 - 192.168.255.255.   That's a private IP meant for local LAN or private WAN access only.   That network and any server on that network cannot be accessed from public internet without a boundary firewall set up to allow a mapped public IP address which you control  to a private IP address. All that to say .... networking comes before application ... and your issue is one of networking ... not necessarily moodle ... although config.php and wwwurl do come into play ... your moodle is the end point. Please see and read: https://ubuntu.com/server/docs/how-to-install-apache2 then https://docs.moodle.org/403/en/Masquerading (networking) 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 20, 2024, 6:31 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 456515,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456515",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Fetch a quiz questions via API for external service",
          "Text": "Hello, I am relatively new to the community. Let me know if question is a duplicate and the more details in your answers will be very helpful to me. I am trying to export quizzes and their questions (questions, answers) to an external service using the web service api. I managed to get the list of quizzes using the mod_quiz_get_quizzes_by_courses endpoint but I cannot export the quiz questions (questions, answers). Is there a way to export the list of questions using the API web service ? Is there a way using another service capable of querying the question bank? Thank you for your time.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 13, 2024, 3:47 AM",
          "AuthorName": "Babacar Thierry Diagne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6337093&course=5",
          "role": [
            "Picture of Babacar Thierry Diagne"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Fetch a quiz questions via API for external service",
          "Text": "It is not meaningful to as 'which questions are in this quiz' becuase it might be different for different students. You can only get the questions once you have created a quiz attempt for the current user. Now that you know that, it should be clear which services to use.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 15, 2024, 12:12 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Fetch a quiz questions via API for external service",
          "Text": "_\"It is not meaningful to as 'which questions are in this quiz' becuase it might be different for different students \" You mean that there are settings to filter questions in a quiz by student characterics ? In my case, i really want all the questions regardless of restrictions, as if i was a teacher.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 15, 2024, 9:36 PM",
          "AuthorName": "Babacar Thierry Diagne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6337093&course=5",
          "role": [
            "Picture of Babacar Thierry Diagne"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 456611,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456611",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Service function core_group_create_groupings gives error if no id number parameter added in the request",
          "Text": "Hi, I'm currently testing web service functions for setting up an external service integration. I encountered an issue with the core_group_create_groupings function. According to my understanding, the optional parameters are not necessary in the request. However, when I tried sending the request without including the id number, I received the following response: { \"exception\": \"invalid_response_exception\", \"errorcode\": \"invalidresponse\", \"message\": \"Invalid response value detected (Error in response - Missing required key in a single structure: idnumber)\", \"debuginfo\": \"Error in response - Missing required key in a single structure: idnumber\" } Interestingly, despite the error message, the grouping was created successfully in Moodle. I'm wondering if this is a bug or if I missed something in my request. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 15, 2024, 11:48 AM",
          "AuthorName": "Jasmin Salam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3966153&course=5",
          "role": [
            "Picture of Jasmin Salam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 456216,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456216",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle API - get all completions per course -  core_completion_get_activities_completion_status",
          "Text": "I have an external app that needs to know which users have completed a course in Moodle via the API. That is to say, it will want to know who completed course 123, and be given back a list. Through core_completion_get_activities_completion_status , we need to give userid to fetch data. Can its possible to get all enrolled users completion data at once. What to change for this, to get all user data. userid (Required) User ID \n```text\nGeneral structure\n\n\n\nint   \n//User ID\n```\n As per So far, the only way I've found to do this is \"core_enrol_get_enrolled_users\" to get the enrolled users, then iterating over that and hitting \"core_completion_get_course_completion_status\" for each enrolled user. Performance is obviously terrible as you end up with a round trip per user. Is there any way I can get Moodle to give me all the completions for a course in just one request?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 4, 2024, 9:08 PM",
          "AuthorName": "Ahsan Tejani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2049310&course=5",
          "role": [
            "Picture of Ahsan Tejani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 455701,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455701",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "API for Non-HTML Quiz Attempt Questions",
          "Text": "Hello, We're in the process of developing an integration with Moodle to extract Quiz attempt details. Our goal is to leverage this data further, such as creating PDFs containing attempt data for archival purposes. While we've successfully managed to create users, enroll them in courses, and retrieve lists of attempts, marks, and grades via the API, we're can not obtain machine-readable information about the questions and answers within a quiz. Currently, our best find is `mod_quiz_get_attempt_review` , which unfortunately returns the questions in HTML format for rendering. We'd prefer to avoid parsing HTML, given the complexities and potential inaccuracies. D oes anyone know if there's an API function available that returns the structure of questions and answers in a machine-readable format and not html? Kind Regards,\nR",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 21, 2024, 3:56 AM",
          "AuthorName": "Rok P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5689430&course=5",
          "role": [
            "Picture of Rok P"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: API for Non-HTML Quiz Attempt Questions",
          "Text": "At the moment there are not. There are exsitnig plugins to archive Moodle quiz attempts. Look in the plugins database .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 21, 2024, 8:02 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: API for Non-HTML Quiz Attempt Questions",
          "Text": "Thanks for provided info. We need to generate PDF outside of Moodle. We will investigate the option to implement a custom web service on Moodle, to expose quiz attempt details data.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 3, 2024, 1:05 AM",
          "AuthorName": "Rok P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5689430&course=5",
          "role": [
            "Picture of Rok P"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 448345,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=448345",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "How to use moodle APIs to create quiz and questions",
          "Text": "Hi guys, I am currently working on an LTI on moodle. I am writing API calls for one button. If the button is clicked, the written API calls create a new practice quiz with example questions. The order I plan to go with is:    get authentication/token,   create quiz, create question under the quiz. For now, I have used   mysite/login/token.php?username=******&password=*****&service=verity_lti_create_quiz     to get the token, and then I plan to use that token to create quiz and questions, but somehow I am not able to find the right api to use not the parameters to include. I only find \"core_course_get_courses\".   Noted, I will not be able to use php code to make the call, only pure URL . Also, I was writing the same API thing for canvas and blackboard LTI. For those two, the token needs to be refreshed when expired, do Moodle token expire? Many thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 6, 2023, 5:27 AM",
          "AuthorName": "Michelin Lin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5680601&course=5",
          "role": [
            "Picture of Michelin Lin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to use moodle APIs to create quiz and questions",
          "Text": "Hi Michelin, there are no API functions for this, you'd need to develop a Moodle plugin including new Web SErvices if you want to achieve this",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 6, 2023, 4:06 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use moodle APIs to create quiz and questions",
          "Text": "Moodle is incredibly limited in the API arena - I wanted to develop something just to update my module or 'section' names and that doesn't exist. You can't even pull student log data like you can in other LMS's. Overall, Moodle is built as a front-end web app first (as it was built over 20 years ago at its core, which makes sense considering...). Most modern web apps, and other LMSs are built for APIs from the ground up and it would take a massive rewrite of Moodle's base code to catch it up to other LMSs at this point, which I *hope* is in the works.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 2, 2024, 12:56 PM",
          "AuthorName": "Stoo Sepp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1435708&course=5",
          "role": [
            "Picture of Stoo Sepp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use moodle APIs to create quiz and questions",
          "Text": "I'm a bit disappointed we're not able to create quizzes via API. However, renaming sections is possible. I strugled with it a bit but I found out we can use 'core_update_inplace_editable' to do it. You can use the following parameters to call the API: wstoken: 'Your token' moodlewsrestformat: 'json' wsfunction: 'core_update_inplace_editable' component: 'format_topics' itemtype: 'sectionname' itemid: 'your section ID' value: 'New name' You can get the section id by calling the 'core_course_get_contents' function.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 23, 2024, 9:47 PM",
          "AuthorName": "Rodrigo Martins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5164077&course=5",
          "role": [
            "Picture of Rodrigo Martins"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use moodle APIs to create quiz and questions",
          "Text": "Thanks for this - Sadly, I don't have access to that, because as an instructor at my institution, I only have access to mobile_app REST API functions and many of the core functions are limited access. Good luck in your future API endeavours!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 27, 2024, 6:52 AM",
          "AuthorName": "Stoo Sepp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1435708&course=5",
          "role": [
            "Picture of Stoo Sepp"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 455310,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455310",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Can’t get data from course elements Feedback via Rest API",
          "Text": "Hello! I tried it in Moodle 3.11 and 4.1. I am automating the filling of documents through Python by accessing the moodle via the rest api. In the moodle, students fill out a questionnaire (last name, first name, gender, document numbers, etc.), designed as a Feedback course element. I'm trying to get student responses in the Feedback element, but the only method that manages to get anything is mod_feedback_get_analysis. The remaining methods return an empty array {'responses': [], 'warnings': []}. As parameters I pass feedbackid and courseid (the id of the course in which this feedback is located). What am I doing wrong? How to get user responses without mod_feedback_get_analysis method? The problem with the mod_feedback_get_analysis method is that multiple choice questions (through which, for example, fields such as “Gender” - male or female) are given in the form of statistics, for example, “men - 0.8, women 0.2” and to which students which answer corresponds is not understand curl \"https://my_moodlecom/webservice/rest/ server .php?wstoken=b6514g31f7aebf617d4659d97b1f7fh3&wsfunction=mod_feedback_get_finished_responses&moodlewsrestformat=json&feedbackid=2&courseid=292\" {\"responses\":[],\"warnings\":[]}",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1829147/%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5.png"
          ],
          "Time": "Saturday, February 10, 2024, 10:32 PM",
          "AuthorName": "Alex Smirnov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6261428&course=5",
          "role": [
            "Picture of Alex Smirnov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can’t get data from course elements Feedback via Rest API",
          "Text": "Hi Alex, have you checked if you can see the responses in the Moodle mobile app? It uses Web Services, if it works, you can follow this guide: https://moodledev.io/general/app/development/setup/app-in-browser to be able to inspect the requests coming from the mobile app so you can understand whats going on.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 14, 2024, 5:38 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can’t get data from course elements Feedback via Rest API",
          "Text": "Hello. Thanks for the answer! I tried \"hosted versions of the app\" https://latest.apps.moodledemo.net/ https://main.apps.moodledemo.net/ but they do not open in the browser",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 14, 2024, 7:09 PM",
          "AuthorName": "Alex Smirnov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6261428&course=5",
          "role": [
            "Picture of Alex Smirnov"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 455180,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455180",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get course completions from the last x time frame",
          "Text": "I'm can successfully get a specific course completion for a user+course using core_completion_get_course_completion_status. However, I want to do something more like \"get all course completions where the datetime completed is in the last 24hrs\" or similar. I can't find an specific function/example of how to do this. Can anyone point me in the right direction for how to do this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 7, 2024, 11:05 AM",
          "AuthorName": "Plankton Isyum",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6252731&course=5",
          "role": [
            "Picture of Plankton Isyum"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 454998,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454998",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "files size for upload profile pic via web service?",
          "Text": "We are configuring our Moodle installation to integrate with our new SIS, and using web services to create and update users. My team is reporting that they are getting an error when attempting to upload profile pictures to Moodle that are over 5K.  That seems ridiculously low to me, and in looking at the Moodle code it looks like it should be using the max file size set by config.  Can anyone shed light on this? We are on Moodle 4.2.3",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 2, 2024, 12:34 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 454509,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454509",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Some help with XML-RPC call",
          "Text": "So without going into the full story, I'm trying to do a quick test on our moodle server using xml -rpc I've created an external service, assigned it the functions I want, and set my own user as the only authorised user for the service. I've generated a token for the service. My user has the capabilities to use the functions assigned to the service, and the xml-rpc protocols. I wrote some quick python code just to make a test request (snippet below): proxy = xmlrpc.client.ServerProxy(moodle_url) username = '<someuser>' token = '<mytoken>' user_info = proxy.core_user_get_users(token, {'criteria': [{'key': 'username', 'value': username}]}) However, upon execution it's spitting out the error: At this point I'm not really sure which token it's expecting, (If I user the token.php endpoint with my user login details the token it returns is the same as the token I'm using) or where I'm going wrong!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 18, 2024, 8:16 PM",
          "AuthorName": "Michael Simpson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5362252&course=5",
          "role": [
            "Picture of Michael Simpson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Some help with XML-RPC call",
          "Text": "Ok so the issue was I can't just send \"token\" in the proxy method arguments, I have to append it to the site_url string with \"?wstoken=\" Now to build the parameters correctly haha",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 19, 2024, 4:21 PM",
          "AuthorName": "Michael Simpson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5362252&course=5",
          "role": [
            "Picture of Michael Simpson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Some help with XML-RPC call",
          "Text": "My new issue is ofc the classic - how on earth do I structure the enrol request to enrol a user? The following xml-rpc request works: user_criteria ={'key': 'username', 'value': '<username>'} user_info = proxy.core_user_get_users([user_criteria]) However the following returns \"invalid parameter\" fault: enrolment = { \"roleid\": 5, \"userid\": 1301483, \"courseid\": 474, \"timestart\": 1705659088, \"timeend\": 1706569201, \"suspend\": 0 } enrolment_result = proxy.enrol_manual_enrol_users([enrolment]) The same parameter values (and similar structure) work on RESTful calls without issue, but for now I'm specifically trying to make the xml-rpc call. (Short story is edwiser bridge is not synchronising courses enrolled via REST API call - I suspect due to their own \"filter\" function checking the global $_POST variable - I basically want to test the xml-rpc call which shouldnt be using $_POST",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 19, 2024, 7:03 PM",
          "AuthorName": "Michael Simpson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5362252&course=5",
          "role": [
            "Picture of Michael Simpson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454322,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454322",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Events with custom eventtype automatically deleted",
          "Text": "I'm using the WS core_calendar_create_calendar_events API call, and setting the eventtype to a custom string of my choosing as I want to be able to automatically manage these events separately (they describe teaching topics for each week of each course). Everything works fine, the events are created. But every hour or so, they get automatically deleted by something! There's nothing in the Scheduled Tasks log to say anything is running, but my events keep getting 'cleaned up'. Any idea how to find what might be doing it? Thanks! Jules.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 13, 2024, 1:28 AM",
          "AuthorName": "Julian Field",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5664404&course=5",
          "role": [
            "Picture of Julian Field"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "[SOLVED] Re: Events with custom eventtype automatically deleted",
          "Text": "Solved. It turned out to be an SQL error in the new \"Programs\" plugin. It was cleaning up *all* events every hour, instead of only cleaning up its own events.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 16, 2024, 7:29 PM",
          "AuthorName": "Julian Field",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5664404&course=5",
          "role": [
            "Picture of Julian Field"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454028,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454028",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "[4.3.2]Something changed in cohort webservices?",
          "Text": "We have updated from 4.2.2 to 4.3.2 and find this error often in our logs: \n```text\n[03-Jan-2024 02:10:21 Europe/Amsterdam] REST exception handler: Invalid parameter value detected Debug: cohorts => Invalid parameter value detected: Missing required key in single structure: categorytype\nError code: invalidparameter\n* line 362 of /lib/external/classes/external_api.php: invalid_parameter_exception thrown\n* line 1483 of /webservice/lib.php: call to core_external\\external_api::validate_parameters()\n* line 1350 of /webservice/lib.php: call to webservice_base_server->execute()\n* line 44 of /webservice/rest/\nserver\n.php: call to webservice_base_server->run()\n```\n \n```text\n\n```\n Did something change?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 3, 2024, 11:04 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: [4.3.2]Something changed in cohort webservices?",
          "Text": "'Did something change? ' One more reason for git ... supposedly, one can compare specific code between branches. Please see: https://www.git-tower.com/learn/git/faq/git-compare-two-branches for some ideas. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 4, 2024, 12:09 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452703,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452703",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Creating users via API",
          "Text": "I am attempting to create users via the Moodle REST API, however, regardless of following the documentation and a ton of research, every time I send the request off in say Postman or trigger my n8n automation to generate users, it returns HTML which translates into the login page saying \"You're not logged in (Log in)\".  I've tried pretty much everything I've found and I can't seem to figure it out.  Any help would be great!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 18, 2023, 3:49 AM",
          "AuthorName": "Cypher Cypher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6086350&course=5",
          "role": [
            "Picture of Cypher Cypher"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Creating users via API",
          "Text": "Hello, Congratulations on your project's one-year anniversary! Concerning the Moodle API issue, it appears to be an authentication issue. Make sure your requests include the appropriate authentication tokens or credentials. Check your API endpoint, headers, and payload for accuracy. If the problem persists, go at the API logs for more information. Please offer any extra information if you require it. Furthermore, AI software development company can help to improve automation and streamline business processes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 1, 2023, 4:18 AM",
          "AuthorName": "Kodexo Labs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6117000&course=5",
          "role": [
            "Picture of Kodexo Labs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Creating users via API",
          "Text": "at first you need to create a token for access API use command curl for example or Postman, etc curl -d username=\"student\" -d password=\"sandbox\" \" https://sandbox.moodledemo.net/login/token.php?service=moodle_mobile_app \" i use VSC extension \"rest client\": ### https://sandbox.moodledemo.net/webservice/rest/server.php ?wstoken=695648fd6a1a06308823fa6dd9f338c8 &courseid=2 &moodlewsrestformat=json &wsfunction=core_course_get_contents",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 18, 2023, 3:05 PM",
          "AuthorName": "don mega",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3011136&course=5",
          "role": [
            "Picture of don mega"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453120,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453120",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Problems with ä,ö,ü,É,é,Ç by using webservice",
          "Text": "Hello, I use the Moodle web services, among other things, to create new users. Now I have names like this Peter Meyer which are also displayed correctly in the database . The whole thing becomes more difficult with e.g. Teacher Lämpel When I create it via the web service, I get L%C3%83%C2%A4mpel as a last name. I'm currently using urlencode to pass the last name to the url. What do I have to do so that Lämpel appears in exactly the same way, namely as Lämpel, in the database? Thanks for help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 30, 2023, 9:49 PM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problems with ä,ö,ü,É,é,Ç by using webservice",
          "Text": "What is your DB's character set and collation? 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 30, 2023, 11:46 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with ä,ö,ü,É,é,Ç by using webservice",
          "Text": "Hey, utf8mb4_unicode_cli",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 1, 2023, 1:06 AM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with ä,ö,ü,É,é,Ç by using webservice",
          "Text": "_cli? Are you sure?  Suggest you run a command line script in code/admin/cli/ php my sql _collation.php -l Also run: php cfg.php |grep lang lang packs up to date? 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 1, 2023, 2:16 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with ä,ö,ü,É,é,Ç by using webservice",
          "Text": "Hey There Moodle Language: filter_multilang_converted 1 fullnamedisplay language alternativefullnameformat language autolang 1 langmenu 1 langlist langrev 1701316084 langmenuinsecurelayout 0 Deutsch|/?lang=de Englisch|/?lang=en Französisch|/?lang=fr doclang mnetprofileexportfields city,country,lang,timezone,description,mailformat,maildigest,maildisplay,picture mnetprofileimportfields city,country,lang,timezone,description,mailformat,maildigest,maildisplay,picture filter_multilang_force_old 0 autolangusercreation 1 langcacheroot /dataofmymoodle/moodlecaches/my_moodle/cache langmenucachefile /dataofmymoodle/moodlecaches/mymoodle/cache/languages lang de langcache 1 langstringcache 1 langotherroot /dataofmymoodle/moodle/mymoodle/lang langlocalroot /dataofmymoodle/moodle/mymoodle/lang .... collation: mdl_adminpresets utf8mb4_unicode_ci name utf8mb4_unicode_ci comments utf8mb4_unicode_ci site utf8mb4_unicode_ci author utf8mb4_unicode_ci moodleversion utf8mb4_unicode_ci moodlerelease utf8mb4_unicode_ci mdl_adminpresets_app utf8mb4_unicode_ci mdl_adminpresets_app_it utf8mb4_unicode_ci mdl_adminpresets_app_it_a utf8mb4_unicode_ci itemname utf8mb4_unicode_ci mdl_adminpresets_app_plug utf8mb4_unicode_ci plugin utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_adminpresets_it utf8mb4_unicode_ci plugin utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_adminpresets_it_a utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_adminpresets_plug utf8mb4_unicode_ci plugin utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_analytics_indicator_calc utf8mb4_unicode_ci sampleorigin utf8mb4_unicode_ci indicator utf8mb4_unicode_ci mdl_analytics_models utf8mb4_unicode_ci name utf8mb4_unicode_ci target utf8mb4_unicode_ci indicators utf8mb4_unicode_ci timesplitting utf8mb4_unicode_ci predictionsprocessor utf8mb4_unicode_ci contextids utf8mb4_unicode_ci mdl_analytics_models_log utf8mb4_unicode_ci evaluationmode utf8mb4_unicode_ci target utf8mb4_unicode_ci indicators utf8mb4_unicode_ci timesplitting utf8mb4_unicode_ci info utf8mb4_unicode_ci dir utf8mb4_unicode_ci mdl_analytics_predict_samples utf8mb4_unicode_ci timesplitting utf8mb4_unicode_ci sampleids utf8mb4_unicode_ci mdl_analytics_prediction_actions utf8mb4_unicode_ci actionname utf8mb4_unicode_ci mdl_analytics_predictions utf8mb4_unicode_ci calculations utf8mb4_unicode_ci mdl_analytics_train_samples utf8mb4_unicode_ci timesplitting utf8mb4_unicode_ci sampleids utf8mb4_unicode_ci mdl_analytics_used_analysables utf8mb4_unicode_ci action utf8mb4_unicode_ci mdl_analytics_used_files utf8mb4_unicode_ci action utf8mb4_unicode_ci mdl_assign utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci activity utf8mb4_unicode_ci attemptreopenmethod utf8mb4_unicode_ci mdl_assign_grades utf8mb4_unicode_ci mdl_assign_overrides utf8mb4_unicode_ci mdl_assign_plugin_config utf8mb4_unicode_ci plugin utf8mb4_unicode_ci subtype utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_assign_submission utf8mb4_unicode_ci status utf8mb4_unicode_ci mdl_assign_user_flags utf8mb4_unicode_ci workflowstate utf8mb4_unicode_ci mdl_assign_user_mapping utf8mb4_unicode_ci mdl_assignfeedback_comments utf8mb4_unicode_ci commenttext utf8mb4_unicode_ci mdl_assignfeedback_editpdf_annot utf8mb4_unicode_ci path utf8mb4_unicode_ci type utf8mb4_unicode_ci colour utf8mb4_unicode_ci mdl_assignfeedback_editpdf_cmnt utf8mb4_unicode_ci rawtext utf8mb4_unicode_ci colour utf8mb4_unicode_ci mdl_assignfeedback_editpdf_queue utf8mb4_unicode_ci mdl_assignfeedback_editpdf_quick utf8mb4_unicode_ci rawtext utf8mb4_unicode_ci colour utf8mb4_unicode_ci mdl_assignfeedback_editpdf_rot utf8mb4_unicode_ci pathnamehash utf8mb4_unicode_ci mdl_assignfeedback_file utf8mb4_unicode_ci mdl_assignment utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci assignmenttype utf8mb4_unicode_ci mdl_assignment_submissions utf8mb4_unicode_ci data1 utf8mb4_unicode_ci data2 utf8mb4_unicode_ci submissioncomment utf8mb4_unicode_ci mdl_assignment_upgrade utf8mb4_unicode_ci mdl_assignsubmission_advanced utf8mb4_unicode_ci mdl_assignsubmission_file utf8mb4_unicode_ci mdl_assignsubmission_mahara utf8mb4_unicode_ci viewurl utf8mb4_unicode_ci viewtitle utf8mb4_unicode_ci viewstatus utf8mb4_unicode_ci mdl_assignsubmission_onlinetext utf8mb4_unicode_ci onlinetext utf8mb4_unicode_ci mdl_auth_lti_linked_login utf8mb4_unicode_ci issuer utf8mb4_unicode_ci issuer256 utf8mb4_unicode_ci sub utf8mb4_unicode_ci sub256 utf8mb4_unicode_ci mdl_auth_oauth2_linked_login utf8mb4_unicode_ci username utf8mb4_unicode_ci email utf8mb4_unicode_ci confirmtoken utf8mb4_unicode_ci mdl_backup_controllers utf8mb4_unicode_ci backupid utf8mb4_unicode_ci operation utf8mb4_unicode_ci type utf8mb4_unicode_ci format utf8mb4_unicode_ci checksum utf8mb4_unicode_ci controller utf8mb4_unicode_ci mdl_backup_courses utf8mb4_unicode_ci laststatus utf8mb4_unicode_ci mdl_backup_logs utf8mb4_unicode_ci backupid utf8mb4_unicode_ci message utf8mb4_unicode_ci mdl_badge utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci issuername utf8mb4_unicode_ci issuerurl utf8mb4_unicode_ci issuercontact utf8mb4_unicode_ci message utf8mb4_unicode_ci messagesubject utf8mb4_unicode_ci version utf8mb4_unicode_ci language utf8mb4_unicode_ci imageauthorname utf8mb4_unicode_ci imageauthoremail utf8mb4_unicode_ci imageauthorurl utf8mb4_unicode_ci imagecaption utf8mb4_unicode_ci mdl_badge_alignment utf8mb4_unicode_ci targetname utf8mb4_unicode_ci targeturl utf8mb4_unicode_ci targetdescription utf8mb4_unicode_ci targetframework utf8mb4_unicode_ci targetcode utf8mb4_unicode_ci mdl_badge_backpack utf8mb4_unicode_ci email utf8mb4_unicode_ci password utf8mb4_unicode_ci mdl_badge_backpack_oauth2 utf8mb4_unicode_ci token utf8mb4_unicode_ci refreshtoken utf8mb4_unicode_ci scope utf8mb4_unicode_ci mdl_badge_criteria utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_badge_criteria_met utf8mb4_unicode_ci mdl_badge_criteria_param utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_badge_endorsement utf8mb4_unicode_ci issuername utf8mb4_unicode_ci issuerurl utf8mb4_unicode_ci issueremail utf8mb4_unicode_ci claimid utf8mb4_unicode_ci claimcomment utf8mb4_unicode_ci mdl_badge_external utf8mb4_unicode_ci entityid utf8mb4_unicode_ci assertion utf8mb4_unicode_ci mdl_badge_external_backpack utf8mb4_unicode_ci backpackapiurl utf8mb4_unicode_ci backpackweburl utf8mb4_unicode_ci apiversion utf8mb4_unicode_ci mdl_badge_external_identifier utf8mb4_unicode_ci internalid utf8mb4_unicode_ci externalid utf8mb4_unicode_ci type utf8mb4_unicode_ci mdl_badge_issued utf8mb4_unicode_ci uniquehash utf8mb4_unicode_ci mdl_badge_manual_award utf8mb4_unicode_ci mdl_badge_related utf8mb4_unicode_ci mdl_bigbluebuttonbn utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci meetingid utf8mb4_unicode_ci moderatorpass utf8mb4_unicode_ci viewerpass utf8mb4_unicode_ci welcome utf8mb4_unicode_ci presentation utf8mb4_unicode_ci participants utf8mb4_unicode_ci guestlinkuid utf8mb4_unicode_ci guestpassword utf8mb4_unicode_ci mdl_bigbluebuttonbn_logs utf8mb4_unicode_ci meetingid utf8mb4_unicode_ci log utf8mb4_unicode_ci meta utf8mb4_unicode_ci mdl_bigbluebuttonbn_recordings utf8mb4_unicode_ci recordingid utf8mb4_unicode_ci importeddata utf8mb4_unicode_ci mdl_block utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_block_instances utf8mb4_unicode_ci blockname utf8mb4_unicode_ci pagetypepattern utf8mb4_unicode_ci subpagepattern utf8mb4_unicode_ci defaultregion utf8mb4_unicode_ci configdata utf8mb4_unicode_ci mdl_block_positions utf8mb4_unicode_ci pagetype utf8mb4_unicode_ci subpage utf8mb4_unicode_ci region utf8mb4_unicode_ci mdl_block_recent_activity utf8mb4_unicode_ci modname utf8mb4_unicode_ci mdl_block_recentlyaccesseditems utf8mb4_unicode_ci mdl_block_rss_client utf8mb4_unicode_ci title utf8mb4_unicode_ci preferredtitle utf8mb4_unicode_ci description utf8mb4_unicode_ci url utf8mb4_unicode_ci mdl_blog_association utf8mb4_unicode_ci mdl_blog_external utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci url utf8mb4_unicode_ci filtertags utf8mb4_unicode_ci mdl_book utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci mdl_book_chapters utf8mb4_unicode_ci title utf8mb4_unicode_ci content utf8mb4_unicode_ci importsrc utf8mb4_unicode_ci mdl_cache_filters utf8mb4_unicode_ci filter utf8mb4_unicode_ci md5key utf8mb4_unicode_ci rawtext utf8mb4_unicode_ci mdl_cache_flags utf8mb4_unicode_ci flagtype utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_capabilities utf8mb4_unicode_ci name utf8mb4_unicode_ci captype utf8mb4_unicode_ci component utf8mb4_unicode_ci mdl_chat utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci mdl_chat_messages utf8mb4_unicode_ci message utf8mb4_unicode_ci mdl_chat_messages_current utf8mb4_unicode_ci message utf8mb4_unicode_ci mdl_chat_users utf8mb4_unicode_ci version utf8mb4_unicode_ci ip utf8mb4_unicode_ci sid utf8mb4_unicode_ci lang utf8mb4_unicode_ci mdl_checklist utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci theme utf8mb4_unicode_ci completionpercenttype utf8mb4_unicode_ci mdl_checklist_check utf8mb4_unicode_ci mdl_checklist_comment utf8mb4_unicode_ci text utf8mb4_unicode_ci mdl_checklist_comment_student utf8mb4_unicode_ci text utf8mb4_unicode_ci mdl_checklist_comp_notification utf8mb4_unicode_ci mdl_checklist_item utf8mb4_unicode_ci displaytext utf8mb4_unicode_ci colour utf8mb4_unicode_ci linkurl utf8mb4_unicode_ci mdl_choice utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci mdl_choice_answers utf8mb4_unicode_ci mdl_choice_options utf8mb4_unicode_ci text utf8mb4_unicode_ci mdl_cohort utf8mb4_unicode_ci name utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci description utf8mb4_unicode_ci component utf8mb4_unicode_ci theme utf8mb4_unicode_ci mdl_cohort_members utf8mb4_unicode_ci mdl_comments utf8mb4_unicode_ci component utf8mb4_unicode_ci commentarea utf8mb4_unicode_ci content utf8mb4_unicode_ci mdl_competency utf8mb4_unicode_ci shortname utf8mb4_unicode_ci description utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci path utf8mb4_unicode_ci ruletype utf8mb4_unicode_ci ruleconfig utf8mb4_unicode_ci scaleconfiguration utf8mb4_unicode_ci mdl_competency_coursecomp utf8mb4_unicode_ci mdl_competency_coursecompsetting utf8mb4_unicode_ci mdl_competency_evidence utf8mb4_unicode_ci descidentifier utf8mb4_unicode_ci desccomponent utf8mb4_unicode_ci desca utf8mb4_unicode_ci url utf8mb4_unicode_ci note utf8mb4_unicode_ci mdl_competency_framework utf8mb4_unicode_ci shortname utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci description utf8mb4_unicode_ci scaleconfiguration utf8mb4_unicode_ci taxonomies utf8mb4_unicode_ci mdl_competency_modulecomp utf8mb4_unicode_ci mdl_competency_plan utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_competency_plancomp utf8mb4_unicode_ci mdl_competency_relatedcomp utf8mb4_unicode_ci mdl_competency_template utf8mb4_unicode_ci shortname utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_competency_templatecohort utf8mb4_unicode_ci mdl_competency_templatecomp utf8mb4_unicode_ci mdl_competency_usercomp utf8mb4_unicode_ci mdl_competency_usercompcourse utf8mb4_unicode_ci mdl_competency_usercompplan utf8mb4_unicode_ci mdl_competency_userevidence utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci url utf8mb4_unicode_ci mdl_competency_userevidencecomp utf8mb4_unicode_ci mdl_config utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_config_log utf8mb4_unicode_ci plugin utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci oldvalue utf8mb4_unicode_ci mdl_config_plugins utf8mb4_unicode_ci plugin utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_contentbank_content utf8mb4_unicode_ci name utf8mb4_unicode_ci contenttype utf8mb4_unicode_ci configdata utf8mb4_unicode_ci mdl_context utf8mb4_unicode_ci path utf8mb4_unicode_ci mdl_context_temp utf8mb4_unicode_ci path utf8mb4_unicode_ci mdl_course utf8mb4_unicode_ci fullname utf8mb4_unicode_ci shortname utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci summary utf8mb4_unicode_ci format utf8mb4_unicode_ci lang utf8mb4_unicode_ci calendartype utf8mb4_unicode_ci theme utf8mb4_unicode_ci mdl_course_categories utf8mb4_unicode_ci name utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci description utf8mb4_unicode_ci path utf8mb4_unicode_ci theme utf8mb4_unicode_ci mdl_course_completion_aggr_methd utf8mb4_unicode_ci mdl_course_completion_crit_compl utf8mb4_unicode_ci mdl_course_completion_criteria utf8mb4_unicode_ci module utf8mb4_unicode_ci mdl_course_completion_defaults utf8mb4_unicode_ci customrules utf8mb4_unicode_ci mdl_course_completions utf8mb4_unicode_ci mdl_course_format_options utf8mb4_unicode_ci format utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_course_modules utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci availability utf8mb4_unicode_ci lang utf8mb4_unicode_ci mdl_course_modules_completion utf8mb4_unicode_ci mdl_course_modules_viewed utf8mb4_unicode_ci mdl_course_published utf8mb4_unicode_ci huburl utf8mb4_unicode_ci mdl_course_request utf8mb4_unicode_ci fullname utf8mb4_unicode_ci shortname utf8mb4_unicode_ci summary utf8mb4_unicode_ci reason utf8mb4_unicode_ci password utf8mb4_unicode_ci mdl_course_sections utf8mb4_unicode_ci name utf8mb4_unicode_ci summary utf8mb4_unicode_ci sequence utf8mb4_unicode_ci availability utf8mb4_unicode_ci mdl_customcert utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci deliveryoption utf8mb4_unicode_ci emailothers utf8mb4_unicode_ci protection utf8mb4_unicode_ci language utf8mb4_unicode_ci mdl_customcert_elements utf8mb4_unicode_ci name utf8mb4_unicode_ci element utf8mb4_unicode_ci data utf8mb4_unicode_ci font utf8mb4_unicode_ci colour utf8mb4_unicode_ci alignment utf8mb4_unicode_ci mdl_customcert_issues utf8mb4_unicode_ci code utf8mb4_unicode_ci mdl_customcert_pages utf8mb4_unicode_ci mdl_customcert_templates utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_customfield_category utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci component utf8mb4_unicode_ci area utf8mb4_unicode_ci mdl_customfield_data utf8mb4_unicode_ci shortcharvalue utf8mb4_unicode_ci charvalue utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_customfield_field utf8mb4_unicode_ci shortname utf8mb4_unicode_ci name utf8mb4_unicode_ci type utf8mb4_unicode_ci description utf8mb4_unicode_ci configdata utf8mb4_unicode_ci mdl_data utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci singletemplate utf8mb4_unicode_ci listtemplate utf8mb4_unicode_ci listtemplateheader utf8mb4_unicode_ci listtemplatefooter utf8mb4_unicode_ci addtemplate utf8mb4_unicode_ci rsstemplate utf8mb4_unicode_ci rsstitletemplate utf8mb4_unicode_ci csstemplate utf8mb4_unicode_ci jstemplate utf8mb4_unicode_ci asearchtemplate utf8mb4_unicode_ci config utf8mb4_unicode_ci mdl_data_content utf8mb4_unicode_ci content utf8mb4_unicode_ci content1 utf8mb4_unicode_ci content2 utf8mb4_unicode_ci content3 utf8mb4_unicode_ci content4 utf8mb4_unicode_ci mdl_data_fields utf8mb4_unicode_ci type utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci param1 utf8mb4_unicode_ci param2 utf8mb4_unicode_ci param3 utf8mb4_unicode_ci param4 utf8mb4_unicode_ci param5 utf8mb4_unicode_ci param6 utf8mb4_unicode_ci param7 utf8mb4_unicode_ci param8 utf8mb4_unicode_ci param9 utf8mb4_unicode_ci param10 utf8mb4_unicode_ci mdl_data_records utf8mb4_unicode_ci mdl_editor_atto_autosave utf8mb4_unicode_ci elementid utf8mb4_unicode_ci pagehash utf8mb4_unicode_ci drafttext utf8mb4_unicode_ci pageinstance utf8mb4_unicode_ci mdl_edusharing utf8mb4_unicode_ci usage_id utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci object_url utf8mb4_unicode_ci object_version utf8mb4_unicode_ci window_float utf8mb4_unicode_ci mdl_enrol utf8mb4_unicode_ci enrol utf8mb4_unicode_ci name utf8mb4_unicode_ci password utf8mb4_unicode_ci cost utf8mb4_unicode_ci currency utf8mb4_unicode_ci customchar1 utf8mb4_unicode_ci customchar2 utf8mb4_unicode_ci customchar3 utf8mb4_unicode_ci customtext1 utf8mb4_unicode_ci customtext2 utf8mb4_unicode_ci customtext3 utf8mb4_unicode_ci customtext4 utf8mb4_unicode_ci mdl_enrol_flatfile utf8mb4_unicode_ci action utf8mb4_unicode_ci mdl_enrol_lti_app_registration utf8mb4_unicode_ci name utf8mb4_unicode_ci platformid utf8mb4_unicode_ci clientid utf8mb4_unicode_ci platformclienthash utf8mb4_unicode_ci authenticationrequesturl utf8mb4_unicode_ci jwksurl utf8mb4_unicode_ci accesstokenurl utf8mb4_unicode_ci uniqueid utf8mb4_unicode_ci platformuniqueidhash utf8mb4_unicode_ci mdl_enrol_lti_context utf8mb4_unicode_ci contextid utf8mb4_unicode_ci type utf8mb4_unicode_ci mdl_enrol_lti_deployment utf8mb4_unicode_ci name utf8mb4_unicode_ci deploymentid utf8mb4_unicode_ci legacyconsumerkey utf8mb4_unicode_ci mdl_enrol_lti_lti2_consumer utf8mb4_unicode_ci name utf8mb4_unicode_ci consumerkey256 utf8mb4_unicode_ci consumerkey utf8mb4_unicode_ci secret utf8mb4_unicode_ci ltiversion utf8mb4_unicode_ci consumername utf8mb4_unicode_ci consumerversion utf8mb4_unicode_ci consumerguid utf8mb4_unicode_ci profile utf8mb4_unicode_ci toolproxy utf8mb4_unicode_ci settings utf8mb4_unicode_ci mdl_enrol_lti_lti2_context utf8mb4_unicode_ci lticontextkey utf8mb4_unicode_ci type utf8mb4_unicode_ci settings utf8mb4_unicode_ci mdl_enrol_lti_lti2_nonce utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_enrol_lti_lti2_resource_link utf8mb4_unicode_ci ltiresourcelinkkey utf8mb4_unicode_ci settings utf8mb4_unicode_ci mdl_enrol_lti_lti2_share_key utf8mb4_unicode_ci sharekey utf8mb4_unicode_ci mdl_enrol_lti_lti2_tool_proxy utf8mb4_unicode_ci toolproxykey utf8mb4_unicode_ci toolproxy utf8mb4_unicode_ci mdl_enrol_lti_lti2_user_result utf8mb4_unicode_ci ltiuserkey utf8mb4_unicode_ci ltiresultsourcedid utf8mb4_unicode_ci mdl_enrol_lti_resource_link utf8mb4_unicode_ci resourcelinkid utf8mb4_unicode_ci lineitemsservice utf8mb4_unicode_ci lineitemservice utf8mb4_unicode_ci lineitemscope utf8mb4_unicode_ci resultscope utf8mb4_unicode_ci scorescope utf8mb4_unicode_ci contextmembershipsurl utf8mb4_unicode_ci nrpsserviceversions utf8mb4_unicode_ci mdl_enrol_lti_tool_consumer_map utf8mb4_unicode_ci mdl_enrol_lti_tools utf8mb4_unicode_ci ltiversion utf8mb4_unicode_ci uuid utf8mb4_unicode_ci institution utf8mb4_unicode_ci lang utf8mb4_unicode_ci timezone utf8mb4_unicode_ci city utf8mb4_unicode_ci country utf8mb4_unicode_ci secret utf8mb4_unicode_ci mdl_enrol_lti_user_resource_link utf8mb4_unicode_ci mdl_enrol_lti_users utf8mb4_unicode_ci serviceurl utf8mb4_unicode_ci sourceid utf8mb4_unicode_ci consumerkey utf8mb4_unicode_ci consumersecret utf8mb4_unicode_ci membershipsurl utf8mb4_unicode_ci membershipsid utf8mb4_unicode_ci mdl_enrol_paypal utf8mb4_unicode_ci business utf8mb4_unicode_ci receiver_email utf8mb4_unicode_ci receiver_id utf8mb4_unicode_ci item_name utf8mb4_unicode_ci memo utf8mb4_unicode_ci tax utf8mb4_unicode_ci option_name1 utf8mb4_unicode_ci option_selection1_x utf8mb4_unicode_ci option_name2 utf8mb4_unicode_ci option_selection2_x utf8mb4_unicode_ci payment_status utf8mb4_unicode_ci pending_reason utf8mb4_unicode_ci reason_code utf8mb4_unicode_ci txn_id utf8mb4_unicode_ci parent_txn_id utf8mb4_unicode_ci payment_type utf8mb4_unicode_ci mdl_event utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci component utf8mb4_unicode_ci modulename utf8mb4_unicode_ci eventtype utf8mb4_unicode_ci uuid utf8mb4_unicode_ci location utf8mb4_unicode_ci mdl_event_subscriptions utf8mb4_unicode_ci url utf8mb4_unicode_ci eventtype utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_events_handlers utf8mb4_unicode_ci eventname utf8mb4_unicode_ci component utf8mb4_unicode_ci handlerfile utf8mb4_unicode_ci handlerfunction utf8mb4_unicode_ci schedule utf8mb4_unicode_ci mdl_events_queue utf8mb4_unicode_ci eventdata utf8mb4_unicode_ci stackdump utf8mb4_unicode_ci mdl_events_queue_handlers utf8mb4_unicode_ci errormessage utf8mb4_unicode_ci mdl_external_functions utf8mb4_unicode_ci name utf8mb4_unicode_ci classname utf8mb4_unicode_ci methodname utf8mb4_unicode_ci classpath utf8mb4_unicode_ci component utf8mb4_unicode_ci capabilities utf8mb4_unicode_ci services utf8mb4_unicode_ci mdl_external_services utf8mb4_unicode_ci name utf8mb4_unicode_ci requiredcapability utf8mb4_unicode_ci component utf8mb4_unicode_ci shortname utf8mb4_unicode_ci mdl_external_services_functions utf8mb4_unicode_ci functionname utf8mb4_unicode_ci mdl_external_services_users utf8mb4_unicode_ci iprestriction utf8mb4_unicode_ci mdl_external_tokens utf8mb4_unicode_ci token utf8mb4_unicode_ci privatetoken utf8mb4_unicode_ci sid utf8mb4_unicode_ci iprestriction utf8mb4_unicode_ci mdl_favourite utf8mb4_unicode_ci component utf8mb4_unicode_ci itemtype utf8mb4_unicode_ci mdl_feedback utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci site_after_submit utf8mb4_unicode_ci page_after_submit utf8mb4_unicode_ci mdl_feedback_completed utf8mb4_unicode_ci mdl_feedback_completedtmp utf8mb4_unicode_ci guestid utf8mb4_unicode_ci mdl_feedback_item utf8mb4_unicode_ci name utf8mb4_unicode_ci label utf8mb4_unicode_ci presentation utf8mb4_unicode_ci typ utf8mb4_unicode_ci dependvalue utf8mb4_unicode_ci options utf8mb4_unicode_ci mdl_feedback_sitecourse_map utf8mb4_unicode_ci mdl_feedback_template utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_feedback_value utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_feedback_valuetmp utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_file_conversion utf8mb4_unicode_ci targetformat utf8mb4_unicode_ci statusmessage utf8mb4_unicode_ci converter utf8mb4_unicode_ci data utf8mb4_unicode_ci mdl_files utf8mb4_unicode_ci contenthash utf8mb4_unicode_ci pathnamehash utf8mb4_unicode_ci component utf8mb4_unicode_ci filearea utf8mb4_unicode_ci filepath utf8mb4_unicode_ci filename utf8mb4_unicode_ci mimetype utf8mb4_unicode_ci source utf8mb4_unicode_ci author utf8mb4_unicode_ci license utf8mb4_unicode_ci mdl_files_reference utf8mb4_unicode_ci reference utf8mb4_unicode_ci referencehash utf8mb4_unicode_ci mdl_filter_active utf8mb4_unicode_ci filter utf8mb4_unicode_ci mdl_filter_config utf8mb4_unicode_ci filter utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_filter_wiris_formulas utf8mb4_unicode_ci md5 utf8mb4_unicode_ci content utf8mb4_unicode_ci jsoncontent utf8mb4_unicode_ci alt utf8mb4_unicode_ci mdl_folder utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci mdl_format_grid_image utf8mb4_unicode_ci image utf8mb4_unicode_ci contenthash utf8mb4_unicode_ci mdl_forum utf8mb4_unicode_ci type utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci mdl_forum_digests utf8mb4_unicode_ci mdl_forum_discussion_subs utf8mb4_unicode_ci mdl_forum_discussions utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_forum_grades utf8mb4_unicode_ci mdl_forum_posts utf8mb4_unicode_ci subject utf8mb4_unicode_ci message utf8mb4_unicode_ci attachment utf8mb4_unicode_ci mdl_forum_queue utf8mb4_unicode_ci mdl_forum_read utf8mb4_unicode_ci mdl_forum_subscriptions utf8mb4_unicode_ci mdl_forum_track_prefs utf8mb4_unicode_ci mdl_geogebra utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci url utf8mb4_unicode_ci attributes utf8mb4_unicode_ci urlggb utf8mb4_unicode_ci mdl_geogebra_attempts utf8mb4_unicode_ci vars utf8mb4_unicode_ci gradecomment utf8mb4_unicode_ci mdl_glossary utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci displayformat utf8mb4_unicode_ci approvaldisplayformat utf8mb4_unicode_ci mdl_glossary_alias utf8mb4_unicode_ci alias utf8mb4_unicode_ci mdl_glossary_categories utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_glossary_entries utf8mb4_unicode_ci concept utf8mb4_unicode_ci definition utf8mb4_unicode_ci attachment utf8mb4_unicode_ci mdl_glossary_entries_categories utf8mb4_unicode_ci mdl_glossary_formats utf8mb4_unicode_ci name utf8mb4_unicode_ci popupformatname utf8mb4_unicode_ci showtabs utf8mb4_unicode_ci defaultmode utf8mb4_unicode_ci defaulthook utf8mb4_unicode_ci sortkey utf8mb4_unicode_ci sortorder utf8mb4_unicode_ci mdl_grade_categories utf8mb4_unicode_ci path utf8mb4_unicode_ci fullname utf8mb4_unicode_ci mdl_grade_categories_history utf8mb4_unicode_ci source utf8mb4_unicode_ci path utf8mb4_unicode_ci fullname utf8mb4_unicode_ci mdl_grade_grades utf8mb4_unicode_ci feedback utf8mb4_unicode_ci information utf8mb4_unicode_ci aggregationstatus utf8mb4_unicode_ci mdl_grade_grades_history utf8mb4_unicode_ci source utf8mb4_unicode_ci feedback utf8mb4_unicode_ci information utf8mb4_unicode_ci mdl_grade_import_newitem utf8mb4_unicode_ci itemname utf8mb4_unicode_ci mdl_grade_import_values utf8mb4_unicode_ci feedback utf8mb4_unicode_ci mdl_grade_items utf8mb4_unicode_ci itemname utf8mb4_unicode_ci itemtype utf8mb4_unicode_ci itemmodule utf8mb4_unicode_ci iteminfo utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci calculation utf8mb4_unicode_ci mdl_grade_items_history utf8mb4_unicode_ci source utf8mb4_unicode_ci itemname utf8mb4_unicode_ci itemtype utf8mb4_unicode_ci itemmodule utf8mb4_unicode_ci iteminfo utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci calculation utf8mb4_unicode_ci mdl_grade_letters utf8mb4_unicode_ci letter utf8mb4_unicode_ci mdl_grade_outcomes utf8mb4_unicode_ci shortname utf8mb4_unicode_ci fullname utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_grade_outcomes_courses utf8mb4_unicode_ci mdl_grade_outcomes_history utf8mb4_unicode_ci source utf8mb4_unicode_ci shortname utf8mb4_unicode_ci fullname utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_grade_settings utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_grading_areas utf8mb4_unicode_ci component utf8mb4_unicode_ci areaname utf8mb4_unicode_ci activemethod utf8mb4_unicode_ci mdl_grading_definitions utf8mb4_unicode_ci method utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci options utf8mb4_unicode_ci mdl_grading_instances utf8mb4_unicode_ci feedback utf8mb4_unicode_ci mdl_gradingform_guide_comments utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_gradingform_guide_criteria utf8mb4_unicode_ci shortname utf8mb4_unicode_ci description utf8mb4_unicode_ci descriptionmarkers utf8mb4_unicode_ci mdl_gradingform_guide_fillings utf8mb4_unicode_ci remark utf8mb4_unicode_ci mdl_gradingform_rubric_criteria utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_gradingform_rubric_fillings utf8mb4_unicode_ci remark utf8mb4_unicode_ci mdl_gradingform_rubric_levels utf8mb4_unicode_ci definition utf8mb4_unicode_ci mdl_groupings utf8mb4_unicode_ci name utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci description utf8mb4_unicode_ci configdata utf8mb4_unicode_ci mdl_groupings_groups utf8mb4_unicode_ci mdl_groups utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci enrolmentkey utf8mb4_unicode_ci mdl_groups_members utf8mb4_unicode_ci component utf8mb4_unicode_ci mdl_h5p utf8mb4_unicode_ci jsoncontent utf8mb4_unicode_ci pathnamehash utf8mb4_unicode_ci contenthash utf8mb4_unicode_ci filtered utf8mb4_unicode_ci mdl_h5p_contents_libraries utf8mb4_unicode_ci dependencytype utf8mb4_unicode_ci mdl_h5p_libraries utf8mb4_unicode_ci machinename utf8mb4_unicode_ci title utf8mb4_unicode_ci embedtypes utf8mb4_unicode_ci preloadedjs utf8mb4_unicode_ci preloadedcss utf8mb4_unicode_ci droplibrarycss utf8mb4_unicode_ci semantics utf8mb4_unicode_ci addto utf8mb4_unicode_ci metadatasettings utf8mb4_unicode_ci tutorial utf8mb4_unicode_ci example utf8mb4_unicode_ci mdl_h5p_libraries_cachedassets utf8mb4_unicode_ci hash utf8mb4_unicode_ci mdl_h5p_library_dependencies utf8mb4_unicode_ci dependencytype utf8mb4_unicode_ci mdl_h5pactivity utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci mdl_h5pactivity_attempts utf8mb4_unicode_ci mdl_h5pactivity_attempts_results utf8mb4_unicode_ci subcontent utf8mb4_unicode_ci interactiontype utf8mb4_unicode_ci description utf8mb4_unicode_ci correctpattern utf8mb4_unicode_ci response utf8mb4_unicode_ci additionals utf8mb4_unicode_ci mdl_hotpot utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci sourcefile utf8mb4_unicode_ci sourcetype utf8mb4_unicode_ci configfile utf8mb4_unicode_ci entrytext utf8mb4_unicode_ci exittext utf8mb4_unicode_ci outputformat utf8mb4_unicode_ci stoptext utf8mb4_unicode_ci usemediafilter utf8mb4_unicode_ci studentfeedbackurl utf8mb4_unicode_ci password utf8mb4_unicode_ci subnet utf8mb4_unicode_ci mdl_hotpot_attempts utf8mb4_unicode_ci mdl_hotpot_cache utf8mb4_unicode_ci slasharguments utf8mb4_unicode_ci hotpot_bodystyles utf8mb4_unicode_ci hotpot_enableobfuscate utf8mb4_unicode_ci hotpot_enableswf utf8mb4_unicode_ci name utf8mb4_unicode_ci sourcefile utf8mb4_unicode_ci sourcetype utf8mb4_unicode_ci sourcelastmodified utf8mb4_unicode_ci sourceetag utf8mb4_unicode_ci configfile utf8mb4_unicode_ci configlastmodified utf8mb4_unicode_ci configetag utf8mb4_unicode_ci stoptext utf8mb4_unicode_ci usemediafilter utf8mb4_unicode_ci studentfeedbackurl utf8mb4_unicode_ci content utf8mb4_unicode_ci md5key utf8mb4_unicode_ci mdl_hotpot_details utf8mb4_unicode_ci details utf8mb4_unicode_ci mdl_hotpot_questions utf8mb4_unicode_ci name utf8mb4_unicode_ci md5key utf8mb4_unicode_ci mdl_hotpot_responses utf8mb4_unicode_ci correct utf8mb4_unicode_ci wrong utf8mb4_unicode_ci ignored utf8mb4_unicode_ci mdl_hotpot_strings utf8mb4_unicode_ci string utf8mb4_unicode_ci md5key utf8mb4_unicode_ci mdl_hvp utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci json_content utf8mb4_unicode_ci embed_type utf8mb4_unicode_ci content_type utf8mb4_unicode_ci authors utf8mb4_unicode_ci source utf8mb4_unicode_ci license utf8mb4_unicode_ci license_version utf8mb4_unicode_ci changes utf8mb4_unicode_ci license_extras utf8mb4_unicode_ci author_comments utf8mb4_unicode_ci default_language utf8mb4_unicode_ci filtered utf8mb4_unicode_ci slug utf8mb4_unicode_ci a11y_title utf8mb4_unicode_ci mdl_hvp_auth utf8mb4_unicode_ci secret utf8mb4_unicode_ci mdl_hvp_content_hub_cache utf8mb4_unicode_ci language utf8mb4_unicode_ci json utf8mb4_unicode_ci mdl_hvp_content_user_data utf8mb4_unicode_ci data_id utf8mb4_unicode_ci data utf8mb4_unicode_ci mdl_hvp_contents_libraries utf8mb4_unicode_ci dependency_type utf8mb4_unicode_ci mdl_hvp_counters utf8mb4_unicode_ci type utf8mb4_unicode_ci library_name utf8mb4_unicode_ci library_version utf8mb4_unicode_ci mdl_hvp_events utf8mb4_unicode_ci type utf8mb4_unicode_ci sub_type utf8mb4_unicode_ci content_title utf8mb4_unicode_ci library_name utf8mb4_unicode_ci library_version utf8mb4_unicode_ci mdl_hvp_libraries utf8mb4_unicode_ci machine_name utf8mb4_unicode_ci title utf8mb4_unicode_ci embed_types utf8mb4_unicode_ci preloaded_js utf8mb4_unicode_ci preloaded_css utf8mb4_unicode_ci drop_library_css utf8mb4_unicode_ci semantics utf8mb4_unicode_ci tutorial_url utf8mb4_unicode_ci add_to utf8mb4_unicode_ci metadata_settings utf8mb4_unicode_ci mdl_hvp_libraries_cachedassets utf8mb4_unicode_ci hash utf8mb4_unicode_ci mdl_hvp_libraries_hub_cache utf8mb4_unicode_ci machine_name utf8mb4_unicode_ci title utf8mb4_unicode_ci summary utf8mb4_unicode_ci description utf8mb4_unicode_ci icon utf8mb4_unicode_ci screenshots utf8mb4_unicode_ci license utf8mb4_unicode_ci example utf8mb4_unicode_ci tutorial utf8mb4_unicode_ci keywords utf8mb4_unicode_ci categories utf8mb4_unicode_ci owner utf8mb4_unicode_ci mdl_hvp_libraries_languages utf8mb4_unicode_ci language_code utf8mb4_unicode_ci language_json utf8mb4_unicode_ci mdl_hvp_libraries_libraries utf8mb4_unicode_ci dependency_type utf8mb4_unicode_ci mdl_hvp_tmpfiles utf8mb4_unicode_ci mdl_hvp_xapi_results utf8mb4_unicode_ci interaction_type utf8mb4_unicode_ci description utf8mb4_unicode_ci correct_responses_pattern utf8mb4_unicode_ci response utf8mb4_unicode_ci additionals utf8mb4_unicode_ci mdl_imscp utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci structure utf8mb4_unicode_ci mdl_infected_files utf8mb4_unicode_ci filename utf8mb4_unicode_ci quarantinedfile utf8mb4_unicode_ci reason utf8mb4_unicode_ci mdl_label utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci mdl_lesson utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci password utf8mb4_unicode_ci conditions utf8mb4_unicode_ci mediafile utf8mb4_unicode_ci bgcolor utf8mb4_unicode_ci mdl_lesson_answers utf8mb4_unicode_ci answer utf8mb4_unicode_ci response utf8mb4_unicode_ci mdl_lesson_attempts utf8mb4_unicode_ci useranswer utf8mb4_unicode_ci mdl_lesson_branch utf8mb4_unicode_ci mdl_lesson_grades utf8mb4_unicode_ci mdl_lesson_overrides utf8mb4_unicode_ci password utf8mb4_unicode_ci mdl_lesson_pages utf8mb4_unicode_ci title utf8mb4_unicode_ci contents utf8mb4_unicode_ci mdl_lesson_timer utf8mb4_unicode_ci mdl_license utf8mb4_unicode_ci shortname utf8mb4_unicode_ci fullname utf8mb4_unicode_ci source utf8mb4_unicode_ci mdl_lightboxgallery utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci mdl_lightboxgallery_comments utf8mb4_unicode_ci commenttext utf8mb4_unicode_ci mdl_lightboxgallery_image_meta utf8mb4_unicode_ci image utf8mb4_unicode_ci metatype utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_lock_db utf8mb4_unicode_ci resourcekey utf8mb4_unicode_ci owner utf8mb4_unicode_ci mdl_log utf8mb4_unicode_ci ip utf8mb4_unicode_ci module utf8mb4_unicode_ci action utf8mb4_unicode_ci url utf8mb4_unicode_ci info utf8mb4_unicode_ci mdl_log_display utf8mb4_unicode_ci module utf8mb4_unicode_ci action utf8mb4_unicode_ci mtable utf8mb4_unicode_ci field utf8mb4_unicode_ci component utf8mb4_unicode_ci mdl_log_queries utf8mb4_unicode_ci sqltext utf8mb4_unicode_ci sqlparams utf8mb4_unicode_ci info utf8mb4_unicode_ci backtrace utf8mb4_unicode_ci mdl_logstore_standard_log utf8mb4_unicode_ci eventname utf8mb4_unicode_ci component utf8mb4_unicode_ci action utf8mb4_unicode_ci target utf8mb4_unicode_ci objecttable utf8mb4_unicode_ci crud utf8mb4_unicode_ci other utf8mb4_unicode_ci origin utf8mb4_unicode_ci ip utf8mb4_unicode_ci mdl_lti utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci toolurl utf8mb4_unicode_ci securetoolurl utf8mb4_unicode_ci instructorcustomparameters utf8mb4_unicode_ci resourcekey utf8mb4_unicode_ci password utf8mb4_unicode_ci servicesalt utf8mb4_unicode_ci icon utf8mb4_unicode_ci secureicon utf8mb4_unicode_ci mdl_lti_access_tokens utf8mb4_unicode_ci scope utf8mb4_unicode_ci token utf8mb4_unicode_ci mdl_lti_submission utf8mb4_unicode_ci mdl_lti_tool_proxies utf8mb4_unicode_ci name utf8mb4_unicode_ci regurl utf8mb4_unicode_ci guid utf8mb4_unicode_ci secret utf8mb4_unicode_ci vendorcode utf8mb4_unicode_ci capabilityoffered utf8mb4_unicode_ci serviceoffered utf8mb4_unicode_ci toolproxy utf8mb4_unicode_ci mdl_lti_tool_settings utf8mb4_unicode_ci settings utf8mb4_unicode_ci mdl_lti_types utf8mb4_unicode_ci name utf8mb4_unicode_ci baseurl utf8mb4_unicode_ci tooldomain utf8mb4_unicode_ci ltiversion utf8mb4_unicode_ci clientid utf8mb4_unicode_ci enabledcapability utf8mb4_unicode_ci parameter utf8mb4_unicode_ci icon utf8mb4_unicode_ci secureicon utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_lti_types_config utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_ltiservice_gradebookservices utf8mb4_unicode_ci baseurl utf8mb4_unicode_ci resourceid utf8mb4_unicode_ci tag utf8mb4_unicode_ci subreviewurl utf8mb4_unicode_ci subreviewparams utf8mb4_unicode_ci mdl_message utf8mb4_unicode_ci subject utf8mb4_unicode_ci fullmessage utf8mb4_unicode_ci fullmessagehtml utf8mb4_unicode_ci smallmessage utf8mb4_unicode_ci contexturl utf8mb4_unicode_ci contexturlname utf8mb4_unicode_ci component utf8mb4_unicode_ci eventtype utf8mb4_unicode_ci customdata utf8mb4_unicode_ci mdl_message_airnotifier_devices utf8mb4_unicode_ci mdl_message_contact_requests utf8mb4_unicode_ci mdl_message_contacts utf8mb4_unicode_ci mdl_message_conversation_actions utf8mb4_unicode_ci mdl_message_conversation_members utf8mb4_unicode_ci mdl_message_conversations utf8mb4_unicode_ci name utf8mb4_unicode_ci convhash utf8mb4_unicode_ci component utf8mb4_unicode_ci itemtype utf8mb4_unicode_ci mdl_message_email_messages utf8mb4_unicode_ci mdl_message_popup utf8mb4_unicode_ci mdl_message_popup_notifications utf8mb4_unicode_ci mdl_message_processors utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_message_providers utf8mb4_unicode_ci name utf8mb4_unicode_ci component utf8mb4_unicode_ci capability utf8mb4_unicode_ci mdl_message_read utf8mb4_unicode_ci subject utf8mb4_unicode_ci fullmessage utf8mb4_unicode_ci fullmessagehtml utf8mb4_unicode_ci smallmessage utf8mb4_unicode_ci contexturl utf8mb4_unicode_ci contexturlname utf8mb4_unicode_ci component utf8mb4_unicode_ci eventtype utf8mb4_unicode_ci mdl_message_user_actions utf8mb4_unicode_ci mdl_message_users_blocked utf8mb4_unicode_ci mdl_messageinbound_datakeys utf8mb4_unicode_ci datakey utf8mb4_unicode_ci mdl_messageinbound_handlers utf8mb4_unicode_ci component utf8mb4_unicode_ci classname utf8mb4_unicode_ci mdl_messageinbound_messagelist utf8mb4_unicode_ci messageid utf8mb4_unicode_ci address utf8mb4_unicode_ci mdl_messages utf8mb4_unicode_ci subject utf8mb4_unicode_ci fullmessage utf8mb4_unicode_ci fullmessagehtml utf8mb4_unicode_ci smallmessage utf8mb4_unicode_ci customdata utf8mb4_unicode_ci mdl_mnet_application utf8mb4_unicode_ci name utf8mb4_unicode_ci display_name utf8mb4_unicode_ci xmlrpc_server_url utf8mb4_unicode_ci sso_land_url utf8mb4_unicode_ci sso_jump_url utf8mb4_unicode_ci mdl_mnet_host utf8mb4_unicode_ci wwwroot utf8mb4_unicode_ci ip_address utf8mb4_unicode_ci name utf8mb4_unicode_ci public_key utf8mb4_unicode_ci theme utf8mb4_unicode_ci mdl_mnet_host2service utf8mb4_unicode_ci mdl_mnet_log utf8mb4_unicode_ci ip utf8mb4_unicode_ci coursename utf8mb4_unicode_ci module utf8mb4_unicode_ci action utf8mb4_unicode_ci url utf8mb4_unicode_ci info utf8mb4_unicode_ci mdl_mnet_remote_rpc utf8mb4_unicode_ci functionname utf8mb4_unicode_ci xmlrpcpath utf8mb4_unicode_ci plugintype utf8mb4_unicode_ci pluginname utf8mb4_unicode_ci mdl_mnet_remote_service2rpc utf8mb4_unicode_ci mdl_mnet_rpc utf8mb4_unicode_ci functionname utf8mb4_unicode_ci xmlrpcpath utf8mb4_unicode_ci plugintype utf8mb4_unicode_ci pluginname utf8mb4_unicode_ci help utf8mb4_unicode_ci profile utf8mb4_unicode_ci filename utf8mb4_unicode_ci classname utf8mb4_unicode_ci mdl_mnet_service utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci apiversion utf8mb4_unicode_ci mdl_mnet_service2rpc utf8mb4_unicode_ci mdl_mnet_session utf8mb4_unicode_ci username utf8mb4_unicode_ci token utf8mb4_unicode_ci useragent utf8mb4_unicode_ci session_id utf8mb4_unicode_ci mdl_mnet_sso_access_control utf8mb4_unicode_ci username utf8mb4_unicode_ci accessctrl utf8mb4_unicode_ci mdl_mnetservice_enrol_courses utf8mb4_unicode_ci categoryname utf8mb4_unicode_ci fullname utf8mb4_unicode_ci shortname utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci summary utf8mb4_unicode_ci rolename utf8mb4_unicode_ci mdl_mnetservice_enrol_enrolments utf8mb4_unicode_ci rolename utf8mb4_unicode_ci enroltype utf8mb4_unicode_ci mdl_modules utf8mb4_unicode_ci name utf8mb4_unicode_ci search utf8mb4_unicode_ci mdl_my_pages utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_notifications utf8mb4_unicode_ci subject utf8mb4_unicode_ci fullmessage utf8mb4_unicode_ci fullmessagehtml utf8mb4_unicode_ci smallmessage utf8mb4_unicode_ci component utf8mb4_unicode_ci eventtype utf8mb4_unicode_ci contexturl utf8mb4_unicode_ci contexturlname utf8mb4_unicode_ci customdata utf8mb4_unicode_ci mdl_oauth2_access_token utf8mb4_unicode_ci token utf8mb4_unicode_ci scope utf8mb4_unicode_ci mdl_oauth2_endpoint utf8mb4_unicode_ci name utf8mb4_unicode_ci url utf8mb4_unicode_ci mdl_oauth2_issuer utf8mb4_unicode_ci name utf8mb4_unicode_ci image utf8mb4_unicode_ci baseurl utf8mb4_unicode_ci clientid utf8mb4_unicode_ci clientsecret utf8mb4_unicode_ci loginscopes utf8mb4_unicode_ci loginscopesoffline utf8mb4_unicode_ci loginparams utf8mb4_unicode_ci loginparamsoffline utf8mb4_unicode_ci alloweddomains utf8mb4_unicode_ci scopessupported utf8mb4_unicode_ci servicetype utf8mb4_unicode_ci loginpagename utf8mb4_unicode_ci mdl_oauth2_refresh_token utf8mb4_unicode_ci token utf8mb4_unicode_ci scopehash utf8mb4_unicode_ci mdl_oauth2_system_account utf8mb4_unicode_ci refreshtoken utf8mb4_unicode_ci grantedscopes utf8mb4_unicode_ci email utf8mb4_unicode_ci username utf8mb4_unicode_ci mdl_oauth2_user_field_mapping utf8mb4_unicode_ci externalfield utf8mb4_unicode_ci internalfield utf8mb4_unicode_ci mdl_page utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci content utf8mb4_unicode_ci displayoptions utf8mb4_unicode_ci mdl_paygw_paypal utf8mb4_unicode_ci pp_orderid utf8mb4_unicode_ci mdl_payment_accounts utf8mb4_unicode_ci name utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci mdl_payment_gateways utf8mb4_unicode_ci gateway utf8mb4_unicode_ci config utf8mb4_unicode_ci mdl_payments utf8mb4_unicode_ci component utf8mb4_unicode_ci paymentarea utf8mb4_unicode_ci amount utf8mb4_unicode_ci currency utf8mb4_unicode_ci gateway utf8mb4_unicode_ci mdl_pdfannotator utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci mdl_pdfannotator_annotations utf8mb4_unicode_ci data utf8mb4_unicode_ci mdl_pdfannotator_annotationtypes utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_pdfannotator_comments utf8mb4_unicode_ci content utf8mb4_unicode_ci visibility utf8mb4_unicode_ci mdl_pdfannotator_default_setting utf8mb4_unicode_ci mdl_pdfannotator_reports utf8mb4_unicode_ci message utf8mb4_unicode_ci mdl_pdfannotator_subscriptions utf8mb4_unicode_ci mdl_pdfannotator_votes utf8mb4_unicode_ci mdl_portfolio_instance utf8mb4_unicode_ci plugin utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_portfolio_instance_config utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_portfolio_instance_user utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_portfolio_log utf8mb4_unicode_ci caller_class utf8mb4_unicode_ci caller_file utf8mb4_unicode_ci caller_component utf8mb4_unicode_ci caller_sha1 utf8mb4_unicode_ci returnurl utf8mb4_unicode_ci continueurl utf8mb4_unicode_ci mdl_portfolio_mahara_queue utf8mb4_unicode_ci token utf8mb4_unicode_ci mdl_portfolio_tempdata utf8mb4_unicode_ci data utf8mb4_unicode_ci mdl_post utf8mb4_unicode_ci module utf8mb4_unicode_ci subject utf8mb4_unicode_ci summary utf8mb4_unicode_ci content utf8mb4_unicode_ci uniquehash utf8mb4_unicode_ci attachment utf8mb4_unicode_ci publishstate utf8mb4_unicode_ci mdl_profiling utf8mb4_unicode_ci runid utf8mb4_unicode_ci url utf8mb4_unicode_ci data utf8mb4_unicode_ci runcomment utf8mb4_unicode_ci mdl_qtype_ddimageortext utf8mb4_unicode_ci correctfeedback utf8mb4_unicode_ci partiallycorrectfeedback utf8mb4_unicode_ci incorrectfeedback utf8mb4_unicode_ci mdl_qtype_ddimageortext_drags utf8mb4_unicode_ci label utf8mb4_unicode_ci mdl_qtype_ddimageortext_drops utf8mb4_unicode_ci label utf8mb4_unicode_ci mdl_qtype_ddmarker utf8mb4_unicode_ci correctfeedback utf8mb4_unicode_ci partiallycorrectfeedback utf8mb4_unicode_ci incorrectfeedback utf8mb4_unicode_ci mdl_qtype_ddmarker_drags utf8mb4_unicode_ci label utf8mb4_unicode_ci mdl_qtype_ddmarker_drops utf8mb4_unicode_ci shape utf8mb4_unicode_ci coords utf8mb4_unicode_ci mdl_qtype_essay_options utf8mb4_unicode_ci responseformat utf8mb4_unicode_ci graderinfo utf8mb4_unicode_ci responsetemplate utf8mb4_unicode_ci filetypeslist utf8mb4_unicode_ci mdl_qtype_essaywiris_backup utf8mb4_unicode_ci responseformat utf8mb4_unicode_ci graderinfo utf8mb4_unicode_ci mdl_qtype_match_options utf8mb4_unicode_ci correctfeedback utf8mb4_unicode_ci partiallycorrectfeedback utf8mb4_unicode_ci incorrectfeedback utf8mb4_unicode_ci mdl_qtype_match_subquestions utf8mb4_unicode_ci questiontext utf8mb4_unicode_ci answertext utf8mb4_unicode_ci mdl_qtype_multichoice_options utf8mb4_unicode_ci correctfeedback utf8mb4_unicode_ci partiallycorrectfeedback utf8mb4_unicode_ci incorrectfeedback utf8mb4_unicode_ci answernumbering utf8mb4_unicode_ci mdl_qtype_musictheory utf8mb4_unicode_ci musictheory_musicqtype utf8mb4_unicode_ci musictheory_gradingstrategy utf8mb4_unicode_ci musictheory_optionsxml utf8mb4_unicode_ci musictheory_randomoptionsxml utf8mb4_unicode_ci mdl_qtype_randomsamatch_options utf8mb4_unicode_ci correctfeedback utf8mb4_unicode_ci partiallycorrectfeedback utf8mb4_unicode_ci incorrectfeedback utf8mb4_unicode_ci mdl_qtype_shortanswer_options utf8mb4_unicode_ci mdl_qtype_wq utf8mb4_unicode_ci xml utf8mb4_unicode_ci hash utf8mb4_unicode_ci options utf8mb4_unicode_ci mdl_qtype_wq_variables utf8mb4_unicode_ci identifier utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_question utf8mb4_unicode_ci name utf8mb4_unicode_ci questiontext utf8mb4_unicode_ci generalfeedback utf8mb4_unicode_ci qtype utf8mb4_unicode_ci stamp utf8mb4_unicode_ci mdl_question_answers utf8mb4_unicode_ci answer utf8mb4_unicode_ci feedback utf8mb4_unicode_ci mdl_question_attempt_step_data utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_question_attempt_steps utf8mb4_unicode_ci state utf8mb4_unicode_ci mdl_question_attempts utf8mb4_unicode_ci behaviour utf8mb4_unicode_ci questionsummary utf8mb4_unicode_ci rightanswer utf8mb4_unicode_ci responsesummary utf8mb4_unicode_ci mdl_question_bank_entries utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci mdl_question_calculated utf8mb4_unicode_ci tolerance utf8mb4_unicode_ci mdl_question_calculated_options utf8mb4_unicode_ci correctfeedback utf8mb4_unicode_ci partiallycorrectfeedback utf8mb4_unicode_ci incorrectfeedback utf8mb4_unicode_ci answernumbering utf8mb4_unicode_ci mdl_question_categories utf8mb4_unicode_ci name utf8mb4_unicode_ci info utf8mb4_unicode_ci stamp utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci mdl_question_coderunner_options utf8mb4_unicode_ci coderunnertype utf8mb4_unicode_ci answerpreload utf8mb4_unicode_ci globalextra utf8mb4_unicode_ci penaltyregime utf8mb4_unicode_ci answer utf8mb4_unicode_ci resultcolumns utf8mb4_unicode_ci template utf8mb4_unicode_ci combinatortemplate utf8mb4_unicode_ci testsplitterre utf8mb4_unicode_ci pertesttemplate utf8mb4_unicode_ci templateparams utf8mb4_unicode_ci templateparamslang utf8mb4_unicode_ci templateparamsevald utf8mb4_unicode_ci uiparameters utf8mb4_unicode_ci language utf8mb4_unicode_ci acelang utf8mb4_unicode_ci sandbox utf8mb4_unicode_ci sandboxparams utf8mb4_unicode_ci grader utf8mb4_unicode_ci uiplugin utf8mb4_unicode_ci filenamesregex utf8mb4_unicode_ci filenamesexplain utf8mb4_unicode_ci prototypeextra utf8mb4_unicode_ci mdl_question_coderunner_tests utf8mb4_unicode_ci testcode utf8mb4_unicode_ci stdin utf8mb4_unicode_ci expected utf8mb4_unicode_ci extra utf8mb4_unicode_ci display utf8mb4_unicode_ci mdl_question_dataset_definitions utf8mb4_unicode_ci name utf8mb4_unicode_ci options utf8mb4_unicode_ci mdl_question_dataset_items utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_question_datasets utf8mb4_unicode_ci mdl_question_ddwtos utf8mb4_unicode_ci correctfeedback utf8mb4_unicode_ci partiallycorrectfeedback utf8mb4_unicode_ci incorrectfeedback utf8mb4_unicode_ci mdl_question_gapselect utf8mb4_unicode_ci correctfeedback utf8mb4_unicode_ci partiallycorrectfeedback utf8mb4_unicode_ci incorrectfeedback utf8mb4_unicode_ci mdl_question_hints utf8mb4_unicode_ci hint utf8mb4_unicode_ci options utf8mb4_unicode_ci mdl_question_multianswer utf8mb4_unicode_ci sequence utf8mb4_unicode_ci mdl_question_numerical utf8mb4_unicode_ci tolerance utf8mb4_unicode_ci mdl_question_numerical_options utf8mb4_unicode_ci mdl_question_numerical_units utf8mb4_unicode_ci unit utf8mb4_unicode_ci mdl_question_references utf8mb4_unicode_ci component utf8mb4_unicode_ci questionarea utf8mb4_unicode_ci mdl_question_response_analysis utf8mb4_unicode_ci hashcode utf8mb4_unicode_ci whichtries utf8mb4_unicode_ci subqid utf8mb4_unicode_ci aid utf8mb4_unicode_ci response utf8mb4_unicode_ci mdl_question_response_count utf8mb4_unicode_ci mdl_question_set_references utf8mb4_unicode_ci component utf8mb4_unicode_ci questionarea utf8mb4_unicode_ci filtercondition utf8mb4_unicode_ci mdl_question_statistics utf8mb4_unicode_ci hashcode utf8mb4_unicode_ci subquestions utf8mb4_unicode_ci positions utf8mb4_unicode_ci mdl_question_truefalse utf8mb4_unicode_ci mdl_question_usages utf8mb4_unicode_ci component utf8mb4_unicode_ci preferredbehaviour utf8mb4_unicode_ci mdl_question_versions utf8mb4_unicode_ci status utf8mb4_unicode_ci mdl_quiz utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci overduehandling utf8mb4_unicode_ci preferredbehaviour utf8mb4_unicode_ci navmethod utf8mb4_unicode_ci password utf8mb4_unicode_ci subnet utf8mb4_unicode_ci browsersecurity utf8mb4_unicode_ci mdl_quiz_attempts utf8mb4_unicode_ci layout utf8mb4_unicode_ci state utf8mb4_unicode_ci mdl_quiz_feedback utf8mb4_unicode_ci feedbacktext utf8mb4_unicode_ci mdl_quiz_grades utf8mb4_unicode_ci mdl_quiz_overrides utf8mb4_unicode_ci password utf8mb4_unicode_ci mdl_quiz_overview_regrades utf8mb4_unicode_ci mdl_quiz_reports utf8mb4_unicode_ci name utf8mb4_unicode_ci capability utf8mb4_unicode_ci mdl_quiz_sections utf8mb4_unicode_ci heading utf8mb4_unicode_ci mdl_quiz_slots utf8mb4_unicode_ci mdl_quiz_statistics utf8mb4_unicode_ci hashcode utf8mb4_unicode_ci mdl_quizaccess_seb_quizsettings utf8mb4_unicode_ci quitpassword utf8mb4_unicode_ci linkquitseb utf8mb4_unicode_ci expressionsallowed utf8mb4_unicode_ci regexallowed utf8mb4_unicode_ci expressionsblocked utf8mb4_unicode_ci regexblocked utf8mb4_unicode_ci allowedbrowserexamkeys utf8mb4_unicode_ci mdl_quizaccess_seb_template utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci content utf8mb4_unicode_ci mdl_rating utf8mb4_unicode_ci component utf8mb4_unicode_ci ratingarea utf8mb4_unicode_ci mdl_ratingallocate utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci setting utf8mb4_unicode_ci strategy utf8mb4_unicode_ci mdl_ratingallocate_allocations utf8mb4_unicode_ci mdl_ratingallocate_ch_gengroups utf8mb4_unicode_ci mdl_ratingallocate_choices utf8mb4_unicode_ci title utf8mb4_unicode_ci explanation utf8mb4_unicode_ci mdl_ratingallocate_group_choices utf8mb4_unicode_ci mdl_ratingallocate_groupings utf8mb4_unicode_ci mdl_ratingallocate_ratings utf8mb4_unicode_ci mdl_realtimequiz utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci mdl_realtimequiz_answer utf8mb4_unicode_ci answertext utf8mb4_unicode_ci mdl_realtimequiz_question utf8mb4_unicode_ci questiontext utf8mb4_unicode_ci image utf8mb4_unicode_ci mdl_realtimequiz_session utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_realtimequiz_submitted utf8mb4_unicode_ci mdl_registration_hubs utf8mb4_unicode_ci token utf8mb4_unicode_ci hubname utf8mb4_unicode_ci huburl utf8mb4_unicode_ci secret utf8mb4_unicode_ci mdl_report_coursesize utf8mb4_unicode_ci mdl_reportbuilder_audience utf8mb4_unicode_ci heading utf8mb4_unicode_ci classname utf8mb4_unicode_ci configdata utf8mb4_unicode_ci mdl_reportbuilder_column utf8mb4_unicode_ci uniqueidentifier utf8mb4_unicode_ci aggregation utf8mb4_unicode_ci heading utf8mb4_unicode_ci mdl_reportbuilder_filter utf8mb4_unicode_ci uniqueidentifier utf8mb4_unicode_ci heading utf8mb4_unicode_ci mdl_reportbuilder_report utf8mb4_unicode_ci name utf8mb4_unicode_ci source utf8mb4_unicode_ci conditiondata utf8mb4_unicode_ci settingsdata utf8mb4_unicode_ci component utf8mb4_unicode_ci area utf8mb4_unicode_ci mdl_reportbuilder_schedule utf8mb4_unicode_ci name utf8mb4_unicode_ci audiences utf8mb4_unicode_ci format utf8mb4_unicode_ci subject utf8mb4_unicode_ci message utf8mb4_unicode_ci mdl_repository utf8mb4_unicode_ci type utf8mb4_unicode_ci mdl_repository_instance_config utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_repository_instances utf8mb4_unicode_ci name utf8mb4_unicode_ci username utf8mb4_unicode_ci password utf8mb4_unicode_ci mdl_repository_onedrive_access utf8mb4_unicode_ci permissionid utf8mb4_unicode_ci itemid utf8mb4_unicode_ci mdl_resource utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci displayoptions utf8mb4_unicode_ci mdl_resource_old utf8mb4_unicode_ci name utf8mb4_unicode_ci type utf8mb4_unicode_ci reference utf8mb4_unicode_ci intro utf8mb4_unicode_ci alltext utf8mb4_unicode_ci popup utf8mb4_unicode_ci options utf8mb4_unicode_ci newmodule utf8mb4_unicode_ci mdl_role utf8mb4_unicode_ci name utf8mb4_unicode_ci shortname utf8mb4_unicode_ci description utf8mb4_unicode_ci archetype utf8mb4_unicode_ci mdl_role_allow_assign utf8mb4_unicode_ci mdl_role_allow_override utf8mb4_unicode_ci mdl_role_allow_switch utf8mb4_unicode_ci mdl_role_allow_view utf8mb4_unicode_ci mdl_role_assignments utf8mb4_unicode_ci component utf8mb4_unicode_ci mdl_role_capabilities utf8mb4_unicode_ci capability utf8mb4_unicode_ci mdl_role_context_levels utf8mb4_unicode_ci mdl_role_names utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_scale utf8mb4_unicode_ci name utf8mb4_unicode_ci scale utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_scale_history utf8mb4_unicode_ci source utf8mb4_unicode_ci name utf8mb4_unicode_ci scale utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_scorm utf8mb4_unicode_ci name utf8mb4_unicode_ci scormtype utf8mb4_unicode_ci reference utf8mb4_unicode_ci intro utf8mb4_unicode_ci version utf8mb4_unicode_ci sha1hash utf8mb4_unicode_ci md5hash utf8mb4_unicode_ci options utf8mb4_unicode_ci mdl_scorm_aicc_session utf8mb4_unicode_ci hacpsession utf8mb4_unicode_ci scormmode utf8mb4_unicode_ci scormstatus utf8mb4_unicode_ci lessonstatus utf8mb4_unicode_ci sessiontime utf8mb4_unicode_ci mdl_scorm_scoes utf8mb4_unicode_ci manifest utf8mb4_unicode_ci organization utf8mb4_unicode_ci parent utf8mb4_unicode_ci identifier utf8mb4_unicode_ci launch utf8mb4_unicode_ci scormtype utf8mb4_unicode_ci title utf8mb4_unicode_ci mdl_scorm_scoes_data utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_scorm_scoes_track utf8mb4_unicode_ci element utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_scorm_seq_mapinfo utf8mb4_unicode_ci mdl_scorm_seq_objective utf8mb4_unicode_ci objectiveid utf8mb4_unicode_ci mdl_scorm_seq_rolluprule utf8mb4_unicode_ci childactivityset utf8mb4_unicode_ci conditioncombination utf8mb4_unicode_ci action utf8mb4_unicode_ci mdl_scorm_seq_rolluprulecond utf8mb4_unicode_ci operator utf8mb4_unicode_ci cond utf8mb4_unicode_ci mdl_scorm_seq_rulecond utf8mb4_unicode_ci refrencedobjective utf8mb4_unicode_ci operator utf8mb4_unicode_ci cond utf8mb4_unicode_ci mdl_scorm_seq_ruleconds utf8mb4_unicode_ci conditioncombination utf8mb4_unicode_ci action utf8mb4_unicode_ci mdl_search_index_requests utf8mb4_unicode_ci searcharea utf8mb4_unicode_ci partialarea utf8mb4_unicode_ci mdl_search_simpledb_index utf8mb4_unicode_ci docid utf8mb4_unicode_ci title utf8mb4_unicode_ci content utf8mb4_unicode_ci areaid utf8mb4_unicode_ci description1 utf8mb4_unicode_ci description2 utf8mb4_unicode_ci mdl_sessions utf8mb4_unicode_ci sid utf8mb4_unicode_ci sessdata utf8mb4_unicode_ci firstip utf8mb4_unicode_ci lastip utf8mb4_unicode_ci mdl_stats_daily utf8mb4_unicode_ci stattype utf8mb4_unicode_ci mdl_stats_monthly utf8mb4_unicode_ci stattype utf8mb4_unicode_ci mdl_stats_user_daily utf8mb4_unicode_ci stattype utf8mb4_unicode_ci mdl_stats_user_monthly utf8mb4_unicode_ci stattype utf8mb4_unicode_ci mdl_stats_user_weekly utf8mb4_unicode_ci stattype utf8mb4_unicode_ci mdl_stats_weekly utf8mb4_unicode_ci stattype utf8mb4_unicode_ci mdl_survey utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci questions utf8mb4_unicode_ci mdl_survey_analysis utf8mb4_unicode_ci notes utf8mb4_unicode_ci mdl_survey_answers utf8mb4_unicode_ci answer1 utf8mb4_unicode_ci answer2 utf8mb4_unicode_ci mdl_survey_questions utf8mb4_unicode_ci text utf8mb4_unicode_ci shorttext utf8mb4_unicode_ci multi utf8mb4_unicode_ci intro utf8mb4_unicode_ci options utf8mb4_unicode_ci mdl_tag utf8mb4_unicode_ci name utf8mb4_unicode_ci rawname utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_tag_area utf8mb4_unicode_ci component utf8mb4_unicode_ci itemtype utf8mb4_unicode_ci callback utf8mb4_unicode_ci callbackfile utf8mb4_unicode_ci mdl_tag_coll utf8mb4_unicode_ci name utf8mb4_unicode_ci component utf8mb4_unicode_ci customurl utf8mb4_unicode_ci mdl_tag_correlation utf8mb4_unicode_ci correlatedtags utf8mb4_unicode_ci mdl_tag_instance utf8mb4_unicode_ci component utf8mb4_unicode_ci itemtype utf8mb4_unicode_ci mdl_task_adhoc utf8mb4_unicode_ci component utf8mb4_unicode_ci classname utf8mb4_unicode_ci customdata utf8mb4_unicode_ci hostname utf8mb4_unicode_ci mdl_task_log utf8mb4_unicode_ci component utf8mb4_unicode_ci classname utf8mb4_unicode_ci output utf8mb4_unicode_ci hostname utf8mb4_unicode_ci mdl_task_scheduled utf8mb4_unicode_ci component utf8mb4_unicode_ci classname utf8mb4_unicode_ci minute utf8mb4_unicode_ci hour utf8mb4_unicode_ci day utf8mb4_unicode_ci month utf8mb4_unicode_ci dayofweek utf8mb4_unicode_ci hostname utf8mb4_unicode_ci mdl_tiny_autosave utf8mb4_unicode_ci elementid utf8mb4_unicode_ci pagehash utf8mb4_unicode_ci drafttext utf8mb4_unicode_ci pageinstance utf8mb4_unicode_ci mdl_tool_brickfield_areas utf8mb4_unicode_ci component utf8mb4_unicode_ci tablename utf8mb4_unicode_ci fieldorarea utf8mb4_unicode_ci filename utf8mb4_unicode_ci reftable utf8mb4_unicode_ci mdl_tool_brickfield_cache_acts utf8mb4_unicode_ci component utf8mb4_unicode_ci mdl_tool_brickfield_cache_check utf8mb4_unicode_ci mdl_tool_brickfield_checks utf8mb4_unicode_ci checktype utf8mb4_unicode_ci shortname utf8mb4_unicode_ci mdl_tool_brickfield_content utf8mb4_unicode_ci contenthash utf8mb4_unicode_ci mdl_tool_brickfield_errors utf8mb4_unicode_ci errordata utf8mb4_unicode_ci htmlcode utf8mb4_unicode_ci mdl_tool_brickfield_process utf8mb4_unicode_ci item utf8mb4_unicode_ci mdl_tool_brickfield_results utf8mb4_unicode_ci mdl_tool_brickfield_schedule utf8mb4_unicode_ci mdl_tool_brickfield_summary utf8mb4_unicode_ci mdl_tool_cohortroles utf8mb4_unicode_ci mdl_tool_customlang utf8mb4_unicode_ci lang utf8mb4_unicode_ci stringid utf8mb4_unicode_ci original utf8mb4_unicode_ci master utf8mb4_unicode_ci local utf8mb4_unicode_ci mdl_tool_customlang_components utf8mb4_unicode_ci name utf8mb4_unicode_ci version utf8mb4_unicode_ci mdl_tool_dataprivacy_category utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_tool_dataprivacy_ctxexpired utf8mb4_unicode_ci unexpiredroles utf8mb4_unicode_ci expiredroles utf8mb4_unicode_ci mdl_tool_dataprivacy_ctxinstance utf8mb4_unicode_ci mdl_tool_dataprivacy_ctxlevel utf8mb4_unicode_ci mdl_tool_dataprivacy_purpose utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci lawfulbases utf8mb4_unicode_ci sensitivedatareasons utf8mb4_unicode_ci retentionperiod utf8mb4_unicode_ci mdl_tool_dataprivacy_purposerole utf8mb4_unicode_ci lawfulbases utf8mb4_unicode_ci sensitivedatareasons utf8mb4_unicode_ci retentionperiod utf8mb4_unicode_ci mdl_tool_dataprivacy_request utf8mb4_unicode_ci comments utf8mb4_unicode_ci dpocomment utf8mb4_unicode_ci mdl_tool_mergeusers utf8mb4_unicode_ci log utf8mb4_unicode_ci mdl_tool_monitor_events utf8mb4_unicode_ci eventname utf8mb4_unicode_ci link utf8mb4_unicode_ci mdl_tool_monitor_history utf8mb4_unicode_ci mdl_tool_monitor_rules utf8mb4_unicode_ci description utf8mb4_unicode_ci name utf8mb4_unicode_ci plugin utf8mb4_unicode_ci eventname utf8mb4_unicode_ci template utf8mb4_unicode_ci mdl_tool_monitor_subscriptions utf8mb4_unicode_ci mdl_tool_policy utf8mb4_unicode_ci mdl_tool_policy_acceptances utf8mb4_unicode_ci lang utf8mb4_unicode_ci note utf8mb4_unicode_ci mdl_tool_policy_versions utf8mb4_unicode_ci name utf8mb4_unicode_ci revision utf8mb4_unicode_ci summary utf8mb4_unicode_ci content utf8mb4_unicode_ci mdl_tool_recyclebin_category utf8mb4_unicode_ci shortname utf8mb4_unicode_ci fullname utf8mb4_unicode_ci mdl_tool_recyclebin_course utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_tool_usertours_steps utf8mb4_unicode_ci title utf8mb4_unicode_ci content utf8mb4_unicode_ci targetvalue utf8mb4_unicode_ci configdata utf8mb4_unicode_ci mdl_tool_usertours_tours utf8mb4_unicode_ci name utf8mb4_unicode_ci description utf8mb4_unicode_ci pathmatch utf8mb4_unicode_ci endtourlabel utf8mb4_unicode_ci configdata utf8mb4_unicode_ci mdl_unilabel utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci unilabeltype utf8mb4_unicode_ci mdl_unilabeltype_accordion utf8mb4_unicode_ci mdl_unilabeltype_accordion_seg utf8mb4_unicode_ci heading utf8mb4_unicode_ci content utf8mb4_unicode_ci mdl_unilabeltype_carousel utf8mb4_unicode_ci height utf8mb4_unicode_ci background utf8mb4_unicode_ci mdl_unilabeltype_carousel_slide utf8mb4_unicode_ci url utf8mb4_unicode_ci caption utf8mb4_unicode_ci mdl_unilabeltype_collapsedtext utf8mb4_unicode_ci title utf8mb4_unicode_ci presentation utf8mb4_unicode_ci mdl_unilabeltype_courseteaser utf8mb4_unicode_ci courses utf8mb4_unicode_ci presentation utf8mb4_unicode_ci mdl_unilabeltype_grid utf8mb4_unicode_ci height utf8mb4_unicode_ci mdl_unilabeltype_grid_tile utf8mb4_unicode_ci title utf8mb4_unicode_ci url utf8mb4_unicode_ci content utf8mb4_unicode_ci mdl_unilabeltype_topicteaser utf8mb4_unicode_ci presentation utf8mb4_unicode_ci clickaction utf8mb4_unicode_ci mdl_upgrade_log utf8mb4_unicode_ci plugin utf8mb4_unicode_ci version utf8mb4_unicode_ci targetversion utf8mb4_unicode_ci info utf8mb4_unicode_ci details utf8mb4_unicode_ci backtrace utf8mb4_unicode_ci mdl_url utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci externalurl utf8mb4_unicode_ci displayoptions utf8mb4_unicode_ci parameters utf8mb4_unicode_ci mdl_user utf8mb4_unicode_ci auth utf8mb4_unicode_ci username utf8mb4_unicode_ci password utf8mb4_unicode_ci idnumber utf8mb4_unicode_ci firstname utf8mb4_unicode_ci lastname utf8mb4_unicode_ci email utf8mb4_unicode_ci phone1 utf8mb4_unicode_ci phone2 utf8mb4_unicode_ci institution utf8mb4_unicode_ci department utf8mb4_unicode_ci address utf8mb4_unicode_ci city utf8mb4_unicode_ci country utf8mb4_unicode_ci lang utf8mb4_unicode_ci calendartype utf8mb4_unicode_ci theme utf8mb4_unicode_ci timezone utf8mb4_unicode_ci lastip utf8mb4_unicode_ci secret utf8mb4_unicode_ci description utf8mb4_unicode_ci imagealt utf8mb4_unicode_ci lastnamephonetic utf8mb4_unicode_ci firstnamephonetic utf8mb4_unicode_ci middlename utf8mb4_unicode_ci alternatename utf8mb4_unicode_ci moodlenetprofile utf8mb4_unicode_ci mdl_user_devices utf8mb4_unicode_ci appid utf8mb4_unicode_ci name utf8mb4_unicode_ci model utf8mb4_unicode_ci platform utf8mb4_unicode_ci version utf8mb4_unicode_ci pushid utf8mb4_unicode_ci uuid utf8mb4_unicode_ci publickey utf8mb4_unicode_ci mdl_user_enrolments utf8mb4_unicode_ci mdl_user_info_category utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_user_info_data utf8mb4_unicode_ci data utf8mb4_unicode_ci mdl_user_info_field utf8mb4_unicode_ci shortname utf8mb4_unicode_ci name utf8mb4_unicode_ci datatype utf8mb4_unicode_ci description utf8mb4_unicode_ci defaultdata utf8mb4_unicode_ci param1 utf8mb4_unicode_ci param2 utf8mb4_unicode_ci param3 utf8mb4_unicode_ci param4 utf8mb4_unicode_ci param5 utf8mb4_unicode_ci mdl_user_lastaccess utf8mb4_unicode_ci mdl_user_password_history utf8mb4_unicode_ci hash utf8mb4_unicode_ci mdl_user_password_resets utf8mb4_unicode_ci token utf8mb4_unicode_ci mdl_user_preferences utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_user_private_key utf8mb4_unicode_ci script utf8mb4_unicode_ci value utf8mb4_unicode_ci iprestriction utf8mb4_unicode_ci mdl_vpl utf8mb4_unicode_ci name utf8mb4_unicode_ci shortdescription utf8mb4_unicode_ci intro utf8mb4_unicode_ci requirednet utf8mb4_unicode_ci password utf8mb4_unicode_ci variationtitle utf8mb4_unicode_ci jailservers utf8mb4_unicode_ci reductionbyevaluation utf8mb4_unicode_ci sebkeys utf8mb4_unicode_ci runscript utf8mb4_unicode_ci debugscript utf8mb4_unicode_ci mdl_vpl_assigned_overrides utf8mb4_unicode_ci mdl_vpl_assigned_variations utf8mb4_unicode_ci mdl_vpl_jailservers utf8mb4_unicode_ci server utf8mb4_unicode_ci laststrerror utf8mb4_unicode_ci mdl_vpl_overrides utf8mb4_unicode_ci reductionbyevaluation utf8mb4_unicode_ci mdl_vpl_running_processes utf8mb4_unicode_ci server utf8mb4_unicode_ci adminticket utf8mb4_unicode_ci mdl_vpl_submissions utf8mb4_unicode_ci comments utf8mb4_unicode_ci mdl_vpl_variations utf8mb4_unicode_ci identification utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_wiki utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci firstpagetitle utf8mb4_unicode_ci wikimode utf8mb4_unicode_ci defaultformat utf8mb4_unicode_ci mdl_wiki_links utf8mb4_unicode_ci tomissingpage utf8mb4_unicode_ci mdl_wiki_locks utf8mb4_unicode_ci sectionname utf8mb4_unicode_ci mdl_wiki_pages utf8mb4_unicode_ci title utf8mb4_unicode_ci cachedcontent utf8mb4_unicode_ci mdl_wiki_subwikis utf8mb4_unicode_ci mdl_wiki_synonyms utf8mb4_unicode_ci pagesynonym utf8mb4_unicode_ci mdl_wiki_versions utf8mb4_unicode_ci content utf8mb4_unicode_ci contentformat utf8mb4_unicode_ci mdl_workshop utf8mb4_unicode_ci name utf8mb4_unicode_ci intro utf8mb4_unicode_ci instructauthors utf8mb4_unicode_ci instructreviewers utf8mb4_unicode_ci strategy utf8mb4_unicode_ci evaluation utf8mb4_unicode_ci submissionfiletypes utf8mb4_unicode_ci conclusion utf8mb4_unicode_ci overallfeedbackfiletypes utf8mb4_unicode_ci mdl_workshop_aggregations utf8mb4_unicode_ci mdl_workshop_assessments utf8mb4_unicode_ci feedbackauthor utf8mb4_unicode_ci feedbackreviewer utf8mb4_unicode_ci mdl_workshop_grades utf8mb4_unicode_ci strategy utf8mb4_unicode_ci peercomment utf8mb4_unicode_ci mdl_workshop_submissions utf8mb4_unicode_ci title utf8mb4_unicode_ci content utf8mb4_unicode_ci feedbackauthor utf8mb4_unicode_ci mdl_workshopallocation_scheduled utf8mb4_unicode_ci settings utf8mb4_unicode_ci resultmessage utf8mb4_unicode_ci resultlog utf8mb4_unicode_ci mdl_workshopeval_best_settings utf8mb4_unicode_ci mdl_workshopform_accumulative utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_workshopform_comments utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_workshopform_numerrors utf8mb4_unicode_ci description utf8mb4_unicode_ci grade0 utf8mb4_unicode_ci grade1 utf8mb4_unicode_ci mdl_workshopform_numerrors_map utf8mb4_unicode_ci mdl_workshopform_rubric utf8mb4_unicode_ci description utf8mb4_unicode_ci mdl_workshopform_rubric_config utf8mb4_unicode_ci layout utf8mb4_unicode_ci mdl_workshopform_rubric_levels utf8mb4_unicode_ci definition utf8mb4_unicode_ci Table collations summary for https://myMoodle.de: utf8mb4_unicode_ci: 2044",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 1, 2023, 3:39 PM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with ä,ö,ü,É,é,Ç by using webservice",
          "Text": "Guess your posting that showed _cli was a mistake then. All tables you've shared have _ci Confusing ... Lines that begin with mdl_ are the tables. Lines indented are the columns in those tables: mdl_adminpresets utf8mb4_unicode_ci name utf8mb4_unicode_ci comments utf8mb4_unicode_ci site utf8mb4_unicode_ci author utf8mb4_unicode_ci moodleversion utf8mb4_unicode_ci moodlerelease utf8mb4_unicode_ci The following ... is it missing something? First line admin presets for the app no columns, then same but with an _it which I don't know is supposed to represent - Italian? Then after, an app_it_a? Only that one has a column in it! mdl_adminpresets_app utf8mb4_unicode_ci mdl_adminpresets_app_it utf8mb4_unicode_ci mdl_adminpresets_app_it_a utf8mb4_unicode_ci itemname utf8mb4_unicode_ci mdl_adminpresets_app_plug utf8mb4_unicode_ci plugin utf8mb4_unicode_ci name utf8mb4_unicode_ci mdl_adminpresets_it utf8mb4_unicode_ci plugin utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_adminpresets_it_a utf8mb4_unicode_ci name utf8mb4_unicode_ci value utf8mb4_unicode_ci mdl_adminpresets_plug utf8mb4_unicode_ci plugin utf8mb4_unicode_ci name utf8mb4_unicode_ci Dunno which tables are specifically used for web services.  You might need to run 'explain' from mysql client to see comments on tables. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 1, 2023, 8:38 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452963,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452963",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Authentication to web service using oauth2 token",
          "Text": "Hello, is it possible to call moodle web services using the JWT token obtained from keycloak? I already configured moodle to use Keycloak as IDP and users succesfully logging in, but I need to use web services... Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 25, 2023, 1:12 AM",
          "AuthorName": "seva seva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6101388&course=5",
          "role": [
            "Picture of seva seva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 452875,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452875",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Return an image from a custom webservice",
          "Text": "Hi all, I have images saved in the moodledata folder that I'd like to return via a webservice. Most of it is already working, I can access the image as intended but I can't return it properly. What I need is something similar to this https://openslide-demo.s3.dualstack.us-east-1.amazonaws.com/aperio/cmu-1/slide_files/13/7_2.jpeg?v=261d9b83 Any way I can set \"Content-Type: image/jpeg\" to the response header and the image as the response? Please note that the images are not moodle file-records but just generic files. Thanks in advance",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, November 23, 2023, 12:39 AM",
          "AuthorName": "Michael Troy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5526889&course=5",
          "role": [
            "Picture of Michael Troy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 452630,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452630",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Create courses using API",
          "Text": "Hello, how are you? I'm using the Moodle API to create courses in this way. To do this, I created an external service with the core_course_create_courses function enabled, and I granted permission to my user, everything is correct in that regard. I make the API call from Postman like any other API calls I've done before that have worked. The endpoint is: https://my.domain/webservice/rest/server.php As parameters, I pass my wstoken and the wsfunction, which is core_course_create_courses. Then, in the body, using form-data, I pass the values of my course as follows: courses[0][fullname] -> Course created by API courses[0][shortname] -> cursoapi courses[0][categoryid] -> 1 I pass these values because they are the only mandatory ones according to the documentation. When I make this call, I get the following response: {\"eventname\":\"\\\\core\\\\event\\\\course_created\",\"component\":\"core\",\"action\":\"created\",\"target\":\"course\",\"objecttable\":\"course\",\"objectid\":\"48\",\"crud\":\"c\",\"edulevel\":1,\"contextid\":109,\"contextlevel\":50,\"contextinstanceid\":\"48\",\"userid\":\"2\",\"courseid\":\"48\",\"relateduserid\":null,\"anonymous\":0,\"other\":{\"shortname\":\"cursoapi\",\"fullname\":\"Course created by API\"},\"timecreated\":1700126604} This response is already very different from all the responses I have received from other calls I have made (for example, I had to insert users, and it worked correctly). However, I don't see any errors in the response, and the call gives me a status of 200 OK, so I assume the call is correct. But when I go to check if the course has been created in the interface, I cannot find this course. I have checked the logs, but there is nothing apart from the log of having called this service. I have been investigating for a long time, and I cannot find anything similar to this, and I don't know why the course is not being created correctly. I have also checked the database , and there is no record with the data that I have assigned. Thank you very much for your help. (PD: I am using Moodle 4.2)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 16, 2023, 5:37 PM",
          "AuthorName": "daniel parejo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5903116&course=5",
          "role": [
            "Picture of daniel parejo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Create courses using API",
          "Text": "Hello Daniel, I don't see anything wrong in what you say. I do not use Postman, but instead a small php interface using curl (on moodle 3.11). Is it possible to provide (in PM) a token/url to test with my script ? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 16, 2023, 9:21 PM",
          "AuthorName": "Rémi Chaussenot",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4429339&course=5",
          "role": [
            "Picture of Rémi Chaussenot"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create courses using API",
          "Text": "Hi Remy, Thanks for your answer. Sadly i am not able to provide any url since its a project restricted by ip...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 17, 2023, 7:27 PM",
          "AuthorName": "daniel parejo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5903116&course=5",
          "role": [
            "Picture of daniel parejo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create courses using API",
          "Text": "Too bad! The answer you get looks really like the main log of moodle. Which is obviously, not the type of response we usually get from API. Sorry i can't help more, R.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 18, 2023, 2:59 AM",
          "AuthorName": "Rémi Chaussenot",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4429339&course=5",
          "role": [
            "Picture of Rémi Chaussenot"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create courses using API",
          "Text": "Hi everyone, As i keep trying to solve this, i look at the server logs where i have this moodle and saw this error: Got error 'PHP message: Potential coding error - active database transaction detected during request shutdown:\\n* line 261 of /lib/dml/moodle_read_slave_trait.php: call to moodle_database->start_delegated_transaction()\\n* line 858 of /course/externallib.php: call to my sql i_native_moodle_database->start_delegated_transaction()\\n* line 1499 of /webservice/lib.php: call to core_course_external::create_courses()\\n* line 1345 of /webservice/lib.php: call to webservice_base_server->execute()\\n* line 44 of /webservice/rest/server.php: call to webservice_base_server->run()\\n' So i go to the first file where the error is mentioned and comment one line: /** * On DBs that support it, switch to transaction mode and begin a transaction * @return moodle_transaction */ public function start_delegated_transaction() { $this->set_dbhwrite(); //return parent::start_delegated_transaction(); } First of all, yes, my database support transactions, it is MariaDb and all the tables are in InnoDB format. As seen in the code, if i comment the return line, the course is created correctly, but this code is core so i cant comment this, i hope this info help someone to help me find the solution. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 20, 2023, 5:47 PM",
          "AuthorName": "daniel parejo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5903116&course=5",
          "role": [
            "Picture of daniel parejo"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445980,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445980",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Get All Calendar Events by a User ID",
          "Text": "I have requirement to get all Calendar events including action events for a user, i tried core_calendar_get_calendar_upcoming_view but this does not return the action events. tried core_calendar_get_calendar_events also does not return action events. can anyone send me an example which web service function to call to get all calendar events for a user along with parameters example. I am trying to show user the Deadlines through web services.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2023, 3:34 PM",
          "AuthorName": "Ziad Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5566230&course=5",
          "role": [
            "Picture of Ziad Patel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get All Calendar Events by a User ID",
          "Text": "Hi, I have the same need as you, I want to get all the events in the user's calendar like what they see on Moodle. Using core_calendar_get_calendar_events, I cannot do this because I only have site and personal events but not those for courses and groups. I can make multiple calls because the courseid and groupeid, but it is not satisfactory. Were you able to resolve the problem? Best regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 15, 2023, 12:44 AM",
          "AuthorName": "Arnaud H",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6077327&course=5",
          "role": [
            "Picture of Arnaud H"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452286,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452286",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Need help in pagination options for web service REST API",
          "Text": "Hello, I am using RESTFul API to get course information. I couldn't find pagination/cursor information in response nor in documentation. Can someone please help? Thanks, --Sachin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 7, 2023, 4:47 PM",
          "AuthorName": "Sachin Dravid",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5940957&course=5",
          "role": [
            "Picture of Sachin Dravid"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 449702,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449702",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Set a user's password by using Core_user_update_users",
          "Text": "I am attempting to set a user's password via core_user_update_users function. I supply the params as follows: Array ( [0] => Array ( [id] => <user_id> [password] => asdfasdf ) ) However the above seemingly returns no errors, and the password change was not done. The return value if an array with an empty warning. Kindly assist.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 23, 2023, 1:30 AM",
          "AuthorName": "Orin Parris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5418389&course=5",
          "role": [
            "Picture of Orin Parris"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Set a user's password by using Core_user_update_users",
          "Text": "yea, it return warning but it change the password for me",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 23, 2023, 3:22 PM",
          "AuthorName": "Ermiyas Damte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5973432&course=5",
          "role": [
            "Picture of Ermiyas Damte"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451013,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451013",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_course_get_courses return field courseformatoptions has wrong data type",
          "Text": "Hello, I'm building out an API to interface with our Moodle but am having some issue getting all the courses with the core get_courses method. Looking at the API interface the value of the return for the core_course_get_courses has this: courseformatoptions: name string value string But the data being returned from the API actually uses integers for the \"value\" field most of the time. However, there are cases where the course format option is a default option in the /course/edit.php?id=<courseID>",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1812632/image.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1812632/image%20%281%29.png"
          ],
          "Time": "Saturday, September 30, 2023, 6:10 AM",
          "AuthorName": "Rob Lamb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5920979&course=5",
          "role": [
            "Picture of Rob Lamb"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 450832,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450832",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Guide on how to use moodle existing functions in a custom webservice plugin",
          "Text": "Hello, I'm new at moodle system development. Right now, I'm working on to make a custom webservice plugin. My question is, is there any example of how to use or integrate the existing moodle's service function (eg. create a course, bulk create users or enroll them) to a moodle webservice plugin? Because so far what I've done is by only using moodle's dml API.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 25, 2023, 2:52 PM",
          "AuthorName": "Dipo Oktama",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5895364&course=5",
          "role": [
            "Picture of Dipo Oktama"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 449329,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449329",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding conditions or filters to a custom report and running",
          "Text": "Hi all, I am quite new to moodle and would appreciate if someone could give me some help with this. 😅 I need to look up a user name from a custom field held on the user object. For this I originally investigated the core_user* functions however I discovered that the core functions do not seem to support searching by custom fields so I resorted to using a custom report. The custom field is \"user:profilefield_thesisgci\" and as you can see from my screenshot I have added it to my report and I can run the report either via the web interface or via the web service call \"core_reportbuilder_retrieve_report\" however I cannot seem to be able to dynamically set the condition on the field before running for the web services. I tried using \"core_reportbuilder_conditions_add\" however I can only add the condition but not set it. Does anyone know how to dynamically set either a condition or filter on a report via web service calls before running it?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1805807/moodle%20report%20-%20add%20conditions.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1805807/moodle%20report.png?forcedownload=1"
          ],
          "Time": "Thursday, August 10, 2023, 9:57 PM",
          "AuthorName": "Richard T",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5721028&course=5",
          "role": [
            "Picture of Richard T"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 448933,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=448933",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle (acts as a Publisher) & Salesforce (acts as a Subscriber) Integration",
          "Text": "Greetings Everyone! Any idea how do we send events/data from Moodle to Salesforce? Basically, we have a use case in which whenever a students enrolls a particular Course in Moodle that Enrollment data/event should be send from Moodle to Salesforce. Moodle will act as the publisher and Salesforce will be the subscriber of the event. Thanks in advance for your valuable time!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 27, 2023, 5:25 PM",
          "AuthorName": "Omkar Darekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5673123&course=5",
          "role": [
            "Picture of Omkar Darekar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 448673,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=448673",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Upcoming Quiz and Courses API",
          "Text": "Hi, Is there an API available for upcoming quiz and courses in core Moodle or custom Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 18, 2023, 1:50 PM",
          "AuthorName": "Sunny Adhatrao",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4053123&course=5",
          "role": [
            "Picture of Sunny Adhatrao"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 448375,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=448375",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to get all courses, including the \"not current\" ones in which a user is enrolled in?",
          "Text": "Hi all, The core_enrol_get_users_courses API function only gives me back the courses whose status is \"active\". Does any know the way to get all courses (i.e. all enrollments) including the \"not current\" status ones, of a certain user? Thanks! Carles",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 7, 2023, 12:16 AM",
          "AuthorName": "Carles Franquesa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4311030&course=5",
          "role": [
            "Picture of Carles Franquesa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 442721,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=442721",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Use a user token to launch a course",
          "Text": "Hello, I have an existing web site that that has a section with a few online SCORM courses listed.  The goal is to host these courses in Moodle for tracking and reporting purposes but keep the student experience the same with the existing web site as the courses are just a small portion of it.  The student will have an account in Moodle that was previously created. I am able to authenticate the student against Moodle and get a token, but I have not found a way to use that token and pass it back to Moodle when a course is launched.  Currently, when the Moodle course link is opened it is asking the student to login again.  I am sure there is a way to do this given the Moodle Mobile App, but I have not been able to track down the means of doing it. Essentially I am wanting Moodle to be the backend and the existing web site the frontend from a students perspective. I am currently running Moodle 4.0.x",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 5, 2023, 10:18 PM",
          "AuthorName": "Ron Meske",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=55926&course=5",
          "role": [
            "Picture of Ron Meske"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Use a user token to launch a course",
          "Text": "For anyone looking to do something similar, I ended up creating a plugin that exposed a few functions as part of the Moodle API that provided the functionality I needed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 30, 2023, 4:41 AM",
          "AuthorName": "Ron Meske",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=55926&course=5",
          "role": [
            "Picture of Ron Meske"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 448021,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=448021",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Override assignment deadlines for groups via API",
          "Text": "Hello, Is it possible to change the deadline for submitting an assignment for a group in the course via the API? I can't find any information on how the due date for groups in  assignment is stored. Is this an attribute stored by the 'tasks' module? Is the group attribute? Is this data stored in some database that I can access using the API and overwrite it? I mean these settings for the assignment. https://docs.moodle.org/402/en/Using_Assignment#You_want_students_to_submit_work_in_groups I will be very grateful for any tips!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1800480/image.png"
          ],
          "Time": "Saturday, June 24, 2023, 7:13 PM",
          "AuthorName": "G MT",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5462808&course=5",
          "role": [
            "Picture of G MT"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Override assignment deadlines for groups via API",
          "Text": "Hi, The data are stored in mdl_ assign_overrides. I don't find the api to manage it, I found events but I don't think it help you in that case. You can find more info in \\mod\\assign\\overrides.php -> assign_update_events($assignment, $override); I Think this function can give you good information. Because it seems that modifying the table will not be enougth, it seems that you've also to update the events in, the calendar. I hope it will help you. Dominique.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 26, 2023, 9:52 PM",
          "AuthorName": "Dominique Palumbo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2419605&course=5",
          "role": [
            "Picture of Dominique Palumbo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Odp: Re: Override assignment deadlines for groups via API",
          "Text": "Thank you for clarifying the situation. It's a pity that there is no easy and fun way to modify deathlines for groups. I need to periodically set multiple due dates for multiple groups and multiple tasks. That's why I'm looking for a solution to speed up this process.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 27, 2023, 7:06 PM",
          "AuthorName": "G MT",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5462808&course=5",
          "role": [
            "Picture of G MT"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Override assignment deadlines for groups via API",
          "Text": "Yeah, there's no API for this, you're basically looking at decoding what add overrride script does,and my recollection is that its' pretty arcane.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 26, 2023, 10:33 PM",
          "AuthorName": "Michael Hughes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=838530&course=5",
          "role": [
            "Picture of Michael Hughes",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Odp: Re: Override assignment deadlines for groups via API",
          "Text": "Do you know if there are any indications that an API supporting this will be added in the future?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 27, 2023, 7:15 PM",
          "AuthorName": "G MT",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5462808&course=5",
          "role": [
            "Picture of G MT"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447626,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447626",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "mod_assign_set_user_flags?",
          "Text": "[Cross post from the Assignment forum, sorry] I want to trigger the release of assignments using marking workflow through the web services API. I know can set the workflowstate through mod_assign_set_user_flags, but that seems only to update the database .  Is that enough?  Will the change be picked up by cron and trigger the event?  My small scale tests suggest not... I\ncan also change the state by using mod_assign_save_grades but I don't\nwant to alter any of the existing grade data - just set the state and\ntrigger the event that updates the grade-book, sets student visibility\netc. Do I have to get_user_grades, copy\neverything across and set_user_grades to achieve this?  Or is there a\ngeneral way to trigger events using the WS API? Any thoughts? Many thanks, Jerry",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 12, 2023, 11:48 PM",
          "AuthorName": "Jerry West",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1613917&course=5",
          "role": [
            "Picture of Jerry West"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 447495,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447495",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Erro moodle externallib.php",
          "Text": "```text\nHello, we are trying to add functions to our external service but this error appears,\n```\n \n```text\nwe saw a discussion in the forum about something related but our externallib.php does not have some code snippets described in the discussion:\n```\n \n```text\nhttps://moodle.org/mod/forum/discuss.php?d=368356\n\n\nwe are currently using moodle 4.2.\n```\n \n```text\nCan anyone direct me about what this error/s is about.\n```",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1798345/Error.PNG?forcedownload=1"
          ],
          "Time": "Thursday, June 8, 2023, 1:27 AM",
          "AuthorName": "Alexandre Stálin Silva Alves",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5646897&course=5",
          "role": [
            "Picture of Alexandre Stálin Silva Alves"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 446082,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446082",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "gradereport_user_get_grades_table",
          "Text": "How do I find this function in Moodle's file structure so I can study it and try to work out how to modify the code? Currently it returns everything to build a results table and all I need are the course title, courseid, course total results, the user full name and username. Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 25, 2023, 6:54 PM",
          "AuthorName": "Wes Sykes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1143065&course=5",
          "role": [
            "Picture of Wes Sykes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 445181,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445181",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web (Rest/SOAP) API for Moodle Question Bank",
          "Text": "Hi All, I am looking at various open source software stacks for a project I am doing which closely resembles Question Bank/Quiz. Moodle looks very promising but I am not clear yet on couple of things. A) Since I need to make a different front-end I need good API interface for Question Bank/Question Engine? I didn't find much details on this.. Can someone help? B) What type of Authentication/ API can Moodle support? oAuth? - dev tester",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 23, 2023, 8:02 PM",
          "AuthorName": "tester dev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5515109&course=5",
          "role": [
            "Picture of tester dev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web (Rest/SOAP) API for Moodle Question Bank",
          "Text": "Hi All, Note: (I am using Moodle 4.1.2 MOODLE_4012 version.) I am waiting your help. Please help me for this- A) Since I need to make a different front-end, I need good API interface for Question Bank/Question Engine? I didn't find much details on this. Can someone help? B) What type of Authentication/ API can Moodle support? oAuth? - dev tester",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2023, 8:18 PM",
          "AuthorName": "tester dev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5515109&course=5",
          "role": [
            "Picture of tester dev"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 445059,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445059",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "userkey authentication plugin",
          "Text": "Hello i want to create one time url using userkey authentication plugin but when i try to create a url i get an error which is invalid parameter value detected my moodle version is 4.1 can someone help me btw i am doing this with curl command in ubuntu terminal",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 20, 2023, 11:01 PM",
          "AuthorName": "Ahmet Güneş",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5520016&course=5",
          "role": [
            "Picture of Ahmet Güneş"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Ri: userkey authentication plugin",
          "Text": "Hi Ahmet, I use the web service and it works well. As parameter I used: user[username] = 'value' Which parameter are you using ? Nicola",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 22, 2023, 9:56 PM",
          "AuthorName": "Nicola Vallinoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4900234&course=5",
          "role": [
            "Picture of Nicola Vallinoto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ynt: Ri: userkey authentication plugin",
          "Text": "Hi Nicola i am using email as a parameter curl -H \"Content-Type: application/json\" --request POST --data \"{\"email:deneme@deneme.com\"}\" http://mymoodle.com/moodle/webservice/rest/server.php?wstoken=mytoken&wsfunction=auth_userkey_request_login_url&moodlewsrestformat=json and this is my curl command and i think the problem is \"&\" operator because i tried to give the wsfunction first but this time debug info says missing token or this code is completely wrong",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 23, 2023, 10:14 PM",
          "AuthorName": "Ahmet Güneş",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5520016&course=5",
          "role": [
            "Picture of Ahmet Güneş"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Ynt: Ri: userkey authentication plugin",
          "Text": "Hi, I use postman to launch webservice. Here my url: https://mymoodle.it/webservice/rest/server.php?wstoken=d345bc7cd3f7445b0c6tt50417b6fbd0&wsfunction=auth_userkey_request_login_url& user [username]=myuser I think you need to add the bold part (user[username]='.....') Nicola",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 23, 2023, 11:18 PM",
          "AuthorName": "Nicola Vallinoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4900234&course=5",
          "role": [
            "Picture of Nicola Vallinoto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ynt: Ri: Ynt: Ri: userkey authentication plugin",
          "Text": "Hi, actually my boss did not want to use postman for this and i found a different solution for this error thanks for helping me",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 24, 2023, 7:50 AM",
          "AuthorName": "Ahmet Güneş",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5520016&course=5",
          "role": [
            "Picture of Ahmet Güneş"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 444906,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444906",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to update a user via core_user_update_users in Postman",
          "Text": "Hello, first of all sorry if my question has been answered somewhere already but after looking for a time i havent come close to finding said answer. I want to be able to update a user via the core_user_update_users api. Everything has been set correctly in moodle but i dont know how i need to enter the fields or the id of the user to update. Does someone have an example how it should look like in Postman? Im fairly new to moodle so i apologize again if this is a stupid question. Here is what i have so far: I appreciated any help. Thank you in advance. Kind regrads Marc",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1788334/image.png"
          ],
          "Time": "Wednesday, March 15, 2023, 4:17 PM",
          "AuthorName": "Marc Bonten",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5509866&course=5",
          "role": [
            "Picture of Marc Bonten"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 444485,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444485",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Need help with mod_data_update_entry in combination with textarea field",
          "Text": "Hello together, I'm trying to update an textarea field via rest api. While I'm successful with simple text fields, updating textarea fields does not work. I get an errormessage like \"You don't have changed anything\" ( \"Sie haben keine Einträge vorgenommen!\"). What I post: https://<main-url>/webservice/rest/ server .php?wstoken=<token>&wsfunction=mod_data_update_entry&moodlewsrestformat=json&entryid=7714&data[0][fieldid]=2318&data[0][value]=\"test\"&data[1][fieldid]=2318&data[1][subfield]=content1&data[1][value]=1&data[2][fieldid]=2318&data[2][subfield]=itemid&data[2][value]=[] What I get: {'updated': False, 'generalnotifications': ['Sie haben keine Einträge vorgenommen!'], 'fieldnotifications': [], 'warnings': []} I varried the url in many ways, but without success. It should work, MoodleApp can change contents of textarea fields, the submitted data has - as far as i can see - the same structure ( https://github.com/moodlehq/moodleapp/blob/master/src/addons/mod/data/fields/textarea/services/handler.ts ). Any help is appreciated. Thanks in advance. Cheers corvus albus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 2, 2023, 1:26 PM",
          "AuthorName": "corvus albus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3280504&course=5",
          "role": [
            "Picture of corvus albus"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Need help with mod_data_update_entry in combination with textarea field",
          "Text": "O.k. found it: there must be an empty subfield-entry for the \"text\": https:///webservice/rest/server.php? wstoken=& wsfunction=mod_data_update_entry& moodlewsrestformat=json& entryid=& data[0][fieldid]=& data[0][subfield]=& data[0][value]=\" html-text \"&",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 3, 2023, 4:53 AM",
          "AuthorName": "corvus albus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3280504&course=5",
          "role": [
            "Picture of corvus albus"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Need help with mod_data_update_entry in combination with textarea field",
          "Text": "Something went wrong with formatting. Hope it works now. Replace <entryid> und <filedid> by the corresponding ids. https:///webservice/rest/ server .php? wstoken=& wsfunction=mod_data_update_entry& moodlewsrestformat=json& entryid=<entryid>& data[0][fieldid]=<fieldid>& data[0][subfield]=& data[0][value]=\"<p>html-text</p>\"& data[1][fieldid]=<fieldid>& data[1][subfield]=content1& data[1][value]=1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 3, 2023, 6:20 AM",
          "AuthorName": "corvus albus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3280504&course=5",
          "role": [
            "Picture of corvus albus"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 444120,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444120",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "TRACK and TRACE HTTP Methods",
          "Text": "So my security guy is using the NESSUS scanner and has alerted me to some issues on my Moodle server . \"The remote web server supports the TRACE and/or TRACK methods. TRACE and TRACK are HTTP methods that are used to debug web server connections.\" I'm assuming right away this may have to do with the Development/Debugging feature built into the WebUI. Has anyone come across this? Is Moodle going to break if I disable these methods?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 18, 2023, 7:48 AM",
          "AuthorName": "Brian Ball",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4391332&course=5",
          "role": [
            "Picture of Brian Ball"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: TRACK and TRACE HTTP Methods",
          "Text": "Please see: https://www.techstacks.com/howto/disable-tracetrack-in-apache-httpd.html once you disable, check how moodle is affected ... Then, in config.php file add: $CFG->debug=1; $CFG->debugdisplay=1; Check site. Then mess up the the config.php file by removing the ';' at the end of the debugdisplay and debug lines. Hit site. Remove those lines from config.php when you are done. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 18, 2023, 8:44 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: TRACK and TRACE HTTP Methods",
          "Text": "So I did find this article based on my Apache version running 2.4.52: https://www.linuxcnf.com/2017/08/how-to-disable-tracetrack-in-apachehttpd.html \" This worked perfectly as the article states, but do you think this is enough? I'll have my security guy run another scan to confirm.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 22, 2023, 12:32 AM",
          "AuthorName": "Brian Ball",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4391332&course=5",
          "role": [
            "Picture of Brian Ball"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: TRACK and TRACE HTTP Methods",
          "Text": "Hi Brian, TRACK and TRACE are HTTP Methods you should disable in the Web Server serving the Moodle pages. Moodle is not a Web Server. Moodle runs on top of DELETE GET HEAD OPTIONS POST PUT HTTP Methods . HTH , Matteo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 18, 2023, 6:30 PM",
          "AuthorName": "Matteo Scaramuccia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1075386&course=5",
          "role": [
            "Picture of Matteo Scaramuccia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 444038,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444038",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Any way to log webservice request parameters?",
          "Text": "Hi there, I'm trying to debug an application that I have that is sending requests to my moodle server registered as an external webservice. I can see the webservice requests in the mdl_logstore_standard_log MySql table, but unfortunately, that log does not appear to include parameters passed along with the request. Is there any way to get that data, or to start logging it? I would love to be able to see these logs to be able to troubleshoot the issue I'm encountering. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 16, 2023, 5:51 AM",
          "AuthorName": "Ben Torell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3315249&course=5",
          "role": [
            "Picture of Ben Torell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 368356,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=368356",
      "NoOfResponses": 15,
      "ResponsesInList": [
        {
          "Title": "error when adding external functions to a web service.",
          "Text": "When I try to add external functions to a web service. I get these errors. Can anyone direct me about what this error/s is about. Any plugin that is missing or some missing files Coding error detected, it must be fixed by a programmer: Cannot find file with external function implementation line 87 of /lib/externallib.php: coding_exception thrown line 199 of /admin/webservice/forms.php: call to external_api::external_function_info() line 204 of /lib/formslib.php: call to external_service_functions_form->definition() line 60 of /admin/webservice/service_functions.php: call to moodleform->__construct()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 3, 2018, 10:14 AM",
          "AuthorName": "RK B",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2036128&course=5",
          "role": [
            "Picture of RK B"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "Hi Rama, Two files are mandatory for adding web service in our plugin. 1. db/services.php 2. externallib.php please refer below link, it might solve your problem https://docs.moodle.org/dev/External_services_description Thanks Rohit Panchal",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2018, 3:36 PM",
          "AuthorName": "Rohit Panchal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2363173&course=5",
          "role": [
            "Picture of Rohit Panchal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "Thank you Rohit for the suggestion.  I was trying to connect my WP site to Moodle and faced this issue. I used the brute force technique of cleaning up all my plugins which were not being used and especially those which showed some warnings like missing files. After this cleanup this issue got resolved. I am not sure which plugin was causing the issue but could be from a theme. Thanks Again. Regards Rama",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2018, 8:30 PM",
          "AuthorName": "RK B",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2036128&course=5",
          "role": [
            "Picture of RK B"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "Great... Thanks Rohit Panchal",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 5, 2018, 1:50 PM",
          "AuthorName": "Rohit Panchal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2363173&course=5",
          "role": [
            "Picture of Rohit Panchal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "Hi There is no need to using \"brute force\" algorithm to find issue! You can find it in O(1) ! just add this code after line 87 (in if scope): \n```text\n    print_r($function);\n```\n after refreshing page that Error occurred, you should see something like this: stdClass Object ( [id] => `int id` [name] => `name of service that has the problem` [classname] => `classname of service that has the problem` [methodname] => `name of method that has the problem (in externallib.php)` [classpath] => `the path of file that has the problem` [component] => `name of plugin` [services] => `some services` )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 5, 2020, 9:38 PM",
          "AuthorName": "sadaf sadafian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2153600&course=5",
          "role": [
            "Picture of sadaf sadafian",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "Hi Sadaf, Your comment saved my life! Thank you... with that line I found the plugin! Regards!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2021, 2:00 AM",
          "AuthorName": "Felipe Reis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3589619&course=5",
          "role": [
            "Picture of Felipe Reis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "This worked for me thanks. Identify buggy plugins and fix them",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 2, 2021, 4:51 AM",
          "AuthorName": "Erik Pérez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1959170&course=5",
          "role": [
            "Picture of Erik Pérez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "Me Salvou !! Valew meu caro ! I Saved!! Thanks my dear!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 9, 2022, 10:40 PM",
          "AuthorName": "Marcos Paulo Sales dos Santos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1502998&course=5",
          "role": [
            "Picture of Marcos Paulo Sales dos Santos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "HI, i got the same issue after upgrading to moodle 3.6, here is my debug message : line 87 of /lib/externallib.php: coding_exception thrown line 199 of /admin/webservice/forms.php: call to external_api::external_function_info() line 204 of /lib/formslib.php: call to external_service_functions_form->definition() line 60 of /admin/webservice/service_functions.php: call to moodleform->__construct() Can you please suggest me solution Thanks in advance, Regards, Madhukar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 6, 2019, 1:01 PM",
          "AuthorName": "Madhukar Reddy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2310272&course=5",
          "role": [
            "Picture of Madhukar Reddy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "Hi Rama, upgrade joomdle plugin,in your plugins tab(using administrator login),then it works. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 15, 2018, 5:16 PM",
          "AuthorName": "Eswar sfc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2352390&course=5",
          "role": [
            "Picture of Eswar sfc"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "This is one of the most difficult error to debug in my opinion. The code now, fully stop the execution. I think this should not be a fatal error. In a emergency, you can add a return before moodle throw a error. In the file /lib/externallib.php line 87. \n```text\nif (!file_exists($function->classpath)) {\n\n\n    return;                \n\n\n    throw new coding_exception('Cannot find file with external function implementation');\n\n\n}\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 15, 2019, 12:53 AM",
          "AuthorName": "Artur Welp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1964410&course=5",
          "role": [
            "Picture of Artur Welp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "Can confirm this hack has gotten me by.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2019, 10:32 PM",
          "AuthorName": "Andrew Normore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1481540&course=5",
          "role": [
            "Picture of Andrew Normore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "Same error here, fresh installation, all plugins working and up to date Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 28, 2019, 8:28 PM",
          "AuthorName": "Giannis Theodoulou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2339034&course=5",
          "role": [
            "Picture of Giannis Theodoulou"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "I managed to solve this on my install. I manage a version of Moodle that has been updated and modified a lot across the years, so was created a long time ago and upgraded a fair few times. The issue in my case was a knock on of have the database reference to an old disabled theme. Deleting these themes through the plugin manager resolved this issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 17, 2020, 7:38 PM",
          "AuthorName": "Adam Barker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1840767&course=5",
          "role": [
            "Picture of Adam Barker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error when adding external functions to a web service.",
          "Text": "I ran into the same issue today. It seems that installing plugins en removing plugins leaves traces in /admin/webservice/documentation.php? for example. Where do these traces come from and how to delete them? I tried searching the database but it didn't came up with references?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 2, 2023, 8:38 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 442853,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=442853",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "mod_assign_save_grades Notifications",
          "Text": "I'm using mod_assign_save_grades API for updating students grades, and every time the grades change the students get a email notification. I am unable to turn off this notification. I tried turning on and off the Notify Student checkbox and all the notification options in the assignment settings. Is there maybe a API argument to turn it off, which I am missing? \n```text\nmod_assign_save_grades\n```\n \n```text\nGeneral structure\n\n\n\nlist of ( \n\n\nobject {\n\n\nuserid\n int   \n//The student id to operate on\n\n\ngrade\n double   \n//The new grade for this user. Ignored if advanced grading used\n\n\nattemptnumber\n int   \n//The attempt number (-1 means latest attempt)\n\n\naddattempt\n int   \n//Allow another attempt if manual attempt reopen method\n\n\nworkflowstate\n string   \n//The next marking workflow state\n\n\nplugindata\n  \nDefault to \"Array\n(\n)\n\"\n \n//plugin data\n\n\nobject {\n\n\nassignfeedbackcomments_editor\n  \nOptional\n \n//Editor structure\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2023, 3:01 AM",
          "AuthorName": "Dominik Höbert",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5371080&course=5",
          "role": [
            "Picture of Dominik Höbert"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: mod_assign_save_grades Notifications",
          "Text": "This web service is ultimately calling apply_grade_to_user() in mod/assign/locallib.php, (by way of save_grade()) which sends the notification based on the $formdata->sendstudentnotifications field being present set and true. If the the sendstudentnotifications element doesn't exist (and it won't because the Web API doesn't accept it nor pass it along to the Assignment API), then the notification shouldn't be emitted normally. Are you sure it's this method and not the assignment cron that is emitting these notifications? The assignment cron (locallib.php assign::cron()) sends a notification under the following conditions, and the task to do this runs every minute (by default): \n```text\n// Collect all submissions that require mailing.\n\n\n// Submissions are included if all are true:\n\n\n//   - The assignment is visible in the gradebook.\n\n\n//   - No previous notification has been sent.\n\n\n//   - The grader was a real user, not an automated process.\n\n\n//   - The grade was updated in the past 24 hours.\n\n\n//   - If marking workflow is enabled, the workflow state is at 'released'.\n```\n There doesn't look like there is an option to stop this, other than setting the assignment to hidden (which has obvious implications if it still needs to be accessed), the assignments *grade item* (in the gradebook) or by writing into each user's user_flag record for the assignment that it's already been mailed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2023, 9:37 PM",
          "AuthorName": "Michael Hughes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=838530&course=5",
          "role": [
            "Picture of Michael Hughes",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: mod_assign_save_grades Notifications",
          "Text": "Thank you for your very helpful explanation! I was able to stop the email notification by setting mailed to 1 with mod_assign_set_user_flags directly after changing the grades.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2023, 5:50 PM",
          "AuthorName": "Dominik Höbert",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5371080&course=5",
          "role": [
            "Picture of Dominik Höbert"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 438343,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438343",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "A problem with mod_assign_get_submissions",
          "Text": "I am on Moodle 4.0 and am trying to get Assignment Submission files of a Student User. I generate a token using the standard webservice approach of sending username and pwd. But when I try the function mod_assign_get_submissions, I get the error \"No access rights in module context \" After some digging I realised that this function doesn't try to get just the users submissions. It only takes assignmentid as parameter and probably tries to take all user submissions. So I checked from a User with Teacher role and I was able to use this function and get submissions correctly. However I wanted to get submissions of a Student User. I couldn't find any other function for this. So i digged into the code and in https://github.com/moodle/moodle/blob/b81fb00f25c550769703d3795764c108a7fc2fb1/mod/assign/externallib.php I found the function: get_submissions It has a surprising check for View Grades permissions as below $assign->require_view_grades(); This is what was causing the issue. Now another possibility is to give Student Role the View Grades permission . However that is not right. It allows students to view even other's grades I think and if I give that, the WS now returns other student submissions as well. So the only workaround was to comment out this line. Actually probably what is needed is: $assign->require_view_submissions($userid); But I couldnt add this code as I didn't know how this function can get $userid as that is not passed as part of the WS. Maybe this requires a review by people who designed the Moodle web service and some correction if this function was intended for all users to get their own submissions. If this was only intended for Teacher users, then maybe another function is needed for Students to get their submissions. (As an aside: I wonder how the Moodle App bypassed this issue?)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 17, 2022, 10:33 PM",
          "AuthorName": "kanthsree s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4599666&course=5",
          "role": [
            "Picture of kanthsree s"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: A problem with mod_assign_get_submissions",
          "Text": "Hi kanthsree, thanks for the tip, using a teacher i can obtain the assigment data. Using the function core_enrol_get_enrolled_users, you can get a teacher id for that course, then ask for the assigment using a token ( login/token.php' ) for that teacher. best regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 19, 2023, 11:40 PM",
          "AuthorName": "Jesús Pérez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1962191&course=5",
          "role": [
            "Picture of Jesús Pérez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: A problem with mod_assign_get_submissions",
          "Text": "Yes, the teacher can. However in my use case above, it was being pulled from a Student login and only the student token was available. Teacher token will be available when the teacher logs in and gets the teacher token. Hence the problem... But as you see managed to bypass the problem as above...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2023, 1:24 AM",
          "AuthorName": "kanthsree s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4599666&course=5",
          "role": [
            "Picture of kanthsree s"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 442854,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=442854",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Can't log in or access the moodle mobile application",
          "Text": "Hello, I have had this problem for a long time, and I have already tried many things, but I still have not been able to solve it, if the following has happened to someone, I would be grateful if you help me, regards. Problem: a device that does not have the ip within the whitelist of my hostign provider's firewall, cannot log in or access the moodle mobile application.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2023, 3:02 AM",
          "AuthorName": "PEV UNIMAR",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4089689&course=5",
          "role": [
            "Picture of PEV UNIMAR"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 442443,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=442443",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Webservice-Login doesn't enrol users",
          "Text": "Good day. My issue is that when I use the <moodlesite>/login/token.php?service=moodle_mobile_app&moodlewsrestformat=json&username=$username&password=$password to log in my user. My user's enrolled courses (they are auto-enrolled) are not displayed within my mobile app when  I call webservice/rest/ server .php?wsfunction=core_enrol_get_users_courses&moodlewsrestformat=json (All calls are done correctly) The courses list is empty. Only when the user logins into the Actual Website then they are auto-enrolled Why is this happening does anyone have a solution",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 2, 2023, 7:47 PM",
          "AuthorName": "Patrick Witter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5101361&course=5",
          "role": [
            "Picture of Patrick Witter"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 430404,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430404",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Moodle REST API - Postman collection",
          "Text": "Hi, I would like to get postman collection for all of the moodle rest APIs - https://docs.moodle.org/dev/Web_service_API_functions https://moodle.org/plugins/webservice_restful",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 1, 2022, 5:20 PM",
          "AuthorName": "Haris Mateen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4349569&course=5",
          "role": [
            "Picture of Haris Mateen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re:  Moodle REST API - Postman collection",
          "Text": "Hi Haris, Were you able to get the postman collection for the APIs?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 2, 2022, 1:41 AM",
          "AuthorName": "Nebiyu Hailemariam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4812757&course=5",
          "role": [
            "Picture of Nebiyu Hailemariam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  Moodle REST API - Postman collection",
          "Text": "I am also looking for this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 23, 2022, 8:21 PM",
          "AuthorName": "Ali Samie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5042506&course=5",
          "role": [
            "Picture of Ali Samie"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  Moodle REST API - Postman collection",
          "Text": "Me too I am looking for a Postman collection.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 7, 2022, 4:40 AM",
          "AuthorName": "Clement Muhirwa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4618527&course=5",
          "role": [
            "Picture of Clement Muhirwa"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  Moodle REST API - Postman collection",
          "Text": "Me too! If not, I'll likely start my own as part of my 2023 NYE resolution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 23, 2022, 3:55 AM",
          "AuthorName": "Josh Manders",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2375047&course=5",
          "role": [
            "Picture of Josh Manders"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  Moodle REST API - Postman collection",
          "Text": "Hi I am building a Moodle tool and using my own postman collection available at https://github.com/ildemartinez/LMS-Explorer Hope helps... just few calls but growing as needed .... If you need one just tell me All the best ilde",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 31, 2022, 2:40 AM",
          "AuthorName": "Ildefonso Martínez Marchena",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4047334&course=5",
          "role": [
            "Picture of Ildefonso Martínez Marchena"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  Moodle REST API - Postman collection",
          "Text": "Hello All, For Postman, use POST with the following settings: Params: blank Authentication: No Auth Body: form-data Note: I have been using the JSON protocol, and the only body type that seems to work is form-data. In the body, setup the following keys: wstoken wsfunction moodlewsrestformat Then depending on the function being called you will need to add your data.  Check the data required and the format  in the webservice documentation.  your_domain/admin/webservice/documentation.php Hope this helps. Regards, Ron",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 31, 2022, 4:12 AM",
          "AuthorName": "Ron Meske",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=55926&course=5",
          "role": [
            "Picture of Ron Meske"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 440699,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440699",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "API functionality to amz",
          "Text": "```text\n\n```\n \n```text\nI need to make a website like web vacuum cleaners for car and can link to amazon products, do you have any samples?\n```\n \n```text\n\n```\n https://vacuumcleanersforcar.com/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 18, 2022, 4:49 PM",
          "AuthorName": "thanh tùng nguyễn hữu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5292008&course=5",
          "role": [
            "Picture of thanh tùng nguyễn hữu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 440686,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440686",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_files_upload File not specified",
          "Text": "Hi all, I am trying to upload files to Moodle 3.1.1 using the core_files_upload function. Whenever I try to upload the file I get this error: { \"exception\": \"moodle_exception\", \"errorcode\": \"nofile\", \"message\": \"File not specified\" } I am using these parameters: wstoken: TOKEN wsfunction: core_files_upload moodlewsrestformat: json contextid: 1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 18, 2022, 7:06 AM",
          "AuthorName": "Alex Phillips",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5210911&course=5",
          "role": [
            "Picture of Alex Phillips"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 439743,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439743",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "moodle logging using API",
          "Text": "Hi All, I need to login/create a new user into the moodle using API? Can anyone help me out with the steps. Need this urgently, Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 20, 2022, 7:02 PM",
          "AuthorName": "Sushma R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4291837&course=5",
          "role": [
            "Picture of Sushma R"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Ri: moodle logging using API",
          "Text": "I guess you have another application with a login, i needed the same thing from your API you 'll need 2 interfaces, one for the login, one for the registration you need to create a user on \"mdl_user\" table , you can just pass the user email and password from your website, then you might want to enrole the user on \"mdl_role_assignment \" and assign a role on \"mdl_user_role\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2022, 8:48 PM",
          "AuthorName": "ale casa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4987918&course=5",
          "role": [
            "Picture of ale casa"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 439241,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439241",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Webservice not available but enabled",
          "Text": "Hi, i\nenabled \"enablewebservices\" and \"enablemobilewebservice\". User have the permission \"webservice/soap:use\" But if i try\nto use the App, i still geht \"Webservice not available\". In the db everey thing seems to be ok `` \n```text\nMariaDB\n [moodle]> SELECT * from mdl_config WHERE name LIKE \"%webservice%\";\n\n\n+-----+------------------------+-----------+\n\n\n| id  | name                   | value     |\n\n\n+-----+------------------------+-----------+\n\n\n|  34 | enablewebservices      | 1         |\n\n\n| 462 | enablemobilewebservice | 1         |\n\n\n| 481 | webserviceprotocols    | rest,soap |\n\n\n+-----+------------------------+-----------+\n```\n `` Moodle and the moodle App are both in the newest version. Thanks, Martin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 10, 2022, 3:02 AM",
          "AuthorName": "Ma Sch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5179635&course=5",
          "role": [
            "Picture of Ma Sch"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 439183,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439183",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "upload file to a folder resource",
          "Text": "Hi, We have a PHP\nweb application. We need to be able to move files from our web  app to a specific folder in a specific\ncourse. Students of the course could then download the files from the folder. I have\nmanaged to upload a file a draft area using a web service function “core_files_upload”. Question 1:\nIs it possible to upload the file directly to a specific folder instead of\ndraft area using “core_files_upload”? Currently filearea is set to ‘draft’. Question 2:\nHow can I move a file from draft area to a specific folder? There seems to be a\nfunction called “mod_assign_save_submission”. I assume that it doesn’t work\nwith folders.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 7, 2022, 5:12 PM",
          "AuthorName": "T. H.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5192259&course=5",
          "role": [
            "Picture of T. H."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 438951,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438951",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Got webservice_access_exception when use core_files_upload in postman",
          "Text": "Hello everyone, I got ex error when calling core in postman, I tried using both admin and student account but still have the above problem. Can you help me solve this problem or make me clear about it? I'm writing a function for a personal mobile app related to it, and I'm stuck with that error. Here is a screenshot of postman: Request: Response Thank you, and have a nice day! Moodle version: 3.10+ (Sorry, I use Google translation)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1766712/image.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1766712/image%20%281%29.png"
          ],
          "Time": "Saturday, October 1, 2022, 1:17 PM",
          "AuthorName": "Xía Bùi Văn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4464189&course=5",
          "role": [
            "Picture of Xía Bùi Văn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 438879,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438879",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "\"core_course_update_courses\"  method",
          "Text": "Hello, Is there any parameter for updating the \"Calculate the end date from the number of sections \" field in a web service methods? Or can we update all of the saved records from moodle admin panel as a bulk process after saving with default settings? Or could I change from the dataset ? In which table and field is this setting saved? I couldn't see any suitable parameter for this field in the document. Thanks and best regards. \n```text\nobject {\n    \n\n\nid\n int   \n//ID of the course\n\n    \n\n\nfullname\n string  \nOptional\n \n//full name\n\n    \n\n\nshortname\n string  \nOptional\n \n//course short name\n\n    \n\n\ncategoryid\n int  \nOptional\n \n//category id\n\n    \n\n\nidnumber\n string  \nOptional\n \n//id number\n\n    \n\n\nsummary\n string  \nOptional\n \n//summary\n\n    \n\n\nsummaryformat\n int  \nOptional\n \n//summary format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)\n\n    \n\n\nformat\n string  \nOptional\n \n//course format: weeks, topics, social, site,..\n```\n \n```text\n\n```",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1766467/image.png"
          ],
          "Time": "Thursday, September 29, 2022, 8:25 PM",
          "AuthorName": "Selma GÜZEL",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4220248&course=5",
          "role": [
            "Picture of Selma GÜZEL"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Ynt: \"core_course_update_courses\"  method",
          "Text": "For clarification, my issue is this: https://tracker.moodle.org/browse/MDL-64515 Is there a solution fot this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2022, 3:18 AM",
          "AuthorName": "Selma GÜZEL",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4220248&course=5",
          "role": [
            "Picture of Selma GÜZEL"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 438288,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438288",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Ajax login issue",
          "Text": "how i login using aja x request?? i try this: \n```text\n$.\najax\n({\nurl: 'mymoodle.com/login/index.php',\ntype: \"GET\",\ndataType: \"json\",\nsuccess: function (data) {\n    console.log(data);\n}\n});\n```\n but i don't get response😔",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 15, 2022, 9:45 PM",
          "AuthorName": "Jack Evans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5119136&course=5",
          "role": [
            "Picture of Jack Evans"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 434439,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434439",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "core_completion_get_course_completion_status is not completed. Why?",
          "Text": "I need a Web Service to see if a participant has fully completed the course. For this I use the Web Service core_completion_get_course_completion_status. I have a course that can be completed by the participant. I did that with the participant and get this answer from the web service. <RESPONSE> <SINGLE> <KEY name=\"completionstatus\"> <SINGLE> <KEY name=\"completed\"> <VALUE>0</VALUE> </KEY> <KEY name=\"aggregation\"> <VALUE>2</VALUE> </KEY> <KEY name=\"completions\"> <MULTIPLE> <SINGLE> <KEY name=\"type\"> <VALUE>1</VALUE> </KEY> <KEY name=\"title\"> <VALUE>Eigener Abschluss</VALUE> </KEY> <KEY name=\"status\"> <VALUE>Ja</VALUE> </KEY> <KEY name=\"complete\"> <VALUE>1</VALUE> </KEY> <KEY name=\"timecompleted\"> <VALUE>1652346607</VALUE> </KEY> <KEY name=\"details\"> <SINGLE> <KEY name=\"type\"> <VALUE>Eigener Abschluss</VALUE> </KEY> <KEY name=\"criteria\"> <VALUE>Eigener Abschluss</VALUE> </KEY> <KEY name=\"requirement\"> <VALUE>Selbst abgeschlossen markiert</VALUE> </KEY> <KEY name=\"status\"> <VALUE/> </KEY> </SINGLE> </KEY> </SINGLE> </MULTIPLE> </KEY> </SINGLE> </KEY> <KEY name=\"warnings\"> <MULTIPLE> </MULTIPLE> </KEY> </SINGLE> </RESPONSE> The single criterion is complete. From my point of view, this is the end of the whole course. However, it says completed=0 at the top. What do you have to do in moodle so that completed=true comes out. Or am I misunderstanding the property?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 12, 2022, 5:27 PM",
          "AuthorName": "Oliver Kaiser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4921089&course=5",
          "role": [
            "Picture of Oliver Kaiser"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_completion_get_course_completion_status is not completed. Why?",
          "Text": "Did you manage to figure it out as I am facing the same issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 11, 2022, 2:10 AM",
          "AuthorName": "Patrick Witter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5101361&course=5",
          "role": [
            "Picture of Patrick Witter"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_completion_get_course_completion_status is not completed. Why?",
          "Text": "Yes, we have a solution. There are tasks that have to run regularly. There is a completion task there. You can run it manually or configure it. You can find them under Website-Administration -> Server -> Tasks -> Planed Tasks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 12, 2022, 4:24 PM",
          "AuthorName": "Oliver Kaiser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5104910&course=5",
          "role": [
            "Picture of Oliver Kaiser"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 437576,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437576",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_user_get_users_by_field returning empty array",
          "Text": "Hi all, Trying to use moodle APIs. All steps in the overview web services have been met. Let me tell: step 1. Web services enabled for the site: step 2.  REST protocol enabled: step 3. A specific user has been created: step 4. External service called aodb created, including these five services step 5. A new role, \"rol_aodb\", with all required capabilities has been created, and the new user has been assigned to it step 6. A token has also been created for the user on the service. Once all this done, I can create a user through the url browser bar! https://proves.aprenonline.org/webservice/rest/server.php?wstoken=53edt6782ceb99e6263a37e1d510a585&moodlewsrestformat=json&wsfunction=core_user_create_users&users [0][username]=33333333&users[0][firstname]=Bart&users[0][lastname]=Simpson&users[0][email]=a33@a.aaa&users[0][password]=33333333\" And it works! The result given back is [{\"id\":4,\"username\":\"33333333\"}] And looking at the system administration/users, it certainly has been created. The Problem is that when I ask for the  new user Bart Simpson, no response is given: https://proves.aprenonline.org/webservice/rest/server.php?wstoken 53edt6782ceb99e6263a37e1d510a585 & moodlewsrestformat=json& Can someone tell me something about what I am doing wrong? Thanks a lot. Your response will be infinitely appreciated! Carles (all tokens in this document are invented)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1761055/image.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1761055/image%20%281%29.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1761055/image%20%282%29.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1761055/image%20%283%29.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1761055/image%20%284%29.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1761055/image%20%287%29.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1761055/token.PNG",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1761055/image%20%286%29.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1761055/image%20%285%29.png"
          ],
          "Time": "Thursday, August 25, 2022, 7:18 PM",
          "AuthorName": "Carles Franquesa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4311030&course=5",
          "role": [
            "Picture of Carles Franquesa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_user_get_users_by_field returning empty array",
          "Text": "Already solved. Solution consisted of adding the moodle/user:viealldetails capability to the role.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 26, 2022, 12:51 AM",
          "AuthorName": "Carles Franquesa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4311030&course=5",
          "role": [
            "Picture of Carles Franquesa"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 437578,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437578",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "how to use mod_assign_save_grade",
          "Text": "I'm trying to use mod_assign_save_grade with : https:/[my-root]/webservice/rest/ server .php?wstoken=[token]&wsfunction=mod_assign_save_grade&moodlewsrestformat=json&assignmentid=4&userid =45&grade =15&attemptnumber =-1&addattempt =0&workflowstate =graded&applytoall =1 but the output came with { \"exception\": \"invalid_parameter_exception\", \"errorcode\": \"invalidparameter\", \"message\": \"Invalid parameter value detected\" } any ideas to use it correctly",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 25, 2022, 8:07 PM",
          "AuthorName": "aya ashraf",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4691165&course=5",
          "role": [
            "Picture of aya ashraf"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 437132,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437132",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to get files by section",
          "Text": "Hi!! I was looking for a way to get the sections of that a file belong. Using web services. Thanks!!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 11, 2022, 10:18 AM",
          "AuthorName": "Esteban Montes de Oca",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2618156&course=5",
          "role": [
            "Picture of Esteban Montes de Oca"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 436786,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436786",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Trouble finding API methods to rename, set group,assign roles for quiz",
          "Text": "Hi all,\n\nI'm building a WS client that will deliver a standardized assessment. What I'm trying to do is:\n\n1. Replicate a template quiz (This works well by core_course_edit_module action=duplicate)\n2. Rename the duplicate\n3. Assign a group as a restriction (hidden to everyone not in the group) for the duplicate\n4. Assign teachers at the module level\n\nI'm having troubles finding methods in the API for 2-4, would love any advice!\nThanks,\nDoug",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 29, 2022, 12:15 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Trouble finding API methods to rename, set group,assign roles for quiz",
          "Text": "I'm presuming that you've gone through /admin/webservice/documentation.php to list all of the available WS APIs on your server (as this will differ depending on plugins). 3)  Two issues here: access conditions are created via a user control that converts the conditions into a JSON representation for storing in the database . I don't think there is a Web Service that can do this. In addition constructing the JSON representation for the rules that you want directly is *complicated*. And that said there doesn't appear to be a web service to actually set (course_)module settings. This is probably due to there being so many different setting values that are module dependent 4) Providing you're wanting these as \"manual\" enrolments: core_role_assign_roles You may want to consider writing a plugin that implements specific web service(s) that does exactly what you need it to do, as this will have access to the all of the actual APIs & database (if necessary), rather than the Web Service APIs. ( https://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 29, 2022, 4:39 PM",
          "AuthorName": "Michael Hughes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=838530&course=5",
          "role": [
            "Picture of Michael Hughes",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble finding API methods to rename, set group,assign roles for quiz",
          "Text": "I will give this a shot. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 4, 2022, 3:48 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 436807,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436807",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Limit query result - webservice",
          "Text": "Hello, i want to know if is possible to limit the result JSON - XML of webservice. For example. I get ALL the users with webservice function \"core_user_get_users\". The JSON result have 2654 users, but the time to get it is abot 10 seconds. My quëstion is if is possible limit this result to 100 users, and get it in diferent pages with another calls to webservice. For example when you make a SQL query with LIMIT parameter, you can do it. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 29, 2022, 2:45 PM",
          "AuthorName": "Xavi de la Torre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5001612&course=5",
          "role": [
            "Picture of Xavi de la Torre"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 436479,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436479",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Set grade scale for course",
          "Text": "Hi! I am trying to set the grade scale of a course, but I cannot find any function for doing that. I cannot even find any function for reading the course grade scale. For example the response of core_course_get_courses_by_field does not include any information about the grade scale. I can set the course grade through the GUI, so I was expecting that I should be able to do it through the API as well. Is it possible? What function should I use? Regards /nikos",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 18, 2022, 6:27 PM",
          "AuthorName": "nikos dimitrakas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4994157&course=5",
          "role": [
            "Picture of nikos dimitrakas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 436319,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436319",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "\"Visible\" not working with \"core_course_create_courses\"",
          "Text": "Hello all, I try to create some courses using moodle API \"core_course_create_courses\". When i try to create two courses with \"fullname;shortname;categoryid;startdate;enddate\", everything works : (first array is what i send to moodle, second is the response, here the ids/shortnames of the newly created courses) : But if i add the parameter \"visible\", the API returns the generic error : (i deleted the courses after each attempt, i know that shortname must be unique) According to the documentation, i should be able to use \"visible\" (with 0 or 1), unless there is something i miss : Did you know where i made a mistake ? Thanks ! Rémi",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://openlms.zendesk.com/attachments/token/upp0Z3NW4srWiLyKvlHZSrXKO/?name=blobid1.png",
            "https://openlms.zendesk.com/attachments/token/gG5hcwpAKbYsiocmHR3QZyoO8/?name=blobid2.png",
            "https://openlms.zendesk.com/attachments/token/IekSm7qFt4aG9GCbglePqlVjL/?name=blobid3.png"
          ],
          "Time": "Wednesday, July 13, 2022, 5:53 PM",
          "AuthorName": "Rémi Chaussenot",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4429339&course=5",
          "role": [
            "Picture of Rémi Chaussenot"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 426930,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426930",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Migrating `core_enrol_edit_user_enrolment` to `core_enrol_submit_user_enrolment_form`",
          "Text": "Hello everyone, I have a external server that uses webservices to create the enrollments and activate and deactivate them. We are using `core_enrol_edit_user_enrolment` but it is marked deprecated and since 311 (IIRC) it can not be even added to the allowed webservice functions. So I'm migrating to use `core_enrol_submit_user_enrolment_form`. But the documentation is very lacking and I think there is some bug that prevents it to be used at all from the external webservice. For my usage the old function had `ueid` and `status`, but the new one has only `userform` which is not very descriptive. Investigating it looks like i can just put my data there URL encoded, as the web UI does. And I get further, but I get `{'result': False, 'validationerror': True}` which sounds like it does not like my data. Investigating further, and inspecting differences with the web UI request, it seems to want a session key. So that lets me think that this function is working ONLY on the web ui, but not webservices. Anybody knows more? Anybody has `core_enrol_submit_user_enrolment_form` from an external service? If not, anybody can point me on whats are needed and I prepare a patch so that it works securely for next releases? A possible test would be this curl request, change keys are required: ``` \n```text\ncurl \nhttps://mymoodle.example.com/moodle/webservice/rest/server.php\n -X POST \\\n\n\n  -d\"formdata=ue%3d2018%26status%3d0\" \\\n\n\n  -dwstoken=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx \\\n\n\n  -dmoodlewsrestformat=json \\\n\n\n  -dwsfunction=core_enrol_submit_user_enrolment_form\n```\n \n```text\n{\"result\":false,\"validationerror\":true}\n\n\n```\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 15, 2021, 7:29 PM",
          "AuthorName": "David Moreno Montero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2780100&course=5",
          "role": [
            "Picture of David Moreno Montero"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Migrating `core_enrol_edit_user_enrolment` to `core_enrol_submit_user_enrolment_form`",
          "Text": "I ran into the same problem. The \"core_enrol_submit_user_enrolment_form\" webservice parameters are not documented. The Webservice documentations contains the following data: Submit form data for enrolment form Arguments formdata (Required)  - The data from the event form General structure string   //The data from the event form XML -RPC (PHP structure) [formdata] => string REST (POST parameters) formdata= string --------- The event form (it is a modal) collects the following data: <input name=\"ue\" type=\"hidden\" value=\"740\"> where ue is the id of the ##__user_enrolments table <input name=\"ifilter\" type=\"hidden\" value=\"\"> <input name=\"sesskey\" type=\"hidden\" value=\"hCLcwZGuII\"> <input name=\"_qf__enrol_user_enrolment_form\" type=\"hidden\" value=\"1\"> status (0 active, 1 suspended) timestart timeend The ue (as unique ID) would be enough to find the record if it is part of the POST request. But, the webservice API returns: [exception] => dml_missing_record_exception [errorcode] => invalidrecord [message] => The user_enrolments table do not contains record. [debuginfo] => SELECT * FROM {user_enrolments} WHERE id IS NULL The call was: /webservice/rest/server.php?moodlewsrestformat=json&wstoken=...& wsfunction=core_enrol_submit_user_enrolment_form& formdata=%7B%22ue%22:%22740%22,%22timestart%22:%22%22,%22timeend%22:%221661990399%22%7D Is there any idea? It would be help to solve this issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 24, 2022, 10:45 PM",
          "AuthorName": "István Holbok",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1764620&course=5",
          "role": [
            "Picture of István Holbok"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Migrating `core_enrol_edit_user_enrolment` to `core_enrol_submit_user_enrolment_form`",
          "Text": "we ran into the same problem ... unfortunatly the issue https://tracker.moodle.org/browse/MDL-70351 is marked unresolved since Nov '20 and exits in 4.0 as well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 4, 2022, 6:10 PM",
          "AuthorName": "Wolfgang Gundacker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=459108&course=5",
          "role": [
            "Picture of Wolfgang Gundacker"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 436051,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436051",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "api core_group_create_groups - \"invalid_parameter_exception\"",
          "Text": "Hi there. Let me preface this by saying I am not a trained tech, but am self-taught, trying to manage Moodle for a very small school. We do not have a dedicated tech/moodle person. At the moment we are trying to integrate it with a new school admin system. It has been quite challenging to set up, but I had it! We are running the latest version of Moodle. Then last week, a student was enrolled, and accidentally put into a group - we do not have groups. The admin system then stopped pulling up the new courses. When I asked the admin system helpdesk, they told me there was this error: {\"exception\":\"moodle_exception\",\"errorcode\":\"wsusercannotassign\",\"message\":\"You don't have the permission to assign this role (5) to this user (595) in this course (299).\"} I got to the bottom of that one by reading all the logs, discovering who user 595 was, and finding the groups error. Admin system still not finding new courses. When I again asked the help desk they told me there is now this error: {\"exception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Invalid parameter value detected\"} api core_group_create_groups I think that for this, I have to be able to access the backend/ database /php aspect? If it is something I can fix within the front end/system administration part, I would really appreciate directions, thank you! I really like Moodle, but sometimes it is just not intuitive.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 4, 2022, 5:48 PM",
          "AuthorName": "Joanne BritishVit",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2635988&course=5",
          "role": [
            "Picture of Joanne BritishVit"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 435525,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435525",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "unexpected non-whitespace character after JSON data",
          "Text": "Hi Everyone, I have issue w hen I generate token in a browser (replacing SITEURL, USERNAME and PASSWORD): SITEURL/login/token.php?service=moodle_mobile_app&username=USERNAME&password=PASSWORD I found one character '1' before the token. And make some error: And this affects to mobile apps, when I login to the mobile apps, there is an error \"we're having trouble connecting to your site\". And now, I don't know where this came from. Anyone have any suggestions for me on this issue? Really need your help. Appreciated.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1752533/image.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1752533/image%20%281%29.png"
          ],
          "Time": "Thursday, June 16, 2022, 11:26 AM",
          "AuthorName": "Sunandar Prawira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4837797&course=5",
          "role": [
            "Picture of Sunandar Prawira"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: unexpected non-whitespace character after JSON data",
          "Text": "Hello, have you done recent development on your site? or installed a plugin? That 1 is probably coming from changes done in a PHP script (config.php or lib/setup* or webservice/*.php) files (accidentally or while debugging something) One way to fix this would be just updating your Moodle site to a most recent version overwriting all the files",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2022, 4:24 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: unexpected non-whitespace character after JSON data",
          "Text": "Hi Juan, thank for your reply. I found some debugging errors in a website/service.php. Invalid get_string() identifier: 'antihammer:notifyblocking' or component 'auth_antihammer'. Perhaps you are missing $string['antihammer:notifyblocking'] = ''; in /var/www/develop/auth/antihammer/lang/en/auth_antihammer.php? line 353 of /lib/classes/string_manager_standard.php: call to debugging() line 7400 of /lib/moodlelib.php: call to core_string_manager_standard->get_string() line 2589 of /lib/accesslib.php: call to get_string() line 110 of /admin/webservice/forms.php: call to get_capability_string() line 214 of /lib/formslib.php: call to external_service_form->definition() line 71 of /admin/webservice/service.php: call to moodleform->__construct() Invalid get_string() identifier: 'lpprogress:addinstance' or component 'block_lpprogress'. Perhaps you are missing $string['lpprogress:addinstance'] = ''; in /var/www/develop/blocks/lpprogress/lang/en/block_lpprogress.php? line 353 of /lib/classes/string_manager_standard.php: call to debugging() line 7400 of /lib/moodlelib.php: call to core_string_manager_standard->get_string() line 2589 of /lib/accesslib.php: call to get_string() line 110 of /admin/webservice/forms.php: call to get_capability_string() line 214 of /lib/formslib.php: call to external_service_form->definition() line 71 of /admin/webservice/service.php: call to moodleform->__construct() Invalid get_string() identifier: 'lpprogress:myaddinstance' or component 'block_lpprogress'. Perhaps you are missing $string['lpprogress:myaddinstance'] = ''; in /var/www/develop/blocks/lpprogress/lang/en/block_lpprogress.php? line 353 of /lib/classes/string_manager_standard.php: call to debugging() line 7400 of /lib/moodlelib.php: call to core_string_manager_standard->get_string() line 2589 of /lib/accesslib.php: call to get_string() line 110 of /admin/webservice/forms.php: call to get_capability_string() line 214 of /lib/formslib.php: call to external_service_form->definition() line 71 of /admin/webservice/service.php: call to moodleform->__construct() Invalid get_string() identifier: 'remote_backup_provider:access' or component 'local_remote_backup_provider'. Perhaps you are missing $string['remote_backup_provider:access'] = ''; in /var/www/develop/local/remote_backup_provider/lang/en/local_remote_backup_provider.php? line 353 of /lib/classes/string_manager_standard.php: call to debugging() line 7400 of /lib/moodlelib.php: call to core_string_manager_standard->get_string() line 2589 of /lib/accesslib.php: call to get_string() line 110 of /admin/webservice/forms.php: call to get_capability_string() line 214 of /lib/formslib.php: call to external_service_form->definition() line 71 of /admin/webservice/service.php: call to moodleform->__construct() What should I do? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2022, 10:51 PM",
          "AuthorName": "Sunandar Prawira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4837797&course=5",
          "role": [
            "Picture of Sunandar Prawira"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: unexpected non-whitespace character after JSON data",
          "Text": "I explained the reason for this in that thread.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2022, 8:06 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Odgovor: Re: unexpected non-whitespace character after JSON data",
          "Text": "I've compared with my normally moodle, but the debugging is same. I think it's not the root problem, and it comes from another files. What should I do for this? any have another solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2022, 9:01 PM",
          "AuthorName": "Sunandar Prawira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4837797&course=5",
          "role": [
            "Picture of Sunandar Prawira"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Odgovor: Re: unexpected non-whitespace character after JSON data",
          "Text": "Those all relate to optional plugins. You could always try purging your caches in case something has got \"stuck\". If the errors come back then my explanation is 99% correct. It's certainly correct for the first plugin - I checked it myself.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2022, 9:18 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Odgovor: Re: Odgovor: Re: unexpected non-whitespace character after JSON data",
          "Text": "Now I can clear the cache, but I don't find any error in debugging. However the number 1 when I access the token always appears. What is the right step for me to take? am I currently doing development, it is not possible to uninstall the installed plugin.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2022, 10:20 PM",
          "AuthorName": "Sunandar Prawira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4837797&course=5",
          "role": [
            "Picture of Sunandar Prawira"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Odgovor: Re: Odgovor: Re: unexpected non-whitespace character after JSON data",
          "Text": "Well... you're kind of stuck. You installed plugins with bugs. They're only missing strings, you could fix it yourself if it's a big problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2022, 10:59 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Odgovor: Re: Odgovor: Re: unexpected non-whitespace character after JSON data",
          "Text": "Hi Howard, Thank you for your reply. For information, this error above is related to my other error, which is unable to login in mobile apps, I have written it on the thread here: https://moodle.org/mod/forum/discuss.php?d=435401 But I now understand where this is coming from. I used to have a missing plugin error, namely course_overview. My solution at that time was to uninstall the plugin and reinstall it. It turned out to be the cause. I did the same on my other Moodle, and the error was the same. I don't understand why this is happening, even though I've uninstalled and reinstalled it. No errors occur in Moodle via the browser. and running normally. But why can't it cause login via mobile apps? Can you help?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2022, 8:40 AM",
          "AuthorName": "Sunandar Prawira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4837797&course=5",
          "role": [
            "Picture of Sunandar Prawira"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: unexpected non-whitespace character after JSON data",
          "Text": "Hi Juan, can you Help me please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2022, 7:07 AM",
          "AuthorName": "Sunandar Prawira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4837797&course=5",
          "role": [
            "Picture of Sunandar Prawira"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: unexpected non-whitespace character after JSON data",
          "Text": "Hi Juan, Please see my comment in here: https://moodle.org/mod/forum/discuss.php?d=435525#p1753298",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2022, 8:46 AM",
          "AuthorName": "Sunandar Prawira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4837797&course=5",
          "role": [
            "Picture of Sunandar Prawira"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435112,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435112",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "New API functions",
          "Text": "Hello to all, is there any, more or less, official documentation on how to create new functions to be consumed by API. more precisely,  use the API to manage my user, my enrolment.... and i miss some functions in the core api so i wanna create my own. did a documentation, up to date, exists ? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 2, 2022, 9:21 PM",
          "AuthorName": "Maxime Paintendre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4870801&course=5",
          "role": [
            "Picture of Maxime Paintendre"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 434893,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434893",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Finding nested sections with webservice api",
          "Text": "Hi everyone, I'm using core_course_get_contents to get the course sections and modules but realized, that nested sections are not recognizable in the return. Instead the parent section, in which the other sections are nested, appears to be empty. Meanwhile the nested sections are just on the same level as the rest. Nested sections on moodle website: Sections in REST response of moodle API, no nesting visible: I can't find a way to get information on this, any help would be greatly appreciated!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1749932/Nested%20sections%20on%20moodle%20website.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1749932/Sections%20in%20REST%20respone%2C%20no%20nested%20section%20recognizable.png"
          ],
          "Time": "Friday, May 27, 2022, 2:51 AM",
          "AuthorName": "Jacob Peters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4714817&course=5",
          "role": [
            "Picture of Jacob Peters"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 433986,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433986",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Create Data-Request by using Webservice",
          "Text": "Hey Community, i want to create a data-request in moodle for the user with the id 100. How can i do this by using a web-service? Thx MGR",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 27, 2022, 11:42 PM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 433969,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433969",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Calling Core_User APIs using Python",
          "Text": "Hi All, I'm having issues with using Python to access my Web Services API - here's my code: \n```text\n    import requests,json\n\n\n\n\n    token = 'mytoken'\n\n\n domainname = 'http://mymoodleserver'\n\n\n\n    functionname = 'core_user_get_users_by_field'\n\n\n\n    restformat = 'json'\n    \n\n\nrestformat = '&moodlewsrestformat='+restformat\n    \n\n\nserverurl = domainname+'/webservice/rest/\nserver\n.php'+'?wstoken='+token+'&wsfunction='+functionname+restformat\n    \n\n\n\n\n    user1 = {'field':'email','values':['jeff@abc.com']}\n\n\n\n\n    myuser = requests.post(serverurl,json=json.dumps(user1))\n```\n The error that comes back is: `{\"exception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Invalid parameter value detected (Missing required key in single structure: field)\",\"debuginfo\":\"Missing required key in single structure: field\"}` Any suggestions where I'm going wrong? I've tried various permutations & combinations. Thanks in advance, Jeff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 27, 2022, 3:50 PM",
          "AuthorName": "Jeffrey Bannister",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2243073&course=5",
          "role": [
            "Picture of Jeffrey Bannister"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 433477,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433477",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle API - accepted input format",
          "Text": "Hi all, I am currently working on the implementation of the Moodle API. For testing purposes and for further development, I would like to know what formats are supported by the API in input. I have seen from the tests that we can request in get via query params, but when we want to send data, what format can we use? Via postman, I managed to post data via `form-data` and `x-www-form-urlencoded` but can we also send JSON directly? I tested but for the moment without success. thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 8, 2022, 9:12 PM",
          "AuthorName": "Maxime Paintendre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4870801&course=5",
          "role": [
            "Picture of Maxime Paintendre"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 433136,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433136",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "API gradereport_overview_get_course_grades function errorcode on Moodle 3.8.2+",
          "Text": "Hey there. I decided to use Moodle API service. To do so, I read and setup all related with this topic. The Moodle version: Moodle 3.8.2+ (Build: 20200320) The Moodle API function: gradereport_overview_get_course_grades The Moodle API consuming sintax: https://itispirit.com/edu/webservice/rest/server.php?wstoken=<authorized_user_token>&wsfunction=gradereport_overview_get_course_grades&userid=97&moodlewsrestformat=json The Moodle API function sent back on the computer screen the following message: {\"exception\":\"required_capability_exception\",\"errorcode\":\"nopermissions\",\"message\":\"Sorry, but you do not currently have permissions to do that (View grades of other users).\"} Mónico Briseño",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 27, 2022, 3:57 AM",
          "AuthorName": "Monico Briseño",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1281&course=5",
          "role": [
            "Picture of Monico Briseño",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 433026,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433026",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Use a different URL for Web Services (REST API)",
          "Text": "Hi all, Relatively new to Moodle here, pardon if the question seems stupid. I am trying to see if Moodle web services REST API can be called from another URL (sub- domain ). Just wondering if Moodle allows this. Like for example my main domain is \"sub.example.com\", but I wish to be able to call the web services via \"api.sub.example.com\". Can I do this? If so could some one point me the way? Thank you in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 23, 2022, 10:12 AM",
          "AuthorName": "Ugene Tang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4741651&course=5",
          "role": [
            "Picture of Ugene Tang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 432937,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432937",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_calendar_delete_calendar_events",
          "Text": "I have already read API document and add following required parameter of this function but still have invalid parameter error. Can somebody help me? http://192.168.1.6/moodle/webservice/rest/server.php?wstoken=53e97de74d3634ef57f0c7cde008b5e8&moodlewsrestformat=json&wsfunction=core_calendar_delete_calendar_events&events [0][eventid]=22&events[0][repeat]=4 REST (POST parameters) events[0][eventid]= int events[0][repeat]= int Thanks guys so much",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 21, 2022, 1:56 AM",
          "AuthorName": "Dat Ngo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4847051&course=5",
          "role": [
            "Picture of Dat Ngo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 432655,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432655",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Use moodle as backend of my front-end app",
          "Text": "Use moodle as backend of my angular app and spring as midlleware.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 11, 2022, 9:07 AM",
          "AuthorName": "laye ndiaye",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2774812&course=5",
          "role": [
            "Picture of laye ndiaye"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Use moodle as backend of my front-end app",
          "Text": "Nice",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 11, 2022, 4:19 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use moodle as backend of my front-end app",
          "Text": "Hi to everybody. I am sorry without greeting. I am new here. Thanks for any help in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 11, 2022, 5:16 PM",
          "AuthorName": "laye ndiaye",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2774812&course=5",
          "role": [
            "Picture of laye ndiaye"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use moodle as backend of my front-end app",
          "Text": "https://docs.moodle.org/dev/Web_service_API_functions",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 13, 2022, 4:22 AM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 432408,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432408",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web service API for fetching course price",
          "Text": "We are developing a web application integrated with moodle. It contains student registration, enrollment, courses and learning plans etc. In the application to display the details of the courses available I used ' core_course_get_courses '  and ' core_course_get_courses_by_field ' api. But both doesn't contain fee details of the course except the payment method available. Is there any way to fetch the course price?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 2, 2022, 1:05 PM",
          "AuthorName": "Jiz Sam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4813585&course=5",
          "role": [
            "Picture of Jiz Sam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 432358,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432358",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Core Get User Courses Weirdness",
          "Text": "Hello, Can someone explain why certain courses do not appear when using \"core_enrol_get_users_courses\"?  We noticed that when the course settings Groups mode is set to Separate groups the course is not retrieved with the \"core_enrol_get_users_courses\".  Is this the desired outcome? We are using moodle 3.9.12. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2022, 2:19 AM",
          "AuthorName": "Eric Katchan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555818&course=5",
          "role": [
            "Picture of Eric Katchan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 432115,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432115",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle Cloud: What is the URI for the call?",
          "Text": "Hi. I have used many API's, so I get the fundamentals. I read the documentation here: https://docs.moodle.org/311/en/Web_services I have a token, I created an external service etc. I found this PHP class: https://github.com/llagerlof/MoodleRest I have a Moodle cloud URI \" https://teamzoe.moodlecloud.com/ \". I have no idea what URI to use. Help, please.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 19, 2022, 4:49 PM",
          "AuthorName": "Jobst Schmalenbach",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=491929&course=5",
          "role": [
            "Picture of Jobst Schmalenbach"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 431936,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431936",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Enroll users in the course",
          "Text": "Hey there, Which web service can I use to enroll users in a course? Thanks MGR",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, February 15, 2022, 12:27 AM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 431865,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431865",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "error api for uploading image of course",
          "Text": "hello I have the following code <?php $token = 'xxxxxxxxxxxx'; $domainname = 'xxxxxxxxxxxxxxxxxxx'; $restformat = 'json'; require_once('curl.php'); // Download this file $curl = new curl; $path = 'moodle.png'; $type = pathinfo($path, PATHINFO_EXTENSION); $data = file_get_contents($path); $base64 = 'data:image/' . $type . ';base64,' . base64_encode($data); $params = array( 'component' => 'course', 'filearea' => 'overviewfiles', 'itemid' => 0, 'filepath' => '/', 'filename' => 'moodle1.png', 'filecontent' => $base64, 'contextlevel' => 'course', 'instanceid' => 2, ); /// UPLOAD IMAGE - Moodle 3.10+ and later $functionname = 'core_files_upload'; $serverurl = $domainname .'/webservice/rest/ server .php' . '?wstoken=' . $token .'&wsfunction=' . $functionname; $restformat = ($restformat == 'json') ? '&moodlewsrestformat=' . $restformat : ''; // printf(\"\\n\"); printf(\"\\n\"); $resp = $curl->post($serverurl . $restformat, $params); $resps = json_decode($resp); print_r($resps); printf(\"\\n\"); ======================== the response is stdClass Object ( [exception] => coding_exception [errorcode] => codingerror [message] => Coding error detected, it must be fixed by a programmer: File can be uploaded to user draft area only ) ================== why???",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 12, 2022, 8:33 PM",
          "AuthorName": "Hatem Ghaly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4176581&course=5",
          "role": [
            "Picture of Hatem Ghaly"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: error api for uploading image of course",
          "Text": "can anybody answer this ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 13, 2022, 1:53 AM",
          "AuthorName": "Hatem Ghaly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4176581&course=5",
          "role": [
            "Picture of Hatem Ghaly"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431662,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431662",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to Retrieve Percentage Complete",
          "Text": "Hello, I have looked through the E-R diagrams and the data dictionary information I could find, but I do not see the field I am looking for. Is there a field that captures the percentage of the assignments completed by the student? We have a web service which retrieves the students' overall grades for their courses, but we would like to be able to retrieve the percentage of the assignments which they have completed. It is shown in the user interface, but I cannot find a field that holds that value. Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 9, 2022, 6:13 AM",
          "AuthorName": "David Ward",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4771076&course=5",
          "role": [
            "Picture of David Ward"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to Retrieve Percentage Complete",
          "Text": "I'm not sure it's as simple as just looking up a field in the database ! As things like activity & course completion & restrict access conditions allow the definition of \"complete\" to be changed. It's not a just a straight up X activities \"completed\" out of Y activities defined. (They also define *how* activities can be determined as \"completed\"). For instance you may create 10 activities, but a restrict access condition on one of them may mean that a student doesn't see 1 of them, so they're really doing 9 activities. You'd probably want to look at the course and activity completion APIs to see if these can give you the data you're looking for, as these are responsible for both setting the definitions of \"complete\" as well as evaluating if the student has met all of the conditions to be viewed as \"complete\".",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 9, 2022, 6:58 PM",
          "AuthorName": "Michael Hughes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=838530&course=5",
          "role": [
            "Picture of Michael Hughes",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431553,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431553",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_user_get_users not returning customfield array",
          "Text": "I wonder if anyone can help with this... My understanding of the API documentation is that core_user_get_users should return two arrays as part of its response that contain preferences and, crucially, customfields (profile fields). I believe when I tried it a few months ago (when we were on 3.10.x) that it did so. But having rebuilt my dev machine to be 3.11 and recreated a few of the user profile fields, it doesn't seem to be returning them. I've tried all sorts of things, particularly with the user capabilities of the user which is accessing the API endpoint - right up to making them an administration user. But nothing seems to help. All I seem to get are the basic details: \n```text\n{\n    \"users\": [\n        {\n            \"id\": 0001,\n            \"username\": \"p0000001\",\n            \"firstname\": \"me\",\n            \"lastname\": \"me\",\n            \"fullname\": \"me\",\n            \"email\": \"me@\ndomain\n\",\n            \"department\": \"dept\",\n            \"firstaccess\": 1347432829,\n            \"lastaccess\": 1638536823,\n            \"auth\": \"ldap\",\n            \"suspended\": false,\n            \"confirmed\": true,\n            \"lang\": \"en\",\n            \"theme\": \"\",\n            \"timezone\": \"99\",\n            \"mailformat\": 1,\n            \"description\": \"\",\n            \"descriptionformat\": 1,\n            \"city\": \"sometown\",\n            \"country\": \"GB\",\n            \"profileimageurlsmall\": \"correct url\",\n            \"profileimageurl\": \"correct url\"\n        }\n    ],\n    \"warnings\": []\n}\n```\n Anyone got any ideas? Tearing my hair out here! Been through the various externallib and lib files chasing mirages and can't see anything that would stop these being returned. Absolutely critical for my next stage of development. Cheers, Jock",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 6, 2022, 1:11 AM",
          "AuthorName": "Jock Coats",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2291&course=5",
          "role": [
            "Picture of Jock Coats"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_user_get_users not returning customfield array",
          "Text": "Oops! What an idiot I am. Yes, I had saved the data I was expecting, but in my admin account, not in the user account I was trying to query via postman! Panic over, thank you! It does seem to be working!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 7, 2022, 2:57 PM",
          "AuthorName": "Jock Coats",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2291&course=5",
          "role": [
            "Picture of Jock Coats"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431393,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431393",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How do I upload files to an assignment without removing previous submissions",
          "Text": "I upload a file to Moodle using this request. \n```text\n[POST] https://{{baseUrl}}/webservice/upload.php?token={{token}}&amp;itemid=0\n```\n Which gives this response on success. \n```text\n[\n    {\n        \"component\": \"user\",\n        \"contextid\": 16,\n        \"userid\": \"4\",\n        \"filearea\": \"draft\",\n        \"filename\": \"floppy.img\",\n        \"filepath\": \"/\",\n        \"itemid\": 376760955,\n        \"license\": \"allrightsreserved\",\n        \"author\": \"John Doe\",\n        \"source\": \"O:8:\\\"stdClass\\\":1:{s:6:\\\"source\\\";s:10:\\\"floppy.img\\\";}\"\n    }\n]\n```\n I then use the `itemid` obtained from the above response to add it as an assignment submission with this request. \n```text\n[POST] https://{{baseUrl}}/webservice/rest/\nserver\n.php?wstoken={{token}}&amp;moodlewsrestformat=json&amp;wsfunction=mod_assign_save_submission&amp;plugindata[files_filemanager]=376760955&amp;assignmentid=1\n```\n This works perfectly except it removes any previous files that have been added to the assignment. This issue will be resolved if I can get the `itemid` that is already linked to the assignment. Is there a function that gives the file manager item id of an assignment? It wasn't available in `mod_assign_get_submission_status` . This is the response for `mod_assign_get_submission_status` . \n```text\n{\n    \"lastattempt\": {\n        \"submission\": {\n            \"id\": 1,\n            \"userid\": 4,\n            \"attemptnumber\": 0,\n            \"timecreated\": 1643702568,\n            \"timemodified\": 1643702584,\n            \"status\": \"submitted\",\n            \"groupid\": 0,\n            \"assignment\": 1,\n            \"latest\": 1,\n            \"plugins\": [\n                {\n                    \"type\": \"file\",\n                    \"name\": \"File submissions\",\n                    \"fileareas\": [\n                        {\n                            \"area\": \"submission_files\",\n                            \"files\": [\n                                {\n                                    \"filename\": \"floppy.img\",\n                                    \"filepath\": \"/\",\n                                    \"filesize\": 512,\n                                    \"fileurl\": \"\nhttps://sandbox.moodledemo.net/webservice/pluginfile.php/46/assignsubmission_file/submission_files/1/floppy.img\n\",\n                                    \"timemodified\": 1643702584,\n                                    \"mimetype\": \"application/octet-stream\",\n                                    \"isexternalfile\": false\n                                }\n                            ]\n                        }\n                    ]\n                },\n                {\n                    \"type\": \"comments\",\n                    \"name\": \"Submission comments\"\n                }\n            ]\n        },\n        \"submissiongroupmemberswhoneedtosubmit\": [],\n        \"submissionsenabled\": true,\n        \"locked\": false,\n        \"graded\": false,\n        \"canedit\": true,\n        \"caneditowner\": true,\n        \"cansubmit\": false,\n        \"extensionduedate\": null,\n        \"blindmarking\": false,\n        \"gradingstatus\": \"notgraded\",\n        \"usergroups\": []\n    },\n    \"warnings\": []\n}\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 1, 2022, 8:05 PM",
          "AuthorName": "Sujit Kumar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4754156&course=5",
          "role": [
            "Picture of Sujit Kumar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How do I upload files to an assignment without removing previous submissions",
          "Text": "I was told the moodle mobile app gets the submission status, parses the file details out of the response and then merges the new and existing file info into an array, which is then sent to the webservice. Can someone show me how this is done? This line led me to believe the app downloads and re-uploads every single file, I really hope that's not the case.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 1, 2022, 8:07 PM",
          "AuthorName": "Sujit Kumar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4754156&course=5",
          "role": [
            "Picture of Sujit Kumar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430302,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430302",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Parameters of API Method",
          "Text": "Hello to all, I will keep my question brief: Is there a way (or a page) to see what all the parameters of a API Method are? I haven't found anything, even after a tedious afternoon of searching the web. I would greatly appreciate your help. Have a good day!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 28, 2021, 4:31 AM",
          "AuthorName": "Michalis Wöß",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4690783&course=5",
          "role": [
            "Picture of Michalis Wöß"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Parameters of API Method",
          "Text": "I've got nearly no experience but it might be helpful to have a look at Dashboard / Preferences / User account / Security Keys / Web service documentation",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 14, 2022, 5:35 AM",
          "AuthorName": "Jacob Peters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4714817&course=5",
          "role": [
            "Picture of Jacob Peters"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Parameters of API Method",
          "Text": "And if you are admin maybe this older post can help you https://moodle.org/mod/forum/discuss.php?d=421163",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 14, 2022, 5:38 AM",
          "AuthorName": "Jacob Peters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4714817&course=5",
          "role": [
            "Picture of Jacob Peters"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430771,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430771",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 430217,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430217",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "get current course",
          "Text": "Hi I try to get the current course oder module (e.g. an activity module) opened by the current moodle user by moodle WebApi using Rest. Using core_course_get_course_module didn't work. The error notification says key required. But thats the problem, I don't have the key für current course or moodle. That's why I try to get it by moodle webapi. core_course_get_courses only gave a list of all courses, but without an info with course the user currently views. So is there an option to get current module or course (id) using webapi with rest. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 22, 2021, 7:47 AM",
          "AuthorName": "Lena Maier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4686311&course=5",
          "role": [
            "Picture of Lena Maier"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 430117,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430117",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Returning Node Tree in Web Service",
          "Text": "Hi, I'm working with moodle wservices and I've been stuck with an issue all the day. I've found a \"solution\" that doesn't seem good enough but anyway I would like to know if I'm missing something. THE SCENARIO My goal is to retrieve all the module information in a tree shape having the following node structure: \n```text\nnode {\n\n\n    int id\n\n\n    string type\n\n\n    stdClass data\n\n\n    array(node) children\n\n\n}\n```\n The id is just an integer, type is a string and data is a stdClass object with category, course, section or module data, any of them. Children is an array of nodes. I've managed to do it so we have a node class as root with the following data: \n```text\nroot > category > subcategory1 > subcategory 2 > ... > subcategoryN > course > section > module\n```\n \n```text\nroot > category > subcategory1 > course > section > module\n```\n As we can see, subcategory1 holds another subcategory and a course at the same level. As long as I know, this is possible due to the Moodle DB structure so it is expected for this scenario. THE PROBLEM When we try to define the service that will return that kind of structure we can expect something like this: public static function get_node_description_no_children() : array { return [ 'id'        => new external_value(PARAM_INT, 'ID of the object.'), 'type'      => new external_value(PARAM_ALPHA, 'Type of the object.'), 'data'      => new external_single_structure( [ 'name'          => new external_value(PARAM_TEXT, 'Name of the object.', VALUE_OPTIONAL), 'shortname'     => new external_value(PARAM_RAW, 'Short name or code of the course.', VALUE_OPTIONAL), 'summary'       => new external_value(PARAM_RAW, 'Summary of the section.', VALUE_OPTIONAL), 'typeid'        => new external_value(PARAM_INT, 'Type ID of the module', VALUE_OPTIONAL), 'typename'      => new external_value(PARAM_ALPHANUM, 'Type of the module', VALUE_OPTIONAL), 'levelid'       => new external_value(PARAM_INT, 'Level ID of the module', VALUE_OPTIONAL), 'levelname'     => new external_value(PARAM_ALPHANUM, 'Level of the module', VALUE_OPTIONAL), 'expectedtime'  => new external_value(PARAM_INT, 'Time expected for module completion', VALUE_OPTIONAL) ] , 'The data of the node.', VALUE_OPTIONAL) 'children' => new external_multiple_structure( new external_single_structure(hierarchy_service::get_node_description()) ]; } Of course the problem in this structure is the children variable. It makes an infinite recursive call to the get_node_definition() function and service will crash. 👉 Is there any way to solve this issue for an undefined number of nested classes ❓ My solution I'm sure this is not the best way to solve it but it works fine for the purpose I want. I've defined a recursive function with a limit (in my case 10 due to the structure of my moodle) and will generate all the structure I want. public static function get_course_hierarchy_data_returns() { return new external_single_structure(hierarchy_service::get_node_description_with_deep(10), 'Tree data of all activities .'); } public static function get_node_description_no_children() : array { return [ 'id'        => new external_value(PARAM_INT, 'ID of the object.'), 'type'      => new external_value(PARAM_ALPHA, 'Type of the object.'), 'data'      => new external_single_structure( [ 'name'          => new external_value(PARAM_TEXT, 'Name of the object.', VALUE_OPTIONAL), 'shortname'     => new external_value(PARAM_RAW, 'Short name or code of the course.', VALUE_OPTIONAL), 'summary'       => new external_value(PARAM_RAW, 'Summary of the section.', VALUE_OPTIONAL), 'typeid'        => new external_value(PARAM_INT, 'Type ID of the module', VALUE_OPTIONAL), 'typename'      => new external_value(PARAM_ALPHANUM, 'Type of the module', VALUE_OPTIONAL), 'levelid'       => new external_value(PARAM_INT, 'Level ID of the module', VALUE_OPTIONAL), 'levelname'     => new external_value(PARAM_ALPHANUM, 'Level of the module', VALUE_OPTIONAL), 'expectedtime'  => new external_value(PARAM_INT, 'Time expected for module completion', VALUE_OPTIONAL) ] , 'The data of the node.', VALUE_OPTIONAL) 'children' => new external_multiple_structure( new external_single_structure(hierarchy_service::get_node_description()) ]; } public static function get_node_description_with_deep(int $deep) : array { $structure = hierarchy_service::get_node_description_no_children(); if($deep > 0) { $structure['children'] = new external_multiple_structure( new external_single_structure(hierarchy_service::get_node_description_with_deep($deep - 1)) ); } return $structure; } * Note in my code I'm using some custom variables that doesn't belong to Moodle like the level of the module.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 17, 2021, 8:35 PM",
          "AuthorName": "Jesus Ortega Miguel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4655011&course=5",
          "role": [
            "Picture of Jesus Ortega Miguel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 429569,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429569",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Is there a core web service to edit/updates calendar events?",
          "Text": "If core_calendar_create_calendar_events lets me create calendar events, what is the web service function that will let me edit existing calendar events? I wanted to try the function core_calendar_submit_create_update_form but I can only find examples to use it when creating new events not updating them. Thank you, Anastasia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 1, 2021, 1:41 AM",
          "AuthorName": "Anastasia Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2667878&course=5",
          "role": [
            "Picture of Anastasia Leyva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is there a core web service to edit/updates calendar events?",
          "Text": "I'm not sure what core_calendar_submit_create_update_form does, but what about just using a core_calendar_get_calendar_events --> core_calendar_delete_calendar_events --> core_calendar_create_calendar_events (with new data) sequence?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 7, 2021, 3:54 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Is there a core web service to edit/updates calendar events?",
          "Text": "Hi Alessia, since the API Documentation only reports a generic \"formdata\" as parameter, how have you managed to create an event with the API? I've sniffed the call inside the site that sends these parameters { \"index\": 0, \"methodname\": \"core_calendar_submit_create_update_form\", \"args\": { \"formdata\": \"id=0&userid=2&modulename=&instance=0&visible=1&sesskey=XXXXXXX&_qf__core_calendar_local_event_forms_create=1&mform_showmore_id_general=0&name=prova6&timestart%5Bday%5D=9&timestart%5Bmonth%5D=12&timestart%5Byear%5D=2021&timestart%5Bhour%5D=15&timestart%5Bminute%5D=14&eventtype=site&description%5Btext%5D=&description%5Bformat%5D=1&description%5Bitemid%5D=864051882&location=&duration=0\" } } But without success. Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 8, 2021, 1:09 AM",
          "AuthorName": "Francesco Venturini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4665350&course=5",
          "role": [
            "Picture of Francesco Venturini"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ri: Is there a core web service to edit/updates calendar events?",
          "Text": "Hi, Thank you I was able to update an existing event \"formdata\":\"id=264063&_qf__core_calendar_local_event_forms_update=1&mform_showmore_id_general=1&name=testgroupevent&eventtype=group&groupcourseid=34351&groupid=36976&description=testgroupevent\"",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, December 8, 2021, 2:03 AM",
          "AuthorName": "Anastasia Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2667878&course=5",
          "role": [
            "Picture of Anastasia Leyva"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Ri: Is there a core web service to edit/updates calendar events?",
          "Text": "Hi. Unfortunately I still receive the same error { \"exception\": \"invalid_parameter_exception\", \"errorcode\": \"invalidparameter\", \"message\": \"Invalid parameter value detected\" } Here it is the fully request on postman: POST https://mymoodleurl/webservice/rest/ server .php?wstoken=XXXXXXXXX&moodlewsrestformat=json&wsfunction=core_calendar_submit_create_update_form Payload1 { \"index\": 0, \"methodname\": \"core_calendar_submit_create_update_form\", \"args\": { \"formdata\": \"id=0&_qf__core_calendar_local_event_forms_update=1&mform_showmore_id_general=1&name=testgroupevent&eventtype=group&description=testgroupevent\" } } Other attempts I've removed the parameters about groups I've tries \"site\" eventtype that is my desiderata I've removed all the payload except formdata, since the method name is inside the query string Payload { \"formdata\": \"id=0&_qf__core_calendar_local_event_forms_update=1&mform_showmore_id_general=1&name=testgroupevent&eventtype=group&description=testgroupevent\" } I've set \"id=\", or \"id=0\", and removed since it's a create So please, can you send me an example of a working \"create event\" request, since i receive alwayse the same error since a week?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 9, 2021, 9:48 PM",
          "AuthorName": "Francesco Venturini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4665350&course=5",
          "role": [
            "Picture of Francesco Venturini"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ri: Re: Ri: Is there a core web service to edit/updates calendar events?",
          "Text": "Hi Francesco,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 9, 2021, 10:52 PM",
          "AuthorName": "Anastasia Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2667878&course=5",
          "role": [
            "Picture of Anastasia Leyva"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Ri: Re: Ri: Is there a core web service to edit/updates calendar events?",
          "Text": "Thank you! You saved my day! It's absurd finding docs inside ad inssue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 10, 2021, 1:00 AM",
          "AuthorName": "Francesco Venturini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4665350&course=5",
          "role": [
            "Picture of Francesco Venturini"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429680,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429680",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Invalid messageid, you don't have permissions to mark this message as read",
          "Text": "Hi all, I'm writing a Power Automate Flow that will watch for unread moodle messages and send them to MS Teams for our teachers.  The only challenge is that after sending the message to Teams I want to mark it as read (so the script doesn't keep sending it).  Unfortunately when I send: { \"wstoken\" : \"stuff\" , \"wsfunction\" : \"core_message_mark_message_read\" , \"messageid\" : \"262105\" <<-- Returned from the id field of core_message_get_messages } it returns <? xml version = \"1.0\" encoding = \"UTF-8\" ?> < EXCEPTION class = \"invalid_parameter_exception\"> < ERRORCODE > invalidparameter </ ERRORCODE > < MESSAGE > Invalid parameter value detected </ MESSAGE > < DEBUGINFO > Invalid messageid, you don't have permissions to mark this message as read </ DEBUGINFO > </ EXCEPTION > I've elevated the user attached to the token to the system administrator to no avail.  Any ideas? Thanks in advance, Doug",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 4, 2021, 6:16 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Invalid messageid, you don't have permissions to mark this message as read",
          "Text": "Hmmm.... some more (unfortunate) info. Looking at message/externallib.php line 2505, it looks like this functionality is baked in. if ($message->useridto != $USER->id) { throw new invalid_parameter_exception('Invalid messageid, you don\\'t have permissions to mark this message as read'); } This function needs to be run by the receiving user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 8, 2021, 4:59 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423229,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423229",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Get all Users of the Moodle-Database with API",
          "Text": "Hey everyone, how can i get the Information off all Users which are in the moodle- database . Which Webservice i should use? Thanks for help. MoGr",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 9, 2021, 3:39 PM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get all Users of the Moodle-Database with API",
          "Text": "Hello, For what I know, there is no such web service. We could use core_user_get_users but it always need a criteria to filter. A possibility is create a report using Configurable Reports plugin and get the users via it's webservice that returns the data of the report given it's id. Best, Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 9, 2021, 9:05 PM",
          "AuthorName": "Daniel Neis Araujo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=32985&course=5",
          "role": [
            "Picture of Daniel Neis Araujo",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get all Users of the Moodle-Database with API",
          "Text": "Use the Widcard % with core_user_get_users criteria[0][key]=\"lastname\" criteria[0][value]=\"%\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 2, 2021, 6:27 AM",
          "AuthorName": "We Be",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3305507&course=5",
          "role": [
            "Picture of We Be"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get all Users of the Moodle-Database with API",
          "Text": "Note this works but is very heavy on the database for large Moodle systems so may run out of memory or timeout.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 24, 2021, 11:50 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get all Users of the Moodle-Database with API",
          "Text": "Thanks Brian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 9, 2021, 2:47 PM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get all Users of the Moodle-Database with API",
          "Text": "This is great, thanks ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 9, 2021, 2:47 PM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 428871,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=428871",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_files_get_files - obtaining list of feedback files",
          "Text": "Hi, I'm looking for a way to bring a list of assignment feedback files into our external SIS via web service curl commands. I'm assuming that core_files_get_files is the way to do this, but as 'filename' is one of the required fields (not known by the SIS), I'm not so sure. I have a configurable report that's providing a list of feedback files against the student and tutor, but we could really do with listing these in our SIS database . Is there a way to use core_files_get_files without knowing the filename? As an aside, I've also failed to use this function even when I include the filename, but my assumption is that I'm passing  the wrong contextid in that case. Many thanks Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 8, 2021, 11:13 PM",
          "AuthorName": "Paul Vincent",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2357358&course=5",
          "role": [
            "Picture of Paul Vincent"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 428482,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=428482",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "using function \"core_course_get_courses_by_field\" to sort courses after type of \"enrollmentmethods\"  not availiable?",
          "Text": "Hello everyone! I’m trying to request a course-list by calling the wsfunction=core_course_get_courses_by_field using curl request (REST API) in order to have courses sorted after their enrollmentmethods I use for example -d field=enrollmentmethods -d value=\"manual\". Unfortunately, within the outputted json-file I get the following error message: { \"debuginfo\": \"Invalid field name\", \"errorcode\": \"invalidparameter\", \"exception\": \"invalid_parameter_exception\", \"message\": \"Invalid parameter value detected (Invalid field name)\" } Is that field just not included in the function somehow? Because in calling the field \"shortname\" with one of the course short-names I get the data for that specific course and for that case and course-id it works just fine. Any help or hint is highly appreciated!! Best wishes Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 27, 2021, 7:38 PM",
          "AuthorName": "Peter Traenkle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4469635&course=5",
          "role": [
            "Picture of Peter Traenkle"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 428284,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=428284",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Azure synchronized users",
          "Text": "I tried getting a list of users through the API (using Matt Hamilton's Powershell module) but this only seems to work for users created in Moodle itself, not for users that were synchronized from Azure. This also goes for authentication, a token can only be obtained using an account defined in Moodle, it doesn't work when using a synchronized account. Is this \"by design\" behavior?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 22, 2021, 2:02 PM",
          "AuthorName": "Kris VanGelder",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4572054&course=5",
          "role": [
            "Picture of Kris VanGelder"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 427974,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427974",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get completion status for all enrolled students on a course?",
          "Text": "Is there a way to get the completion status for all enrolled students on a course using a web service? I'm aware of \"core_completion_get_course_completion_status\" but this appears to be restricted to a single user per web services call, so would be incredibly inefficient and slow to get completion status for all the students on a course. Or alternatively, is there some plugin that can provide this functionality, or allow securely authenticated access to query the database directly via a web service (we obviously don't want to expose our MySQL directly to the internet!) Thanks, Dan Jackson (Network & Systems Engineer) Long Road Sixth Form College Cambridge, UK.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 13, 2021, 8:38 PM",
          "AuthorName": "Dan Jackson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1611670&course=5",
          "role": [
            "Picture of Dan Jackson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 427738,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427738",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Please help= get token when we use CAS auth",
          "Text": "I've read the documentation but cannot figure it out. \n```text\nhttps://www.yourmoodle.com/login/token.php?username=USERNAME&password=PASSWORD&service=moodle_mobile_app\n```\n If I sent my username and password the result is: \" Error code: invalidlogin\" My authentication method on my system is CAS. Does this only work with manual logins? Is there a way to create a token for this service in a moodle instance with a user who uses CAS to log in? If not, I have been able to create a token for an admin user and use its token. Then I can call the gradereport_overview_get_course_grades function, passing in the user's id. I worry that this is not safe though. Will users be able to discover the token and thus figure out how to retrieve grades for users other than themselves? Please advise!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 7, 2021, 4:37 AM",
          "AuthorName": "Diane Soini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2108155&course=5",
          "role": [
            "Picture of Diane Soini"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 427571,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427571",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Appending additional parameters issue",
          "Text": "Hi all, I been trying to send some additional parameters in existing service under email auth plugin, signup_user function, I have declared parameters with VALUE_DEFAULT, So even if pass data for the additional parameters via service, empty  nor null value returned. I mean passed value not overriding default value... Suggestions needed",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 2, 2021, 12:22 PM",
          "AuthorName": "deva m",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2073861&course=5",
          "role": [
            "Picture of deva m"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 425967,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425967",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "mod_data_add_entry cannot insert date values",
          "Text": "Hi, I have a mod_data activity in a course. I'm using the REST API to add entries to this activity. One of the fields are of type \"date\": \n```text\n{\n\n\n \"id\": 27,\n\n\n \"dataid\": 11,\n\n\n \n\"type\": \"date\",\n\n\n \"name\": \"Kurstillfälle\",\n\n\n \"description\": \"\",\n\n\n \"required\": true,\n\n\n \"param1\": \"\",\n\n\n \"param2\": \"\",\n\n\n \"param3\": \"\",\n\n\n \"param4\": null,\n\n\n \"param5\": null,\n\n\n \"param6\": null,\n```\n When using `mod_data_add_entry` posting new entries all fields get their values, except the date field described above. I have tried to format the date value being submitted in various ways (unix style, unix style json encoded, raw date value, raw date value json encoded and various string variants of the date value) without any luck - the value simply doesn't get stored in the record... The POST request looks like this: \n```text\nhttps://{{\nServer\n}}?wstoken={{ServiceKey}}&wsfunction=mod_data_add_entry&moodlewsrestformat=json&databaseid=11&groupid=145&\ndata[0][fieldid]=27&data[0][subfield]=\"\"&data[0][value]=\"2021-09-22T00:00:00Z\n\"\n&data[1][fieldid]=29&data[1][subfield]=\"\"&data[1][value]=\"Tellus\"&data[2][fieldid]=28&data[2][subfield]=\"\"&data[2][value]=\"10\"&data[3][fieldid]=30&data[3][subfield]=\"\"&data[3][value]=5&data[4][fieldid]=31&data[4][subfield]=\"\"&data[4][value]=\"13:00\"&data[5][fieldid]=32&data[5][subfield]=\"\"&data[5][value]=\"14:00\"\n```\n Does anyone know what I am doing wrong? Kind regards, Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 23, 2021, 7:17 PM",
          "AuthorName": "Peter Rundqvist",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3579175&course=5",
          "role": [
            "Picture of Peter Rundqvist"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 425566,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425566",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Error adding new WS function",
          "Text": "Hi, When I try to add a new WS function to an existing WS i get the following error: from the log file: \n```text\n[11-Aug-2021 11:41:59 Europe/Stockholm] PHP Notice:  External function parameters: invalid OPTIONAL value specified.<ul style=\"text-align: left\" data-rel=\"backtrace\"><li>line 729 of \\lib\\externallib.php: call to debugging()</li><li>line 41 of \\filter\\oembed\\classes\\webservice\\ws_providers.php: call to external_function_parameters->__construct()</li><li>line 122 of \\lib\\externallib.php: call to filter_oembed\\webservice\\ws_providers::service_parameters()</li><li>line 199 of \\admin\\webservice\\forms.php: call to external_api::external_function_info()</li><li>line 214 of \\lib\\formslib.php: call to external_service_functions_form->definition()</li><li>line 60 of \\admin\\webservice\\service_functions.php: call to moodleform->__construct()</li></ul> in C:\\inetpub\\moodle\\lib\\weblib.php on line 3257\n\n\n[11-Aug-2021 11:41:59 Europe/Stockholm] Default exception handler: Detta är ett kodningsfel, det måste åtgärdas av en programmerare: Cannot find file /externallib.php with external function implementation Debug: \n\n\nError code: codingerror\n\n\n* line 87 of \\lib\\externallib.php: coding_exception thrown\n\n\n* line 199 of \\admin\\webservice\\forms.php: call to external_api::external_function_info()\n\n\n* line 214 of \\lib\\formslib.php: call to external_service_functions_form->definition()\n\n\n* line 60 of \\admin\\webservice\\service_functions.php: call to moodleform->__construct()\n```\n I have recently upgraded Moodle from 3.10.0 to Moodle 3.11.1+ Does anyone have an idea why I get thiss error? Kind regards, Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 11, 2021, 5:48 PM",
          "AuthorName": "Peter Rundqvist",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3579175&course=5",
          "role": [
            "Picture of Peter Rundqvist"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 416619,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=416619",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How to update the user enrolment via the API",
          "Text": "Hi, We are using Moodle version 383 and we are trying to update the user enrolment date (start and end dates). We are trying to use core_enrol_submit_user_enrolment_form. If I looked in the documentation, it only says: \"Submit form data for enrolment form\" It does not specify which fields to pass. We calling the function like this: https://lms.rcmstg.com/lms/webservice/rest/server.php?moodlewsrestformat=json&wstoken=rcmtoken&wsfunction=core_enrol_submit_user_enrolment_form&formdata= {\"ue\":\"66422\",\"ifilter\":\"0\",\"status\":\"0\",\"timestart\":\"1610480371\",\"timestart\":\"1642092064\"} But it returns this error: \n```text\n{\"exception\":\"dml_missing_record_exception\",\"errorcode\":\"invalidrecord\",\n```\n \n```text\n\"message\":\"Can't find data record in \ndatabase\n table user_enrolments. (SELECT * FROM {user_enrolments} WHERE id IS NULL\\n[array (\\n)])\",\n```\n \n```text\n\"debuginfo\":\"SELECT * FROM {user_enrolments} WHERE id IS NULL\\n[array (\\n)]\"}\n```\n The \"ue\" value is correct. What are we doing wrong? Can somebody please help us?\n\nThanks,\n\nCarlos Chiarella",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2021, 1:18 AM",
          "AuthorName": "Carlos Chiarella",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=70315&course=5",
          "role": [
            "Picture of Carlos Chiarella"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to update the user enrolment via the API",
          "Text": "Hi Carlos Chiarella, Have you found the solution for this error? I am trying to use this function, but I don't understand the parameters required. I want to know which parameters are required since to Moodle source code says it is required the 'formdata'. Regards, Vitor Carvalho",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 22, 2021, 7:15 PM",
          "AuthorName": "Vitor Carvalho",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4063514&course=5",
          "role": [
            "Picture of Vitor Carvalho"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to update the user enrolment via the API",
          "Text": "Hi Vitor, Sorry for my ate answer. We had to create another function that works. Carlos",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 1, 2021, 12:44 AM",
          "AuthorName": "Carlos Chiarella",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=70315&course=5",
          "role": [
            "Picture of Carlos Chiarella"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 424863,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424863",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Create Global Group",
          "Text": "Hey Everyone, which webservice could i use to create a global group? Thanks for help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 21, 2021, 3:12 AM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Create Global Group",
          "Text": "core_cohort_create_cohorts",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2021, 8:26 PM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 412602,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=412602",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web service call to retrieve user enrolment ID",
          "Text": "Hello, We're in the process of developing an integration with Moodle from our external application using the Moodle web services API. One of the requirements for the integration is that we are able to update a user's Moodle enrolment start and end dates at any given point. I have been looking into the core_enrol_edit_user_enrolment call to do this. The issue is that there is a required parameter \"ueid\" (user enrolment Id) but no call via the web services API that I can see to retrieve this Id. I was expecting that the enrol_manual_enrol_users call used to create an enrolment in a course would return the id on creation but it returns null. I've would also expect core_enrol_get_enrolled_users under the returned \"enrolledcourses\" section to contain the enrolment id but it contains the course id as id instead. Without the user enrolment Id this call is not useable from an external application via the web services API. Is there a way to get this Id that I have just missed via web services? Thanks for your help, Liam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 22, 2020, 8:52 AM",
          "AuthorName": "Liam McGrath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3777637&course=5",
          "role": [
            "Picture of Liam McGrath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service call to retrieve user enrolment ID",
          "Text": "I have just come across this issue too, and it seems like there is not. This does make the 'core_enrol_edit_user_enrolment' endpoint useless. Back in 2015 someone proposed a solution, but there was no reply to it: https://tracker.moodle.org/browse/MDL-70582 It will be pointless to ask for help here, as you will only be met with a challenge to do it yourself. Once you decide to develop it for yourself, your contribution will be ignored, as seen in the bug tracker link above.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2021, 12:20 AM",
          "AuthorName": "Daniel Dillard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4005024&course=5",
          "role": [
            "Picture of Daniel Dillard"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 424855,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424855",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Communication with external file Server",
          "Text": "Hey there, I am new to moodle development. Im trying to develop an interface between moodle front end and an external file server which keeps all course materials organized and centralized(PDF, SCROM, Pictures etc.). If i want to communicate from the front end of moodle and talk to my external server ( Java , MySql ), which then in response sends me all course-material titles, descriptions etc. in JSON -Format and provides a downloadlink to the course material are Moodle Web services the right choice for me ? Is it possible to achieve this using moodles rest api? There are no exampls that fit my needs 100% maybe someone can give me the thumbs up or lead me on the right track. Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 20, 2021, 9:50 PM",
          "AuthorName": "Rick Shaffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4321646&course=5",
          "role": [
            "Picture of Rick Shaffer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 424663,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424663",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_grades_get_grades deprecated. Alternatives?",
          "Text": "I want to pull final course grades for all students to be imported into our own software. What to do since the core_grades_get_grades is deprecated? Best, Roland",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 15, 2021, 5:23 AM",
          "AuthorName": "Roland Peer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4319979&course=5",
          "role": [
            "Picture of Roland Peer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 424315,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424315",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle webservice core_role_assign_roles dont works for course_categories",
          "Text": "Hey Everyone, i want to give the user id: 4 for coursecategorie: 1049 the role: 2 (coursecreater) Here is my Curl: MyMoodle/webservice/rest/ server .php?wstoken=MyToken&wsfunction=core_role_assign_roles&moodlewsrestformat=json&assignments[0][roleid]=2&assignments[0][userid]=4&assignments[0][contextid]=1&assignments[0][contextlevel]=coursecat&assignments[0][instanceid]=1049 i get as answer \"null\", it works. But i do not see the user with the id 4 in the coursecategorie 1049 as coursecreater. Whats wrong on my curl? Thanks for help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 6, 2021, 4:33 PM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle webservice core_role_assign_roles dont works for course_categories",
          "Text": "If i use --> assignments[0][contextid]=0 <-- it works for course_categoris...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 6, 2021, 5:31 PM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 424152,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424152",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Update group messages with core_group_update_groups",
          "Text": "Is there an API-Call zu enable/disable group messages? The  API-call core_group_update_groups seams to have such an option.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 1, 2021, 11:12 PM",
          "AuthorName": "We Be",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3305507&course=5",
          "role": [
            "Picture of We Be"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Update group messages with core_group_update_groups",
          "Text": "Sorry: The API-call core_group_update_groups seams NOT to have this option.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 2, 2021, 6:22 AM",
          "AuthorName": "We Be",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3305507&course=5",
          "role": [
            "Picture of We Be"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423888,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423888",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Error guestsarenotallowed on call core_user_view_user_profile bay API REST",
          "Text": "Hello I a have an error message : first I get Token from ; GET https://mymoodle.com/login/token.php?username=myuser&password=mypassword&service=moodle_mobile_app but when I call : https://mymoodle.com/webservice/rest/server.php?moodlewsrestformat=json&wstoken=mytoken&wsfunction=core_user_view_user_profile&userid=myuserid I got : { \"exception\": \"moodle_exception\", \"errorcode\": \"guestsarenotallowed\", \"message\": \"Les visiteurs anonymes ne peuvent pas faire ceci\" } any Ideas ? thanks !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 5:55 PM",
          "AuthorName": "Samuel Calegari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2248133&course=5",
          "role": [
            "Picture of Samuel Calegari"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error guestsarenotallowed on call core_user_view_user_profile bay API REST",
          "Text": "solved my problem with another function : https://mymoodle.com/webservice/rest/server.php?moodlewsrestformat=json&wstoken=mytoken&wsfunction=core_user_get_users_by_field&field=email&values [0]=myemail core_user_view_user_profile -> core_user_get_users_by_field",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 9:03 PM",
          "AuthorName": "Samuel Calegari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2248133&course=5",
          "role": [
            "Picture of Samuel Calegari"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423818,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423818",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_course_get_courses_by_field / core_course_get_courses - paging options?",
          "Text": "Hi, All. is there any way to use paging on webservices for course lists? I am dealing with institution that has over 45k courses in Moodle, and while every single course detail pulls out just fine through REST call, first attempt to get ids of courses is taking literally forever (10+ minutes).  They might be using bad db, or suboptimal settings - i have no control over how they set their stuff up, but I do need to  basically consume list of courses and course sections somehow. Is there something that can get out just ids (even that would be fine)? Or something that is 21st century and can do paging (aka limit/offset pairs) ? I tried to rack head on source code of moodle, searched around - not sure what i am missing",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Thursday, June 24, 2021, 2:24 AM",
          "AuthorName": "Sergei Rodionov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4297666&course=5",
          "role": [
            "Picture of Sergei Rodionov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 423250,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423250",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Why is there no filtering method for the manage tokens page?",
          "Text": "I have 1327 pages of tokens and no way to filter by username, or surname or creator, ip restriction, valid until... Who designed that? 🤣 And how can you bulk delete a selection of tokens...? Love for Moodle always.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 9, 2021, 10:05 PM",
          "AuthorName": "Fabian Glagovsky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=566141&course=5",
          "role": [
            "Picture of Fabian Glagovsky",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Why is there no filtering method for the manage tokens page?",
          "Text": "Hi Fabian, If you're able to upgrade to Moodle 3.11, you'll find a tokens filter ( MDL-67748 ).",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1705242/manage%20tokens.png"
          ],
          "Time": "Wednesday, June 9, 2021, 11:06 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Why is there no filtering method for the manage tokens page?",
          "Text": "Yay!! Thank you Helen. One of these days. Best, Fabian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 2:02 PM",
          "AuthorName": "Fabian Glagovsky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=566141&course=5",
          "role": [
            "Picture of Fabian Glagovsky",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421554,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421554",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Token Generation for custom Web Service access",
          "Text": "Hello, I am looking for the best possible solution for the following situation: We are creating a custom Web-Service for students, with a curated list of core moodle WS functions and additional external Plugin functions we use. Now we are not quite sure how to handle the token generation for users. Solution A Using the \"moodle/webservice:createtoken\" capability, students would find their security keys under Preferences. This would be fine, if not for the issues that: a) generation from that page does not seem to set the token expiry date properly (which we would like) b) Tokens for all Web Services are generated (we would like to limit it to only the specific Student-WS) Solution B There is the endpoint  \"/admin/tool/mobile/launch.php?service=SERVICE_SHORTNAME&passport=ANY\" that returns a token for the respective WS. And for the official Moodle Mobile API WS this does not require the createtoken capability. This would be perfect. Alas, it does require the \"moodle/webservice:createtoken\"-capability for other Web Services. And then it would have the same Downsides as Solution A. Solution C At this stage the only idea we have to proceed would be to copy the code from  \"/admin/tool/mobile/launch.php\" into a new plugin, and adjust it to fit our needs.  This of course has the downside of duplicating the code and having a mostly unnecessary additional page to maintain.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 28, 2021, 8:35 PM",
          "AuthorName": "Fabian Windbacher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4220628&course=5",
          "role": [
            "Picture of Fabian Windbacher"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Token Generation for custom Web Service access",
          "Text": "Hello, I am currently investigating what is available in that regard. I found a useful method \"external_generate_token\" under \"/lib/externallib.php\". This might somehow fit your needs. Astor",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 3, 2021, 9:49 PM",
          "AuthorName": "Astor Bizard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2653863&course=5",
          "role": [
            "Picture of Astor Bizard",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422958,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422958",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Catch API error message",
          "Text": "Hi @ all, i want to check with php when a CURL do not works and the Response is the Classical Error-Message: <EXCEPTION class=\"invalid_parameter_exception\"> \n```text\n    <MESSAGE>Ungültiger Parameterwert</MESSAGE>\n    <DEBUGINFO></DEBUGINFO>\n```\n \n```text\n</EXCEPTION>\n```\n How can i do this? Thanks everyone for help....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 2, 2021, 1:40 PM",
          "AuthorName": "Moritz Grey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3637608&course=5",
          "role": [
            "Picture of Moritz Grey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 422910,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422910",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "enrol_manual_enrol_users always returns Null",
          "Text": "Hello. I definitely have the same problem as this old discussion with no answers : https://moodle.org/mod/forum/discuss.php?d=350722 the difference is they use Soap, I use Rest The function just returned \"Null\" with no exception error. $user2enrol001 = array(\n\"roleid\" => 5,\n\"userid\" => 6,\n\"courseid\" => 4\n); $user2enrol002 = array(\n\"roleid\" => 5,\n\"userid\" => 7,\n\"courseid\" => 4\n); $user2enrol003 = array(\n\"roleid\" => 5,\n\"userid\" => 8,\n\"courseid\" => 4\n); array_push($enrolments, $user2enrol001, $user2enrol002, $user2enrol003); $json = $MoodleRest->request('enrol_manual_enrol_users', array(\"enrolments\" => $enrolments)); echo $json; Ce dernier echo affiche juste \"Null\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 1, 2021, 3:43 AM",
          "AuthorName": "Rixan Randria",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3269326&course=5",
          "role": [
            "Picture of Rixan Randria"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 422569,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422569",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "mod_quiz_start_attempt gives notyourattempt error code for student",
          "Text": "I have created external web service in moodle 3.6.1 and added one function mod_quiz_start_attempt in external service. But this service access by only admin when any other user try to access this service they got following error. { \"exception\": \"moodle_quiz_exception\", \"errorcode\": \"notyourattempt\", \"message\": \"This is not your attempt!\" } As a admin if I want to allow other users to attempt the quiz using web service API then is there any possible ways to do this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 23, 2021, 2:27 AM",
          "AuthorName": "Arvind Thasal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4226791&course=5",
          "role": [
            "Picture of Arvind Thasal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 382775,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382775",
      "NoOfResponses": 14,
      "ResponsesInList": [
        {
          "Title": "How to retrieve the User Enrolment ID",
          "Text": "Hi all, I hope that somebody can give us some ideas. My institution has a Moodle 3.5.3 version. We are trying to use the following method to update the dates of a user enrollment: core_enrol_edit_user_enrolment This method requires the User enrolment ID as a parameter although there is no method that we can use to retrieve that information. We want to update the \"Enrolment Ends\" date field for a student. Are we doing doing something wrong? Can somebody give us some ideas? Thanks for your help, carlos",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 20, 2019, 10:54 PM",
          "AuthorName": "Carlos Chiarella",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=70315&course=5",
          "role": [
            "Picture of Carlos Chiarella"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Hey Carlos , Yes, you are on the right track. You can easily update the \"Enrolment Ends\" date field for your user. The webservice function core_enrol_edit_user_enrolment requires three required parameter - courseid, user enrolments id, enrol status and optional parameters like  timestart and timeend (timestamp). You can easily find user enrolment id in Moodle's user_enrolment table. This requires a good knowledge of Mysql queries and Moodle's table. You can apply join of user_enrolments and enrol table. After getting all required fields you can call webservice like \n```text\n http://localhost/moodle3.6.1/webservice/rest/\nserver\n.php?wstoken=fd324bf337764cbe45fbdb7760d09604&wsfunction=core_enrol_edit_user_enrolment&moodlewsrestformat=json&courseid=4&ueid=1&status=0&timestart=1552410399&timeend=1555089582\n```\n If you want I will share the required query with you with the help of which you can get user enrolment id. If you don't want to do this with webservice API function, you can also use moodle's core function update_user_enrol. Regards, Mayank Tyagi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 13, 2019, 2:09 AM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Thanks Mayank for the information. Let me explain what we want to achieve and please tell me if you have better ideas. All of our enrolments are handle by Drupal. So Drupal will follow these steps: 1. call for a specific course the following web service method: core_enrol_get_enrooled_users This method should return the user enrolment id. With this field, I think we will have enough information to call 2. core_enrol_edit_user_enrolment Does that make sense? Thanks for your ideas. Carlos",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 25, 2019, 11:15 PM",
          "AuthorName": "Carlos Chiarella",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=70315&course=5",
          "role": [
            "Picture of Carlos Chiarella"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Hey Carlos, I don't think so this method will return enrolment id for the user. It will return enrolled users details like firstname, lastname, profile description and many other details related to users. The details return by this method are \n```text\n[{\"id\":3,\"username\":\"sooraj\",\"firstname\":\"Sooraj\",\"lastname\":\"Singh\",\"fullname\":\"Sooraj Singh\",\"email\":\"singhsooraj30zz@gmail.com\",\"department\":\"\",\"firstaccess\":0,\"lastaccess\":0,\"description\":\"\",\"descriptionformat\":1,\"country\":\"IN\",\"profileimageurlsmall\":\"http:\\/\\/localhost\\/moodle3.6.1\\/theme\\/image.php\\/academic\\/core\\/1551116448\\/u\\/f2\",\"profileimageurl\":\"http:\\/\\/localhost\\/moodle3.6.1\\/theme\\/image.php\\/academic\\/core\\/1551116448\\/u\\/f1\",\"groups\":[],\"roles\":[{\"roleid\":5,\"name\":\"\",\"shortname\":\"student\",\"sortorder\":0}],\"enrolledcourses\":[{\"id\":4,\"fullname\":\"dd\",\"shortname\":\"45\"}]}]\n```\n All these details are not required for calling core_enrol_edit_user_enrolment. Thanks and Regards, Mayank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 26, 2019, 2:16 AM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Thanks Mayank. Sorry for my late response.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 9, 2019, 11:16 PM",
          "AuthorName": "Carlos Chiarella",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=70315&course=5",
          "role": [
            "Picture of Carlos Chiarella"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Hello, I'm in a similiar situation as carlos - I want to change a user enrollment (role in course) via webservice. Happily I found the core_enrol_edit_user_enrolment webservice function which allows that (well, at least i thought that from its name). But apparently that webservice requires some parameters, which you are not able to get via webservice... (But wouldn't that, if true, make the core_enrol_edit_user_enrolment webservice completly superfluous?) This leads me to following questions: Is it possible to use the core_enrol_edit_user_enrolment webservice for changing the user enrollment in a course, or to be more precise, the role(s) a user is enrolled in a course. (If 1) What webservice can be used to retrieve the information needed as parameters for core_enrol_edit_user_enrolment ? Maybe I'm on the wrong track with the above, so my general question is: What webservice to use for changeing a users role(s) in a course. I know courseid, userid and new roleid. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 1, 2019, 1:55 PM",
          "AuthorName": "Jo Ha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2687797&course=5",
          "role": [
            "Picture of Jo Ha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Hello, No, the core_enrol_edit_user_enrolment is not for change user role in the enrolled course. For assigning the role to a user you can use core_role_assign_roles. What do you mean by changing the user role? Is it mean to unassign the current role of the user in that course and assign the new role? Well as far in my knowledge there is no direct web service for this(unassign present role and assign new). You can do it in two steps:- 1) use core_role_unassign_roles to unassign current role. 2) use core_role_assign_roles to assign new role. If you don't want to use these web service you can make your own web service for this functionality. Regards Mayank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 3, 2019, 3:30 AM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Hi Mayank, Core_enrol_get_enrooled_users This method DOES NOT return the user enrolment id. I use core_enrol_get_users_courses to get a list of courses user A is in. Then I display all course on the view. * Course A   Update * Course B   Update * Course C   Update I click the \"Update\" button next to course A.  How can I update my enrolment if I don't have the enrolment ID? Kind regards, Aaron",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 14, 2019, 11:54 AM",
          "AuthorName": "Aaron Alo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2837031&course=5",
          "role": [
            "Picture of Aaron Alo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Responding as I similarly want to change the enrolment status for a user on a course but core_enrol_edit_user_enrolment() requires the ueid variable. I can't find another function that returns that variable? How do I source it, if I know the Course ID and User ID?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 16, 2020, 5:32 PM",
          "AuthorName": "Anthony Erickson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2682754&course=5",
          "role": [
            "Picture of Anthony Erickson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "I'm running into this problem as well. Using webservices I can see enrollments in a course using core_enrol_get_enrolled_users but I can't edit them without finding a way to get the UEID. Can I get the enrollment ID of an enrollment in a course using webservices? Any help would be awesome. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 7, 2021, 8:27 AM",
          "AuthorName": "Benjamin Hays",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2531742&course=5",
          "role": [
            "Picture of Benjamin Hays"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Hi Ben, In consultation with our Moodle partner provider, we were getting some custom APIs created so included this as a requirement as the only way to solve it. Pretty annoying - would be a good inclusion on the enhancement/development web site as I think the effort required to add that field in to the web service(s) is pretty straightforward. Ant",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 7, 2021, 9:21 AM",
          "AuthorName": "Anthony Erickson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2682754&course=5",
          "role": [
            "Picture of Anthony Erickson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Ant, Thank you for your reply! That is disappointing but I really appreciate the information.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 7, 2021, 9:38 AM",
          "AuthorName": "Benjamin Hays",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2531742&course=5",
          "role": [
            "Picture of Benjamin Hays"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "Hi Ben, I'm moving out of the LMS space in the coming week but I went ahead and raised an improvement request (we're using 3.5 currently) so it can at least be considered to be included in to the core APIs. A mandatory parameter that can't be obtained is a bit annoying so would be great housekeeping for it to be sorted. Create an account and vote/watch here: https://tracker.moodle.org/browse/MDL-70582",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 7, 2021, 10:44 AM",
          "AuthorName": "Anthony Erickson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2682754&course=5",
          "role": [
            "Picture of Anthony Erickson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to retrieve the User Enrolment ID",
          "Text": "https://tracker.moodle.org/browse/MDL-70582 tracker updated with a code. Can you please have a look.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 20, 2021, 10:02 AM",
          "AuthorName": "Syed Nayab Bukhari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1572908&course=5",
          "role": [
            "Picture of Syed Nayab Bukhari",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422388,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422388",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How do I use the API to extract Rubric element scores (not total score)",
          "Text": "We have a rubric being used in 2 courses ACA-115 and ACA-121 that we want to extract the component element scores for further analysis. Does anyone know how to do this? I would think the API would make this possible, but I am limited in my Web Services skills. Some pointers would be most appreciated. David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 18, 2021, 11:06 PM",
          "AuthorName": "David Onder",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4249367&course=5",
          "role": [
            "Picture of David Onder"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 421383,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421383",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Remove web service functions",
          "Text": "Hello, I want to delete the following web services functions: The web service function 'mod_quiz_get_user_attempts' The web service function 'mod_quiz_get_quizzes_by_courses' The web service function 'core_webservice_get_site_info' My questions are: 1) How can I delete these functions or prevent any one called these functions 2) If these functions deleted, what are the affected on  Moodle websites and Moodle mobile? The idea is to solve the https://ezrayellin.com/instantgrades/ problem. This site return the grades for student using these webservices, despite of the instructor uncheck all the boxes the marks  in review options Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 24, 2021, 4:18 PM",
          "AuthorName": "Ahmad Khaled",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3329807&course=5",
          "role": [
            "Picture of Ahmad Khaled"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Remove web service functions",
          "Text": "Have you found out your solution? You really want to delete not just to block access !? By curiosity, i'm interested in how you manage quizzes if you delete all functions about it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 5, 2021, 4:56 AM",
          "AuthorName": "Rixan Randria",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3269326&course=5",
          "role": [
            "Picture of Rixan Randria"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421718,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421718",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to use login-required web service functions",
          "Text": "Hello. I develop an external app accessing Moodle webservices based on this documentation : https://docs.moodle.org/dev/Web_service_API_functions This page shows that some of functions require to login and few don't. So before to call a function about getting courses, have to to authenticate ? How to login with web services ? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 2, 2021, 5:42 AM",
          "AuthorName": "Rixan Randria",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3269326&course=5",
          "role": [
            "Picture of Rixan Randria"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to use login-required web service functions",
          "Text": "I answer to myself that running a token-based request is sufficient !? I asked this forum because I always get a return = \"Access control exception\" I just find the solution that 1- I have to add a new external service 2- I have to create a token for my user and assign the just created external service to this token And now I can use all login-required functions without authenticating, just by using the token !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 4, 2021, 11:31 PM",
          "AuthorName": "Rixan Randria",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3269326&course=5",
          "role": [
            "Picture of Rixan Randria"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421670,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421670",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get course grades for all/multiple users",
          "Text": "I am trying to integrate Moodle with our information management system, but it is proving to be quite a bit more difficult than I expected. I need a way to pull all final course grades for all students, but I can't seem to find the right web service or api call to do it. Has anybody managed to do this before? Any suggestions for the best way to approach it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 30, 2021, 11:11 PM",
          "AuthorName": "Peter G",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2570816&course=5",
          "role": [
            "Picture of Peter G"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 421291,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421291",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "webservice core_course_get_courses",
          "Text": "Hello, \n```text\nI use on moodle 3.8.8+ the core_course_get_courses function.\nThe return by a call https: //my_url_xxx.yy/webservice/rest/\nserver\n.php? Wstoken = xxxxyyyyyzzzzz & wsfunction = core_course_get_courses & moodlewsrestformat = json\n is {\"exception\": \"invalid_response_exception\", \"errorcode\": \"invalidresponse\", \"message\": \"Invalid return value detected\"}\n\n\n\nOn an old version 3.3.9 it works fine. Is there a bug on this function in Moodle 3.8.8+ (Build: 20210312)?\n\n\n\nIt seems that the edwiser bundle (worpress / moodle) uses this call to test the good connection between the two systems. Which obviously returns an error.\n```\n thank for help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 22, 2021, 4:22 PM",
          "AuthorName": "Rémi BARRIERE",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1997592&course=5",
          "role": [
            "Picture of Rémi BARRIERE"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 421078,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421078",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to use Moodle webservices",
          "Text": "Hello, I'm new to moodle's webservices and I wish to try creating a course via the core_course_create_courses function. I'm calling the webservice with the following url and its giving me an error, can someone help me out here please. uri: http://localhost/moodle/webservice/rest/ server .php?wstoken=d0b8004660ba1144f8af3e8478ec6b01&moodlewsrestformat=json&wsfunction=core_course_create_courses error: \n```text\n{\"exception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Invalid parameter value detected\"}\n```\n \n```text\n\n```\n \n```text\nI'm unable to understand the cause of the error its saying the a parameter has an invalid value but which one? and why?\n```",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1696988/2021-04-16%2021_53_41-Window.png?forcedownload=1"
          ],
          "Time": "Saturday, April 17, 2021, 12:54 AM",
          "AuthorName": "Naqi Azam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4201711&course=5",
          "role": [
            "Picture of Naqi Azam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to use Moodle webservices",
          "Text": "Probably has to do with the data sent to the WS and not the url, you need to pass data for the course to be created, that is the information with error probably and in this case, it looks like it is missing from the WS call or you do not mention it in the message",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 17, 2021, 1:32 AM",
          "AuthorName": "Omar Esgaib",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1332764&course=5",
          "role": [
            "Picture of Omar Esgaib"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use Moodle webservices",
          "Text": "Would you be able to tell me where I find the specification of the input and return parameters of this call to the API's core_course_create_courses method?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 19, 2021, 9:35 PM",
          "AuthorName": "Alisson Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4205509&course=5",
          "role": [
            "Picture of Alisson Silva"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use Moodle webservices",
          "Text": "from https://moodle.org/mod/forum/discuss.php?d=343794 So the documentation can be found in Administration block > Plugins > Web services > API Documentation. There is no \"offline\" documentation?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 19, 2021, 10:11 PM",
          "AuthorName": "Omar Esgaib",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1332764&course=5",
          "role": [
            "Picture of Omar Esgaib"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 420405,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=420405",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How does the API manages time overrides (does it manage them at all) ?",
          "Text": "We're looking into the web service functionnalities such as mod_assign_get_assignments and mod_quiz_get_quizzes_by_courses to get data from moodle to display on our student portal (which is external). I was wondering if these functions were taking individual overrides into account ? What about groupins and groups ? What about the module availability ? Is everything taken into account to display the accurate date for a user? We are assuming the user making the request is the student's token itself. Feel free to ask if you need more details, but any cue or even a partial answer to this could help us a lot. Thank you in advance and have a great day, Jeff.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 1, 2021, 3:49 AM",
          "AuthorName": "Jeff Noel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2098012&course=5",
          "role": [
            "Picture of Jeff Noel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 399465,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=399465",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "REST-API: Create new users via auth_email_signup_user",
          "Text": "Hi, I want to add new users to our moodle system in a webapp via the REST-API. Since you need to be logged in for \" core_user_create_users \" to work, I thought \" auth_email_signup_user \" would be the correct function. But here I always get the \" Invalid parameter value detected\" error... The API documentation says I need a username, password, firstname, lastname and email parameter, but it won't work: https://<moodle>/webservice/rest/ server .php?wstoken=xyz&wsfunction=auth_email_signup_user&moodlewsrestformat=json&username=test&password=xyz&firstname=house&lastname=master&email=house@xyz.com The parameter format for core_user_create_users is \"users[0][firstname], users[0][lastname]\" etc. but this won't work either. Any ideas what I am doing wrong?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 31, 2020, 9:17 PM",
          "AuthorName": "housemaster Delome",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3065736&course=5",
          "role": [
            "Picture of housemaster Delome"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: REST-API: Create new users via auth_email_signup_user",
          "Text": "Ok it's working now. I enabled the developer debug messages and it told me I forgot to pass the parameters of the custom profile files, which were mandatory as well. If anyone wonders how to pass multiple custom fields: &customprofilefields[0][type]=string&customprofilefields[0][name]=profile_field_NAME&customprofilefields[0][value]=placeholder&customprofilefields[1][type]=string&customprofilefields[1][name]=profile_field_NAME2&customprofilefields[1][value]=placeholder ...but now I have to confirm the user and don't know the \"secret\" parameter. Anyone knows how to get that one? The function I'm using is core_auth_confirm_user, which requires the username and the secret.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 31, 2020, 10:30 PM",
          "AuthorName": "housemaster Delome",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3065736&course=5",
          "role": [
            "Picture of housemaster Delome"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: REST-API: Create new users via auth_email_signup_user",
          "Text": "Have you gotten the \"secret\" parameter? I have not found any documentation on how to get it, I also need to use the core_auth_confirm_user function",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 3, 2020, 1:10 PM",
          "AuthorName": "Lucas Macedo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2621798&course=5",
          "role": [
            "Picture of Lucas Macedo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: REST-API: Create new users via auth_email_signup_user",
          "Text": "Hi, Kevin Zapp I'm using auth_email_signup but I can't add custom profile fields I look and write code like API Documentation but it doesn't work \n```text\nmoodlewsrestformat:json\nwstoken:xxxxxxxxxxxxxxxxxxxxxxxx\nwsfunction:auth_email_signup_user\n```\n \n```text\nusername:johndoe\nfirstname:John\nlastname:Doe\npassword:xxxxxxx\nemail:johndoe@mail.local\ncity:London\ncountry:EN\n```\n \n```text\ncustomprofilefields[0][type]:foo\ncustomprofilefields[0][name]:Foo\ncustomprofilefields[0][value]:Sample\n```\n I'm using moodle 3.9 and I'm using Postman for testing I'm getting an error message {\"exception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Invalid parameter value detected (Invalid fieldFoo)\",\"debuginfo\":\"Invalid fieldFoo\"} Could you please help me, what is the correct way to add custom profile fields in auth_email_signup Thank You!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 14, 2020, 1:38 AM",
          "AuthorName": "Andi Sobandi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3857688&course=5",
          "role": [
            "Picture of Andi Sobandi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: REST-API: Create new users via auth_email_signup_user",
          "Text": "I'm also stuck in this situation. Everything is correct and I followed the Moodle API documentation. Also using Postman, and I'm getting the same error. Any help or solution? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 31, 2021, 5:01 PM",
          "AuthorName": "Alan Quaino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2688492&course=5",
          "role": [
            "Picture of Alan Quaino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: REST-API: Create new users via auth_email_signup_user",
          "Text": "I've found the solution. It's due to an error in the documentation. Check my issue: https://tracker.moodle.org/browse/MDL-71253 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 31, 2021, 10:26 PM",
          "AuthorName": "Alan Quaino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2688492&course=5",
          "role": [
            "Picture of Alan Quaino"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 420176,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=420176",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Access violation at address... in module Utilities.bpl error",
          "Text": "Hi, I am trying to implement the integration between VETtrak (student management system) and Moodle via a Moodle API and REST webservices. The documentation is here https://customer.vettrak.com.au/hc/en-us/articles/360003144036-VETtrak-and-Moodle-Integration-Implementation . I have turned on web services and REST protocol, created the API and added the requested functions with a user with WS profile. I have managed to get the two systems to talk (i.e. VETtrak can match the occurrence numbers on both sides), however, I still cannot get the completion grades to be pulled from Moodle to VETtrak, or recognise the grades that haven't been pulled across or errored. There is no error on the Moodle side that I can see with the WS profile, API or functions, the only error I am getting is on the VETtrak side which is \"Unable to retrieve the enrolment's result from Moodle. Access violation at address 069489D6 in module 'Utilities.bpl' Read of address 00000000\". I would really appreciate any help with this. Thanks Leticia",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1693313/VTerror-when-pulling-grades.png?forcedownload=1"
          ],
          "Time": "Friday, March 26, 2021, 10:07 AM",
          "AuthorName": "Leticia Dark-rose",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1881713&course=5",
          "role": [
            "Picture of Leticia Dark-rose"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 419696,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=419696",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Difference between core_enrol_get_enrolled_users and core_enrol_get_enrolled_users_with_capability?",
          "Text": "What exactly is the difference between core_enrol_get_enrolled_users and core_enrol_get_enrolled_users_with_capability ? As I see it, they are doing basicly the same: \" withcapability \" is an optional argument for core_enrol_get_enrolled_users . core_enrol_get_enrolled_users_with_capability takes a list of users and capabilities - is that the difference? Or am I missing something?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 16, 2021, 12:32 AM",
          "AuthorName": "Melanie Treitinger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3680744&course=5",
          "role": [
            "Picture of Melanie Treitinger"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 419321,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=419321",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "503 Service Unavailable",
          "Text": "I created a web service in Moodle with PHP 7.2 MySQL and Linux. It works fine. The problem I'm having with one query string/option for the Web Service is returning all the users (and specific computed data). Since there are 16,000 users it is a large Web Service call/ JSON return. I have not been able to return all users with a curl call to the Web Service I get a 503. I have increased the PHP timeout parameter to 5000s. Still no luck although it runs longer before it fails and returns 503. Any thoughts on what I should do next? I plan to play around with the post max in PHP and the max allowed packets in My SQL . But other than that I don't know what I can do. So I wanted to see if anyone had any thoughts around this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 6, 2021, 10:12 PM",
          "AuthorName": "Tom Tom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3362984&course=5",
          "role": [
            "Picture of Tom Tom"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 503 Service Unavailable",
          "Text": "So today I just troubleshooted the issue as I would any Moodle performance problem. I changed Apache mpm from prefork to event. I increased the max execution time and post max. I increased the memory. Etc. I then pulled the PHP code out of the WS and into a standalone PHP CLI script (hooking that into my Moodle so I could use the Moodle $CFG). I ran it from the CLI and found a few warnings. After fixing all of these things the WS works. It within a few ms downloads the tabulated data for all 16,000+ users using cURL and writes it to a file. Hope this helps someone else.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 7, 2021, 5:49 AM",
          "AuthorName": "Tom Tom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3362984&course=5",
          "role": [
            "Picture of Tom Tom"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 419294,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=419294",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get Roles for a specific Capability and Context",
          "Text": "On /admin/roles/permissions.php?contextid=2155 I can assign a capability (viewhiddencourses) for a specific roles and the context ID 2155. is there a webservice where I can fetch all the roles that have a give capability set for a specific context or course ID? I checked https://docs.moodle.org/dev/Web_service_API_functions#Web_service_protocols and did not find anything about permission management. Regards, Alex",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 6, 2021, 12:47 AM",
          "AuthorName": "Alex M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3682115&course=5",
          "role": [
            "Picture of Alex M"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 418880,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=418880",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "php's Soap Client doesn't work but Boomerang tester does",
          "Text": "Ok, this is a weird one - and only seems to be impacting one method.  I'm using a PHP7.4 CLI script to add users from our SIS to moodle courses using enrol_manual_enrol_users.  Putting the following array(1991) { \n```text\n [0]=>\n\n\n array(3) {\n\n\n [\"userid\"]=>\n\n\n int(39615)\n\n\n [\"courseid\"]=>\n\n\n int(500)\n\n\n [\"roleid\"]=>\n\n\n int(5)\n\n\n }\n\n\n [1]=>\n\n\n array(3) {\n\n\n [\"userid\"]=>\n\n\n int(23782)\n```\n into $registerarray and running \n```text\n$clientm->enrol_manual_enrol_users($registerarray);\n```\n Where $clientm is an instance of soapClient, happily returns a 200 but shows on the moodle side as \" The web service function 'unknown' has been called.\" and of course nobody enrolled. Now, here is where things get weird. With tracing on I called \n```text\nvar_dump($clientm->__getLastRequest());\n```\n and then copy/pasted the xml output into the Boomerang api workspace \n```text\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n\n<env:Envelope\n\n\n xmlns:env=\"\nhttp://www.w3.org/2003/05/soap-envelope\n\"\n\n\n xmlns:ns1=\"https://********/webservice/soap/\nserver\n.php?wstoken=**************************\"\n\n\n xmlns:ns2=\"\nhttp://xml.apache.org/xml-soap\n\"\n\n\n xmlns:enc=\"\nhttp://www.w3.org/2003/05/soap-encoding\n\"\n\n\n xmlns:xsi=\"\nhttp://www.w3.org/2001/XMLSchema-instance\n\"\n\n\n xmlns:xsd=\"\nhttp://www.w3.org/2001/XMLSchema\n\">\n\n\n <env:Body>\n\n\n <ns1:enrol_manual_enrol_users env:encodingStyle=\"\nhttp://www.w3.org/2003/05/soap-encoding\n\">\n\n\n <enrolments enc:itemType=\"ns2:Map\" enc:arraySize=\"1991\" xsi:type=\"enc:Array\">\n\n\n <item xsi:type=\"ns2:Map\">\n\n\n <item>\n\n\n <key xsi:type=\"xsd:string\">userid</key>\n\n\n <value xsi:type=\"xsd:int\">39615</value>\n\n\n </item>\n\n\n <item>\n\n\n <key xsi:type=\"xsd:string\">courseid</key>\n\n\n <value xsi:type=\"xsd:int\">500</value>\n\n\n </item>\n\n\n <item>\n\n\n <key xsi:type=\"xsd:string\">roleid</key>\n\n\n <value xsi:type=\"xsd:int\">5</value>\n\n\n </item>\n\n\n </item>\n\n\n <item xsi:type=\"ns2:Map\">\n\n\n <item>\n\n\n <key xsi:type=\"xsd:string\">userid</key>\n\n\n <value xsi:type=\"xsd:int\">23782</value>\n\n\n </item>\n\n\n <item>\n\n\n <key xsi:type=\"xsd:string\">courseid</key>\n\n\n <value xsi:type=\"xsd:int\">500</value>\n\n\n </item>\n\n\n <item>\n\n\n <key xsi:type=\"xsd:string\">roleid</key>\n\n\n <value xsi:type=\"xsd:int\">5</value>\n\n\n...\n```\n and it worked perfectly, returning a 202 and students enrolled. I thought it might be headers, but other methods in the same script worked. I'd love any ideas anyone may have! Thanks in advance Doug",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2021, 6:27 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: php's Soap Client doesn't work but Boomerang tester does",
          "Text": "Solved, and the solution was related to soapClient class headers. It wasn't waiting for a response from the server before moving on as it processed the enrol_manual_enrol_users asynchronously. I added 'features'=>SOAP_WAIT_ONE_WAY_CALLS, to the options and presto, everything worked! \n```text\n $clientm = new SoapClient ($wsdlm, array (\n\n\n 'encoding' => 'UTF-8' ,\n\n\n 'cache_wsdl' => WSDL_CACHE_MEMORY,\n\n\n 'compression'=> SOAP_COMPRESSION_ACCEPT|SOAP_COMPRESSION_GZIP,\n\n\n 'soap_version'=>SOAP_1_2,\n\n\n 'keep_alive'=>true,\n\n\n 'exceptions'=>true,\n\n\n 'features'=>SOAP_WAIT_ONE_WAY_CALLS,\n\n\n 'trace'=>true\n\n\n ) );\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 27, 2021, 1:17 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 418086,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=418086",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle API cache update time improvement",
          "Text": "We are using moodle 3.4. We are using Moodle APIs to integrate with an external student portal. This portal calls example of below APIs for student operations: 1) Create user 2) Update user profile 3) Enrol/unenrol course 4) Enrol/unenral group We found that for every operation such as enrol/unenrol course, it takes up to 30s to update this on the Moodle server cache. This means if the student logs in the moodle site right after an enrol to course, it takes 30s for this to take effect on his/her profile. Is there any way we can improve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 10, 2021, 1:25 PM",
          "AuthorName": "Karishma Tiwari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1980495&course=5",
          "role": [
            "Picture of Karishma Tiwari"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 417906,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=417906",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Webservice works only using browser",
          "Text": "I have created a webservice for uploading files from Unity3d to Moodle. The file will uploaded correctly to the plugins folder. I want to move it( upload it) again from that folder to Moodle files system using File API. I created a script user webservice/ server .php. This script works fine when I enter the url manually on the brower but when I call the same script using Unity I get : <? xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"invalid_parameter_exception\"> <ERRORCODE>invalidparameter</ERRORCODE> <MESSAGE>Invalid parameter value detected ( Context does not exist)</MESSAGE> <DEBUGINFO>Context does not exist</DEBUGINFO> </EXCEPTION> this is my code global $USER; $token = 'mytoken'; $function = \"core_files_upload\"; $filepath = '/'; $parameters = array( 'component' => 'user', // usually = table name 'filearea' => 'draft', // usually = table name 'itemid' => 0, // usually = ID of row in table 'filepath' => '/', // any path beginning and ending in / 'filename' => $img, 'filecontent' => base64_encode(file_get_contents($CFG-> dirroot .'/mod/myplugin/files/'. $img)), // any filename 'contextlevel' => 'user', 'instanceid' => $USER->id, ); /// REST CALL function httpPost($url, $data){ $curl = curl_init(); curl_setopt($curl, CURLOPT_URL, $url); curl_setopt($curl, CURLOPT_HEADER, 0); curl_setopt($curl, CURLOPT_VERBOSE, 0); curl_setopt($curl, CURLOPT_USERAGENT, \"Mozilla/4.0 (compatible;)\"); curl_setopt($curl, CURLOPT_POST, true); curl_setopt($curl, CURLOPT_POSTFIELDS, $data); curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); $response = curl_exec($curl); curl_close($curl); return $response; } $serverurl = $domainname . '/webservice/rest/server.php'. '?wstoken=' . $token  .  '&wsfunction='. $function ; $response = httpPost($serverurl , $parameters ); print_r($response); I checked that $CFG->dirroot.'/mod/arete/files/'. $img  is not null.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 7, 2021, 3:39 AM",
          "AuthorName": "Arad Jafari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4032676&course=5",
          "role": [
            "Picture of Arad Jafari"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservice works only using browser",
          "Text": "Hope at least someone has an idea!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 7, 2021, 7:50 PM",
          "AuthorName": "Arad Jafari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4032676&course=5",
          "role": [
            "Picture of Arad Jafari"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice works only using browser",
          "Text": "Find out what is the problem and maybe it helps someone else. you need to add another parameter to the parameters array and it is 'contextid'",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 7, 2021, 9:41 PM",
          "AuthorName": "Arad Jafari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4032676&course=5",
          "role": [
            "Picture of Arad Jafari"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 415332,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415332",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Web Service - Create User",
          "Text": "Hi Everyone I was reading a discussion from 2012 about creating a new user in moodle using Web Service.  I am trying to find clarification and possibly instructions on this topic.  I would like to know first - is it possible, can you create a new user with web service?  If so, how can it be done and what can trigger the occurrence?  I would like to trigger this from my website or Paypal if possible. Next, is it possible then to enroll the newly created user into a specific course? Thank you in advance for your help in this,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 14, 2020, 3:57 AM",
          "AuthorName": "Xlr8ED LEARNING",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2570134&course=5",
          "role": [
            "Picture of Xlr8ED LEARNING"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Ang: Web Service - Create User",
          "Text": "Hello! Did you solve this? For instance, you can use the function auth_email_signup_user to create that new user from your side. About enrolling to a specific course, Im looking for the same information so I hope this helps us to get some guiadance on that matter. Best",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 3, 2021, 10:09 PM",
          "AuthorName": "Gonzalo Arellano",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4041959&course=5",
          "role": [
            "Picture of Gonzalo Arellano"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ang: Web Service - Create User",
          "Text": "Hi Gonzalo Thank you for responding. There does not seem to be much interest in this or perhaps I have been asking in the wrong forum. I know it is possible - Edwiser Bridge can add and enrol directly from a Wordpress website. We would use this if our site was on Wordpress but it is not. Therefore our options are to find a solution with Web Service or switch our website to WordPress. We will certainly let you know if we find a solution. Stay well",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 3, 2021, 11:00 PM",
          "AuthorName": "Xlr8ED LEARNING",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2570134&course=5",
          "role": [
            "Picture of Xlr8ED LEARNING"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ang: Web Service - Create User",
          "Text": "You can check API functions \"core_user_create_users\", \"core_course_create_courses\", \"enrol_manual_enrol_users\" maybe they do the job you need.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 3, 2021, 11:16 PM",
          "AuthorName": "Omar Esgaib",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1332764&course=5",
          "role": [
            "Picture of Omar Esgaib"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 407253,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=407253",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Launch Moodle SCORM file in external app",
          "Text": "Hi, Is there a way to launch SCORM module in an external mobile app using webservice? I've been looking at the Webservice documentation to see if it is possible to launch the module using a user token so the user don't have to see login page once they have the authenticated token. The thing is I want to run the moodle SCORM in the external environment (user wouldn't know whether they are logged in Moodle). At the moment, when user clicks the module url, it goes to the login page (of course) but I want to get rid of this step. If there is a way to authenticate the user and launch the SCORM module ( http://mySite/mod/scorm/player.php?scoid=28&cm=24&newattempt=on&display=popup&mode=normal ) behind the scene, can you please advise how this can be done? Thank you for your time and help in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 17, 2020, 10:57 AM",
          "AuthorName": "Lucy Hong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3107796&course=5",
          "role": [
            "Picture of Lucy Hong"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Launch Moodle SCORM file in external app",
          "Text": "Hi Lucy - I have the same challenge/requirement. I can't really help you answer, but curious if you found a good way to accomplish this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 3, 2020, 9:49 PM",
          "AuthorName": "Frank Harrington",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3501340&course=5",
          "role": [
            "Picture of Frank Harrington"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Launch Moodle SCORM file in external app",
          "Text": "Mee too looking for the same answer, @Frank/Lucy. Did you get the solution for your problem statement?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 3, 2021, 7:15 PM",
          "AuthorName": "ankit garg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=602838&course=5",
          "role": [
            "Picture of ankit garg"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 416165,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=416165",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Customfields: Fill in a dropdown menu field via API (core_course_update_courses)",
          "Text": "Dear Community, We would like to use the customfields (type: dropdown menu field) and wan't to fill in values via webservice call (core_course_update_courses). The customfields and values will be created by us in advance, eg: fieldname: category dropdown menu entrys: Winter term 2019 Summer term 2020 Winter term 2021 ... Arguments: \n```text\ncustomfields  Optional //Custom fields\n```\n \n```text\nlist of (\n```\n \n```text\nobject {\n```\n \n```text\nshortname string   //The shortname of the custom field\n```\n \n```text\nvalue string\n```\n Does anyone know if it is possible to fill in values in a field of type dropdown menu? What's the value string? Is it eg \"Winter termin 2019\"?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 6, 2021, 12:03 AM",
          "AuthorName": "Anton Tremetzberger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9578&course=5",
          "role": [
            "Picture of Anton Tremetzberger",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Customfields: Fill in a dropdown menu field via API (core_course_update_courses)",
          "Text": "Dear Community, together with our IT Department we did some tests, maybe is also interesting for you. If you use a dropdown menu field, you have to use IDs: ID=0: no entry ID=1: first entry of dropdown field --> Winter term 2019 ID=2: second entry of dropdown field --> Summer termin 2020 ..... br, Anton",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 15, 2021, 12:20 AM",
          "AuthorName": "Anton Tremetzberger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9578&course=5",
          "role": [
            "Picture of Anton Tremetzberger",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Customfields: Fill in a dropdown menu field via API (core_course_update_courses)",
          "Text": "Thanks for sharing. But it is not a surprising/interesting information for any developer. Bcs for developement as a good practise we use ID( As numeric) always. It is also helpful to store it in DB.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 1, 2021, 11:02 PM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 417522,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=417522",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "invalid_parameter_exception while all parameter are in place",
          "Text": "I have connected Unity to Moodle using PHP. I can successfully generate user token in Unity, but when ad will send a post request to Moodle using my custom plugin in Moodle I get this error. response: <? xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"invalid_parameter_exception\"> <ERRORCODE>invalidparameter</ERRORCODE> <MESSAGE>Invalid parameter value detected (Missing function name)</MESSAGE> <DEBUGINFO>Missing function name</DEBUGINFO> </EXCEPTION> I know the error is because of Missing function name but I added it correctly in my query like : $parametersArray = array('wstoken' => $token , 'wsfunction' => $function , 'moodlewsrestformat' => 'json''); this is the code for curl that I use $curl = curl_init($url); curl_setopt($curl, CURLOPT_POST, true); curl_setopt($curl, CURLOPT_POSTFIELDS, http_build_query($data)); curl_setopt($curl, CURLOPT_HTTPHEADER, array('Content-Type: application/x-www-form-urlencoded')); curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); $response = curl_exec($curl); curl_close($curl); return $response; I add wsfunction like core_course_get_module. of course I add id=99 to $parametersArray after that line.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 1, 2021, 1:45 AM",
          "AuthorName": "Arad Jafari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4032676&course=5",
          "role": [
            "Picture of Arad Jafari"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 417077,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=417077",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How do I consume Moodle webservice from SSIS",
          "Text": "Hi, I need to retrieve moodle data into my sql server through SSIS. How do I consume the service? What is the Service URL ? Where can I find? Please advise Regards Raj",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 22, 2021, 7:58 PM",
          "AuthorName": "Raj Maddala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4011667&course=5",
          "role": [
            "Picture of Raj Maddala"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 416929,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=416929",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Enrollment method for users in course (meta linked)",
          "Text": "I have courses that are meta linked, and I am writing a client to manage enrollments via the Web Services API. If I have two courses with enrolled users, and I meta link one to the other, in the web interface for the meta course, I see users that are direct enrollments, and also users that show as enrollments in the linked course. Is there any way when viewing the meta course (with both direct and meta enrollments) to list the enrolled users and differentiate between enrollment methods? Sorry if this isn't clear, I can post screenshots and try to clarify if necessary.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 20, 2021, 8:54 AM",
          "AuthorName": "Daniel Dillard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4005024&course=5",
          "role": [
            "Picture of Daniel Dillard"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 416885,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=416885",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle user login with external API",
          "Text": "I want to access the Moodle restful web services in my native android app. Please suggest me the further steps to be followed to access the restful web services",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 19, 2021, 5:24 PM",
          "AuthorName": "Aung Zin Phyo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3888063&course=5",
          "role": [
            "Picture of Aung Zin Phyo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 415976,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415976",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Ho to write login form post method api.",
          "Text": "I need to developed mobile app with react-native. So I need to develop custom api. I would like to know first - is it possible, can you create a new user with web service? Next, is it possible then to enroll the newly created user into a specific course? Thank you in advance for your help in this,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 30, 2020, 7:43 PM",
          "AuthorName": "Aung Zin Phyo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3888063&course=5",
          "role": [
            "Picture of Aung Zin Phyo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 415025,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415025",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "I need your help please",
          "Text": "Hi, I'm a \"beginner\" concerning API and I don't understand some things and I need your help. 1.) I've created a token in plugin webservices to use the API and it works. I can create users, I can enrol users to courses ..... 2.) I've added the funktion core_user_get_users_by_field to the token 3.) I'm the owner the token and it can be used from everywhere (I have a question concening the IP-restrictions as well) So my questions are: 1.) My Problem I want to check if a certain email address exists in moodle_users. If I use the function core_user_get_users_by_field with my email, I get all the data I want to have in an array. If I search for another existing email, I get an empty array as a result. Works if it's my email - but not with other emails-addresses. \n```text\n..... wsfunction=core_user_get_users_by_field&moodlewsrestformat=json&field=email&values[0]=info@myemail.xx\n```\n I thought, that me as an admin, I can use the token to have full access to every data and function enabled in the token. What do I do wrong?  Did I forgot smth? 2.) IP Restrictions My Moodle and my PHP-Script are running on the same server of an internet provider. Is it possible to enter smth like localhost or 127.0.0.1 or smth else in the IP restrictions field when creating a token? Thank you so much for your help Greetings from Germany. Uli",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 7, 2020, 6:18 PM",
          "AuthorName": "Ulrich Eckardt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3832015&course=5",
          "role": [
            "Picture of Ulrich Eckardt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: I need your help please",
          "Text": "Hello 1/ You need to add the moodle/site:viewuseridentity capacity to the User used in your taken (or his role) 2/ I just tried to generate a token restricted to IP 127.0.0.1 but while using it, it does not work. I get this answer: <EXCEPTION class=\"webservice_access_exception\"> <ERRORCODE>accessexception</ERRORCODE> <MESSAGE>Exception du contrôle d'accès</MESSAGE> </EXCEPTION> Anybody facing the same issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 22, 2020, 4:09 PM",
          "AuthorName": "Christelle PREMEL-CABIC",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3954112&course=5",
          "role": [
            "Picture of Christelle PREMEL-CABIC"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 381614,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381614",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "enrol_manual_enrol_users without enrolling the web service user",
          "Text": "Hello, Is it possible to enrol users in a course by REST web service without previously manually enrolling the web service user in that course ? I have to create a lot of courses in Moodle and i must enrol teachers and students in these courses. I would like to do this by the web service API. I can easily create courses with REST. But i cannot enrol teachers in that course with enrol_manual_enrol_users, i have an exception : <EXCEPTION class=\"require_login_exception\"> <ERRORCODE>requireloginerror</ERRORCODE> <MESSAGE>Cours ou activité pas accessible.</MESSAGE>           \"Course or activity not accessible\" </EXCEPTION> The only way i found to enrol a teacher with enrol_manual_enrol_users is to manually enrol the web service user in the course. Is there a solution to get around that problem  in order to have a complete automatic process ? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 29, 2019, 5:32 PM",
          "AuthorName": "Max Longus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2408386&course=5",
          "role": [
            "Picture of Max Longus"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users without enrolling the web service user",
          "Text": "I have same situation, I need enrol a user without previously  enrolling the web service user in the course . Some idea? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 17, 2019, 11:16 AM",
          "AuthorName": "Elias Cisneros",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2575268&course=5",
          "role": [
            "Picture of Elias Cisneros"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users without enrolling the web service user",
          "Text": "Hey Max, I think this web service is restricted to logged in users. If you want you can create your own webservice function. You can easily enrol users in to course by creating your own webservice function. I have done this many times.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1553739/login.PNG?forcedownload=1"
          ],
          "Time": "Sunday, April 21, 2019, 2:24 PM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users without enrolling the web service user",
          "Text": "In order to enrol a student or a teacher in a course you must authorise the web service client user to assign those roles and this is managed in a reserved tab in the \"Role management\" page. Massimo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 9, 2020, 10:47 PM",
          "AuthorName": "Massimo Scali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1375646&course=5",
          "role": [
            "Picture of Massimo Scali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users without enrolling the web service user",
          "Text": "In this contemporary world, we all use more than one web service in our day to day life. A web service is any piece of software that makes itself available over the internet. It also can be the communication between electronic devices. click over here",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 20, 2020, 2:06 PM",
          "AuthorName": "Mily Rose",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2991598&course=5",
          "role": [
            "Picture of Mily Rose"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: enrol_manual_enrol_users without enrolling the web service user",
          "Text": "Searched in google for this without solution, so I did it by myself. Short answer: the user you use for your webservices need to allow the following capability: moodle/course:view (you need to allow moodle/role:assign too) Long answer: Probably you created a new role for handle webservices, based on user archetipe. You added all the needed capabilities (ie: enrol/manual:enrol to enrol users), but you get the error code: requireloginerror. This happens because the function enrol_users (enrol\\manual\\externallib.php) calls the function require_login (lib\\moodlelib.php). In require login, variable $access must be true or the require_login_exception will be trown. A way require_login set to true $access is with function is_viewing (lib\\accesslib.php): if (is_viewing($coursecontext, $USER)) { // Ok, no need to mess with enrol. $access = true; } Now, if you check function is_viewing, there is: if (!has_capability('moodle/course:view', $coursecontext, $user)) { // admins are allowed to inspect courses return false; } So adding capability moodle/course:view to your webservice user should achieve the task. Hope it helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 26, 2020, 9:54 PM",
          "AuthorName": "Brunetto Spinelli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2154049&course=5",
          "role": [
            "Picture of Brunetto Spinelli"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users without enrolling the web service user",
          "Text": "I would recommend looking at Massimo's suggestion - you can enable roles to assign other roles rather than creating a new webservice like seen here for the Web Service User role.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1674210/Snag_141a59e1.png"
          ],
          "Time": "Tuesday, December 15, 2020, 3:31 AM",
          "AuthorName": "Ben Kahn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1843974&course=5",
          "role": [
            "Picture of Ben Kahn"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 415268,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415268",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Communicate with moodle-DB using RESTful-API in VBA",
          "Text": "Hello everyone, I am trying to handle moodle data from our schools MS-Access database using VBA-code to post xml .objects that I also successfully used for an API communicating with Telegram (the messenger service). I tried to implement the following code from the RESTful-API example into my VBA-code: \n```text\ncurl -X POST \\\n-H \"Content-Type: application/x-www-form-urlencoded\" \\\n-H \"Accept: application/json\" \\\n-H 'Authorization: {token}' \\\n-d'options[ids][0]=6' \\\n\"https://localhost/webservice/restful/\nserver\n.php/core_course_get_courses\"\n```\n This is how my VBA-code looks like: Private Sub btnTestMoodleApi_Click() Dim objRequest As Object Dim strResult As String Dim strPostData As String Dim strURL As String Dim strToken As String Set objRequest = CreateObject(\"MSXML2.XMLHTTP\") strURL = xxx strToken = xxx strPostData = \"options[ids][0]=432\" With objRequest .Open \"POST\", strURL & \"/webservice/restful/server.php?wstoken={\" & strToken & \"}/core_course_get_courses\" .setRequestHeader \"Content-Type\", \" application/x-www-form-urlencoded\" .setRequestHeader \"Accept\", \"application/json\" .setRequestHeader \"Authorization\", \"{strToken}\" The error I get in MS-Access is rather useless to me (also changing some aspects as described below did not change the error message): \" - runtime error 2147483638 : The data necessary to complete this operation is not yet available I suspect the following error sources: a) I thought that \"-H\" means header, but the \".setRequestHeader\" method just accepts one variable and value. I guessed maybe I can use it several times. But I am not sure if that works. b) I guess that \"-d\" means data, I had no idea what to do with it, thus I put into the .send() method. I think that is where the html body goes. I could be utterly wrong... c) I nested the token for my API into the URL , because I saw it like this in another example. However the original instructions from the plugin do not have the token in the URL (only in the Authorization Header). I tried both ways, it did not work either way... I would be really glad if someone with experience in vba could help me, how to implement API instructions into the vba code or at least point me in the right direction. Actually I do not really need this particular core function but the more complex ones to create courses etc. But I thought it was best to start with an easy example as I don't know much about API/ xml/ php/ html etc.. Thanks for reading Arndt David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 11, 2020, 11:29 PM",
          "AuthorName": "Arndt David Graulich",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3932495&course=5",
          "role": [
            "Picture of Arndt David Graulich"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 415109,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415109",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Push Activities to A Mobile App",
          "Text": "I am trying to push our activities to a mobile app - the developer he can do it if we can get them in JSON format - the other option we are looking at is exporting our questions and creating our own database of questions to then send to the mobile app. We want the scoring to occur inside the app but I'm wondering if we can push the questions from our current Moodle questions banks...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 9, 2020, 1:57 AM",
          "AuthorName": "Tim F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337325&course=5",
          "role": [
            "Picture of Tim F"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 414166,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=414166",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_user_create_users does not validate custom fields",
          "Text": "Hello,\nI've searched the forum and don't see this question anywhere.  If there is already an answer please feel free to direct me to the discussion.  Apologies if this is a duplicate. When sending a request to the core_users_create_users endpoint custom field data is not validated in accordance with user profile fields settings I've created a profile field (text) which is set to be unique.  When trying to enter a non-unique value through the Moodle User Admin UI this rule is enforced.  When sending the create user request to core_user_create_users accounts are created with the same text in the field that should be unique by definition. In reviewing user/externallib.php:create_users function (lines 250-257, Moodle 3.7) it appears that there is no call to validate custom fields based on the rules for the field as defined. Thanks for your help. Brian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 20, 2020, 2:30 AM",
          "AuthorName": "Brian Braido",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3465383&course=5",
          "role": [
            "Picture of Brian Braido"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 413170,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=413170",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Php error",
          "Text": "Please how to solve attached error?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1665865/php%20error.PNG?forcedownload=1"
          ],
          "Time": "Monday, November 2, 2020, 10:33 PM",
          "AuthorName": "Sat Shwe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3811881&course=5",
          "role": [
            "Picture of Sat Shwe"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 412752,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=412752",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Service API Errors",
          "Text": "Hi there, We are having issues setting up an integration with the Moodle Web Services API of one of our clients. We were given a user auth token, which seems to authenticate properly (when used in an API call, we don't receive any auth-related errors from the API). Our main task is to manually enrol specific students into courses. We are trying to use the enrol_manual_enrol_users API route, but no matter how we make the request, we receive an invalid_parameter_exception. We have tried making this request in a number of ways, none of which have produced any other results. We have tried other API routes such as core_course_get_contents as sanity checks but receive the same errors. We are including moodlewsrestformat=json, wstoken={our_auth_token}, wsfunction and any route-specific arguments. Testing with Postman, we've tried: GET request,  all params are url query params POST request, all params are JSON body params POST request, all params are x-www-form-urlencoded POST request,  moodlewsrestformat, wstoken, wsfunction are url query params, route-specific arguments are JSON body params Once we are able to do this, we need to also query the API to fetch the userid of specific users by passing the value of a custom profile field called NetId that our client has created (students fill this in when they create their accounts). How would we go about this? Using Moodle 3.9.1+ (Build: 20200717)\non ubuntu. Thanks, Francesco",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 26, 2020, 6:36 AM",
          "AuthorName": "Francesco Virga",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3790857&course=5",
          "role": [
            "Picture of Francesco Virga"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 412658,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=412658",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web service error",
          "Text": "Hi, We are running a Moodle version 383 in a Ubuntu Linux server . When I was trying to call this function: core_enrol_get_enrolled_users from the web service, I am getting this error: \n```text\n{\"exception\":\"moodle_exception\",\"errorcode\":\"errorcoursecontextnotvalid\",\"message\":\"You cannot execute functions in the course \ncontext\n```\n \n```text\n(course id:157). The context error message was: Site policy not agreed: <a href=\\\"https:\\/\\/lms.rcmstg.com\\/lms\\/admin\\/tool\\/policy\\/index.php\\\">Click here to open the site policy.<\\/a>\"}\n```\n We created a user with auth method: web service. What am I missing? Can somebody give me some clues, please? Thanks for your help, Carlos",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 23, 2020, 3:47 AM",
          "AuthorName": "Carlos Chiarella",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=70315&course=5",
          "role": [
            "Picture of Carlos Chiarella"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 412503,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=412503",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle Web service: core_enrol_submit_user_enrolment_form function is not working",
          "Text": "Hi Team, I am using Moodle version 3.9.2 and Moodle web service documentation https://docs.moodle.org/dev/Web_service_API_functions for my development. I want to update user enrolment end timestamp but in API documentation /admin/webservice/documentation.php core_enrol_edit_user_enrolment function is deprecated. Message : ** DEPRECATED ** Please do not call this function any more. External function that updates a given user enrolment So I am using core_enrol_submit_user_enrolment_form function as alternative of core_enrol_edit_user_enrolment . But I am getting error Array ( [exception] => invalid_parameter_exception [errorcode] => invalidparameter [message] => Invalid parameter value detected ) Using http://github.com/llagerlof/MoodleRest for REST API development. Can any one tell me the correct parameters( i.e.  formdata) for core_enrol_submit_user_enrolment_form ? So I can easily update user enrolment end timestamp. Thanks, Mangesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 20, 2020, 7:00 PM",
          "AuthorName": "Mangesh Nadekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3523790&course=5",
          "role": [
            "Picture of Mangesh Nadekar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 411625,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=411625",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "how to build and integrate plugins in moodel",
          "Text": "hello i'am new to moodel , help me to work out with the plugin development and the basic requirements . what are the languages support for the plugin development that support moodel?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 4, 2020, 4:32 PM",
          "AuthorName": "tooople ltd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3603270&course=5",
          "role": [
            "Picture of tooople ltd"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: how to build and integrate plugins in moodel",
          "Text": "Hey Tooople ltd, Please go through documentation \" https://docs.moodle.org/dev/Plugin_files \". For plugin development basic language is PHP (Moodle developed on PHP)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 16, 2020, 7:15 PM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 401426,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=401426",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle Web services - Secure ???",
          "Text": "Hi all, I am trying to integration my external application which is developed into Java and Angular technology with Moodle. Moodle has process to create web service token, Site adminstration => Plugins => Web Service => Manage token Enabled all required setting for moodle web services.  Add new web service. My Question is that IF WEB SERVICE TOKEN LOST THEN ANYONE CAN ACCESS MY WEB SERVICES. How to validated my token is coming from valid domain ??? OR How to call my external API to check valid request before calling any Moodle web service / API Please correct me Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 22, 2020, 2:39 PM",
          "AuthorName": "Nilesh Pathade",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255217&course=5",
          "role": [
            "Picture of Nilesh Pathade"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle Web services - Secure ???",
          "Text": "Hello Nilesh, I have same concern, Could you find any solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2020, 7:15 PM",
          "AuthorName": "Aruna Kathiriya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399654&course=5",
          "role": [
            "Picture of Aruna Kathiriya"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Web services - Secure ???",
          "Text": "Hi Aruna, I am writing a code with Server side language (JAVA), ( You can use any other as well) as middleware API script. So  UI will call that Middleware API without any token then validate your call on middleware and call to moodle from middleware. That is best way to make secure your APIs calls.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2020, 11:57 PM",
          "AuthorName": "Nilesh Pathade",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255217&course=5",
          "role": [
            "Picture of Nilesh Pathade"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Web services - Secure ???",
          "Text": "Thanks for sharing your idea. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 2, 2020, 7:20 PM",
          "AuthorName": "Aruna Kathiriya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399654&course=5",
          "role": [
            "Picture of Aruna Kathiriya"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 397912,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397912",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Saving files as submission to assignment",
          "Text": "Hello, i have problem to save file as submissions to assignment through web services. I cannot save submission for specific user. I can only save submission for user, that call webservices. How can i rework web service chain below? It is even possible? I have used with this specific order: 1, core_files_upload (this will save draft of file to moodle) mymoodle/webservice/rest/ server .php?component=user&filearea=draft&itemid=0&filepath=/&contextlevel=user&instanceid=9280&wstoken=xxxxxxxxxxxxxxxxxxx&wsfunction=core_files_upload&moodlewsrestformat=json&filename=aa.txt&filecontent=ZHNhZGE= 2, mod_assign_get_assignments (this will get id of assigments for courses for user) mymoodle/webservice/rest/server.php?wstoken=xxxxxxxxxxxxxxxxxxx&wsfunction=mod_assign_get_assignments&moodlewsrestformat=json 3, mod_assign_save_submission (this will save submission as i want) mymoodle/webservice/rest/server.php?wstoken=xxxxxxxxxxxxxxxxxxx&wsfunction=mod_assign_save_submission&moodlewsrestformat=json&assignmentid=8&plugindata[onlinetext_editor][text]=aaa&plugindata[onlinetext_editor][format]=1&plugindata[onlinetext_editor][itemid]=889967549&plugindata[files_filemanager]=889967549 4, file is uploaded and saved in submission I have found that i can create for every user ws token (but i dont have passwords and dont want to, cause it is not practical). P.S. Im not .php dev, so i'll hope i can use only ws. Thanks for help!! Jozef K. Moodle 3.7 (for now)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 5, 2020, 7:10 PM",
          "AuthorName": "Jey key",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2485096&course=5",
          "role": [
            "Picture of Jey key"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Saving files as submission to assignment",
          "Text": "Hi Jozef, I think you are the only one who made a full \"save assignment\" flow as developer. Now, answering your question, to chain all webservices using the same security token, you must store it in some place where all remaining calls can use it. That why a programming language makes the magic, so, if you are using only web services calls, can you explain which tools are you using, for example Postman? You said that you aren't a PHP developer, which language are you using? PS: Using third point (mod_assign_save_submission) have you ever got this error: \"Could not save submission, nothing was saved\". I don't pass from this point, any idea?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 2, 2020, 12:46 PM",
          "AuthorName": "Rigoberto Peña Cabrera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3680085&course=5",
          "role": [
            "Picture of Rigoberto Peña Cabrera"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Saving files as submission to assignment",
          "Text": "Hi Rigoberto, i dont exactly remember whole process, i was having multiple problems (your error sound similar) and in the end i dropped this idea of feature for now. I think moodle ws are great, but i am missing some features and i hope in future moodle will get this work better. If ill have some time, i will do testing for your error, but i dont promise that (busy times). For now we are thinking about making some .php code with moodle functions to maybe create own web service, or plugin with this - we will see. And for personal info - im using Postman/ARC and im java dev... our company using moodle to some courses - mainly scorms and light administration. Whole logic is created in java - email notifications, display courses, additional administrations of users, ui for HR people and more - our internal system for employees and management. And here we want to have something like that, that people can save assignments from external app, as is ours.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 2, 2020, 2:01 PM",
          "AuthorName": "Jey key",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2485096&course=5",
          "role": [
            "Picture of Jey key"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 411046,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=411046",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get uses suspended enrolled in a course",
          "Text": "Hi. I would like to retrieve all users enrolled in a course that have been suspended using Moodle 3.8's web service funtions. Unfortunately, the suspended field seems to be absent from the API function `core_enrol_get_enrolled_users` I normally use. I searched the web service API functions and found `core_enrol_search_users` that has a suspended field, however, it is marked as optional. And here comes the problem: When I call the function the optional fields are not returned. The function asks for the permission `moodle/course:viewparticipants` but I cannot see how I can add these permissions to my user since the API user has already sys admin privileges..? Can anybody suggest a solution. Any help is highly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 24, 2020, 5:29 AM",
          "AuthorName": "Florian Grimps",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2465949&course=5",
          "role": [
            "Picture of Florian Grimps"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 410187,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410187",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle Authentication Using an External Web Service",
          "Text": "Hi, Folks, I have an external web service for authentication in my company and I'd like to connect Moodle with it, but I'm not being able to do it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 10, 2020, 2:09 AM",
          "AuthorName": "Nikhil Gadapa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3550844&course=5",
          "role": [
            "Picture of Nikhil Gadapa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 409853,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409853",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_course_get_courses fails with large return values",
          "Text": "I’m dealing with an external app integrated into Moodle via webservices. Their app syncs our course data via a Moodle API call of core_course_get_courses, but the sync is failing currently at about 5 minutes. I’m trying to figure out why it’s failing and trying to test/debug the API call they use. The API requests all courses from Moodle along with some JSON parameterized data about each course. I find that if I set an option in the call to only get one or a few courses it works fine. But when it runs without options and tries to get all 24K courses in the system (yes we have a lot of courses going back 6+ years) it fails with a generic Error: read ECONNRESET I’ve grepped the Apache logs and don’t see that error anywhere. I can run the call on dev, which has a lot fewer courses, with no issues. I’ve asked the vendor engineers if they could possibly use one of the other Moodle APIs that looks for a subset of courses but they have not been willing to switch that up on their end. Other than that the issue seems to be related to the size of the response Moodle is processing I’m not sure how to troubleshoot…I don’t think it’s a timeout issue as that would be a different error (I think)…. I’ll look at some of the server tuning on dev to see if maybe I can recreate the error. I'm on Moodle 3.6.10 on a self hosted LAMP cluster running CentOS 6.10 and PHP 7.0",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 4, 2020, 3:39 AM",
          "AuthorName": "Ben Kahn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1843974&course=5",
          "role": [
            "Picture of Ben Kahn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_course_get_courses fails with large return values",
          "Text": "I was able to resolve this by changing some Apache settings: I enabled KeepAlive connections, set Max Keepalives to 500, and set KeepAlive timeout to 360 seconds. After that the API call worked when testing, and the external app was able to sync courses. This DID make my server unhappy the next morning when more than 500 people were logged in at once and I had to quickly revert to my old settings. ALWAYS keep a backup of your config files when making changes!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, September 8, 2020, 5:24 AM",
          "AuthorName": "Ben Kahn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1843974&course=5",
          "role": [
            "Picture of Ben Kahn"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 409629,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409629",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "File link not returning from core_user_get_users",
          "Text": "Hi I'm using profile user fileupload field plugin, then using core_user_get_users API function to retrieve users custom fields file but only 0 value returning while user added their file. any help will be much appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 31, 2020, 4:07 PM",
          "AuthorName": "Azmat Ullah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2583080&course=5",
          "role": [
            "Picture of Azmat Ullah",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 409164,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409164",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "What is web Sevices FAQ",
          "Text": "This is the FAQ page for the Web Services and Related Technologies forum. https://192routerlogin.com/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 22, 2020, 2:37 AM",
          "AuthorName": "Robert Tom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3472867&course=5",
          "role": [
            "Picture of Robert Tom"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 408066,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=408066",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Does a token take memory space while it is valid?",
          "Text": "Hi, I've been testing web service api using the user's mobile app token via postman. and I'm wondering if the user tokens are created successfully and listed in the manage tokens page (site admin - plugins - web service) with 'valid until', would this affect the moodle performance if there are lots of tokens stored? (let's say 20k) or take/park the space in the memory until it expires and slows down the performance somehow? Any tips or guides to check how this can be affected to the service performance would be appreciated. I found the Moodle Tracker topic that tests creating tokens then loads the manage token page but it doesn't appear to be affecting too much to me. (Please correct me if I'm wrong) https://tracker.moodle.org/browse/MDL-28574?attachmentOrder=desc Thank you in advance",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, July 31, 2020, 5:18 PM",
          "AuthorName": "Lucy Hong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3107796&course=5",
          "role": [
            "Picture of Lucy Hong"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 407511,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=407511",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Uploading Course Banner from External Platform",
          "Text": "Hi everyone, I am currently developing a system where I can update Moodle LMS from an external platform. So\nfar, I have no problem on creating and updating the courses' details using the\nweb API. However, I hit a dead-end when it comes to uploading the course\nimage. I've read the documentation for the Web API and I cant\nfind any function that suited my need. The closest thing that I can use\nis \"core_files_upload\", but this does not point the uploaded file as a\ncourse banner. Is it possible to point the uploaded file as a course\nimage using \"core_files_upload\" function? If so, can someone guide me on how to achieve this? Thank You!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1644657/Moodle-Exp1.png?forcedownload=1"
          ],
          "Time": "Wednesday, July 22, 2020, 9:18 AM",
          "AuthorName": "John Vincent Villanueva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3151560&course=5",
          "role": [
            "Picture of John Vincent Villanueva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 407125,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=407125",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Policies and User Agreements",
          "Text": "Are there web services to manage/query policies and user agreements? I can't find any in the API documentation but perhaps we're on an older version and they're not there in our instance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 15, 2020, 7:51 AM",
          "AuthorName": "Matt Hamilton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2862143&course=5",
          "role": [
            "Picture of Matt Hamilton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 406540,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=406540",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "webservices",
          "Text": "Hi, I'm developing a client application for android. I've started developing using the OKTech, but unfortunately I've discovered (later) that are not compatible with shibboleth . https://moodle.org/mod/glossary/showentry.php?eid=4739&displayformat=dictionary The first version I've to implement should use the normal account but should be developed thinking that it will be extended to shibboleth. I was thinking to extend the moodleRest library, firstly with a normal login that maintain the normal session key. There is someone that have already developed some web services (like login, etc.) so that I could start extending the library? And more important there is someone that knows how should be extended the services so that will work with shibboleth? Thank you ! Ring of fire",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 5, 2020, 10:16 PM",
          "AuthorName": "Digitally Learn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2618319&course=5",
          "role": [
            "Picture of Digitally Learn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: webservices",
          "Text": "try google search.....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 5, 2020, 10:28 PM",
          "AuthorName": "shikher goyal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3374762&course=5",
          "role": [
            "Picture of shikher goyal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservices",
          "Text": "I have tried did not find any useful information.....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 5, 2020, 10:33 PM",
          "AuthorName": "Digitally Learn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2618319&course=5",
          "role": [
            "Picture of Digitally Learn"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 403825,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403825",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "PowerShell Module",
          "Text": "Hi gang, Thought I'd post here since if you're using web services you might also be a PowerShell wonk like me. I've created a Moodle module that uses the web services. We've been using it in production for the better part of this year with no issues. We use it to provision new users and enrol them in courses. The module is open source and I'm happy to take suggestions (or pull requests) if there's functionality you need! You can find it on GitHub here: https://github.com/WodongaTAFE/PSMoodle and install it from the PowerShell Gallery using Install-Module. Cheers, Matt",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 22, 2020, 9:09 AM",
          "AuthorName": "Matt Hamilton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2862143&course=5",
          "role": [
            "Picture of Matt Hamilton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: PowerShell Module",
          "Text": "Hi Matt, I'm a total novice with regards to Powershell and am currently fighting with powershell and the Moodle API to automatically provision a part of our Moodle installation. I have researched the API to find all the url's I need to make to do everythin I want, but am now thinking on how to proceed. I think there are 2 options, but maybe you can advise me on how to proceed? 1) Use Invoke-restmethod to create everything manually 2) Expand on your modules The second is much harder for me I think, what would your advise be to a novice powershell user? Thanks, Pieterjan Heyse",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 15, 2020, 6:24 PM",
          "AuthorName": "Pieterjan Heyse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16562&course=5",
          "role": [
            "Picture of Pieterjan Heyse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: PowerShell Module",
          "Text": "Happy to help! What part of the API that you use is missing from the PowerShell module? Maybe I can build something out. Feel free to log it as an \"issue\" on GitHub too!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 16, 2020, 5:34 AM",
          "AuthorName": "Matt Hamilton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2862143&course=5",
          "role": [
            "Picture of Matt Hamilton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: PowerShell Module",
          "Text": "These are the calls I currently need and hacked some code together for: core_course_create_categories core_course_create_courses core_group_create_groups core_cohort_search_cohorts local_ws_enrolcohort_add_instance enrol_manual_enrol_users core_course_import_course By hacking I mean that I'm doing something like this for those calls:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 16, 2020, 10:14 PM",
          "AuthorName": "Pieterjan Heyse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16562&course=5",
          "role": [
            "Picture of Pieterjan Heyse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: PowerShell Module",
          "Text": "Yep you're correct - I haven't covered groups at all, and I've only got courses covered in terms of searching rather than creating. Good excuse to build it out a bit! The local_ws one I'm not sure about. I kinda want to make sure I'm covering the core endpoints before I worry too much about plugins. Isn't there a built-in way to enrol a cohort into a course (i.e. as soon as a user is added to a cohort they get enrolled in the course)? I'm reasonably new to Moodle but I remember seeing that somewhere.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2020, 5:10 AM",
          "AuthorName": "Matt Hamilton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2862143&course=5",
          "role": [
            "Picture of Matt Hamilton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: PowerShell Module",
          "Text": "I'm afraid not. In the UI you can add a cohort to a course and at that time ask Moodle to create a group in that course with the same name. The API does not provide this functionality and I think I had to add this plugin to be able to do this with the API. It's a good excuse to learn git , more Powershell and use my github account to upload the code I'll try to make to extend your functionality. I'll get in touch if I have it working to maybe integrate this back in your code? I don't know how this would go, but this seems like a nice idea. Totally new to all this stuff... Thanks, Pieterjan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2020, 3:11 PM",
          "AuthorName": "Pieterjan Heyse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16562&course=5",
          "role": [
            "Picture of Pieterjan Heyse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: PowerShell Module",
          "Text": "Ok this morning I've added a bunch of new functions for you. Get-MoodleGroup Get-MoodleGroupMember New-MoodleGroup Set-MoodleGroup Remove-MoodleGroup New-MoodleCourseCategory Set-MoodleCourseCategory Remove-MoodleCourseCategory Copy-MoodleCourse That'll cover off a bunch of your requirements. I've left some comments on your GitHub issue as well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2020, 9:04 AM",
          "AuthorName": "Matt Hamilton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2862143&course=5",
          "role": [
            "Picture of Matt Hamilton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: PowerShell Module",
          "Text": "This looks great!  I'm just wondering, is there any way that as an ordinary user I could possible use PowerShell in order to do routine tasks in the command line rather than the GUI e.g. download turnitin assignments, upload files, log in, remove content and so on. Or am I living in a make-believe-dream-land?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, June 29, 2020, 12:54 PM",
          "AuthorName": "GK Chesterton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3361207&course=5",
          "role": [
            "Picture of GK Chesterton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: PowerShell Module",
          "Text": "Good question! I'm not sure what web service endpoints there are for student activities , but if they exist I'm sure we could make cmdlets for them. The permissions model is pretty robust - I've noticed that if I try to use New- or Set- cmdlets when connected to the Moodle sandbox it won't work, so it's definitely possible to lock a user out from certain functionality.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 29, 2020, 1:30 PM",
          "AuthorName": "Matt Hamilton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2862143&course=5",
          "role": [
            "Picture of Matt Hamilton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 405978,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=405978",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "REST api to un enrol LTI user is not working",
          "Text": "Hi All Need help in solving my issue 1. User created using Publish as LTI tool is not able to unenroll using REST API enrol_manual_unenrol_users 2. U nenrolling\nLTI user from course using API enrol_manual_unenrol_users is not working and it is returning null. 3. many of the moolde rest apis are returning null when it is success. I am using moodel 3.8 thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 25, 2020, 9:50 PM",
          "AuthorName": "Zuheb A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2411153&course=5",
          "role": [
            "Picture of Zuheb A"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 405958,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=405958",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Hot to retrieve courses of logged in user through Rest API",
          "Text": "I'm developing rest client for retrieving corresponding data based on user. In this case I want to fetch enrolled courses of a student. Does moodle provide an api for that?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 25, 2020, 5:16 PM",
          "AuthorName": "Elshan Akbarov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3352575&course=5",
          "role": [
            "Picture of Elshan Akbarov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 398905,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=398905",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Cannot add functions to service",
          "Text": "Dear All, I just reinstalled Moodle version 3.8.1 build 20200113. Everything seems OK. But when I tried to add some functions to the Moodle mobile web service, I got the the following Error \"Coding error detected, it must be fixed by a programmer: Cannot find file with external function implementation\" The link to API Documentations gave me the same error message. So did I miss some files during the installation? Many thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 25, 2020, 1:36 AM",
          "AuthorName": "Son TRAN",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2912806&course=5",
          "role": [
            "Picture of Son TRAN"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cannot add functions to service",
          "Text": "Have also run into this error.  Found it occurring when a plugin declares a web service function in /db/services.php and the classpath parameter - which should be the path to the externallib.php file - is not the correct path.  This can happen after updating plugin names/paths or if externallib.php is in an unusual location. The error doesn't currently specify which plugin is the culprit, but have been able to narrow down with a couple steps: 1) Get a list of all the actual externallib.php paths  - e.g. here's a quick command: find . -name \"externallib.php\" 2) Compare the paths in (1) with the classpath values in the mdl_external_functions DB table. Suggest starting with custom or 3rd-party plugins, they are far more likely suspects than core. There should be one or more paths that do not match; those are the ones where you'll then want to update the classpath parameter in /db/services.php. Also previously encountered a similar/related error, \"Cannot find external class\".  Noticed this occurred because the web service class name or other parameters were updated in an existing plugin, but the version was not bumped in version.php, so the mdl_external_functions table in the DB had outdated information for classname/path/etc. Solution in that case was to bump the plugin minor version number - e.g. from 2020061800 to 2020061801. Hope you got it solved!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 19, 2020, 12:47 AM",
          "AuthorName": "John Doyle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2150656&course=5",
          "role": [
            "Picture of John Doyle"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 396694,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396694",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "\"No permission to create web service token for the service\" with custom service",
          "Text": "I've gone through the forums and google and can't seem to get this working. I've followed the documentation to create a new custom webservice with only a handful of functions. I modified the authenticated role to allow for a token to be created but I still receive this error. I would gather I'm missing something minor. Are there any gotchas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 6, 2020, 4:55 AM",
          "AuthorName": "Brian Y",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=811499&course=5",
          "role": [
            "Picture of Brian Y"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"No permission to create web service token for the service\" with custom service",
          "Text": "turns out the user was a site admin which prevented the token from being created.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 6, 2020, 6:55 AM",
          "AuthorName": "Brian Y",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=811499&course=5",
          "role": [
            "Picture of Brian Y"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"No permission to create web service token for the service\" with custom service",
          "Text": "Thanks, Brian!! Save my day!! Ricardo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2020, 4:06 AM",
          "AuthorName": "Ricardo Caiado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49398&course=5",
          "role": [
            "Picture of Ricardo Caiado",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"No permission to create web service token for the service\" with custom service",
          "Text": "Hey, I was wondering how you fixed the problem of a site admin not being able to create a token? I might be having a similar problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 11, 2020, 1:47 AM",
          "AuthorName": "Sarita Phoosopha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3319647&course=5",
          "role": [
            "Picture of Sarita Phoosopha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"No permission to create web service token for the service\" with custom service",
          "Text": "Hi, Sarita. Create a regular account and use it as your \"site admin\": http://sandbox.ambientevirtual.nce.ufrj.br/admin/roles/admins.php That´s how I solve my problem. Ricardo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 11, 2020, 2:33 AM",
          "AuthorName": "Ricardo Caiado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49398&course=5",
          "role": [
            "Picture of Ricardo Caiado",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"No permission to create web service token for the service\" with custom service",
          "Text": "Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 11, 2020, 7:38 AM",
          "AuthorName": "Sarita Phoosopha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3319647&course=5",
          "role": [
            "Picture of Sarita Phoosopha"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 405092,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=405092",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_group_get_activity_allowed_groups giving errors",
          "Text": "Hi, I am using Rest to call the core_group_get_activity_allowed_groups function, but I keep getting the error {'exception': 'moodle_exception', 'errorcode': 'guestsarenotallowed', 'message': 'The guest user is not allowed to do this'} even though I am an admin. I have made sure that REST is enabled and I am able to call other functions such as core_group_get_course_user_groups which requires a login as well. I'm not really sure why else I am getting this error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 10, 2020, 11:43 PM",
          "AuthorName": "Sarita Phoosopha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3319647&course=5",
          "role": [
            "Picture of Sarita Phoosopha"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 397660,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397660",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "core_grades_update_grades: componet and activityid for manual grade item",
          "Text": "Hello. I'm trying to update a student manual grade item using the webservice but the 'core_grades_update_grades' function requires component and activityid, a manual grade item don't have activityid and I don't know the string I have to use as component/module for a manual grade item (someone of the mdl_modules?). Does anyone know if it is possible to modify the values of a manual grade item using a webservice? I can update a scorm grade without problem. Regards, Roberto.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 28, 2020, 8:16 PM",
          "AuthorName": "Roberto Bravo Diaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2025797&course=5",
          "role": [
            "Picture of Roberto Bravo Diaz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "回复: core_grades_update_grades: componet and activityid for manual grade item",
          "Text": "Can you tell me how to  to update a student activity grade item using 'core_grades_update_grades' function？ thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 29, 2020, 9:09 PM",
          "AuthorName": "spoony liu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1453290&course=5",
          "role": [
            "Picture of spoony liu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回复: core_grades_update_grades: componet and activityid for manual grade item",
          "Text": "Hi Spoony Liu. Look this screenshot",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1604151/update_grade.png"
          ],
          "Time": "Monday, March 2, 2020, 5:42 PM",
          "AuthorName": "Roberto Bravo Diaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2025797&course=5",
          "role": [
            "Picture of Roberto Bravo Diaz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回复: Re: 回复: core_grades_update_grades: componet and activityid for manual grade item",
          "Text": "The correct grade value is posted successfully. However, the feedback string doesn't show. Can you help with this please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 16, 2020, 5:06 PM",
          "AuthorName": "spoony liu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1453290&course=5",
          "role": [
            "Picture of spoony liu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_grades_update_grades: componet and activityid for manual grade item",
          "Text": "Hi Roberto, Did you achive updating a student manual item? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 9, 2020, 6:30 AM",
          "AuthorName": "Jesus Marquez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1784464&course=5",
          "role": [
            "Picture of Jesus Marquez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 404790,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=404790",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "REST API and Deep Links",
          "Text": "Is there a web service api call that lets you create deep links?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 5, 2020, 6:56 PM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 404712,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=404712",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Cant find API functions for global groups",
          "Text": "Hi I can't find a way to read out membership of global groups via webservices. Any Idea, how to do that? Thanx, WE",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 4, 2020, 9:23 PM",
          "AuthorName": "We Be",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3305507&course=5",
          "role": [
            "Picture of We Be"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 404002,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=404002",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Coldfusion with Angular and Moodle",
          "Text": "Hello, I am a developer attempting to integrate Moodle with Java & Coldfusion and possibly with an Angular front-end. The website is an online real estate school, https://www.vaned.com/ . Anyone have experience with integrating with Java or Coldfusion?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 25, 2020, 4:18 PM",
          "AuthorName": "Thomas Culver",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2597556&course=5",
          "role": [
            "Picture of Thomas Culver"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 403587,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403587",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Launch a course using web services",
          "Text": "Hello All, I am very new to moodle, So please forgive me if i ask a stupid question. I searched for quite sometime before posting the  questions. We are trying to create a new interface for Moodle using moodle web service. We were able to login, logout and get list of course assigned to a user using token. Now, we are trying to launch a particular course from our interface. But we are not finding in any method in web services using which we can launch the course from our interface.  We tried using player.php but it is asking us to login again as we are using token for login. Any help in this regard would be great. Thanks in advance Rishi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2020, 3:51 PM",
          "AuthorName": "Sumeet kumar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3258955&course=5",
          "role": [
            "Picture of Sumeet kumar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 403570,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403570",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to get logged in userid ?",
          "Text": "Hi, is there a way to get the id (or user info) of the currently logged in user using web services? I have a subdomain that needs to check if a user is already logged in and display data. Could be also useful in order to display user info in the navbar. Thanks for the help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2020, 6:25 AM",
          "AuthorName": "Magal H",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1973933&course=5",
          "role": [
            "Picture of Magal H"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 403160,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403160",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "User enrolments with roles",
          "Text": "Hi I am using the Moodle API to get the courses that a user is enrolled in. I use the wsfunction \"core_enrol_get_users_courses\" to do this. I am using a token that belongs to a \"service/admin user\" and not the actual user, using the \"moodle_mobile_app\" service. I don't have access to the database , only the Moodle API. But by using core_enrol_get_users_courses, it seems like it will return all courses without any role definition or status. I would like to get only the courses that the user is f.ex \"teacher\" or \"editingteacher\". Or in another scenario, only the courses where the user is \"student\" or \"guest\". Another thing I would like is to only get courses that are in progress. Aka not courses that are marked \"hidden\" or has an \"enddate\" back in time or \"startdate\" in the future. Is that possible to get through the API without having customizations to the Moodle installation?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 13, 2020, 3:23 PM",
          "AuthorName": "Mats Magnem",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3239321&course=5",
          "role": [
            "Picture of Mats Magnem"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 400672,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=400672",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Get a user created by core_user_create_users using core_user_get_users",
          "Text": "Hello, I'm trying to do a script PHP using MoodleRest ( https://github.com/llagerlof/MoodleRest ) to create a user (if it doesn't exist), i can find users created manually (probably because they are using the website..., when newly created accounts are not using it yet). I use core_user_create_users if core_user_get_users or core_user_get_users_by_field returns no user, but if i run my script twice  : imagine a administrator who is confirming a course enrollment for a new user, the second time the user is created already and core_user_get_users needs to return the user id, but because the user didn't connect in the time between (i think), core_user_get_users return nothing. Is this intended ? My ultimate goal is to get the user id to use enrol_manual_enrol_users.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 14, 2020, 11:20 PM",
          "AuthorName": "Vincent LEPELLEY",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3128337&course=5",
          "role": [
            "Picture of Vincent LEPELLEY"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get a user created by core_user_create_users using core_user_get_users",
          "Text": "Hi Vincent. MoodleRest dev here. This class is just an easier way to query Moodle webservices. It runs synchronous, so if you call a core_user_create_users using this class you will get the same result of querying the webservice manually. Well, without your code I can't check the problem, but we can review some important items to make your ultimate goal a reality. - The core_user_create_users accepts a list of users, but if just one of them generates an error like a duplicated username or missing email, none is inserted and an error is returned by the webservice. If the function added all the users succefully a list of IDs is returned. - core_user_get_users don't accept a list of usernames or emails, so you must query one by one. Said that, I wrote an example for your specific scenario: \n```text\n<?php\n// Load the MoodleRest class\nrequire_once('MoodleRest.php');\n\n// Put your webservice url\n$webservervice_url = '\nhttp://127.0.0.1/moodle/webservice/rest/server.php'\n;\n\n// Put a token that have \npermission\n to execute core_user_get_users and core_user_create_users\n$token = '07284be04dc3e8c48c0da131a8f8e40f';\n\n// Instantiate a MoodleRest object\n$MoodleRest = new MoodleRest($webservervice_url, $token);\n\n// Query user\n$username = 'buddy';\n$query_user['criteria'][0] = array('key' => 'username', 'value' => $username);\n$result_query = $MoodleRest->request('core_user_get_users', $query_user);\n\n// Test if an exception was returned when querying the user data\nif (!empty($result_query['exception'])) {\n    print_r(array('Error querying user', $result_query));\n    die();\n}\n\n// Check if the user was returned. If not, create him\nif (empty($result_query['users'][0]['id'])) {\n    $people['users'][0] = array(\n        'username' => $username,\n        'password' => '123456',\n        'firstname' => 'Buddy',\n        'lastname' => \"Revell ($username)\",\n        'email' => $username . '@email.fake'\n    );\n    $result_insert = $MoodleRest->request('core_user_create_users', $people, MoodleRest::METHOD_POST);\n\n    // Test if an exception was returned when creating the user\n    if (!empty($result_insert['exception'])) {\n        print_r(array('Error creating user', $result_insert));\n        die();\n    }\n\n    print_r(array('Created user', $result_insert));\n} else {\n    print_r(array('Returned user', $result_query));\n}\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 27, 2020, 10:20 PM",
          "AuthorName": "Lawrence Lagerlof",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2453361&course=5",
          "role": [
            "Picture of Lawrence Lagerlof"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 401621,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=401621",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Unable to get submissions of group assignment",
          "Text": "Some teachers of the university I work for would like to automate assignment grading (especially coding tasks). However when I call the \" mod_assign_get_submissions\" REST function on an assignment with groups submissions enabled no response contains a file url: Compare: \n```text\n...,\n{\n  \"id\": 226969,\n  \"userid\": 133163,\n  \"attemptnumber\": 0,\n  \"timecreated\": 1587614003,\n  \"timemodified\": 1587614003,\n  \"status\": \"submitted\",\n  \"groupid\": 0,\n  \"plugins\": [\n    {\n      \"type\": \"file\",\n      \"name\": \"Dateiabgabe\",\n      \"fileareas\": [\n        {\n          \"area\": \"submission_files\",\n          \"files\": []\n        }\n      ]\n    },\n    {\n      \"type\": \"comments\",\n      \"name\": \"Submission comments\"\n    }\n  ],\n  \"gradingstatus\": \"notgraded\"\n},\n...\n```\n to a response of an \"ungrouped assignment\": \n```text\n...,\n{\n  \"id\": 1,\n  \"userid\": 2,\n  \"attemptnumber\": 0,\n  \"timecreated\": 1587310028,\n  \"timemodified\": 1587325597,\n  \"status\": \"submitted\",\n  \"groupid\": 0,\n  \"plugins\": [\n    {\n      \"type\": \"file\",\n      \"name\": \"File submissions\",\n      \"fileareas\": [\n        {\n          \"area\": \"submission_files\",\n          \"files\": [\n            {\n              \"filename\": \"code.zip\",\n              \"filepath\": \"/\",\n              \"filesize\": 1019,\n              \"fileurl\": \"\nhttps://127.0.0.1/webservice/pluginfile.php/27/assignsubmission_file/submission_files/1/code.zip\n\",\n              \"timemodified\": 1587325596,\n              \"mimetype\": \"application/zip\",\n              \"isexternalfile\": false\n            }\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": \"comments\",\n      \"name\": \"Submission comments\"\n    }\n  ],\n  \"gradingstatus\": \"notgraded\"\n},\n...\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 24, 2020, 5:55 AM",
          "AuthorName": "Nils Kattenbeck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3150110&course=5",
          "role": [
            "Picture of Nils Kattenbeck"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 388016,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=388016",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Get roles Webservice API",
          "Text": "Hello everyone, I wanted to know if it was possible to get the roles of a user via the webservice. I haven’t found any endpoints to do that, and the only answers told me to go through the database , but I don’t have access to it. Is there a way to do that? Thank you and have a nice day !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 2, 2019, 5:16 PM",
          "AuthorName": "Venel Romain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2609742&course=5",
          "role": [
            "Picture of Venel Romain"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get roles Webservice API",
          "Text": "Hi Venel, in my opinion there is no such webservice. What do you want to achieve? Maybe there is another way to do that. Best regards Andreas",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 5, 2019, 8:27 PM",
          "AuthorName": "Andreas Grabs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36220&course=5",
          "role": [
            "Picture of Andreas Grabs",
            "Picture of Core developers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get roles Webservice API",
          "Text": "I work with some schools that own a Moodle. I can retrieve school users and integrate them directly into my platform through a middleware. I also need the roles of the users but the Moodle api does not allow to get roles. I don’t know if there’s any other way to do that. Thanks again for your time.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 5, 2019, 8:52 PM",
          "AuthorName": "Venel Romain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2609742&course=5",
          "role": [
            "Picture of Venel Romain"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get roles Webservice API",
          "Text": "Hi Venel, I am sorry, but you still keep saying the same things like in the german forum. As I said, there is no webservice to get the roles of a user. But if you'd tell us what do you want to do, maybe there is an alternative way to achieve your goal. If you want to get all users from course for example you maybe can use the webservice function: \"core_enrol_get_enrolled_users_with_capability\". By naming the capability you could differ between students and teachers. The problem with roles is that they can be changed without to inform the external system. Capabilities for example always are the same. Best regards Andreas",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 6, 2019, 3:51 AM",
          "AuthorName": "Andreas Grabs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36220&course=5",
          "role": [
            "Picture of Andreas Grabs",
            "Picture of Core developers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get roles Webservice API",
          "Text": "Hello everyone, We have users (teachers and students) stored in an ldap tree. We wrote a Flask/Python-tool to synchronize our users cohorts and courses (to moodle and nextcloud simultaneously). When users are logging in manually they automatically get a role (student). When teachers are logging in, they get the role editingteacher by their ldap group. The tool will create all users so that we can enrol them to their courses before the term starts. I can see all roles with names and shortnames in https://m.corvi.schule/admin/roles/manage.php and within the database. But when enroling a user to a course, I need to know the role id (int). And I see no way so far to get this role id using the rest api(e.g. from role shortname). Any hint/idea? Or maybe another approach to what we would like to accomplish? So far we are creating a dummy course \"role template\" with administrator in it. Then we can get the roles from there. But this has to be done manually - so another solution would help us a lot. Thanks Thomas",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 30, 2020, 4:37 AM",
          "AuthorName": "Thomas Schröder",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1104547&course=5",
          "role": [
            "Picture of Thomas Schröder"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get roles Webservice API",
          "Text": "Hi, According to me, you must reach out to some known web developers for a perfect solution to your web service query. Recently I get in touch with one of the development experts from India and they help me swiftly through a couple of my projects. It is always better to have someone who has a better knowledge of the queries you are facing. You can reach out to them at https://www.moweb.com/ DM me if you are looking for any details. Thank you, Declan Lawton.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 20, 2020, 3:23 PM",
          "AuthorName": "Declan Lawton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3151516&course=5",
          "role": [
            "Picture of Declan Lawton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 400504,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=400504",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How can we call course custom fields?",
          "Text": "Hi all, Can any refer any relevant API function to retrieve course custom fields. I search the most relevant one is core_course_get_courses_by_field but it difficult to search in custom fields, showing invalid parameter error, can someone rectify the issue in below URL . http://localhost/ms/webservice/rest/server.php?wstoken=c2fc68ac3edca08asdf16a80a7823cbf&wsfunction=core_course_get_courses_by_field&field=customfields[global_terms]&value=1 Thanks. Azmat",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 12, 2020, 11:24 PM",
          "AuthorName": "Azmat Ullah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2583080&course=5",
          "role": [
            "Picture of Azmat Ullah",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 397935,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397935",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "\"Parent grades portal\" help",
          "Text": "Hey all, This seemed to work in an earlier version of moodle, but since moving to 3.7 it doesn't seem to work anymore. The purpose of this is to give parents access to their child's grade book.  When I assign this role manually in the \"Roles relative to this user\" section of preferences it works perfectly.  However, when the script creates a $roles array with the contents of: \n```text\narray(528) {\n  [0]=>\n  array(5) {\n    [\"roleid\"]=>\n    int(9)\n    [\"contextlevel\"]=>\n    string(4) \"user\"\n    [\"userid\"]=>\n    int(37393)\n    [\"contextid\"]=>\n    int(36887)\n    [\"instanceid\"]=>\n    int(19846)\n  }....\n\n\n\n\n}\n\n\n\n\nWhere\n```\n roleid=9 is a \"user\" level role to give Parents access to their child's grades. contextlevel=\"user\" implies I want to give this role to a user userid=37393 is the confirmed userid of the Parent instanceid=19846 is the confirmed userid of the Student contextid=36887 is the confirmed context for the student with id=19846 and feed it into the following php method call ($clientm has worked for other method calls including unrelated calls to core_role_assign_roles): \n```text\ntry\n{\n\n    \n$resp\n=\n$clientm\n-\n>\ncore_role_assign_roles\n(\n$roles\n)\n;\n\n\n}\ncatch\n(\nException\n \n$e\n)\n{\n\n    \necho\n \n$e\n.\n\"\n\\n\n\"\n;\n\n    \n}\n\n\n\n\nNothing happens.  No PHP errors, and the moodle log shows\n```\n \n```text\n\"The web service function 'unknown' has been called.\"\n```\n \n```text\nWould love any help!\n\n\n\n\nThanks,\n\n\nDoug\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 6, 2020, 5:19 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"Parent grades portal\" help",
          "Text": "Hey all, just replying to move this up. Wondering if anybody has any ideas? The call doesn't return any error except to say that function \"unknown\" has been called. Other method calls through $clientm work fine, just not this one. As far as the docs go, this looks right: XML -RPC (PHP structure)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 7, 2020, 3:00 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Parent grades portal\" help",
          "Text": "Solved: The script included two subsequent role assignments. The first one gave parents access to view the content in their child's course, the second one gave them the ability to view their child's grades. Running them as two method calls triggered the error. When I put both data sets in the same array and made a single call to core_role_assign_roles it worked. Still not sure why that would happen, but it solved the problem. Thanks all Doug",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 7, 2020, 10:52 PM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 399046,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=399046",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Missing required key in single structure: user For auth_userkey_request_login_url",
          "Text": "Hi All, I am using auth_userkey_request_login_url  plugin to login with username. I have developed angular App. Using Angular Service I am trying to call auth user key request to login url but it showing me following error. \n```text\n<?\nxml\n version=\"1.0\" encoding=\"UTF-8\" ?>\n\n\n<EXCEPTION class=\"invalid_parameter_exception\">\n\n\n    <ERRORCODE>invalidparameter</ERRORCODE>\n\n\n    <MESSAGE>Invalid parameter value detected (Missing required key in single structure: user)</MESSAGE>\n\n\n    <DEBUGINFO>Missing required key in single structure: user</DEBUGINFO>\n\n\n</EXCEPTION>\n```\n \n```text\n\n```\n \n```text\nPlease help me for this.\n```\n \n```text\n\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 26, 2020, 1:14 PM",
          "AuthorName": "Nilesh Pathade",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255217&course=5",
          "role": [
            "Picture of Nilesh Pathade"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 398435,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=398435",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Find course by Course ID number? (idnumber)",
          "Text": "Hi, How can I find a course by Course ID number using the REST interface? By course ID number, I mean the field idnumber. What's the wsfunction I can use and what are the parameters? Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 18, 2020, 12:42 AM",
          "AuthorName": "Alain Benbassat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2976109&course=5",
          "role": [
            "Picture of Alain Benbassat"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Find course by Course ID number? (idnumber)",
          "Text": "I found the solution: core_course_get_courses_by_field wsfunction=core_course_get_courses_by_field&moodlewsrestformat=json&field=idnumber&value=1234",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 18, 2020, 7:30 PM",
          "AuthorName": "Alain Benbassat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2976109&course=5",
          "role": [
            "Picture of Alain Benbassat"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 398366,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=398366",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Add cohorts to sync via API",
          "Text": "Hi You must add data from a cohorts to the Learning plan templates using the API. Is there such a function?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1606905/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA.PNG?forcedownload=1"
          ],
          "Time": "Monday, March 16, 2020, 6:21 PM",
          "AuthorName": "Константин Викторович Шипулин",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2965389&course=5",
          "role": [
            "Picture of Константин Викторович Шипулин"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 397686,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397686",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Which web service api/endpoint allows getting Gradebook setup information",
          "Text": "Which webservice api/endpoint allows fetching the Gradebook setup information, such as weights? i.e.:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1603812/image.png"
          ],
          "Time": "Saturday, February 29, 2020, 8:30 AM",
          "AuthorName": "Zadok Lindt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2389542&course=5",
          "role": [
            "Picture of Zadok Lindt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 397533,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397533",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_user_create_users   custom field not add",
          "Text": "Hi \n```text\n\n```\n \n```text\n\n```\n \n```text\n\n```\n \n```text\n\n```\n \n```text\n\n```\n \n```text\n\n```\n \n```text\n\n```\n \n```text\n\n```\n \n```text\n\n```\n \n```text\n\n```\n \n```text\nHi everyone,\nI am trying to create a user using api core_user_create_users with custom fields with the following array. the user is created but the custom field is not loaded, does anyone know why he does not load it? Thanks for your time!\n```\n \n```text\nArray\n(\n    [username] => nnnnn@gmail.com\n    [password] => A123789456A\n    [firstname] => nnnnn\n\n\n    [lastname] => nn\n    [email] => lesenda.gaston@gmail.com\n    [idnumber] => A123789456A\n    [customfields] => Array\n        (\n            [0] => Array\n                (\n                    [type] => dir\n                    [value] => 02\n                )\n\n        )\n\n)\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 26, 2020, 11:41 AM",
          "AuthorName": "Eliseo Montenegro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2917927&course=5",
          "role": [
            "Picture of Eliseo Montenegro"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_user_create_users   custom field not add",
          "Text": "I've found success using core_user_update_users if that helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 27, 2020, 11:29 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 393084,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=393084",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to get courses in a category and any subcategories with courses",
          "Text": "Using curl and jq, I can fetch course id and fullname from a category, like this: curl \"https:// domain /webservice/rest/ server .php?wstoken=token_string_here&wsfunction=core_course_get_courses_by_field&moodlewsrestformat=json&field=\"category\"&value=\"category_id_here\"\" | jq -r '.courses[] | \"\\(.id) \\(.fullname)\"' However, I would to include any subcategories below the chosen category_id and get those courses as well, i.e. -- (starting category) -- any courses in starting category + subcategory1 with its courses + subcategory2 with its courses etc. Is this possible directly with the APIs in Moodle 3.5.x by changing the command line above?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 5, 2019, 3:29 AM",
          "AuthorName": "KS Læring",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2085808&course=5",
          "role": [
            "Picture of KS Læring"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to get courses in a category and any subcategories with courses",
          "Text": "No there is no inbuilt webservice that return such information. You need to make your custom webservice for this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 23, 2020, 3:20 PM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Svar: Re: How to get courses in a category and any subcategories with courses",
          "Text": "Thank you, Mayank! When doing https://domain/webservice/rest/server.php?wstoken=&wsfunction=core_course_get_categories&criteria[0][key]=parent&criteria[0][value]=&moodlewsrestformat=json there seems to be key called \"path\" with an interesting value containing the category tree. However, I am not sure if the current API allows querying on the \"path\" key?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 29, 2020, 10:08 PM",
          "AuthorName": "KS Læring",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2085808&course=5",
          "role": [
            "Picture of KS Læring"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Svar: Re: How to get courses in a category and any subcategories with courses",
          "Text": "I haven't tried to use the path key, but with parent and all categories it should be possible to get all subcategories programatically.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 20, 2020, 6:07 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 396695,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396695",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web Service function to allow user to update their own profile",
          "Text": "Is there a function or a way to allow a user (via REST API/Token) to update their own profile and no one elses?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 6, 2020, 7:11 AM",
          "AuthorName": "Brian Y",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=811499&course=5",
          "role": [
            "Picture of Brian Y"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web Service function to allow user to update their own profile",
          "Text": "Yes, there are core webservice functions to achieve this. But it's not a good idea. If you want to restrict user to update his own profile then you need to create token for each user or you need to apply capabilities present in system.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 7, 2020, 2:57 PM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 395335,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395335",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "mailformat and maildisplay",
          "Text": "```text\nHi folks\n```\n \n```text\nCan someone guide me to the possible values for\n```\n \n```text\nmailformat\n```\n \n```text\nand\n```\n \n```text\nmaildisplay\n```\n \n```text\nand what each value means?\n```\n \n```text\nI'm searching the Moodle forums and Google but coming up short.\n```\n \n```text\nThank you!\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 7, 2020, 6:41 AM",
          "AuthorName": "Dallas Ray Smetter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=8019&course=5",
          "role": [
            "Picture of Dallas Ray Smetter"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: mailformat and maildisplay",
          "Text": "Hi Dallas, According to my understanding from your post, these parameter are part of \"email_to_user\" function for sending email. mailformat = 1/0 ( 0 (zero) text-only emails, 1 (one) for HTML/Text emails. ) maildisplay = true/false (Display email)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 27, 2020, 3:57 PM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 394901,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=394901",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How me add student to certain course using REST API?",
          "Text": "Hello, interested in the question, how through the REST API in moodle, do I add a certain student to a certain course? And as on tests to open and close access at all (including those who is in a course where this test is located) through api?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 19, 2019, 6:24 PM",
          "AuthorName": "Павел Быков",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2864918&course=5",
          "role": [
            "Picture of Павел Быков"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How me add student to certain course using REST API?",
          "Text": "Hi, You can use \"enrol_manual_enrol_users\" to enrol user in a certain course via manual enrolment method.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 23, 2020, 3:15 PM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 395464,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395464",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Get enrolment timestart / timeend via WebService",
          "Text": "Hi, is there a WebService function which allows me to get the timestart / timeend of a manual enrolment? Jozef K had a similar topic described here: https://moodle.org/mod/forum/discuss.php?d=380623 Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 10, 2020, 7:50 AM",
          "AuthorName": "Günter Lukas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2334362&course=5",
          "role": [
            "Picture of Günter Lukas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get enrolment timestart / timeend via WebService",
          "Text": "Hi Lukas, No there are no inbuilt webservice for manual enrolment. You need to make your own webservice for this. But moodle have inbuilt core function \"enrol_get_enrolment_end\" which return enrolment end time. If you want you can use this function according to your need. Warm Regards, Mayank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 23, 2020, 2:59 PM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 395839,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395839",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problem getting course enrolment methods",
          "Text": "I want to get a list of enrolment methods for a course that I know has manual enrolments and 2 cohorts synced. I have tried core_enrol_get_course_enrolment_methods but cannot get this to return anything but an empty array []. I saw a post related to this from 2016 but no resolution - I can't imagine it has been a problem since then. I also tried using core_course_get_courses_by_field - this was slightly more successful as it at least lists the enrolment plugin types: \n```text\n      \"enrollmentmethods\": [\n\n\n        \"manual\",\n\n\n        \"cohort\",\n\n\n        \"cohort\"\n\n\n      ],\n```\n It is helpful to know there are cohort syncs in place but its not much use without knowing what they are. It is also interesting to note that the discrepancy between the British spelling of enrolment in the call and the American spelling 'enrollment' in the result! Any advice would be appreciated. I'm happy to raise a bug if I am not missing something.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2020, 7:42 PM",
          "AuthorName": "Pete Edwards",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2080240&course=5",
          "role": [
            "Picture of Pete Edwards"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 395345,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395345",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "airnotifier access key",
          "Text": "Dear All I have moodle version 3.7 ( http://lms.uop.edu.jo/moodle/ ) and I can not get the access key for airnotifier (I asked may times and no reply Please any one can help me in this issue or how can I build my own server . any one can direct me where to go.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 7, 2020, 4:53 PM",
          "AuthorName": "Omar Al Sayyed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1944683&course=5",
          "role": [
            "Picture of Omar Al Sayyed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 395173,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395173",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle API update_user function",
          "Text": "We are using Moodle 3.4 and are trying to use this user_update_users API to update users from an external site. I notice that the user_update does not pass if we send the existing email without any change. I understand there is validation being done at the user/externallib.php. We want to be able to send the email parameter every time we send update even though the email is not being changed, is there any way to make this work without bypassing the email validation?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1593305/update%20user%20error.png"
          ],
          "Time": "Thursday, January 2, 2020, 10:18 AM",
          "AuthorName": "Karishma Tiwari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1980495&course=5",
          "role": [
            "Picture of Karishma Tiwari"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 392029,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=392029",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Getting a web service token with SSO",
          "Text": "HI We have a web portal which uses the Moodle web services to get timely information from Moodle. To do this we need to get the web service token. If the Moodle is not using SSO this is simple, just call /login/token.php. If the Moodle is behind SSO we can redirect to /admin/tool/mobile/launch.php but this will not redirect back to our domain . It will only redirect back to a url scheme, for example, moodlemobile://token=????. This is fine if we are in the native app version of our product because we can catch the url scheme and extract the token from it. However this will not work on the web portal as the browser doesn't recognize the url scheme and the redirect doesn't contain our domain. How can we get a web service token for our web portal? This is simple in both Canvas and Blackboard but appears to be impossible in Moodle. Thanks Gordon Alexander",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 8, 2019, 6:47 PM",
          "AuthorName": "Gordon Alexander",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1732333&course=5",
          "role": [
            "Picture of Gordon Alexander"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Getting a web service token with SSO",
          "Text": "Hi Did you try this: https://moodle.org/plugins/auth_userkey ? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 9, 2019, 9:09 PM",
          "AuthorName": "Dorel Manolescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686124&course=5",
          "role": [
            "Picture of Dorel Manolescu",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting a web service token with SSO",
          "Text": "Hi Dorel Thanks for responding. I've had a look at the plugin but it seems to be for logging in to Moodle not for getting a token. I'm happy for the user to have to log in to Moodle the normal way, I just need to be able to get a token so they can use the web services in the context of their user Thanks Gordon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 10, 2019, 7:17 PM",
          "AuthorName": "Gordon Alexander",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1732333&course=5",
          "role": [
            "Picture of Gordon Alexander"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting a web service token with SSO",
          "Text": "Hi Gordon, I understand. In that case you may want to have a look on how the moodle app is doing that. Seems to me you want a similar behaviour. Based on my understanding a token is generated every time a user is connecting to the app and that token is used to manage user activity on the app. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 10, 2019, 8:13 PM",
          "AuthorName": "Dorel Manolescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686124&course=5",
          "role": [
            "Picture of Dorel Manolescu",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting a web service token with SSO",
          "Text": "Hello Gordon, I was wondering if you found a solution.  We are going to implement a single signon \"hub\" and attempt to display some moodle information - user courses for example within the hub. Thanks and happy holidays.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 20, 2019, 12:06 AM",
          "AuthorName": "Eric Katchan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555818&course=5",
          "role": [
            "Picture of Eric Katchan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 394124,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=394124",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Update calendar: events core_calendar_create_update_submit_form",
          "Text": "I tried  to update event using localhost/moodle/webservice/ server .php?wstoken=....&wsfunction=.......&ws.. json=68999855 Formdata id:1, Iam failing to send formdata to update Need to send form data..help me out",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Monday, December 2, 2019, 1:13 AM",
          "AuthorName": "vidyasagar reddy sagar reddy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2759178&course=5",
          "role": [
            "Picture of vidyasagar reddy sagar reddy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 393694,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=393694",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Are Webservice APIs sessionless?",
          "Text": "While going through the Webservice API documentation, can see that some of these APIs need authentication which can be done either by token or username/password. Want to know if these APIs create any session? Can see MoodleSession as one of the cookies. But don't see these cookies ever been used in webservice APIs example ( mod_scorm_get_scorm_attempt_count, mod_scorm_insert_scorm_tracks). Should these APIs be considered as sessionless APIs?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 20, 2019, 3:16 PM",
          "AuthorName": "Smriti Pandey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2742542&course=5",
          "role": [
            "Picture of Smriti Pandey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 382455,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382455",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle API Single-Sign-On (SSO)",
          "Text": "Dear Developers and Experts, Thank you for reading this thread. My project requires me to develop a single-sign-on page that when the user visits the company website and logs in, the user is automatically logged to Moodle account site ( https://lms.mycompany.com/my ) as well. I am looking at several API calls here: https://docs.moodle.org/dev/Web_service_API_functions , but none of them is user confirmation, that is, the user exists and is active in our account network. Could you provide me with some hints? Or my logic here is not as correct as it appears. Thank you again! Kevin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 2:36 AM",
          "AuthorName": "Kevin Lu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2231103&course=5",
          "role": [
            "Picture of Kevin Lu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle API Single-Sign-On (SSO)",
          "Text": "One approach that you might think about is LTI . LTI does require that both sides/applications use it, but it does provide a way for users to login to one application, and then transfer over to the other one. It may be that someone else has another idea. By the way, did you take a look at: https://docs.moodle.org/36/en/CAS_server_(SSO)_authentication",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 26, 2019, 11:45 PM",
          "AuthorName": "Paul Raper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97714&course=5",
          "role": [
            "Picture of Paul Raper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle API Single-Sign-On (SSO)",
          "Text": "Read this too: https://tournasdimitrios1.wordpress.com/2011/09/09/login-from-a-different-website-to-moodle/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 10, 2019, 6:45 PM",
          "AuthorName": "priya a",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2692192&course=5",
          "role": [
            "Picture of priya a"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 392856,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=392856",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Protocolo XML-RPC: core_course_create_categories",
          "Text": "Exception: Excepción al control de acceso | DEBUG INFO: Access to the function core_course_create_categories() is not allowed. There could be multiple reasons for this: 1. The service linked to the user token does not contain the function. 2. The service is user-restricted and the user is not listed. 3. The service is IP-restricted and the user IP is not listed. 4. The service is time-restricted and the time has expired. 5. The token is time-restricted and the time has expired. 6. The service requires a specific capability which the user does not have. 7. The function is called with username/password (no user token is sent) and none of the services has the function to allow the user. These settings can be found in Administration > Site administration > Plugins > Web services > External services and Manage tokens. | ERRORCODE: accessexception in /home4/g/public_html/moodle/webservice/xmlrpc/lib.php:94",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 30, 2019, 1:17 AM",
          "AuthorName": "Isabel Arevalo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2823280&course=5",
          "role": [
            "Picture of Isabel Arevalo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 392644,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=392644",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Mark course completed with WS API call",
          "Text": "Hello everyone, I am working on a mobile app that communicates with Moodle via Web Service API. App downloads the Moodle course scorm package and presents it in a web view for users to interact with. Once the user finishes the course, however, the completion status for that particular user is not saved to the Moodle DB. I've tried using the following ws functions to force marking the course as \"completed\": mod_scorm_insert_scorm_tracks core_completion_mark_course_self_completed core_completion_override_activity_completion_status core_completion_update_activity_completion_status_manually neither of them did what I wanted (I am checking the course completion with core_completion_get_course_completion_status, I hope that is correct). So now I am wondering - is there actually a way to mark the course as completed for a specific user via WS API? And if there is, what ws function should I call to achieve this? Thanks in advance for any response and help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2019, 8:25 PM",
          "AuthorName": "Vojtech Pajer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2817390&course=5",
          "role": [
            "Picture of Vojtech Pajer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 379890,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=379890",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How do we fetch the name of each categoryid returned by gradereport_user_get_grade_items?",
          "Text": "The gradereport_user_get_grade_items API call returns a categoryid field, but does not return the \"full name\" of the category. The name associated with the categoryid is found in the mdl_grade_categories table. Is there an API call that would allow fetching the \"full name\" associated with the categories? It appears that there is not. But perhaps I have overlooked it? See associated JIRA ticket https://tracker.moodle.org/browse/MDL-64399 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 14, 2018, 4:13 PM",
          "AuthorName": "Zadok Lindt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2389542&course=5",
          "role": [
            "Picture of Zadok Lindt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How do we fetch the name of each categoryid returned by gradereport_user_get_grade_items?",
          "Text": "Hi Zadok Have you possibly found anything around this as yet? I see something different in the index.php with regards to rendering, but i don't actually know which php files would need changing and it's not good to change core code, but i am just testing so it would be nice to know. I am also looking for the itemname for each category in the gradebook...  I am following you on MDL_tracker also.. Thank you Regards",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, October 10, 2019, 7:02 PM",
          "AuthorName": "Pixi Flyer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2357951&course=5",
          "role": [
            "Picture of Pixi Flyer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How do we fetch the name of each categoryid returned by gradereport_user_get_grade_items?",
          "Text": "This is what i am looking for; {\"id\":23,\"itemname\":\"\",\"itemtype\":\"category\" ,\"itemmodule\":null,\"iteminstance\":12,\"itemnumber\":null,\"categoryid\":null,\"outcomeid\":null,\"scaleid\":null,\"locked\":false,\"weightraw\":0.5,\"weightformatted\":\"50.00 %\",\"graderaw\":0,\"gradedatesubmitted\":null,\"gradedategraded\":1570604344,\"gradehiddenbydate\":false,\"gradeneedsupdate\":false,\"gradeishidden\":true,\"gradeislocked\":false,\"gradeisoverridden\":false,\"gradeformatted\":\"0.00\",\"feedback\":\"\",\"feedbackformat\":0},",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 10, 2019, 9:54 PM",
          "AuthorName": "Pixi Flyer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2357951&course=5",
          "role": [
            "Picture of Pixi Flyer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 390888,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390888",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "check mail before core_user_create_users",
          "Text": "Hi all, I use core_user_create_users function to create a user, and it works perfectly, but when email adresse exist, then i have got a message \"incorrect parameter\" and in debug : \"this email exist\" So i want to check by webservice if a email existe and or something like :  \"getuseridbyemail function\" that can return me an id of a specific email. I don't want to check it directly by SQL , Thanks for your help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 12, 2019, 5:11 PM",
          "AuthorName": "sterk jim",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2130882&course=5",
          "role": [
            "Picture of sterk jim"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: check mail before core_user_create_users",
          "Text": "Hi admin/webservice/documentation.php core_user_get_users_by_field Arguments field (Required) the search field can be 'id' or 'idnumber' or 'username' or 'email' Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 5, 2019, 12:21 AM",
          "AuthorName": "Dorel Manolescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686124&course=5",
          "role": [
            "Picture of Dorel Manolescu",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391748,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391748",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to configure permission to assign course in moodle API?",
          "Text": "moodle 3.6 enrol_manual_enrol_user not working every time ! { \"exception\": \"moodle_exception\", \"errorcode\": \"wsusercannotassign\", \"message\": \"You don't have the permission to assign this role (383) to this user (2) in this course(28).\" }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 2, 2019, 5:18 AM",
          "AuthorName": "Mohamed Samir",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2784718&course=5",
          "role": [
            "Picture of Mohamed Samir"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to configure permission to assign course in moodle API?",
          "Text": "Hi Assuming that the user 2 has permissions to assign that role (383) can you check the settings for allow role assignments for the role assigned to user 2. Your role with id 383 should be in that list. Screen-shot attached. Regards",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1579705/allowroleassignment.png?forcedownload=1"
          ],
          "Time": "Saturday, October 5, 2019, 12:13 AM",
          "AuthorName": "Dorel Manolescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686124&course=5",
          "role": [
            "Picture of Dorel Manolescu",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391660,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391660",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "API to create activity in batch",
          "Text": "May anyone advise where there is Moodle API to create an activity in batch for all Moodle courses? I want to create an activity in all Moodle courses using command line as Admin user, so that need not create the activity in all Moodle courses one by one manually. Thanks! Ryan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 30, 2019, 3:32 PM",
          "AuthorName": "Ryan Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1722197&course=5",
          "role": [
            "Picture of Ryan Chan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: API to create activity in batch",
          "Text": "HI https://moosh-online.com/commands/ activity-add",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 5, 2019, 12:07 AM",
          "AuthorName": "Dorel Manolescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686124&course=5",
          "role": [
            "Picture of Dorel Manolescu",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391197,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391197",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "Our moodle hangs and shows this error message Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\" What does it mean? How can we fix it and prevent it from occurring again?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 19, 2019, 9:14 AM",
          "AuthorName": "Dave Weninger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2623309&course=5",
          "role": [
            "Picture of Dave Weninger"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "Is that an Apache error screen you see or a Moodle error screen?  And is this a copy and paste error in reporting the error? What does it mean? Yep!  It's true!  Moodle is looking for 'Apache' ... In 20+ years working with Apache on Linux (some Ubuntu, but mostly Fedora/RH Family/CentOS) I have never seen , if Apache server signature left on, a report of: ( Apace /2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) Note the bolded above.   Now if Apache server signature left on (which should be off) and one forces a simple 404 error (not found), the server would show and should show if configured for ServerTokens set to OS: ( Apache /2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) Note the missing 'h' in what you report from your server? How can we fix it - possibly see below! For for you in investigating config of your server: ServerTokens Configures the Server HTTP response header. Different ServerTokens directive options are following (add or modify httpd.conf file or apache.conf): Prod or ProductOnly – Server sends (e.g.): Server: Apache ServerTokens Prod And lastly ... prevent it from occurring again? Since things like that really don't happen all by themselves, suggest server admin needs to quit messin' with config! Major piece of advice ... show as little as possible to those that would do harm to your server. Now I could be all wrong.   Been messin' with anything lately? 'SoS', Ken",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, September 19, 2019, 10:26 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "Sorry, just my typo. It is \"Apache\" not \"Apace\". The error message shows on the Moodle screen. We are using CentOS 7.4.1, PHP 7.2.16",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 20, 2019, 9:25 PM",
          "AuthorName": "Dave Weninger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2623309&course=5",
          "role": [
            "Picture of Dave Weninger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "Could you send a screen capture of this error screen? Also info from: cat /etc/redhat-release /usr/sbin/httpd -V (just server version from that info) yum repolist tail /var/log/yum.log 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 20, 2019, 10:23 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "cat /etc/redhat-release CentOS Linux release 7.4.1708 (Core) /usr/sbin/httpd -V no such command #yum repolist Loaded plugins: fastestmirror Repodata is over 2 weeks old. Install yum-cron? Or run: yum makecache fast Loading mirror speeds from cached hostfile * base: centos.01link.hk * epel: nrt.edge.kernel.org * extras: centos.01link.hk * remi-php72: ftp .riken.jp * remi-safe: ftp .riken.jp * updates: centos.01link.hk repo id repo name status !base/7/x86_64 CentOS-7 - Base 10,019 *!epel/x86_64 Extra Packages for Enterprise Linux 7 - x86_64 13,348 !extras/7/x86_64 CentOS-7 - Extras 435 !nodesource/x86_64 Node.js Packages for Enterprise Linux 7 - x86_64 113 !remi-php72 Remi's PHP 7.2 RPM repository for Enterprise Linux 7 - 379 !remi-safe Safe Remi's RPM repository for Enterprise Linux 7 - x8 3,553 !updates/7/x86_64 CentOS-7 - Updates 2,500 repolist: 30,347 # tail /var/log/yum.log Apr 20 07:46:35 Installed: jemalloc-3.6.0-1.el7.x86_64 Apr 20 07:46:35 Installed: redis-3.2.12-2.el7.x86_64 Aug 20 11:30:29 Updated: libldb-1.3.4-1.el7.x86_64 Aug 20 11:30:29 Installed: samba-common-4.8.3-6.el7_6.noarch Aug 20 11:30:29 Installed: libwbclient-4.8.3-6.el7_6.x86_64 Aug 20 11:30:30 Installed: samba-client-libs-4.8.3-6.el7_6.x86_64 Aug 20 11:30:30 Installed: samba-common-libs-4.8.3-6.el7_6.x86_64 Aug 20 11:30:30 Installed: cifs-utils-6.2-10.el7.x86_64 Aug 20 11:30:30 Updated: libldb-devel-1.3.4-1.el7.x86_64 Aug 20 11:30:30 Installed: cifs-utils-devel-6.2-10.el7.x86_64",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1577280/moodle_screen.jpg?forcedownload=1"
          ],
          "Time": "Friday, September 20, 2019, 11:41 PM",
          "AuthorName": "Dave Weninger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2623309&course=5",
          "role": [
            "Picture of Dave Weninger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "Interesting ... typical CentOS 7 runs either httpd (apache) or nginx - but could run LIghtspeed other as well. This /usr/sbin/httpd -V no such command shows you are not running apache (httpd daemon) ﻿ netstat -tulpn | grep :80 (or :443) whatis httpd or whatis nginx Are we trying to run a loadbalancer? And this on a server where you had moodle running already? Confused! 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 21, 2019, 12:49 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "Also noticed the ! in front of repos. Suggest refreshing the repos ... yum clean all yum check-update will rebuild repos. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 21, 2019, 1:18 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "Oh, yeah!   If ya had moodle running at one point in time under apache (httpd), did you make sure the httpd daemon is started on reboots? When any operating system gets a kernel upgrade, normally, server needs to be rebooted.   And if systemd doesn't know that the httpd (apache) daemon needs to start up after reboot ... no web server. Very strange though ... the error screen you show is a Moodle error screen ... so something web server has to be running to see the error!!! To be 100% honest, have never seen that in many/many/many years running Moodles or WP's or Joomla's or Drupal's or ... whatever.  Very strange. So guess I'll ask again ... and be truthful ... were you playing around with anything? 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 21, 2019, 2:49 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "[root@moodle ~]# systemctl status httpd ● httpd.service - (null) Loaded: loaded (/etc/rc.d/init.d/httpd; bad; vendor preset: disabled) Active: inactive (dead) Docs: man:systemd-sysv-generator(8) [root@moodle ~]# [root@moodle /]# service --status-all | grep running /etc/init.d/httpd: line 95: lynx: command not found SUCCESS! MySQL running (31999) /etc/init.d/other_vsftp: line 37: syntax error near unexpected token `fi' /etc/init.d/other_vsftp: line 37: ` fi' Active: active (running) since Tue 2019-08-20 17:47:31 HKT; 1 months 1 days ago Active: active (running) since Tue 2019-08-20 17:47:31 HKT; 1 months 1 days ago vmware-guestd is not running Active: active (running) since Tue 2019-08-20 17:47:31 HKT; 1 months 1 days ago [root@moodle /]# [root@moodle /]# netstat -tulpn | grep :443 tcp6 0 0 :::443 :::* LISTEN 3053/httpd [root@moodle /]# netstat -tulpn | grep :80 tcp6 0 0 :::80 :::* LISTEN 3053/httpd [root@moodle /]# [root@moodle /]# whatis httpd httpd: nothing appropriate. [root@moodle /]# We are not trying to run a loadbalancer. The moodle is running normally. The web server should be on, I don't understand why it shows the status of httpd is inactive. The error screen only shows one time two weeks ago. It disappears after rebooting httpd.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 21, 2019, 9:14 AM",
          "AuthorName": "Dave Weninger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2623309&course=5",
          "role": [
            "Picture of Dave Weninger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "All I can say is 'WOW!\" ... that's one messed up server - from typical AMP stacks on CentOS. Purpose of these forums isn't how to install/admin/ an AMP stack, but Moodle.   Really stretching the stated purpose of these forums - and free advice to boot - appreciated or not! Some hints/clues for you (from what you have shared) ... just a few ... Loaded: loaded (/etc/rc.d/init.d/httpd; bad; vendor preset: disabled) Huh??!!!  bad vendor preset????!!!  Where in the world did you get httpd from - what repo?   Uhhhhh ... don't answer that ... or even try to ... don't wanna know! /etc/init.d/httpd: line 95: lynx: command not found Lynx is a text based browser!!!!  How did it get entered in the init.d of httpd ... the daemon for apache?  In CentOS 7 there is no /etc/init.d/httpd ... 7 doesn't use the old but the new (that's a hint) [root@moodle /]# netstat -tulpn | grep :80 returning ... tcp6 0 0 :::443 :::* LISTEN 3053/httpd ... port 3053 http://www.adminsub.net/tcp-udp-port-finder/3503 And see it's really a CentOS 7 Guest OS on VM -Ware? You can backup moodle code and moodledata using tar and archive those backups to another location. MySQL appears to be running so you can use my sql dump to get an sql dump of the moodle DB.   Then archive that off onto another location. scp the backups off onto some other server. Now the biggy ... 2 choices ... Wipe out the VM Instance of CentOS 7 and start over with a fresh CentOS 7 this time keeping it simple. This might be best as it could be you tried what many have tried and failed to do ... upgrade a CentOS 6 in place to a CentOS 7.  Reason I say that ... 'old mixed with new'. OR - the more difficult road for you at present me thinks ... Use yum and erase httpd, httpd-development and anything related ... which also might remove php drivers and php itself - dependencies. Reboot server.   Basically rebuild an AMP stack.  Set that up with valid/working repos for things like PHP and test a static page ... don't forget your valid certs for https:// as well as a php info page. Then restore your Moodle. Too much for ya?   Fine ... one time offer ... I'll do it for $15,000.00 US ... $10,000.00 up front payable via PayPal and the remainder due when server is up.  No work done until funds have been transferred - ie, the first $10,000.00 (that ought to price me out of the market, ya think?) Opion: $5,000.00 US for direct Email support ... $2500.00 up front via PayPal.  Condition ... you will not argue with what I tell you to do! (that ought to price me out of the support market also, ya think?) OR ... role up sleeves and find a tutorial on how to install an AMP stack on CentOS 7 ... properly. OR ... role up sleeves and find a tutorial on how to install an AMP stack on CentOS 7 ... properly. No!  The repeat above is NOT a mistake! A Google search for that will find several good tutorials on how to do that ... might have to make minor adjustments. Not being mean nor cruel nor impolite ... just 100% honest in remote assessmet/free support exchange of public posted info via a forum that shouldn't be used for such. 'spirit of sharing', Ken",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, September 21, 2019, 10:43 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "Sorry, I really don't understand what you mean. The moodle is still working normally, just appears an error message once. What is AMP stack? I don't know what it is. We can start apache because have the below symbolic link. /etc/rc.d/init.d/httpd->/usr/local/apache2/bin/apachectl My boss compiled source code to install Apache , not yum install. He thought that it was easiler to upgrade because the version of downloaded code is known. I don't know how he do that because he prepared the LAMP platform for me. I just installed the Moodle. As the Moodle has been launched, it is difficult for us to do too much maintenance on the Moodle or platform. What I want is just to avoid the re-occurrence of that error message.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 21, 2019, 12:58 PM",
          "AuthorName": "Dave Weninger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2623309&course=5",
          "role": [
            "Picture of Dave Weninger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "AMP stack is LAMP ... without the Linux. \" My boss compiled source code to install Apache , not yum install. He thought that it was easiler to upgrade because the version of downloaded code is known. \" Tell your boss he was wrong.  Back before repo's ... many/many/many moons ago, I compiled AMP stack.  Depending upon what issues there were as announced by CentOS ... which gets their info from the folks at Red Hat ... one could have to dive deep into deciding if a vulnerability marked/tagged as 'important' was significant enough to warrant re-compling a 'slice of the pie' ... in other words, just one of the three that make up AMP ... Apache as an example. Recompling of just Apache could also mean re-compiling of PHP in some cases ... longer down time. Let's say it's PHP that has a security issue ... happens fairly often ... and it has to be re-compiled ... same problem ... that might require re-compiling of Apache and MySQL as well. \".... easiler to upgrade because the version of downloaded code is known.\" Even easier with repos. and yum ... and the version is known. yum list httpd Loaded plugins: fastestmirror, langpacks Loading mirror speeds from cached hostfile * base: mirror.den1.denvercolo.net * extras: repos.dfw.quadranet.com * updates: mirror.dal10.us.leaseweb.net * webtatic: us-east.repo.webtatic.com Installed Packages httpd.x86_64    2.4.6-90.el7.centos   @base The real package manager on CentOS is still RPM - Red Hat Package Manager.   Now there is something you'd prefer not to learn.  On top of or in front of that now is YUM (Yellow Dog Package Manager) ... which began it's life on Mac's, believe it or not.   It's more 'intelligent' but it still uses RPM.   Yum figures out the 'dependencies'. I know you might be too young for this ... remember on Windows DLL Hell?  Well, same kinda thing on Linux only it's 'dependencies' - libraries that are needed to run daemons/services/etc., etc. Ask your boss ... if there were a zero day flaw in PHP and known to be in the wild, how quickly could your boss secure your server? Me thinks your boss has given you pretty much mission impossible. Ok ... enough ...can't suggest how to make the error go away - ask your Boss ... after all, he compiled the AMP stack.  And to make it go away, your boss can also hack core code. Good Luck, Kelvin! 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 21, 2019, 2:45 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error message \"Web server software (Apace/2.4.29 (Unix) OpenSSL/1.0.2k-fips PHP/7.2.16) is not supported, sorry.\"",
          "Text": "Just one more ... resource for you if your boss insist on compiling AMP ... you will need to refer to often me thinks. https://lists.centos.org/pipermail/centos-announce/ Here is September: https://lists.centos.org/pipermail/centos-announce/2019-September/thread.html https://lists.centos.org/pipermail/centos-announce/2019-September/023405.html Here's one on Firewalled https://lists.centos.org/pipermail/centos-announce/2019-September/023412.html Unless you are still using iptables might want to acquire the update to firewalled. I happen to like the new firewall as it has a zone for dropped ... easy to have your server inaccessible to a bot network - all services/all ports - or a particularly agreessive scanner which sucks your server of bandwidth/resource usage.  Let the researchers research ... just not at your server .... considering it's current issues, might want to consider using drop zone. Ok, now am done! 'SoS', Ken",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, September 21, 2019, 11:01 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391018,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391018",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "core_enrol_get_enrolled_users options and json",
          "Text": "Hi All, I'm trying to retrieve a list of enrolled users for a particular course using python, but am having problems defining the options. I can post the following: {'courseid': 96, 'options': [{'name': 'userfields', 'value': 'role'}, {'name': 'userfields', 'value': 'username'}], 'wstoken': 'MY_TOKEN', 'wsfunction': 'core_enrol_get_enrolled_users', 'moodlewsrestformat': 'json'} but get the response: {'exception': 'invalid_parameter_exception', 'errorcode': 'invalidparameter', 'message': 'Invalid parameter value detected', 'debuginfo': \"options => Invalid parameter value detected: Only arrays accepted. The bad value is: 'value'\"} I've tried a number of different ways of presenting the options, but from my understanding, the above *should* work. On the other hand, this works as expected: curl -X POST 'https://mymoodlesite/webservice/rest/ server .php' -d 'courseid=207&options[0][name]=userfields&options[0][value]=username&options[1][name]=userfields&options[1][value]=roles&wstoken=MY_TOKEN&wsfunction=core_enrol_get_enrolled_users&moodlewsrestformat=json' Am I missing something obvious?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 16, 2019, 7:51 AM",
          "AuthorName": "Tim Titley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2764946&course=5",
          "role": [
            "Picture of Tim Titley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_enrol_get_enrolled_users options and json",
          "Text": "please don't use -X POST try as shown below command. curl -v -H \"Content-Type: application/x-www-form-urlencoded Accept: application/json\" -d \"moodlewsrestformat=json&wstoken=xxxxxxxxxxxxxxxxxxxxx&wsfunction=xxxxxxxxxxxxxxx&'put options with &'\" \"https://mymoodlesite/webservice/rest/ server .php\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 17, 2019, 2:53 PM",
          "AuthorName": "Young Bo KIM",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2767689&course=5",
          "role": [
            "Picture of Young Bo KIM"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_enrol_get_enrolled_users options and json",
          "Text": "Thanks for your reply. I don't have a problem with urlencoded query. I can get this working. The problem is with posting json to the service endpoint. JSON seems to work fine if I use simple key/value pairs, but when I use nested lists/collections (or in this case, a collection within a list within a collection), it throws the error. Do you think my understanding is correct, and is the the json is valid or do you think this might be a bug in the parameter checking code?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 17, 2019, 8:52 PM",
          "AuthorName": "Tim Titley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2764946&course=5",
          "role": [
            "Picture of Tim Titley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_enrol_get_enrolled_users options and json",
          "Text": "in API Docs, it should be \"option[0][optionname]: option\", then \"option[0][name]=name&optioin[0][groupid]=xxxx&so on. so option[0] is fixed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2019, 6:11 AM",
          "AuthorName": "Young Bo KIM",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2767689&course=5",
          "role": [
            "Picture of Young Bo KIM"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391093,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391093",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get results by course",
          "Text": "Thanks for your time in advance. I would like to use a function \"core_grede_get_grades\", however it DEPRECATED so I am testing all different external service functions. At this point, I realize I have to make an external service to get data which I would like to have, because in users section, ID number is not the id number in system and it doesn't allow me to change. My question is as shown below.( and sincerely apologise for laziness) 1. is there any way to change external services? 2. if yes, would you guys please tell me where all these libraries for grading? 3. if no, I would like to know where i can implement the external function. ( I have a variety of input values) Thanks for your time to read this silly questions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 17, 2019, 2:50 PM",
          "AuthorName": "Young Bo KIM",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2767689&course=5",
          "role": [
            "Picture of Young Bo KIM"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 381400,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381400",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Integration with Oracle based HRMIS",
          "Text": "Hello, I n our\norganization we are\nusing Moodle 3.6 based E-Training portal for our employees, as we are using Oracle based HRMIS system for all Employees HR processes , now we have a challenge\nas the management required to integrate both systems in the way that all\nemployee training accomplished and activities auto reflected in his HRMS profile, as well as announcing\nconcerned staff when new employee joined to start essential training courses. So is there\nis any API or Webservices solution to fulfill this integration, thanks and best\nregards,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 24, 2019, 9:01 AM",
          "AuthorName": "Yasser Farid",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1804191&course=5",
          "role": [
            "Picture of Yasser Farid"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Integration with Oracle based HRMIS",
          "Text": "Hello Yasser, Did you find a way to integrate Moodle and your HRMIS?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 7, 2019, 9:23 PM",
          "AuthorName": "Ron Meske",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=55926&course=5",
          "role": [
            "Picture of Ron Meske"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 390387,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390387",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "404 Not Found when trying to call REST api",
          "Text": "Hello, i made a custom web service and i am trying to call the api: https://lms.nup.ac.cy/NUP/REST/api/Enrollment/g.theodoulou/2 which gives me an error 404 not found. We were using Windows Server with IIS when this was working fine, now we have a fresh installation using Ubuntu, is there something i am missing? Does Apache needs some configuration to allow ASP.NET applications?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 2, 2019, 6:17 PM",
          "AuthorName": "Giannis Theodoulou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2339034&course=5",
          "role": [
            "Picture of Giannis Theodoulou"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 389637,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389637",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Webservice problem",
          "Text": "Hello A website gave me a web services that i could send users quiz grades to that site from moodle.That site has changed the URL from http to https and now i cant send grades.I changed the http to https in given web service data but when the web service  runs  it shows 503 error. My moodle site is running on http. Thnaks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 14, 2019, 5:19 PM",
          "AuthorName": "Ali Ahmadian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=450743&course=5",
          "role": [
            "Picture of Ali Ahmadian"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 389402,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389402",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "gradereport_overview_get_course_grades not return grademax",
          "Text": "```text\nI'm using \ngradereport_overview_get_course_grades\n function to get students \ngraderaw\n in a course.\n```\n \n```text\nI got this as a result and that is fine:\n```\n \n```text\n{\n\n\n \"grades\":[\n\n\n  {\n\n\n   \"courseid\":13,\n\n\n   \"grade\":\"-\",\n\n\n   \"rawgrade\":null\n\n\n  },\n\n\n  {\n\n\n   \"courseid\":10,\n\n\n   \"grade\":\"26,00\",\n\n\n   \"rawgrade\":\"26.00000\"\n\n\n  }\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2019, 3:43 AM",
          "AuthorName": "Daniel Miranda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1618958&course=5",
          "role": [
            "Picture of Daniel Miranda"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 388787,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=388787",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Unable to update feedback using wsfunction=core_grades_update_grades with str_feedback",
          "Text": "I am trying to submit a grade for a student using the core_grades_update_grades function. The correct grade value for the course, module and student is posted successfully. However, the feedback string doesn't show. Here is the URL I have used: https://abc.com/webservice/rest/server.php?wstoken= [token]&wsfunction=core_grades_update_grades&moodlewsrestformat=json&source=ap&courseid=19&component=mod_url&activityid=817&itemnumber=0&itemdetails[itemname]=Activity&itemdetails[idnumber]=0&grades[0][studentid]=19&grades[0][grade]=79&grades[0][str_feedback]= well+done+ mate Can you help with this please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 23, 2019, 1:16 PM",
          "AuthorName": "Ali Raza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2565198&course=5",
          "role": [
            "Picture of Ali Raza"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 382233,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382233",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Angular Application",
          "Text": "Hi, I am the owner of https://pixelbrewco.com and am using the API for a client. What is the best way to integrate Angular for an application?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 8, 2019, 11:36 AM",
          "AuthorName": "Thomas Culver",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2597556&course=5",
          "role": [
            "Picture of Thomas Culver"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Angular Application",
          "Text": "Have you got a solution as I'm trying to integrate angular too",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 15, 2019, 10:49 PM",
          "AuthorName": "noha drweesh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2680089&course=5",
          "role": [
            "Picture of noha drweesh"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 387765,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=387765",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle app single sign on hack",
          "Text": "Hi... There is a problem with the sso in moodle app , when Its demand to a user to enter his credentials via the embedded browser, he can press the \"return\" button in his phone and he will be able to enter the site even if another user is connecting with the same credential in another pc ...!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 26, 2019, 5:48 PM",
          "AuthorName": "amine brahim",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2226824&course=5",
          "role": [
            "Picture of amine brahim"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle app single sign on hack",
          "Text": "Hi Amine, I'm sorry, I'm not sure if I understand what's the problem here, having two concurrent sessions? Or being able to reuse the old browser session to launch the app?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 26, 2019, 8:29 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 387643,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=387643",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding a new web service function",
          "Text": "Here at Tishreen University, We are trying to develop a new Web Identity for our university. And for this purpose, We are using Moodle as the main system for our university LMS. The problem I'm facing is that the main site is requesting some information from Moodle. The existing Web Service API functions is not enough to satisfy the requirements. I want to write a new function, for example I want to get all the sub-categories inside a certain category by sending the ID of the category. All I need is to add a new function to the Web Service API functions inside Moodle. Is there any way to do this? I mean to add a new function to the Web Service API functions . The solution I found is to add a new plugin, but does the function which I wrote inside the plug-in is accessible from a web service? Is this the right way to do it? Thanks a lot. Best Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 23, 2019, 5:37 AM",
          "AuthorName": "Adam Oudaimah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2526321&course=5",
          "role": [
            "Picture of Adam Oudaimah"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 387111,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=387111",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Login API",
          "Text": "Hi, I'm developing a mobile app for my university that uses moodle web services. I've read API documentation and I didn't find anything about login web services and this is a big problem. I want that a user, in my app login module, digits his credentials and through a moodle web service I can establish if that credentials are correct or less. Can anyone help me? Thanks in advance, Stefano.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 10, 2019, 5:21 AM",
          "AuthorName": "Stefano Fiscale",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2596858&course=5",
          "role": [
            "Picture of Stefano Fiscale"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Login API",
          "Text": "For those who have had the same problem, here's the solution: from terminal execute the following command: $ curl -c - -i -F'username=myusername' -F'password=mypassword' -F'service=moodle_mobile_app' -X POST http://mymoodlesite/login/token.php The response will be something like: {\"token\":\"696ded7cd77a8041c0332423a9e8c78b\",\"privatetoken\":null}#",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 13, 2019, 8:03 PM",
          "AuthorName": "Stefano Fiscale",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2596858&course=5",
          "role": [
            "Picture of Stefano Fiscale"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 366939,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=366939",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "core_user_get_users_by_field return blank array",
          "Text": "Hi! I've configured a webservice in a production website, but when I do a call to core_user_get_users_by_field function this returns a blank array except for the webservice user/role. What permissions or things  I must configure to get the right information for all users? Best regards.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 9, 2018, 12:51 AM",
          "AuthorName": "José Ayrám",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2404907&course=5",
          "role": [
            "Picture of José Ayrám"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_user_get_users_by_field return blank array",
          "Text": "Hi Did you get this to work? I'm having similar issue, I can get user data by id but not by email, username etc. I think its because email and username (and many others) are optional fields and return blank when  I fetch using core_user_get_users_by_field and passing the id field  via the webservice. Anyone know how to enable these optional fields and return data instead of empty fields? Thanks Tim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 31, 2018, 5:58 PM",
          "AuthorName": "Tim Titchmarsh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2470807&course=5",
          "role": [
            "Picture of Tim Titchmarsh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_get_users_by_field return blank array",
          "Text": "Hi Tim, Did you find a solution to your problem? I am facing the exact same issue. Thanks, Sumit",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 11, 2018, 10:45 AM",
          "AuthorName": "Sumit Tayal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2506728&course=5",
          "role": [
            "Picture of Sumit Tayal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_get_users_by_field return blank array",
          "Text": "Hi Surmit there are several solutions that I found: 1. Give the webservices login account admin rights, you then get all the fields 2. You can get some fields by turning them on in the profile, email for example It seems hit and miss to find out what fields you can get, not sure why you would restrict them but I guess its part of the bigger permissions picture. The searching needs to have these fields enabled as well, so if you want to search by username then you must have this field returned as well. the only way I found of getting/searching by username for example was to give the web service account admin rights which seems a bit overkill! Good luck",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 11, 2018, 3:43 PM",
          "AuthorName": "Tim Titchmarsh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2470807&course=5",
          "role": [
            "Picture of Tim Titchmarsh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_get_users_by_field return blank array",
          "Text": "Thanks, Tim for pointing out the direction. Managed to get it working by providing the following permission to Webservice User moodle/user:viewalldetails",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 17, 2018, 4:57 PM",
          "AuthorName": "Sumit Tayal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2506728&course=5",
          "role": [
            "Picture of Sumit Tayal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_get_users_by_field return blank array",
          "Text": "I am trying to pull user details using core_user_get_users, using email and id it's working OK, but how to use it if I have a additional field \"Person No | personno\"? Getting user details by email address: OK https://imoodle.sm.com/webservice/rest/server.php?wstoken=WSTOKEN&wsfunction=core_user_get_users&moodlewsrestformat=xml&criteria[0][key]=email&criteria[0][value]=paulmcarney@yahoo.com =paulmcarney@yahoo.com Getting user details by id: OK https://imoodle.sm.com/webservice/rest/server.php?wstoken=WSTOKEN&wsfunction=core_user_get_users&moodlewsrestformat=xml&criteria[0][key]=id&criteria[0][value]=2953 QUESTION: But how to get user details using below optional field/User profile fields| Additional Information? => Person Number/personno with value of 210792 <SINGLE> <KEY name=\"type\"> <VALUE>text</VALUE> </KEY> <KEY name=\"value\"> <VALUE>210792</VALUE> </KEY> <KEY name=\"name\"> <VALUE>Person Number</VALUE> </KEY> <KEY name=\"shortname\"> <VALUE>personno</VALUE> </KEY> </SINGLE> Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 15, 2018, 3:47 PM",
          "AuthorName": "biboy atienza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2399941&course=5",
          "role": [
            "Picture of biboy atienza"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_get_users_by_field return blank array",
          "Text": "Yes, this is the solution. Thank You! Give the capacity \"Moodle/user:viewalldetails\" to the rol of web services.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 30, 2018, 7:42 PM",
          "AuthorName": "Jose Lorenzo Espeso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=653209&course=5",
          "role": [
            "Picture of Jose Lorenzo Espeso"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re: core_user_get_users_by_field return blank array",
          "Text": "For me it didn't work even after providing moodle/user:viewalldetails permission ..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 30, 2019, 3:48 PM",
          "AuthorName": "Nitin Jain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1343717&course=5",
          "role": [
            "Picture of Nitin Jain",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 386204,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=386204",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "No result when I call to a WebService with the core_user_get_users_by_field function",
          "Text": "Hello, I have developed an WebService that use the function core_user_get_users_by_field but this is the result (when must returns results) \n```text\nThis \nXML\n file does not appear to have any style information associated with it. The document tree is shown below.\n```\n `` `` `` `` `<RESPONSE>` `` `` `<MULTIPLE> </MULTIPLE>` `` `` `</RESPONSE>` `` `` `` I searched in the forum and checked that the WebService user has the capacity moodle/user:viewalldetails Any idea? Could you please help me? Best Regards. (I'm using Moodle 3.5.1+).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 11, 2019, 12:50 AM",
          "AuthorName": "Dámaso Velázquez Álvarez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2351055&course=5",
          "role": [
            "Picture of Dámaso Velázquez Álvarez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 375059,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=375059",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Addning Course enrolment method through webservices.",
          "Text": "Hi, I have installed \"Webservice functions for cohort enrolment\" plug in to Add a cohort enrolment instance to a course. I have implemented code for  \"local_ws_enrolcohort_add_instance\" function but for\nsome cohorts its working and for some cohorts its showing below errors Array ( [faultCode] => 10648825 [faultString] => Object is not available at this context ! | DEBUG\nINFO: Cohort with id 39 is not available at this context. | ERRORCODE:\nunavailableatcontext ) Can any one please explain where is my mistake? My Code - /// SETUP - NEED TO BE CHANGED $token = '41d74182154a8b8197d41730373faf16';",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 25, 2018, 9:44 PM",
          "AuthorName": "santosh Suwarnkar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1879300&course=5",
          "role": [
            "Picture of santosh Suwarnkar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Addning Course enrolment method through webservices.",
          "Text": "Hello, We experienced the same issue and will just quickly note our guess (and a possible solution): in externallib.php of moodle-local_ws_enrolcohort in line 329 \n```text\ncohort_get_available_cohorts($context)\n```\n is called. This has a hardcoded limit of 25 items as seen in line 239 of https://github.com/moodle/moodle/blob/master/cohort/lib.php This limit makes some sense for paged views, but of course is not helpful here, as whenever there are more than 25 cohorts, only the first 25 will be returned. Changing the call to \n```text\ncohort_get_available_cohorts($context, 0, 0, 0)\n```\n resolves the problem for us. Best regards, thoschi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 27, 2019, 4:26 AM",
          "AuthorName": "Thomas Schröder",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1104547&course=5",
          "role": [
            "Picture of Thomas Schröder"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 373844,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373844",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Fetch assignment details for a course, including due dates.",
          "Text": "Is there an api that allows you to fetch all assignments in a course, that includes the due date information? I can see one api that allows you to fetch assignments, but it returns just assignments for the current user. (The results appear filtered). I just want to fi d all of the assignments and when they are due. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 26, 2018, 12:51 PM",
          "AuthorName": "Zadok Lindt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2389542&course=5",
          "role": [
            "Picture of Zadok Lindt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Fetch assignment details for a course, including due dates.",
          "Text": "The on pe I have found so far reports this: https://test/moodle/webservice/rest/server.php?wstoken=test&wsfunction=mod_assign_get_assignments&moodlewsrestformat=json&courseids[0]=1 Even when you use the admin account that has access to everything (not enrolled, just maximum permission ), we find: \n```text\n{\"courses\":[],\n\"warnings\":[{\"item\":\"course\",\"itemid\":1,\"warningcode\":\"2\",\"message\":\"User is not enrolled or does not have requested capability\"}]}\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 26, 2018, 12:54 PM",
          "AuthorName": "Zadok Lindt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2389542&course=5",
          "role": [
            "Picture of Zadok Lindt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Fetch assignment details for a course, including due dates.",
          "Text": "I guess it's too late now but I hope it'll still be useful. According to the documentation, if you try to fetch assignment details with a user who isn't enrolled into the course, you should add the following argument : includenotenrolledcourses=1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 19, 2019, 9:01 PM",
          "AuthorName": "Dorian Malguid",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2643004&course=5",
          "role": [
            "Picture of Dorian Malguid"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 381805,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381805",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "how many methods to improve the perfermance of Moodle?",
          "Text": "I met system performance issue. I setup moodle system on my computer, access it with 127.0.0.1 to exclude network transfer and blcock issue.  and only add two demo coures, but i found it's really slow performance. do you know how to improve it? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 31, 2019, 4:50 PM",
          "AuthorName": "StarMaker NJ",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2591334&course=5",
          "role": [
            "Picture of StarMaker NJ"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: how many methods to improve the perfermance of Moodle?",
          "Text": "h ere you can try any of this method for solving your issue. F ollow these tips optimize your Moodle website and improve performance. - The Basic Tweaks - Optimize The Performance Of Apache Server - Increase MaxClients Memory Limit - Tweak MySQL Performance - Tools For Adjusting Moodle’s Performance From, .NET software developer IFour technolab pvt ltd. LINK: http://www.ifourtechnolab.com/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 1, 2019, 5:45 PM",
          "AuthorName": "sagar chavada",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2634230&course=5",
          "role": [
            "Picture of sagar chavada"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 384354,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=384354",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Excluding web service user from need to accept privacy policy",
          "Text": "Hi there, I just ran into issues when trying to access courses with a web service user, as the policy documents hadn't been accepted by this user. It was easy enough to do that manually, but for the future, in case the policy documents change: Is there a way to exclude a certain global role from needing to accept the policies at all? Thanks, Rene",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 26, 2019, 5:15 PM",
          "AuthorName": "Rene Hamburger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2432093&course=5",
          "role": [
            "Picture of Rene Hamburger"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 383863,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=383863",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "how to make moodle sent password reset email without PM emails?",
          "Text": "I want to allow moodle send password reset emails, but in the same time when send Massive PM to students do not want to be sent by email too, how to achieve that in moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 15, 2019, 1:46 PM",
          "AuthorName": "القناة الرسمية لكلية التجارة ، جامعة دمنهور",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2428322&course=5",
          "role": [
            "Picture of القناة الرسمية لكلية التجارة ، جامعة دمنهور"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 381788,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381788",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "error message that came out of the blue",
          "Text": "Plugin dependencies check Moodle Mobile tools /admin/tool/mobile 2017111300 2017111300 Moodle 2017110800 webservice_rest (2017110800) Fails Unavailable I just opened our version of moodle and received this message error and am totally lost on how to fix it. This is totally new to me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 31, 2019, 4:42 AM",
          "AuthorName": "David Olson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1291195&course=5",
          "role": [
            "Picture of David Olson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: error message that came out of the blue",
          "Text": "Appears you have/running version 3.4.x of Moodle. Please go to http(s)://yourserver/admin/settings.php?section=mobilesettings and see how that's set. cat ./moodle34/admin/tool/mobile/version.php shows: defined('MOODLE_INTERNAL') || die(); $plugin->version   = 2017111300; // The current plugin version (Date: YYYYMMDDXX). $plugin->requires  = 2017110800; // Requires this Moodle version. $plugin->component = 'tool_mobile'; // Full name of the plugin (used for diagnostics). $plugin->dependencies = array( 'webservice_rest' => 2017110800 So it's related to mobile. 'spirit of sharing', Ken",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, January 31, 2019, 5:35 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error message that came out of the blue",
          "Text": "cat ./moodle34/admin/tool/mobile/version.php shows: defined('MOODLE_INTERNAL') || die(); $plugin->version   = 2017111300; // The current plugin version (Date: YYYYMMDDXX). $plugin->requires  = 2017110800; // Requires this Moodle version. $plugin->component = 'tool_mobile'; // Full name of the plugin (used for diagnostics). $plugin->dependencies = array( _____________________________________________________________________________ I can see as you have shown the error and the need for a change in the mobile/version.php but I have tried to figure out how this change came about and why. I am not a programmer but an administrator for several moodle sites and want to prevent this from happening in the future as well as get this code fixed. Any suggestions? David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 31, 2019, 7:51 AM",
          "AuthorName": "David Olson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1291195&course=5",
          "role": [
            "Picture of David Olson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error message that came out of the blue",
          "Text": "And when you went to http(s)://yourserver/admin/settings.php?section=mobilesettings as suggested earlier you saw what? Think Moodle 3.4.x had a bug in it related.  Have a 3.4.highest for testing purposes and have no such issue.  But accessing the area above does produce some 'red' warnings about certificate not being valid ... uhhhh, not true. If desiring to keep the 3.4.x you have, download locally the 3.4.x code, unzip locally, and compare what's in the unzipped archive with what's in one of your instances of Moodle on server . On my server, error in a 3.5.x or 3.6.x. not present. Fix?  Time to upgrade? As far as why/how that happened ... sorry, no Vulcan Mind Meld possible on this end! :| 'spirit of sharing', Ken",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, January 31, 2019, 8:38 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error message that came out of the blue",
          "Text": "Ken, I got the option to allow mobile access to the site. I checked it but it didn't hold. Went back to the same error as before. I posted below what I get. If I opt to upgrade to 3.5 how is that done without losing the content already on platform. david - still learning",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1539110/Screen%20Shot%202019-01-31%20at%209.17.40%20AM.png?forcedownload=1"
          ],
          "Time": "Thursday, January 31, 2019, 10:19 PM",
          "AuthorName": "David Olson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1291195&course=5",
          "role": [
            "Picture of David Olson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error message that came out of the blue",
          "Text": "What's missing is what is called a 'dependency' and is part of Moodle 3.4.x core code.  The question that comes to my mind is ... why is a part of core code missing?    Might stem from how one installed ... or even tinkering where one shouldn't tinkering.   Dunno.  No Vulcan Mind Meld possible here! I see a ' upload zip' link ... am thinking that to repair this you could: 1. download the 3.4 code zip. https://download.moodle.org/releases/security/ 2. unzip it locally. 3. find the moodle/admin/tool/mobile directory in the unzipped folders. 4. zip just that directory ... the 'mobile'. 5. return to the area you show and upload the zip you created. The question about upgrading to 3.5 ... and if all that content you've created will still be there ... should, because much of the info is actually in the DB and if one did upload files, those files are kept in moodledata.   So replacing the code directory with a 3.5.x copy and copying config.php file from the current site into the new 3.5 code (plus any addon code installed in the 3.4), should trigger an upgrade. Before you do that, however, please know how to do a site backup ... code directory, db dump, and archive of moodle data.   As well as read: https://docs.moodle.org/35/en/Upgrading especially the part about requirements. 'spirit of sharing', Ken",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, January 31, 2019, 11:23 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error message that came out of the blue",
          "Text": "Ken, I have downloaded both available versions of the 3.4 moodle package and done as described in your earlier note to me.  Each time I received the same message: Unavailable missing dependencies ×Not in the Plugins directory: webservice_rest . Is it possible that the rest files are some where else. This is really frustrating to me but it should be straight forward. I have to get it solved. Is there something else I can do? I need that mind meld today if possible. David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 5, 2019, 11:49 PM",
          "AuthorName": "David Olson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1291195&course=5",
          "role": [
            "Picture of David Olson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error message that came out of the blue",
          "Text": "All I know is that what's missing is supposed to be part of core code. Expect a message via EMail from me. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 6, 2019, 2:27 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 381792,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381792",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Using the web services api to change a Quiz time",
          "Text": "Hi All, I'm using the web services api and I want to update a timeopen date programmatically. I don't see which api will allow me to do that? Any suggestions? Thanks so much. Randy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 31, 2019, 7:20 AM",
          "AuthorName": "Randall Reed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2591168&course=5",
          "role": [
            "Picture of Randall Reed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 381572,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381572",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Custom web service issue",
          "Text": "I developed a custom web service, when i am adding function to the service created function is not in the drop down.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 28, 2019, 7:33 PM",
          "AuthorName": "Amit Ringola",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2586703&course=5",
          "role": [
            "Picture of Amit Ringola"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 381558,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381558",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Curl.php in moodle custom web service plugin",
          "Text": "What is the use of curl.php . in custom moodle web service plugin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 28, 2019, 3:56 PM",
          "AuthorName": "Amit Ringola",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2586703&course=5",
          "role": [
            "Picture of Amit Ringola"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 381347,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381347",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Unable to Update Course by Api Function core_course_update_courses",
          "Text": "Hello I have LMS Moodle In that, I am using Moodle API by php curl For that, 1) I have Created a User role and assign permission to that role. 2) Create user and assign that user to a created role 3) also create External Service by that user. 4) after that generate a token to access API I am able to create a course by that generated token but unable to update course and getting an error \"core_course_update_courses: accessexception Access control exception\" I am using core_course_update_courses I am Using curl class https://github.com/moodlehq/sample-ws-clients/blob/master/PHP-REST/curl.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 23, 2019, 5:08 PM",
          "AuthorName": "Gaurav K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2585142&course=5",
          "role": [
            "Picture of Gaurav K"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 380373,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=380373",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Webservice and core function parameters",
          "Text": "I am running moodle 3.4 on centos, and will be implementing webservices using Rest API for our server . I have listed out the core functions that we will be using, however we seem to need some additional fields such as Cohort Start/End Date or Employer ID/Employer name. In the DB I can add these columns to store these data but I am wondering how can I tweak the REST parameters to POST/GET these parameters?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 28, 2018, 7:49 PM",
          "AuthorName": "Karishma Tiwari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1980495&course=5",
          "role": [
            "Picture of Karishma Tiwari"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservice and core function parameters",
          "Text": "Hey Karishma, If you want to add  rest parameter for GET/POST  you can do it by this. \n```text\nhttp://example.com/webservice/rest/server.php?wstoken=4d58eb874d279fd220e9&wsfunction=location_webservices_create_variant&moodlewsrestformat=json&group_idnumber=97&name=Full\n Week&course_idnumber=toefl&location_idnumber=99\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 15, 2019, 7:48 PM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 380421,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=380421",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web Service",
          "Text": "I have created external web service in moodle 3.6.1 and added one function mod_quiz_start_attempt in external service. But this service access by only admin when any other user try to access this service they got following error. { \"exception\": \"moodle_quiz_exception\", \"errorcode\": \"notyourattempt\", \"message\": \"This is not your attempt!\" } As a admin if I want to allow other users to attempt the quiz using web service API then is there any possible ways to do this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 31, 2018, 9:06 PM",
          "AuthorName": "Nirav Vaghasia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2573224&course=5",
          "role": [
            "Picture of Nirav Vaghasia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web Service",
          "Text": "Hi Nirav, you need to authenticate the actual user willing to attend the attempt: you cannot start an attempt as an admin since it will be the attempt of that user. HTH , Matteo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 2, 2019, 6:03 AM",
          "AuthorName": "Matteo Scaramuccia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1075386&course=5",
          "role": [
            "Picture of Matteo Scaramuccia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 379744,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=379744",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Cannot get course list on web services",
          "Text": "Hi guys, I am new to moodle and I am trying to retrieve a list of courses via the web service. I followed all the instructions on enabling the web services, creating a user, roles, services, permissions, adding functions, etc. I am calling: http://[MOODLE_URL]/webservice/rest/ server .php?wstoken=[TOKEN]&moodlewsrestformat=json&wsfunction=core_course_get_courses But getting back {\"exception\": \"moodle_exception\",\"errorcode\": \"errorcoursecontextnotvalid\",\"message\": \"You cannot execute functions in the course context (course id:2). The context error message was: Course or activity not accessible.\"} I am sure it is just some kind of permission or setting somewhere, can any point me in the correct direction? Much appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 12, 2018, 1:50 PM",
          "AuthorName": "Wayne Kruger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2566634&course=5",
          "role": [
            "Picture of Wayne Kruger"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cannot get course list on web services",
          "Text": "I changed the function name to core_course_get_courses_by_field and I am getting data back. In case anyone else has this issue...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 12, 2018, 2:41 PM",
          "AuthorName": "Wayne Kruger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2566634&course=5",
          "role": [
            "Picture of Wayne Kruger"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 378929,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=378929",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Problems with webservice access",
          "Text": "I want to use moodle's  standard rest api for adding users and assign role to this newly created users , but  when i try to invoke my service from postman here is my url for rest service invocation: http://test-exam.sda.com/webservice/rest/server.php?wstoken=42901bb69a936dfcc37fda898a3c4c08&wsfunction=core_user_create_users&moodlewsrestformat=json& ; users[0][username]=liamneeson&users[0][password]=li@mR0cks!&users[0][firstname]=Liam&users[0][lastname]=Neeson&users[0][email]=liamneeson@refineddata.com the token which i have used for rest service invocation is generated for web service user , who have permission on rest service, enrolment and also user create (i have made role which have this permissions and after that assign this role to my web service user) ,i have activated service also but when i try to use this token i got this error: { \"exception\": \"webservice_access_exception\", \"errorcode\": \"accessexception\", \"message\": \"Access control exception\" } I have assign this role to admin user and then i have generated token for admin user but in this case i got the same error i mean webservice_access_exception, what should i change to be able to create users?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 22, 2018, 7:01 PM",
          "AuthorName": "Salome Tkhilaishvili",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2556503&course=5",
          "role": [
            "Picture of Salome Tkhilaishvili"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problems with webservice access",
          "Text": "Unfortunately, I do not have an answer to your question, but another question. Is it possible to access Moodle's APIs as a teacher and not a site administrator?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 7, 2018, 1:57 PM",
          "AuthorName": "Ghislain Nono Gueye",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2562876&course=5",
          "role": [
            "Picture of Ghislain Nono Gueye"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with webservice access",
          "Text": "Hi Ghislain, Yes, it is possible to access Moodle's APIs like Web Services as a teacher. For web services just create a token for the user for which you want to create access capability. you can create a token from Site Administration > Plugins > Webservices > Manage Tokens or hit http://example.com/admin/settings.php?section=webservicetokens . Regards, Mayank Tyagi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 8, 2018, 7:48 PM",
          "AuthorName": "Mayank Tyagi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2563272&course=5",
          "role": [
            "Picture of Mayank Tyagi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with webservice access",
          "Text": "Thank you very much for your response. Actually, I am a teacher at a university and after searching for a few days, I was not able to find out how to access Site Administration. My best best is that only the administration of the university has such an access. If that is the case, does that mean that I need to ask them to create a token for me so I can access the APIs? Sincere thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 8, 2018, 10:17 PM",
          "AuthorName": "Ghislain Nono Gueye",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2562876&course=5",
          "role": [
            "Picture of Ghislain Nono Gueye"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 377888,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=377888",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Why does a category idnumber return null?",
          "Text": "I use the Moodle API and GetToken to log-in with a user. Then I retrieve the categories information here: api.GetCategories(siteInfo.Userid, categories => { DataManager.Instance.categories.Clear(); if (categories.Length > 0) { foreach (var category in categories) { // Save category info. Debug.Log(category.Idnumber); DataManager.Instance.categories.Add(category); } } queuedRequestCount--; However, category.Idnumber returns null. It shouldn't be null, it's definitely filled in. Is it an issue with account privilege? Or what could it be..? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 28, 2018, 4:18 AM",
          "AuthorName": "Peter de Jong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2469574&course=5",
          "role": [
            "Picture of Peter de Jong"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Why does a category idnumber return null?",
          "Text": "Bump. How can I retrieve category idNumber through WEB API? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 10, 2018, 3:53 PM",
          "AuthorName": "Peter de Jong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2469574&course=5",
          "role": [
            "Picture of Peter de Jong"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Why does a category idnumber return null?",
          "Text": "Bump",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 2, 2018, 1:27 AM",
          "AuthorName": "Peter de Jong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2469574&course=5",
          "role": [
            "Picture of Peter de Jong"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 379243,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=379243",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Which web service call allows fetching gradebook categories?",
          "Text": "When we invoke gradereport_user_get_grade_items , to get a full list of all student grades in a course, the results include a field named categoryid. But the results do not provide information about the category it refers to. (formulas, etc...) Which web service do we invoke to get this information?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 30, 2018, 12:08 PM",
          "AuthorName": "Zadok Lindt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2389542&course=5",
          "role": [
            "Picture of Zadok Lindt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Which web service call allows fetching gradebook categories?",
          "Text": "Consider the data extracted from a course with a category \n```text\nitemtype: \ncourse,\n       categoryid: \n71,\n    grade: \n61.07\n\n\n    itemtype: \ncategory,\n category: \n80,      \ngrade: 50.87\n\n\n       itemtype: \nmod,\n   itemname: test 1,  grade: 71.6\n\n\n       itemtype: \nmod,\n   itemname: test 2,  grade: 81.00\n\n\n       itemtype: \nmod,\n    itemname: test 3, grade: 0.00\n```\n What is the name (displayed in the gradebook) for category 80, how do we get it? What is the formula for category 80, how do we get it? The above two questions are not in the data returned by gradereport_user_get_grade_items. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 30, 2018, 1:04 PM",
          "AuthorName": "Zadok Lindt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2389542&course=5",
          "role": [
            "Picture of Zadok Lindt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 378598,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=378598",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Enroling course and role assignment through rest api",
          "Text": "Hi All, Im using moodle version-3.3 ,iam able to create users through rest API,but i m failing to assign roles and coures to that user presently im facing this error,plz check below. {\"exception\":\"moodle_exception\",\"errorcode\":\"wsusercannotassign\",\"message\":\"You don't have the permission to assign this role (5) to this user (323) in this course(26).\"} Thanks, Eswar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 15, 2018, 5:25 PM",
          "AuthorName": "Eswar sfc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2352390&course=5",
          "role": [
            "Picture of Eswar sfc"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Enroling course and role assignment through rest api",
          "Text": "You have to muck around with the permissions in the System Admin section of Moodle to get it to work. (I forget the name of the screen, I think its in \"Plugins\" or \"Webservice\" or something like that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 30, 2018, 12:03 PM",
          "AuthorName": "Zadok Lindt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2389542&course=5",
          "role": [
            "Picture of Zadok Lindt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 378398,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=378398",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to get token or login/password of already logged in user?",
          "Text": "Hello! I want to embed to Moodle course Unity WebGL mini-games as quizzes/questions and to exchange data with Moodle such as attempts, correct/wrong answers and so on. To do so I must send requests to Moodle Web Services from Unity code. But how can I get user token or user login/password when he is already logged in? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 9, 2018, 10:33 PM",
          "AuthorName": "Rustam Rakhimov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2528294&course=5",
          "role": [
            "Picture of Rustam Rakhimov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 378295,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=378295",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "web services with personal access token",
          "Text": "when use moodle_mobile_app web service i can user user token to access any function on it but when i create any web service i must create a client token i need to create web service and use user token like moodle_mobile_app how can i do that ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 7, 2018, 11:25 PM",
          "AuthorName": "Abdelrahman Magdi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2534932&course=5",
          "role": [
            "Picture of Abdelrahman Magdi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 377576,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=377576",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "GET request: core_course_get_courses",
          "Text": "Hi, I'm making the following GET request in postman:  ...?wstoken=********&wsfunction=core_course_get_courses and it's returning all 8 courses that I have set up in Moodle for testing and the user token that I'm using in the URL is only enrolled to 7 of them. Is there a way to only return the users courses that they're enrolled in? Thanks, Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 20, 2018, 11:38 PM",
          "AuthorName": "neptune 1",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2138901&course=5",
          "role": [
            "Picture of neptune 1"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: GET request: core_course_get_courses",
          "Text": "It sounds like you want to use the core_enrol_get_users_courses web service",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 23, 2018, 11:09 PM",
          "AuthorName": "Neill Magill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1457891&course=5",
          "role": [
            "Picture of Neill Magill",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 371938,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371938",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "core_user_get_users / core_user_create_users \"Access Control Exception\"",
          "Text": "Hello, My name is Chuck Yocum, I am the Support Manager at Spatial Business Systems with 20 years of experience writing system integration tools. I am currently writing an integration between Zendesk and Moodle user account managment. In Zendesk an agent can select a bunch of fields and this will create the match Moodle account if need be. I have written a .Net C# api wrapper to call the different Moodle functions as I wish.    My api has no issue getting the course information but I can't get the user functions to work. I got tired of trying to find the right security sessions so I have created the latest token as the Admin user to be sure what was going on. Any suggestions? I get the error for example when i use this code posted on another discussion. https://moodle.org/mod/forum/discuss.php?d=210866",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 12, 2018, 3:20 AM",
          "AuthorName": "Chuck Yocum",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2453071&course=5",
          "role": [
            "Picture of Chuck Yocum"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_user_get_users / core_user_create_users \"Access Control Exception\"",
          "Text": "I figured this out. It was the web service authentation setting",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 12, 2018, 6:57 AM",
          "AuthorName": "Chuck Yocum",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2453071&course=5",
          "role": [
            "Picture of Chuck Yocum"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_get_users / core_user_create_users \"Access Control Exception\"",
          "Text": "I am trying to pull user details using core_user_get_users, using email and id it's working OK, but how to use it if I have a additional field \"Person No | personno\"? Getting user details by email address: OK https://imoodle.sm.com/webservice/rest/server.php?wstoken=WSTOKEN&wsfunction=core_user_get_users&moodlewsrestformat=xml&criteria[0][key]=email&criteria[0][value]=paulmcarney@yahoo.com =paulmcarney@yahoo.com Getting user details by id: OK https://imoodle.sm.com/webservice/rest/server.php?wstoken=WSTOKEN&wsfunction=core_user_get_users&moodlewsrestformat=xml&criteria[0][key]=id&criteria[0][value]=2953 QUESTION: But how to get user details using below optional field/User profile fields| Additional Information? => Person Number/personno with value of 210792 <SINGLE> <KEY name=\"type\"> <VALUE>text</VALUE> </KEY> <KEY name=\"value\"> <VALUE>210792</VALUE> </KEY> <KEY name=\"name\"> <VALUE>Person Number</VALUE> </KEY> <KEY name=\"shortname\"> <VALUE>personno</VALUE> </KEY> </SINGLE> Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 15, 2018, 3:46 PM",
          "AuthorName": "biboy atienza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2399941&course=5",
          "role": [
            "Picture of biboy atienza"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 376785,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376785",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Add assignment to course using webservices?",
          "Text": "Is it possible to add an assignment to a course using a web service?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 3, 2018, 6:44 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Add assignment to course using webservices?",
          "Text": "There are no function for that on the current list https://docs.moodle.org/dev/Web_service_API_functions but there are some discussions on tracker. I could not find the MDL issue, but I remember playing with that on the past.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 6, 2018, 12:19 AM",
          "AuthorName": "Daniel Neis Araujo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=32985&course=5",
          "role": [
            "Picture of Daniel Neis Araujo",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add assignment to course using webservices?",
          "Text": "I created a tracker for this, so please vote if you wish to have this or just want to help me MDL-63577",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, October 8, 2018, 4:03 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add assignment to course using webservices?",
          "Text": "Hi, Richard you may take a look at MDL-40779 . I linked this to your issue. I would recommend not mention that you \"desperately\" need this. A business or institution must understand https://docs.moodle.org/dev/Process and it's calendar. Your issue has more chances to be accepted if you can provide a code solution or initial work on code that will be reviewed by HQ. A business or person can always contact a Moodle Partner on his/her territory to get support/consulting/development services to help with any Moodle issues. There is also the Moodle User Association that serves as a channel to get things done on Moodle. Best regards, Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 8, 2018, 7:44 PM",
          "AuthorName": "Daniel Neis Araujo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=32985&course=5",
          "role": [
            "Picture of Daniel Neis Araujo",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add assignment to course using webservices?",
          "Text": "Thanks Daniel! I removed the word 'desperately' from the tracker. We do understand how things work, yet sometimes there's a very long wait for even code fixes. We will probably get this build by a third party. The tracker is posted to keep track on wanted functionality within Moodle. If the MUA picks it up, then we are happy, but we not always have the luxury of waiting for the fix. I voted for MDL-40779 and will be watching it from now on.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 9, 2018, 3:34 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 376496,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376496",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Pull files to repository",
          "Text": "I search for a way to pull all files from Course, maybe also html texts. The first approach i tried was the Sword Plugin, but it only offers to upload files to a repository. I also need to upload existing files/courses. The second approach was to use a self written portfolio Plugin, but i recognized it is only possible to export User Data and not whole courses. The third aüproach is to pull the courses from the rest api. I use the API from https://github.com/bantonia/MoodleRest/ . I only managed to get the Course \" metadata \" and i need help to also pull all related files and texts. I got the courses with the  Code: \n```text\nfinal MoodleCourse[] courses = MoodleRestCourse.getAllCourses();\n```\n I am also aware of the the Method MoodleRestFile.getFiles() and the Class MoodleFileParent, but i do not really get how to use it. I hope i can get some Help here. A fallback approach would  be export a course to .mbz and reupload it to the repository and parse it, but i think the file format can change and it requires additional steps for the user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 26, 2018, 11:08 PM",
          "AuthorName": "Sebastian Hofmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2521095&course=5",
          "role": [
            "Picture of Sebastian Hofmann"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 376235,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376235",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "webservice to return roles available at particular contexts?",
          "Text": "Hi all, Is there a webservice call I can use to return a list of roles which can be granted within courses? many thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 20, 2018, 8:08 PM",
          "AuthorName": "Stephen Ogden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=774299&course=5",
          "role": [
            "Picture of Stephen Ogden"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 375198,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=375198",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Web service running in Docker connecting to Moodle running in Docker",
          "Text": "Hi, I have an LTI app that's running in Docker on my local machine, and I want to call Moodle web services with it. Moodle is also running on Docker on my local machine. The client I am using is https://github.com/mudrd8mz/node-moodle-client . Currently, the Moodle and app containers are in the same Docker network, so I can only call the Moodle web server with the IP address it's given in Docker (172.19.0.x). When the Moodle web server receives the GET request, it tries to redirect the app to http://localhost:8000 which returns a connection refused error to the app. What I've tried: Changing Moodle's wwwroot to http://172.19.0.x Putting the Moodle web server in the Docker host network Adding the Moodle web server 172.19.0.x to /etc/hosts in the Moodle web server container and my personal computer as localhost Adding \"localhost\" as an alias for the Moodle web server container What can I do to call web services from the app while also using Docker? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 29, 2018, 1:48 AM",
          "AuthorName": "Ning H",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2490447&course=5",
          "role": [
            "Picture of Ning H"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service running in Docker connecting to Moodle running in Docker",
          "Text": "Hi Ning, what is the Moodle image your container is running from? From the error ( localhost:8000 ), I'm guessing you're using https://github.com/moodlehq/moodle-docker/ . If confirmed, you can configure both host and port via MOODLE_DOCKER_WEB_HOST and MOODLE_DOCKER_WEB_PORT , respectively. Just configure them using the IP of the host and the port exposed to the host i.e. what expected by your client. HTH , Matteo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 29, 2018, 3:16 PM",
          "AuthorName": "Matteo Scaramuccia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1075386&course=5",
          "role": [
            "Picture of Matteo Scaramuccia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service running in Docker connecting to Moodle running in Docker",
          "Text": "Hi Matteo, Thank you for the suggestion! I was able to fix the issue earlier today on the app side by putting the app server inside the host network.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 29, 2018, 3:57 PM",
          "AuthorName": "Ning H",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2490447&course=5",
          "role": [
            "Picture of Ning H"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service running in Docker connecting to Moodle running in Docker",
          "Text": "Great ! Yes, under the same network it is reachable even via the named service , if you'll play with a docker composition. Enjoy! Matteo",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/approve"
          ],
          "Time": "Wednesday, August 29, 2018, 4:59 PM",
          "AuthorName": "Matteo Scaramuccia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1075386&course=5",
          "role": [
            "Picture of Matteo Scaramuccia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 374504,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374504",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle Web Services Development",
          "Text": "Dears, As a web developer with a few months of experience (HTML/ CSS / JavaScript /PHP), what track is preferable to follow regarding Moodle's Web services?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 11, 2018, 11:34 PM",
          "AuthorName": "Mohamad El Bohsaly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2313697&course=5",
          "role": [
            "Picture of Mohamad El Bohsaly"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 365598,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=365598",
      "NoOfResponses": 19,
      "ResponsesInList": [
        {
          "Title": "Myddleware and Magento",
          "Text": "Hi, anyone experienced with Myddleware, Magento 2.2.2 , Moodle 3.4.1? Wanting to make moodle users from Magento Customers. Not working. In Myddleware getting error: \"invalidparameter : Invalid parameter value detectedFailed to send document. Status : Error_sending\" The connectors seem to work within Myddleware and I set up a rule to copy Magento customers names into Moodle (to create users). I installed the Myddleware plugin into Moodle and also created a custom web service as per Myddleware documentation. I'm unclear if I need to do anything more in Moodle. Tried adding webservice capabilities to my Moodle user and making the user authorised for the custom web service and plugin. May not have done this right.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 12, 2018, 6:26 PM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi Eric, Thanks for using Myddleware. Unfortunately the error returned by Moodle hasn't much detail. So\ncould you try to create the user manually with the same data that you\nhave in your transfer. Moodle should give you an error too with more\ndetail, for example, the password is too short, or username has space, a\nuser is alreday existing with the same email address... When you have the error, you could change your data transfer and your rule. The good news is, if Moodle returns this error, it means that your\nconnection is working. It is better to get an erro than nothng ;). Could you tell us if your problem is solved ? Thanks. If you still have the error, could you show us the detail of a data transfert\n(but don't share client real data). Then we will test these data in our\nMoodle. Thanks Best regards, Stéphane",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 13, 2018, 9:57 AM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi. That error was actually from Myddleware. I deleted my rule and made a very simple one. When I make the rule, it shows that both connectors connect (light bulb lights up). I only have only one test customer in my Magento. In the rule, modules are Magento customers to Moodle users. I then mapped email, firstname, lastname from Magento to Moodle. The simulation works. I set synchronisation type to \"create data only\" and confirmed the rule. I then run it and check the transfer and it says \"no transfer found.\" When I check the tasks it has an entry. Status is \"end\" and Open, Closed, Cancelled, and Error are all \"0.\" Start and end date are the same. Are there specific error logs that I should look at? Thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 13, 2018, 11:26 AM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi Eric, For information, Myddleware tried to create the user into Moodle, and the error displayed was just the message returned by Moodle. So you tried to create a simple rule but Myddleware can't read any data. I guess it is just because of you reference date in your rule. This date is probably later than the creation date of your client in Magento. You can have more information about this reference date here : http://community.myddleware.com/index.php/tutorial/#parameters If you change this date to a date before the creation of a customer in Magento, Myddleware will read it. Then, if your data transfer is stopped to \"error_sending\" status again. Maybe you will have to change your rule again. But this time, don't delete it, here what you can do : 1) cancel your data  transfert, 2) change your rule, 3) change the rule reference date and 4) run the rule again. About your rule, you will maybe need to set a password, it depends on your settings in Moodle. You can find in attachment a picture of a rule we have set up between Prestashop and Moodle. Hope it will help. Stéphane",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1474421/moodle_create_user.png?forcedownload=1"
          ],
          "Time": "Tuesday, February 13, 2018, 8:57 PM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "OK changing the date parameter has made a difference, but still not transferring data. In the transfers list I'm getting two rows with \"Error_sendingX\" and type \"C.\" It looks like each row is for a customer...which makes sense because I have 2 customers in Magento. I noticed the date/time in Myddleware is 13 hours behind my server time (NZ). I did set timezone in both php.ini files in etc/php/7.0: Here is what one of the transfers looks like: Tasks list has 2 rows, one for the manual running of the rule and one for the auto sync.  So it looks like when I change the date to 2010 and run it manually it is trying to send data...and that when the auto sync runs it it is not trying because the data parameter changes back to today: Apache error log...one of my customers in Magento has no middle name so looks like that is reason for PHP notice: [Wed Feb 14 12:00:39.054910 2018] [:error] [pid 5814]\n[client MYHOMEIPADDRESS:6412] PHP Warning: \nInvalid argument supplied for foreach() in\n/var/www/myddleware/src/Myddleware/RegleBundle/Solutions/magento.php on line\n268, referer: https://www.MYWEBSITE.COM/myddleware/rule/view/5a82462ba606d [Wed Feb 14 12:00:39.460000 2018] [:error] [pid 5814]\n[client MYHOMEIPADDRESS:6412] PHP Warning: \nInvalid argument supplied for foreach() in\n/var/www/myddleware/src/Myddleware/RegleBundle/Solutions/magento.php on line\n268, referer: https://www. MYWEBSITE.COM/myddleware/rule/view/5a82462ba606d [Wed Feb 14 12:02:02.267397 2018] [:error] [pid 5964]\n[client MYHOMEIPADDRESS:6411] PHP Notice: \nUndefined index: middlename in\n/var/www/myddleware/src/Myddleware/RegleBundle/Classes/document.php on line\n1239, referer: https://www. MYWEBSITE.COM/myddleware/rule/create/step3/5a82462ba606d PHP Notice:  Undefined\nindex: middlename in\n/var/www/myddleware/src/Myddleware/RegleBundle/Classes/document.php on line\n1021 Thanks for your help.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1474575/Myddleware%20%20%20Transfers%20list.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1474575/Myddleware%20%20%20Transfer%20form%205a836ece3e0862%2006940294.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1474575/Myddleware%20%20%20Tasks%20list.png"
          ],
          "Time": "Wednesday, February 14, 2018, 7:46 AM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "I ran the rule later and had a look at the Apache access log right after: MYSERVERIPADDRESS- - [14/Feb/2018:13:13:07 +1300] \"POST\n/webservice/rest/server.php?wstoken=36effd29c7b6a56e743b9b7e77ca827a&wsfunction=core_webservice_get_site_info\nHTTP/1.1\" 200 4266 \"-\" \"MoodleBot/1.0\" MYSERVERIPADDRESS- - [14/Feb/2018:13:13:07 +1300] \"POST\n/webservice/rest/server.php?wstoken=36effd29c7b6a56e743b9b7e77ca827a&wsfunction=core_webservice_get_site_info\nHTTP/1.1\" 200 4266 \"-\" \"MoodleBot/1.0\" MYSERVERIPADDRESS- - [14/Feb/2018:13:13:07 +1300] \"POST\n/webservice/rest/server.php?wstoken=36effd29c7b6a56e743b9b7e77ca827a&wsfunction=core_user_create_users\nHTTP/1.1\" 200 3747 \"-\" \"MoodleBot/1.0\" MYSERVERIPADDRESS- - [14/Feb/2018:13:13:07 +1300] \"POST\n/webservice/rest/server.php?wstoken=36effd29c7b6a56e743b9b7e77ca827a&wsfunction=core_user_create_users\nHTTP/1.1\" 200 3747 \"-\" \"MoodleBot/1.0\" MYSERVERIPADDRESS - - [14/Feb/2018:13:13:06 +1300] \"GET\n/myddleware/rule/exec/5a82462ba606d HTTP/1.1\" 302 4002 \" https://www.MYWEBSITE.COM/myddleware/rule/view/5a82462ba606d \"\n\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like\nGecko) Chrome/64.0.3282.140 Safari/537.36\" MYSERVERIPADDRESS - - [14/Feb/2018:13:13:07 +1300] \"GET\n/myddleware/rule/view/5a82462ba606d HTTP/1.1\" 200 5149 \" https://www.MYWEBSITE.COM/myddleware/rule/view/5a82462ba606d \"\n\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like\nGecko) Chrome/64.0.3282.140 Safari/537.36\" MYSERVERIPADDRESS - - [14/Feb/2018:13:13:08 +1300] \"GET\n/myddleware/js/routing?callback=fos.Router.setData HTTP/1.1\" 200 649\n\" https://www.MYWEBSITE.COM/myddleware/rule/view/5a82462ba606d \"\n\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like\nGecko) Chrome/64.0.3282.140 Safari/537.36\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 14, 2018, 8:21 AM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi, I have had some success!  I needed to make sure that Myddleware was sending all of the required fields to Moodle in order to create a user: username, firstname, lastname, password. I didn't have all of these in the rule so it did not work. I was able to create a user. I changed the rule to update data and this worked too. I came across a new problem...I deleted the user in Moodle, re-ran the rule (with date set to 2010), and it did not re-create the user. When I look in \"transfers\" in Myddleware, the status for the customer is \"send\" and type is \"U\"...I think that means \"update.\" So Myddleware thinks it is updating, but moodle user list doesn't change. If I create a new customer with the same info, in Magento, it works. I tried going into the moodle database and deleting the users but that didn't have any effect (as described here https://stackoverflow.com/questions/33547376/moodle-clean-up-database ).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 14, 2018, 10:55 AM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi Eric, Good news about the user creation ;). When you put a reference date in the past, or update a customer in Magento, Myddleware will read again the customer in Magento. Then Myddleware will check if this customer has already been sent to Moodle via the current rule. - If no, Myddleware will create the user in Moodle. - If yes, Myddleware will try to update the user in Moodle except if the rule's mode is \"create_only\". In this case, Myddleware will cancel the data transfer. But if the rule allows the data modification, Myddleware will find the Moodle user ID by searching with the Magento customer ID in a previous data transfer in the current rule. Then Myddleware will update the user in Moodle with the user ID found in Myddleware. In your case, you have deleted the user in Moodle but Myddleware still have the user ID and try to update it even if it is deleted. Moodle doesn't seem to return an error when we try to update a deleted user. This is weird. So if you delete a user in Moodle, you have 2 methods to handle it : - First method : delete the customer in Magento too, you will be sur that it won't be read again by Myddleware - Second method : you have to cancel every data transfert in you rule with the Moodle user ID. It isn't possible to cancel a data transfer already sent in Myddleware UI yet. We think about allow it for super ADMIN user. But for now, you have to update directly the database. Here is a query for that : UPDATE `Document` SET status = 'Cancel',\nglobal_status = 'Cancel' WHERE `rule_id` = '<your_rule_id>' AND\n`target_id`  = '<Moodle_user_id>' Then when you will update the customer in Magento or put the reference date in the past, Myddleware will try to create the user in Moodle. Please let me know if it solves your problem. Thanks. Stéphane",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 14, 2018, 9:13 PM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Cheers for your help Stéphane. I had to remove the quotation marks from the query and it worked. The only other small problem I have is that Myddleware's date/time seems to be set to Europe/France timezone. In Myddleware \"Europe/France\" seems to be default. I set my timezone in both php.ini files (in cli and apache2 directories) as it says in your installation instructions. I checked phpinfo and my default timezone is working. Thanks heaps. Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 15, 2018, 6:01 AM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Great Eric, Sorry, I forgot to answer you about the date/time. We store the date/time at GMT in the Myddleware's database. But you are right, we should display it according to the php settings. I have created an issue in our github : https://github.com/Myddleware/myddleware/issues/78 It will be fixed in the next release. Thanks for your feedback. Don't hesitate to create other issues if you see other things which have to be improved.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 15, 2018, 6:57 AM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "OK, thank you for all of your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 16, 2018, 4:53 AM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi Stéphane. I had a good look at your tutorials and your test site for Prestashop and Suite CRM but am stuck. I'm wanting customers to gain access to my Moodle courses when they buy courses through Magento. Here is where I am struggling: When trying to make rules I am getting confused with where the field names come from for source and target. Are these from the databases? Is there somewhere I can look to easily see how these field names relate to the data that I can see in Moodle/Magento? For \"relationships,\" in my source column (for magento) drop-down menus there are two options: \"ID orders\" and \"Customer ID.\" \"Customer ID\" is listed as a possible field for the rule, but \"ID orders\" is not. Where are these field names from..or is this a bug? Some field names in the target have stars next to them (E.g., email, firstname, lastname, username in Moodle), is that because these are required fields? When I click on \"create formula\" when making a rule, and then click on the target drop-down menu, I have only one field (auth) and its data options for Moodle as a target...seems like the drop-down should have all fields...is that a bug? I don't understand how \"relationships\" work. I think this is what I need to do to link orders with customers like in your test server. Seems like I need some unique identifier for items purchases...probably the SKU. So thinking that Myddleware would use a rule to detect a new order and pass the customer and SKU to the right fields in moodle so that the customer gets enrolled in the course identified by the SKU. If you have any Moodle/Magento working examples of rules then that would be helpful. The screenshot of the rule you sent me earlier was really helpful in making formulae (thanks). Best, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 19, 2018, 7:20 AM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi Eric, Sorry for the delay of our answer. 1. We\nusually use an API function to get the available fields and modules. However,\nthese kind of function doesn’t exist for Moodle so we have added\nmanually the fields and module into Moodle connector. About Magento, we have to improve the connector to use the metadata endpoints like  /V1/attributeMetadata/customer 2.The ID\norders field is the id of the current module (order here). It should be available\nin the list field. We will have a look when we will improve the connector. 3.This\nstars are just an indication in Myddleware to show which field should be required\nin the target application. However, for some reasons we don't force you to fill them in\nMyddleware. 4.There are\nonly the values for picklist field in the dropdown. But for Moodle and Magento,\nwe have added them manually. We will improve this for Magento when we will work on the Magento connector. 5.About relationship,\nyou can read this tutorial, we talk about relationship in the chapters 3.2.3\nand 6.1) : http://community.myddleware.com/index.php/tutorial/ 6.Unfortunately\nwe have only example between Moodle and Prestashop with a Myddleware template.\nThis template create few rules in Myddleware to send Prestashop Client to Moodle user and to\nenrol them to Moodle courses depending of which product they bought. The\nproblem is that Magento connector isn’t complete like Prestashop connector is.\nThere is some development to make to be able to do the same thing with Magento.We\nplan to improve the Magento connector in a few weeks. But if\nyou want it quickly, and if you are or you know a developer we can guide you to\nimprove Magento connector in Myddleware. Then you could share your code in our\ngithub. If you aren’t developer and if you want we work on it, no problem, just\ncontact us via our contact page : http://www.myddleware.com/contact-us Then we will talk privately. Have a nice day, Stéphane",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 20, 2018, 11:08 PM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "OK, that all makes sense thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 21, 2018, 6:18 AM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi Stéphane. I thought I'd check to see if I could help with the Moodle connector. I'm not a developer. I taught myself how to use Unix, Moodle, and set up a server. So I might not be very useful to you. The main thing I am wanting is for the connector to enrol people into a Moodle course when they buy it in Magento. You mentioned that you had to manually enter fields for the connector...I'm happy to do this if I can get some direction from you on what to do. Thanks. Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 25, 2018, 8:40 AM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi Eric, Thanks for using Myddleware. The file to add fields in Magento is src\\Myddleware\\RegleBundle\\Solutions\\magento.php The function to be changed is get_module_fields However, the best way to modify Myddleware is to redefined class in the custom directory. But it will be a bit tricky if you are nit a developer. Could you tell me what field you need to add ? Thanks. Best regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 26, 2018, 5:17 PM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi. Forgive my lack of developer skills. I hope I don't waste your time. I was able to get Myddleware to create new students in Moodle when they were added as customers in Magento (see earlier in this thread). So I THINK that what I'm now trying to figure out is if the magento.php and moodle.php files contain the fields needed so that I can map course purchases in Magento to course enrolments in Moodle. Is that right? In those php files are the field names directly from the MySQL database fields? In moodle.php I see the fields for courses. It has 'idnumber' and 'id' I'm not sure the difference?--I can check the database to see if that is the way to figure it out. It seems like the way to map Magento purchases to Moodle courses is for Magento purchases to have a field that contains the Moodle Course ID number? So that field then maps directly to the Moodle course id field via Myddleware. Does that sound right? So I think that the 'id' field or the 'entity_id' field under \"case 'orders':\" in magento.php might be the fields that could contain the Moodle course ID #? I'm happy to keep going if this is useful. Otherwise, will wait for somebody else to work on it. Thanks!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 22, 2018, 3:55 PM",
          "AuthorName": "Eric Messick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1755915&course=5",
          "role": [
            "Picture of Eric Messick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Hi Eric, You don't waste our time. It always very interesting to have the feedback from Myddleware users. If I understand your needs, I guess that you have products in Magento which correspond to courses in Moodle. If yes, I guess you want the Moodle user (which is a Magento customer) be enrolled in a Moodle course (which is a Magento product) each times the customer buy a product in Magento. We have already done that with Prestashop but not with Magento. We have to improve Magento connector to be able to do the same. Indeed we have to add 2 modules in Magento connector : \"Order Items\" to get the products bought by the customer and \"Products\" to get the product catalog. With the 2 new modules, you will be able to create 2 others rules : Magento products (catalog) to Moodle courses Magento products puchaise to Moodle enrolment Is that really what you need ? Have a nice day, Stéphane",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 22, 2018, 5:08 PM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware and Magento",
          "Text": "Try the Next-Generation Magento Architecture from Exinent which give excellent Magento 2 Development Services .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 6, 2018, 10:20 PM",
          "AuthorName": "Exinent LLC",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2473065&course=5",
          "role": [
            "Picture of Exinent LLC"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 373998,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373998",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Student unable to list their own courses!",
          "Text": "Hi, I've set a \"student\" role for a user, and enrolled them in the course. The user is able to successfully obtain token, however when trying to fetch courses using \"core_enrol_get_users_courses\" the following exception is raised: {'exception': 'webservice_access_exception', 'errorcode': 'accessexception', 'message': 'Access control exception'} I've looked into source code ( https://github.com/moodle/moodle/blob/MOODLE_34_STABLE/lib/db/services.php#L548-L555 ), and the privilege that is required for this role is already selected in my role. Why is student still unable to fetch the list of courses they are enrolled in? Do I have to change Student role to be system wide?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 30, 2018, 8:05 PM",
          "AuthorName": "Petar Nikolovski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413332&course=5",
          "role": [
            "Picture of Petar Nikolovski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 373803,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373803",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Best way to delete user from the system",
          "Text": "Hello, what is the best way to sort active/inactive users in the system? I would like to use webservice, because I will checking with SAP system.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 25, 2018, 8:56 PM",
          "AuthorName": "Mantas Šedys",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2252746&course=5",
          "role": [
            "Picture of Mantas Šedys"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 373775,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373775",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Services for Content Creation",
          "Text": "Hi, I'm looking for web services that would allow the creation of Moodle activities and resources such as assignments, books, pages, quizzes, forums, etc. I've been looking at MDL-40779 and see this was started, but hasn't been updated recently. Does anyone have any other web services they are using to add activities and resources to a course? Thanks, Shaun",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 25, 2018, 5:08 AM",
          "AuthorName": "Shaun T",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558732&course=5",
          "role": [
            "Picture of Shaun T"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 366402,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=366402",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "core_user_create_users and core_user_update_users are missing some core fields",
          "Text": "I was looking to start using Moodle's existing webservices to create new users from an external source, but I noticed that the core_user webservices are missing several fields for users, including phone1, institution, department, and maildisplay. Maybe one of the core developers could weigh in here, are there any plans to add these fields in? If there's not a lot of bandwidth among the core developers to do this right now, would you accept pull requests for these additions?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, February 27, 2018, 9:39 AM",
          "AuthorName": "Nicholas Stefanski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1956217&course=5",
          "role": [
            "Picture of Nicholas Stefanski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_user_create_users and core_user_update_users are missing some core fields",
          "Text": "Nicholas, Are you also populating a Custom Field/s on creating a new user using core_user_create_users? I am failing on filling it up.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Thursday, March 1, 2018, 10:40 AM",
          "AuthorName": "biboy atienza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2399941&course=5",
          "role": [
            "Picture of biboy atienza"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_create_users and core_user_update_users are missing some core fields",
          "Text": "@ biboy atienza Looking in the code there is support for custom fields in the web-service: ### \n```text\n// Custom fields.\n\n\nif (!empty($user['customfields'])) {\n\n\n    foreach ($user['customfields'] as $customfield) {\n\n\n        // Profile_save_data() saves profile file it's expecting a user with the correct id,\n\n\n        // and custom field to be named profile_field_\"shortname\".\n\n\n        $user[\"profile_field_\".$customfield['type']] = $customfield['value'];\n\n\n    }\n\n\n    profile_save_data((object) $user);\n```\n ### Just check that you have the correct syntax there. Please find attached a screen-shot with a postman request. Any other questions let us know. Regards",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1492241/custom_fieldsws.png?forcedownload=1"
          ],
          "Time": "Friday, May 4, 2018, 11:25 PM",
          "AuthorName": "Dorel Manolescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686124&course=5",
          "role": [
            "Picture of Dorel Manolescu",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_create_users and core_user_update_users are missing some core fields",
          "Text": "I'm also having this issue. I have a customer with Moodle 3.2.x and I can't add phone1 or institution using core_user_create_users. I don't understand why I can update idnumber but not these field.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 2, 2018, 3:02 AM",
          "AuthorName": "Adam M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2433923&course=5",
          "role": [
            "Picture of Adam M"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_create_users and core_user_update_users are missing some core fields",
          "Text": "Please vote for my tracker: https://tracker.moodle.org/browse/MDL-62657 And add the other missing fields in the comments!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 6, 2018, 6:23 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_create_users and core_user_update_users are missing some core fields",
          "Text": "Wonderful! I never got around to taking a stab at this myself, but this works retroactively at least back to Moodle 3.4.3 as well. It also happens to fix some weird errors I was getting even with the previously supported \"city\" and custom fields. Thanks Richard!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 18, 2018, 3:55 AM",
          "AuthorName": "Nicholas Stefanski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1956217&course=5",
          "role": [
            "Picture of Nicholas Stefanski"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_create_users and core_user_update_users are missing some core fields",
          "Text": "Hi Nicholas, You are welcome... but can you help me? Which files do I have to replace in Moodle 3.5 to get this working? I'm not profiting of these changes myself yet...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 18, 2018, 3:50 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_create_users and core_user_update_users are missing some core fields",
          "Text": "In 3.4.3, the only file I replaced was user/externallib.php I guess I should note that I didn't test all the new fields, just `phone1` and I think `institution`. But like I said, before this change some fields like `city`, which were supposedly already supported, were not working at all for me. Putting in your modified user/externallib.php made `city` work too. It also eliminated some unspecified errors using space characters in custom field values.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 19, 2018, 8:55 PM",
          "AuthorName": "Nicholas Stefanski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1956217&course=5",
          "role": [
            "Picture of Nicholas Stefanski"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 373035,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373035",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "New web service - delete user data",
          "Text": "Hi I created a new web-service local plugin which mimic the to some extend the delete user data behaviour for GDPR purposes. The plugin is under: https://moodle.org/plugins/local_gdpr_deleteuserdata Any advice in terms of: * extra permissions that needs to be added there (I only added user:delete); * possible features (maybe bulk support, notifications) * anything else are welcome. As it is in alpha stage please don t use it in live environments as it really deletes all user data. No notifications are send to involved users. The plugin is build in order to facilitate external systems to trigger a GDPR user data deletion for a user in moodle. Postman sample web-service call attached here. Let me know what you think. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 8, 2018, 11:32 PM",
          "AuthorName": "Dorel Manolescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686124&course=5",
          "role": [
            "Picture of Dorel Manolescu",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: New web service - delete user data",
          "Text": "source control url: https://github.com/dmanolescu/moodle-local_gdpr_deleteuserdata",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 9, 2018, 4:45 PM",
          "AuthorName": "Dorel Manolescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686124&course=5",
          "role": [
            "Picture of Dorel Manolescu",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 373056,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373056",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web services token expiration",
          "Text": "I've looked into documentation for web services, but it seems that I may have missed information about how long tokens live? Does anyone know how long tokens need time to expire? Also, do I need to generate a new token when I request different function?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 9, 2018, 3:13 PM",
          "AuthorName": "Petar Nikolovski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413332&course=5",
          "role": [
            "Picture of Petar Nikolovski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 372824,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=372824",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "N: in 'other' column of mdl_logstore_standard_log",
          "Text": "Version 2.7.20 (yes, I know very old not supported etc. etc.) mysql 5.5.42, PHP 5.5.38  with Zend OpCache. While investigating how to reduce the size of mdl_logstore_standard_log thus making the interface in Moodle Admin UI a little more user friendly for non-technical Moodle Admins .... (and dumping the more technical ws records to a table outside of the DB for Moodle so nothing is really lost), ran across this: The query: SELECT ip,other,origin FROM mdl_logstore_standard_log WHERE timecreated > UNIX_TIMESTAMP(NOW() - INTERVAL 1 DAY) and origin like 'ws'; Clip of results IP address of remote server obscured of course ... but it's the same IP address. | IPaddressofRemoteServer | a:1:{s:14:\"forgottenreset\";b:0;}                                | ws     | | IPaddressofRemoteServer | N;                                                              | ws     | | IPaddressofRemoteServer | a:1:{s:8:\"function\";s:28:\"core_user_get_users_by_field\";}       | ws     | | IPaddressofRemoteServer | a:1:{s:8:\"function\";s:28:\"core_user_get_users_by_field\";}       | ws     | | IPaddressofRemoteServer | a:1:{s:8:\"function\";s:22:\"core_user_update_users\";}             | ws     | | IPaddressofRemoteServer | N;                                                              | ws     | | IPaddressofRemoteServer | a:1:{s:8:\"function\";s:28:\"core_user_get_users_by_field\";}       | ws     | | IPaddressofRemoteServer | a:1:{s:8:\"function\";s:22:\"core_user_update_users\";}             | ws     | | IPaddressofRemoteServer | N;                                                              | ws     | | IPaddressofRemoteServer | a:1:{s:8:\"function\";s:28:\"core_user_get_users_by_field\";}       | ws     | | IPaddressofRemoteServer | a:1:{s:8:\"function\";s:28:\"core_user_get_users_by_field\";}       | ws     | Now the $64,000 question ... what the heck does N; mean?   Searched the net ... no luck. Thanks, in advance, for any hints/clues/links to resource, etc. Ken",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Tuesday, July 3, 2018, 5:29 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: N: in 'other' column of mdl_logstore_standard_log",
          "Text": "It means NULL - \n```text\n$ php -r \"echo serialize(NULL);\"\nN;\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 5, 2018, 10:46 PM",
          "AuthorName": "Paul Holden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=219220&course=5",
          "role": [
            "Picture of Paul Holden",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Moodle Workplace team",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: N: in 'other' column of mdl_logstore_standard_log",
          "Text": "Thanks, Paul!  Well, DUH! should have been able to figure that out! (red-in-face). Now all I need to do is to get the programmer of the webservices script they run to explain why a NULL is sent!!!  Sigh! 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 5, 2018, 11:58 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 372844,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=372844",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Services Roadmap",
          "Text": "Dear concerned, What is the best way to excel in Moodle Web Services creation/development? We have a basic knowledge in PHP and MySQL . In addition, we have been trying to retrieve grades from a course but the excel sheet is giving the courseID (attached below). In other words, we aren't knowing how to process the data fields in a PHP file before calling the web server along with the token, function name,... Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 3, 2018, 6:05 PM",
          "AuthorName": "Mohamad El Bohsaly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2313697&course=5",
          "role": [
            "Picture of Mohamad El Bohsaly"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 371729,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371729",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web service is not available (it doesn't exist or might be disabled)",
          "Text": "I am using Moodle 3.3.3. I am not using any web service for my moodle. And it's showing me \"Web service is not available (it doesn't exist or might be disabled)\" 1. Login with admin user 2. Clicking some links and work on some pages... 3. By mistake my chrome Browser close by clicking X . 4. I restart chrome browser and restore my all tabs. 5. Moodle showing me : Web service is not available (it doesn't exist or might be disabled) Please help me out.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 6, 2018, 9:59 PM",
          "AuthorName": "Nilesh Pathade",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255217&course=5",
          "role": [
            "Picture of Nilesh Pathade"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Απάντηση: Web service is not available (it doesn't exist or might be disabled)",
          "Text": "Hi, I am facing exactly the same issue with Moodle 3.5,  popups \" Web service is not available (it doesn't exist or might be disabled)\" are continuously appearing. Any work arounds? Thank you in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 15, 2018, 12:46 PM",
          "AuthorName": "Victoria Tsolidou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2114074&course=5",
          "role": [
            "Picture of Victoria Tsolidou"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 366131,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=366131",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Get user token in SSO environment",
          "Text": "HI, I see a lot of post of people asking to use Web Services with an SSO auth plugin, but... no answers... In order to use a web service, we need to provide a token which can be obtain when providing username and password: moodle/login/token.php?username=USERNAME&password=PASSWORD&service=SERVICE Since there is no password in moodle database when using SSO, how can we get a token ?? We upgraded to moodle 3.4 to have the mobile moodle additionnal features, which is fine, I can define like typeoflogin to present an \"in app\" webview with the predefined login url. How to intergrate all of that in an external native application that's needs fetching user authenticated data ? Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 22, 2018, 3:12 AM",
          "AuthorName": "JF Bill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450616&course=5",
          "role": [
            "Picture of JF Bill"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re:  Get user token in SSO environment",
          "Text": "This questions is verty pertinent to us, if someone could add their input, or links to possible solutions, it would be appreciated !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 26, 2018, 10:33 PM",
          "AuthorName": "Eric Breton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2328260&course=5",
          "role": [
            "Picture of Eric Breton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  Get user token in SSO environment",
          "Text": "Doing this is really difficult depending on the SSO environment you're doing it with. There is a tracker item for it - https://tracker.moodle.org/browse/MDL-29583 - attached is a patch that makes webservices work like this for Shibboleth (at least for most Shibboleth installs!), though it wouldn't be particularly hard to adapt it for other SSO flavours where the webservice user has to go off and essentially log in behind the scenes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 14, 2018, 10:22 PM",
          "AuthorName": "Peter Spicer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2286476&course=5",
          "role": [
            "Picture of Peter Spicer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 371489,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371489",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Web service URL and parameters",
          "Text": "Hello, I need to\nuse this web Service: core_group_get_course_user_groups with URL but I\ndon’t know how to add parameters I think is something\nlike that: https://server.php?wstoken=token&wsfunction=core_group_get_course_user_groups&moodlewsrestformat=json&criteria [0][key]= courseid &criteria[0][value]=770&criteria[1][key]= userid &criteria[1][value]=5 but it doesn’t\nwork, I have the error « invalid_parameter_exception » could\nanyone help me? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 31, 2018, 8:25 PM",
          "AuthorName": "Pierre Le Bras",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2448569&course=5",
          "role": [
            "Picture of Pierre Le Bras"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service URL and parameters",
          "Text": "It works for this first web service with parameters like that: wsfunction=core_group_get_course_user_groups&moodlewsrestformat=json&courseid=15&userid=770 but now I need help for another web service core_group_get_group_members can I find on the net a list with web service AND parameters ? Or if someone can tell me what are the parameters for this web service would be kind Thanks Pierre",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, June 1, 2018, 9:40 PM",
          "AuthorName": "Pierre Le Bras",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2448569&course=5",
          "role": [
            "Picture of Pierre Le Bras"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service URL and parameters",
          "Text": "Tested on Moodle 3.4.2 function: core_group_get_group_members Example: http:// YOUR_SERVER /moodle/webservice/rest/ server .php?wstoken= YOUR_TOKEN &moodlewsrestformat=json&wsfunction= core_group_get_group_members & groupids[0]=1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 14, 2018, 3:05 AM",
          "AuthorName": "Lawrence Lagerlof",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2453361&course=5",
          "role": [
            "Picture of Lawrence Lagerlof"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 372020,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=372020",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "restrict user enrolment via Rest API",
          "Text": "Hello, I develop a tool to create courses depending on an excel file. Creating and updating a course works well now I want to restrict the enrolment of some course to a start date and end date and much more important limit the number of users that can enrol to a course. I didn't find an API call to do this, can anyone help. Greets Sebastian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 13, 2018, 6:29 PM",
          "AuthorName": "Sebastian Ziegler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2453680&course=5",
          "role": [
            "Picture of Sebastian Ziegler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 370344,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=370344",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Updating an account password via Web Service API?",
          "Text": "Hi, I have a website with a login that is already integrated with a database system that needs to be the master system. i.e. my database needs to be the holder of the most upto date user details and password. My client wants me to integrate with a Moodle site and I need to be able to automatically sign the user into Moodle when they sign in to my web site. Any time the user updates any of their account details including their password via my web site i need to update the account details and password in Moodle to match. Is there an API that can be used to update a user password ? Any help would be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 8, 2018, 6:25 PM",
          "AuthorName": "Kevin Robinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2437267&course=5",
          "role": [
            "Picture of Kevin Robinson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Updating an account password via Web Service API?",
          "Text": "Hi From the web-services documentation under yoursite/admin/webservice/documentation.php Check: core_user_update_users Parameters: \n```text\nlist of ( \n\n\nobject {\n\n\nid\n int   \n//ID of the user\n\n\nusername\n string  \nOptional\n \n//Username policy is defined in Moodle security config.\n\n\npassword\n string  \nOptional\n \n//Plain text password consisting of any characters\n\n\nfirstname\n string  \nOptional\n \n//The first name(s) of the user\n```\n Regards",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://localhost/moodle335/theme/image.php/clean/core/1525793829/t/expanded"
          ],
          "Time": "Wednesday, May 9, 2018, 6:23 PM",
          "AuthorName": "Dorel Manolescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686124&course=5",
          "role": [
            "Picture of Dorel Manolescu",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updating an account password via Web Service API?",
          "Text": "Hi, Thank you very much for your reply. Does Moodle have a developer sandbox area that i can test web methods or do i need to install Moodle ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 9, 2018, 9:05 PM",
          "AuthorName": "Kevin Robinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2437267&course=5",
          "role": [
            "Picture of Kevin Robinson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updating an account password via Web Service API?",
          "Text": "Hi I think you need to install moodle. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 11, 2018, 10:14 PM",
          "AuthorName": "Dorel Manolescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686124&course=5",
          "role": [
            "Picture of Dorel Manolescu",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updating an account password via Web Service API?",
          "Text": "> I need to be able to automatically sign the user into Moodle when they sign in to my web site. Perhaps what you really need is a Moodle auth plugin that does SSO with the main system?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 12, 2018, 4:01 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 369977,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=369977",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "C# core_moodle_create_user",
          "Text": "Hello guys, could someone help me with customfields in webservice. I'm using C#. How to add custom profile  fields in web-service? My code: https://github.com/Kovinis/Moodle/blob/master/CreateUser Now I'm adding custom profile fields in url: String postData = String.Format(\"users[0][username]={0}&users[0][password]={1}&users[0][firstname]={2}&users[0][lastname]={3}&users[0][email]={4}&users[0][customfields][type]={5}&users[0][customfields][value]={6}\", user.username, user.password, user.firstname, user.lastname, user.email, company, value); But it gives an error: {\"exception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Invalid parameter value detected\",\"debuginfo\":\"users => Invalid parameter value detected: customfields => Invalid parameter value detected: Only arrays accepted. The bad value is: 'company'\"}",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 30, 2018, 3:04 PM",
          "AuthorName": "Mantas Šedys",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2252746&course=5",
          "role": [
            "Picture of Mantas Šedys"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: C# core_moodle_create_user",
          "Text": "Solved.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 30, 2018, 6:35 PM",
          "AuthorName": "Mantas Šedys",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2252746&course=5",
          "role": [
            "Picture of Mantas Šedys"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 369231,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=369231",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle SSL chain issues",
          "Text": "Dear moodle forum Really missing your help ! I'm still a little new in moodle and we have put a wild certificate on our moodle 3.2 running on an ubuntu 16.04 everything looks nice but having trouble with firefox do not accept our certificate, every other browser looks good. If I run a test at https://www.ssllabs.com/ssltest , I'm told that \"Chain issues - Incomplete\" How do I get the chain complete ?????? I have added the following to root and intermediate certificates /etc/apache2/sites-available/000-default.conf but without luck SSLCACertificateFile \"path to certificate\" How do I add root and intermediate certificates so my chain will be complete ?? with best regards Christian",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1488643/dfghfdh.jpg?forcedownload=1",
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1488643/test.JPG?forcedownload=1"
          ],
          "Time": "Wednesday, April 18, 2018, 4:16 PM",
          "AuthorName": "Christian Kristiansen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2230281&course=5",
          "role": [
            "Picture of Christian Kristiansen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle SSL chain issues",
          "Text": "Don't claim to be an expert at this, just have had some experience with different CA's and server flavors (linux not Windows). A 'wildcard' cert is a little different than one for a specific server ... *.tld.   Some CA's provide a PC only application server administrator can use to gen the .crt for the server for that wildcard tld and the csr to submit to CA.  Others, like Comodo, provide the chain files for downloading ... one just has to find the chain file for the cert purchased and download then put into config. So some references for ya: https://help.ubuntu.com/lts/serverguide/certificates-and-security.html It is best to consult the CA's online docs for how to install.  Entrust, for example, sends a link via EMail, and when you click on it you are taken to a screen that has you choose what 'flavor' of server ... like ' Apache on Linux' ... you are then presented with their directions and example config lines + a link to download a zip of your files. Example of Comodo's intermediates and roots (** but read their docs before downloading **) https://support.comodo.com/index.php?/Knowledgebase/List/Index/71 Example of Entrust ... https://www.entrustdatacard.com/resource-center/installation/installation-help http://www.entrust.net/knowledge-base/technote.cfm?tn=8850 Clear as mud, huh?   Sorry ... just the way it is! :\\ 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2018, 7:09 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 369007,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=369007",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Getting list of attempts for a given quiz",
          "Text": "Hi all, I am trying to use the core web service functions (without writing a custom function) to be able to access the list of attempts and each attempt's final grade for a given quiz id. The end goal is to be able to fetch only new attempts day-to-day. Whether or not we get a full list of attempts and parse it to get only the new attempts, or if we're able to make a call and set a limit on the attempt number or date completed isn't important. I was wondering if there was any way to do this? We've gone through a lot of documentation, and currently we can only see how to view details about an attempt given an attempt id that may or may not be specific to our quiz out of all the quizzes in the system, but we can't find a way to get a list of attempts in general for a specific quiz id. Thanks so much for all the help! Best, Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 14, 2018, 7:38 AM",
          "AuthorName": "Daniel Slatkin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2424149&course=5",
          "role": [
            "Picture of Daniel Slatkin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 368388,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=368388",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Access a web service without token",
          "Text": "I am beginner for web service. I am writing a web service in Moodle. Can we access a web service without passing a token? For eg: I want to create a forgot password web service, so i need to enter either username or email, but not the token. I've created a web service which works with token. On mobile app 3.3, i would like to create a web service which should work without a token. Because when the user is not logged in, he can click on forgot password and provide the parameters either the username or the email id, but not the token. Is there any way to create a web service without a token?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 3, 2018, 7:42 PM",
          "AuthorName": "Vishwas Painuly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2402267&course=5",
          "role": [
            "Picture of Vishwas Painuly"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 367933,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=367933",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_enrol_get_enrolled_users doesn't include firstaccess and lastaccess.",
          "Text": "core_enrol_get_enrolled_users appears to include firstaccess and lastaccess for the user account rather than for that individual subject.  Is there a way to get a list of the firstaccess and lastaccess time for every student in a course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 26, 2018, 12:15 PM",
          "AuthorName": "Zadok Lindt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2389542&course=5",
          "role": [
            "Picture of Zadok Lindt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 352001,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352001",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Can not find data record in database table external_functions",
          "Text": "Hello All, I am trying to write a custom web service in Moodle. I took local_wstemplates_hello_world as an example and trying to implement a webservice for my custom plugin. I have added three methods as below in externallib.php file: 1) function coupons_parameters() 2) function coupons() 3) function coupons_returns() In Services.php file. I have added code as below: $services = array( 'My service' => array( 'functions' => array ('local_wstemplate_hello_world', 'local_wstemplate_coupons'), 'restrictedusers' => 0, 'enabled'=>1, ) ); $functions = array( 'local_wstemplate_hello_world' => array( 'classname'   => 'local_wstemplate_external', 'methodname'  => 'hello_world', 'classpath'   => 'local/wstemplate/externallib.php', 'description' => 'Return Hello World FIRSTNAME. Can change the text (Hello World) sending a new text as parameter', 'type'        => 'read', ), 'local_wstemplate_coupons' => array( 'classname'   => 'local_wstemplate_external', 'methodname'  => 'coupons', 'classpath'   => 'local/wstemplate/externallib.php', 'description' => 'Return coupons details', 'type'        => 'read' ) ); Now, When I want to call the method 'coupons()' from a webservice using wsfunction = local_wstemplate_coupons. It is showing error as follows: \n```text\n\n```\n \n```text\nstdClass Object\n(\n    [exception] => dml_missing_record_exception\n    [errorcode] => invalidrecord\n    [message] => Can not find data record in \ndatabase\n table external_functions.\n    [debuginfo] => SELECT * FROM {external_functions} WHERE name = ?\n[array (\n  0 => 'local_wstemplate_coupons',\n)]\n)\n```\n Please help me on how to fix this issue? Thanks in Advance Regards Sricharan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 8, 2017, 5:58 PM",
          "AuthorName": "Charan Sri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2143800&course=5",
          "role": [
            "Picture of Charan Sri"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can not find data record in database table external_functions",
          "Text": "To be honest, I'm not sure if anyone has gotten a working prototype up using this template. At least I haven't found one. According to the developer himself on Github: \"I agree these examples should be polished out a bit. It is important to understand that they are not supposed to work as out-of-box tutorials themselves.\" He then goes on to mention that it's quite complicated to get a new webservice up and running. After spending several days trying to get it working, I have to agree, as I still haven't got it working.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 29, 2017, 8:40 PM",
          "AuthorName": "Noora C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255193&course=5",
          "role": [
            "Picture of Noora C"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can not find data record in database table external_functions",
          "Text": "Your webservice is unable to recognize the please try this folder structure moodleroot->local->wstemplate->db->service.php moodleroot->local->wstemplate->externallib.php moodleroot->local->wstemplate->version.php services.php $functions = array( 'local_wstemplate_hello_world' => array( 'classname' => 'local_wstemplate_external', 'methodname' => 'hello_world', 'classpath' => 'local/wstemplate/externallib.php', 'description' => ' Hello world ws example ', 'type' => 'read', 'capabilities' => '', 'services' => array(MOODLE_OFFICIAL_MOBILE_SERVICE) ), 'local_wstemplate_create_groups' => array( 'classname' => 'local_wstemplate_external', 'methodname' => 'create_groups', 'classpath' => 'local/wstemplate/externallib.php', 'description' => 'creating groups in moodle courses', 'type' => 'read', 'capabilities' => '', 'services' => array(MOODLE_OFFICIAL_MOBILE_SERVICE) ), ); // We define the services to install as pre-build services. A pre-build service is not editable by administrator. $services = array( 'groups plugin webservices' => array( 'functions' => array ('local_wstemplate_hello_world','local_wstemplate_create_groups'), 'restrictedusers' => 0, 'shortname'=>'myservice', 'enabled'=>1, 'shortname' => 'local_groups_ws' ) ); In externallib.php <?php require_once ($CFG->libdir.'/externallib.php'); class local_wstemplate_external extends external_api { /** * Returns description of method parameters * @return external_function_parameters */ public static function create_groups_parameters() { return new external_function_parameters( array( 'groups' => new external_multiple_structure( new external_single_structure( array( 'courseid' => new external_value(PARAM_INT, 'id of course'), 'name' => new external_value(PARAM_TEXT, 'multilang compatible name, course unique'), 'description' => new external_value(PARAM_RAW, 'group description text'), 'enrolmentkey' => new external_value(PARAM_RAW, 'group enrol secret phrase'), ) ) ) ) ); } public static function create_groups_returns() { return new external_multiple_structure( new external_single_structure( array( 'id' => new external_value(PARAM_INT, 'group record id'), 'courseid' => new external_value(PARAM_INT, 'id of course'), 'name' => new external_value(PARAM_TEXT, 'multilang compatible name, course unique'), 'description' => new external_value(PARAM_RAW, 'group description text'), 'enrolmentkey' => new external_value(PARAM_RAW, 'group enrol secret phrase'), ) ) ); } /** * Create groups * @param array $groups array of group description arrays (with keys groupname and courseid) * @return array of newly created groups */ public static function create_groups($groups) { //Don't forget to set it as static global $CFG, $DB; require_once(\"$CFG-> dirroot /group/lib.php\"); $params = self::validate_parameters(self::create_groups_parameters(), array('groups'=>$groups)); $transaction = $DB->start_delegated_transaction(); //If an exception is thrown in the below code, all DB queries in this code will be rollback. $groups = array(); foreach ($params['groups'] as $group) { $group = (object)$group; if (trim($group->name) == '') { throw new invalid_parameter_exception('Invalid group name'); } if ($DB->get_record('groups', array('courseid'=>$group->courseid, 'name'=>$group->name))) { throw new invalid_parameter_exception('Group with the same name already exists in the course'); } // now security checks $ context = get_context_instance(CONTEXT_COURSE, $group->courseid); self::validate_context($context); require_capability('moodle/course:managegroups', $context); // finally create the group $group->id = groups_create_group($group, false); $groups[] = (array)$group; } $transaction->allow_commit(); return $groups; } /** * Returns description of method parameters * @return external_function_parameters */ public static function hello_world_parameters() { return new external_function_parameters( array('welcomemessage' => new external_value(PARAM_TEXT, 'The welcome message. By default it is \"Hello world,\"', VALUE_DEFAULT, 'Hello world, ')) ); } /** * Returns welcome message * @return string welcome message */ public static function hello_world($welcomemessage = 'Hello world, ') { global $USER; //Parameter validation //REQUIRED $params = self::validate_parameters(self::hello_world_parameters(), array('welcomemessage' => $welcomemessage)); //Context validation //OPTIONAL but in most web service it should present $context = get_context_instance(CONTEXT_USER, $USER->id); self::validate_context($context); //Capability checking //OPTIONAL but in most web service it should present if (!has_capability('moodle/user:viewdetails', $context)) { throw new moodle_exception('cannotviewprofile'); } return $params['welcomemessage'] . $USER->firstname ;; } /** * Returns description of method result value * @return external_description */ public static function hello_world_returns() { return new external_value(PARAM_TEXT, 'The welcome message + user first name'); } } version.php <?php $plugin->version = 20111012042; $plugin->requires = 2010112400; // Requires this Moodle version - at least 2.0 $plugin->component = 'local_wstemplate'; $plugin->cron = 0; $plugin->release = '1.0 (Build: 2011101202)'; $plugin->maturity = MATURITY_STABLE;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 19, 2018, 8:53 PM",
          "AuthorName": "Arshad Syed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2114673&course=5",
          "role": [
            "Picture of Arshad Syed"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 366946,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=366946",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Use Moodle with GET webservices",
          "Text": "Hello, Is there a way to use Moodle webservices with GET and not in POST ? Thanks for your help. Fabien",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 9, 2018, 3:44 AM",
          "AuthorName": "Fabien Popup",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2405047&course=5",
          "role": [
            "Picture of Fabien Popup"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Use Moodle with GET webservices",
          "Text": "Yes, it's possible, only put the parameters on the url. Example: http://yourmoodle.com/webservice/rest/server.php?wstoken=yourtokenstring&wsfunction=core_user_get_users_by_field&moodlewsrestformat=json&field=email&values [0]user@ domain .com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 10, 2018, 12:08 AM",
          "AuthorName": "José Ayrám",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2404907&course=5",
          "role": [
            "Picture of José Ayrám"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use Moodle with GET webservices",
          "Text": "Thank you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, March 14, 2018, 11:05 PM",
          "AuthorName": "Fabien Popup",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2405047&course=5",
          "role": [
            "Picture of Fabien Popup"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 358997,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=358997",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Should I use Core webservice API in a custom webservice API?",
          "Text": "Dear all, I am writing a custom web service (for using in the external app), with a list of steps, such as: - Step 1; Create a new user (if does not exist) - Step 2: Create a new course - Step 3; Enrol the new course to new user with Teacher role I know that, there are 3 threes core web services api (such as core_user_create_users...) corresponding to three above steps. So my wondering here is: should I use these core web services api in my custom api or call directly to Moodle internal Lib file (such as /user/lib.php; /course/lib.php)? My question looks silly, because I can not find an official document about Moodle internal Libs (in the opposite side, the document of Moodle external web service API is fully) Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 25, 2017, 9:51 AM",
          "AuthorName": "Nguyen Nam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2306369&course=5",
          "role": [
            "Picture of Nguyen Nam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Should I use Core webservice API in a custom webservice API?",
          "Text": "There are some API which are supported with moodle_mobile_app and external app. But some core APIs are not supported with moodle_mobile_app , they can be use external API services but creating custom services by adding core_api's site adm->plugins->webservices->external services->custom services (click add button). then add site adm->plugins->webservices->manage tokens-> click 'add' button->create your token by adding your custom service name and users to access this API. so now you have your custom APIs with moodle core_API function, use this APIs in your external application by calling http://www.yourmoodlesite.com/webservice/rest/server.php?wstoken=718e4ee5732cf9393401d9095e97e9a8&wsfunction=core_completion_get_activities_completion_status&courseid=1&userid=1&moodlewsrestformat=json I hope this is what you are expecting. if not reply for post. Regards Arshad Syed http://www.3esoftttech.com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 9, 2018, 1:37 AM",
          "AuthorName": "Arshad Syed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2114673&course=5",
          "role": [
            "Picture of Arshad Syed"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 364940,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=364940",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "enrol_manual_enrol_users moodle_exception",
          "Text": "Hi,\n\nhas somebody an idea what i do wrong? I try to enroll in a user for a course and I got the following error: \n```text\nstdClass Object\n(\n    [exception] => moodle_exception\n    [errorcode] => wsnoinstance\n    [message] => Manual enrolment plugin instance doesn't exist or is disabled for the course (id = {$a->courseid})\n)\n```\n I enabled manual enrolment. The webservice create user already work fine, just the user enrole dosen't work.\n\nMy Code: \n```text\ntoken = $token;\n\t\t$this->\ndomain\n = $domain;\n\t}\n\n\tpublic function enrolUser($userID, $courseID){\n\t\t$functionname = \"enrol_manual_enrol_users\";\n\t\t$enrolment = new stdClass();\n\t\t$enrolment -> roleid = 5;\n\t\t$enrolment -> userid = 10;\n\t\t$enrolment -> courseid = 1;\n\t\t$params = array(\"enrolments\" => array($enrolment));\n\t\t$response = $this->connectToMoodle($functionname, $params);\n\t\treturn print_r($response);\n\n\t}\n\n\tprivate function connectToMoodle($functionname, $params){\n\t\t$restformat = \"json\";\n\t\theader(\"Content-Type: text/plain\");\n\t\t$serverurl = $this->domain . \"/webservice/rest/\nserver\n.php\" . \"?wstoken=\" . $this->token . \"&wsfunction=\" . $functionname;\n\t\trequire_once(\"curl.php\");\n\t\t$curl = new curl;\n\t\t$restformat = ($restformat == \"json\")?\"&moodlewsrestformat=\" . $restformat:\"\";\n\t\t$response = $curl->post($serverurl . $restformat, $params);\n\t\treturn json_decode($response);\n\t}\n\n\n}\n\n\n?>\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 1, 2018, 12:15 AM",
          "AuthorName": "Andre T",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2380888&course=5",
          "role": [
            "Picture of Andre T"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users moodle_exception",
          "Text": "You would need to enable manual enrollment in that course also. Go to the course, course administration -> users -> enrollment methods and enable manual enrollment",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 8, 2018, 5:39 PM",
          "AuthorName": "Farhan Karmali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1342797&course=5",
          "role": [
            "Picture of Farhan Karmali",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users moodle_exception",
          "Text": "Thanks for your Answer, I already enabled this. My fault was it to take the idnumber of the course as the course id. Now everything works fine.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 8, 2018, 6:24 PM",
          "AuthorName": "Andre T",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2380888&course=5",
          "role": [
            "Picture of Andre T"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users moodle_exception",
          "Text": "Hi Farhan, I am doing a rest call using below: https://my-sandbox.mrooms.net/webservice/rest/server.php?wstoken=OUT_TOKEN&wsfunction=enrol_manual_enrol_users&enrolments [0][roleid]=5&enrolments[0][userid]=572&enrolments[0][courseid]=2&enrolments[0][timestart]=1&enrolments[0][timeend]=1&enrolments[0][suspend]=0 Moodle only gaving me: \n```text\n<?\nxml\n version=\"1.0\" encoding=\"UTF-8\" ?>\n\n<RESPONSE>\n\n</RESPONSE>\n```\n As expected the user is not enrolled on a course. Any suggestion? TIA . Br, biboy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 5, 2018, 9:47 AM",
          "AuthorName": "biboy atienza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2399941&course=5",
          "role": [
            "Picture of biboy atienza"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 366548,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=366548",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "System context on api-client role causes the site admin pages to error",
          "Text": "Hello, I've set up a moodle installation and configured the web service following the official docs (e.g. https://docs.moodle.org/34/en/Using_web_services ). The API works fine when I create and use a token for the admin user . But I can't get it to work with a dedicated user and a dedicated role. That role has all the capabilities necessary for the functions I want to invoke (as far as I can see). However, when I use the dedicated user's token, the API tells me this I've read somewhere that the `webservice/rest:use` capability must be set for the system context too. However, when I activate that option here... This happens: errors (and stacktraces in debug mode) for all site administration pages afterwards: I'd appreciate some expert help. I wouldn't want to risk using a god-mode user for our API client. Thank you in advance for your time",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1478167/Screenshot_20180301_121008.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1478167/Screenshot_20180301_120941.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1478167/Screenshot_20180301_120958.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1478167/Screenshot_20180301_120911.png",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, March 1, 2018, 7:26 PM",
          "AuthorName": "Lorenzo Arribas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2399606&course=5",
          "role": [
            "Picture of Lorenzo Arribas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 358079,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=358079",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Example of web services token from external application",
          "Text": "I'm trying to find an example for webservices token based call from external application, could anyone give me an example of that, my external application is in asp.net, I'm not familiar with PHP so please provide me with an example . i have also tried using user key authentication web service but the only problem is how to call from external application through webservice?? i was trying this below: https://myserver/MoodleN/webservice/rest/ server .php?wstoken=506d602cf47a74de6e819123244b4141&wsfunction=testwebservice&moodlewsrestformat=jsonplease help?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 8, 2017, 1:45 AM",
          "AuthorName": "sai prasad",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2244536&course=5",
          "role": [
            "Picture of sai prasad"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Example of web services token from external application",
          "Text": "1. First check in moodle site you have enable WEB services or not how to enable: 1=>site adm->plugins->web services->overview->click on \"Enable web services\"-> Enable web services \"Mark Checkbox\". 2=> site adm->plugins->web services->manage Protocols->Enable (which ever protocol you want). 3=>site adm->plugins->web services-> manage tokens->click Add button->select user you want to give access for APIs-> It will generates token(use for accessing APIs). How to get token: https://www.yourmoodle.com/login/token.php?username=USERNAME&password=PASSWORD&service=SERVICESHORTNAME How to use web services: http://www.yoursite.com/webservice/rest/server.php?wstoken=7c6b2cba5c27e8eabbb8cd8c69c8e5c0&wsfunction=core_completion_get_activities_completion_status&courseid=7&userid=5&moodlewsrestformat=json ; 'header' => \"Content-type: application/x-www-form-urlencoded\", 'method' => 'POST' Regards Arshad Syed https://www.3esofttech.com/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 27, 2018, 5:24 PM",
          "AuthorName": "Arshad Syed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2114673&course=5",
          "role": [
            "Picture of Arshad Syed"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 365409,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=365409",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Returning multidimensional arrays in web services",
          "Text": "I'm putting together a web service to pass student information and assignment feedback comments to another system. It works quite nicely when I just return general student information in my personal_tutor_portal_returns() function, but I want to output a multidimensional array with the feedback data one level down. I can't seem to get this to work. Am I right in thinking I need an external_multiple_structure with two external_single_structures within it one for student data and another for feedback data? Has anyone got a good example of something similar to what I'm trying to do? Thanks for any help, the finish line is in sight on this one Moodle 3.3.1 \n```text\npublic static function personal_tutor_portal_parameters() {\n    return new external_function_parameters(\n            array(\n            'email' => new external_value(PARAM_TEXT, 'Student email (lowercase)', VALUE_DEFAULT, 'something@blackhole.port.ac.uk'),\n            'hash' => new external_value(PARAM_TEXT, 'Salted hash of username', VALUE_DEFAULT, '')                   \n                 )\n    );\n}\n\npublic static function personal_tutor_portal($email = 'something@blackhole.port.ac.uk',$hash = '') {\n    global $USER, $DB;\n    $salt = 'YC*1!gduQ$jn^4';\n\n    //Parameter validation\n    $params = self::validate_parameters(self::personal_tutor_portal_parameters(),\n            array('email'=>$email,\n                  'hash'=>$hash));\n\n    //do a hash check to ensure no messing with username\n    if(md5($email.$salt)!=$hash){\n        return \"Sorry, the hash does not match.\";\n    }\n\n    $user = $DB->get_record('user',array('email'=>$email));\n\n    $\nsql\n = \"SELECT\n    greatest(ag.id) AS id,ag.assignment,ag.userid,ag.timecreated,ag.grader,u.firstname,u.lastname,ag.grade,greatest(afc.commenttext) AS commenttext,ag.timemodified,ass.name,ass.duedate,ass.markingworkflow,\n    c.id AS courseid,c.fullname,c.shortname,ass.teamsubmission,cm.id AS cmid,\n    auf.workflowstate,auf.id AS workflowstateid,m.name as modulename\n    FROM\n    {assign_grades} AS ag\n    LEFT OUTER JOIN {assignfeedback_comments} AS afc ON afc.assignment = ag.assignment AND afc.grade = ag.id\n    INNER JOIN {assign} AS ass ON ass.id = ag.assignment\n    INNER JOIN {user} AS u ON u.id = ag.grader\n    INNER JOIN {course} AS c ON ass.course = c.id\n    INNER JOIN {course_modules} AS cm ON cm.instance = ag.assignment AND cm.course = c.id\n    INNER JOIN {assign_user_flags} AS auf ON auf.assignment = ag.assignment\n    INNER JOIN {modules} as m ON cm.module = m.id\n    WHERE\n    ag.userid = $user->id AND\n    m.name = 'assign' AND\n    auf.id = 1\n    OR auf.id = 6\n    GROUP BY greatest(ag.id),ag.assignment,ag.userid,ag.grade,ag.grader,ag.timecreated,u.firstname,u.lastname,u.email,ag.grade,afc.commenttext,ag.timemodified,ass.name,ass.duedate,ass.markingworkflow,c.id,\n    c.fullname,c.shortname,ass.teamsubmission,cm.id,auf.workflowstate,auf.id,m.name\n    ORDER BY\n    c.fullname ASC,ag.timemodified DESC\";\n\n    $feedbacks = $DB->get_records_sql($sql,array());\n\n    function academicyear($timestamp){\n    /* Return academic year from a unix timestamp */\n\n    $year = date('Y',$timestamp);\n    $month = date('m',$timestamp);\n\n        if ($month < 9){\n\n            $aca = strtotime('-1 year',$timestamp);\n            $aca = date('Y',$aca);\n\n        }\n        else $aca = $year;\n        $text = $aca;\n\n        return $text;\n    }\n\n      $portal = array(\n                'source' => 'Moodle',\n                'username' => $user->username,\n                'firstname' => $user->firstname,\n                'lastname' => $user->lastname,\n                'email' => $user->email\n            );\n\n    foreach($feedbacks as $feedback){\n\n        $academicyear = academicyear($feedback->timecreated); \n        $rawcomment = strip_tags($feedback->commenttext);\n        $marker = $feedback->firstname.' '.$feedback->lastname;\n        $feedbackdate = date('d.m.Y',$feedback->timemodified);\n    }        \n\n    return $portal;\n```\n } \n```text\npublic static function personal_tutor_portal_returns() {\n    return new external_single_structure(\n            array(\n                'source' => new external_value(PARAM_TEXT, 'where data came from - moodle'),\n                'username' => new external_value(PARAM_TEXT, 'username of student'),\n                'firstname' => new external_value(PARAM_TEXT, 'first name of student'),\n                'lastname' => new external_value(PARAM_TEXT, 'last name of student'),\n                'email' => new external_value(PARAM_TEXT, 'email of student')\n                )\n        );\n\n}\n```",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, February 8, 2018, 6:56 PM",
          "AuthorName": "Mike Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=204963&course=5",
          "role": [
            "Picture of Mike Wilson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Returning multidimensional arrays in web services",
          "Text": "For any-one who's stuck at the same point as I was here's the working version. You can map a multidimensional array from the main function to the returns function. The structure in the return is a single structure with a multi structure which contains another single structure. Hope this saves someone else a headache. \n```text\n    foreach($feedbacks as $feedback){\n\n        $feedbackId = $feedback->id; \n        $academicyear = academicyear($feedback->timecreated); \n        $rawcomment = strip_tags($feedback->commenttext);\n        $marker = $feedback->firstname.' '.$feedback->lastname;\n        $feedbackdate = date('d.m.Y',$feedback->timemodified);\n        $unitname = $feedback->fullname; \n        $assignmentname = $feedback->name; \n\n        $feeds[$feedbackId] = array(\n                    'feedbackId' => $feedbackId,\n                    'academicyear' => $academicyear,\n                    'unitname' => $unitname,\n                    'assignmentname' => $assignmentname,\n                    'feedbackcomment' => $rawcomment,\n                    'markername' => $marker,\n                    'feedbackdate' => $feedbackdate\n                    );\n    }\n\n    $portal = array(\n        'source' => 'Moodle',\n        'username' => $user->username,\n        'firstname' => $user->firstname,\n        'lastname' => $user->lastname,\n        'email' => $user->email,\n        'feedback' => $feeds\n    );\n\n    return $portal;\n```\n } \n```text\npublic static function personal_tutor_portal_returns() {\n    return new external_single_structure(\n            array(\n                'source' => new external_value(PARAM_TEXT, 'where data came from - moodle'),\n                'username' => new external_value(PARAM_TEXT, 'username of student'),\n                'firstname' => new external_value(PARAM_TEXT, 'first name of student'),\n                'lastname' => new external_value(PARAM_TEXT, 'last name of student'),\n                'email' => new external_value(PARAM_TEXT, 'email of student'),\n                'feedback' => new external_multiple_structure(\n                    new external_single_structure(\n                        array(\n                        'feedbackId' => new external_value(PARAM_INT,'assign_grade id'),\n                        'academicyear'  => new external_value(PARAM_TEXT, 'academic year of feedback comment', VALUE_OPTIONAL),\n                        'unitname'  => new external_value(PARAM_TEXT, 'unit of study for feedback comment', VALUE_OPTIONAL),\n                        'assignmentname'  => new external_value(PARAM_TEXT, 'assignment name for feedback comment', VALUE_OPTIONAL),\n                        'feedbackcomment'  => new external_value(PARAM_TEXT, 'feedback comment with html tags stripped out', VALUE_OPTIONAL),\n                        'markername'  => new external_value(PARAM_TEXT, 'name of lecturer who marked assignment', VALUE_OPTIONAL),\n                        'feedbackdate'  => new external_value(PARAM_TEXT, 'date assignment was last marked', VALUE_OPTIONAL)\n                        )\n                    )                \n                )\n            )\n        );\n}\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 20, 2018, 4:51 PM",
          "AuthorName": "Mike Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=204963&course=5",
          "role": [
            "Picture of Mike Wilson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 365859,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=365859",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_course_duplicate_course: error/setting_locked_by_permission problem",
          "Text": "Dear All,\n\nKindly, I am getting the error below while trying to duplicate a course using core_course_duplicate_course function: \n```text\n<?\nxml\n version=\"1.0\" encoding=\"UTF-8\" ?>\n<EXCEPTION class=\"base_setting_exception\">\n<ERRORCODE>setting_locked_by_permission</ERRORCODE>\n<MESSAGE>error/setting_locked_by_permission</MESSAGE>\n</EXCEPTION>\n```\n my code: $functionname = 'core_course_duplicate_course'; $restformat = 'xml'; $params =\narray( 'courseid' => 2, 'fullname' => 'duplicated Introduction to Moodle', // New course full\nname 'shortname' => 'dup Introduction to Moodle', // New course shortname 'categoryid' => 1, // New course category id 'visible' => 1, // Make the course visible after duplicating 'options' => array( array('name'=>' activities ', 'value'=>1) ) // Backup options ); /// REST CALL header('Content-Type: text/plain'); $serverurl = $domainname .\n'/webservice/rest/ server .php'. '?wstoken=' . $token .\n'&wsfunction='.$functionname; $curl = new curl; //if rest format == 'xml', then we do not add\nthe param for backward compatibility with Moodle < 2.2 $restformat = ($restformat ==\n'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat,\n$params); print_r($resp); Moodle version: 3.3.4 Thank you for all your help. Best regards, Anis",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 16, 2018, 4:51 PM",
          "AuthorName": "Anis Jradah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1076508&course=5",
          "role": [
            "Picture of Anis Jradah"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_course_duplicate_course: error/setting_locked_by_permission problem",
          "Text": "Dear All, I was able to run my code, I just removed the backup options part in $params and a course was duplicated. Best regards, Anis",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 19, 2018, 5:40 PM",
          "AuthorName": "Anis Jradah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1076508&course=5",
          "role": [
            "Picture of Anis Jradah"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 365617,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=365617",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Getting list of users attempted Course within time frame",
          "Text": "Hi Everyone, I am able to access Web service API: gradereport_overview_get_course_grades to get user scores for enrolled courses. I do not want to get scores for all user. I just need to get scores for users who have attempted course on specific day only. (today / last day / before 1 week). Is there any Web Service API available in Moodle to get list of users who have attempted course in specific time frame, so that I can scores for specific list of users, instead of all users. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 12, 2018, 11:56 PM",
          "AuthorName": "Hemant Girdhar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2388936&course=5",
          "role": [
            "Picture of Hemant Girdhar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 348752,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348752",
      "NoOfResponses": 15,
      "ResponsesInList": [
        {
          "Title": "core_course_get_courses just course id and shortname",
          "Text": "Hi I set up a webservice with core_course_get_courses which is working fine. Is there a possibility to tetrieve only some fields, e.g. course id and shortname, instead of everything? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 9:38 PM",
          "AuthorName": "Rafael Rodriguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2209664&course=5",
          "role": [
            "Picture of Rafael Rodriguez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "are you working on webservice api with REST protocol activated? You can easily extract desired fields from the server response. It would help if you paste your code in here... best regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 9, 2017, 9:04 PM",
          "AuthorName": "Joscha Zander",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2119695&course=5",
          "role": [
            "Picture of Joscha Zander"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "I got no code. I'm just a user... Is there an option for core_course_get_courses to restrict the output, sth like &wsfunction=core_course_get_courses&JUSTTHISFIELD?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 9, 2017, 9:55 PM",
          "AuthorName": "Rafael Rodriguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2209664&course=5",
          "role": [
            "Picture of Rafael Rodriguez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "Not that i know. How are you calling the wsfunction? In a Webbrowser?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 10, 2017, 9:24 PM",
          "AuthorName": "Joscha Zander",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2119695&course=5",
          "role": [
            "Picture of Joscha Zander"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "Yes, in a Webbrowser. Is there any other way on a windows machine?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 10, 2017, 9:56 PM",
          "AuthorName": "Rafael Rodriguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2209664&course=5",
          "role": [
            "Picture of Rafael Rodriguez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "When you are just a user - why are you calling moodle webservices like that? Why don´t you simply use the moodle page? What are you trying to accomplish?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 11, 2017, 1:31 AM",
          "AuthorName": "Joscha Zander",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2119695&course=5",
          "role": [
            "Picture of Joscha Zander"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "I have to transfer a course list from a moodle postgresql database into a ms sql database on another system...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 11, 2017, 2:30 PM",
          "AuthorName": "Rafael Rodriguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2209664&course=5",
          "role": [
            "Picture of Rafael Rodriguez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "Hi Jack, you use the options parameter to make selections on id(s). .....&wsfunction=core_course_get_courses&options[ids][0]=<course id> Kind regards, Edwin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2017, 4:35 PM",
          "AuthorName": "Edwin Torn Broers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046953&course=5",
          "role": [
            "Picture of Edwin Torn Broers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "Hello Edwin, Thanks for your post. When I tried to pass parameters like this \"options[ids][0]=<course id>\", I am getting an error from API. Error:  [debuginfo] => Unexpected keys (ids) detected in parameter array. I want to retrieve all courses based on categoryid. Can you give me some syntax?? Regards Charan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2017, 7:14 PM",
          "AuthorName": "Charan Sri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2143800&course=5",
          "role": [
            "Picture of Charan Sri"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "Hi Charan, Just tried this one on our 3.1 system (with postman) to get information on courseid 12. https://<your-server>/webservice/rest/server.php?wstoken=<your-token>&wsfunction=core_course_get_courses&moodlewsrestformat=json&options[ids][0]=12 However this does not answer your question. This API call is probably not what you are looking for because it does not support categoryid as a selection parameter. I took a short peek at other calls and I'm not sure if what you are looking for is available. Regards, Edwin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2017, 9:09 PM",
          "AuthorName": "Edwin Torn Broers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046953&course=5",
          "role": [
            "Picture of Edwin Torn Broers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "Thank you Edwin, Is there any way for getting list of courses based on categoryid? Regards Charan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2017, 10:56 AM",
          "AuthorName": "Charan Sri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2143800&course=5",
          "role": [
            "Picture of Charan Sri"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "Hi Charan, not that I know off. But all the information is there, its just need some extra processing. You could wrap this call in a function or script and make a list of only the needed information and filter it by category (please note that catagory names are provided by another call). e.g. JSON output  -> table with only (  \"id\": \"shortname\": \"categoryid\": \"fullname\": \"displayname\") -> sort or select by categoryid So it needs some extra work, regards Edwin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 28, 2017, 3:26 PM",
          "AuthorName": "Edwin Torn Broers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046953&course=5",
          "role": [
            "Picture of Edwin Torn Broers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "Ok Thank you...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 29, 2017, 12:40 PM",
          "AuthorName": "Charan Sri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2143800&course=5",
          "role": [
            "Picture of Charan Sri"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "I'm not sure the solution mentioned by Edwin would work for some.  There is an issue described in this thread regarding the core_course_get_courses method: https://moodle.org/mod/forum/discuss.php?d=362784 It would be ideal if there was an additional filter like \"category id\" for the core_course_get_courses method to prevent the web service call from timing/erroring out.  However, it does not look like there has been any work for this issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 12, 2018, 11:22 PM",
          "AuthorName": "Michael Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1966587&course=5",
          "role": [
            "Picture of Michael Chan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses just course id and shortname",
          "Text": "I've since realized there is the core_course_get_courses_by_field method that was introduced in version 3.2.  Here is the syntax to filter by a category value, but you can also filter by id, course id, short name or category: https://MOODLEURL/webservice/rest/server.php?wstoken=TOKENVALUE&wsfunction=core_course_get_courses_by_field&field=category&value=[###]&moodlewsrestformat=json Please ensure the new API method is added as a function to the webservice token so you have the proper access.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 27, 2018, 4:49 AM",
          "AuthorName": "Michael Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1966587&course=5",
          "role": [
            "Picture of Michael Chan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 329467,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=329467",
      "NoOfResponses": 26,
      "ResponsesInList": [
        {
          "Title": "Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "Hello, I am facing a problem when I try to access moodle from an external network (Internet), I installed moodle on Windows server 2012 R2, on a WAMP Apache server on the localhost, When I try to access it from the internet I face this error, \"Incorrect access detected, this server may be accessed only through \" http://192.168.2.2:8181/moodle \" address, sorry. Please notify server administrator.\" Every this is fine on the TMG roles, and I made a port forward on the routers, Every time I receive the redirect message, when I click redirect it tells me that, the page unavailable. Please I need an urgent help in this.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1325485/01111.jpg"
          ],
          "Time": "Tuesday, March 8, 2016, 4:42 PM",
          "AuthorName": "Moataz Desouky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2063916&course=5",
          "role": [
            "Picture of Moataz Desouky"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "You need to change $CFG-> wwwroot (in config.php) to match the external hostname/ip address and port you are accessing the site with from the external network.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2016, 1:55 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "I already did so and this is my config.php, $CFG->wwwroot   = ' http://192.168.2.2:8181/moodle' ; $CFG-> dataroot = 'C:\\\\wamp\\\\moodledata'; $CFG->admin     = 'admin'; I still have the same problem, it shows me the same message.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Wednesday, March 9, 2016, 3:30 PM",
          "AuthorName": "Moataz Desouky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2063916&course=5",
          "role": [
            "Picture of Moataz Desouky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "What are you typing into the address bar in the browser on the external computer you're trying to access your moodle site from? That's what you need to set $CFG->wwwroot to.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2016, 9:14 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "what I type from the external network, is the real IP (Static IP), I change it in config.php also still gives me the same error.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Wednesday, March 9, 2016, 10:05 PM",
          "AuthorName": "Moataz Desouky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2063916&course=5",
          "role": [
            "Picture of Moataz Desouky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "That doesn't sound right. That error is produced if there is a mismatch between what you've typed into the browser address bar and the value of $CFG->wwwroot. Can you provide the following info: * The value of $CFG->wwwroot in your config.php * The external/static IP address (and port number if applicable) that you're typing into the browser address bar * Your router port forwarding rules",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2016, 10:27 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "This is what I have in config.php and I changed the the Local IP to the Real IP I have, $CFG->wwwroot   = ' http://192.168.2.2:8181/moodle' ; $CFG->dataroot  = 'C:\\\\wamp\\\\moodledata'; $CFG->admin     = 'admin'; changed to $CFG->wwwroot   = 'http://REAL IP:8181/moodle'; (Real IP) and the Port. $CFG->dataroot  = 'C:\\\\wamp\\\\moodledata'; $CFG->admin     = 'admin'; and this is the router configuration for the port forwarding.. but it shows the internal network interface for the TMG, I believe all the configuration on the TMG and the router is fine, because I reach the Apache Server from outside, but when I try to access the project (Moodle) on the apache I get the redirect page.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1326050/02222.png"
          ],
          "Time": "Thursday, March 10, 2016, 4:04 PM",
          "AuthorName": "Moataz Desouky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2063916&course=5",
          "role": [
            "Picture of Moataz Desouky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "This is weird - you've set $CFG->wwwroot = http://REAL IP:8181/moodle in config.php, but when you type http://REAL IP:8181/moodle into the browser, you get an error saying the site can only be accessed through http://192.168.2.2:8181/moodle . I wonder where Moodle is getting the http://192.168.2.2:8181/moodle displayed in the error message from. The only thing I can think of is that the value of $CFG->wwwroot is cached, but I doubt that very much. On the off chance that it is, clearing Moodle's cache (not your browser's cache) may help. To clear caches, login/SSH into your server and run this command: \n```text\nphp <MoodleInstallDirectory>/admin/cli/purge_caches.php\n```\n See if that helps. As Ken has mentioned, you're best off setting up a DNS record for your public IP address ('REAL IP') and changing $CFG->wwwroot to the associated FQDN. That will save you a lot of headaches. One more thing: your router configuration shows that you're forwarding the router external IP (REAL IP) to 192.168.1.99, and not 192.168.2.2 as shown in your error message. Do you have Moodle installed on both hosts?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 11, 2016, 2:12 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "The only way to properly setup a private IP Moodle server to be accessed from the public internet is to use a fully qualified domain name (not Windows private/internal domain names) for the server in DNS - both the external DNS zones and internal DNS zones. Then, in config.php use the FQDN rather than the 192.168.2.2 IP address. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2016, 10:45 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "I understand your point, but I mean is there anyway to access it from the external other than FQDN?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 10, 2016, 4:37 PM",
          "AuthorName": "Moataz Desouky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2063916&course=5",
          "role": [
            "Picture of Moataz Desouky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "There was, at one time, a 'work-around' one could use in the config.php, but think folks eventually had to give up on it How about you think about this ... let's say that users inside access the server by inside IP address.   User edits or adds a link to a file.   That link will contain the config.php files wwwroot variable ... such links are concatenated using wwwroot variable from config.php + whatever.   That's what gets entered in the database ... link is http(s):/privateIP/blah/blah. User then goes outside the private network, accesses the Moodle by public IP address (if you used the work-around) and login.   They go to the link created when they were inside and click it.    Since the link contains a private IP address read from the DB, which  is ** NON-routeable** on outside Internet, when they click, they'll get errors - cannot find/cannot access. Even if you attempted to write a fancy re-write rule for your apache server, how does one write the re-write rule that covers both inside and outside? If public IP -> go to private IP If private -> go to private IP ... if that's the rule that's called a proxy in apache. And, as we know, private IP's are  ** NON-routeable** . There is one way to avoid it all ... plugin your Moodle server outside the entities boundary firewall and configure the server with a public IP address.   You'd need an internal DMZ switch. But then, that server will have to protect itself ... rely upon it's own firewall and not the private networks firewall.   Hmmmm isn't that 'cloud'? ** Easiest ... best way ** ... FQDN both inside and outside. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 10, 2016, 10:57 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "Replying to own post ... how sick is that? :\\ One more reason to use FQDN ... it's probably a good idea to run any web service under https rather than http.   While one could use a self-generated certificate all browsers and devices will complain about that as the cert is not from a Certificate of Authority (CA).  One cannot acquire a valid cert from a CA using private IP addresses ... must use FQDN of the server when submitting a certificate request to a CA - ie, the server's hostname/domain must be found in public DNS. While one could acquire a wildcard cert to supposedly get around that, it still makes using both private IP and public IP still a bad choice ... there would have to be a cert for the private IP and a cert for public IP, me thinks by the same host name/TLD.   Would a browser/device get confused about that? Anyway ... additional 2 cents ... 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 11, 2016, 1:47 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "Hello again I already made a FQDN pointing on the real IP with the host, I tried to change it in the config.php. but still I have the same error.. I am not really good at PHP... is there a way I can chat with you in private to arrange a time and maybe you can help me with? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 17, 2016, 4:55 PM",
          "AuthorName": "Moataz Desouky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2063916&course=5",
          "role": [
            "Picture of Moataz Desouky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "*IF* you do have a FQDN for the box now, then this should be in config.php: $CFG->wwwroot   = 'http://FQDN:8181/moodle'; So let's check, from the box that's acting as the server, use whatever you can to check DNS.  If it were linux, one could use 'dig' and the DNS server settings for the box would be in /etc/resolv.conf. dig -x 192.168.2.2 That is a reverse DNS lookup and should respond with the *fully* qualified domain name ... which looks like: host (dot) somenet (dot) net (or whatever).   It is, however, a FQDN that *can* be resolved outside the private network as well, so ... let's see.   What do you get for: dig @8.8.8.8 [yourfqdnforserver] The 8.8.8.8 DNS server is Googles and is used often for a public (outside your private LAN/WAN) testing DNS. Also, check the config file for apache on server.   Port 8181 is an alternative port for normally port 80 (ie, web server).   Apache server must be told to listen on that port (rather than it's defaulted port 80). IF you change the port in apache config, apache must be restarted. Please ... no word doc attached. Have to ask ... why are you using an alt port?   Why not use port 80?   Skype? or other could be shutdown. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 17, 2016, 8:22 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "OK This is what I got after I changed to, $CFG-> wwwroot = ' http://moodle.gounanursing.org:8181/moodle' ; I still receive this message if I try to access it internally or from an external network. This makes me crazy!! Port 80 is taken by the IIS",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1327983/2323.jpg"
          ],
          "Time": "Thursday, March 17, 2016, 9:19 PM",
          "AuthorName": "Moataz Desouky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2063916&course=5",
          "role": [
            "Picture of Moataz Desouky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "HTTP_REVERSE_VIA     TMG HTTP_HOST     hostobsecured.elgounanursing.local:8181 SERVER_ADDR     192.168.2.2 SERVER_PORT     8181 REMOTE_ADDR     192.168.2.1 Project is named moodle and points to http://moodle ... which won't work for sure, me thinks. https://docs.moodle.org/30/en/Reverse_proxy_frontend You also need to research shutting down (never to launch on reboot) IIS *OR* don't run apache.   Run IIS! 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 17, 2016, 10:25 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "I really did not get that, if its possible can you send me some steps to follow, as you I run this Moodle on WAMP Apache server, on windows server 2012 R2, I am kinda lost here!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 23, 2016, 4:41 PM",
          "AuthorName": "Moataz Desouky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2063916&course=5",
          "role": [
            "Picture of Moataz Desouky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "First, am going to show some things in this response which some will baulk at, but ... if your private network is secure then it should make no difference. The problem is an internal DNS issue - thus also affects how one sets config.php for Moodle. ﻿ http://moodle.gounanursing.org:8181 197.45.49.149 dc-01.elgounanursing.local - this is now exposed in the settings page one sees when accessing the site from the outside. Can hit your site from external by FQDN.   Get some sort of settings page ... can see php extensions enabled as well as Tools, Projects (moodle is under that one), and Aliases: phpmyadmin, phpsysinfo, sql buddy, webgrind. None are accessible from the outside however. Conclusion: an internal DNS issue. The DNS server for your internal network which is a .local network needs to have an entry that maps the private IP address 192.168.2.2 to the same FQDN as outside DNS would resolve to the outside IP address 197.45.49.149. So if one were on a Linux box internal to your network (the .local) and they did a dig (DNS query) on the .local DNS server it would show: dig moodle.gounanursing.org moodle.gounanursing.org. 3600    IN    A    192.168.2.2 If you don't have an internal DNS server, then one has no choice but to use hostfile entries in server as well as internal workstations that are to access it.  (Google for that on how to do that in Windows) A hostfile entry would look like: 192.168.2.2 moodle.gounanursing.org moodle IF, that hostfile entry were on a laptop, and the laptop is taken outside the private and connected to another private network, that hostfile entry would have to be commented out.   That laptop would use the DNS setup of the network it's connected to and lookup the host name moodle.gounanursing.org and find it's public IP address 197.45.49.149 and thus be able to access. The only sure way to get an internal Moodle server on .local to be accessible to both internal (private) network and the outside internet is to use DNS ... a fully qualfied domain name as it appears to the outside internet ... ie, moodle.gounanursing.org Then, in your config file, rather than IP address, you can use the FQDN (moodle.gounanursing.org) inside/outside with no issues. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 23, 2016, 8:07 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "Hello again, I am sorry for the late reply! I have created a DNS record on my internal DNS pointing to moodle.gounanursing.org \"FQDN\" and I changed it in config.php.. The problem now it still giving me the same error message but this time the browser keeps loading and redirecting as if there is a loop!! Any ideas why is that? Thanks for your patience!!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1337328/moodel.jpg"
          ],
          "Time": "Monday, April 25, 2016, 3:13 PM",
          "AuthorName": "Moataz Desouky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2063916&course=5",
          "role": [
            "Picture of Moataz Desouky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "Visiting the site at http://moodle.gounanursing.org:8181/moodle/ gives this error: Incorrect access detected, this server may be accessed only through \" http://192.168.2.2:8181/moodle \" address, sorry. Please notify server administrator. Are you sure your DNS is pointing to the correct IP address and you've changed $CFG->wwwroot to http://moodle.gounanursing.org:8181/moodle/?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 22, 2016, 10:34 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "The Host DNS pointing to the Real IP, and yes I have changed $CFG-> wwwroot to http://moodle.gounanursing.org:8181/moodle/? , and it gives me the same error from the internal requests also, so I have to change it back, to be able to access it from the internal network",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Wednesday, March 23, 2016, 3:59 PM",
          "AuthorName": "Moataz Desouky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2063916&course=5",
          "role": [
            "Picture of Moataz Desouky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "Rabnawaz, First thing, if a dedicated IP is allocated to you, why do you need additional port? Secondly, the internal IP is only understood by nodes on intranet, and not on internet, so you giving local IP in CFG file and expecting external browsers (outside of network) to understand the public class IP automatically is never going to happen, Unless you are connecting from external network using VPN service to your Uni's network. Giving external IP in CFG file will may not work either unless your router/firewall has loop back functionality. Have you setup Bindings properly?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 1, 2016, 3:12 AM",
          "AuthorName": "Usman Asar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1183102&course=5",
          "role": [
            "Picture of Usman Asar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "Hi Usman, What is Bindings? I have set up loopback policy in my router/firewall and use external static IP  in my CFG wwwroot but fail both inside and outside of my campus network. Thanks, Bryan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 23, 2016, 5:16 PM",
          "AuthorName": "Bryan Hou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2122948&course=5",
          "role": [
            "Picture of Bryan Hou"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Public IP and Private IP in moodle server accessing from outside",
          "Text": "Hi, I have installed my moodle in windows server 2012 with IP address 192.168.0.3 and local host url is campusmoodle.ng. Its working fine with WIFi and LAN. But if i want to access my local server outside i.e from my home with internet. How this could be done? Please provide me all necessary settings required. Raj",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 21, 2017, 3:52 AM",
          "AuthorName": "raj singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2218282&course=5",
          "role": [
            "Picture of raj singh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorrect access detected, this server may be accessed only through \"http://192.168.2.2:8181/moodle\" address, sorry. Please notify server administrator.",
          "Text": "Este es un error de redireccionamiento, para solucionarlo tendremos que modificar el archivo \"config.php\", ubicado en la carpeta principal del moodle. $CFG->wwwroot   = 'http:// [direccion_ip_o_nombre_de_maquina] /moodle28';",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2018, 10:03 PM",
          "AuthorName": "Marco Carrillo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=893533&course=5",
          "role": [
            "Picture of Marco Carrillo"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 363073,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=363073",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "add function web service moodle",
          "Text": "hello everyone I using moodle 3.2 and i update moodle 3.4 When I tried Add function in web service of moodle 3.4, I got this error\nmessage as \" Coding error detected, it must be fixed by a programmer:\nCan not find file with external function implementation\". Please help me. Thanks all.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 18, 2017, 3:22 PM",
          "AuthorName": "Luan Phan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2349586&course=5",
          "role": [
            "Picture of Luan Phan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 362736,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=362736",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "\"Invalid Parameter Value Detected\" in local_o365_update_onenoteassignment",
          "Text": "Hi, I'm trying to delvelop a system which consumes some of the Moodle's web services. In this system there are 3 steps related with the Moodle's web service which are: -Get all the courses belong to Instructor -Get all the assignments belong to selected course -After editing the assignment, update it with the latest one. I easily implemented first two of them but updating an assignment is the problematic part. When I use local_o365_update_onenoteassignment function, it returns \"Invalid Parameter Value Detected\" error although parameters are correct. Here is my code below. I appreciate it if you help me. String token = \"adcd621f420dfc3000f106a6ebcebccb\"; String domainName = \"http://localhost:81/moodle\"; String functionName = \"local_o365_update_onenoteassignment\";",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 10, 2017, 2:53 AM",
          "AuthorName": "Berk Eren KOCA",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2355728&course=5",
          "role": [
            "Picture of Berk Eren KOCA"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 362297,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=362297",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Services and Events 2 Integrations",
          "Text": "Hello all, I was just searching on how to work with the Moodle Web Services API and use them together with the Events 2 API, but no much luck until now. I can, for example, create users and delete them with Web Service functions, but I need to know if there's a way to handle events by a web service, or send data from Moodle to my application when an event is triggered, or know if an event was triggered trough the Web Services. The last part, I would say that seems not being so possible, but I haven't found other alternatives on how to handle this in my software. I don't know enough about Moodle, so i cannot say whether or not it has such functionality, but at least some links provided from the documentation on how to do things of this kind, would be great. I already read a big part of the Events 2 docs and Web Services as well, but could not find a way to integrate these things. If someone could help me with this, it would be great. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 30, 2017, 3:38 AM",
          "AuthorName": "lucio beirao",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2350670&course=5",
          "role": [
            "Picture of lucio beirao"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 321658,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=321658",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "REST Web service - Missing required key in single structure: groups",
          "Text": "So the following is a REST call to sever.php, It successfully uses the token and calls the external function: http://collectiveintelligencerepository.com/webservice/rest/server.php?wstoken=dd70e39c37d50d9e806305eab51c4593&wsfunction=local_myplugin_create_groups The required parameters from the accessible external function are: \n```text\ncourseid => PARAM_INT\n```\n \n```text\nname => PARAM_TEXT\n```\n \n```text\ndescription => PARAM_RAW\n```\n \n```text\nenrolmentkey => PARAM_RAW\n```\n I have tried the following: http://collectiveintelligencerepository.com/webservice/rest/server.php?wstoken=dd70e39c37d50d9e806305eab51c4593&wsfunction=local_myplugin_create_groups&courseid=10&name=tgmg&description=thisisadescription&enrolmentkey=5 And get an error... \n```text\n<\nEXCEPTION\n \nclass\n=\n\"invalid_parameter_exception\"\n>\n```\n \n```text\n<\nERRORCODE\n>\ninvalidparameter\n</\nERRORCODE\n>\n```\n \n```text\n<\nMESSAGE\n>\nInvalid parameter value detected\n</\nMESSAGE\n>\n```\n \n```text\n<\nDEBUGINFO\n>\nMissing required key in single structure: groups\n</\nDEBUGINFO\n>\n```\n \n```text\n</\nEXCEPTION\n>\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 15, 2015, 10:33 PM",
          "AuthorName": "Alex Legg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1809071&course=5",
          "role": [
            "Picture of Alex Legg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: REST Web service - Missing required key in single structure: groups",
          "Text": "Plugin permissions were incorrect.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 16, 2015, 4:43 PM",
          "AuthorName": "Alex Legg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1809071&course=5",
          "role": [
            "Picture of Alex Legg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: REST Web service - Missing required key in single structure: groups",
          "Text": "Hey Alex. Where exactly did you set up plugin permissions? I am running my custom rest service and having the same response from the server (the one you mentioned on top)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2017, 12:07 AM",
          "AuthorName": "Alexis Rengifo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2184351&course=5",
          "role": [
            "Picture of Alexis Rengifo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: REST Web service - Missing required key in single structure: groups",
          "Text": "Hi alexis did you fix reported error? I have such a problem to test create_category service. I did it at https://demo.moodle.net and it was successful, but in my site following error was occurred. If you have founded the solution please help me?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1460732/error.jpg"
          ],
          "Time": "Wednesday, November 29, 2017, 12:30 AM",
          "AuthorName": "Mohammad Gholipour",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1982345&course=5",
          "role": [
            "Picture of Mohammad Gholipour"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 361681,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361681",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get Updated Grades Since the given time stamp",
          "Text": "Hi there, I need assistance on API functionality for getting the grades that updated since a given time.  The core function core_grades_get_grades only allow to get specific Course grades using courseid parameter. As like the function core_course_get_updates_since we can get updated courses since a time. Like this, is there any function by using it we can get the grades that updated since a given time? Or please assist me that how to achieve this. //regards, Hadi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 17, 2017, 2:08 PM",
          "AuthorName": "Mohammad Hadiuzzaman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2345270&course=5",
          "role": [
            "Picture of Mohammad Hadiuzzaman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 358769,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=358769",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_course_create_courses does not accept French accents characters",
          "Text": "I am calling the core_course_create_courses web service from oracle PL/ SQL procedure. The web service creates the courses successfully for the courses that have English names but not working with the courses that have French names like 'Cours Analyse Financière'. I tried to call the web service directly by typing its URL in the internet browser and it gave me the exception of 'Invalid parameter value detected ﻿ '",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1446895/Capture.JPG?forcedownload=1"
          ],
          "Time": "Wednesday, September 20, 2017, 7:49 PM",
          "AuthorName": "Ahmed El Sheshtawy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2306658&course=5",
          "role": [
            "Picture of Ahmed El Sheshtawy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_course_create_courses does not accept French accents characters",
          "Text": "Hi Ahmed, I'd recommend that if you can re-create the issue on the latest version of Moodle, that you should check tracker for any related bug reports and if not there, that you should create a bug report yourself.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 15, 2017, 2:19 AM",
          "AuthorName": "Karen Holland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1349863&course=5",
          "role": [
            "Picture of Karen Holland",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 361255,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361255",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Why $_POST is empty when send postfields ?",
          "Text": "I am using curl_php: curl_setopt($curl, CURLOPT_POST, 1) curl_setopt($curl, CURLOPT_POSTFIELDS, $str) curl_setopt($curl, CURLOPT_RETURNTRANSFER, true) curl_setopt($curl, CURLOPT_HTTPHEADER, array('Content-type: application/x-www-form-urlencoded')) $str variable is code to style URL http_build_query() is a users array However, send $str in URL $curl=curl_init($serverurl . $restformat . '&' . $str) curl_setopt($curl, CURLOPT_POST, 1) curl_setopt($curl, CURLOPT_RETURNTRANSFER, true) curl_setopt($curl, CURLOPT_HTTPHEADER, array('Content-type: application/x-www-form-urlencoded')) Then $_POST has pairs values but bad encode: Any help...thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1456788/screen.png"
          ],
          "Time": "Thursday, November 9, 2017, 11:01 PM",
          "AuthorName": "Jesus Marquez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1784464&course=5",
          "role": [
            "Picture of Jesus Marquez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360865,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360865",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Service with ASP.Net",
          "Text": "I can use core_course_get_courses with Token and moodlewsrestformat=json and It works good and get list of courses. But when I use core_user_get_users_by_field I get nothing. string moodleUrl = \" http://moodle.local/webservice/xmlrpc/server.php \"; string token = \"123456789\"; string result = \"\"; string apiName = \"core_user_get_users_by_field&field=email&values[0]=mail@ server .com\"; string apiCall = moodleUrl + \"?wstoken=\" + token + \"&wsfunction=\" + apiName + \"&moodlewsrestformat=json\"; try { using (var client = new WebClient()) { client.BaseAddress = apiCall; client.Headers[HttpRequestHeader.Accept] = \"application/json\"; result = client.DownloadString(apiCall); Response.Write(result); } } catch(Exception es) { Response.Write(es.Message); }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 1, 2017, 10:00 PM",
          "AuthorName": "Ahmed Ragae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2336347&course=5",
          "role": [
            "Picture of Ahmed Ragae"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360761,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360761",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Exception Missing required key in single structure: users",
          "Text": "I require to consume function core_user_create_users with next code: $serverurl = $ domain . '/webservice/rest/ server .php'. '?wstoken=' . $token . '&wsfunction='.$function_name; $user_fields = array(); $n='1'; $user_fields[0]['username'] = 'testusername'.$n; $user_fields[0]['password'] = 'testpassword'.$n; $user_fields[0]['firstname'] = 'testfirstname'.$n; $user_fields[0]['lastname'] = 'testlastname'.$n; $user_fields[0]['email'] = 'testemail'.$n.'@moodle.com'; $n='2'; $user_fields[1]['username'] = 'testusername'.$n; $user_fields[1]['password'] = 'testpassword'.$n; $user_fields[1]['firstname'] = 'testfirstname'.$n; $user_fields[1]['lastname'] = 'testlastname'.$n; $user_fields[1]['email'] = 'testemail'.$n.'@moodle.com'; $curl_post_data = array('users'=>$user_fields); $str = http_build_query($curl_post_data); $curl=curl_init($serverurl . $restformat); curl_setopt($curl, CURLOPT_POST, true); curl_setopt($curl, CURLOPT_POSTFIELDS, $str); curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); curl_setopt($curl, CURLOPT_HTTPHEADER, array('Content-type: application/x-www-form-urlencoded')); $curl_response = curl_exec($curl); if ($curl_response === false) { $info = curl_getinfo($curl); curl_close($curl); die('error occured during curl exec. Additioanl info: ' . var_export($info)); } curl_close($curl); print_r($curl_response); But I get received this exception: <EXCEPTION class= \"invalid_parameter_exception\"> <ERRORCODE>invalidparameter</ERRORCODE> <MESSAGE>Detectado valor de parámetro no válido</MESSAGE> <DEBUGINFO>Missing required key in single structure: users</DEBUGINFO> </EXCEPTION> Any help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 30, 2017, 11:30 PM",
          "AuthorName": "Jesus Marquez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1784464&course=5",
          "role": [
            "Picture of Jesus Marquez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360698,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360698",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Check if password policy enabled, and what it is?",
          "Text": "Is there a webservice call that can see if password policy is enabled and a call to see what the policy is set to?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 29, 2017, 9:22 AM",
          "AuthorName": "Jeff Shrek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1948495&course=5",
          "role": [
            "Picture of Jeff Shrek"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360627,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360627",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "No setup information was found for",
          "Text": "Hi, I'm trying to connect custom web java application with custom made local plugin in the Moodle through the use of Rest web service. However, as a response from Moodle I'm getting error message that doesn't give me idea what could be the problem. The error code is 503, and response I get is the following: \n```text\n<html><head><title>Error - Moodle Config</title></head><body><table align=\"center\"><tr><td style=\"color:#990000; text-align:center; font-size:large; border-width:1px;     border-color:#000000; border-style:solid; border-radius: 20px; border-collapse: collapse;     -moz-border-radius: 20px; padding: 15px\"><p>Error: Get  moodle setup information failed.</p>\n\n\n<p>No setup information was found for </p>\n\n\n<p></p>\n\n\n<p>It is possible that the \ndatabase\n is overloaded or otherwise not running properly.</p>\n\n\n<p>The site administrator should also check that the database details have been correctly specified in config.php</p>\n\n\n</td></tr></table></body></html>\n```\n Moodle works fine so there is no problem with database as error indicates. Is there anything else that I should check? Thanks, Zoran",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 27, 2017, 4:08 AM",
          "AuthorName": "Zoran Jeremic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1758822&course=5",
          "role": [
            "Picture of Zoran Jeremic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 359993,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359993",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Is Web service function available for updating activity completion",
          "Text": "Hi, web service function for updating completion to each activity is available or not.... Or else is there any generic web service function for performing activity completion",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 15, 2017, 12:07 AM",
          "AuthorName": "deva m",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2073861&course=5",
          "role": [
            "Picture of deva m"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 359131,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359131",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Creating a webservice to allow access to remote site",
          "Text": "I would like to know how to configure the webservice plugin in moodle to allow a user who is logged into moodle to access content in a remote site without having to log into the remote site.  Basically, the external LMS is going to send a link to an activity to the teacher\nof the course and the teacher will put it on the course page.  Any\nstudent in the course can click on the link and should automatically\nenter the activity on the other site.  Is this something I need to write a plugin for? So far I've followed the steps in \"Users as clients with token\" (found under admin/settings.php?section=webservicesoverview) and I've enabled web services in advanced features, I enabled the soap protocol, and I created a custom service and configured it as recommended.  I also created the webservice role and assigned a webservice user with that role as a system role. However, I can't seem to figure out what functions to include and how to actually implement it.  Any help is much appreciated.  Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 27, 2017, 12:03 PM",
          "AuthorName": "Paul P.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=519127&course=5",
          "role": [
            "Picture of Paul P."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 356070,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356070",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "i can't create user via webservice.",
          "Text": "i use this code <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \" http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd \"> <html xmlns=\" http://www.w3.org/1999/xhtml \"> <head> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> <title>V6</title> </head> <body> <?php //load curl.php require_once('curl.php'); function randomPassword() //according to Moodle password requirements { $part1 = \"\"; $part2 = \"\"; $part3 = \"\"; //alphanumeric LOWER $alphabet = \"abcdefghijklmnopqrstuwxyz\"; $password_created = array(); //remember to declare $pass as an array $alphabetLength = strlen($alphabet) - 1; //put the length -1 in cache for ($i = 0; $i < 3; $i++) { $pos = rand(0, $alphabetLength); // rand(int $min , int $max) $password_created[] = $alphabet[$pos]; } $part1 = implode($password_created); //turn the array into a string //echo\"<br/>part1 = $part1\"; //alphanumeric UPPER $alphabet = \"ABCDEFGHIJKLMNOPQRSTUWXYZ\"; $password_created = array(); //remember to declare $pass as an array $alphabetLength = strlen($alphabet) - 1; //put the length -1 in cache for ($i = 0; $i < 3; $i++) { $pos = rand(0, $alphabetLength); // rand(int $min , int $max) $password_created[] = $alphabet[$pos]; } $part2 = implode($password_created); //turn the array into a string //echo\"<br/>part2 = $part2\"; //alphanumeric NUMBER $alphabet = \"0123456789\"; $password_created = array(); //remember to declare $pass as an array $alphabetLength = strlen($alphabet) - 1; //put the length -1 in cache for ($i = 0; $i < 2; $i++) { $pos = rand(0, $alphabetLength); // rand(int $min , int $max) $password_created[] = $alphabet[$pos]; } $part3 = implode($password_created); //turn the array into a string //echo\"<br/>part3 = $part3\"; $password = $part1 . $part2 . $part3 . \"#\"; return $password; } function getCDate() { $format = \"Ymd\"; $fulldate = date($format); //echo\"<br/>fulldate = $fulldate\"; return $fulldate; } function enrol($user_id, $course_id) { $role_id = 5; //assign role to be Student $domainname = ' http://demo2.lmskaran.com '; //paste your domain here $wstoken = 'f7298eeaa8ce6110590876c********'; //here paste your enrol token $wsfunctionname = 'enrol_manual_enrol_users'; $enrolment = array( 'roleid' => $role_id, 'userid' => $user_id, 'courseid' => $course_id ); $enrolments = array($enrolment); $params = array( 'enrolments' => $enrolments ); header('Content-Type: text/plain'); $serverurl = $domainname . \"/webservice/rest/ server .php?wstoken=\" . $wstoken . \"&wsfunction=\" . $wsfunctionname; $curl = new curl; $restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat, $params); print_r($resp); } function getUserDetails() { $firstname = \"TestUser\"; $lastname = \"TestUser\"; $email = \"TestUser@zzz.gr\"; $city = \"Thessaloniki\"; $country = \"EL\"; $description= \"ZZZ\"; //assign username //get first two letters of name and surname //$strlength_user = strlen($firstname); //$strlength_pass = strlen($lastname); $rest_firstname = substr($firstname, 0, 2); $rest_lastname  = substr($lastname, 0, 2); $part1 = $rest_firstname . $rest_lastname; $part1 = strtolower($part1); //echo\"<br/>part1 = $part1\"; $dt = getCDate(); $part2 = substr($dt, -4); //echo\"<br/>part2 = $part2\"; $username = $part1 . \".\" . $part2; echo\"<br/>Username = $username\"; //assign password $password = randomPassword(); echo\"<br/>Password = $password\"; //call WS core_user_create_user of moodle to store the new user $domainname = ' http://www.demo2.lmskaran.com '; $wstoken = 'e560c275cdc59b15b323193********'; //here paste your create user token $wsfunctionname = 'core_user_create_users'; //REST return value $restformat = ' xml '; //parameters $user1 = new stdClass(); $user1->username = $username; $user1->password = $password; $user1->firstname = $firstname; $user1->lastname = $lastname; $user1->email = $email; $user1->auth = 'manual'; $user1->idnumber = 'numberID'; $user1->lang = 'en'; $user1->city = $city; $user1->country = $country; $user1->description = $description; $users = array($user1); $params = array('users' => $users); //REST call header('Content-Type: text/plain'); $serverurl = $domainname . \"/webservice/rest/server.php?wstoken=\" . $wstoken . \"&wsfunction=\" . $wsfunctionname; $curl = new curl; $restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat, $params); print_r($resp); //get id from $resp $xml_tree = new SimpleXMLElement($resp); echo '</br>' ; echo 'رسپ این پایینی users' ; echo '</br>' ; print_r($users); echo '</br>' ; echo '</br>' ; echo 'رسپ این پایینی params' ; echo '</br>' ; print_r($params); echo '</br>' ; echo '</br>' ; echo 'رسپ این پایینی restformat' ; echo '</br>' ; print_r($restformat); echo '</br>' ; print_r($xml_tree); echo '</br>' ; print_r($xml_tree); $value = $xml_tree->MULTIPLE->SINGLE->KEY->VALUE; $user_id = intval(sprintf(\"%s\",$value)); echo\"<br/>user_id number = $user_id\"; //enrol_manual_enrol_users //for($i = 64; $i < 70; $i++) //where 64,65,66,67,68,69 are the six ids of the six courses of phase 1 for($i = 7; $i < 8; $i++) { echo \"\\nThe user has been successfully enrolled to course \" . $i; $course_id = $i; echo '</br>' ; enrol($user_id, $course_id); } } getUserDetails(); ?> </body> </html>+ but when i  want to run this code, it can not create user and say this error: codingerror Invalid call to role_assign(), userid can not be empty i,m using this help: https://moodle.org/mod/forum/discuss.php?d=319039 please help me",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 28, 2017, 12:13 AM",
          "AuthorName": "sadaf sadafian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2153600&course=5",
          "role": [
            "Picture of sadaf sadafian",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: i can't create user via webservice.",
          "Text": "Hi You can use this\nfunction: user_create_user() that is in user/lib.php. This function\nget user object and create that object. This function return the id\nof user that created. Also for enrol user\nto same course, you can use function that name is enrol_user. This\nfunction is in lib/enrollib.php. The important parameters of this\nfunction are “\nstdClass\n$instance, $userid, $roleid = null ,\n$timestart = 0, $timeend = 0”. $instance\nis the one enrolment methods of your course for example “manual”,\nand $userid can be the output of user_create_user() function, and\n$roleid is $instance->roleid I think the reason\nof your error is about your parameters. For example in your\nparametrs, there is not $instance object. You should get the\ninstance, and put that in $params.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 23, 2017, 3:04 PM",
          "AuthorName": "Hooman Kiani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2149313&course=5",
          "role": [
            "Picture of Hooman Kiani"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 358497,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=358497",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web services enrolment - changing enrolment description",
          "Text": "I want to enrol students using the web services function enrol_manual_enrol_users . I can do this successfully but the comment next to a student says \"Manual enrolments enrolled Sat 26 August 2017 06:00 AM\". This is not entirely true as it was enrolled by web services. Is there a way of changing the message so that is says something like \"Web Services enrolments enrolled Sat 26 August 2017 06:00 AM\"? Other enrolment plugins will have a different message e.g \"External database enrolments enrolled Sat 26 August 2017 06:00 AM\" for the External database enrolment plugin. There is no way of knowing whether an enrolment was created manually by a human or by web services as far as I am aware. Is there a way to distinguish between web services enrolment and actual manual, human-initiated enrolment?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 15, 2017, 6:25 PM",
          "AuthorName": "samuel h",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1727917&course=5",
          "role": [
            "Picture of samuel h"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 358253,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=358253",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Blob is not saving in DB with Java web service in Win 10 (office 2016) with Chinese Language.",
          "Text": "Blob is not saving in DB with Java web service in Win 10 with Chinese Language. our Application support only IE -11 and Office 32 bit. our Application is working on IE-11 with MS Office only (office 10 or\nlater version). our Application is working properly in every where. but in china/japan (with their language) its not working. in china\nwhile user type something in Our application office viewer and save then\nits not save , BLOB file is not save to DB ( Oracle ) with JAVA Web\nservice. Client using Win10 64 bit and Office 2016 32 bit. if client using new machine with same configuration then working fine,\nbut after few days again facing issue, might be due to some updates (not\nsure). more info:- “Microsoft SOAP Toolkit 3.0 with Office 2016 is used in our\nproduct .Please let us, “Is reinstallation of SOAP Toolkit or office 2016 would\nresolved this issue?” As this is happening only a system which is running with\nwindows 10 Chinese language pack”. Thanks, Abhijeet Choudhary",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 11, 2017, 9:59 PM",
          "AuthorName": "Abhijeet Choudhary",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2297734&course=5",
          "role": [
            "Picture of Abhijeet Choudhary"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 201826,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=201826",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Login webservice",
          "Text": "Hello guys! I'm the new to the Moodle development. I want to create a funcion which allow user login into Moodle by REST protocol. I've try many ways but still don't work. Please tell me how can I do that. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 3, 2012, 10:39 AM",
          "AuthorName": "Han Tran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450443&course=5",
          "role": [
            "Picture of Han Tran"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Login webservice",
          "Text": "Hi Han, you can use Moodle web service to call functions as a Moodle user: * http://docs.moodle.org/dev/Creating_a_web_service_client * https://github.com/moodlehq/sample-ws-clients/tree/master/PHP-REST * http://docs.moodle.org/dev/Web_services_Roadmap#Core_web_service_functions * http://docs.moodle.org/dev/Web_services Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 7, 2012, 10:38 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Login webservice",
          "Text": "Hai Jerome, i have a problem here,, hope you can help by using the web-service i got the token,, so that i can access more services,, but in some service that return URL ,, why does it need to re-login. is it possible to make it not to re-login just by getting the token,, thanks -bayu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 26, 2013, 3:09 PM",
          "AuthorName": "Bayu Wicaksono",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1433796&course=5",
          "role": [
            "Picture of Bayu Wicaksono"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Login webservice",
          "Text": "Hi I'm the new to the Moodle development too. I want to create a form in android which allow user login into Moodle by SOAP/REST protocol. I've try many ways too but all in vain. Can you help me please, if u achieved ur task. Please??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 11, 2012, 7:59 AM",
          "AuthorName": "Javeria Qamar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1475508&course=5",
          "role": [
            "Picture of Javeria Qamar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ats: Re: Login webservice",
          "Text": "hi. i've maneged to fix my problem, but i don't see how my solution could help you in login process. reasently i was working on android aplication too. because my knoladge in java is realy poor i've used PhoneGap to build the app. for login process i've create an hidden iframe in which login form was loaded. then user enters his/her credentials and presses login button (in my custom form), the information entered is being pushed into iframe's form and login button click is simulated. by parsing data loaded in iframe you can know if user logged in or an error ocured. hope that will help you. wish you best of luck working on your project! Tomas",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 13, 2012, 5:01 PM",
          "AuthorName": "Tomas Madajevas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1475170&course=5",
          "role": [
            "Picture of Tomas Madajevas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ats: Re: Login webservice",
          "Text": "Hellow there..... i need some help in moodle integration with asp.net application. currently we have a working asp.net application and we want to extend it with moodle .... now the problem is we want that user do not need to re login to moodle site.... if he/she were login to our asp.net app then the same id password works and there moodle screen comes up on a button click .  help me for login problem plz....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 18, 2016, 12:58 PM",
          "AuthorName": "Muhammad Owais Hassan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171242&course=5",
          "role": [
            "Picture of Muhammad Owais Hassan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ats: Re: Login webservice",
          "Text": "hey hi, were you able to succeed with your asp.net integration with moodle? i mean kind of singlesignon??? let me know plz",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 8, 2017, 2:11 AM",
          "AuthorName": "sai prasad",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2244536&course=5",
          "role": [
            "Picture of sai prasad"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Login webservice",
          "Text": "hi all. I think if you want to login, just using token. Because, i you have wrong username or password, i cant get your token. That is my opinion.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 16, 2013, 11:15 AM",
          "AuthorName": "Json Chau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1550897&course=5",
          "role": [
            "Picture of Json Chau"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 357646,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=357646",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Using OAuth2 to connect to Web Services",
          "Text": "I'm trying to connect my Moodle plugin to a web service that uses OAuth2 for user/client authentication.  The idea is for a Moodle administrator to be given a client ID and client secret, then enter those into Moodle so that the Moodle instance acts as a client application for other Moodle users to reach the web services.  Unfortunately, the documentation only seems to hint that such a use case is possible, without giving any details on implementation. Importantly, web service doesn't use OAuth2 yet; I'm trying to make certain that I'll be able to connect Moodle to it before I invest the time in fully testing testing that change.  For now, I've been using this Node.js/Sails.js project to stand in as a simple API server /OAuth2 Server.  I've tested it in Postman and it seems to be working. The problem is that Moodle seems to be asking for different details than the OAuth2 server generates.  Moodle's New Issuer form also looks quite different from Postman's New Token form.  For instance, it's not clear to me what Callback URL the auth server should use when it finishes granting authorization to the Moodle Admin. Is there any other documentation on OAuth2 Services?  Anyone out there who's used them for a web service (rather than Open ID for user login)?  Thanks in advance.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1442585/Postman%20Token%20Form.png?forcedownload=1"
          ],
          "Time": "Wednesday, August 30, 2017, 5:51 PM",
          "AuthorName": "Ryan Carpenter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2257625&course=5",
          "role": [
            "Picture of Ryan Carpenter"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using OAuth2 to connect to Web Services",
          "Text": "What is are describing sounds similar to the repository code for 3.3. Look at repository/googledocs as an example. There are 2 cases with when accessing a service with OAuth: 1. You want to access on behalf of the logged in user 2. You want to access on behalf of some kind of system user with magic privileges (without giving those privileges to the logged in user). Case 2 is what we use the \"system account\" for. Again - see the examples in that repository/googledocs which mixes both kinds of access.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 4, 2017, 9:39 AM",
          "AuthorName": "Damyon Wiese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337843&course=5",
          "role": [
            "Picture of Damyon Wiese"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using OAuth2 to connect to Web Services",
          "Text": "That sounds helpful; I'll check it out.  The system account sounds like the right way to go. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 4, 2017, 11:41 AM",
          "AuthorName": "Ryan Carpenter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2257625&course=5",
          "role": [
            "Picture of Ryan Carpenter"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 357690,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=357690",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_user_get_users not returning users created with core_user_create_users",
          "Text": "If I try to search for a user I just created with a WS it does not return it.\nAlso I noticed that if I search by unexisting fields, for example, asdasdad, it returns the user associated with the token. Why? shouldn't it return an error?\n\n$token = 'XXXXX';\n$domainname = 'XXXX';\n$functionname = 'core_user_create_users';\n\n// REST RETURNED VALUES FORMAT\n$restformat = 'json'; //Also possible in Moodle 2.2 and later: 'json'\n//Setting it to 'json' will fail all calls on earlier Moodle version\n\n//////// moodle_user_create_users ////////\n\n/// PARAMETERS - NEED TO BE CHANGED IF YOU CALL A DIFFERENT FUNCTION\n$user1 = new stdClass();\n$user1->username = 'testusername4';\n$user1->password = 'testpassworD*1';\n$user1->firstname = 'testfirstname1';\n$user1->lastname = 'testlastname1';\n$user1->email = 'testemail1@moodlsde.com';\n$user2 = new stdClass();\n$user2->username = 'testusername5';\n$user2->password = 'testpassworD*2';\n$user2->firstname = 'testfirstname2';\n$user2->lastname = 'testlastname2';\n$user2->email = 'testemail2@moodleas.com';\n$user2->timezone = 'Pacific/Port_Moresby';\n$users = array($user1, $user2);\n$params = array('users' => $users);\n\n/// REST CALL\nheader('Content-Type: text/plain');\n$serverurl = $domainname . '/webservice/rest/ server .php'. '?wstoken=' . $token . '&wsfunction='.$functionname;\nrequire_once('./curl.php');\n$curl = new curl;\n//if rest format == ' xml ', then we do not add the param for backward compatibility with Moodle < 2.2\n$restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:'';\n$resp = $curl->post($serverurl . $restformat, $params);\n//print_r($resp);\n\n$criteria = array( 'key' => 'username','value' => 'testusername4' );\n$params = array( 'criteria' => array($criteria));\n$serverurl = $domainname . '/webservice/rest/server.php'. '?wstoken=' . $token . '&wsfunction=core_user_get_users';\n\n$ret = $resp = $curl->post($serverurl . $restformat, $params);\n\nprint_r($ret);",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 31, 2017, 11:02 AM",
          "AuthorName": "alejandro alves",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2287393&course=5",
          "role": [
            "Picture of alejandro alves"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_user_get_users not returning users created with core_user_create_users",
          "Text": "sorry just noticed the format problem If I try to search for a user I just created with a WS it does not\nreturn it.\nAlso I noticed that if I search by unexisting fields, for example,\nasdasdad, it returns the user associated with the token. Why? shouldn't\nit return an error? $token = 'XXXXX';\n$domainname = 'XXXX'; $functionname = 'core_user_create_users';\n// REST RETURNED VALUES FORMAT $restformat = 'json'; //Also possible in Moodle 2.2 and later: 'json' //Setting it to 'json' will fail all calls on earlier Moodle version //////// moodle_user_create_users //////// /// PARAMETERS - NEED TO BE CHANGED IF YOU CALL A DIFFERENT FUNCTION $user1 = new stdClass(); $user1->username = 'testusername4'; $user1->password = 'testpassworD*1'; $user1->firstname = 'testfirstname1'; $user1->lastname = 'testlastname1'; $user1->email = 'testemail1@moodlsde.com'; $user2 = new stdClass(); $user2->username = 'testusername5'; $user2->password = 'testpassworD*2'; $user2->firstname = 'testfirstname2'; $user2->lastname = 'testlastname2'; $user2->email = 'testemail2@moodleas.com'; $user2->timezone = 'Pacific/Port_Moresby'; $users = array($user1, $user2); $params = array('users' => $users); /// REST CALL header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/rest/ server .php'. '?wstoken=' . $token . '&wsfunction='.$functionname;\nrequire_once('./curl.php');\n$curl = new curl; //if rest format == ' xml ', then we do not add the param for backward compatibility with Moodle < 2.2 $restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat, $params); $criteria = array( 'key' => 'username','value' => 'testusername4' ); $params = array( 'criteria' => array($criteria)); $serverurl = $domainname . '/webservice/rest/server.php'. '?wstoken=' . $token . '&wsfunction=core_user_get_users'; $ret = $resp = $curl->post($serverurl . $restformat, $params); print_r($ret);",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 31, 2017, 11:38 AM",
          "AuthorName": "alejandro alves",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2287393&course=5",
          "role": [
            "Picture of alejandro alves"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 346036,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=346036",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Quiz: review attempts",
          "Text": "Hi guys I'm developing an webapp using angularjs and phonegap. A few days ago, I started to work with quiz services, when I process the quiz, I'm using this url: https://mysite.com/webservice/rest/server.php?moodlewsrestformat=json&attemptid=230&wstoken=<token>&wsfunction=mod_quiz_process_attempt&finishattempt=1 Answers are being save it with mod_quiz_save_attempt. Once the quiz is saved and finished, in my database , in table mdl_quiz_attempts, the attempt has the column preview as \"1\" My problem is that \"1\", when I used mod_quiz_get_user_attempts for getting the attempts of my user doesn't show the attempt that I already did. Are there a way to make preview as \"0\" using mod_quiz_process_attempt ? Thank you!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1395482/2017-01-18_104408.png?forcedownload=1"
          ],
          "Time": "Wednesday, January 18, 2017, 9:46 PM",
          "AuthorName": "Ricardo Flores Cabal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2133781&course=5",
          "role": [
            "Picture of Ricardo Flores Cabal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Quiz: review attempts",
          "Text": "Hi, Ricardo, Did you find any solution to your problem? If yes please share I would like to know as I am also facing the similar issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 28, 2017, 11:30 PM",
          "AuthorName": "Preethi Nadar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2283792&course=5",
          "role": [
            "Picture of Preethi Nadar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 357283,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=357283",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Update user data problem",
          "Text": "I am trying to use core_user_update_users function but I am getting this error with all users? string(98) \"{\"exception\":\"moodle_exception\",\"errorcode\":\"usernotfullysetup\",\"message\":\"User not fully set-up\"}\" array(1) { [0] => string(98) \"{\"exception\":\"moodle_exception\",\"errorcode\":\"usernotfullysetup\",\"message\":\"User not fully set-up\"}\" } Is there special configuration of this function, I tried this with 5 servers and they all returned the same message? The user of the external webservices has all capabilities and can do everything.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 23, 2017, 10:35 PM",
          "AuthorName": "Mohammed Essaid MEZERREG",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2042796&course=5",
          "role": [
            "Picture of Mohammed Essaid MEZERREG"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 354690,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354690",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "No API to create an assignment/module",
          "Text": "Using the webservices API I'm able to create course pages, edit topic titles, and do most other tasks I need remotely. But one essential thing I can't do is create a new lesson through the API, or any other module/assignment, for that matter. I checked the MDL tracker and it's on the roadmap, but it's been on the roadmap since 2013 with only a few updates. Ref: MDL-40779 . It may be another several years before it's rolled out for production. In the meantime, I've tried calling the /mod/lesson/lib.php file directly to access the functions in there, but due to the autoloader and security restrictions, that gets stopped in it's tracks. I've also tried uploading a custom php file to the Moodle directory that takes a few GET parameters and calls the add_lesson_instance() function itself. I then tried calling that file through cURL remotely, but it's a no go. I'm playing whack-a-mole with an endless runaround of errors. Has anyone found a solution for creating an assignment or module remotely, outside of Moodle? EDIT: I've also been playing around with modifying the Joomdle plugin since it creates it's own custom API calls in Moodle, but if the developers of this plugin haven't been able to do it themselves, then I don't have much hope.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 29, 2017, 8:29 PM",
          "AuthorName": "Noora C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255193&course=5",
          "role": [
            "Picture of Noora C"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: No API to create an assignment/module",
          "Text": "I also need to be able to create assignments via the web service API.  Is there any work-around for this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 21, 2017, 8:32 AM",
          "AuthorName": "Fred Tibbitts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2277169&course=5",
          "role": [
            "Picture of Fred Tibbitts"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "ตอบ: No API to create an assignment/module",
          "Text": "I T Outsource Services",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, August 21, 2017, 5:43 PM",
          "AuthorName": "Techspace IT Outsource",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2277407&course=5",
          "role": [
            "Picture of Techspace IT Outsource"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 356193,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356193",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "assignment_id in URL doesn't match with database??",
          "Text": "Hi everyone, I am sending grades from an excel-sheet to moodle via web services. I'm calling the user_id, grade_value, a comment and the assignment_id. It is really strange, but the assignment_id in the URL does not match with the assignment_id in the database . When I use the assignment_id of the URL , the grades are not sent from excel sheet to moodle. So I always have to check the assignment_id in the database , which is awkward. What do I have to do to make assignment_id in URL and database same?? Can anyone help please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 31, 2017, 5:59 PM",
          "AuthorName": "Jülide Dursun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2230151&course=5",
          "role": [
            "Picture of Jülide Dursun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: assignment_id in URL doesn't match with database??",
          "Text": "Do you know when this changed? It has broken all of my grade scripts using the web services API.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2017, 1:45 AM",
          "AuthorName": "Christopher Molnar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1601144&course=5",
          "role": [
            "Picture of Christopher Molnar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352267,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352267",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Problem in core_files_upload API",
          "Text": "I am using core_files_upload API to upload files into moodle. But it is giving an error \"File not specified\" Below is my API call URL . http://mymoodle.com/webservice/rest/server.php?moodlewsrestformat=json&wstoken=mytokennumber&wsfunction=core_files_upload&contextlevel=user&instanceid=3972&component=user&filearea=draft&itemid=9989&filepath=/&filename=p01.jpeg&filecontent=hello Can anyone suggest? How to use core_files_upload Web service to upload files?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2017, 4:52 PM",
          "AuthorName": "Aniket Sankpal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046591&course=5",
          "role": [
            "Picture of Aniket Sankpal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problem in core_files_upload API",
          "Text": "Hi, did you solve it? I have the same problem and I have not found a solution...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 11, 2017, 2:15 AM",
          "AuthorName": "Thiago Cristiano",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2239593&course=5",
          "role": [
            "Picture of Thiago Cristiano"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 354924,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354924",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Writing SCORM track data in web service scenario",
          "Text": "We're developing a custom learning app for a client. That client uses Moodle as an LMS and we're expected to write course progress and results back to Moodle using standard Moodle web services. The course is configured as a SCORM typed course. To set up the web services we basically we saw two options: set up web service permissions for each and every user enrolled in that course. set up a dedicated web service user account We chose the second option (less configuration needed) but ran into the fact that writing data is performed under the current logged on user. So writing progress data in table 'mdl_scorm_scoes_track' is recorded with the userId of the generic web service user. The web service does not take a 'userId' parameter. (see here .) As I see it now, there is no way to get the second option working. Question to the community: please confirm that the default web service for writing SCORM track data does not support the scenario of using a generic web service user. If I'm mistaken, what am I not seeing? As for the first option: what would be the most efficient setup to get the app working when faking the web service calls under the account of the current user. Thanks to all!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 4, 2017, 8:33 PM",
          "AuthorName": "Mark Achten",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2221040&course=5",
          "role": [
            "Picture of Mark Achten"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 347270,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=347270",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How To make the system/ Application with an integration to WS-security Axis 2 Ready",
          "Text": "How To make the system/ Application with an integration to WS-security Axis 2 Ready",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 9, 2017, 9:56 PM",
          "AuthorName": "JAGADEESH G G",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2200356&course=5",
          "role": [
            "Picture of JAGADEESH G G"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How To make the system/ Application with an integration to WS-security Axis 2 Ready",
          "Text": "Hi Jagadeesh Please find link to help. https://moodle.org/mod/forum/discuss.php?d=67947",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 30, 2017, 5:54 PM",
          "AuthorName": "Deepak Gour",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2205201&course=5",
          "role": [
            "Picture of Deepak Gour"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 347271,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=347271",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How To implement SOAP content encrypt / decrypt by using x.509 certificate Cryptography.",
          "Text": "How To implement SOAP content encrypt / decrypt by using x.509 certificate Cryptography.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 9, 2017, 9:56 PM",
          "AuthorName": "JAGADEESH G G",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2200356&course=5",
          "role": [
            "Picture of JAGADEESH G G"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How To implement SOAP content encrypt / decrypt by using x.509 certificate Cryptography.",
          "Text": "Hi Jagadeesh Please find link. https://msdn.microsoft.com/en-us/library/ms996945.aspx",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 30, 2017, 5:51 PM",
          "AuthorName": "Deepak Gour",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2205201&course=5",
          "role": [
            "Picture of Deepak Gour"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 349294,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=349294",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Can anyone here help me  in integration peoplesoft with moodle",
          "Text": "I want to integrate peoplesoft with moodle over webservice to be able to transfer date from peoplesoft to moodle Please I need the solution for this problem Asap Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 17, 2017, 6:33 AM",
          "AuthorName": "Michel Maher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2216903&course=5",
          "role": [
            "Picture of Michel Maher"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can anyone here help me  in integration peoplesoft with moodle",
          "Text": "Hi Michel Please check this link. https://moodle.org/mod/forum/discuss.php?d=266390",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 30, 2017, 1:41 PM",
          "AuthorName": "Deepak Gour",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2205201&course=5",
          "role": [
            "Picture of Deepak Gour"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 347385,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=347385",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "use web services to upload a file and get it",
          "Text": "i want to use moodle services to upload a file and use it later .what should i do?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 11, 2017, 8:44 PM",
          "AuthorName": "Amin Farajzadeh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2141384&course=5",
          "role": [
            "Picture of Amin Farajzadeh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: use web services to upload a file and get it",
          "Text": "Hi Amin see this- https://docs.moodle.org/28/en/Working_with_files",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 29, 2017, 8:35 PM",
          "AuthorName": "Rahul Barpha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2205202&course=5",
          "role": [
            "Picture of Rahul Barpha"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 353945,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=353945",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Login using REST webservice",
          "Text": "Hi, I had created manual webservice called login_check. Which is used to check the given/passed username and password is correct/wrong. I passed the credentials from the core php file. If the credentials is valid, then the user have to logged in to the moodle site. Now the values are passed into the function login_check(in moodle server ) by REST url from core PHP file to moodle server. User authenticate is successful and I got return success message but session is not maintained in the moodle server. After user validate I opened login form in moodle server in the new tab of the browser, it is still not logged in and shows me login form. If my validate is correct it has to open the login page with two confirm button. I dont know what I did wrong. public static function login_check($userdata) { global $DB,$CFG; $params = self::validate_parameters(self::login_check_parameters(), array('userdata'=>$userdata)); $dbauth = get_auth_plugin('webservice'); $user_valid = $dbauth->user_login_webservice($userdata['username'], $userdata['password']); if($user_valid){ $userss = authenticate_user_login($userdata['username'], $userdata['password']); $user1 = get_complete_user_data('id', $userss->id); complete_user_login($user1); \\core\\session\\manager::apply_concurrent_login_limit($user1->id, session_id()); if (isset($SESSION->wantsurl) and (strpos($SESSION->wantsurl, $CFG-> wwwroot ) == 0)) { // the URL is set and within Moodle's environment $urltogo = $SESSION->wantsurl; unset($SESSION->wantsurl); } else {   // no wantsurl stored or external link. Go to homepage. $urltogo = $CFG->wwwroot . '/'; unset($SESSION->wantsurl); } if (isloggedin()) { return 'Login Success'; } return 'Login failed'; }else{ return 'Login failed'; } } For the above code I always get 'Login Success' message. For the user(send from core PHP) auth method is manual. In the user table, fields like \"lastlogin,lastaccess,currentlogin\" are updated everytime when I send request for core PHP. Please help me guys.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 14, 2017, 4:10 PM",
          "AuthorName": "Rajapandian S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1912356&course=5",
          "role": [
            "Picture of Rajapandian S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 352465,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352465",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "how to start work in webservices",
          "Text": "Hi, i want to know how web services in moodle works, also the work flow of web services how to initiate the work in webservices and what and all i needed to acquire it... some information in moodle documentation has been given.....still i didn't get an idea.. hereby i have a scenario, \"updating data for scorm completion\" How it can be done using web services...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 7:30 PM",
          "AuthorName": "deva m",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2073861&course=5",
          "role": [
            "Picture of deva m"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: how to start work in webservices",
          "Text": "Dear deva m , U just need almost two file to start your web service. 1) db/service.php 2) externallib.php service.php contain two array and externalib.php contains external functions. just go through this url https://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin#Quick_start for more information : https://github.com/moodlehq/sample-ws-clients Best Regards, Abhishek",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 31, 2017, 1:25 PM",
          "AuthorName": "Abhishek Pawar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2234723&course=5",
          "role": [
            "Picture of Abhishek Pawar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352925,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352925",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Accessing Moodle Blogs via web service",
          "Text": "Hello, I have enabled blog on my website. I want to access these blogs via webservice and show it on my mobile. When i searched the webservice api, https://demo.moodle.net/admin/webservice/documentation.php I couldn't find a function to access the blogs. Am I missing something, are they called something else? Please help me. Thanks, Sandeep",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 25, 2017, 12:50 AM",
          "AuthorName": "Sandeep Kohli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2241807&course=5",
          "role": [
            "Picture of Sandeep Kohli"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 350999,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350999",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Myddleware plugin",
          "Text": "Anyone have any experience with the Myddleware plugin? Not sure how to use the plugin as there's no documentation. I assume Myddleware makes integration easier to setup and maintain.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 19, 2017, 4:28 AM",
          "AuthorName": "Greg Rudl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1827973&course=5",
          "role": [
            "Picture of Greg Rudl"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Myddleware plugin",
          "Text": "Hi Greg, You can find our tutorials and documentation on this website : http://community.myddleware.com/ Here is a direct link to a tutorial, the example is a connection between Prestashop and SuiteCRM but you can follow the same type of step to learn how to use Myddleware with Moodle : http://community.myddleware.com/index.php/tutorial/ Here is the link for helping you to create the Moodle's connector : http://community.myddleware.com/index.php/connector-guide/#moodle The Moodle plugin has been created just to add custom webservice but you can use Myddleware without this plugin if you don't need to read user's completion and last access to a course. You can download Myddleware here : http://www.myddleware.com/solution/download Contact us if you have any other question. Best regards, Myddleware team",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 19, 2017, 7:56 PM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware plugin",
          "Text": "Great--just what I needed. What is the advantage/purpose of the Moodle Mylldeware plugin? On Wed, Apr 19, 2017 at 8:26 AM, Stéphane Faure (via Moodle.org) <",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 12:04 AM",
          "AuthorName": "Greg Rudl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1827973&course=5",
          "role": [
            "Picture of Greg Rudl"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware plugin",
          "Text": "Hi Greg, Myddleware allows you to transfer your data between applications like Moodle. Could you tell us what you need and we will be abble to help you ? Thanks. Stéphane",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 2:59 AM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware plugin",
          "Text": "So what do I use to do that--the MW Moodle plugin, MW.com or the",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 4:15 AM",
          "AuthorName": "Greg Rudl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1827973&course=5",
          "role": [
            "Picture of Greg Rudl"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware plugin",
          "Text": "Hi Greg, If you want just to create data in Moodle like create users, courses... (more details here : http://www.myddleware.com/solution/connected-applications?view=project&id=14:moodle ), you can only use Myddleware. No need to install the plugin. But if you want also to read the user's completion or their last access to a course because you want to send these informationin another application, in this case, you have to install the plugin in your Moodle to install these 2 custom webservice. I hope it is clear otherwise don't hesitate to come back to me. Stéphane",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 5:12 AM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware plugin",
          "Text": "Understand. I'm trying to set up an integration between Netsuite and Moodle--can MW support and how? Since it's not on the list, would I have to use FTP ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2017, 1:04 AM",
          "AuthorName": "Greg Rudl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1827973&course=5",
          "role": [
            "Picture of Greg Rudl"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Myddleware plugin",
          "Text": "Hi Greg, Unfortunately Netsuite isn't connected to Moodle for now. But it is really doable to connect it. You can develelop the connector yourself by following this tutorial : http://community.myddleware.com/index.php/developer-guide/#connector-creation If you develop it, please share it with us, we could validate it and add it to the standard code of Myddleware. It will help to grow Myddleware's community. Otherwise, we can develop it for you. If this last option is interesting you, please send us a private message to talk about it. Then you will be able to transfer data between Moodle and NetSuite. Contact us if you need more detail. Stéphane",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2017, 11:07 PM",
          "AuthorName": "Stéphane Faure",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2171019&course=5",
          "role": [
            "Picture of Stéphane Faure"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352128,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352128",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Location of webservice definition",
          "Text": "Hi there, Looking at both moodle doc and webservice implementations in some mod plugins, I notice that external functions are either in externallib.php in root dir of plugin ( moodle docs ) or in classes/external.php in mod plugins. What is the best option? Regards Jean-Roch",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 10, 2017, 5:31 PM",
          "AuthorName": "Jean-Roch Meurisse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1911669&course=5",
          "role": [
            "Picture of Jean-Roch Meurisse",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 351784,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351784",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Updating scorm module activity fields",
          "Text": "Greetings. First time post.  Thanks for allowing me to join the community. I'm new to Moodle and the Web Services API.  I'm trying to automate course creation for a team of content developers. My logic for doing this is: 1.) clone an existing template course using core_course_duplicate_course while setting fullname, shortname, and categoryid for the new course 2.) update course details (like summary) for the new course 3.) update scorm activity details (like name and url) for the new course I'm successful with the first two steps, but I can't find a webservices function to use that can update the values in the module list. Specifically, I want to update the values for \"name\" and \"url\" in this response from core_course_get_contents [ { \"id\": 4478, \"name\": \" 0\", \"visible\": 1, \"summary\": \"\", Any pointers ? Thanks ! Andrew Blum",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 4, 2017, 1:41 AM",
          "AuthorName": "Andrew Blum",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2234119&course=5",
          "role": [
            "Picture of Andrew Blum"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 347493,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=347493",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_course_get_courses by categoryid",
          "Text": "I want get a list of courses from one category, because i have a lot of courses (10000+). It's possible using function core_course_get_courses or another? Something like this: https://tracker.moodle.org/browse/MDL-29659 Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 14, 2017, 6:51 AM",
          "AuthorName": "Tony C. Batista",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2200983&course=5",
          "role": [
            "Picture of Tony C. Batista"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_course_get_courses by categoryid",
          "Text": "Hi Did you find a solution to this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 3, 2017, 2:59 PM",
          "AuthorName": "Rafael Rodriguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2209664&course=5",
          "role": [
            "Picture of Rafael Rodriguez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 351115,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351115",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "API not available to check user activity access",
          "Text": "In Moodle 3.2 there is no Web service API function available which can check whether the user has access to the course activity or not. I am looking for an API function which can return the user can have access to the activity or not By passing user id and cmid. For eg, if user has not completed with previous activity then he should not get access to the current activity based on the activity restriction criteria.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 11:32 PM",
          "AuthorName": "Aniket Sankpal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046591&course=5",
          "role": [
            "Picture of Aniket Sankpal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 350192,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350192",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web service API for fetching course price , start date, end date.",
          "Text": "We are developing an app-based extension of the Moodle LMS with some additional, custom requirements.This Moodle integration will comprises student registration, enrollment, and sync of all activities , sections , courses, and learning plans. In the application we designed, there are two sections:- one section focuses on user's enrolled courses and the other is a course catalog section that displays all courses except the enrolled ones. The issue we faced are: 1) In course catalog section, we were unable to get data for Course Price from the web service API's. 2) In user's enrolled courses section, we need data for start date and end date of a particular enrolled course from web service API. For fetching user's enrolled courses we've used  core_enrol_get_users_courses API . The response data of this API doesn't give data for the Start and End date. For fetching all courses information in course catalog section, we've used core_course_get_courses_by_field API. The Response doesn't give data for course price.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 1, 2017, 7:43 PM",
          "AuthorName": "Talat Mirza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2223408&course=5",
          "role": [
            "Picture of Talat Mirza"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service API for fetching course price , start date, end date.",
          "Text": "Use this API instead core _course_ get_courses, where you can fetch all course information. the logic is like core_course_get_courses.  (API function name defines its path) 1. Core : moodle or your root folder 2. Course : course folder 3. get_courses : search for function get_courses() within the \"course/externallib.php\" 4. if desired fields are not fetched, the alter query (include course price , start date, end date ) 5. pass the parameters in get_courses_returns()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2017, 2:17 PM",
          "AuthorName": "syed shaffeque",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2227012&course=5",
          "role": [
            "Picture of syed shaffeque"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 350206,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350206",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Strange behavior mod_scorm_insert_scorm_tracks",
          "Text": "He. I'm using mod_scorm_insert_scorm_tracks to write data to the database as a web service. Adding 27 items in the tracks array works fine, adding the 28th returns a 404. No idea why... Investigating the source code of the function in git doesn't give a clue to why this fails. I've added the requests (taken from Fiddler) and attached them here. Any help is greatly appreciated as this drives my crazy.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 2, 2017, 4:02 AM",
          "AuthorName": "Mark Achten",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2221040&course=5",
          "role": [
            "Picture of Mark Achten"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Strange behavior mod_scorm_insert_scorm_tracks",
          "Text": "Mmm, I think I might be running into url max length limitations....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 2, 2017, 3:59 PM",
          "AuthorName": "Mark Achten",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2221040&course=5",
          "role": [
            "Picture of Mark Achten"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Strange behavior mod_scorm_insert_scorm_tracks",
          "Text": "Got it. Don't know why but all of a sudden I got the POST working.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 3, 2017, 3:31 PM",
          "AuthorName": "Mark Achten",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2221040&course=5",
          "role": [
            "Picture of Mark Achten"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 349453,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=349453",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "API Design for Moodle and Opensis",
          "Text": "I am researcher in computer science domain . How can I design common API for moodle and opensis?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 20, 2017, 7:00 PM",
          "AuthorName": "tamrat tadesse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2167889&course=5",
          "role": [
            "Picture of tamrat tadesse"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: API Design for Moodle and Opensis",
          "Text": "Doesn't this already exist in the form of ims lis2? Moodle would need an enrollment and authentication plugin to support this standard. Another option is one roster.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 20, 2017, 8:53 PM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 348336,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348336",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Service with rebound",
          "Text": "Hi, I'm really new to Web Services, and I have a little question for you champions ! So, I have an URL to get informations in JSON , this URL is something like : http://10.200.200.10/webservice/date/28-02-2017/ When I make a cURL in PHP on this URL, I get the JSON formatted message, so that works. But for now, I have another constraint : I should have a script between the first PHP script and the final URL. So, I'll have to call something like http://20.500.500.20/get-ws/ , which has to get http://10.200.200.10/webservice/date/28-02-2017/ . How could I get, on my first PHP script, the result of the final API if there is another script between ?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://www.coderanch.com/images/smilies/3b63d1616c5dfcf29f8a7a031aaa7cad.gif"
          ],
          "Time": "Tuesday, February 28, 2017, 6:43 PM",
          "AuthorName": "Gaultier Tevz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2209135&course=5",
          "role": [
            "Picture of Gaultier Tevz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 348108,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348108",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "API function not available",
          "Text": "Hi, Is there any web API available to fetch all the quiz data. I know some quiz API functions are already available but none of them give the actual quiz data. I want all  question and answers included in the quiz. Can anyone suggest how I can get this data through API? Also is there any API available to authenticate user login details? Like when we pass username and password to it, It will say true or false?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2017, 9:24 PM",
          "AuthorName": "Aniket Sankpal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046591&course=5",
          "role": [
            "Picture of Aniket Sankpal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 347697,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=347697",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Getting redirected to login page when using REST Web Service",
          "Text": "Hi! The Context : I have a Moodle 3.x installation and right now I'm trying to integrate an external system to it. This system needs to fetch users and courses so I want to provide a web service (preferably rest) in order to allow his developers to fetch that info. The Problem: I followed this steps: https://docs.moodle.org/dev/Creating_a_web_service_client in order to enable the web service, so I created a user, with Manual Authentication, then a role, assigned that role to the created user, after that I created the external service, assigned the necessary capabilities, etc, etc and finally tested the web service using the tool provided in the Overview page of Web Services plugin:  http://[hostname]/admin/webservice/testclient.php. It works! But here is the problem: When I try to use it from my external system (Using the curl.php script found here: https://github.com/moodlehq/sample-ws-clients ), or even using a REST client (Insomnia) I get redirected to the login page instead of receiving the REST operation result. The URL that I'm using to call the REST service is: http://[hostname]/webservice/rest/ server .php?wstoken=[token]&wsfunction=[function]&moodlewsrestformat=json What I'm doing wrong? Could you help me please? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 17, 2017, 2:24 AM",
          "AuthorName": "Agustín Rodríguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2203890&course=5",
          "role": [
            "Picture of Agustín Rodríguez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Getting redirected to login page when using REST Web Service",
          "Text": "Just in case that someone has the same problem: I was trying to use the IP address of the server as a hostname and it seems that (at least my Moodle installation) Moodle was redirecting me to the hostname like address. Changing the IP Address for the hostname in the [hostname] part of the url solved my problem. Regards!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 18, 2017, 10:41 PM",
          "AuthorName": "Agustín Rodríguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2203890&course=5",
          "role": [
            "Picture of Agustín Rodríguez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 347397,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=347397",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_user_create_users",
          "Text": "Greetings, I have a web service that creates new users - with the core_user_create_users function.  It creates the users, it returns the info as per the docs, with user number etc. However, I cannot log in as the new user created by the webservice.  This is returned in the address bar: /?errorcode=3 If I then use the \"lost password\" page - moodle emails the email with the reset password page.  After re-inserting the password - it works. I have checked the password variables to the very last - to this point: $user1 = new stdClass(); $user1->username     = $userName; $user1->password     = $slpWord; $user1->firstname = $firstName; $user1->lastname     = $familyName; $user1->email         = $email; $user1->auth         = 'manual'; $user1->city         = $city; $user1->country     = $country; All is good, but it (the password) does not work for the newly created user. Any suggestions very welcome,  tim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 12, 2017, 4:54 AM",
          "AuthorName": "tim shannon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2169090&course=5",
          "role": [
            "Picture of tim shannon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 347303,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=347303",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_course_search_courses Invalid parameter value detected",
          "Text": "Hi, I am trying to consume the service core_course_search_courses, which was working well for version 3.0 but not working as per my expecting for version 3.2. $function_name = 'core_course_search_courses'; $course['criterianame'] = 'search'; $course['criteriavalue'] = 'AEE4_P2_2015'; $token = 'xxxxxxxxxxxxxxxxxxxx'; $domainname = 'http://xxxxxxxxxxxxx'; $serverurl = $domainname . '/webservice/soap/ server .php'. '?wsdl=1&wstoken=' . $token; $ xml = simplexml_load_file($serverurl); $faulcode = $xml->xpath('/SOAP-ENV:Envelope/SOAP-ENV:Body/SOAP-ENV:Fault/faultcode'); if (!empty($faulcode[0])) { $faultcode = (array) $faulcode[0]; When the above code is executed, it gives the following output SoapFault Object ( [message:protected] => Invalid parameter value detected | ERRORCODE: invalidparameter [string:Exception:private] => [code:protected] => 0 [file:protected] => /var/www/html/moodle/myservices/test/SoapCall_1.php [line:protected] => 35 [trace:Exception:private] => Array ( [0] => Array ( [file] => /var/www/html/moodle/myservices/test/SoapCall_1.php [line] => 35 [function] => __soapCall [class] => SoapClient [type] => -> [args] => Array ( [0] => core_course_search_courses [1] => Array ( [criterianame] => search [criteriavalue] => AEE4_P2_2015 ) ) ) [1] => Array ( [file] => /var/www/html/moodle/myservices/test/lib/CreateCourse.php [line] => 19 [function] => SoapCall1 [args] => Array ( [0] => core_course_search_courses [1] => Array ( [criterianame] => search [criteriavalue] => AEE4_P2_2015_Samabula ) ) ) [2] => Array ( [file] => /var/www/html/moodle/myservices/test/Server.php [line] => 28 [function] => checkCourse [args] => Array ( [0] => AEE4_P2_2015 ) ) ) [previous:Exception:private] => [faultstring] => Invalid parameter value detected | ERRORCODE: invalidparameter [faultcode] => Receiver [faultactor] => invalidparameter [detail] => requiredcapabilities => Invalid parameter value detected: Only arrays accepted. The bad value is: '' ) Can you assist me in identifying what am I doing wrong here Thanks Sanjay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 10, 2017, 8:13 AM",
          "AuthorName": "Sanjay Singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1875476&course=5",
          "role": [
            "Picture of Sanjay Singh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 347237,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=347237",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "error in using REST service to upload file in moodle",
          "Text": "I want to use moodle's REST api to apload a file to moodle. this is my code in java script: \n```text\n            var domainname = '\nhttp://192.168.1.75/moodle'\n;\n            var token = '7e086857a2c98be468d804c5be8a1fae';\n            var functionname = 'core_files_upload';\n            var serverurl = domainname + '/webservice/rest/\nserver\n.php';\n            var userstocreate = [{\n                component: 'mod_lesson',\n                contextid: 1,\n                filearea: 'private',\n                itemid: 1,\n                filepath: \"/test\",\n                filename: \"nametothefile\",\n                filecontent: \"string hellooooo\",\n                contextlevel: \"module\",\n                instanceid: 1576,\n\n            }];\n            var data = {\n                wstoken: token,\n                wsfunction: functionname,\n                moodlewsrestformat: 'json',\n                users: userstocreate\n            };\n            var response = $.\najax\n({\n                type: 'POST',\n                data: data,\n                url: serverurl\n            });\n            window.console.info(response);\n```\n But when i run it , It gives me this error : \n```text\nexception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Invalid parameter value detected\",\"debuginfo\":\"Missing required key in single structure: component\n```\n what should i do??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 9, 2017, 4:35 PM",
          "AuthorName": "Amin Farajzadeh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2141384&course=5",
          "role": [
            "Picture of Amin Farajzadeh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 276175,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=276175",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Debugging web services - How ?",
          "Text": "Hi All I'm working on querying course data from a 3rd party web portal and am having trouble getting the course contents for some courses. I've enabled the REST endpoint, added the necessary functions to it, got a user token and its working with a simple course I've created through the Moodle UI. However another course which has been imported through the backup/restore process is returning a \"cannotgetcoursecontents\" exception with no other detail. Now I'm not too familiar with Moodle, or PHP, but I've tried a couple of things that looked promising, but cant seem to get any more info. I've tried enabling php logging in the config.php file using : ini_set ('log_errors', 'on'); ini_set(\"error_log\", \"/tmp/php-error.log\"); ini_set ('error_reporting', E_ALL); This is logging errors encountered when browsing Moodle, but nothing is recorded when calling the web service... In the I've tried changing the define('NO_DEBUG_DISPLAY', true); line to define('NO_DEBUG_DISPLAY', false); in the / webservice/rest. server .php file in the hopes that this caused the web services to write to the above log file. Nope. I've also enabled/disabled debugging in the Moodle site settings, nothing. Am I missing something here? Is it possible to debug the web service call and narrow down what's going wrong, rather than a generic \"it broke\" error ?? Any help is much appreciated. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 4, 2014, 4:49 AM",
          "AuthorName": "julian robinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1890119&course=5",
          "role": [
            "Picture of julian robinson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Debugging web services - How ?",
          "Text": "This is what I did for debugging web services: (using moodle 3.1) I turned on debugging here: Dashboard / ▶︎ Site administration / ▶︎ Development / ▶︎ Debugging http://(your moodle url)/moodle/admin/settings.php?section=debugging and here are example json curl responses to mod_quiz_process_attempt {\"exception\":\"invalid_parameter_exception\", \"errorcode\":\"invalidparameter\", \"message\":\"Invalid parameter value detected\", \"debuginfo\":\"Unexpected keys (page) detected in parameter array.\"}",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 28, 2016, 7:44 AM",
          "AuthorName": "Jerry Kalkhof",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2092485&course=5",
          "role": [
            "Picture of Jerry Kalkhof"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Debugging web services - How ?",
          "Text": "I have a little trick to do a var_dump: Function example xxx - In xxx_parameters we do not have to do anything - In xxx will put a var_dump($something);die; - In xxx_returns will put \n```text\nreturn new external_value(PARAM_RAW, 'Description');\n```\n In our ws client we must have our headers on TEXT/PLAIN \n```text\nheader('Content-Type: text/plain');\n```\n And we'll see the log. Hope that helps, regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 18, 2017, 5:14 PM",
          "AuthorName": "Cristian Blanquer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1970522&course=5",
          "role": [
            "Picture of Cristian Blanquer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Debugging web services - How ?",
          "Text": "I would like to add one point here that I got going through the Moodle Tracker regarding calling web service function through xml -rpc client. If we are using moodle version < 3.1 , then we should use \n```text\nheader('Content-Type: text/plain');\n```\n For moodle version 3.1 onward, \n```text\n$curl->setHeader('Content-type: text/xml');\n```\n Moodle tracker link - https://tracker.moodle.org/browse/MDL-54808",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 25, 2017, 8:28 PM",
          "AuthorName": "Suraj Kumar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=579149&course=5",
          "role": [
            "Picture of Suraj Kumar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 345960,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=345960",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Enable Web services for mobile devices",
          "Text": "I am trying to enable this in my moodle. But when I save changes, the check mark disappears. Why? How can I fix this? I am trying to set up simple push notifications to our clients from moodle, and think this is the right step?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 17, 2017, 11:04 PM",
          "AuthorName": "Amanda Hayes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1622895&course=5",
          "role": [
            "Picture of Amanda Hayes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 345295,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=345295",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Error - Web Services - No access rights in module context",
          "Text": "Hi I am running the following code in PHP (Curl), However on execution of the code below: <?php $curlint = curl_init(); curl_setopt($curlint,CURLOPT_URL,'http://localhost/Project/moodle/webservice/rest/ server .php?wstoken=cc1a302430c43a8b2df5bfee7d4ebc56&wsfunction=mod_assign_get_grades&assignmentids[0]=1&moodlewsrestformat=json'); $run = curl_exec($curlint); curl_close($curlint); if (empty($run)){ print \"Nothing returned from url.<p>\"; } else{ print $run; } ?> I get the following error: {\"assignments\":[],\"warnings\":[{\"item\":\"assignment\",\"itemid\":1,\"warningcode\":\"1\",\"message\":\"No access rights in module context \"}]}1 I have had a look at the assignment id in the mod_assign table in the database and it shows as 1, I have no idea where I am going wrong?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2017, 4:06 AM",
          "AuthorName": "Usaamah Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2184417&course=5",
          "role": [
            "Picture of Usaamah Patel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 343383,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=343383",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Integrating moodle with a mobile application",
          "Text": "We have a new business idea for college students and this requires integration of Moodle features into our mobile application. we are using phone gap technology to build our application ( Ajax , JQuery, Note JS, HTML5 and my SQL ), hence kindly guide me on how can we start this process of integration and which APIs would be needed as we wish to integrate Calendar and library catalogue to start with. Are these API readily available or do i need to purchase them. Your advise will be greatly appreciated. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 22, 2016, 11:40 PM",
          "AuthorName": "shrenik paras parmar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2172570&course=5",
          "role": [
            "Picture of shrenik paras parmar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Integrating moodle with a mobile application",
          "Text": "It's tricky to give a reasonably accurate/useful answer without having more details on your intended integration, but going by what's suggested by \"integration of Moodle features into our mobile application\", I would recommend you start by looking at Moodle's capability as an LTI provider - https://docs.moodle.org/31/en/Publish_as_LTI_tool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 23, 2016, 2:37 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Integrating moodle with a mobile application",
          "Text": "Yes, most of the apis are ready through moodle webservices plugins, it provides you with the capability to create external webservices along with a built-in mobile service which you can use with their mobile app (open source also) the mobile app also has two version the first one built on top of phonegap and the second using ionic (and you can build it with phonegap). You can customize it as you wish and it contains all the necessary functionalities for having a course. You can also in the new version of it, to register as a new user. And believe me, you don't want to reinvent the wheel, it's complicated and time consuming to think everything through, but if you want to spend time on it I recommend reading their code which is very beautiful and professional ( I learned a lot from this app as a developer).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 4, 2017, 7:46 PM",
          "AuthorName": "Mohammed Essaid MEZERREG",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2042796&course=5",
          "role": [
            "Picture of Mohammed Essaid MEZERREG"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 345010,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=345010",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web service not worked in moodle 3.2",
          "Text": "Hi, I upgraded my moodle from 2.9.3 to 3.2. My web service is installed in local directory. This web service is worked perfectly fine on moodle 2.9.3 and even it is working on my another moodle version 2.9.5. But when I updated moodle to 3.2 it is not working. And I have a feeling that my web service is not getting called. I checked moodle doc it is showing web service for 2.X version not for 3.X How to make this work ? Any suggestion?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 30, 2016, 5:07 PM",
          "AuthorName": "Aniket Sankpal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046591&course=5",
          "role": [
            "Picture of Aniket Sankpal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service not worked in moodle 3.2",
          "Text": "Perhaps you should check if they still enabled along with the related configurations like the authenticated users, tokens, protocols, .. etc. And if everything is good, I think you should check the functions you are using, are they still there, because some functions are deleted from the webservices like core_user_get_users_by_id (this I know about) and they added additional services too, so maybe your client is outdated by the new upgrade. You check the list of functions in this page http://yourmoodleurl/admin/webservice/documentation.php or you can go to site administration > plugins > webservices > API Documentation",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 4, 2017, 6:40 PM",
          "AuthorName": "Mohammed Essaid MEZERREG",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2042796&course=5",
          "role": [
            "Picture of Mohammed Essaid MEZERREG"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 313896,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313896",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web service for obtaining a Feedback activity",
          "Text": "Hi, I am planning to develop a mobile app to facilitate the answer of questionnaires and feedback activities designed through Moodle and I have not seen any web service to obtain all the questions and all the metadata associated to a feedback activity. Someone knows if this service exists? Thank you very much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 20, 2015, 11:56 PM",
          "AuthorName": "Titsu Marpi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1956616&course=5",
          "role": [
            "Picture of Titsu Marpi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service for obtaining a Feedback activity",
          "Text": "I'm looking for the same and can not find it. I guess, I'll have to make something in house for the web service portion.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 28, 2016, 5:04 AM",
          "AuthorName": "lee kirkland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1978393&course=5",
          "role": [
            "Picture of lee kirkland"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 344834,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=344834",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Browse private files",
          "Text": "Hello, I'm trying to implement a client which allows browsing the private files of a user to display them on a connected beamer. I therefore obtained a token successfully (as service moodle_mobile_app, as I did not yet register an own service) and saved it. I then did a request like this: ﻿ curl 'https://thehost/webservice/rest/ server .php?wstoken=mytoken&moodlewsrestformat=json&wsfunction=core_files_get_files&component=user&filearea=private&itemid=0&filepath=%2F&filename=test.txt&contextid=0' I obtained values for all the parameters using various searches, but I did not yet understand the meaning of component, itemid and contextid. What would be appropiate values for them? I also tried the following request to browse the files in generale, i.e. list them: curl\n'https://thehost/webservice/rest/server.php?wstoken=mytoken&moodlewsrestformat=json&wsfunction=core_files_get_files&component=user&filearea=private&itemid=0&filepath=%2F&filename=&contextid=0' But this delivered, like the first command: ﻿ ﻿ {\"parents\":[],\"files\":[]} So what am I doing wrong? Best regards, Turakar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 24, 2016, 12:42 AM",
          "AuthorName": "Turakar Turakar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2181875&course=5",
          "role": [
            "Picture of Turakar Turakar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 344580,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=344580",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "when i want Add functions,dropdown hide automatically",
          "Text": "hi. i have this problem after upgraded to Moodle 3.2. Please look at this short film: http://www.screencast.com/t/dODB4Kfdwfns When i want to add functions to the web service, the dropdown list for select Name of webservice is hide.indeed one second the list is showing and Immediately hidden and result look like the attached image:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1389421/2016-12-18_10-19-27.jpg?forcedownload=1"
          ],
          "Time": "Sunday, December 18, 2016, 2:49 PM",
          "AuthorName": "sadaf sadafian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2153600&course=5",
          "role": [
            "Picture of sadaf sadafian",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: when i want Add functions,dropdown hide automatically",
          "Text": "friendly bump",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, December 20, 2016, 11:07 PM",
          "AuthorName": "sadaf sadafian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2153600&course=5",
          "role": [
            "Picture of sadaf sadafian",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 344201,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=344201",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Webservice API core_message_get_messages limitfrom",
          "Text": "Hi, I want to read all messages using the Webservices API. In order to load only new Items I want to use the parameter \"limitfrom\" as described in the API documentation. In the first run I stored the latest messageid, but this did not work. So I expected the parameter to count the messages and store the amount. In order to catch all messages (from-me-read, from-me-unread, to-me-read, to-me-unread), I need to call the webservice 4 times (is this correct???) \n```text\n#1 Get all messages that have been sent to me and are read\n[wstoken] => 22fa2[.....]2c36b\n\n\n[moodlewsrestformat] => json\n\n\n[wsfunction] => core_message_get_messages\n\n\n[type] => conversations\n\n\n[newestfirst] => 0\n\n\n[useridto] => 18\n\n\n[useridfrom] => 0\n\n\n[read] => 1\n\n\n[limitfrom] => 30\n\n#2 Get all messages that have been sent to me and are unread\n[wstoken] => 22fa2[.....]2c36b\n\n\n[moodlewsrestformat] => json\n\n\n[wsfunction] => core_message_get_messages\n\n\n[type] => conversations\n\n\n[newestfirst] => 0\n```\n The limitfrom Parameter always shows the amount of messages that have been loaded during the first run. Case #1 works as expected. It loads 30 messages in the first run, stores that amount. In the second run no more messages are loaded and the counter stays the same. Case #2 and #4 do not show any messages (there are none), this is too expected behaviour. Case #3 loads 36 messages in the first run, stores that amount. In the second run it loads again 36 messages, the counter doubles. I have no idea whats going wrong here, is this a bug in the Moodle Code? EDIT: The Moodle Version i used was 3.0.7 Regards Robert",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 10, 2016, 5:25 PM",
          "AuthorName": "Robert Schrenk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1812998&course=5",
          "role": [
            "Picture of Robert Schrenk",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 343883,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=343883",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "update grades via webservices",
          "Text": "Hi, i am  working on some python scripts to make a moodle course manageable in excel sheets vie REST webservices. I implemented scripts: - add groups to a course - delete those groups - get groups of a course including all members of each group - get all grades of these members Currently i am searching a way to send grades back to moodle. Is that even possible for manual grade items?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 5, 2016, 1:46 AM",
          "AuthorName": "Joscha Zander",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2119695&course=5",
          "role": [
            "Picture of Joscha Zander"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: update grades via webservices",
          "Text": "Hello, Sorry I don't know anything about updating grades via web services, however I thought I'd just make sure you've seen the documentation on various ways of importing grades into Moodle: Grade import .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 5, 2016, 5:03 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: update grades via webservices",
          "Text": "Yes i have seen these and i am missing an excel-file template there (f.e.). I think most of the documentation lacks basic information on important work flows and features. But thanks for your answer anyway.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 5, 2016, 9:57 PM",
          "AuthorName": "Joscha Zander",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2119695&course=5",
          "role": [
            "Picture of Joscha Zander"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 343868,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=343868",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Incorrect access detected [error]",
          "Text": "After resetting IP, the following message appears sometimes but not always: Incorrect access detected, this server may be accessed only through \" http://192.168.2.2 \" address, sorry. Please notify server administrator. I am trying to access moodle/config.php but it isn't there. Is there any other file in which settings can be done?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 4, 2016, 3:03 AM",
          "AuthorName": "sabeen javaid",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2176244&course=5",
          "role": [
            "Picture of sabeen javaid"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 343817,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=343817",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Create assignment in course webservice",
          "Text": "Hi everyone, is there a webservice for creating an assignment in a moodle course? I checked the documentation, and i couldn't find any.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 2, 2016, 3:52 PM",
          "AuthorName": "Christos Rodosthenous",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=841227&course=5",
          "role": [
            "Picture of Christos Rodosthenous"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 343513,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=343513",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How do I pass an array to a web service as parameter?",
          "Text": "Hello, I want to test my web service that expects an array as one of the parameters. How do I test it? I have SoapUI and always use it, but it is first time now I need to pass an array, how to do it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 25, 2016, 12:34 AM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How do I pass an array to a web service as parameter?",
          "Text": "Hi, How do you tell your web service to expects an array as a parameter? would be helpful",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 29, 2016, 3:35 AM",
          "AuthorName": "Daniel Tome Fernandez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2019496&course=5",
          "role": [
            "Picture of Daniel Tome Fernandez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How do I pass an array to a web service as parameter?",
          "Text": "Hello, Here https://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin#Write_the_external_function_descriptions check 2.5",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 29, 2016, 5:15 AM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 341946,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=341946",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "Folks any assistance would be greatly appreciated. I have web services working, using XML -RPC and PHP, can happily create users, can UNenrol them from a course, can get list of users enrolled in a course with it etc...,  but can't get enrol_manual_enrol_users to work. I've read a whole bunch of posts and tried various things: I'm getting \n```text\n [faultCode] => 29039061\n    [faultString] => Invalid parameter value detected | DEBUG INFO: enrolments => Invalid parameter value detected: Missing required key in single structure: roleid | ERRORCODE: invalidparameter\n```\n The code snippet is at the bottom. I've verified webservices user has the rights/functions, I've checked course has manual enrolment etc.. , I've logged in to Moodle via web as my webservices users and can enrol etc..., . I've gone into my DB to verfiy Role ID is correct for role (see image of table). I've even started doing random things like instead of passing an integer I pass the word \"cat\" as the Role ID, for an UNenrol doing this obviously triggers a warning saying \"cat\" is not a valid integer as you'd expect i.e. \n```text\n [faultString] => Invalid parameter value detected | DEBUG INFO: enrolments => Invalid parameter value detected: roleid => Invalid parameter value detected: Invalid external api parameter: the value is \"cat\", the \nserver\n was expecting \"int\" type | ERRORCODE: invalidparameter\n```\n however the enrol attempt just gives the original error message i.e. does discriminate that the word \"cat\" instead of an integer has been passed! Tried various other things e.g. doing a core_enrol_get_enrolled_users of currently enrolled users in the course to verify not missing something in terms of defining the role but that just spits out what you'd expect i.e. below where the roleid = 5 just as im trying to put in. Any help would be greatly appreciated Thanks everyone, Alex Output from when I do the core_enrol_get_enrolled_users of student already in that course \n```text\n [roles] => Array\n                (\n                    [0] => Array\n                        (\n                            [roleid] => 5\n                            [name] => \n                            [shortname] => student\n                            [sortorder] => 0\n                        )\n\n                )\n```\n My DB showing 5 valid Role to pass Code snippet : for ($x = $startaddress; $x <=($startaddress+$numberusers); $x++) { $enrolobj->userid = $x; $enrolobj->courseid = 5; $enrolobj->roleid = 5; print_r ($enrolobj); $params[] = $enrolobj; } echo \"Now making enrol Course1 XML RPC call\\n\";; $functionname = 'enrol_manual_enrol_users'; header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/xmlrpc/server.php'. '?wstoken=' . $token; require_once('curl.php'); $curl = new curl; $post = xmlrpc_encode_request($functionname, array($params)); //echo $post; $resp = xmlrpc_decode($curl->post($serverurl, $post)); print_r($resp);",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1378262/2016-10-24_1011.png"
          ],
          "Time": "Tuesday, October 25, 2016, 12:44 AM",
          "AuthorName": "A W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2148378&course=5",
          "role": [
            "Picture of A W"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "Hi, I'd recommend you to use the REST client instead the XMLRPC one, I remember that passing parameters to the XMLRPC is not very intuitive. https://github.com/moodlehq/sample-ws-clients I'd recommend you this code change: $enrolobj = new stdClass(); // Do it before assigning values. Hope it helps, Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 25, 2016, 2:19 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "Hi Juan, Many thanks for getting back to me much appreciated. I tried adding the : \n```text\n$enrolobj = new stdClass();\n```\n both inside and outside the for loop and it made no difference, indeed leaving the: \n```text\n$enrolobj->roleid = \"cat\";\n```\n also didn't seem to be noticed which doesn't seem a good sign, almost as if its not even parsing whats passed to the variable?. As the Unenrol also works fine i.e. can happily unenrol using \n```text\n$enrolobj->userid = 1000;                \n\n\n$enrolobj->courseid = 3;                \n\n\n$enrolobj->roleid = 5;\n```\n this does seem to be a peculiarity of the enrol function. The amount of traffic on Googling this issue seems large, is it a known issue which is likely to be fixed? I can try it in REST instead however I note from Googling that many people seem to having an identical problem regardless of which protocol they use? It seems a bit worrying that this doesn't appear to work with no usable error?!? Thanks, Alex",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 25, 2016, 11:26 PM",
          "AuthorName": "A W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2148378&course=5",
          "role": [
            "Picture of A W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "Still not working does anyone have anymore suggestions? I even tried it with REST as well, initially did test of create user which worked, then tried enrol using: \n```text\n<?php\n\n\nini_set('display_startup_errors', 1);\n\n\nini_set('display_errors', 1);\n\n\nerror_reporting(-1);\n\n\n$token = '9f85338ddaa47ad3151dd444983e15df';\n\n\n$domainname = 'http://localhost/moodle';\n\n\n$functionname = 'enrol_manual_enrol_users';\n\n\n$restformat = 'xml'; \n\n\n\t\t$enrolobj = new stdClass();           \n\n\n                $enrolobj->userid = 101;                \n\n\n                $enrolobj->courseid = 3;                \n\n\n                $enrolobj->roleid = 5; \n\n\n\tprint_r ($enrolobj);\n\n\n\t$params[] = $enrolobj;\n\n\necho \"Now making enrol REST call\\n\";\n\n\nheader('Content-Type: text/plain');\n\n\n$serverurl = $domainname . '/webservice/rest/server.php'. '?wstoken=' . $token . '&wsfunction='.$functionname;\n\n\nrequire_once('./curl.php');\n\n\n$curl = new curl;\n\n\n//if rest format == 'xml', then we do not add the param for backward compatibility with Moodle < 2.2\n\n\n$restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:'';\n\n\n$resp = $curl->post($serverurl . $restformat, $params);\n\n\nprint_r($resp);\n\n\n?>\n```\n which gave me: \n```text\nstdClass Object\n(\n    [userid] => 101\n    [courseid] => 3\n    [roleid] => 5\n)\nNow making enrol REST call\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<EXCEPTION class=\"invalid_parameter_exception\">\n<ERRORCODE>invalidparameter</ERRORCODE>\n<MESSAGE>Invalid parameter value detected</MESSAGE>\n<DEBUGINFO>Missing required key in single structure: enrolments</DEBUGINFO>\n</EXCEPTION>\n```\n verified the parameters in API documentation for this call: \n```text\nGeneral structure\n\n\n\nlist of ( \n\n\nobject {\n\n\nroleid\n int   \n//Role to assign to the user\n\n\nuserid\n int   \n//The user that is going to be enrolled\n\n\ncourseid\n int   \n//The course to enrol the user role in\n\n\ntimestart\n int  \nOptional\n \n//Timestamp when the enrolment start\n\n\ntimeend\n int  \nOptional\n \n//Timestamp when the enrolment end\n\n\nsuspend\n int  \nOptional\n \n//set to 1 to suspend the enrolment\n\n\n} \n\n\n)\n```\n And as before changing line it to 'cat' to see if its even parsing it for a valid roleID made no difference i.e. gives the same error if I use: \n```text\n [roleid] => cat\n```\n Any help much appreciated, Thanks, Alex",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Tuesday, October 25, 2016, 11:59 PM",
          "AuthorName": "A W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2148378&course=5",
          "role": [
            "Picture of A W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "A colleague managed to solve this, transpires the issue is the array must be labelled 'enrolments' so: \n```text\n$enrols[] = $enrolobj;\n\n\n$params  = array('enrolments' => $enrols);\n```\n works. Quite how one could have reasonably deduced this from: \n```text\nMissing required key in single structure: roleid\n```\n i'm not sure but anyway all working now",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, October 26, 2016, 12:36 AM",
          "AuthorName": "A W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2148378&course=5",
          "role": [
            "Picture of A W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "Hi A W, maybe it's not that the array element must be named... but that you need to pass an array of arrays ? I mean, the 1st param is a \"list of enrolment objects\", aka an array. And the params themselves must be an array (aka, another array level). Total, 2 nested arrays. In you latest post you are using such a correct double array. In your initial attempt you were using only 1 array level, hence it was unable to find \"roleid\" at the expected level. So `$params = array('enrolments' => array($enrolobj1, $enrolobj2, ...))` is for REST `$curl->post(..., $params)` . And `$params = array(array($enrolobj1, $enrolobj2, ...))` is for XMLRPC `$curl->post(..., xmlrpc_encode_request(..., $params)` . So, double nested arrays (for that function that accepts an array of enrolments), keyed for REST and not keyed for XMLRPC (the xmlrpc server keys them back, by position, it's a limitation of XMLRPC, afaik). Just guessing... ciao",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, October 26, 2016, 6:08 AM",
          "AuthorName": "Eloy Lafuente (stronk7)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3176&course=5",
          "role": [
            "Picture of Eloy Lafuente (stronk7)",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "Hi Eloy, Thanks for the post. To test your theory I tried using the working code but just changed the label 'enrolements' to 'NOTenrolments' i.e. \n```text\n$enrols[] = $enrolobj;\n\n\n$params  = array('NOTenrolments' => $enrols);\n```\n and that alone stopped it working (same error as before) so clearly the label has to exact. I think the take away IMHO is that maybe the error message could be improved, as in if you see: \n```text\n[faultString] => Invalid parameter value detected | DEBUG INFO: enrolments => Invalid parameter value detected: Missing required key in single structure: roleid | ERRORCODE: invalidparameter\n```\n I'm not sure its obvious that the issue is actually that you need a top level array label rather than an issue with the roleid. Anyway thanks for the input folks, hopefully this post will help some people in the future Cheers, Alex",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, October 26, 2016, 4:09 PM",
          "AuthorName": "A W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2148378&course=5",
          "role": [
            "Picture of A W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "Hi Alex, I have some similar\nproblem, and similar lost days...I see one prerequisite in the\ndocumentation, “user must be logged in” For your\napplication, is the user logged in? (assuming the user being referred\nto is the user that you want to enrol, not the registered webservice\nuser) And if so, how was this achieved? I cannot see any webservice\nfor logging in users. I am stuck on this\nidea that I will need to wait for the student to give me a call, and\ntell me when they are logged in, which will make all my webservice\naccount creation redundant and is also doing my head in. Web searches are not\nhelping so far, but web search results seem to return gibberish these\ndays. thanks, tim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 13, 2016, 5:23 PM",
          "AuthorName": "tim shannon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2169090&course=5",
          "role": [
            "Picture of tim shannon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "Tim, In my test I was first creating test users, then enrolling them in courses, all on a test build so by definition none of them would have ever logged in. I'm not sure where the pre req  “user must be logged in” you mention appears? I'm wondering if you're operating in some kind of different environment where the user doesn't exist until they login, and obviously cant enrol a user who doesn't exist? Thanks, Alex",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 14, 2016, 5:03 PM",
          "AuthorName": "A W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2148378&course=5",
          "role": [
            "Picture of A W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "Alex, The pre req  “user\nmust be logged in” is stated in the API documentation. Site Administration,\nPlugins, Web services, API documentation – enrol_manual_\nenrol_users. At the end after the Response error message this is written; Restricted\nto logged-in users Yes Callable\nfrom AJAX No So thanks for your\nreply, it seems I can rule out this comment in the API, though if it\nis not what it says it is, I do wonder what it is exactly. It does\nhelp muddy the already murky water. I have been doing\nthe same – creating test users, and then attempting to enrol them.\nI have tried as both an array and as an object. I’ll fiddle around\na bit more and post the results. Thanks, tim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 15, 2016, 4:06 AM",
          "AuthorName": "tim shannon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2169090&course=5",
          "role": [
            "Picture of tim shannon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wasted over a day and still can't get enrol_manual_enrol_users to work!!!!",
          "Text": "Using this, XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX $wsfunctionname = 'enrol_manual_enrol_users'; $restformat = 'xml'; $enrolment = new stdClass(); $enrolment->userid     =  $user_id; $enrolment->courseid =     $course_id; $enrolment->roleid     =    $role_id; echo '<br>'; echo 'enrolment object'; print_r ($enrolment); // $enrolments[] = $enrolment; $params = array( 'enrolments' => $enrolments ); echo '<br>'; echo 'params array'; echo '<br>'; print_r($params); echo '<br>'; header('Content-Type: text/plain'); $serverurl = $domainname . \"/webservice/rest/server.php?wstoken=\" . $wstoken . \"&wsfunction=\" . $wsfunctionname; require_once('./curl.php'); $curl = new curl; $restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat, $params); echo '<br>'; echo 'resp array'; echo '<br>'; print_r($resp); XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX has returned me this: enrolment objectstdClass Object\n(\n[userid] => 71\n[courseid] => 111\n[roleid] => 5\n) params array Array\n(\n[enrolments] => Array\n(\n[0] => stdClass Object\n(\n[userid] => 71\n[courseid] => 111\n[roleid] => 5\n)\n\n)\n\n) resp array invalidparameter\nInvalid parameter value detected Context does not exist This is using an object - duplication Alex's code.  Using an array produces the same result. Nesting an array one deeper will produce the Missing required key in single structure: roleid error. I think it is a permission problem - but after now multiple days it is proving reasonably frustrating. Any help would be appreciated,  tim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 16, 2016, 1:52 AM",
          "AuthorName": "tim shannon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2169090&course=5",
          "role": [
            "Picture of tim shannon"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 342798,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=342798",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Connect moodle with a service",
          "Text": "Hello, First of all thanks if you are reading, my english isn't the best so I hope you can understand and help if you can. So i'm working with my university and doing a page that shows the sports data to the users. This sport data is taken from a service provided from the IT department. Inputs are: Username, password and token (the unique token of the service), and the output is a tokenAPP (unique token for the user). So.. Having this tokenAPP allows to retrieve all the info from the user. The problem is that I can't manage to obtain the password of the user (I know it can't be seen because its coded) so I can activate the service. Can you guys help me to think of a way of doing this please? I was thinking to eliminate the authentication of the service, where the user, pass and token are entered and use the login of moodle and add the token to have the tokenAPP. The thing is that the service is created from outside. Pleaseee help. Thanks! The services have this structure: FORMAT: 1A HOST: http://polls.apiblueprint.org/ \n```text\n# UII\n\n\nServicios relacionados a Deportes UII por parte de intranet.\n\n\n##UIILogin [/login{?token,email,password}]\n\n\n###Login[POST]\n\n\n+ Response 200 (application/json)\n\n\n        {\n\n\n        \"tokenApp\": \"klklklKLKLK\",\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2016, 10:47 PM",
          "AuthorName": "Sebastian Flores",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2159631&course=5",
          "role": [
            "Picture of Sebastian Flores"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 342674,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=342674",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Is it possible to trigger the update of course completion status for a single user?",
          "Text": "I am using web services to query the course completion status.  Calling core_completion_get_course_completion_status does work and returns a valid response, but it is not always up to date because the cron task must run before the status is accurate. Is there a way to update the status of a single user so I don't have to wait on the cron task to get the current status? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 8, 2016, 9:20 PM",
          "AuthorName": "Lee Howard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=585134&course=5",
          "role": [
            "Picture of Lee Howard"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 342462,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=342462",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "EXTERNAL WEB SERVICE",
          "Text": "Hi everybody! I've a question.... \n```text\nI want to make a web service, for example, from my local \nserver\n (Xampp), and this web service create a user, but with new fields that are not in the form of 'Create Account'. The form to which I refer is 'Signup'. In this form are default parameters (username, password, country), but I want to add another, such as identity card. This field've put in 'Signup-form', I inserted the code, because this area had to go in 'Personal Data' (the first category), and I can not add from Site Administration-> users-> add new user fields. The conclusion of all this is that I want to know how to add the web service on my local server, and that new fields show me when editing the user, and for example I validate this new field with a function. I've already looked at the documentation, and has not served me anything. Thank you\n```\n \n```text\n\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 3, 2016, 8:12 PM",
          "AuthorName": "Francisco Gonzalez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2159771&course=5",
          "role": [
            "Picture of Francisco Gonzalez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 342182,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=342182",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "login whit ajax",
          "Text": "how i login using ajax request?? i try this: \n```text\n$.ajax({\nurl: 'mymoodle.com/login/index.php',\ntype: \"GET\",\ndataType: \"json\",\nsuccess: function (data) {\n    console.log(data);\n}\n});\n```\n but i dont get response",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Friday, October 28, 2016, 8:29 PM",
          "AuthorName": "EAD Estágio 2",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1989958&course=5",
          "role": [
            "Picture of EAD Estágio 2"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 239332,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=239332",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Getting Scorm id of a course",
          "Text": "Hi all, I am trying to create an app for moodle. The web service is working fine so far and I am able get the courses, contents ect. Now the problem is- there is a requirement such that the scorm courses should be automatically played using the scorm player URL . Currently the course content only returns the course URL. Is there any service that returns the Scorm id (scoid value) so as to form the player URL? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 21, 2013, 7:05 PM",
          "AuthorName": "Sandeep Nair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1627182&course=5",
          "role": [
            "Picture of Sandeep Nair"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Getting Scorm id of a course",
          "Text": "Hello Sandeep, I understand you are trying to create an app for Moodle.You have mentioned that you are getting the course details and its contents. In order to get the SCORM id you have to fetch the record from database using the course module gloabl $DB; $scorm = $DB->get_record(\"scorm\", array(\"id\"=>$cm->instance)) $scorm_ID = $scorm->id; //where $cm is the course module// This might solve your problem. Let me know if this was of any help. Have a good day. Thanks and regards Purnendu (developer) DualCube",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 23, 2013, 9:27 PM",
          "AuthorName": "Purnendu Dash",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1342913&course=5",
          "role": [
            "Picture of Purnendu Dash",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting Scorm id of a course",
          "Text": "Hi Purnendu, Thanks a lot. This is what I have implemented using a middleware service. I am trying to create the SCORM url for a course. The URL requires two parameters scoid and cm. I found that the value for scoid was not actually required. The URL can be like this : /mod/scorm/player.php?scoid&cm=28&display=popup. I did not have to mess up with the database, as the cm was available in the core_course_get_contents Thanks, Sandeep",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 24, 2013, 2:53 PM",
          "AuthorName": "Sandeep Nair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1627182&course=5",
          "role": [
            "Picture of Sandeep Nair"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting Scorm id of a course",
          "Text": "Sandeep, Good to know you’ve resolved the issue. Keep moodling! Have a good day. Cheers! Purnendu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2013, 8:40 PM",
          "AuthorName": "Purnendu Dash",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1342913&course=5",
          "role": [
            "Picture of Purnendu Dash",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting Scorm id of a course",
          "Text": "Hi DualCube, the code you mention is working fine, but I need to fetch all scorm in the course ?? as well as can please explain, or if you have some documentation shows how we can fetch data for 1- fetch all quizes detail in the course 2- fetch the result of each student participate in the exam. best regards, Samer",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 27, 2016, 2:13 PM",
          "AuthorName": "Samer Hameed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2154548&course=5",
          "role": [
            "Picture of Samer Hameed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting Scorm id of a course",
          "Text": "Thanks I found the solution",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 27, 2016, 3:24 PM",
          "AuthorName": "Samer Hameed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2154548&course=5",
          "role": [
            "Picture of Samer Hameed"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 341974,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=341974",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "a set course content or set Section Webservices?",
          "Text": "Dear Community, After a lot of research on google and checking the API Documentation I do not see any web service function, which helps me to set the course content/ sections inside the course? Maybe I've missed a function in the Documentation. My goal is it to set the course content from an external eclipse application via a web service function. I'm calling the \"core_course_create_course\" webservice, but I did not find any way to add the sections? I'm quite happy for any help . Kind Regards Benjamin",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, October 25, 2016, 4:48 PM",
          "AuthorName": "Benjamin Jahic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2160914&course=5",
          "role": [
            "Picture of Benjamin Jahic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: a set course content or set Section Webservices?",
          "Text": "Hello, I was looking at this last week and found some incomplete tracker issues: MDL-40779 , MDL-37083 , MDL-37937 . Some of them have outdated patches, but can help. Maybe we can estimate the efforts and share the work that has to be done. Kind regards, Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 25, 2016, 8:48 PM",
          "AuthorName": "Daniel Neis Araujo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=32985&course=5",
          "role": [
            "Picture of Daniel Neis Araujo",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: a set course content or set Section Webservices?",
          "Text": "I was playing with the code attached to MDL-40779 and it quite works for the forum module now. I think it would be a nice addition for 3.3, to be able to add modules via the mobile app. =)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 27, 2016, 4:17 AM",
          "AuthorName": "Daniel Neis Araujo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=32985&course=5",
          "role": [
            "Picture of Daniel Neis Araujo",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: a set course content or set Section Webservices?",
          "Text": "Very nice, thank you for your interesting information. Currently, we were looking for a technology to by pass the web service. We were looking for writing our own web service, or writing directly from our tool  to the moodle's database . We did not take a final decision, we wanted to evaluate the costs for developing our own web service. I will have a look at your post Thank you a lot for your help. Sincerely Benjamin University of Luxembourg",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, October 27, 2016, 2:12 PM",
          "AuthorName": "Benjamin Jahic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2160914&course=5",
          "role": [
            "Picture of Benjamin Jahic"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 342087,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=342087",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Interfacing External System",
          "Text": "I use Java 1.7 My task is to interface with an external system. I was given couple of wsdl & schemal files by them. I will need to pass data from my app plus authentication info. and invoke a web service which returns me back an url then I use that url to show a popup window. Next step is user fill in the blank fields, save it and validates the data. Finally step is user finalize it. I understand it's a SOAP web service top-down approach if someone shed more light would be helpful. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 27, 2016, 12:53 AM",
          "AuthorName": "nidhi pilla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2162408&course=5",
          "role": [
            "Picture of nidhi pilla"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 339083,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339083",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "add an external web service",
          "Text": "hi, i have devlopped a list of web services in the domain of elearning and want to add this services to moodle. it's possible to do it and exist a tutorial explain that? please answer me thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 1, 2016, 5:12 AM",
          "AuthorName": "mariam cherif",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2049926&course=5",
          "role": [
            "Picture of mariam cherif"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: add an external web service",
          "Text": "Hi Mariam, what kind of web services you developed? In moodle/local is a readme.txt there you can read how to add new services or new API-functions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 18, 2016, 4:59 PM",
          "AuthorName": "A. Obeid",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1732688&course=5",
          "role": [
            "Picture of A. Obeid"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: add an external web service",
          "Text": "thank you Mr A.Obeid, but you can help me more because my web service is coded in java so how i can integrate it in Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 18, 2016, 7:24 PM",
          "AuthorName": "mariam cherif",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2049926&course=5",
          "role": [
            "Picture of mariam cherif"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: add an external web service",
          "Text": "That have an API? It's runs on the same Server ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 24, 2016, 3:01 PM",
          "AuthorName": "A. Obeid",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1732688&course=5",
          "role": [
            "Picture of A. Obeid"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: add an external web service",
          "Text": "the services are developed in netbeans 6.5 and the server is glassFish V2",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 25, 2016, 6:53 PM",
          "AuthorName": "mariam cherif",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2049926&course=5",
          "role": [
            "Picture of mariam cherif"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 341694,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=341694",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Service to create Pulish URL",
          "Text": "Hi, Is there web service API available to CREATE \"Published Tools\" URL and ScaredSecret? Requirement is that Moodle acting as LTI Provider External Application (LTI Comsumer) using web services API generate URL and SharedSecret so that external tool can access the course.. This is to eliminate manual process to generate URL and Shared Secret from Moodle --> Course Administration --> Publish as LTI Tools. -- Thanks Abhishek Chouhan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 20, 2016, 9:30 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 341276,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=341276",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "gradereport_user_get_grades_table, response table example",
          "Text": "Hi all, so I have this function \"gradereport_user_get_grades_table\" which returns a table. Can anyone show me how this table should look like? and where can I find it in moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 12, 2016, 11:05 PM",
          "AuthorName": "Elie Reformed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088430&course=5",
          "role": [
            "Picture of Elie Reformed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 340377,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=340377",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "enrol_manual_enrol_users roleid parameter",
          "Text": "I'm trying to enrol users into a course - as students - using the enrol_manual_enrol_users wsfunction. One of the parameters required is the roleid for role 'student'. I don't see a wsfunction which will inform me of what the 'student' role's id is, although I have seen that in two separate installations: moodle=> select id, shortname from mdl_role where shortname = 'student'; id | shortname ----+----------- 5 | student (1 row) Should I just hard-code 5 as the roleid? Thanks for your advice in advance! Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 26, 2016, 5:01 AM",
          "AuthorName": "Andrew Solomon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3710&course=5",
          "role": [
            "Picture of Andrew Solomon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users roleid parameter",
          "Text": "Hi, via get_course_user_profiles you can obtain the list of roles for an existing user including the roleid and roleshortname, this should be help you to find the correct roleid for your role (based on the shortname). Is not the best solution, but it seems the only way to do it right now Definitively, that function should support role shortname instead role ids Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 10, 2016, 3:34 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users roleid parameter",
          "Text": "Thanks Juan, although not particularly efficient that sounds much safer Andrew",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, October 11, 2016, 12:36 AM",
          "AuthorName": "Andrew Solomon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3710&course=5",
          "role": [
            "Picture of Andrew Solomon"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 339727,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339727",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "webservices  get_courses",
          "Text": "Have my webservices user set up with the correct permissions and roles but when i try to call get_courses() it fails the validate_context() every time. error i get is : \n```text\n{\"exception\":\"moodle_exception\",\"errorcode\":\"errorcoursecontextnotvalid\",\"message\":\"You cannot execute functions in the course \ncontext\n (course id:33). The context error message was: Course or activity not accessible.\"}\n```\n Have done some research into the problem and seen that it pops up alot but any of the solutions mentioned wont work for me. What ive tried allready is: -set site policy to agreed for webservices user -recreate the webservices user and double checked the roles/permissions -recreate the webservices token",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 13, 2016, 7:19 PM",
          "AuthorName": "Derek O Brien",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2137898&course=5",
          "role": [
            "Picture of Derek O Brien"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: webservices  get_courses",
          "Text": "Hi Derek, are you sure that this course exists? (check the mdl_course table in the database for a field with id 33) Maybe the problem is that you are authenthicating your ws request with a user that doe snot have permission to access that course, you should use an admin or manager account if you want to access all courses. Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 10, 2016, 3:37 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 337868,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=337868",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "core_course_get_courses  course summary value",
          "Text": "Hi, I get the XML result from core_course_get_courses, the problem is that I have this html css added to the course summary for example: <KEY name =\" summary \" > <VALUE> <span style=\"line-height:22.4px;\">Course summary blah blah blah.....</span> </VALUE> </KEY> What I want is : <KEY name =\" summary \" > <VALUE> Course summary blah blah blah.... </VALUE> </KEY> Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 12, 2016, 11:25 PM",
          "AuthorName": "Elie Reformed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088430&course=5",
          "role": [
            "Picture of Elie Reformed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_course_get_courses  course summary value",
          "Text": "It was easy to solve, what I did was that I clicked on the HTML button in the course summary and do what I had to do...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 15, 2016, 4:46 PM",
          "AuthorName": "Elie Reformed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088430&course=5",
          "role": [
            "Picture of Elie Reformed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses  course summary value",
          "Text": "I solved this by using some Javascript in my application to strip out the HTML.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 5, 2016, 3:11 AM",
          "AuthorName": "Matt Perkins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2151212&course=5",
          "role": [
            "Picture of Matt Perkins"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses  course summary value",
          "Text": "Nice, it would be dope if you share it with us?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, October 5, 2016, 7:46 PM",
          "AuthorName": "Elie Reformed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088430&course=5",
          "role": [
            "Picture of Elie Reformed"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_courses  course summary value",
          "Text": "Sure! I typed up this example in the editor so I can't garuntee they'll work 100%, but the functions below are what I'm using. I can't take credit for the Regex, I think I found it on stackoverflow a while back. // Example var summary = \"<h1>Some title</h1><p>This is <span>&gt;cool!&lt;</span></p>\" var cleanedSummary = removeEntity(removeTags(summary)); // cleanedSummary will be \"Some title This is cool!\" // Remove all HTML tags from a string function removeTags(str) { return str.replace(/(<([^>]+)>)/ig, ''); } // Remove all HTML entities such as &gt; &nbsp; function removeEntity(str) { return str.replace(/(&(#?)(?:[a-z\\d]+|#\\d+|#x[a-f\\d]+);)/ig, ''); }",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, October 5, 2016, 8:28 PM",
          "AuthorName": "Matt Perkins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2151212&course=5",
          "role": [
            "Picture of Matt Perkins"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 340378,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=340378",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Suspend user with core_user_update_users",
          "Text": "I've been using this patch to enable accounts to be suspended using core_user_update_users in my Moodle 2.4 deployment https://github.com/moodle/moodle/compare/MOODLE_22_STABLE...fabiomsouto:MDL-31465-MOODLE_22_STABLE I'm just about to move to Moodle 3.0/3.1 and I'd like to add this feature to the core. I've not written any code for Moodle before, so I'd like advice on how to proceed. Given it's a very small feature, can I just go through the bug process here? https://docs.moodle.org/dev/Process#Fixing_a_bug Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 26, 2016, 6:22 AM",
          "AuthorName": "Andrew Solomon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3710&course=5",
          "role": [
            "Picture of Andrew Solomon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Suspend user with core_user_update_users",
          "Text": "Here's the ticket together with my request for a code review https://tracker.moodle.org/browse/MDL-31465",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 2, 2016, 4:41 AM",
          "AuthorName": "Andrew Solomon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3710&course=5",
          "role": [
            "Picture of Andrew Solomon"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 339944,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339944",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Getting the contextid of a user through Web Services API",
          "Text": "Hi all, I'm writing a php script to integrate our SIS with Moodle.  As part of this I need to be able to lookup the contextid for a user. I can do this with a direct database call of \"select contextid from mdl_context where instanceid=....\", however I can't seem to find an API method that does this same thing. Anyone know a method that will do this? Thanks Doug",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 17, 2016, 12:14 AM",
          "AuthorName": "Doug Stevens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1148964&course=5",
          "role": [
            "Picture of Doug Stevens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 339882,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339882",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Custom webservice function returns invalidparameter null",
          "Text": "Hi, I'm trying to create my own custom function for webservice using this tutorial: https://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin But when i call it it shows this error: \n```text\n{\"exception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Detectado valor de par\\u00e1metro no v\\u00e1lido\",\"debuginfo\":null}\n```\n I'm calling this way: <?php $token = '48b69d293d73a973997d5f95'; $domainname = ' http://mydomain.com/moodle' ; $functionname = 'local_myplugin_create_groups'; $restformat = 'json'; $group = new stdClass(); $group->name = 'Nou grup prueba'; $group->courseid = 8; $group->description='grupo prueba función'; $group->enrolmentkey='dadss'; $groups = array( $group); $params = array('groups' => $groups); /// REST CALL header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/rest/ server .php'. '?wstoken=' . $token . '&wsfunction='.$functionname; require_once('./curl.php'); $curl = new curl; $restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat, $params); print_r($resp); ?> And my externallib.php : require_once($CFG->libdir . \"/externallib.php\"); class local_myplugin_external extends external_api { /** * Returns description of method parameters * @return external_function_parameters */ public static function create_groups_parameters() { return new external_function_parameters( array( 'groups' => new external_multiple_structure( new external_single_structure( array( 'courseid' => new external_value(PARAM_INT, 'id of course'), 'name' => new external_value(PARAM_TEXT, 'multilang compatible name, course unique'), 'description' => new external_value(PARAM_RAW, 'group description text'), 'enrolmentkey' => new external_value(PARAM_RAW, 'group enrol secret phrase'), ) ) ) ) ); } public static function create_groups_returns() { return new external_multiple_structure( new external_single_structure( array( 'id' => new external_value(PARAM_INT, 'group record id'), 'courseid' => new external_value(PARAM_INT, 'id of course'), 'name' => new external_value(PARAM_TEXT, 'multilang compatible name, course unique'), 'description' => new external_value(PARAM_RAW, 'group description text'), 'enrolmentkey' => new external_value(PARAM_RAW, 'group enrol secret phrase'), ) ) ); } /** * Create groups * @param array $groups array of group description arrays (with keys groupname and courseid) * @return array of newly created groups */ public static function create_groups($groups) { //Don't forget to set it as static global $CFG, $DB; require_once(\"$CFG-> dirroot /group/lib.php\"); $params = self::validate_parameters(self::create_groups_parameters(), array('groups'=>$groups)); $transaction = $DB->start_delegated_transaction(); //If an exception is thrown in the below code, all DB queries in this code will be rollback. $groups = array(); foreach ($params['groups'] as $group) { $group = (object)$group; if (trim($group->name) == '') { throw new invalid_parameter_exception('Invalid group name'); } if ($DB->get_record('groups', array('courseid'=>$group->courseid, 'name'=>$group->name))) { throw new invalid_parameter_exception('Group with the same name already exists in the course'); } // now security checks $ context = get_context_instance(CONTEXT_COURSE, $group->courseid); self::validate_context($context); require_capability('moodle/course:managegroups', $context); // finally create the group $group->id = groups_create_group($group, false); $groups[] = (array)$group; } $transaction->allow_commit(); return $groups; } } Anyone can help me? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 15, 2016, 11:05 PM",
          "AuthorName": "Alex Martínez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139636&course=5",
          "role": [
            "Picture of Alex Martínez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Custom webservice function returns invalidparameter null",
          "Text": "VERSION 2.6",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 15, 2016, 11:57 PM",
          "AuthorName": "Alex Martínez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139636&course=5",
          "role": [
            "Picture of Alex Martínez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 338872,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=338872",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "web services which have long execution time",
          "Text": "hello, I want to find some web services which have long execution time. This \"long\" means more than several minutes. Do you know something like this? Please help me. Thank you,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 27, 2016, 5:10 PM",
          "AuthorName": "Ryu Sakamoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2126272&course=5",
          "role": [
            "Picture of Ryu Sakamoto"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 336066,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336066",
      "NoOfResponses": 16,
      "ResponsesInList": [
        {
          "Title": "Mobile web service quiz documentation",
          "Text": "Hello! At the moment I develop a webapp with PHP, designed for mobile devices and works with mobile web services. The quiz web service is really new, so the documentation is not helpful and I have the problem, that I don't know how can I response right way the quiz functions. The main problem is, that if I get the respone from the \"mod_quiz_get_attempt_data\", in the data is the html field, but how can I get this in my view and how can I implement functions like autosave, finish test etc.? I looked at the moodle mobile app(v2), but the project is too huge, where I cannot understand how the web services response and the further processed works without documentation. previous matching pages: https://docs.moodle.org/dev/Quiz_support_in_the_Mobile_app https://github.com/moodlehq/moodlemobile2 own Moodle site: API Documentation",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 6, 2016, 9:45 PM",
          "AuthorName": "Jan Philipp Weber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106107&course=5",
          "role": [
            "Picture of Jan Philipp Weber"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi Jan Philipp, the quiz is a really complex module and it's really hard to understand how everything works. I agree that the documentation could be better, but even if it was you'd still have to look at some code to be able to understand how everything works. My first advice is to play with the WebServices, create several quizzes with different configurations and then call the WebServices and see what they're returning. I guess you already know it, but you can see the WebServices details in: Site administration ▶︎ Plugins ▶︎ Web services ▶︎ API Documentation The first thing you need to know is that the quiz depends on questions, a different component. Questions have some subplugins: question type and question behaviour. Also, the quiz itself has some subplugins: access rules. We implemented all that in the app: Question component: www/core/components/question Question types: www/addons/qtype Question behaviour: www/addons/qbehaviour Quiz access rules: www/addons/mod/quiz/accessrules Quiz component: www/addons/mod/quiz All the WebService calls are performed in the following files: www/addons/mod/quiz/services/quiz.js www/addons/mod/quiz/services/quiz_online.js In the app what we do is parse the HTML of the questions and then render it in the view. It's important to keep the same name as the original inputs. When the user clicks submit, we get the data of all the inputs and send it to Moodle. If you want to implement this you'll have to take a look at how Moodle quiz works and try to simulate it, it's what we do when we implement something in the app. I'm sorry for not being able to explain it in more detail, but it's really complex and it's impossible to explain it all. You should try to look at each feature by itself and try to mimic it in your system. Kind regards, Dani",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 7, 2016, 4:59 PM",
          "AuthorName": "Dani Palou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1889394&course=5",
          "role": [
            "Picture of Dani Palou",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Thanks for your fast answer Daniel. Your explanations are helpful and I'll try to understanding the construction with testing and simulating Best regards, Jan Philipp",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, July 8, 2016, 5:17 AM",
          "AuthorName": "Jan Philipp Weber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106107&course=5",
          "role": [
            "Picture of Jan Philipp Weber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "I have a question regarding to the get quiz and save quiz. To get the quiz content,I call \"mod_quiz_get_attempt_data\", all right here. But on the view, if I change the answer for example to true and save it with \"mod_quiz_save_attempt\" ( the response of the function is true,  and I trigger it with \"mod_quiz_view_attempt\")  and go to next page and back, the stored answer will (load with \"mod_quiz_get_attempt_data\") not display. What is here my error? How can I display my stored answer? A second question regarding to picture/videos. If I request the quiz question with \"mod_quiz_get_attempt_data\", the URL of the picture/videos is not right. Normally it should have \"webservice/pluginfile.php/...\" but it is not the webservice link. A API bug? With the URL which I get, I cannot view the picture/video.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 20, 2016, 3:50 AM",
          "AuthorName": "Jan Philipp Weber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106107&course=5",
          "role": [
            "Picture of Jan Philipp Weber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "I solved question one, I forget to save \"sequencecheck\".",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/mixed"
          ],
          "Time": "Thursday, July 21, 2016, 12:11 AM",
          "AuthorName": "Jan Philipp Weber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106107&course=5",
          "role": [
            "Picture of Jan Philipp Weber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi Jan Philipp, please make sure you're sending this parameter to the WebService: moodlewssettingfilter=true Can you please paste one of the URLs in here so I can see how it looks like? You can remove your domain if you want to, I'm interested in the path. Cheers, Dani",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 25, 2016, 7:52 PM",
          "AuthorName": "Dani Palou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1889394&course=5",
          "role": [
            "Picture of Dani Palou",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hello Daniel, thanks for your suggestion, I have implemented it, but the link is the same in 'html': https://mymoodle.com/ pluginfile.php /27/question/questiontext/851/1/18/WP_20151224_18_29_03_Pro__highres.jpg best greetings, Jan Philipp",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1358228/function.jpg?forcedownload=1"
          ],
          "Time": "Monday, July 25, 2016, 9:34 PM",
          "AuthorName": "Jan Philipp Weber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106107&course=5",
          "role": [
            "Picture of Jan Philipp Weber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi Jan Philipp, I checked the WebService response and I'm receiving the URLs without the webservice folder too. I guess this is because the WebService uses the same rendering functions as Moodle web. We have a function in the mobile app to fix these URLs and make them work, we apply it to all URLs received from Moodle: https://github.com/moodlehq/moodlemobile2/blob/master/www/core/lib/util.js#L224 I guess you'll have to do something similar. Cheers, Dani",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 26, 2016, 3:22 PM",
          "AuthorName": "Dani Palou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1889394&course=5",
          "role": [
            "Picture of Dani Palou",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi Daniel, thanks, I implemented it and it worked, nice is something else But this cannot be the final solution, because it is practically a bug by the WebService? Normally, if I request something from the WebService, it should be send correct in the right format. Best regards, Jan Philipp",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorgcleaned_moodleorg/core/1469840083/s/smiley"
          ],
          "Time": "Monday, August 1, 2016, 1:14 AM",
          "AuthorName": "Jan Philipp Weber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106107&course=5",
          "role": [
            "Picture of Jan Philipp Weber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi Jan, in this case the rendering of the quiz questions is done by the question API that is not aware that the request is coming from Moodle Web or the Web Service server . We are aware of that issue but it doesn't have an easy solution, since is not a big deal and is something common in old APIs, the fix that we applied is just fix the urls when they are received. Is far from ideal, but I said before, refactoring the complete question API for that will be a huge task (more than implementing the quiz player itself) Regards, Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 1, 2016, 8:50 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi Juan, okay, thanks for your explanation, I understand. I have one more question regards to resume a quiz. For example if I start a quiz at the Moodle website and want to complete it in my app, how can I do this? Because I have a web client application, the problem is that I cannot determine what the attemptid is, at the function \"quiz_start_attempt\" I get only the error with \"attemptisstillinprogress\" and without offline save of the quiz the determination of attemptid is confused. Best regards, Jan Philipp",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 13, 2016, 4:52 PM",
          "AuthorName": "Jan Philipp Weber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106107&course=5",
          "role": [
            "Picture of Jan Philipp Weber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi Jan Philipp, I also found this a bit confusing when I developed the Mobile app To determine the attempt to use we use the WebService mod_quiz_get_user_attempts . If we don't receive any attempt, it means we need to start a new one. Also, if the last attempt is finished ( state is 'finished' or 'abandoned') we also start a new attempt. Otherwise we use the attemptid of the last one without calling start attempt. Kind regards, Dani",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, August 16, 2016, 2:43 PM",
          "AuthorName": "Dani Palou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1889394&course=5",
          "role": [
            "Picture of Dani Palou",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi Daniel , I thought to myself that it is work with mod_quiz_get_user_attempts, but in my cases, it doesn't work because the attempt which is in progress is not listed. \n```text\nmod_quiz_get_attempt_access_information:\n\n\nobject(stdClass)#21 (5) {\n\n  [\"endtime\"]=>\n\n  int(0)\n\n  \n[\"isfinished\"]=>\n\n  bool(false)\n\n\n  [\"ispreflightcheckrequired\"]=>\n\n  bool(false)\n\n  [\"preventnewattemptreasons\"]=>\n\n  array(0) {\n\n  }\n\n  [\"warnings\"]=>\n\n  array(0) {\n\n  }\n\n}\n\n\nmod_quiz_get_user_attempts:\n\n\n \nobject(stdClass)#22 (2) {\n\n  [\"attempts\"]=>\n\n  array(0) {\n\n  }\n\n  [\"warnings\"]=>\n\n  array(0) {\n\n  }\n\n}\n\n\nmod_quiz_start_attempt:\n\n\n \nobject(stdClass)#23 (3) {\n\n  [\"exception\"]=>\n\n  string(21) \"moodle_quiz_exception\"\n\n  [\"errorcode\"]=>\n\n  string(22) \"attemptstillinprogress\"\n\n  [\"message\"]=>\n\n  string(22) \"Versuch dauert noch an\"\n\n}\n```\n Best regards, Jan Philipp",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/mixed"
          ],
          "Time": "Tuesday, August 16, 2016, 8:26 PM",
          "AuthorName": "Jan Philipp Weber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106107&course=5",
          "role": [
            "Picture of Jan Philipp Weber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi Jan Philipp, that's really weird, it's always working for us. Can you please verify you're sending the right parameters to the WebServices? Also, we always send the user id to mod_quiz_get_user_attempts, but it should still work without sending it... Juan Leyva is the one who developed the WebServices but he isn't here this week, so you'll have to wait until next week to get a better response Kind regards, Dani",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Wednesday, August 17, 2016, 3:27 PM",
          "AuthorName": "Dani Palou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1889394&course=5",
          "role": [
            "Picture of Dani Palou",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi Daniel, I send quizid and userid with REST to the Web Service, here is my function from my Web Service test project: public function getQuizUserAttempts($token,$quizid,$userid) { $domainname = ' https://mymoodle.com '; $functionname = 'mod_quiz_get_user_attempts'; $restformat = 'json'; $params = array('quizid' => $quizid,'userid' => $userid); $serverurl = $domainname . '/webservice/rest/server.php'. '?wstoken=' . $token . '&wsfunction='.$functionname; $this->load->library('Curl'); $curl = new Curl(); $restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat, $params); return $resp; } For me , the whole thing is very mysterious. Best regards, Jan Philipp",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 19, 2016, 11:43 PM",
          "AuthorName": "Jan Philipp Weber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106107&course=5",
          "role": [
            "Picture of Jan Philipp Weber"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mobile web service quiz documentation",
          "Text": "Hi again, that seems right. Can you please check if everything works fine using the Moodle Mobile app? Access the quiz and check if the attempts look exactly as in Moodle web. Kind regards, Dani",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 22, 2016, 5:44 PM",
          "AuthorName": "Dani Palou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1889394&course=5",
          "role": [
            "Picture of Dani Palou",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 337464,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=337464",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Remove slashes from webservice",
          "Text": "I am trying to develop a webservice in moodle using the template given at https://github.com/moodlehq/moodle-local_wstemplate . I have successfully created the webservice and returned the result in json format. But the result it is shown on the browser shows escaped json response. \n```text\n\"[{\\\"1\\\":\\\"International School of Photonics\\\"}\n```\n How can I remove those slashes from the response. I have modified the public static function hello_world() funtion to return json_encode() value.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 4, 2016, 2:59 PM",
          "AuthorName": "Crazy Coder",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106388&course=5",
          "role": [
            "Picture of Crazy Coder"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Remove slashes from webservice",
          "Text": "You don't need to do the json_encode(), moodle will do it when you put the ws_format as json in the url. You only have to define the correct returning parameter function.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 21, 2016, 12:28 AM",
          "AuthorName": "databyte bank",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2121344&course=5",
          "role": [
            "Picture of databyte bank"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 337857,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=337857",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Calling a webservice  using simple AJAX",
          "Text": "Dear all this is my first post in Moodle, May i know what is wrong with this following code $(document).on('click', 'li', function(event) { var courseid = [{ 'courseid': event.target.id }]; $. ajax ({ method: \"POST\", url: baseurl + \"webservice/rest/ server .php\", data: { wstoken: token, moodlewsrestformat: 'json', wsfunction: 'core_course_get_contents', params: courseid } }) .done(function(msg) { $('#coursecontent').html( JSON .stringify(msg)); }) .fail(function(data) { alert(\"error\"); }); }); the ajax call is success, but it always return invalid parameter object as response , any clue",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 12, 2016, 7:37 PM",
          "AuthorName": "Thavarajan Mathivanan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2089698&course=5",
          "role": [
            "Picture of Thavarajan Mathivanan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Calling a webservice  using simple AJAX",
          "Text": "found the solution instead of params: courseid replace it with courseid: event.target.id",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 12, 2016, 8:19 PM",
          "AuthorName": "Thavarajan Mathivanan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2089698&course=5",
          "role": [
            "Picture of Thavarajan Mathivanan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 337626,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=337626",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to pass user id in a restful web service",
          "Text": "Hi, this the code I'm using in order to get the courses: <?php $token = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxx''; $domainname = 'http://localhost/moodle311'; $functionname = 'core_course_get_courses'; // REST RETURNED VALUES FORMAT $restformat = ' xml '; /// REST CALL $params = array(); header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/rest/ server .php'. '?wstoken=' . $token . '&wsfunction='.$functionname; require_once('./curl.php'); $curl = new curl; $restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat,$params); print_r($resp); And I want to the same thing for this fucntion: core_enrol_get_users_courses , but it needs a parameter which is the user ID, I want to know how can I give it to the function, what should I do? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 8, 2016, 6:48 PM",
          "AuthorName": "Elie Reformed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088430&course=5",
          "role": [
            "Picture of Elie Reformed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 337529,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=337529",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Selecting multiple requiered capabilities for a function",
          "Text": "Hi all, this might be easy to do but I don't know how can I select multiple requiered capabilities for a function in a web service. I can only select one capabilitie... This is the function that I need: core_course_get_courses , the requiered capabilties are :  moodle/course:view, moodle/course:update, moodle/course:viewhiddencourses.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 5, 2016, 4:28 PM",
          "AuthorName": "Elie Reformed",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088430&course=5",
          "role": [
            "Picture of Elie Reformed"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 337466,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=337466",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Сбросить(Обнуление) результаты теста",
          "Text": "Добрый день! Прошу помощи. Столкнулся с проблемой. Когда у теста задано количество попыток(например, 1) и пользователь использовал попытку, то снятие с курса и повторное назначение на курс не помогает в обнулении результатов теста. Мне нужно, чтобы пользователь заново прошел тест. Т.е. обнулить его предыдущие попытки и дать ему заново пройти тест. Подскажите, пожалуйста, уважаемые разработчики, каким методом web services это можно сделать?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 4, 2016, 3:27 PM",
          "AuthorName": "Nickolay Sergeev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2099571&course=5",
          "role": [
            "Picture of Nickolay Sergeev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Сбросить(Обнуление) результаты теста",
          "Text": "Hi. This forum is for English. Can you re-enter your question in English? Or look for a forum in the language of your choice here - https://moodle.org/course/ . mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 4, 2016, 8:35 PM",
          "AuthorName": "Mike Churchward",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9561&course=5",
          "role": [
            "Picture of Mike Churchward",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 337023,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=337023",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Cannot assign role to user using web service",
          "Text": "I am trying to assign a role using webservice. I have tried the below code to assign the role. $user_id= 35; $context_id=1; $role_id=5; $assignment = array( 'roleid' => $role_id, 'userid' => $user_id, 'contextid' => $context_id ); $assignments = array( $assignment ); $params = array( 'assignments' => $assignments ); $functionname = 'core_role_assign_roles'; $serverurl = $domainname . '/webservice/rest/ server .php'. '?wstoken=' . $token . '&wsfunction='.$functionname; $response = $curl->post( $serverurl . $restformat, $params ); when I run the code, I am getting the below respone. Please help. \n```text\n{\"exception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Invalid parameter value detected\",\"debuginfo\":\"Can not assign roleid=5 in contextid=1\"}\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 26, 2016, 7:58 PM",
          "AuthorName": "Crazy Coder",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106388&course=5",
          "role": [
            "Picture of Crazy Coder"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cannot assign role to user using web service",
          "Text": "It worked after I added the roles to  'Allow role assignments' option in edit role page.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2016, 4:49 PM",
          "AuthorName": "Crazy Coder",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106388&course=5",
          "role": [
            "Picture of Crazy Coder"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 336953,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336953",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Error while trying to get user token",
          "Text": "I am trying to get the user token for web services as described here . But I am getting the following error. Please help. \n```text\n{\"error\":\"Web service is not available (it doesn't exist or might be disabled)\",\"stacktrace\":null,\"debuginfo\":null,\"reproductionlink\":null}\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 25, 2016, 4:59 PM",
          "AuthorName": "Crazy Coder",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106388&course=5",
          "role": [
            "Picture of Crazy Coder"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 328894,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=328894",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "core_enrol_get_course_enrolment_methods method returns nothing",
          "Text": "I am trying to get a list of enrollment methods for a course. Using the example POST below. https://10.1.19.118/webservice/rest/server.php?wstoken= {mytoken}&wsfunction=core_enrol_get_course_enrolment_methods&moodlewsrestformat=json&courseid=2 I am getting a blank object in return \"[]\" The course has the enrollment methods assigned to it. Any ideas would be helpful.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 27, 2016, 1:23 AM",
          "AuthorName": "Jarod Knoten",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2059597&course=5",
          "role": [
            "Picture of Jarod Knoten"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_enrol_get_course_enrolment_methods method returns nothing",
          "Text": "Hi First thing to check is that none of the enrolment methods are disabled in the course, from testing i have found if any of them are disabled especially the Self Enrolment one you will get a blank return value. regards Barry Matthias Blackboard UK",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 8, 2016, 3:41 PM",
          "AuthorName": "Barry Matthias",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1864072&course=5",
          "role": [
            "Picture of Barry Matthias"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_enrol_get_course_enrolment_methods method returns nothing",
          "Text": "i have get same problem http://128.199.167.118/ta/webservice/rest/server.php?wstoken=740216eecffbb965fb395916d6064f22&wsfunction=moodle_enrol_get_users_courses&moodlewsrestformat=json&userid=2 []",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2016, 1:30 AM",
          "AuthorName": "farihul rouf",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2087818&course=5",
          "role": [
            "Picture of farihul rouf"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 335531,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335531",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "web services processing questions",
          "Text": "Hi guys, I've been trying to implement a mobile app which communicates to Moodle through webservices. However, it appears that after calling mod_quiz_process_attempt the question state doesn't get graded. I've specified that the question behavior should have immediate feedback. Here is the output from mod_quiz_get_attempt_data after I called mod_quiz_process_attempt: \n```text\n{\n\t\"attempt\": {\n\t\t\"attempt\": 7,\n\t\t\"currentpage\": 0,\n\t\t\"id\": 21,\n\t\t\"layout\": \"1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0\",\n\t\t\"preview\": 0,\n\t\t\"quiz\": 6,\n\t\t\"state\": \"inprogress\",\n\t\t\"sumgrades\": null,\n\t\t\"timecheckstate\": null,\n\t\t\"timefinish\": 0,\n\t\t\"timemodified\": 1467157126,\n\t\t\"timestart\": 1467155491,\n\t\t\"uniqueid\": 21,\n\t\t\"userid\": 4\n\t},\n\t\"messages\": [],\n\t\"nextpage\": 1,\n\t\"questions\": [\n\t\t{\n\t\t\t\"flagged\": false,\n\t\t\t\"html\": \n\t\t\t\"mark\": \"\",\n\t\t\t\"maxmark\": 1,\n\t\t\t\"number\": 1,\n\t\t\t\"page\": 0,\n\t\t\t\"slot\": 1,\n\t\t**\t\"state\": \"todo\",\n\t\t**\t\"status\": \"Not complete\",\n\t\t\t\"type\": \"multichoice\"\n\t\t}\n\t],\n\t\"warnings\": []\n}\n```\n you'll notice that the state is set to : todo, and the status is \"not complete\" However, if I call mod_quiz_process_attempt and specify finish, it looks like the question engine kicks in and grades it: \n```text\n{\n\t\"attempt\": {\n\t\t\"attempt\": 5,\n\t\t\"currentpage\": 0,\n\t\t\"id\": 17,\n\t\t\"layout\": \"1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0\",\n\t\t\"preview\": 0,\n\t\t\"quiz\": 5,\n\t\t\"state\": \"inprogress\",\n\t\t\"sumgrades\": null,\n\t\t\"timecheckstate\": null,\n\t\t\"timefinish\": 0,\n\t\t\"timemodified\": 1464116415,\n\t\t\"timestart\": 1464041614,\n\t\t\"uniqueid\": 17,\n\t\t\"userid\": 4\n\t},\n\t\"messages\": [],\n\t\"nextpage\": 1,\n\t\"questions\": [\n\t\t{\n\t\t\t\"flagged\": false,\n\t\t\t\"html\": \n\t\t\t\"mark\": \"1.00\",\n\t\t\t\"maxmark\": 1,\n\t\t\t\"number\": 1,\n\t\t\t\"page\": 0,\n\t\t\t\"slot\": 1,\n\t\t\t\"state\": \"gradedright\",\n\t\t\t\"status\": \"Correct\",\n\t\t\t\"type\": \"multichoice\"\n\t\t}\n\t],\n\t\"warnings\": []\n}\n```\n notice the state is \"gradedright\" and the status is \"correct\" Is there a way to use the webservice to get the questionengine to grade questions in a quiz behavior that has \"immediate feedback\"?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 29, 2016, 8:58 AM",
          "AuthorName": "Jerry Kalkhof",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2092485&course=5",
          "role": [
            "Picture of Jerry Kalkhof"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: web services processing questions",
          "Text": "Hi, have you tried to call get_attempt_data again after calling process_attempt? I'd recommend you to take a look to the Mobile app quiz code, is a big complex all the process https://github.com/moodlehq/moodlemobile2/tree/master/www/addons/mod/quiz Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 29, 2016, 3:44 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 335262,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335262",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "WEB services",
          "Text": "I developed a PHP website ( MVC ) which communicates with ERP\nvia web services ; But when I try to connect to the web site, I get the\nfollowing message: It is impossible to build the parameter tables with values\n​​in JSON format} {Consult provided loading report I NEED YOUR HELP",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2016, 10:46 PM",
          "AuthorName": "oussama mortazik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2102596&course=5",
          "role": [
            "Picture of oussama mortazik"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 335210,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335210",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Error to add a Custom Service",
          "Text": "Hi there, There a brand new moodle (v 3.1) and I'm not being able to add an external service. Going to Site Administration > Plugins > Web Services > External services , and it's possible to click on add and fill the  form, but even if I fill the required field (Name), and try do Add the service, I got the error \" A required parameter (id) was missing \" . The error page also link info that could be causing this situation: https://docs.moodle.org/31/en/error/moodle/missingparam I also tried enabling web services and setting an protocol to see if I got a different end. But moodle keeps returning \" A required parameter (id) was missing \" Can't understand what configuration I'm missing. Could anyone help? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2016, 1:32 AM",
          "AuthorName": "Mario Coin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1797295&course=5",
          "role": [
            "Picture of Mario Coin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 238559,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=238559",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "how do I get the user id of a token?",
          "Text": "Hi everyone. I am beginner, my problem is how to get the information of a user when he login into mobile app. the infomation includes courses which he enrol, his profile... I think to get the information I need to know his Id. but when he login, I just get his token by using API function. so how to get the user Id by user token? or is there any way to get the information of user without id? please help me! thank so much!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 17, 2013, 10:02 AM",
          "AuthorName": "dang quang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1631983&course=5",
          "role": [
            "Picture of dang quang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: how do I get the user id of a token?",
          "Text": "Dear Dang, Hope you are doing good. I understand you are a beginner, and there is no end to the number of problems you may have to face in the initial stages of getting acquainted with Moodle. Don’t worry you will get a hang of it in sometime. Dang, may I know what exactly you mean by \"mobile app\"? To get the details of a logged in user, use the global variable $USER. Define global $USER; in the page where you want to get the user details and then view the full user details by print_r($USER); To get the user id, you may do this, $userId = $USER->id; Do let me know if this helps. All the best!  Would love to hear from you again. Purnendu (developer) DualCube",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 23, 2013, 8:32 PM",
          "AuthorName": "Purnendu Dash",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1342913&course=5",
          "role": [
            "Picture of Purnendu Dash",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: how do I get the user id of a token?",
          "Text": "Hi, i am developing one app,i want moodle users also can use my app,i want to access all his courses,profile details and all data related to that user to show in my app(how can i achieve this from java code).i am getting the below exception when i request this api.please tell me how to fix this issue url: http://school.demo.moodle.net/webservice/rest/server.php?wstoken=cd72aa99e236fd9c760d617d69b6bcb0&wsfunction=core_user_get_users_by_field <? xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"webservice_access_exception\"> <ERRORCODE>accessexception</ERRORCODE> <MESSAGE>Access control exception</MESSAGE> </EXCEPTION>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 13, 2014, 6:24 PM",
          "AuthorName": "asha chaparala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1792040&course=5",
          "role": [
            "Picture of asha chaparala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: how do I get the user id of a token?",
          "Text": "Hi i! - Add the \" core_webservice_get_site_info \" function call to your \" External Service \"-Configuration - Ask the \" core_webservice_get_site_info \" with a wstoken and the response will get you the 'userid' (among other infos) related to this wstoken. And depending on the function and your \"webservice authenticaton method\" configuration: - Double check if the \"User\" (related to the \" wstoken \" you're talking to the moodle-webservice with) has the necessary \" Capability \" or \"Role\" active (set to 'true') to actually call the function. Cheers & Have Fun!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 14, 2014, 7:42 AM",
          "AuthorName": "Malte Reißig",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1762551&course=5",
          "role": [
            "Picture of Malte Reißig"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: how do I get the user id of a token?",
          "Text": "HI, Thankyou very much for your reply,i would like to know how can i add more function to external servise already created with out creating custom servise. i cant see this option Settings > Site administration > Plugins > Web services > Manage services > Edit (please let me know the reason) I am using below login credentials(test account) username:admin password:sandbox",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 14, 2014, 2:06 PM",
          "AuthorName": "asha chaparala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1792040&course=5",
          "role": [
            "Picture of asha chaparala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: how do I get the user id of a token?",
          "Text": "Hi, no problem, yesterday I just had some spare minutes to spent on this. But sorry, sure I don't know the reasons why you can not \"Manage Services\" as an \"admin\", have you checked if the webservice plugin is active? - Any webservice should have a defined number of webservice functions and this should be created as an external service configuration (\"custom service\" you say) as far as i know - Try to be explicit when asking for help (add the urls to the docs you and webpages you were looking at while trying to solve your issue, this may help other potential supporters here in this forum) - I dont have access to any moodle with administratior-priviliges right now, so I cannot investigate your issue. Let me ask, what is it for an app you want to build and why? All the best & Cheers!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 14, 2014, 5:09 PM",
          "AuthorName": "Malte Reißig",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1762551&course=5",
          "role": [
            "Picture of Malte Reißig"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: how do I get the role of user?",
          "Text": "hi sir, thankyou i fixed that issue problem is webservises is not enabled. i developed one app,i want to allow moodle users also can use it. i have one doubt how to get role of the user for that site not for single course. For example:for site admin(get role as adimin)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 15, 2014, 7:37 PM",
          "AuthorName": "asha chaparala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1792040&course=5",
          "role": [
            "Picture of asha chaparala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: how do I get the user id of a token?",
          "Text": "Hi Malte, I am new to moodle please suggest me something about core_webservice_get_site_info. I need to get the logged in user by using this function. when i am using it with admin token it is giving the details of admin but i want to get the logged in user info by using this function how can i do this pls help. If i create a token for each user and call it by using there token than it will be very time consuming and not right pls suggest asap Thanx!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2016, 2:41 PM",
          "AuthorName": "ranu jaiswal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2098981&course=5",
          "role": [
            "Picture of ranu jaiswal"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 334847,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=334847",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Create Custom Web Service Functions",
          "Text": "Good evening, We are wanting to create some custom web service functionality to integrate with the Iomad version of Moodle. Is there any documentation for this process available to the public? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2016, 10:40 AM",
          "AuthorName": "Frank Troglauer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2086005&course=5",
          "role": [
            "Picture of Frank Troglauer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Create Custom Web Service Functions",
          "Text": "For Moodle itself see https://docs.moodle.org/dev/Web_services For any IOMAD specific application you would need to contact IOMAD directly through E-Learn Design (Moodle partners who develop and support IOMAD).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2016, 2:03 PM",
          "AuthorName": "Richard Oelmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=480148&course=5",
          "role": [
            "Picture of Richard Oelmann",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create Custom Web Service Functions",
          "Text": "Thanks, that was exactly what I was looking for.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2016, 8:51 PM",
          "AuthorName": "Frank Troglauer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2086005&course=5",
          "role": [
            "Picture of Frank Troglauer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 234884,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=234884",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Invalid-parameter errorr from apparenly valid user and group IDs passed to core_group_add_group_members",
          "Text": "I'm trying to call the core_group_add_group_members Web service, but getting an invalid-parameters message for apparently valid user and group IDs. I'll show the program at the end of this posting. If I call it with an invalid group ID but a valid user ID, I get an error with exception class \"dml_missing_record_exception\", errorcode \"invalidrecord\", and message \"cannot find data record in database table groups\". If I call it with a valid group ID but an invalid user ID, I get an error with exception class \"dml_missing_record_exception\", errorcode \"invaliduser\", and message \"invalid user\". The fact that it can detect invalid groups and users suggests to me that I am calling it correctly. But when I pass it a valid user ID and a valid group ID, I get the \"invalid parameter value detected\" exception. So when the user and group are OK, it seems not to like the format in which I've passed them, or something. This is my code: \n```text\n$group_id = 21;\n\n$user_id = 149;\n\n$params = \"&members[0][groupid]=\" . $group_id . \"&members[0][userid]=\" . $user_id;\n\n$token = 'bbb86beefd82sttewsdef5fd9ef1b3e7c3';\n\n$url = \"my_moodle.com\";\n\n$serverurl = $url . '/webservice/rest/\nserver\n.php?wstoken=' . $token . \"&wsfunction=core_group_add_group_members\";\n\nrequire_once( './curl.php' );\n$curl = new curl;\n\n$response = $curl->post( $serverurl, $params );\n\necho \"Response = \\n\", $response, \"\\n\";\n```\n Jocelyn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 20, 2013, 6:42 PM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Invalid-parameter errorr from apparenly valid user and group IDs passed to core_group_add_group_members",
          "Text": "Hi Jocelyn, I'm also having this issue, tried with invalid groupid and userid  returning stdClass Object ( [exception] => dml_missing_record_exception [errorcode] => invaliduser [message] => Invalid user ) When I try existing userid and groupid stdClass Object ( [exception] => invalid_parameter_exception [errorcode] => invalidparameter [message] => Invalid parameter value detected ) did you find a solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 26, 2016, 4:29 PM",
          "AuthorName": "Alfonso Rivero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2030168&course=5",
          "role": [
            "Picture of Alfonso Rivero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid-parameter errorr from apparenly valid user and group IDs passed to core_group_add_group_members",
          "Text": "I've found the solution. Left the comment here for reference to somebody with the same problem. To add a member to a group, the user must be enroled in the course the groups belongs to.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 26, 2016, 7:04 PM",
          "AuthorName": "Alfonso Rivero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2030168&course=5",
          "role": [
            "Picture of Alfonso Rivero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid-parameter errorr from apparenly valid user and group IDs passed to core_group_add_group_members",
          "Text": "HI Alfonso, I already enrolled user to course, I want to add group member using web service, But, it didn't work, error message : \n```text\n '{\"exception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Invalid parameter value detected\",\"debuginfo\":\"Missing required key in single structure: members\"}'\n```\n it is my code: public function assign_user_group($userid, $groupid) { $functionName = 'core_group_add_group_members'; $member = new stdClass(); $member->groupid = $groupid; $member->userid = $userid; $members = array($member); $params = array('$members' => $members); /// REST CALL $restformat = \"json\"; $serverurl = $this->serverUrl . '&wsfunction=' . $functionName . '&moodlewsrestformat=' . $restformat; require_once ('curl.php'); $curl = new curl(); $resp = $curl->post($serverurl, $params); echo '</br>************************** Server Response Assign user to group()**************************</br></br>'; echo $serverurl . '</br></br>'; var_dump($resp); } do you have  solution for this problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 3, 2016, 4:55 PM",
          "AuthorName": "Jordan Sipahutar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2082248&course=5",
          "role": [
            "Picture of Jordan Sipahutar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid-parameter errorr from apparenly valid user and group IDs passed to core_group_add_group_members",
          "Text": "Hi Jordan, I think that you have a \"syntax\" problem: $params = array('$members' => $members); should be: $params = array('members' => $members); without '$'",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 3, 2016, 6:16 PM",
          "AuthorName": "Alfonso Rivero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2030168&course=5",
          "role": [
            "Picture of Alfonso Rivero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid-parameter errorr from apparenly valid user and group IDs passed to core_group_add_group_members",
          "Text": "Thank you Alfonso Rivero , it's really helpful for me to solved my problem,",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, June 9, 2016, 12:37 PM",
          "AuthorName": "Jordan Sipahutar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2082248&course=5",
          "role": [
            "Picture of Jordan Sipahutar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 332905,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=332905",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Call Rest Api With C#",
          "Text": "This is an example in Console with C#  to how to call the api of moodle with only the class and reflection using System; using System.Collections.Generic; using System.IO; using System.Linq; using System.Net; using System.Text; using System.Threading.Tasks; using Newtonsoft.Json; using System.Net.Http; using System.Net.Http.Headers; using System.Collections; namespace TestApiMoodle { class Program { static void Main(string[] args) { Course course = new Course(); course.categoryid = 1; course.format = \"topics\"; course.fullname = \"curso de prueba de web service5\"; course.shortname = \"prueba5\"; course.visible =1; CreateCourse(course); } public static void CreateCourse(Course course) { var request =WebRequest.Create(\"http://XXXXXX/webservice/rest/ server .php\"); request.Credentials = CredentialCache.DefaultCredentials; ((HttpWebRequest)request).UserAgent = \".NET Framework Example Client\"; request.Method = \"POST\"; request.ContentType = \"application/x-www-form-urlencoded\"; CourseCall callObject = new CourseCall(); callObject.courses = new List<Course>(); callObject.courses.Add(course); byte[] byteArray = Encoding.UTF8.GetBytes(GetQueryString(callObject)); request.ContentLength = byteArray.Length; Stream dataStream = request.GetRequestStream(); dataStream.Write(byteArray, 0, byteArray.Length); dataStream.Close(); using (var response = (HttpWebResponse)request.GetResponse()) { var responseValue = string.Empty; if (response.StatusCode != HttpStatusCode.OK) { var message = String.Format(\"Request failed. Received HTTP {0}\", response.StatusCode); throw new ApplicationException(message); } using (var responseStream = response.GetResponseStream()) { if (responseStream != null) using (var reader = new StreamReader(responseStream)) { responseValue = reader.ReadToEnd(); } } Console.WriteLine( responseValue); } } public static string GetQueryString(object obj) { List<string> properties = new List<string>(); string OpenSquareBracket = System.Web.HttpUtility.UrlEncode(\"[\"); string CloseSquareBracket = System.Web.HttpUtility.UrlEncode(\"]\"); foreach (var p in obj.GetType().GetProperties().Where(x=>x.GetValue(obj,null) !=null)) { if (p.PropertyType.IsGenericType) { var subp = p.GetValue(obj); List<string> ListObject = new List<string>(); int i = 0; foreach (var listitem in subp as IEnumerable) { foreach (var propertyItem in listitem.GetType().GetProperties()) { ListObject.Add(string.Concat(p.Name , OpenSquareBracket, i.ToString(),CloseSquareBracket, OpenSquareBracket, propertyItem.Name ,CloseSquareBracket, \"=\", System.Web.HttpUtility.UrlEncode(propertyItem.GetValue(listitem, null).ToString()))); } i++; } properties.Add(string.Join(\"&\", ListObject)); } else { properties.Add(string.Concat(p.Name, \"=\", System.Web.HttpUtility.UrlEncode(p.GetValue(obj, null).ToString()))); } } return String.Join(\"&\", properties.ToArray()); } public class Course { public string fullname { get; set; } public string shortname { get; set; } public int categoryid { get; set; } public string format { get; set; } public int visible { get; set; } public string groupmode { get; set; } public string groupmodeforce { get; set; } public  Course() { groupmode = \"1\"; groupmodeforce = \"0\"; } } public class CourseCall { public string wstoken { get; set; } public string wsfunction { get; set; } public string moodlewsrestformat { get; set; } public List<Course> courses { get; set; } public   CourseCall() { moodlewsrestformat = \"json\"; wsfunction = \"core_course_create_courses\"; wstoken = \"XXXXXXX\"; } } } }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 11, 2016, 3:00 PM",
          "AuthorName": "Omar Guerrero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2076990&course=5",
          "role": [
            "Picture of Omar Guerrero"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 332785,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=332785",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to get Assignment Unsubmitted Students",
          "Text": "Hi Everyone. I am getting Assignment Submitted Students List using mod_assign_get_submissions web services but How to get Assignment Unsubmitted  Students Using Web Services Functions",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 9, 2016, 7:24 PM",
          "AuthorName": "SrinuvasReddy P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079799&course=5",
          "role": [
            "Picture of SrinuvasReddy P"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 332697,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=332697",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Allow guest access with WS",
          "Text": "Hi, anyone knows if there is a way with web services to set the option \"allow guest access\" in a course, to allow access without authentication? I don't see this option in the \"core_course_create_courses\" function. Thanks Paolo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 6, 2016, 6:34 PM",
          "AuthorName": "Paolo Tramonti",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=702770&course=5",
          "role": [
            "Picture of Paolo Tramonti"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 332274,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=332274",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Get final grades without User ID",
          "Text": "Hi, I would like to send all final grades of a course from moodle to a HR portal. (we use moodle 2.9, 4000 users, approx. 30 courses) In the API documentation there are some different functions, but it seems every function needs the user ID separately to work. That would lead to numerous API calls (4000 user x 30 courses x ...). My question: Is there a way to get all final grades from a course without providing individual user IDs? I'm thankful for every tip! Best regards, Dietmar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2016, 2:39 PM",
          "AuthorName": "Dietmar Grasböck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2082242&course=5",
          "role": [
            "Picture of Dietmar Grasböck"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get final grades without User ID",
          "Text": "The only argument required by the core_grades_get_grades API call is the course ID - which seems to be exactly what you want. The Web Services API documentation is at http://your.moodle.url/admin/webservices/documentation.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 30, 2016, 12:54 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 332174,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=332174",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Import and delete functions from API",
          "Text": "Hi! I'm using the Moodle 3.0 Web Service API with XML -RPC protocol and there're two functions that don't work as expected: core_course_delete_courses and core_course_import_course . It always return the message: \" Calling parameters do not match signature | ERRORCODE: \". The other functions are working. For core_course_delete_courses I've tried the following parameters (based on Moodle API Docs): `$params = array('courseids' => array(8));` The request is based on the example: https://github.com/moodlehq/sample-ws-clients/blob/master/PHP-XMLRPC/client.php I think is correct, but no success. I've seen the following topic: https://moodle.org/mod/forum/discuss.php?d=259130 . It's seems to be the same bug.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 26, 2016, 10:34 PM",
          "AuthorName": "Luis Oliveira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2035635&course=5",
          "role": [
            "Picture of Luis Oliveira"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Import and delete functions from API",
          "Text": "Well, I finally did it right, I've changed for this: `$courseids = array(10);` But the import function still doesn't work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 27, 2016, 2:42 AM",
          "AuthorName": "Luis Oliveira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2035635&course=5",
          "role": [
            "Picture of Luis Oliveira"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 330993,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=330993",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "External service Login",
          "Text": "Hi, I'm looking to list all courses with External Service and use the Moodle's url provided by the web service to show courses. But when I tried to access this url I have this message \"You are not logged in\". I want to log in before showing this page. Is it possible to request an authentication token or something I can use to authenticate before showing any Moodle page. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 6, 2016, 2:39 AM",
          "AuthorName": "Olivier Plante",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2069802&course=5",
          "role": [
            "Picture of Olivier Plante"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External service Login",
          "Text": "I may be misunderstanding, but I feel like you are mixing two different concepts here. Accessing moodle via the APIs is what I'd expect you to be doing in your app. There should be no need to access the site directly via the front end. If there's something you are trying to do that cannot be done with the current web services then you can request that gets added (and even help develop it). But the content of courses and modules can be requested already with existing web services. Is that what you are trying to do?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 11, 2016, 11:12 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External service Login",
          "Text": "Sorry I explained my problem badly. I have no problem getting the list of courses and modules. What I want is to show the module itself (quizz, lesson , survey, ...). To show them those modules I want to redirect to the Moodle site without the need to login again. Is it possible? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 11, 2016, 9:50 PM",
          "AuthorName": "Olivier Plante",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2069802&course=5",
          "role": [
            "Picture of Olivier Plante"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External service Login",
          "Text": "There are external functions to interact with each module already. For instance, you can use the view_page external function to see a page. If you cannot work all of that functionality in your app, why not fork it from moodlemobile2? What you're talking about here seems to be single sign on. You could also consider signing into cas in your application and use cas authentication on your moodle. But I think you're trying to solve the wrong problem here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 26, 2016, 3:26 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 331849,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=331849",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "not getting all assignments in webserivce.",
          "Text": "I'm working on a REST client to do some student analytics.  I can get\na list of all of the courses via core_course_get_courses, and I can get\na list of all of the users in each course via\ncore_enrol_get_enrolled_users.  However, the next step, getting all of\nthe assignments in a course, seems to be done via\nmod_assign_get_assignments, but this function appears to be extremely\nlimited and intended for students and teachers only. For example, here's the results I get with various combinations of parameters: wsfunction=mod_assign_get_assignments&courseids[]=1 Yields error message \"User is not enrolled or does not have requested\ncapability\".  This is technically correct; the admin user the token is\nassigned to isn't enrolled. wsfunction=mod_assign_get_assignments&courseids[]=1&capabilities[]=moodle/grade:edit Yields the same error message.  This one is confusing, because the\ndocumentation suggests that specifying capabilities might override the\nuser, but in any case the admin user has all capabilities and so should\nbe able to get assignments this way. I'm guessing mod_assign_get_assignments just isn't the right tool for\nthe job, but does another tool exist?  It must be available through a\nweb service (as this is to be fully automated) and it has to have all\nassignments, not just those belonging to the user with the API key\nspecified.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 20, 2016, 9:35 PM",
          "AuthorName": "SrinuvasReddy P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079799&course=5",
          "role": [
            "Picture of SrinuvasReddy P"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re:  not getting all assignments in webserivce.",
          "Text": "I am going to move this to the Web Services forum.  I think you might get more help there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 24, 2016, 9:25 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 331714,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=331714",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Getting courses \"content details\"",
          "Text": "Hi, I'm trying to get moodle courses into a website via webservices. I succeeded creating a user that have sufficient permissions and having my first request returning results ! \\o/ I've been reading \"tons\" of doc and typed a lot of request over this site and google but i can't find what i'm looking for, even if i suppose that this question as been answered many times... i should don't get the good words to find what i want (you should have mentioned that english isn't my first langage ^^). So basically, i want to get the content of my courses. I tryed \"core_course_get_contents\" but only manage to have details of the course but not the content of the pages inside it. I should have missed something about the courses architecture ... Running a 3.0 moodle. rest json requests. Thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 19, 2016, 5:01 AM",
          "AuthorName": "Bo Imb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2078160&course=5",
          "role": [
            "Picture of Bo Imb"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 321414,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=321414",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "External services - unable to add functions",
          "Text": "I upgraded my moodle from 2.8 to 2.9 My current moodle version is 2.9.2+ ( Build 20151008) I added a custom external service and enabled it. But I am getting the following error when I add functions : \"Coding error detected, it must be fixed by a programmer: Cannot find file with external function implementation\" Please refer the screen short of my server environment. Should I add any additional php extensions for my server? If so, what are all the extensions to be installed? I need to add the following functions to the Custom service : core_user_create_users: Create users. core_user_get_users_by_field: Retrieve users information for a specified unique field. core_user_update_users: Update users. core_course_get_courses: Return course details core_course_get_categories: Return category details enrol_manual_enrol_users: Manual enrol users enrol_manual_unenrol_users: Manual unenrol users core_enrol_get_users_courses: Get the list of courses a user is enrolled in The purpose is to integrate moodle courses with Word Press Woo Commerce for online payments. Can any one help? Thanks in advance. And by the way, I have noticed an increase in moodle site page loading after upgrading to 2.9 even with my broadband speed at 512 kbps only. The site is fast. Congrats and appreciation to all the members of the moodle development team.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1289753/screen-shot-w.jpg?forcedownload=1"
          ],
          "Time": "Monday, October 12, 2015, 10:44 AM",
          "AuthorName": "Gentle Mark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=325696&course=5",
          "role": [
            "Picture of Gentle Mark"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External services - unable to add functions",
          "Text": "Hi Gentle, I don't think you should enable any extensions. If you track that error message you will see that it comes from external_function_info, do you have any 3rd party plugins with ws functions? That might be the cause.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 12, 2015, 1:38 PM",
          "AuthorName": "David Monllaó",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=122326&course=5",
          "role": [
            "Picture of David Monllaó"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External services - unable to add functions",
          "Text": "Dear David, Thanks for your reply.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1289904/screen%20shot-02.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1289904/screenshot-3.png?forcedownload=1"
          ],
          "Time": "Monday, October 12, 2015, 10:01 PM",
          "AuthorName": "Gentle Mark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=325696&course=5",
          "role": [
            "Picture of Gentle Mark"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External services - unable to add functions",
          "Text": "Another screen shot.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1289905/screenshot-4.png?forcedownload=1"
          ],
          "Time": "Monday, October 12, 2015, 10:02 PM",
          "AuthorName": "Gentle Mark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=325696&course=5",
          "role": [
            "Picture of Gentle Mark"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External services - unable to add functions",
          "Text": "Hi Gentle, local_mobile is a non-core plugin that you installed separately, the cause might be there (or in other plugins if you have more) I will ping Juan Leyva (the plugin developer) in case he's aware of any issue there. Thanks for commenting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 13, 2015, 2:19 PM",
          "AuthorName": "David Monllaó",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=122326&course=5",
          "role": [
            "Picture of David Monllaó"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External services - unable to add functions",
          "Text": "Hi Gentle, how do you see the error you mentioned?, clicking in any of the Functions list links in the external services section or just in your custom service? This error usually happens if you have a plugin/db/services.php files with functions pointing to an invalid classpath. (I checked the last version of local_mobile and it works as expected) Regards, Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 13, 2015, 8:42 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External services - unable to add functions",
          "Text": "Hi David & Juan, Thanks for your response. Somehow it works now. And I don't know how. I did not do anything. When I encountered the error, I was using the Firefox browser in Windows 10. When I used Firefox in Windows 7, it worked. Wonder how? Thanks for all your responses.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 13, 2015, 10:03 PM",
          "AuthorName": "Gentle Mark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=325696&course=5",
          "role": [
            "Picture of Gentle Mark"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External services - unable to add functions",
          "Text": "hi all, i want to invoke a web service imlemented in java with netbeans but i don't know  how. please can you help me? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 20, 2016, 7:17 PM",
          "AuthorName": "mariam cherif",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2049926&course=5",
          "role": [
            "Picture of mariam cherif"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External services - unable to add functions",
          "Text": "I've tried to run through the test this webservice under developer tools and for some reason I keep getting the error below. I created a token 3 days ago. Could it be that? < EXCEPTION class=\"webservice_access_exception\"> <ERRORCODE>accessexception</ERRORCODE> <MESSAGE>Access control exception</MESSAGE> <DEBUGINFO>Access to the function moodle_user_create_users() is not allowed. There could be multiple reasons for this: 1. The service linked to the user token does not contain the function. 2. The service is user-restricted and the user is not listed. 3. The service is IP-restricted and the user IP is not listed. 4. The service is time-restricted and the time has expired. 5. The token is time-restricted and the time has expired. 6. The service requires a specific capability which the user does not have. 7. The function is called with username/password (no user token is sent) and none of the services has the function to allow the user. These settings can be found in Administration &gt; Site administration &gt; Plugins &gt; Web services &gt; External services and Manage tokens.</DEBUGINFO> </EXCEPTION>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 31, 2016, 3:07 AM",
          "AuthorName": "Rob Mitchell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2071700&course=5",
          "role": [
            "Picture of Rob Mitchell"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External services - unable to add functions",
          "Text": "Rob, usually this just means you haven't added access to the particular function in your web service, or your user is not one of the authorized users.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 16, 2016, 2:59 AM",
          "AuthorName": "Joshua Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1947703&course=5",
          "role": [
            "Picture of Joshua Smith"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 331393,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=331393",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "New custom field on Moodle API",
          "Text": "Hi, I'm working with Moodle Web Services and API on my project, using XML -RPC, and let's say I need to add a new custom field to a table from Moodle database , like 'mdl_course_categories'. Is there any way the Moodle API see this new field?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 12, 2016, 9:02 PM",
          "AuthorName": "Luis Oliveira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2035635&course=5",
          "role": [
            "Picture of Luis Oliveira"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 330810,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=330810",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Help needed to kick start Moodle Android app",
          "Text": "Hi Everyone, I have a Moodle LMS site and now looking to provide access to the students right on their mobiles. I know, there is a phonegap based app but I am looking to design & develop a native Android app. I have already implemented the design and now need some inputs to kick start integration with online LMS. I have enabled my online site for mobile access. My curiosity is how to Connect and Authenticate the users from app? I am looking for Rest or Soap based Login API to authenticate. Can someone give me inputs? Thanks, Singh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 1, 2016, 9:25 PM",
          "AuthorName": "Pal Ahuja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2073126&course=5",
          "role": [
            "Picture of Pal Ahuja"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 330100,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=330100",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Services Authorization by Role",
          "Text": "I see that users need to be authorized for use of web services.  Is there any way to authorize by role? My intent is for all teachers to be authorized to use the web service.  In this way, periodic disconnected functionality can be performed.  It would be a pain to authorize teachers one at a time. Alternatively, is there a core (or other) web services function that can be used to authorize an individual user (teacher) to use the web services? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 18, 2016, 10:26 PM",
          "AuthorName": "Scott Dickson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2065307&course=5",
          "role": [
            "Picture of Scott Dickson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 325494,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=325494",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Access \"Last access to course\" via the Web services Api",
          "Text": "I'm using Moodle 2.8.9 (20151204). As the instructor, I can go to: Home > My courses > Miscellaneous > Course101 > Participants Looking at the \"Last access to course\" column gives me the information I want. I'm trying to find this same information via the api, but I'm coming up short. I expected to see this via the \"core_enrol_get_enrolled_users\" web service function.  However, I only see the site (LMS) last access date, and not the course last access date.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 5, 2016, 4:44 AM",
          "AuthorName": "Daniel Bower",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2037768&course=5",
          "role": [
            "Picture of Daniel Bower"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Access \"Last access to course\" via the Web services Api",
          "Text": "Hi Daniel and others, I am actually looking for the same. Did you have any luck? Anyone else any ideas? best, Frank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 7, 2016, 9:55 PM",
          "AuthorName": "Frank Leone",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1972041&course=5",
          "role": [
            "Picture of Frank Leone"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Access \"Last access to course\" via the Web services Api",
          "Text": "I ended up having to write a plugin to get the data that I wanted. This is the part that I used to determine last logins for a course: \n```text\n        // fetch last logins\n\n\n        $lastLogin\nSql\n = \"select mu.email, mula.timeaccess\n\n\n                from {user_lastaccess} mula\n\n\n                  inner join {user} mu on mula.userid = mu.id\n\n\n                  inner join {course} mc on mc.id = mula.courseid\n\n\n                where mc.id = :courseid\";\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 7, 2016, 10:37 PM",
          "AuthorName": "Daniel Bower",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2037768&course=5",
          "role": [
            "Picture of Daniel Bower"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Access \"Last access to course\" via the Web services Api",
          "Text": "Thanks! Me too actually, like this: public function get_last_access($course, $USER) { global $DB; $lastaccess = $DB->get_field('user_lastaccess', 'timeaccess', array('courseid' => $course->id, 'userid' => $USER->id)); return $lastaccess; } Maybe useful for others.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2016, 4:29 PM",
          "AuthorName": "Frank Leone",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1972041&course=5",
          "role": [
            "Picture of Frank Leone"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 193857,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=193857",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Get user token",
          "Text": "Hi, I have done a web service to create users using the standard web service ' moodle_user_create_users', now I want to identify users who can access this web service requiring user name and password, if  I get a token then the user can create users using this web service. I am using Moodle 2.2 and I have seen this help, How to get a user token Moodle 2.2 Your client can call the script located in /login/token.php with a simple HTTP request. We highly recommend to do it securely with HTTPS. The required parameters are: username password service shortname - The service shortname is usually hardcoded in the pre-build service (db/service.php files). Moodle administrator will be able to edit shortnames for service created on the fly: MDL-29807 . If you want to use the Mobile service, its shortname is moodle_mobile_app. Also useful to know, the database shortname field can be found in the table named external_services. Call: \n```text\nhttps://www.yourmoodle.com/login/token.php?username=USERNAME&password=PASSWORD&service=SERVICESHORTNAME\n //Moodle mobile service shortname => moodle_mobile_app\n```\n Get in return: `{token:4ed876sd87g6d8f7g89fsg6987dfh78d}` Difference between Moodle versions Moodle 2.2 and later: the script can generate user tokens for any service shortname (of course users must be allowed on the service, see How to create and enable a web service ). Moodle 2.1: the script can only generate tokens for the official built-in mobile service. However the script can returns tokens for other services, they just need to have been previously generated. About service shortname At the moment a service can have a shortname if you: create the service as a built-in service (in db/services.php files) add the shortname manually in the DB. Note: we'll add the admin UI for shortname later ( MDL-30229 ) Then I have added the below code in the field  'db/services.php files', 'moodle_webservice_get_token' => array( 'classname' => 'core_webservice_external', 'methodname' => 'get_user_token', 'classpath' => '/login/token.php', 'description' => 'Return token', 'type' => 'read', ), but I can't see in Moodle the new funtction, I think I have to do the last step, 'add the shortname manually in the DB', but I don't know how to do this. Any help would be appreciated. Best Regards.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 15, 2012, 2:19 AM",
          "AuthorName": "Nico L.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1409324&course=5",
          "role": [
            "Picture of Nico L."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get user token",
          "Text": "Hi Nico. I don't know about shortnames, but I may know why you can't see your new function in Moodle. If you change db/services.php , or any other part of your plugin, then I think Moodle only notices the change if you also increment  $plugin->version  in version.php . I recently posted the details of how I implemented a simple Web-service function that doubles its argument, in http://moodle.org/mod/forum/discuss.php?d=193789#p844079 . In that posting, I explained how I needed to update version.php before Moodle would notice my changes to the plugin. I don't know what Moodle does if you don't have a version.php . In my Web services, I copy the one from the example \"Hello World\" Web service (which I posted detailed instructions for at http://moodle.org/mod/forum/discuss.php?d=193772#p844036 ). And I increment each time I edit the plugin. I then go to Site administration > Notifications, and Moodle always shows the new plugin and asks me to press the Upgrade button to reinstall it. Jocelyn",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://www.j-paine.org/dobbs/moodle3_665.gif"
          ],
          "Time": "Sunday, January 15, 2012, 5:15 AM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get user token",
          "Text": "Thanks Jocelyn, now I know how to add a new function updating the file 'version.php', but I have seen is obligatory to fill a classname before update the DB. Moodle documentation says I must use script ' /login/token.php', but this script does not include a class, perhaps I have to implement a new class an include code from script 'token.php'. I want to be sure before do it. Can anyone help me? Thanks in advance. Best regards.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 15, 2012, 9:24 PM",
          "AuthorName": "Nico L.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1409324&course=5",
          "role": [
            "Picture of Nico L."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get user token",
          "Text": "Hi Nico, /login/token.php should be called by your client with a simple https request (or http if not secured, but really not recommended when username/password are in transit). The script has been designed for workflow like this: 1- an user uses your mobile/web app 2- the user enters his username/password into the app 3- the app calls the Moodle script sending the username/password (simple HTTP/HTTPS request - GET/POST/ AJAX /curl/...) 4- Moodle sends back the token ( JSON format)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 3:27 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get user token",
          "Text": "Nice one, I have one question \n```text\nhttps://www.yourmoodle.com/login/token.php?username=USERNAME&password=PASSWORD&service=SERVICESHORTNAME\n //Moodle mobile service shortname => moodle_mobile_app\n```\n Get in return: `{token:4ed876sd87g6d8f7g89fsg6987dfh78d}` here we can create external service from moodle , then how we can identify that this user have assign this service , because in above URL we need to fill parameter of service moodel_mobile_app for example i create service for student with name Moodle_student and fort teacher Moodle_teacher , here how to set service name for teacher and student dynamically https://www.yourmoodle.com/login/token.php?username=USERNAME&password=PASSWORD&service= Moodle_student https://www.yourmoodle.com/login/token.php?username=USERNAME&password=PASSWORD&service= Moodle_teacher how to check run time ? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 22, 2016, 5:44 PM",
          "AuthorName": "Trushal Shah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2054233&course=5",
          "role": [
            "Picture of Trushal Shah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get user token",
          "Text": "Ahah I love it I updated the doc metionning it: http://docs.moodle.org/dev/Web_services_API#services.php",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, January 23, 2012, 3:32 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get user token",
          "Text": "Thanks Jerome, I got it, but one last question, now I am using a token to call my service to read the user token, but, I think is not a good idea to harcode the admin user and this token in the side cliente webservice. Is it possible to call a webservice without use a token? Now I have done this, var token = \"fddca90ce29536c3e7359d5c065bcf90\"; var domainName = \"http://localhost\"; var urlParameters = \"username=\" + usuario.value +\"&password=\" + password.value + \"&serviceshortname=CreateUsers\"; var functionName = \"moodle_webservice_get_token\"; var serverurl = domainName + \"/webservice/rest/ server .php\" + \"?wstoken=\" + token + \"&wsfunction=\" + functionName; Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 29, 2012, 8:54 PM",
          "AuthorName": "Nico L.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1409324&course=5",
          "role": [
            "Picture of Nico L."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get user token",
          "Text": "Hi Nico, in most use cases, you should not have to hardcode a token, neither username/password. However you most likely want to store the token. You can have a look to Juan's HTML5 app . The app retrieves a token from the username/password and then store it. Then the app calls all web service functions with this token. The javascript code to retrieve a token and make a first web service call is around there . Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 30, 2012, 11:36 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get user token",
          "Text": "Hello Jerome, I'm trying to retrieve a token using my android app but unable to do it as it gives the following respose: error: unsupported redirect detected, script execution terminated. Please help..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 13, 2012, 3:19 AM",
          "AuthorName": "Javeria Qamar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1475508&course=5",
          "role": [
            "Picture of Javeria Qamar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get user token",
          "Text": "Hi Nico Thanks for this clear instruction. My team got a weird problem when applying this. We use this API to get user token, we pass in username and password. But regardless of what password we use (even the wrong ones), correct token for this user is still returned! Only when we don't pass in password then return message will say we have no permission to perform this action. That's definitely not right. Could there be some settings somewhere that we misconfigured? Otherwise our system is open for intruders who only need to know some usernames. The Tool we use to test this is POSTER plugin for Firefox . Our test system runs on localhost. Thanks for your help. Joseph",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 12, 2014, 1:05 PM",
          "AuthorName": "Joseph Pham",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1803511&course=5",
          "role": [
            "Picture of Joseph Pham"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get user token",
          "Text": "I also had the problem that I could not use token.php to get a user token.. It appeared to be that I had a password for the user containing non-alphanumerical characters. This caused a UTF-8 problem. In the settings I changed the requirement that a password must contain 1 non-alphanumeric character, so I could give the webservice user a alphabetic password. token.php worked OKE after that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 10, 2015, 3:45 AM",
          "AuthorName": "Bart Van Leeuwen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1874698&course=5",
          "role": [
            "Picture of Bart Van Leeuwen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 328290,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=328290",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Send information to an external web service when the attempt of a quiz finishes",
          "Text": "Hello friends! I have a big question several days ago but I have not managed to get the answer. I need that when a user finishes his attempt at a quiz certain information be sent to an external web service. I do not know how to do it and I think I should use the event quiz_attempt_submitted but at this point I'm not sure of anything. I hove you can help me, thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 18, 2016, 5:32 AM",
          "AuthorName": "Angie Mariño",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1879096&course=5",
          "role": [
            "Picture of Angie Mariño"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 224809,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=224809",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Error while calling core_user_create_user",
          "Text": "Hi, We have Moodle 2.3. When i call the web service core_user_create_users, I have this error : {\"exception\":\"moodle_exception\",\"errorcode\":\"auth_ldap_noconnect_all\",\"message\":\"Le module LDAP ne peut pas se connecter \\u00e0 aucun des serveurs No LDAP Host URL , Version or User Type specified in your LDAP settings\"} users[0][username]=dboudreault users[0][firstname]=david2 users[0][lastname]=mika users[0][email]=test.test@test.com users[0][auth]=cas users[0][password]=not cached users[0][lang]=fr_ca I think that this case is similar to https://tracker.moodle.org/browse/MDL-16168 But we have Moodle 2.3 and MDL-16168 is corrected. Can someone help me ? And how can i set the field mdl_user.trackforums via the service web ? If I check the API, we dont have a parameter \"trackforums\" for this field. core_user_create_users Structure générale list of ( object { username string //Username policy is defined in Moodle security config. Must be lowercase. password string //Plain text password consisting of any characters firstname string //The first name(s) of the user David",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://athenap.enap.ca/moodle/theme/image.php/standard/core/1361374305/t/expanded"
          ],
          "Time": "Monday, March 18, 2013, 11:30 PM",
          "AuthorName": "David boudreault",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1394598&course=5",
          "role": [
            "Picture of David boudreault"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error while calling core_user_create_user",
          "Text": "Step 1 :  Your service has this function \" core_user_create_users \" yet. Step 2: You must check your Permission \" moodle/user:create \" That is 2 step important you must do Also have a lot of things you must check....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 30, 2013, 10:24 PM",
          "AuthorName": "Json Chau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1550897&course=5",
          "role": [
            "Picture of Json Chau"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error while calling core_user_create_user",
          "Text": "Hi i'm begginer  im writing code for core_user_create_users() in java using f.Promise its ask for response function bt,im getting some error. can anybody send sample code for core_user_create_users()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 4, 2016, 9:38 PM",
          "AuthorName": "tamil selvi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2049969&course=5",
          "role": [
            "Picture of tamil selvi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error while calling core_user_create_user",
          "Text": "Hello, I don't know why but I wrote a message here some minutes ago and it seems that has been deleted. I have the same problem with versions Moodle 2.5+ (Build: 20130530) and Moodle 2.3.2+ (Build: 20121005) while I try to add user with webservice. I am getting error: <EXCEPTION class=\"moodle_exception\"> <ERRORCODE>auth_ldap_noconnect_all</ERRORCODE> <MESSAGE>El módulo LDAP no puede conectarse a ninguno de los servidores: No LDAP Host URL, Version or User Type specified in your LDAP settings</MESSAGE> </EXCEPTION> I do not have LDAP configured because I do not need it. I only have CASON and manual accounts, that are working fine. Does anybody use the webservice to create users with auth=cason ? I have all permissions correctly and I am using other webservices functions without having issues.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 18, 2013, 7:09 PM",
          "AuthorName": "Adrián Rodríguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1454583&course=5",
          "role": [
            "Picture of Adrián Rodríguez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error while calling core_user_create_user",
          "Text": "I've got the same issue. Definitely a bug for those who would like to use CAS and Web Services without configuring LDAP. Any update? Did you manage to solve the issue? What did you do? Cheers, Tim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 19, 2013, 4:01 PM",
          "AuthorName": "Tim Marwick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1635415&course=5",
          "role": [
            "Picture of Tim Marwick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error while calling core_user_create_user",
          "Text": "I think I have found the cause of this problem, and I have filed a bug with a proposed solution: https://tracker.moodle.org/browse/MDL-41293",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 19, 2013, 7:39 PM",
          "AuthorName": "David Jorm",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1635529&course=5",
          "role": [
            "Picture of David Jorm"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 327509,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=327509",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Update group Webservice",
          "Text": "Hi! I am working on a moodle wrapping application, by using moodle webservices. I need to maintain categories, courses, users, and groups. I found almost all the webservices I needed, but I still miss one of them. I would need to update an already-created group on a course, but I could not find webservice function for: core_group_update_group Following wsfunction exist: \n```text\ncore_group_create_groups\n\n\ncore_group_get_course_groups\n\n\ncore_group_delete_groups\n```\n Even for groupings update exists. I could not find either anybody missing update_groups ws. Is there any way I don't know to update a group via ws? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 4, 2016, 8:41 PM",
          "AuthorName": "Jorge Delgado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886207&course=5",
          "role": [
            "Picture of Jorge Delgado"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 322272,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=322272",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Enroll group of users to course from web services?",
          "Text": "Hi! I am looking to create users, add them to a group and then add that group to a course, all via the web services. I am already creating new users through the web services api. Looking at the documentation it seems like the following would do the trick: core_group_create_groups() -- create my group core_group_add_group_members() -- after i inject a user, i can add him/her to the group Now, which web service (if available?) is used to enroll a group of users to a course?, or should i be looking at cohorts instead? Please help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 28, 2015, 5:34 PM",
          "AuthorName": "marcel montel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1966384&course=5",
          "role": [
            "Picture of marcel montel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Enroll group of users to course from web services?",
          "Text": "Hi Marcel, It depends on the enrolment plugin that you want to use ( https://docs.moodle.org/29/en/Enrolments#Enrolment_plugins ), for example, for manual enrolments (will probably be the case) you have enrol_manual_enrol_users.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 9, 2015, 1:43 PM",
          "AuthorName": "David Monllaó",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=122326&course=5",
          "role": [
            "Picture of David Monllaó"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enroll group of users to course from web services?",
          "Text": "Thanks, it seems like i should make use of cohorts instead of groups though, since groups are course unique while cohorts are sitewide groups as i understand it. Looking for a way to enroll a cohort in a course via webservices now..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 1, 2016, 10:01 PM",
          "AuthorName": "marcel montel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1966384&course=5",
          "role": [
            "Picture of marcel montel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 324353,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=324353",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "assign  user to course problem",
          "Text": "Please help. My moodle 3.0 always return error when I want assign course to user. I did steps by this wizard: http://www.rumours.co.nz/manuals/using_moodle_web_services.htm I can list courses, list user, add user, but I can not assign course. Always I got error: \n```text\nArray\n(\n    [exception] => moodle_exception\n    [errorcode] => wsusercannotassign\n    [message] => You don't have the \npermission\n to assign this role (5) to this user (6) in this course(2).\n)\n```\n What is the problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 7, 2015, 4:51 PM",
          "AuthorName": "stan b",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2031313&course=5",
          "role": [
            "Picture of stan b"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: assign  user to course problem",
          "Text": "You need to assign the required permissions for that web service to the role that the webservice user has, if you have a look at plugins > web services > external > functions, and the function you are addressing, it will also tell you what capability is required.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 1, 2016, 9:58 PM",
          "AuthorName": "marcel montel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1966384&course=5",
          "role": [
            "Picture of marcel montel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 212523,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=212523",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Optional user field webservice",
          "Text": "How I can fill a optional user field (for example institution) using webservice. I try: 1) add parameter with key institution but I get error response; 2) with customfield I not have error but field is empty. Can help me? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 28, 2012, 2:29 PM",
          "AuthorName": "Dante Basile",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1465045&course=5",
          "role": [
            "Picture of Dante Basile"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Optional user field webservice",
          "Text": "For this at first you have to find the external function in services.php of Moodle which u r using, find out the methodname and classpath, classpath is the path of the methodname. You have to customize the method parameters. Example----> For core_user_create_users external function 'core_user_create_users' => array( 'classname' => 'core_user_external', 'methodname' => 'create_users', #method name 'classpath' => 'user/externallib.php', #path 'description' => 'Create users.', 'type' => 'write', 'capabilities'=> 'moodle/user:create', ), Have to customize----> public static function create_users_parameters() You will get help from the link http://docs.moodle.org/dev/Creating_a_web_service_and_a_web_service_function",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 30, 2012, 3:57 PM",
          "AuthorName": "Pinki Naskar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1494986&course=5",
          "role": [
            "Picture of Pinki Naskar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Optional user field webservice",
          "Text": "It seems strange to be allowed to add a first and last name 'phonetic' but not be allowed to add an instution or department when calling ' core_user_create_users '. Can anyone help?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 8, 2016, 11:19 PM",
          "AuthorName": "SVI eSolutions",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1299369&course=5",
          "role": [
            "Picture of SVI eSolutions"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 325051,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=325051",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Assignment creation",
          "Text": "can any body tell me how to create new assignment using web services api. i have got api for updating the grades of already created assignment, but i am not getting how to create new one. Please help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 21, 2015, 3:12 PM",
          "AuthorName": "Ankur Gupta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2035278&course=5",
          "role": [
            "Picture of Ankur Gupta"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Assignment creation",
          "Text": "Please reply. can anybody help me in this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 21, 2015, 7:16 PM",
          "AuthorName": "Ankur Gupta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2035278&course=5",
          "role": [
            "Picture of Ankur Gupta"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 264572,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=264572",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "REST Service core_course_create_courses",
          "Text": "I am trying to integrate Moodle with my student information system. When a course is created in the SIS, I want to pass the data onto Moodle. Here is my code: \n```text\nfunction moodle($title,$short_title,$course_sec,$desc,$sDate) {\n\t$token = _h(Hooks::get_option('moodle_token'));\n\t$domainname = _h(Hooks::get_option('moodle_install_url'));\n\t$functionname = 'core_course_create_courses';\n\t$restformat = 'json';\n\n\t$Moodle_course = new stdClass();\n\t$Moodle_course->fullname = $title;\n\t$Moodle_course->shortname = $short_title;\n\t$Moodle_course->categoryid = 1;\n\t$Moodle_course->idnumber = $course_sec;\n\t$Moodle_course->summary = $desc;\n\t$Moodle_course->summaryformat = 0;\n\t$Moodle_course->format = 'weeks';\n\t$Moodle_course->showgrades = 1;\n\t$Moodle_course->newsitems = 0;\n\t$Moodle_course->startdate = strtotime($sDate);\n\t$Moodle_course->numsections = '';\n\t$Moodle_course->maxbytes = 20971520;\n\t$Moodle_course->showreports = 1;\n\t$Moodle_course->visible = 1;\n\t$Moodle_course->hiddensections = '';\n\t$Moodle_course->groupmode = 1;\n\t$Moodle_course->groupmodeforce = 0;\n\t$Moodle_course->defaultgroupingid = 0;\n\t$Moodle_course->enablecompletion = 1;\n\t$Moodle_course->completionnotify = 1;\n\t$Moodle_course->lang = 'eng';\n\t$Moodle_course->forcetheme = '';\n\t$Moodle_course->courseformatoptions = '';\n\t$MoodleCourses = array($Moodle_course);\n\t$params = array($MoodleCourses);\n\t\n\t/// REST CALL\n\theader('Content-Type: text/plain');\n\t$serverurl = $domainname . '/webservice/rest/\nserver\n.php'. '?wstoken=' . $token . '&wsfunction='.$functionname;\n\trequire_once('curl.php');\n\t$curl = new curl;\n\t//if rest format == '\nxml\n', then we do not add the param for backward compatibility with Moodle < 2.2\n\t$restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:'';\n\t$resp = $curl->post($serverurl . $restformat, $params);\n\tprint_r($resp);\n\treturn $resp;\n}\nHooks::add_action('create_course_section','moodle',10,5);\n?>\n```\n However, I am getting the following error message, but I am not sure how to resolve it. Any help in the right direction is much appreciated. \n```text\n{\"exception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Invalid parameter value detected\",\"debuginfo\":\"Missing required key in single structure: courses\"}\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 25, 2014, 7:05 AM",
          "AuthorName": "Joshua Parker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1817877&course=5",
          "role": [
            "Picture of Joshua Parker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: REST Service core_course_create_courses",
          "Text": "Never mind, I got it working. Once I made a change to params: $params = array ( 'courses' => $MoodleCourses ); I could see some other errors that needed to be corrected, and afterwards it worked.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 25, 2014, 11:58 AM",
          "AuthorName": "Joshua Parker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1817877&course=5",
          "role": [
            "Picture of Joshua Parker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: REST Service core_course_create_courses",
          "Text": "Hi Joshua, I'm having trouble with this REST service too. I haven't written any code yet, I'm trying to call the web service directly using a Chrome extension called Postman (see screenshot). I've followed the instructions precisely to enable the service: enabled the web service enabled the REST protocol created a user and set their capability created a service and assigned the correct function and user created a token for the user However, when passing in my wstoken, wsfunction (core_course_create_courses) and moodlewsrestformat (json), and the following values: courses[0][fullname] = \"Get Started with Moodle\" courses[0][shortname] = \"01MOOD\" courses[0][categeoryid] = \"101\" (the category 101 does exist) I'm getting this error: Missing required key in single structure: courses. Can you tell me how you got past this error? What other errors did you resolve? I know this was a while ago but I can't seem to find much information (on forums or otherwise) about core_course_create_courses. Thanks in advance, Jerry",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1187023/moodle_course_error.png?forcedownload=1"
          ],
          "Time": "Thursday, December 4, 2014, 2:51 AM",
          "AuthorName": "Jerry Ahern",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1890045&course=5",
          "role": [
            "Picture of Jerry Ahern"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: REST Service core_course_create_courses",
          "Text": "Hello every posters, This worked: $token = 'You token' $domainname = 'http://localhost/moodle'; $functionname = 'core_course_create_courses'; $restformat = 'json'; //crear objeto de acuerdo a la estructura para crear Categoría en Moodle $curso = new stdClass(); $curso->fullname = 'Gilberto Mangones'; $curso->shortname ='Gm'; // This data no repeat in other side is inique $curso->idnumber = 27; // Remember is a consecutive, you problem was for that, you sould write a number $curso->visible = 1; $curso->categoryid = 6; // write number of category (1: Misellaneus) $modulos = array($curso); $params = array('courses' => $modulos); header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/rest/server.php' . '?wstoken=' . $token . '&wsfunction=' . $functionname; require_once(APPPATH . 'libraries/curl.php'); $curl = new curl; $restformat = ($restformat == 'json') ? '&moodlewsrestformat=' . $restformat : ''; $resp = $curl->post($serverurl . $restformat, $params); return $resp;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 10, 2015, 1:11 AM",
          "AuthorName": "Gilberto Mangones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2019031&course=5",
          "role": [
            "Picture of Gilberto Mangones"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: REST Service core_course_create_courses",
          "Text": "Hello, I have the same problem. I did the same but Im getting the error. What I am doing wrong? Could you help me? Thank you! \n```text\n$functionname \n= \n'core_course_create_courses'\n;\n\n\n\n\n$curs \n= \nnew \nstdClass();\n\n\n$curs\n->\nfullname \n= \n'Curs de prova WS'\n;\n\n\n$curs\n->\nshortname \n= \n'PWS'\n;\n\n\n$curs\n->\ncategory \n= \n17\n;\n\n\n\n\n$cursos \n= \narray\n(\n$curs\n);\n\n\n\n\n$params \n= \narray\n(\n'courses'\n=> \n$cursos\n);\n\n\n\n\n/// SOAP CALL\n\n\n$serverurl \n= \n$domainname \n. \n'/webservice/soap/server.php'\n. \n'?wsdl=1&wstoken=' \n. \n$token\n;\n\n\n\n\n$client \n= \nnew \nSoapClient(\n$serverurl\n);\n\n\ntry \n{\n\n\n    \n$resp \n= \n$client\n->__soapCall(\n$functionname\n, \n$params\n);\n\n\n} \ncatch \n(Exception \n$e\n) {\n\n\n    \nprint_r\n(\n$e\n);\n\n\n}\n\n\nif \n(\nisset\n(\n$resp\n)) {\n\n\n    \nprint_r\n(\n$resp\n);\n\n\n}\n```\n error: [function] => __soapCall [class] => SoapClient [type] => -> [args] => Array ( [0] => core_course_create_courses [1] => Array ( [courses] => Array ( [0] => stdClass Object ( [fullname] => Curs de prova WS [shortname] => PWS [category] => 17 ) )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 11, 2015, 8:00 PM",
          "AuthorName": "Raúl Chamorro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2032878&course=5",
          "role": [
            "Picture of Raúl Chamorro"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 324320,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=324320",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Calling parameters do not match signature",
          "Text": "Hi, please help, bacause I have some problem with function: core_user_get_users_by_field. This code works for me: header('Content-Type: text/plain'); $params = array('field' => 'email','values[0]'=>'....@....'); $restformat = ' xml '; $functionname = 'core_user_get_users_by_field'; $serverurl = $domainname . '/webservice/rest/ server .php'. '?wstoken=' . $token . '&wsfunction='.$functionname; require_once('./curl.php'); $curl = new curl; $restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat, $params);//, $params print_r($resp); but this not works: header('Content-Type: text/plain'); $functionname = 'core_user_get_users_by_field'; $params = array('field' => 'email','values'=>array('...@....')); $serverurl = $domainname . '/webservice/xmlrpc/server.php'. '?wstoken=' . $token; require_once('./curl.php'); $curl = new curl; $post = xmlrpc_encode_request($functionname, $params ); $resp = xmlrpc_decode($curl->post($serverurl, $post)); print_r($resp); Why? I have enabled all protocols. I also tried: array( $params ), array(array( $params )), but same problem. I found detailed error: \n```text\nfield => Scalar type expected, array or object received.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 7, 2015, 12:35 AM",
          "AuthorName": "stan b",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2031313&course=5",
          "role": [
            "Picture of stan b"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 322522,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=322522",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Save mod_assign_save_submission usign HTML form",
          "Text": "I would like to save an online text assigment, using a simple HTML form. I would like to save for each user logged in, but the API always saves in Admin user's assigment. The function is mod_assign_save_submission. Any idea?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 2, 2015, 8:00 PM",
          "AuthorName": "Manex Etxabe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1608038&course=5",
          "role": [
            "Picture of Manex Etxabe"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Save mod_assign_save_submission usign HTML form",
          "Text": "Hi Manex, mod_assign_save_submission is a web service function, so it is supposed to be called from an external client, if your form is external to moodle then yes, you should use that function, I'm guessing that the mod_assign function, internally, is using $USER, which is the admin when you calling the web service function using the admin user token, you should call it using the student token.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 9, 2015, 1:24 PM",
          "AuthorName": "David Monllaó",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=122326&course=5",
          "role": [
            "Picture of David Monllaó"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Save mod_assign_save_submission usign HTML form",
          "Text": "Thanks for answering The form is really within Moodle. But I do not know how to modify the assigments core. I've seen that you can get the student token using: https://www.yourmoodle.com/login/token.php?username=USERNAME&password=PASSWORD&service=SERVICESHORTNAME But I do not know the password",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 2, 2015, 12:02 AM",
          "AuthorName": "Manex Etxabe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1608038&course=5",
          "role": [
            "Picture of Manex Etxabe"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 255168,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=255168",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Access core_user_get_users_by_field service with token generated by token api",
          "Text": "I  have one problem with access some service to get user informations. I got the token on API service (/login/token.php?username=user&password=1234&service=moodle_mobile_app) and I can't access another service, the message showed is: \n```text\nAccess to the function core_user_get_users_by_field() is not allowed.\n```\n The URL I tried access is: webservice/rest/ server .php?wstoken=b2b206934e8142dede2afa3bd31ced75&wsfunction=core_user_get_users_by_field&moodlewsrestformat=json&field=username&values[0]=user Anyone can help me? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 27, 2014, 3:01 AM",
          "AuthorName": "Carlos Cavalcanti carloscavalcanti",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1752277&course=5",
          "role": [
            "Picture of Carlos Cavalcanti carloscavalcanti"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Access core_user_get_users_by_field service with token generated by token api",
          "Text": "Hi Carlos. Here are a few pictures that show you some steps to check the settings of your moodle . I'm also having problems with this service , my moodle works but returns nothing.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1123376/WebServices-1.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1123376/WebServices-2.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1123376/WebServices-3.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1123376/WebServices-4.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1123376/WebServices-5.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1123376/WebServices-6.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1123376/WebServices-7.png"
          ],
          "Time": "Monday, April 28, 2014, 10:01 PM",
          "AuthorName": "Julian Corrêa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1787350&course=5",
          "role": [
            "Picture of Julian Corrêa"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Access core_user_get_users_by_field service with token generated by token api",
          "Text": "Hello Carlos sir , it will work perfectly . use this link - https://github.com/moodlehq/sample-ws-clients/tree/master/PHP-XMLRPC try this code . <?php // file_name : client.php $token = 'f29f8b6b8e04bf2a883d28f2bad8f5a4'; $domainname = 'http://localhost/moodle'; $functionname = 'core_user_get_users'; //////// core_enrol_get_users_courses //////// //$user = new stdClass(); $user['key'] = 'userid'; $user['value'] = '2'; /// PARAMETERS - NEED TO BE CHANGED IF YOU CALL A DIFFERENT FUNCTION $params = array(array($user)); /// XML -RPC CALL print_r($params); header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/xmlrpc/server.php'. '?wstoken=' . $token; require_once('./curl.php'); $curl = new curl; $post = xmlrpc_encode_request($functionname, $params); $resp = xmlrpc_decode($curl->post($serverurl, $post)); print_r($resp); ?>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 24, 2015, 3:12 PM",
          "AuthorName": "surya singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2023666&course=5",
          "role": [
            "Picture of surya singh"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 323252,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=323252",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "(REST) core_user_get_users returns no user preferences",
          "Text": "I am working on a simple C# WS client using REST protocol. I successfully added an user with the optional user's preference (using core_user_create_users ). When I look into the database , I can see that the preference was inserted into the user_preferences table, but when I retrieve the very same user's data via core_user_get_users function, the response does not contain the preference (neither in JSON nor XML format). All other data seem correct. There is only an empty node in the XML response: \n```text\n(...)\n<KEY name=\"preferences\"><MULTIPLE>\n\n\n</MULTIPLE>\n\n\n</KEY>\n(...)\n```\n It happened with 2.9.2 and the recent 3.0 version, I haven't tried any other versions. Is this a bug or am I missing something (e.g. should I somehow 'register' the preference via admin's panel?).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 16, 2015, 7:33 PM",
          "AuthorName": "Tomasz Papież",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2024417&course=5",
          "role": [
            "Picture of Tomasz Papież"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: (REST) core_user_get_users returns no user preferences",
          "Text": "Hi Tomasz, core_user_get_users is internally using user_get_user_details, which only returns the current user preferences ( https://github.com/moodle/moodle/blob/master/user/lib.php#L540 )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 18, 2015, 12:11 PM",
          "AuthorName": "David Monllaó",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=122326&course=5",
          "role": [
            "Picture of David Monllaó"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Odp: Re: (REST) core_user_get_users returns no user preferences",
          "Text": "Oh, I indeed noticed I could get the preferences for the client's user. Thanks for clarification.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 18, 2015, 5:48 PM",
          "AuthorName": "Tomasz Papież",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2024417&course=5",
          "role": [
            "Picture of Tomasz Papież"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 321856,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=321856",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle API REST POST Error",
          "Text": "Hi guys, I'm having problems setting up the moodle API Rest web services, I've got no problems performing GET Requests, but when I perform POST Requests I get the following error: '<? xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"webservice_access_exception\"> <ERRORCODE>accessexception</ERRORCODE> <MESSAGE>Access control exception</MESSAGE> <DEBUGINFO>Access to the function core_course_create_categories() is not allowed. There could be multiple reasons for this: 1. The service linked to the user token does not contain the function. 2. The service is user-restricted and the user is not listed. 3. The service is IP-restricted and the user IP is not listed. 4. The service is time-restricted and the time has expired. 5. The token is time-restricted and the time has expired. 6. The service requires a specific capability which the user does not have. 7. The function is called with username/password (no user token is sent) Web services are enabled with REST protocol. I've set 2 users with API tokens and all permissions enabled, including the \"USE REST PROTOCOL\" and they are both failing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 20, 2015, 5:39 PM",
          "AuthorName": "Helder Carvalho",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2004431&course=5",
          "role": [
            "Picture of Helder Carvalho"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle API REST POST Error",
          "Text": "Hi Helder, Sorry for the late reply, you probably already solved it; discarding what you commented about I would look at #1 (The service linked to the user token does not contain the function)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 9, 2015, 1:40 PM",
          "AuthorName": "David Monllaó",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=122326&course=5",
          "role": [
            "Picture of David Monllaó"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 322617,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=322617",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Issue while trying to access Moodle restful web service",
          "Text": "URL : http://localhost/moodle/webservice/rest/ server .php/?wstoken='c05f1bf389c771a41736aed9443a9620'&wsfunction='core_course_get_courses' content type: application/json method: GET Result: <? xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"moodle_exception\"> <ERRORCODE>invalidtoken</ERRORCODE> <MESSAGE>Invalid token - token not found</MESSAGE> </EXCEPTION> I am getting the following exception if I try to access moodle restful api, I have done all the initial setup required to access the restful api's . I any one have solution for this please let me know through this post.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 4, 2015, 12:35 PM",
          "AuthorName": "Manideep Manda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2019862&course=5",
          "role": [
            "Picture of Manideep Manda"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Issue while trying to access Moodle restful web service",
          "Text": "Hi Manideepm, Try removing these quotes around wstoken and wsfunction values. Is it working?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 9, 2015, 1:25 PM",
          "AuthorName": "David Monllaó",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=122326&course=5",
          "role": [
            "Picture of David Monllaó"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 282770,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=282770",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Create assignment or Create Grade via Web Service",
          "Text": "Hey All, I'm attempting to send student grades from an external application into Moodle (2.8+) but I haven't figured out how to do this as of yet.  It seems like the web services that exist to send grades require an assignment and there is no way to create an assignment in the web services.  Is this correct? I guess the work around would be to create a plugin to create the assignment? Any thoughts on how to handle this with the native web services?  I guess there is no direct access into the grade book that doesn't require an assignment? Thanks, Jared",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 27, 2015, 3:47 AM",
          "AuthorName": "Jared Wellman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1922345&course=5",
          "role": [
            "Picture of Jared Wellman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Create assignment or Create Grade via Web Service",
          "Text": "Hi Jared, did you figure this out?  I've been poring over the API docs, but can't see how to create a grade column (or an assignment) from a remote LMS. Thanks, Mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2015, 1:26 AM",
          "AuthorName": "Mike Warner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=388812&course=5",
          "role": [
            "Picture of Mike Warner"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 321800,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=321800",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Enroll users in a course. Help!",
          "Text": "Hi!! I want to enroll users in a moodle course with de API. I use this function, but not working I use other function to create users, it has the same format and it is working perfectly. Please, I need help. Thank!!! Error: string(636) \"\n\nenrol_manual_enrol_users\n\nroleid\n\n5\n\nuserid\n\n36\n\ncourseid\n\n3\n\n\"\nstring(43) \"Moodle error: Unknown error Fault code: 404\" function enrollUser($user_id, $course_id) { $params = array(array(array('roleid'=>'5', 'userid'=>$user_id, 'courseid'=>$course_id))); $request = xmlrpc_encode_request('enrol_manual_enrol_users', $params, array('encoding'=>'UTF-8')); $ context = stream_context_create(array('http' => array( 'method' => \"POST\", 'header' => \"Content-Type: text/ xml \", 'content' => $request ))); $path = $this-> server .$this->dir.\"/webservice/xmlrpc/server.php?wstoken=\".$this->token; $file = file_get_contents($path, false, $context);",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Monday, October 19, 2015, 5:23 PM",
          "AuthorName": "anne anne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2013921&course=5",
          "role": [
            "Picture of anne anne"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Enroll users in a course. Help!",
          "Text": "Hi anne, Try with https://github.com/moodlehq/sample-ws-clients/blob/master/PHP-XMLRPC/client.php example to discard any format error, for what I see it uses an array of objects instead of an array of arrays.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 20, 2015, 1:53 PM",
          "AuthorName": "David Monllaó",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=122326&course=5",
          "role": [
            "Picture of David Monllaó"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enroll users in a course. Help!",
          "Text": "But.. that example is to create users, its works perfectly like my other function. I dont know how to adapt it to my case",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Tuesday, October 20, 2015, 2:42 PM",
          "AuthorName": "anne anne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2013921&course=5",
          "role": [
            "Picture of anne anne"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 234082,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=234082",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to get all assignments for a course.",
          "Text": "I'm working on a REST client to do some student analytics.  I can get a list of all of the courses via core_course_get_courses, and I can get a list of all of the users in each course via core_enrol_get_enrolled_users.  However, the next step, getting all of the assignments in a course, seems to be done via mod_assign_get_assignments, but this function appears to be extremely limited and intended for students and teachers only. For example, here's the results I get with various combinations of parameters: wsfunction=mod_assign_get_assignments&courseids[]=1 Yields error message \"User is not enrolled or does not have requested capability\".  This is technically correct; the admin user the token is assigned to isn't enrolled. wsfunction=mod_assign_get_assignments&courseids[]=1&capabilities[]=moodle/grade:edit Yields the same error message.  This one is confusing, because the documentation suggests that specifying capabilities might override the user, but in any case the admin user has all capabilities and so should be able to get assignments this way. I'm guessing mod_assign_get_assignments just isn't the right tool for the job, but does another tool exist?  It must be available through a web service (as this is to be fully automated) and it has to have all assignments, not just those belonging to the user with the API key specified. wsfunction=mod_assign_get_assignments&courseids[]=1&capabilities[]=moodle/grade:edit",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 10, 2013, 4:20 AM",
          "AuthorName": "George Dorn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1629900&course=5",
          "role": [
            "Picture of George Dorn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to get all assignments for a course.",
          "Text": "Having the same problem - did you ever find a solution? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 12, 2014, 5:36 PM",
          "AuthorName": "Alessandro Forghieri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=780247&course=5",
          "role": [
            "Picture of Alessandro Forghieri"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to get all assignments for a course.",
          "Text": "And again. If Web Service user is enrolled to some course the mod_assign_get_assignments returns data, otherwise it returns {\"courses\":[],\"warnings\":[{\"item\":\"course\",\"itemid\":3,\"warningcode\":\"2\",\"message\":\"User is not enrolled or does not have requested capability\"}]} To enroll the Web Service user to all courses is inconsistent. So is there a solution to resolve the problem? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 23, 2015, 5:01 PM",
          "AuthorName": "Gennady Kolomoets",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1894890&course=5",
          "role": [
            "Picture of Gennady Kolomoets"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to get all assignments for a course.",
          "Text": "Has anyone found a solution for this yet?  I'm running into the same issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 18, 2015, 6:03 AM",
          "AuthorName": "Ryan VanAlstine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2009606&course=5",
          "role": [
            "Picture of Ryan VanAlstine"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 321535,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=321535",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "AMF protocol to contrib",
          "Text": "Hi all, We would be interested in knowing how many people is using AMF protocol. We are thinking of moving it to contrib. It has not been actively maintained for some releases, but we found no comments in moodle.org about it nor tracker issues reporting bugs. The conclusions are that, it is awesome and perfect or nobody uses it. We failed to make the AMF test client work in 29 and master (I've even tried in 2.0) what makes me think that nobody is using it. We know of people using REST, XML -RPC and SOAP with Java , anyone using AMF? Thanks in advance, David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 14, 2015, 3:00 PM",
          "AuthorName": "David Monllaó",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=122326&course=5",
          "role": [
            "Picture of David Monllaó"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: AMF protocol to contrib",
          "Text": "Hi David, I maintain the SWF Activity Module: https://moodle.org/plugins/view.php?plugin=mod_swf In Moodle 1.9, I couldn't get the Zend AMF library to work and so used amfPHP ( http://www.silexlabs.org/amfphp/ ) instead. However, something in Moodle 2.x breaks when used with amfPHP; the $USER object fails to instantiate correctly; and I couldn't find a fix. Since then I've been relying on URLVariables; not as powerful and flexible as AMF but at least they work. Some members of the Moodle community can be decidedly hostile towards ActionScript and Flash which I think tends to drive away would-be adopters. I don't think that the Zend AMF library in Moodle would be missed. Just my €0.02!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, October 15, 2015, 10:58 PM",
          "AuthorName": "Matt Bury",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=462936&course=5",
          "role": [
            "Picture of Matt Bury",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 314784,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314784",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Export certain Profile data to Wordpress or create an API",
          "Text": "Hi! We need to export certain profile information to Wordpress or another type of database on a daily basis. We are looking to create a webservice or API that allows another website to access Name, Email address, User Creation date, User login date and another profile field from our database. The user would already have an account at the other website; so the e-mail addresses would match up between the two so we could have the information flow freely. Does anybody have any suggestions on how to have another website have access to Profile field information? This is similar to Joomdle for Joomla, except we don't need user creation or course displays, but only profile information. All help is appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 7, 2015, 10:45 AM",
          "AuthorName": "Jim Johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=583608&course=5",
          "role": [
            "Picture of Jim Johnson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Export certain Profile data to Wordpress or create an API",
          "Text": "Hi Jim, I need to do a similar work. Did you have any success on working with wordpress and moodle. I'm trying to retrieve some profile and courses where the user is enrolled from moodle database to a Wordpress Frontend. Did you find any solution o any clue to start from there? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 27, 2015, 10:29 PM",
          "AuthorName": "Alejo de M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1599950&course=5",
          "role": [
            "Picture of Alejo de M"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Export certain Profile data to Wordpress or create an API",
          "Text": "Hi guys, i want to export the profile after the student  login.Is this can be possible with moodle. if you have any suggestions or solution then please let me know. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 9, 2015, 5:17 PM",
          "AuthorName": "jais taneja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2001568&course=5",
          "role": [
            "Picture of jais taneja"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 321152,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=321152",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to get password from username (Rest web service)?",
          "Text": "Currently I have a Java application that operates through REST web services . I need to validate login and password but can not find appropriate web service in Moodle. I was using \" core_user_get_users\" but I do not get password. Is there a web service to obtain a user's password ? Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 7, 2015, 3:42 AM",
          "AuthorName": "Ives Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2008295&course=5",
          "role": [
            "Picture of Ives Green"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 320533,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=320533",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle mobile app themes",
          "Text": "I have created a new the theme for moodle mobile app check it out http://greengoldventures.com/css.css",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 25, 2015, 12:10 AM",
          "AuthorName": "wanjiru josphat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2002279&course=5",
          "role": [
            "Picture of wanjiru josphat"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 319558,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=319558",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "using web service from one moodle to another moodle",
          "Text": "I'm new with moodle and my senior ask me to do something. I'm using two moodle. One moodle for the student study at home, I called it moodle study, and one moodle for the test, I call it moodle test. The moodle test running on local server so the student won't do the test outside the laboratory.But I want to make the student can see their test score from moodle test through the moodle study. I'm thinking of using a gradebook plugin on moodle study which return the test score from moodle. Can I use moodle webservice to get the score value? If I can, what thing should I do first? Sorry for my bad english. And thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 8, 2015, 12:07 PM",
          "AuthorName": "Juwita W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1963755&course=5",
          "role": [
            "Picture of Juwita W"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: using web service from one moodle to another moodle",
          "Text": "Hello, I've worked with a similar project. The solution we use is to export a backup file to the \"study moodle\". More technically, you can take a look at https://tracker.moodle.org/browse/MDL-47776 The whole project description and documentation is at: https://gitlab.setic.ufsc.br/moodle-provas/blocks-exam_actions/wikis/moodle_provas It's written in Brazilian portuguese, but if you have interest, we can make an english version. Basically, we have the same division of \"study moodle\" and \"test moodle\" that we call \"remote moodle\" and \"exam moodle\", repectively. We have developed 3 plugins so you can link how many \"study moodles\" you want and automagically create \"exam courses\" in \"exam moodle\" for the courses you have at your \"study moodles\" (the courses are created with the same name and the enrols are synced), there are capabilities mapping for which people in each user can create these courses, monitor the exam (log in into moodle during the exam time) and take the exam. We also use a custom Ubuntu distribution that boots up from a pendrive, a cd-rom or remote via local network, and only gives users a browser the can only access the exam moodle IPs, and user cannot access any media from the machine, unless some minor configurable exceptions. The plugins also implements a \"temporary key\" feature that is generated by the exam monitor at the time of the exam that students must provide to authenticate along with its usual username and password. It is all open source and it will be great to share it with a bigger community. Kind regards, Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 9, 2015, 1:21 AM",
          "AuthorName": "Daniel Neis Araujo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=32985&course=5",
          "role": [
            "Picture of Daniel Neis Araujo",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: using web service from one moodle to another moodle",
          "Text": "Hi Daniel, I interest with your plugin. I would like to read the English version to know if I can implement it on the system. Thank you, Daniel for your answer. Regards, Juwita",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 9, 2015, 3:37 PM",
          "AuthorName": "Juwita W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1963755&course=5",
          "role": [
            "Picture of Juwita W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: using web service from one moodle to another moodle",
          "Text": "Hello, here is a brief explanation of how to install the \"Moodle Provas\" or \"Exam Moodle\" infrastructure: You will have to install a plugin called \"local-exam_remote\" in each \"study moodle\" or \"remote moodle\" you have. Here is the link to the repository: https://gitlab.setic.ufsc.br/moodle-provas/local-exam_remote/ Inside this plugin there is a file at cli/configure_remote.php , that you must set some options and run to finish the configuration of the plugin On the \"exam moodle\", you wil have to install two plugins: On block to create courses, sync users and perform other actions: https://gitlab.setic.ufsc.br/moodle-provas/blocks-exam_actions You must add this block to frontpage so exam monitors can authorize student computers to access the site and generate access keys and other actions. It is also good to  add this block as a default course block, so teachers don't have to add it manually. A local plugin to manage the authorization to courses from users from other moodles: https://gitlab.setic.ufsc.br/moodle-provas/local-exam_authorization There is also a repository with the livecd project and instructions how to configure it to point to your moodle and generate instructions: https://gitlab.setic.ufsc.br/moodle-provas/livecd-provas Here is the link to instructions on how to create the ISO: https://gitlab.setic.ufsc.br/moodle-provas/livecd-provas/wikis/GeracaoAutomatizadaDoLiveCD Let me know if you need help translating those info too. Kind regards, Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 16, 2015, 2:32 AM",
          "AuthorName": "Daniel Neis Araujo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=32985&course=5",
          "role": [
            "Picture of Daniel Neis Araujo",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 319749,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=319749",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Determining Cohorts that a User is a Member Of (Webservices)",
          "Text": "After researching the Moodle webservices, I can not seem to find one that will return a listing of what cohorts a given user is a member of. Am I missing something? We can use core_cohort_get_cohort_members to get the members for a specific cohort, but it wouldn't be very efficient to have to get the membership of all cohorts, and then parse through it looking for a single user. It appears we currently have: 2.4 - core_cohort_get_cohorts 2.4 - core_cohort_create_cohorts 2.4 - core_cohort_update_cohorts 2.4 - core_cohort_delete_cohorts 2.4 - core_cohort_get_cohort_members 2.4 - core_cohort_add_cohort_members 2.4 - core_cohort_delete_cohort_members",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2015, 9:14 AM",
          "AuthorName": "Scott Hardwick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120802&course=5",
          "role": [
            "Picture of Scott Hardwick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 263470,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=263470",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "core_user_create_users causes \"active database transaction detected during request shutdown\" errors",
          "Text": "Hi, Not entirely sure what the story with this is. The function works fine and there's no problems at all except every time I use it I get this lovely error filling up Apache 's error logs... \n```text\n[Mon Jul 07 11:39:58 2014] [error] [client 193.169.192.110] Potential coding error - active \ndatabase\n transaction detected during request shutdown:\\n\n\n\n• line 122 of /user/externallib.php: call to moodle_database->start_delegated_transaction()\\n\n\n\n• line 17 of /webservice/lib.php(1275) : eval()'d code: call to core_user_external::create_users()\\n\n\n\n• line ? of unknownfile: call to webservices_virtual_class_000000->core_user_create_users()\\n* \n\n\n• line 232 of /lib/zend/Zend/\nServer\n/Abstract.php: call to call_user_func_array()\\n* \n\n\n• line 599 of /lib/zend/Zend/XmlRpc/Server.php: call to Zend_Server_Abstract->_dispatch()\\n* \n\n\n• line 337 of /lib/zend/Zend/XmlRpc/Server.php: call to Zend_XmlRpc_Server->_handle()\\n* \n\n\n• line 1179 of /webservice/lib.php: call to Zend_XmlRpc_Server->handle()\\n* \n\n\n• line 55 of /webservice/xmlrpc/server.php: call to webservice_zend_server->run()\\n\n```\n What I can't decide on is - what could be causing this? If it's creating users just fine with the information it gets. Is there a problem with the webservice itself or the way it's being touched? Anyone with any thoughts?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, July 7, 2014, 6:55 PM",
          "AuthorName": "Dan Bennett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1514381&course=5",
          "role": [
            "Picture of Dan Bennett"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_user_create_users causes \"active database transaction detected during request shutdown\" errors",
          "Text": "Hi Dan, Did you happen to get this worked out? I am running into the same problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 11, 2014, 2:36 AM",
          "AuthorName": "Seth Chevalier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1357943&course=5",
          "role": [
            "Picture of Seth Chevalier"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_create_users causes \"active database transaction detected during request shutdown\" errors",
          "Text": "Hi, I had a similar problem with CAS authentication, launching moodle/auth/cas/cli/sync_users.php, exactly like in this thread . Problem resolved using more PHP memory (512M to 1024M in my case ; memory_limit=1024M) to execute this script, as explained in this discussion Séverin",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, September 7, 2015, 6:01 PM",
          "AuthorName": "Séverin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of Séverin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 318576,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318576",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle login after remote authentication",
          "Text": "Hello all, I have my own SSO system which I'd like to connect to Moodle. The flow I am interested in is: 0. user authenticates via SSO 1. user is automatically signed in to Moodle I\nhave looked into the webservices and was able to use that mechanism for\ncreating a Moodle account but its not quite what I want.. is there a\nway to use webservices so that, post authentication using my own SSO, a\ntoken is passed to Moodle and the user is logged in? Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 20, 2015, 1:37 AM",
          "AuthorName": "Jess Portnoy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1981744&course=5",
          "role": [
            "Picture of Jess Portnoy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle login after remote authentication",
          "Text": "I am not sure if the Web Services provide authentication services - I did a quick search through the functions under for \"auth\" or \"log\" and came back with nothing. I guess the proper way to do this would be to develop an auth plugin. I implemented a slightly more hacky version for the company I work for which I will describe below in case it is of assistance. Scenario User logs onto our bespoke web platform , when they click across to MOODLE they are background authenticated at that point (or new account created if they do not have a local MOODLE account). P rocess On login to our bespoke web platform cookie is assigned to user (this relies on shared sub domains - but other mechanisms could be substituted). When a user hits MOODLE config.php checks for this cookie - if present it makes note of page user was trying to go to and forwards user to custom background login page. Custom login page calls user details via our own web services using cookie as ID. User is loaded via a common id to both systems (we use id number as the shared field) using the MOODLE function : $user = get_complete_user_data('idnumber', $returned_id); If a result is returned then call MOODLE function complete_user_login($user); Following this the user is forwarded to the original page they were requesting. This is a replacement for a previous even hackier authentication method where on login to our bespoke system the username would be saved in a database with a guid key and then the user forwarded to a specific MOODLE key which would retrieve the user details from aforementioned database, used to log user into MOODLE, and then return user to bespoke system. Sorry if kind of track - but thought there might be a chance it is of use to you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 21, 2015, 3:41 PM",
          "AuthorName": "Nathan Mcilree",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=676895&course=5",
          "role": [
            "Picture of Nathan Mcilree"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle login after remote authentication",
          "Text": "Thank you, Nathan. Appreciate your reply. I suppose I will implement something similar. Too bad there's no way to achieve this using the webservices but.. such is life",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, August 22, 2015, 9:45 PM",
          "AuthorName": "Jess Portnoy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1981744&course=5",
          "role": [
            "Picture of Jess Portnoy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle login after remote authentication",
          "Text": "Just to update the thread in case anyone else is interested in a similar solution, what I ended up doing was: 0. use my SSO system to auth 1. use Moodle webservices to check whether a user with the same email as in the SSO system already exists and if not, create a proper user entry in Moodle's own DB 2. redirect to a custom page I created on the moodle end passing along a nonce param 3. on the custom page, the HTTP_REFERER is checked to verify it matches the SSO system and if not, die() is called 4. the nonce is checked to ensure its valid and die() is called is not 5. // Prohibit login if email belongs to the prohibited domain . if ($err = email_is_not_allowed($useremail)) { throw new moodle_exception($err, 'auth_kaltura_sso'); } $user = $DB->get_record('user',array('email' => $useremail, 'deleted' => 0, 'mnethostid' => $CFG->mnet_localhost_id)); complete_user_login($user); // redirect to moodle's index page with: header('location: https://my.moodle.index ');",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 25, 2015, 12:06 AM",
          "AuthorName": "Jess Portnoy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1981744&course=5",
          "role": [
            "Picture of Jess Portnoy"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 318257,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318257",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Are almost all Web Services very difficult for an individual to get a username for and pay for?",
          "Text": "Hi community, In a day or 2 of research, I am finding that there are a lot of Web Services and REST services out there for many things like Kelley Blue Book, Amazon, etc. Probably more than I would have guessed and many that I'd like to try out and use.  However, it also appears to me that almost every one of these services requires a fee, username, and password to be able to use it (which then gets included in the SOAP envelope, etc.). Take Kelley Blue Book for example.  They have a really nice set of Web Services that I'd love to use for an app I'm doing at home for fun (family budget stuff).  However, it seems I cannot use this without paying some kind of fee. What is the worst is that it seems that the only way to get such a username/password for many of these services is find out what the fee is by emailing the support email address listed on the site (i.e. programmableweb.com) only no one ever seems to email me back.  I'm happy to pay a basic fee, but I'm kind of stuck and frustrated. Am I way off course? Has this been your experience also? I would really love to get car prices and home repair/replacement costs from a web service or REST service ANYWHERE and am willing to pay, but alas.... Any ideas? Thanks, Ryan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 13, 2015, 11:04 PM",
          "AuthorName": "Ryan Atwood",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1979440&course=5",
          "role": [
            "Picture of Ryan Atwood"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 318054,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318054",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "how to use the webservice api to get the instance id?",
          "Text": "I am use the webservice api function(core_files_upload)to upload file.It has a filename \"instanceid\".which is the user id in mysql .Now i want to know is the webservice offer a api to get the instanceid ?If it has,what the function call?If it doesn't have,what should i do to got the instanceid? I am looking forward to your reply. Thank!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 10, 2015, 3:13 PM",
          "AuthorName": "json king",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1976224&course=5",
          "role": [
            "Picture of json king"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: how to use the webservice api to get the instance id?",
          "Text": "Moving to web services forum...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 10, 2015, 5:11 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 318053,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318053",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "[help]how to use the webservice api:core_files_upload",
          "Text": "Hi,i want to use the api:core_files_upload.but when i use it,moodle throw a execption as follow; <EXCEPTION class =\" moodle_exception \" > <ERRORCODE> nofile </ERRORCODE> I use a from to send the request ad fellow: \n```text\n<\nform \naction=\n\"../webservice/rest/\nserver\n.php\" \nmethod=\n\"get\"\n>\n\n\n    \n<\ninput \ntype=\n\"hidden\" \nname=\n\"wstoken\" \nvalue=\n\"1825cdb79d6197f84f0fea45163ca7ca\"\n>\n\n\n        \n<\ninput \ntype=\n\"hidden\" \nname=\n\"wsfunction\" \nvalue=\n\"core_files_upload\"\n>\n\n\n    \n<\ninput \ntype=\n\"hidden\" \nname=\n\"contextid\" \nvalue=\n\"2\"\n>\n\n\n    \n<\ninput \ntype=\n\"hidden\" \nname=\n\"component\" \nvalue=\n\"user\"\n>\n\n\n    \n<\ninput \ntype=\n\"hidden\" \nname=\n\"filearea\" \nvalue=\n\"private\"\n>\n\n\n    \n<\ninput \ntype=\n\"hidden\" \nname=\n\"itemid\" \nvalue=\n\"0\"\n>\n\n\n    \n<\ninput \ntype=\n\"hidden\" \nname=\n\"filepath\" \nvalue=\n\"/\"\n>\n\n\n    \n<\ninput \ntype=\n\"hidden\" \nname=\n\"filename\" \nvalue=\n\"test.jpg\"\n>\n\n\n    \n<\ninput \ntype=\n\"hidden\" \nname=\n\"filecontent\" \nvalue=\n\"base64_encode\"\n>\n\n\n    \n<\ninput \ntype=\n\"hidden\" \nname=\n\"contextlevel\" \nvalue=\n\"user\"\n>\n```\n the test.jpg's path is the same as the html file.If the filepath is false,can you tell me what can I change it to make it work? I'm looking forward to your reply!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 10, 2015, 2:26 PM",
          "AuthorName": "json king",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1976224&course=5",
          "role": [
            "Picture of json king"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: [help]how to use the webservice api:core_files_upload",
          "Text": "Moving to web services...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 10, 2015, 5:11 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 317362,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=317362",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "SCORM content & web service",
          "Text": "Hi All, I have moodle installed and added SCORM content to course. Now i want to get that SCORM content to another website using web service. Can anybody tell how it will be done? Is it possible or not? I have already tried lti_provider plugin but not getting anything. Please let me know if anyone can help me with this.. I am tired searching solution for this but got nothing. Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 27, 2015, 5:27 PM",
          "AuthorName": "pratik patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1974563&course=5",
          "role": [
            "Picture of pratik patel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: SCORM content & web service",
          "Text": "Hi, SCORM web services are under development, they will be integrated for 3.0 https://tracker.moodle.org/browse/MDL-29934 here you have a list of the SCORMS, they are all developed pending to be integrated (the one for retrieving the SCORM package is still pending) Regards, Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 29, 2015, 6:34 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SCORM content & web service",
          "Text": "Hi Juan, Thanks for the reply and information. If it is not available yet so i need to redirect user to moodle course page. For this can you please tell me can i make user login using web service? so user does not need to login again at moodle. Thanks in advance .. waiting for your reply.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 29, 2015, 7:13 PM",
          "AuthorName": "pratik patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1974563&course=5",
          "role": [
            "Picture of pratik patel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SCORM content & web service",
          "Text": "Hi, unfortunately you can't do SSO via Web Services, but if the user is already logged in a browser if you redirect the user to Moodle in the same browser it will be logged (since the cooki session is still valid) Regars",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 5:21 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SCORM content & web service",
          "Text": "Hi Juan, Thanks for the reply. Then my requirement is not fulfilled by web service. User does not know how to handle Moodle how can i redirect to moodle?? Also webservice not giving SCORM content. I think it is not useful for me. Thanks for your time. Regards, Pratik",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 5:18 PM",
          "AuthorName": "pratik patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1974563&course=5",
          "role": [
            "Picture of pratik patel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 316897,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=316897",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "session data refresh after grade post",
          "Text": "Hi, we've written a web service using the Grade API, to send a grade update to moodle from an external system via a web service call. Everything is working fine from the perspective of the grade making it to the correct place etc. Now whats not working, is the downstream conditional activites do not unlock, until the user re logs-in to the system. Is there a function /service we can call to make a logged in user refresh session data? a browser refresh doesn't seem to trigger it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 16, 2015, 9:28 PM",
          "AuthorName": "Abhi puri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=827446&course=5",
          "role": [
            "Picture of Abhi puri"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 265002,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=265002",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Moodle API to get Course Completion Data",
          "Text": "Hi everyone, I am looking for an API to get the course completed status for a student and the date the course was completed. It there is another way to access this information through a webservice please share this information. thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 1, 2014, 7:21 PM",
          "AuthorName": "Major Dads",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1806454&course=5",
          "role": [
            "Picture of Major Dads"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle API to get Course Completion Data",
          "Text": "Seconded. Is there any example code for this? Relevant service/function? Any relevant information would be much appreciated. Thank you very much. -Ryan Chausse",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 28, 2014, 9:12 AM",
          "AuthorName": "Ryan Chausse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1887876&course=5",
          "role": [
            "Picture of Ryan Chausse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle API to get Course Completion Data",
          "Text": "Wanted to update here: I have written two PHP functions to retrieve Course Completion data from Moodle. I'm surprised that Moodle's core API did not offer this functionality. I will submitting to Moodle soon in order to be included in the codebase for the next release.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 25, 2015, 6:27 AM",
          "AuthorName": "Ryan Chausse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1887876&course=5",
          "role": [
            "Picture of Ryan Chausse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle API to get Course Completion Data",
          "Text": "Ryan, would you be willing to share those PHP functions for us to use them?  It might take a while until they are integrated in Moodle core. In what version of Moodle did you test them or are using them? Please let me know, thank you very much!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 29, 2015, 3:39 AM",
          "AuthorName": "Sam Villamizar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1617584&course=5",
          "role": [
            "Picture of Sam Villamizar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle API to get Course Completion Data",
          "Text": "Hi Sam, Wanted to let you know that it appears that Moodle has included course_get_completions as a feature in Moodle 2.9. Link here: https://tracker.moodle.org/browse/MDL-49313 Sorry, we couldn't clean our implementation up in time to send it along publicly, but hopefully this helps you out. Cheers! Ryan Chausse",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 8, 2015, 7:37 AM",
          "AuthorName": "Ryan Chausse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1887876&course=5",
          "role": [
            "Picture of Ryan Chausse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle API to get Course Completion Data",
          "Text": "Yes, I believe my need goes along the same lines.  I need an API that will allow me to retrieve student data, midterm, and final grades in order to send them to our SIS. Any guidance regarding this need will be greatly welcome.  Thank you very much!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 22, 2015, 12:21 AM",
          "AuthorName": "Sam Villamizar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1617584&course=5",
          "role": [
            "Picture of Sam Villamizar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 316412,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=316412",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Add Course Activity/External Tool",
          "Text": "Hello, I am somewhat new to Moodle, but have successfully implemented the web services and have made various REST API calls to the system.  I was curious if there was a process or methods on actually creating a course With actual activities .  For example, if I wanted to create sections /topics/activities via the Moodle REST API, is this possible?  I am not seeing methods where this is readily available via a REST web service call. Any help is greatly appreciated, thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 8, 2015, 3:00 AM",
          "AuthorName": "Dave Whitehead",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1970058&course=5",
          "role": [
            "Picture of Dave Whitehead"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 316150,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=316150",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to update user using web services",
          "Text": "I am new to Moodle and I need to  to update the list of interests of a user with a Web service REST API,my code is : \"users[0][id]=\" + URLEncoder.encode( \"2\" , \"UTF-8\" ) + \"&users[0][interests]=\" + URLEncoder.encode( \"#okk\" , \"UTF-8\" ); Can someone please guide me? thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 3, 2015, 12:27 AM",
          "AuthorName": "elmehdi elfaik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1968794&course=5",
          "role": [
            "Picture of elmehdi elfaik"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 211185,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=211185",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "How to log in to  moodle through REST api from another web  application?",
          "Text": "I want to log in to moodle through REST api from another open source application. Please suggest me how  I will proceed. Thank You....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 12, 2012, 4:09 PM",
          "AuthorName": "Pinki Naskar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1494986&course=5",
          "role": [
            "Picture of Pinki Naskar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to log in to  moodle through REST api from another web  application?",
          "Text": "Hi Pinki, if you are asking about how to create a client using the REST protocol, there are few documentation links at top of this forum : http://moodle.org/mod/forum/view.php?id=6971 . Through them you should find enough information and examples. http://docs.moodle.org/dev/Web_services http://docs.moodle.org/dev/Creating_a_web_service_client https://github.com/moodlehq/sample-ws-clients",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 12, 2012, 5:42 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to log in to  moodle through REST api from another web  application?",
          "Text": "Thank You Jerome. I have tried it by the function core_webservice_get_site_info and it returns information of moodle sitename,username etc. But I want to get access in to moodle directly from a different web service which acts as client. The username and password of the moodle will be send from the client.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 12, 2012, 10:20 PM",
          "AuthorName": "Pinki Naskar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1494986&course=5",
          "role": [
            "Picture of Pinki Naskar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to log in to  moodle through REST api from another web  application?",
          "Text": "I posted to Moodle Tracker : https://tracker.moodle.org/browse/MDL-45279",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 26, 2014, 4:51 AM",
          "AuthorName": "Evan Donovan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=445872&course=5",
          "role": [
            "Picture of Evan Donovan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to log in to  moodle through REST api from another web  application?",
          "Text": "Hi Pinki Once the user is logged in, would you like them to be viewing their Moodle home page? In this case (I think) you just need to replicate in your own client the POST request produced by the Moodle login page. If you don't want them to wind up at the Moodle home page, what will you be doing with the login? Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 26, 2014, 5:47 AM",
          "AuthorName": "Andrew Solomon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3710&course=5",
          "role": [
            "Picture of Andrew Solomon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to log in to  moodle through REST api from another web  application?",
          "Text": "Hello, sorry to jump on this. I have the same question. We want have some public information with a link where a unknown user can access a course. This courses save some data to the user so it must be a moodle user. I can create a user by webservices and enroll it to the course. But how can I login this user without showing the login screen? Can I use a one-time-login-link? Or pass username and password via get to the login link? Thanks Stefan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 24, 2015, 9:54 PM",
          "AuthorName": "Stefan Kittel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1808530&course=5",
          "role": [
            "Picture of Stefan Kittel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 314165,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314165",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "How to use this function  core_course_get_courses ?",
          "Text": "How to use this function  core_course_get_courses ? When i use this function core_course_get_courses what the requirement ? we need enable webservice ? Then any other requirement ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 26, 2015, 7:45 PM",
          "AuthorName": "Kathir Rajaraman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397321&course=5",
          "role": [
            "Picture of Kathir Rajaraman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to use this function  core_course_get_courses ?",
          "Text": "the following php client side code working for me <?php $token = ''; $domainname = ''; $functionname = 'core_course_get_courses'; $restformat = ' xml '; $params = array(); header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/rest/ server .php'. '?wstoken=' . $token . '&wsfunction='.$functionname; require_once('curl.php'); $curl = new curl; $restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat, $params); print_r($resp);",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 8, 2015, 9:11 PM",
          "AuthorName": "Vijaya Laxmi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1491441&course=5",
          "role": [
            "Picture of Vijaya Laxmi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use this function  core_course_get_courses ?",
          "Text": "Hi Vijaya, Thanks for your reply. I had copy and past your code but not working me. I got some error \n```text\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<EXCEPTION class=\"webservice_access_exception\">\n<ERRORCODE>accessexception</ERRORCODE>\n<MESSAGE>Access control exception</MESSAGE>\n<DEBUGINFO>Access to the function core_course_get_courses() is not allowed.\n                     There could be multiple reasons for this:\n                     1. The service linked to the user token does not contain the function.\n                     2. The service is user-restricted and the user is not listed.\n                     3. The service is IP-restricted and the user IP is not listed.\n                     4. The service is time-restricted and the time has expired.\n                     5. The token is time-restricted and the time has expired.\n                     6. The service requires a specific capability which the user does not have.\n                     7. The function is called with username/password (no user token is sent)\n                     and none of the services has the function to allow the user.\n                     These settings can be found in Administration &gt; Site administration\n                     &gt; Plugins &gt; Web services &gt; External services and Manage tokens.</DEBUGINFO>\n</EXCEPTION>\n```\n How to resolve the issue ? Then another doubt how to check webservice running or not in our local machine moodle setup ? Thanks & Regards Kathir R",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 9, 2015, 1:40 PM",
          "AuthorName": "Kathir Rajaraman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397321&course=5",
          "role": [
            "Picture of Kathir Rajaraman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use this function  core_course_get_courses ?",
          "Text": "Apparently you didn't setup well your webservice. Use this page to do so, hope it will help. Léo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 9, 2015, 5:27 PM",
          "AuthorName": "Léo Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1944710&course=5",
          "role": [
            "Picture of Léo Joseph"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use this function  core_course_get_courses ?",
          "Text": "Hi Joseph Thanks for your reply. I will check here. Thanks Kathir R",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 11, 2015, 1:37 PM",
          "AuthorName": "Kathir Rajaraman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397321&course=5",
          "role": [
            "Picture of Kathir Rajaraman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use this function  core_course_get_courses ?",
          "Text": "Hello Rajaraman, First you check whether you added this function to service or not. later check the token generation.then it will work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 10, 2015, 8:41 PM",
          "AuthorName": "Vijaya Laxmi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1491441&course=5",
          "role": [
            "Picture of Vijaya Laxmi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use this function  core_course_get_courses ?",
          "Text": "Hi Vijaya, Thanks for your reply.  Function is added vijaya. Below the following steps am using Development  ->  Web service test client - > Page Open Authentication method -> token Protocol  -> REST Protocol Function - > moodle_user_get_users_by_id Finally i click submit button Finally i got the following error also URL : http://localhost/moodle/webservice/rest/server.php?wstoken=26443beb508b0e37b1a86b03ae468658 '<?xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"webservice_access_exception\"> <ERRORCODE>accessexception</ERRORCODE> <MESSAGE>Access control exception</MESSAGE> </EXCEPTION> Can you help me Thanks Kathir R",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 11, 2015, 1:48 PM",
          "AuthorName": "Kathir Rajaraman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397321&course=5",
          "role": [
            "Picture of Kathir Rajaraman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use this function  core_course_get_courses ?",
          "Text": "Hi, I think your user with this token doesn't have rights to use REST Protocol, check this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 11, 2015, 4:50 PM",
          "AuthorName": "Léo Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1944710&course=5",
          "role": [
            "Picture of Léo Joseph"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use this function  core_course_get_courses ?",
          "Text": "Hi Joseph, Thanks for your reply. How to check my user token rights to REST Protocol ? Thanks Kathir R",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 12, 2015, 1:21 PM",
          "AuthorName": "Kathir Rajaraman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397321&course=5",
          "role": [
            "Picture of Kathir Rajaraman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to use this function  core_course_get_courses ?",
          "Text": "Go to Site administration > Users > Permissions > Define roles then select the role of your users which the token is connected to, edit it and go to the permission called \"Use REST protocol\" and check it. Now it should be working if it's not, edit your external webservice and select \"Use REST protocol\" in \"Required capability\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2015, 8:55 PM",
          "AuthorName": "Léo Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1944710&course=5",
          "role": [
            "Picture of Léo Joseph"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 313797,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313797",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to obtain the idnumber of a user using core_user_get_users",
          "Text": "Hello : I'm beggining in the Moodle Webservices. I'm trying to obtain all the fields of an user throught the id. I'm using the  'core_user_get_users' and only return the a few field. My code is : $params4 = array( 'criteria' => array(0 => array ( 'key' => 'id', 'value' => $usuarioid) )); $functionname = 'core_user_get_users'; $options = array('idnumber'); try { $resp4 = $client1->__soapCall($functionname, $params4); print_r($resp4); ..... and only obtain Array ( [users] => Array ( [0] => Array ( [id] => 23 [firstname] => Raul [lastname] => prueba [fullname] => Raul prueba [email] => p@p.com [firstaccess] => 0 [lastaccess] => 0 [profileimageurlsmall] => http:///aula/pluginfile.php?file=%2F816%2Fuser%2Ficon%2Ff2 [profileimageurl] => http:///aula/pluginfile.php?file=%2F816%2Fuser%2Ficon%2Ff1 ) ) [warnings] => Array ) How can I add fields to this answer? I'm trying to using other array in the function call but I'm lost. Thanks in advance. Alberto Mozo",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/egg"
          ],
          "Time": "Tuesday, May 19, 2015, 7:30 PM",
          "AuthorName": "Alberto Mozo Avellaned",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=327575&course=5",
          "role": [
            "Picture of Alberto Mozo Avellaned"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to obtain the idnumber of a user using core_user_get_users",
          "Text": "Same problem for me how is it possible ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 9, 2015, 4:47 PM",
          "AuthorName": "Léo Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1944710&course=5",
          "role": [
            "Picture of Léo Joseph"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to obtain the idnumber of a user using core_user_get_users",
          "Text": "I resolve this issue, Your user which call the webservice need to be administrator for that's working !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 10, 2015, 8:00 PM",
          "AuthorName": "Léo Joseph",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1944710&course=5",
          "role": [
            "Picture of Léo Joseph"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to obtain the idnumber of a user using core_user_get_users",
          "Text": "Hello, please take a look at MDL-42639 Kind regards, Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 11, 2015, 3:19 AM",
          "AuthorName": "Daniel Neis Araujo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=32985&course=5",
          "role": [
            "Picture of Daniel Neis Araujo",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 314221,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314221",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "What is the meaning of error ? How to resolve webservice error?",
          "Text": "Dear all, I have created one web service. I got the following errors , REST protocol: moodle_user_create_users URL : http://localhost/moodle/webservice/rest/ server .php?wstoken=0af2351e0bd4111142e59cdfc4b4ec2a '<? xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"webservice_access_exception\"> <ERRORCODE>accessexception</ERRORCODE> <MESSAGE>Access control exception</MESSAGE> <DEBUGINFO>Access to the function moodle_user_create_users() is not allowed. There could be multiple reasons for this: 1. The service linked to the user token does not contain the function. 2. The service is user-restricted and the user is not listed. 3. The service is IP-restricted and the user IP is not listed. 4. The service is time-restricted and the time has expired. 5. The token is time-restricted and the time has expired.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 27, 2015, 3:01 PM",
          "AuthorName": "Kathir Rajaraman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397321&course=5",
          "role": [
            "Picture of Kathir Rajaraman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: What is the meaning of error ? How to resolve webservice error?",
          "Text": "Create external service add this function to service core_user_create_users generate token the following code for client side <?php $token = ''; $domainname = ''; $functionname = 'core_user_create_users'; $restformat = 'xml'; //array to assign user details to create user $user1 = new stdClass(); $user1->username = 'paul'; //should be unique $user1->password = 'Paul#5'; $user1->firstname = 'paul'; $user1->lastname = 'paul'; $user1->email = 'paul@moodle.com'; //should be unique $user1->auth = 'manual'; $user1->idnumber = 'testidnumber1'; $user1->lang = 'en'; $user1->theme = 'standard'; $user1->timezone = '-12.5'; $user1->mailformat = 0; $user1->description = 'Hello World!'; $user1->city = 'testcity1'; $user1->country = 'au'; $preferencename1 = 'preference1'; $preferencename2 = 'preference2'; $user1->preferences = array( array('type' => $preferencename1, 'value' => 'preferencevalue1'), array('type' => $preferencename2, 'value' => 'preferencevalue2')); $user2 = new stdClass(); $user2->username = 'jack'; //should be unique $user2->password = 'Jack#5'; $user2->firstname = 'jack'; $user2->lastname = 'jack'; $user2->email = 'jack@moodle.com'; //should be unique $user2->timezone = 'Pacific/Port_Moresby'; $users = array($user1, $user2); $params = array('users' => $users); header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/rest/server.php'. '?wstoken=' . $token . '&wsfunction='.$functionname; require_once('curl.php'); $curl = new curl; $restformat = ($restformat == 'json')?'&moodlewsrestformat=' . $restformat:''; $resp = $curl->post($serverurl . $restformat, $params); print_r($resp);",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 8, 2015, 9:06 PM",
          "AuthorName": "Vijaya Laxmi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1491441&course=5",
          "role": [
            "Picture of Vijaya Laxmi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: What is the meaning of error ? How to resolve webservice error?",
          "Text": "Hi Vijaya, Thanks for your reply. Really am happy. Its working fine. I have another doubt. 1) Front page is android and backend is moodle. Moodle users login to android. Users login to android with moodle users. How to check login valid users or not ? 2) Moodle course contents send to android. I mean i create one course then i add resource file put in HTML.zip file. This HTML.zip send to android. How ? Can you help me ? Thanks Kathir R",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 9, 2015, 2:08 PM",
          "AuthorName": "Kathir Rajaraman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397321&course=5",
          "role": [
            "Picture of Kathir Rajaraman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 314837,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314837",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get course with property value = x (shortname = x)",
          "Text": "I'm using moodle version 2.8.6+. Is there some webservice or will be in the future that enables you to get course with for example property shortname \"abc\" (shortname = \"abc\"). For course_categories this is possible. API core_course_get_categories: \n```text\nGeneral structure\n\n\n \nDefault to \"Array\n(\n)\n\"\n \n//criteria\n\n\nlist of ( \n\n\nobject {\n\n\nkey\n string \n  \n//The category column to search, expected keys (value format) are:\"id\" (int) the category id,\"name\" (string) the category name,\"parent\" (int) the parent category id,\"idnumber\" (string) category idnumber - user must have 'moodle/category:manage' to search on idnumber,\"visible\" (int) whether the returned categories must be visible or hidden. If the key is not passed,\n                                             then the function return all categories that the user can see. - user must have 'moodle/category:manage' or 'moodle/category:viewhiddencategories' to search on visible,\"theme\" (string) only return the categories having this theme - user must have 'moodle/category:manage' to search on theme\n\n\nvalue\n string \n  \n//the value to match\n\n\n} \n\n\n)\n```\n \n```text\nREST (POST parameters)\n\n\n\ncriteria[0][key]= string\ncriteria[0][value]= string\n```\n You just specify criteria. For example if I'm searching for course category which has name \"abc\" I set parameters: parameters = \"criteria[0][key]=name&criteria[0][value]=abc\" For now the only solution I found is to call webservice core_course_get_courses without any parameters, as documentation states: \n```text\nGeneral structure\n\n\n \nDefault to \"Array\n(\n)\n\"\n \n//options - operator OR is used\n\n\nobject {\n```\n if empty return all courses. This is not very efficient if you have a lof of courses e.g. 300+",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 8, 2015, 9:59 PM",
          "AuthorName": "Miha Svalina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1961940&course=5",
          "role": [
            "Picture of Miha Svalina"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 314571,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314571",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Create User and Duplicate Emails",
          "Text": "Client is currently using BULK UPLOAD function to import users. One of the options is to UNCHECK prevent duplicate emails. The reason is that students at this particular school district do not have email at this point. Is there any special parameters/preferences needed to create a user via web services without it evaluating for a unique email address? Any help would be much appreciated. -Jeff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 2, 2015, 10:21 PM",
          "AuthorName": "Jeff Backhus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1960274&course=5",
          "role": [
            "Picture of Jeff Backhus"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 314294,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314294",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "get contents via web service",
          "Text": "Dear all, I want to get contents via web service. Please help me. Thanks Kahtir",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 28, 2015, 1:42 PM",
          "AuthorName": "Kathir Rajaraman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397321&course=5",
          "role": [
            "Picture of Kathir Rajaraman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 313178,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313178",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "core_course_get_contents not returning all information",
          "Text": "Hi, this is my first experience in using Moodle default web service. I'm already successfully consuming some of the methods (REST format) to get information about learner, its enrollments and course contents. However, whean calling core_course_get_contents , according to the documentation, I would expect more information about each object contained in the modules array. For example: \n```text\nmodules\n \n  \n//list of module\n\n\n  list of ( \n\n\n    object {\n\n\n      id\n int \n  \n//activity id\n\n\n      url\n string \n \nOptional\n \n//activity url\n\n\n      name\n string \n  \n//activity module name\n\n\n      instance\n int \n \nOptional\n \n//instance id\n\n\n      description\n string \n \nOptional\n \n//activity description\n\n\n      visible\n int \n \nOptional\n \n//is the module visible\n\n\n      modicon\n string \n  \n//activity icon url\n\n\n      modname\n string \n  \n//activity module type\n\n\n      modplural\n string \n  \n//activity module plural name\n\n\n      availability\n string \n \nOptional\n \n//module availability settings\n```\n In my case, I need to get the availability information of a SCORM 1.2 Lesson (module). I have set the availability (both start and end) in module settings in Moodle, but that information is not returned by the WS. I only get id, indent, instance, modicon, modname, modplural, name, url, visible This happens with Moodle 2.7.7. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 7, 2015, 4:35 PM",
          "AuthorName": "Luca Viggiani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1084575&course=5",
          "role": [
            "Picture of Luca Viggiani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_course_get_contents not returning all information",
          "Text": "...in addition I also to get module contents (SCORM zip file) URL to dowload, but no contents are returned. This happens also in Moodle 2.8 and 2.9RC1. Please note that within Moodle Web interface, in module Edit page I can download the original SCORM zip file.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 7, 2015, 9:37 PM",
          "AuthorName": "Luca Viggiani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1084575&course=5",
          "role": [
            "Picture of Luca Viggiani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_contents not returning all information",
          "Text": "Hi, as far as I know this Web Service is just for getting generic/standard/common information about a module (all the moodle modules has some fields that are mandatory), you are not going to be able to find specific information for a module (like the link to the SCORM zip package). We are developing Web Services specific for getting modules information (like mod_data_get_databases_by_courses and mod_forum_get_forums_by_courses) Regarding availability information, \"Modules availability\" should be enabled at site and the course level and the user you are using for requesting the information via web services should have permissions (teacher or admin) to see the module settings Cheers, Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 7, 2015, 10:22 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_contents not returning all information",
          "Text": "Hi Luca My requirement is same to your requirements. So how to get course contents and scrom package file ? Kindly request to you plz provide code to me ? 'kathir04on@gmail.com' is my personal mail id. Am waiting for your email or post. Thanks & Regards Kathirvel R",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 27, 2015, 5:21 PM",
          "AuthorName": "Kathir Rajaraman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397321&course=5",
          "role": [
            "Picture of Kathir Rajaraman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_course_get_contents not returning all information",
          "Text": "Hi Luva, I have small doubt. How to create the webservice ? how to call the function as core_course_get_contents ? How to course contents send to android ? Can you send me sample code ? This is my personal email id kathir04on@gmail.com . Kindly request to your provide  sample code Thanks Kathirvel.R",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 26, 2015, 7:55 PM",
          "AuthorName": "Kathir Rajaraman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397321&course=5",
          "role": [
            "Picture of Kathir Rajaraman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 314059,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314059",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Wordpress SSO and Oauth2 v.2.8",
          "Text": "Hello!, we must create a system \" single sign on \" Wordpress to authenticate via Moodle. I think this could be done using a n autentificatición plugin... but it may be that in the future Wordpress need more data from Moodle. So I thought it might be better to make a web service plugin that uses the standard OAuth2 . First of all , do you think this is right ? And , I've been looking and all that is partially developed but can not find any oauth implementation of Moodle , is there anything like this already developed ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 23, 2015, 7:53 PM",
          "AuthorName": "José Puente Fuentes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1850436&course=5",
          "role": [
            "Picture of José Puente Fuentes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 313585,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313585",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Missing testclient.php in moodle code ...",
          "Text": "In the docs for webservices: https://docs.moodle.org/28/en/Web_services_test_client But cannot find a testclient.php file in moodlecode/webservices.   Is there anyway to get that file or is there another way to test the security of a webservice set up with no specific user and no tokens. *** EDIT *** DUH!  it's moved!!!!  Now found in moodlecode/admin/webservice/testclient.php and requires login.   Good!  I was really concerned there for a little while! Thanks, in advance, Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 15, 2015, 8:24 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 313568,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313568",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Issue in downloading resources using the moodle webservice",
          "Text": "Hi, I want to download a course with its resources and use it offline. I am using a restful webservice. So far I am able to download the course schema using core_course_get_contents () And the content i get back is shown at the bottom. But when I try to call the core_files_get_files service  I keep getting error with parameter issues. Can someone please explain  what some of the following parameters mean or where I can get them. these three : contextid , component and contextlevel From the documentation the core_get_files service requires the following parameters contextid | component  |filearea | itemid | filepath | filename | modified | contextlevel |instanceid The following JSON file is from the response of the c ore_course_get_contents () service . { \"id\": 4, \"name\": \"PMP Test \", \"visible\": 1, \"summary\": \"\", \"summaryformat\": 1, \"modules\": [ { \"id\": 10, \"url\": \"ht t p: //m ysite. c om/moodle/ mod/resource/view.php?id=10\", \"name\": \" Lesson Objectives\", \"instance\": 5, \"visible\": 1, \"modicon\": \"h.t.tp:// mysite . c.o.m/moodle/theme/image.php /clean/core/1429612230/f/ png-24\", \"modname\": \"resource\", \"modplural\": \"Files\", \"indent\": 0, \"contents\": [ { \"type\": \"file\", \"filename\": \"Lift Objectives.png\", \"filepath\": \"/\", \"filesize\": 31627, \"fileurl\": \"//mysite . com /moodle/webservice/pluginfile.php/41/mod_resource/content/3/Lift%20Objectives.png? forcedownload=1\", \"timecreated\": 1429683688, \"timemodified\": 1429683708, \"sortorder\": 1, \"userid\": 3, \"author\": \"MR\", \"license\": \"allrightsreserved\" } ] }, } ] } Thank you for the help",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, May 15, 2015, 1:02 AM",
          "AuthorName": "Abdullah Baaji",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1954810&course=5",
          "role": [
            "Picture of Abdullah Baaji"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 313390,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313390",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Calling ASMX Web Service From C++ MFC Project",
          "Text": "Hi all, I have a web service that have functions to retrieve data from database . ( http://exampledomain.com/webservice/webservice.asmx ) It's easy to add a web service in C# (Project->Add Service Reference->Advanced->Add Web Reference) but i don't have any knowledge about C++. Also there is no option in Project tab for adding reference. How can i add web service to C++ project and access it's functions and retrieve data?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 12, 2015, 2:03 PM",
          "AuthorName": "Erhan Zeyrek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1953972&course=5",
          "role": [
            "Picture of Erhan Zeyrek"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 228131,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=228131",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "core_user_update_users returnes nothing and doesnt update user",
          "Text": "Here is my code $user1 = new stdClass(); $user1->id = 16; $user1->city = 'some city'; $params = array('users'=>array($user1)); $functionname = 'core_user_update_users'; /// SOAP CALL $serverurl = $domainname . '/webservice/soap/ server .php' . '?wsdl=1&wstoken=01f08c3c85b69758f03d6xxxx'; $client = new SoapClient($serverurl); $resp = $client->__soapCall($functionname, array($params)); the reply im getting is blank and nothing happens what is wrong here ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 9, 2013, 2:44 AM",
          "AuthorName": "Lior regev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1598994&course=5",
          "role": [
            "Picture of Lior regev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_user_update_users returnes nothing and doesnt update user",
          "Text": "Check web server logs, you should see something there hopefully. Most likely there is an exception thrown because of insufficient permissions or something not properly set up in Moodle - either your web service or the account it is using. It took me a while to sort this out. See http://www.rumours.co.nz/manuals/using_moodle_web_services.htm A quick check would be in Moodle to look at the Home - Site administration - Plugins - Web services - Manage tokens page. If capabilities are missing you should see it right there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 9, 2013, 3:59 AM",
          "AuthorName": "Nik Okuntseff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1214862&course=5",
          "role": [
            "Picture of Nik Okuntseff"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_update_users returnes nothing and doesnt update user",
          "Text": "Hi, Did you succeeded find out where you were wrong? I'm having the same problem.. Thanx",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 6, 2015, 7:15 PM",
          "AuthorName": "lital l",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1541872&course=5",
          "role": [
            "Picture of lital l"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 312832,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=312832",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Trying to make first REST call - getting invalid_parameter_exception",
          "Text": "I'm trying to make a call to the rest webservice. POST http://domain.com/webservice/rest/server.php?wstoken=4725a345345435342322a6560b068547297748e17&wsfunction=mod_forum_get_forum_discussions_paginated The token is assigned to my user. with post data: { \"forumid\":2438 } Headers: Accept: application/json Content-Type: application/json But I get the error: <? xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"invalid_parameter_exception\"> <ERRORCODE>invalidparameter</ERRORCODE> <MESSAGE>Invalid parameter value detected</MESSAGE> </EXCEPTION> I have my moodle session as a cookie. What am I doing wrong here?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 30, 2015, 5:15 PM",
          "AuthorName": "Carol Griffiths",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1602263&course=5",
          "role": [
            "Picture of Carol Griffiths"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Trying to make first REST call - getting invalid_parameter_exception",
          "Text": "You are sending input parameters s JSON . Moodle web services do not support that. You should send parameters as classic POST or GET params. http://domain.com/webservice/rest/server.php?wstoken=4725a345345435342322a6560b068547297748e17&wsfunction=mod_forum_get_forum_discussions_paginated&forumid=2438",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 2, 2015, 10:16 AM",
          "AuthorName": "Darko Miletić",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=431153&course=5",
          "role": [
            "Picture of Darko Miletić",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 224701,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=224701",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Getting calendar: events core_calendar_get_calendar_events",
          "Text": "Hello everyone, after the upgrade of my moodle to 2.5dev version I'm trying to get calendar events using core_calendar_get_calendar_events function in url: http://localhost/moodle-2.5dev/webservice/rest/ server .php?wstoken=token_here&wsfunction=core_calendar_get_calendar_events The result is just an empty xml file with KEY name =\" events \" and KEY name =\" warnings \" . From Documents API I got that it needs to required parameter events , but have no idea how to use it, since the function is itself new. Any help would be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 16, 2013, 10:56 PM",
          "AuthorName": "Oliver Obermayr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540246&course=5",
          "role": [
            "Picture of Oliver Obermayr"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Getting calendar: events core_calendar_get_calendar_events",
          "Text": "Hello Oliver, I am experiencing the same problem.  Did you solve it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 7, 2013, 8:40 PM",
          "AuthorName": "Pat Moss",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1627288&course=5",
          "role": [
            "Picture of Pat Moss"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting calendar: events core_calendar_get_calendar_events",
          "Text": "Am stuck here too I am using wsfunction=core_calendar_get_calendar_events&events[courseids][1]=2&moodlewsrestformat=json But I still get empty events, how do I get the site events? edit: for anyone looking for solution make sure options[timeend]=1459728000 is set to a date in the future",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Saturday, April 4, 2015, 3:36 PM",
          "AuthorName": "Farhan Karmali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1342797&course=5",
          "role": [
            "Picture of Farhan Karmali",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting calendar: events core_calendar_get_calendar_events",
          "Text": "Have you setup the webservice with the right protocols ? Have you included the calendar functions you want into the name web service ? Has the Webservice user got permission to access these functions Is the rest protocol enabled... Angus Denton",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 28, 2015, 2:21 PM",
          "AuthorName": "Angus Denton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1780481&course=5",
          "role": [
            "Picture of Angus Denton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 312288,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=312288",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Creating and reading calendar entries via API for many users",
          "Text": "Hi Moodle Jedi's I am looking at a way of pushing calendar events to students however I may need to create entries at a user level as my institution produces personalised timetables for students. Currently I can see that the web service allows the creation of calendar events for groups, courses and site wide, but is there a way I can push an event to an individual user via web service.. Webservice documentation shows for `function: core_calendar_create_calendar_events` has an argument that is an array object called `events` that can have the following fields \n```text\nname\n\n\ndescription\n\n\nformat\n\n\ncourseid\n\n\ngroupid\n\n\n...... etc\n```\n There is no userid available to be added to the events array.... Currently we are using Moodle 2.7 with a migration to 2.8 mid year (Moodlerooms) <gratitude>Lots of thanks well a truly in advance of your wondrous and collective wisdom</gratitude> <afterthought>What does the `sequence` field do / represent given there is also a `repeats` field</afterthought> Angus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 22, 2015, 2:58 PM",
          "AuthorName": "Angus Denton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1780481&course=5",
          "role": [
            "Picture of Angus Denton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 310965,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=310965",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.8 Webservices",
          "Text": "Hi All, I am working on Moodle 2.8. What I want to do is I have one authoring tool and when a course (created in tool) is published it should get created as a SCORM Course in LMS. Can Moode 2.8 webservices will solve this purpose. Or is there any other thought on this. Please throw some light on this. Thanks, Barbara",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 30, 2015, 1:36 PM",
          "AuthorName": "Barbara Joe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=779183&course=5",
          "role": [
            "Picture of Barbara Joe"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.8 Webservices",
          "Text": "There are one of two answers here, depending on the question you are asking, which, by my comment, would suggest it is not clear what it is you are actually asking. 1. Moodle is not a tool that creates SCORM packages, so no, Moodle web services will not do that for you. 2. There are a number of tools that allow you to create SCORM packages, so create your package anyway you want it. Under the list of Activities you can include in Moodle is a SCORM activity. Add that activity and follow the prompts to upload your package, then set it up then use it. Simple as... works everytime, unless you use a SCORM package builder that does not fully comply with SCORM rules, mmm Articulate is one I think, well seem to have trouble with Articulate or Captivate or some such...one of them, or both...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 30, 2015, 8:08 PM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.8 Webservices",
          "Text": "Thanks Colin and Amit for the response @Colin #1: Yes. Moodle is not SCORM Builder Tool. #2: Yes this is what we always do. Now, I am thinking like integrating tool with Moodle. Where there will be a course already created in Moodle may be of format Single Activity Format (With default type SCORM Activity). The create a link in the Moodle to launch the SCORM Builder tool. (Authentication may come here). Create SCORM Content and publish it. Publish means create a SCORM Activity with this publish in Moodle. Could you please throw some lights on above approach. Thanks, Barbara",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 31, 2015, 1:22 PM",
          "AuthorName": "Barbara Joe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=779183&course=5",
          "role": [
            "Picture of Barbara Joe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.8 Webservices",
          "Text": "Hi Barbara, I don't think that the api function core_course_create_courses() is for SCORM, though you can use that to generate new courses from the command line or some such, (not being a programmer, I really don't know.) AFAIK , to integrate an tool that does not use PHP into Moodle is a huge ask. I doubt that you would be able to make a useful connection with using LTI , but whether any of the SCORM tools actually allow the use of LTI, I don't know. Sorry I cannot be a little more positive, but I don't think what you are asking is possible right now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 31, 2015, 2:23 PM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.8 Webservices",
          "Text": "Hi Barbara, Do you want to integrate authoring tool with Moodle? That is, SCORM courses are directly created in Moodle when they are published in e-learning authoring tool. There is a function core_course_create_courses() in Moodle web service API, but I have never used this function, so can't tell you whether it can solve your purpose. May be someone else can help you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 30, 2015, 8:56 PM",
          "AuthorName": "amit yadav",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1179012&course=5",
          "role": [
            "Picture of amit yadav"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 310698,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=310698",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web service Moodle 2.7 for web Application",
          "Text": "core_cohort_create_cohort function : \n```text\nlist of ( \n\n\nobject {\n\n\ncategorytype\n object {\n\n\ntype\n string \n  \n//the name of the field: id (numeric value\n                                        of course category id) or idnumber (alphanumeric value of idnumber course category)\n                                        or system (value ignored)\n\n\nvalue\n string \n  \n//the value of the categorytype\n\n\n} \n\n\nname\n string \n  \n//cohort name\n\n\nidnumber\n string \n  \n//cohort idnumber\n\n\ndescription\n string \n \nOptional\n \n//cohort description\n\n\ndescriptionformat\n int \n \nDefault to \"1\"\n \n//description format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)\n\n\n} \n\n\n)\n```\n \n```text\nPlease can you explain me \ncategorytype \nof above function.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 25, 2015, 1:32 PM",
          "AuthorName": "Pralad Dessai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1910485&course=5",
          "role": [
            "Picture of Pralad Dessai"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service Moodle 2.7 for web Application",
          "Text": "```text\n type => stands for column of table in \ndatabase\n.\n```\n \n```text\nvalue => stands for column of table having value inside each rows in database.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 30, 2015, 1:31 PM",
          "AuthorName": "Pralad Dessai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1910485&course=5",
          "role": [
            "Picture of Pralad Dessai"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 310725,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=310725",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "create_assignment function is not in web service of moodle",
          "Text": "Hi... I want to use create_assignment function of moodle for integrating it with openerp. But in Site Administration->Plugins->Web Service->External Services->Add Functions, there is not any function for creating assignment, it has function for moodle_assign_get_assignment. but i wants to use create_assignment function. So kindly help me out about this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 25, 2015, 8:59 PM",
          "AuthorName": "Ravi Koshti",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1937941&course=5",
          "role": [
            "Picture of Ravi Koshti"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 310505,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=310505",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Consume JSON data in moodle web services",
          "Text": "Hi All, I am going to send user profile information from third party application to moodle system using web services. Thirt party system sends data only in JSON format, How can I consume it in moodle webservices to create/update recrods in my moodle system. Pls Note: I am not talking about Peoplesoft is the third party system Thanks Sundaramoorthy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 21, 2015, 10:19 PM",
          "AuthorName": "Sundaramoorthy Balakrishnan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1880800&course=5",
          "role": [
            "Picture of Sundaramoorthy Balakrishnan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 193295,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=193295",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Example of using Web services",
          "Text": "I thought people might like to see the code below. It's a PHP program that I've written while teaching myself about Web services. It contains functions that encapsulate adding a user, getting user details from an ID, deleting a user, assigning a rôle, creating a course, and enroling a user in a course. The end of the program calls these one by one, displaying its progress as it goes. I use XML , and call the PHP SimpleXml parser to distinguish error responses, and to extract the ID from newly created users and courses. /* A demonstration of Moodle 2 Web services. Written by Jocelyn Ireson-Paine, http://www.j-paine.org . The 'curl' that this uses comes from https://github.com/moodlehq/sample-ws-clients/blob/master/PHP-REST/curl.php . */ /* Returns a structure defining a test user whose name, password, etc. end in $n.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 5, 2012, 3:00 AM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Example of using Web services",
          "Text": "Here's my latest version of this program. I've added code to parse the XML responses, so that I can extract user data and course data returned by core_user_get_users_by_id and core_course_get_courses. I'm not yet doing this as completely as I should: my code doesn't handle multiple users, and it doesn't convert strings to integers where it should. However, there's enough there for me to check that Moodle has in fact created the users and courses it thinks it has, and for me to get their details one at a time. Note that role assignment and user deletion give spurious error messages (under Moodle 2.2) as I describe at http://moodle.org/mod/forum/discuss.php?d=193402#p842339 , and that role assignment is giving me other errors that I didn't expect, also as discussed there. I don't yet know whether these are correct. \n```text\n/*\nThe 'curl' that this uses comes from\n\nhttps://github.com/moodlehq/sample-ws-clients/blob/master/PHP-REST/curl.php\n .\n*/\n\n\n/* If true, the program displays each\n   XML response returned by calling Moodle.\n*/\ndefine( \"TRACING\", true );\n\n\n/* Returns a structure defining\n   a test user whose name, password, etc. end\n   in $n.\n*/\nfunction make_test_user( $n ) \n{\n  $user = new stdClass();\n  $user->username = 'testusername' . $n;\n  $user->password = 'testpassword' . $n;\n  $user->firstname = 'testfirstname' . $n;\n  $user->lastname = 'testlastname' . $n;\n  $user->email = 'testemail' . $n . '@moodle.com';\n  $user->auth = 'manual';\n  $user->idnumber = 'testidnumber' . $n;\n  $user->lang = 'en';\n  $user->theme = 'standard';\n  $user->timezone = '0';\n  $user->mailformat = 0;\n  $user->description = 'Hello World!';\n  $user->city = 'testcity' . $n;\n  $user->country = 'uk';\n  return $user;\n}\n\n\n/* Returns a structure defining\n   a test course whose name etc. end\n   in $n.\n\n   I have set the category ID to 1.\n   This works, but is almost certainly wrong.\n   I need to find out what it should be.\n*/\nfunction make_test_course( $n ) \n{\n  $course = new stdClass();\n  $course->fullname = 'testcourse' . $n;\n  $course->shortname = 'testcourse' . $n;\n  $course->categoryid = 1;\n  return $course;\n}\n\n\n/* Creates a user from a\n   structure defining a user. If the\n   creation succeeds, returns the \n   ID for this user. If not, throws\n   an exception whose text is the XML\n   returned by Moodle.\n*/\nfunction create_user( $user, $token )\n{\n  $users = array( $user );\n  $params = array( 'users' => $users );\n\n  $response = call_moodle( 'core_user_create_users', $params, $token );\n\n  if ( xmlresponse_is_exception( $response ) )\n    throw new Exception( $response );\n  else {\n    $user_id = xmlresponse_to_id( $response );\n    return $user_id;\n  }\n}\n\n\n/* Returns a user data structure containing Moodle's\n   data for $user_id. It generates this by\n   parsing the XML that Moodle returns. If Moodle\n   thinks there is no such user, returns NULL.\n*/\nfunction get_user( $user_id, $token )\n{\n  $userids = array( $user_id );\n  $params = array( 'userids' => $userids );\n\n  $response = call_moodle( 'core_user_get_users_by_id', $params, $token );\n\n  $user = xmlresponse_to_user( $response );\n\n  if ( array_key_exists( 'id', $user ) )\n    return $user;\n  else\n    return NULL;\n  // If there is no user with this ID, Moodle\n  // returns the same enclosing XML as if there were, but \n  // with no values for ID and the other fields. My\n  // XML-parsing code therefore creates an object\n  // with no fields, which the conditional above\n  // detects.\n}\n\n\n/* Deletes the user with ID $user_id. \n   If the delete fails, throws\n   an exception whose text is the XML\n   returned by Moodle.\n*/\nfunction delete_user( $user_id, $token )\n{\n  $userids = array( $user_id );\n  $params = array( 'userids' => $userids );\n\n  $response = call_moodle( 'core_user_delete_users', $params, $token );\n\n  if ( xmlresponse_is_exception( $response ) )\n    throw new Exception( $response );\n}\n\n\n/* Assigns the role with $role_id to the user with $user_id\n   in the specified \ncontext\n.\n\n   At the moment, always returns an error. I don't know \n   whether this is a bug in Moodle, or a problem with my\n   configuration or user or whatever.\n*/\nfunction assign_role( $user_id, $role_id, $context_id, $token )\n{\n  $assignment = array( 'roleid' => $role_id, 'userid' => $user_id, 'contextid' => $context_id );\n  $assignments = array( $assignment );\n  $params = array( 'assignments' => $assignments );\n\n  $response = call_moodle( 'core_role_assign_roles', $params, $token );\n}\n\n\n/* Creates a course from a\n   structure defining a course. If the\n   creation succeeds, returns the \n   ID for this course. If not, throws\n   an exception whose text is the XML\n   returned by Moodle.\n*/\nfunction create_course( $course, $token ) \n{\n  $courses = array( $course );\n  $params = array( 'courses' => $courses );\n\n  $response = call_moodle( 'core_course_create_courses', $params, $token );\n\n  if ( xmlresponse_is_exception( $response ) )\n    throw new Exception( $response );\n  else {\n    $course_id = xmlresponse_to_id( $response );\n    return $course_id;\n  }\n}\n\n\n/* Returns a course data structure containing Moodle's\n   data for $course_id. It generates this by\n   parsing the XML that Moodle returns. If Moodle\n   thinks there is no such course, returns NULL.\n*/\nfunction get_course( $course_id, $token )\n{\n  $courseids = array( $course_id );\n  $params = array( 'options' => array('ids' => $courseids ) );\n\n  $response = call_moodle( 'core_course_get_courses', $params, $token );\n\n  $course = xmlresponse_to_course( $response );\n\n  if ( array_key_exists( 'id', $course ) )\n    return $course;\n  else\n    return NULL;\n  // If there is no user with this ID, Moodle\n  // returns the same enclosing XML as if there were, but \n  // with no values for ID and the other fields. My\n  // XML-parsing code therefore creates an object\n  // with no fields, which the conditional above\n  // detects.\n}\n\n\n/* Enrols the user into the course with the specified role.\n   Does not yet check for errors.\n\n   I haven't tested this.\n*/\nfunction enrol( $user_id, $course_id, $role_id, $token ) \n{\n  $enrolment = array( 'roleid' => $role_id, 'userid' => $user_id, 'courseid' => $course_id );\n  $enrolments = array( $enrolment );\n  $params = array( 'enrolments' => $enrolments );\n\n  $response = call_moodle( 'enrol_manual_enrol_users', $params, $token );\n}\n\n\n/* Returns data about users enrolled in the specified course.\n\n   Not sure what Moodle returns yet, so exactly how\n   I should parse it. Does not handle multiple users.\n*/\nfunction get_enrolled_users( $course_id, $token ) \n{\n  $params = array( 'courseid' => $course_id );\n\n  $response = call_moodle( 'core_enrol_get_enrolled_users', $params, $token );\n\n  $user = xmlresponse_to_user( $response );\n  return $user;\n}\n\n\n/* Calls the Moodle at \nhttp://ireson-paine.com\n, invoking the specified\n   function on $params. Also takes a token. \n   Returns Moodle's response as a string containing XML.\n*/ \nfunction call_moodle( $function_name, $params, $token )\n{\n  $domain = '\nhttp://ireson-paine.com\n';\n\n  $serverurl = $domain . '/webservice/rest/server.php'. '?wstoken=' . $token . '&wsfunction='.$function_name;\n\n  require_once( './curl.php' );\n  $curl = new curl;\n\n  $response = $curl->post( $serverurl . $restformat, $params );\n\n  if ( TRACING ) \n    echo \"Response from $function_name: \\n\", $response, \"\\n\";\n\n  return $response;\n}\n\n\n/* Given a string containing XML returned\n   by a successful user creation or course\n   creation, parses it and returns the user or course ID\n   as an integer.\n   Undefined if the XML does not contain such an ID,\n   for example if it's an error response.\n*/\nfunction xmlresponse_to_id( $xml_string )\n{\n  $xml_tree = new SimpleXMLElement( $xml_string );          \n\n  $value = $xml_tree->MULTIPLE->SINGLE->KEY->VALUE;\n  $id = intval( sprintf( \"%s\", $value ) );\n  // See discussion on \nhttp://php.net/manual/es/book.simplexml.php\n ,\n  // especially the posting for \"info at kevinbelanger dot com 20-Jan-2011 05:07\".\n  // There is a bug in the XML parser whereby it doesn't return the\n  // text associated with property [0] of a node. The above\n  // posting uses sprintf to force a conversion to string.\n\n  return $id;\n}  \n\n\n/* Given a string containing XML returned\n   by a successful call to core_user_get_users_by_id,\n   parses it and returns the data as a user\n   data structure.\n   Undefined if the XML does not contain such an ID,\n   for example if it's an error response.\n\n   Does not yet handle fields with multiple values.\n   I think these are customfields, preferences,\n   and enrolledcourses.\n*/\nfunction xmlresponse_to_user( $xml_string )\n{\n  return xmlresponse_parse_names_and_values( $xml_string );\n}\n\n\n/* Given a string containing XML returned\n   by a successful call to core_course_get_courses,\n   parses it and returns the data as a course\n   data structure.\n   Undefined if the XML does not contain such an ID,\n   for example if it's an error response.\n\n   Does not yet handle fields with multiple values.\n*/\nfunction xmlresponse_to_course( $xml_string )\n{\n  return xmlresponse_parse_names_and_values( $xml_string );\n}\n\n\n/* This parses a string containing the XML returned by\n   functions such as core_course_get_courses,\n   core_user_get_users_by_id, or core_enrol_get_enrolled_users.\n   These strings contain name-value pairs encoded thus:\n     <RESPONSE>\n     <MULTIPLE>\n     <SINGLE>\n     <KEY name=\"id\"><VALUE>169</VALUE>\n     </KEY>\n     <KEY name=\"username\"><VALUE>testusername32</VALUE>\n     </KEY>\n     </SINGLE>\n     </MULTIPLE>\n     </RESPONSE>\n   The function returns an object with the corresponding\n   keys and values.\n\n   Does not yet convert strings to integers where they\n   ought to be converted.\n*/\nfunction xmlresponse_parse_names_and_values( $xml_string )\n{\n  $xml_tree = new SimpleXMLElement( $xml_string ); \n\n  $struct = new StdClass();\n\n  foreach ( $xml_tree->MULTIPLE->SINGLE->KEY as $key ) {\n    $name = $key['name'];\n    $value = (string)$key->VALUE;\n    $struct->$name = $value;\n  }\n\n  return $struct;\n}\n\n\n/* True if $xml_string's top-level is\n   <EXCEPTION>. I use this to check for error\n   responses from Moodle.\n*/\nfunction xmlresponse_is_exception( $xml_string )\n{\n  $xml_tree = new SimpleXMLElement( $xml_string );          \n\n  $is_exception = $xml_tree->getName() == 'EXCEPTION';\n  return $is_exception;\n}  \n\n\n/* These are some role IDs from our Moodle,\n   obtained by querying the \ndatabase\n with\n   the command\n     select * from mdl_role;\n   Hopefully, Moodle won't change them.\n   There are a few other roles, but not ones\n   I think we need.\n*/\ndefine( \"MANAGER_ROLE_ID\", 1 );\ndefine( \"COURSE_CREATOR_ROLE_ID\", 2 );\ndefine( \"TEACHER_ROLE_ID\", 3 );\ndefine( \"NON_EDITING_TEACHER_ROLE_ID\", 4 );\ndefine( \"STUDENT_ROLE_ID\", 5 );\ndefine( \"GUEST_ROLE_ID\", 6 );\ndefine( \"AUTHENTICATED_USER_ROLE_ID\", 7 );\ndefine( \"AUTHENTICATED_USER_ON_FRONTPAGE_ROLE_ID\", 8 );\n\n\n/* These are some context IDs from our Moodle,\n   obtained by querying the database with\n   the command\n     select * from mdl_context;\n   and by reading \nhttp://moodle.org/mod/forum/discuss.php?d=60125\n ,\n   \"Roles and contexts in Moodle 1.7\".\n   Hopefully, Moodle won't change them.\n   There are other contexts, but not ones\n   I think we need.\n*/\ndefine( \"SYSTEM_CONTEXT_ID\", 1 );\n\n\nfunction demo()\n{\n  try {\n    echo \"Demo of Moodle Web services\\n\";\n    echo \"===========================\\n\";\n\n    $token = '9_anchovy_and_walnut_flan_4a54';\n    echo \"\\nUses this token which I created manually: \" . $token . \"\\n\"; \n\n    echo \"\\nWill now create two users from the following data:\\n\";\n    $user_suffix = 38;\n    $user_data_1 = make_test_user( $user_suffix );\n    print_r( $user_data_1 );\n    echo \"\\n\";\n\n    $user_data_2 = make_test_user( $user_suffix+1 );\n    print_r( $user_data_2 ); \n    echo \"\\n\";\n\n    $user_id_1 = create_user( $user_data_1, $token );\n    if ( is_null( get_user( $user_id_1, $token ) ) )\n      echo \"\\nUser 1 doesn't seem to have been created\\n\";\n    else\n      echo \"\\nUser 1's ID = \" . $user_id_1 . \"\\n\";\n\n    $user_id_2 = create_user( $user_data_2, $token );\n    if ( is_null( get_user( $user_id_2, $token ) ) )\n      echo \"\\nUser 2 doesn't seem to have been created\\n\";\n    else\n      echo \"\\nUser 2's ID = \" . $user_id_2 . \"\\n\";\n\n    echo \"\\nWill now assign a role to make user 1 a student:\\n\";\n    \n    assign_role( $user_id_1, STUDENT_ROLE_ID, SYSTEM_CONTEXT_ID, $token );\n\n    echo \"\\nWill now get the user details using user 1's ID:\\n\";\n    $user_data_from_moodle_1 = get_user( $user_id_1, $token );\n    echo \"\\nUser details:\\n\";\n    print_r( $user_data_from_moodle_1 );\n\n    echo \"\\nFor comparison, will now get details for a non-existent user:\\n\";\n    $user_data_from_moodle_3 = get_user( 9999, $token );\n    echo \"\\nUser details:\\n\";\n    print_r( $user_data_from_moodle_3 );\n\n    echo \"\\nWill now create a course from the following data:\\n\";\n    $course_suffix = 127;\n    $course_data = make_test_course( $course_suffix );\n    print_r( $course_data ); \n    echo \"\\n\";\n\n    $course_id = create_course( $course_data, $token );\n    if ( is_null( get_course( $course_id, $token ) ) )\n      echo \"\\nCourse doesn't seem to have been created\\n\";\n    else\n      echo \"\\nCourse ID = \" . $course_id . \"\\n\";\n\n    echo \"\\nWill now get the course details using that ID:\\n\";\n    $course_data_from_moodle = get_course( $course_id, $token );\n    echo \"\\nCourse details:\\n\";\n    print_r( $course_data_from_moodle );\n\n    echo \"\\nFor comparison, will now get details for a non-existent course:\\n\";\n    $course_data_from_moodle_3 = get_course( 9999, $token );\n    echo \"\\nCourse details:\\n\";\n    print_r( $course_data_from_moodle_3 );\n\n    echo \"\\nWill now enrol users 1 and 2:\\n\";\n    $role_id = STUDENT_ROLE_ID;\n    enrol( $user_id_1, $course_id, $role_id, $token );\n    enrol( $user_id_2, $course_id, $role_id, $token );\n\n    echo \"\\nWill now get the IDs of who Moodle thinks is enrolled:\\n\";\n    $users_in_course = get_enrolled_users( $course_id, $token );\n    echo \"\\nUser details:\\n\";\n    print_r( $users_in_course );\n\n    echo \"\\nWill now delete the users:\\n\";\n    delete_user( $user_id_1, $token );\n    if ( ! is_null( get_user( $user_id_1, $token ) ) )\n      echo \"\\nUser 1 doesn't seem to have been deleted\\n\";\n    else\n      echo \"\\nUser 1 deleted\\n\";\n\n    delete_user( $user_id_2, $token );\n    if ( ! is_null( get_user( $user_id_2, $token ) ) )\n      echo \"\\nUser 2 doesn't seem to have been deleted\\n\";\n    else\n      echo \"\\nUser 2 deleted\\n\";\n  } \n  catch ( Exception $e ) {\n    echo \"\\nCaught exception:\\n\" .  $e->getMessage() . \"\\n\";\n  }\n}\n\n\ndemo();\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 9, 2012, 6:19 PM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Example of using Web services",
          "Text": "Great work Jocelyn !! I really appreciate this but I think adding all the remaining core web-services functions and bit modification can develop this as a rest client plugin.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2012, 8:42 AM",
          "AuthorName": "amit janghu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1410481&course=5",
          "role": [
            "Picture of amit janghu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Example of using Web services",
          "Text": "thanx for all these things....its helping a lot but i m nt figuring out one thing is..... $response = $curl->post( $serverurl . $restformat, $params ); what should be the value of $restformat here?? and while calling post function it takes 3 parameters. Could you please help me",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 13, 2012, 2:43 PM",
          "AuthorName": "pratik shrstha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450156&course=5",
          "role": [
            "Picture of pratik shrstha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Example of using Web services",
          "Text": "I've just realised, when replying to someone's question about my postings, that I didn't explain where the value of the $token variable came from. The values in my demo are made up, and will not work. Anyone using my code will need to make their own values. I don't have access to Moodle at the moment, but I seem to remember that the way to do this is as described in section \" Create a token \" of \"Using web services\" . The steps it describes will create and display a new token, whose value you can then use in the code. Jocelyn Ireson-Paine",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 4, 2015, 10:16 PM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 282782,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=282782",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "So no one will go down a road that leads no where ...",
          "Text": "Short version ... Setup a CentOS 6 test server without DNS just for testing for a rather large corp using Moodle remotely hosted (outside the confines of corp network - apparently the person training cannot get internal technical support).  Purpose to test webservices.  Yes, without DNS ... access via host file 'trick'.   Test server had self-signed certificate and running https:// ... Moodle configured to use https:// ... all that worked just fine.   Person doing the webservices part was successful in testing. The 'next phase' in the 'plan' (not mine) was to use a valid CA and test with that.   So embarked on setting up a valid CA (company doesn't matter).   Result ... regardless of what I did/tried, couldn't get this stealthy Apache to use certificate acquired.   Finally, an expert says ... 'No.  Can't be done.  Server *must* have a valid DNS\". Lesson learned ... the hard way - have spent 10 hours learning that lesson. :| On another note, couple of related question ... if anyone knows: Certificates are not issued for life (as we all know) and from time to time, they require renewal.  So let's say that happens to a Moodle server - expired and new certificates have not been acquired yet. How does the remote server/whatever running some app/script to do some action on the Moodle server affect re-acquire the new certs?  Or does that matter (networking comes before application). If that doesn't matter ... what does?   The token assigned to the user using webservices? Yep, if  I sound confused it's cause I am!!! Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 27, 2015, 6:04 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: So no one will go down a road that leads no where ...",
          "Text": "if SSL certificate expires. the user should get a pop-up in any browser, denoting SSL certificate issues. and noting something about it has expired. it has been some time since i had to deal with SSL certificates. so i am out of loop of current standards for them. at one time you needed a min of 2 computers. and hacks for single computer were hard to come by.  1 computer that issued certificate and 2nd computer (your site) that obtained the certificate. thinking about it. there is some DNS records that get created to deal with SSL. SSL certificates are designed to expire after so long. (security reasons) there are some applications i would imagine to do a test bed server to create certificate, without having to pay for a SSL certificate. back in the day there were so many settings and options for SSL it got a little overboard. not sure how it is today.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 27, 2015, 1:14 PM",
          "AuthorName": "ryan sanders",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=777139&course=5",
          "role": [
            "Picture of ryan sanders"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: So no one will go down a road that leads no where ...",
          "Text": "Yes, a users using a browser do get a notification and option to accept a self-signed certificate.  But, evidently, webservices on the client end cannot make such exceptions.   Have to make a correction to the testing phase here ... person at the other end (the one creating the webservices using SalesLogic, I think), had tested when stealth test server was running http (no SSL) and had no issues, but couldn't get webservices to work when server was reconfigured to run  self-sign certificate (script on his end just \"timed out\").  Webservices connection changed and there was nothing one could do in the script on his end to accept a self-signed cert. Have seen one example of webservices and it used http://site/username=blah&password=incleartext.... blah, blah. somewhere in the URL the key that is supposed to be setup for that user in Moodle to use a certain webservice. My guess is ... a valid certificate has to be created for a server that has a valid FQDN before one can use webservices under https. A valid cert from a CA is just accepted ... by browser ... user can see the icon change in a browser.  No action by the browser user required.  Webservices originally created and tested under http might require regenerating all that was scripted to use https. So there is no one here that has actually used/setup webservices to test using http that then switched to https (self-signed)? in 'learning mode' and trying to understand ... Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 1, 2015, 3:20 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 280102,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=280102",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "2.7.1  Cost to create an API",
          "Text": "Folks, I need to hire someone to create an API on a system that has a lot of the code already created and a place to test it out. I have no idea what to suggest as a fair price for such a task. If you have knowledge of the running rate for that task, would you please tell me?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 11, 2015, 4:00 AM",
          "AuthorName": "Wendi Daniels",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1635232&course=5",
          "role": [
            "Picture of Wendi Daniels"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 279918,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=279918",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "RosarioSIS has webservices-based integration to Moodle",
          "Text": "This is a bit of a cross post. RosarioSIS, a fork of CentreSIS/FocusSIS has a project on github, and a webservices integration using xml -rpc. This and other info at https://moodle.org/mod/forum/discuss.php?d=279913 It can be a good starting point if someone is looking for sample code and installation/configuration documentation. I haven't audited it, and it is not bullet-proof, but it may be the inspiration somebody needs...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 8, 2015, 2:37 AM",
          "AuthorName": "Martín Langhoff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13727&course=5",
          "role": [
            "Picture of Martín Langhoff"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 279644,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=279644",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "add course element",
          "Text": "how can I add courses elements (links and media files)  to course automatically using web services from external application? In documentation I've only found course_delete_modules to delete elements. Is is possible to add module?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 4, 2015, 4:12 PM",
          "AuthorName": "vsevp;pd trofimov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1446724&course=5",
          "role": [
            "Picture of vsevp;pd trofimov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 279622,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=279622",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "May need plugin for Web Services",
          "Text": "I need a system that will tell an outside entity that a student passed the course. The information needs to include a lot of personal information of the student, including the student's name and the timestamp mmddyyyy of when they finished the test. Is there anything currently available? Is the system already set up for this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 4, 2015, 4:57 AM",
          "AuthorName": "Wendi Daniels",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1635232&course=5",
          "role": [
            "Picture of Wendi Daniels"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 260725,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=260725",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "enrol_manual_enrol_users limit",
          "Text": "I'm trying to use the web service enrol_manual_enrol_users.  I'm running into an issue in that for each call to that api it seems I can only send about 20 enrollments at a time.  I've tried to send 30 but the enrollments don't take effect and I get no errors.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 24, 2014, 1:35 AM",
          "AuthorName": "James Henestofel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1141413&course=5",
          "role": [
            "Picture of James Henestofel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users limit",
          "Text": "Anyone have any insight on this.  I setup a test server where I was sending 22,000 enrolments through the API.  It seemed that when I sent that it would only process between 150-300 updates/inserts before it would quit.  So I broke the enrolment calls into 200 enrolment chunks and was able to get all the enrollments to process.  Is the API script timing out?  If it is how can I increase it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 10, 2014, 8:52 PM",
          "AuthorName": "James Henestofel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1141413&course=5",
          "role": [
            "Picture of James Henestofel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users limit",
          "Text": "Can someone who uses this function tell me how they are doing this.  I'm also using xml -rpc so I don't know if that has anything to do with it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 17, 2014, 9:32 PM",
          "AuthorName": "James Henestofel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1141413&course=5",
          "role": [
            "Picture of James Henestofel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users limit",
          "Text": "BUMP Come on someone has to be using this function and can tell me if they have any issues with this??????",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 14, 2015, 8:36 PM",
          "AuthorName": "James Henestofel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1141413&course=5",
          "role": [
            "Picture of James Henestofel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrol_manual_enrol_users limit",
          "Text": "I believe that the following may be related. https://moodle.org/mod/forum/discuss.php?d=260108 MDL-45573 For some reason when enrolling students it may be trying to update a quiz and since the quiz is locked the enrol api is failing",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 20, 2015, 10:59 PM",
          "AuthorName": "James Henestofel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1141413&course=5",
          "role": [
            "Picture of James Henestofel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 277823,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=277823",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "core_user_get_users function problem",
          "Text": "Hi everyone! I'm trying to use get_users function from web services, but I'm having the following problem: I signed up a user(using core_user_ create_users) and I can verify this user at Moodle User List(including his email)...but when I try to use the key=email and value equal to user email..I have the following answer: \n```text\nobject(stdClass)#2 (2) {\n  [\"users\"]=>\n  array(0) {\n  }\n  [\"warnings\"]=>\n  array(0) {\n  }\n}\n```\n So, I try to use key=id and put the test user id...in this case, 5. And returns: \n```text\nobject(stdClass)#2 (2) {\n  [\"users\"]=>\n  array(1) {\n    [0]=>\n    object(stdClass)#3 (6) {\n      [\"id\"]=>\n      int(5)\n      [\"fullname\"]=>\n      string(26) \"testfirstname testlastname\"\n      [\"firstaccess\"]=>\n      int(1419880151)\n      [\"lastaccess\"]=>\n      int(1419880151)\n      [\"profileimageurlsmall\"]=>\n      string(58) \"\nhttp://192.168.2.126/moodle/pluginfile.php/31/user/icon/f2\n\"\n      [\"profileimageurl\"]=>\n      string(58) \"\nhttp://192.168.2.126/moodle/pluginfile.php/31/user/icon/f1\n\"\n    }\n  }\n  [\"warnings\"]=>\n  array(0) {\n  }\n}\n```\n Why I can't see the email address from user? I have tried core_user_get_users and get_users_by_fields..and I've the same problem. I'm testing in Moodle 2.8. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 5, 2015, 8:28 PM",
          "AuthorName": "Andre Figueiredo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1898449&course=5",
          "role": [
            "Picture of Andre Figueiredo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_user_get_users function problem",
          "Text": "Ok...I find the problem. It's a bug: https://tracker.moodle.org/browse/MDL-42639 Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 9, 2015, 2:41 AM",
          "AuthorName": "Andre Figueiredo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1898449&course=5",
          "role": [
            "Picture of Andre Figueiredo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_get_users function problem",
          "Text": "Ok...I was wrong...Ray Morris help me at https://tracker.moodle.org/browse/MDL-42639 If you have the same problem, verify if the following permissions are enabled to your Web Service Group: moodle/user:viewhiddendetails, moodle/course:useremail, moodle/user:update, moodle/site:viewuseridentity Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 10, 2015, 1:12 AM",
          "AuthorName": "Andre Figueiredo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1898449&course=5",
          "role": [
            "Picture of Andre Figueiredo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_get_users function problem",
          "Text": "Hello, I am facing the same problem for some time now. In fact I had two Moodle instances where I was testing my Web Services Client and in one of the two core_get_users was working and on the other it didnt work, The one, that worked, is version Moodle 2.7.2+ (Build: 20140911) Anyway, following your suggestion I gave the permissions you mentioned to my other instance ( Moodle 2.7.2+ (Build: 20141002) ) but I am still getting an empty response. The only way to make this work is to give Administrator role to my webservice user. But even when the webservice is administrator, when I make a call I dont receive all the information specified in the API Documentation, I get less. Is this normal? Could you please let me know if you managed to fix it and how? Many Thanks Christos",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 17, 2015, 12:23 AM",
          "AuthorName": "Christos Savva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1466152&course=5",
          "role": [
            "Picture of Christos Savva"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_user_get_users function problem",
          "Text": "I think I just found why I am getting less information... When I am using &moodlewsrestformat=json I get \n```text\n{\n```\n \n```text\n    \n\"users\"\n: [\n```\n \n```text\n        {\n```\n \n```text\n            \n\"id\"\n: \n72\n,\n```\n \n```text\n            \n\"username\"\n: \n\"admin\"\n,\n```\n \n```text\n            \n\"firstname\"\n: \n\"Moodle\"\n,\n```\n \n```text\n            \n\"lastname\"\n: \n\"Admin\"\n,\n```\n \n```text\n            \n\"fullname\"\n: \n\"Moodle\"\n,\n```\n \n```text\n            \n\"email\"\n: \n\"admin@moodle.test\"\n,\n```\n \n```text\n            \n\"department\"\n: \n\"\"\n,\n```\n \n```text\n            \n\"firstaccess\"\n: ,\n```\n \n```text\n            \n\"lastaccess\"\n: ,\n```\n \n```text\n            \n\"description\"\n: \n\"\"\n,\n```\n \n```text\n            \n\"descriptionformat\"\n: \n1\n,\n```\n \n```text\n            \n\"city\"\n: \n\"Nicosia\"\n,\n```\n \n```text\n            \n\"country\"\n: \n\"CY\"\n,\n```\n \n```text\n            \n\"profileimageurlsmall\"\n: \n\"\n\"\n,\n```\n \n```text\n            \n\"profileimageurl\"\n: \n\"\n\"\n```\n \n```text\n        }\n```\n \n```text\n    ],\n```\n \n```text\n    \n\"warnings\"\n: []\n```\n \n```text\n}\n```\n \n```text\n\n```\n \n```text\nwhen I have\n```\n \n```text\n\n```\n \n```text\n<?\nxml\n version=\"1.0\" encoding=\"UTF-8\" ?>\n<RESPONSE>\n    <SINGLE>\n        <KEY name=\"users\">\n            <MULTIPLE>\n                <SINGLE>\n                    <KEY name=\"id\">\n                        <VALUE>72</VALUE>\n                    </KEY>\n                    <KEY name=\"username\">\n                        <VALUE>admin</VALUE>\n                    </KEY>\n                    <KEY name=\"firstname\">\n                        <VALUE>Moodle</VALUE>\n                    </KEY>\n                    <KEY name=\"lastname\">\n                        <VALUE>Admin</VALUE>\n                    </KEY>\n                    <KEY name=\"fullname\">\n                        <VALUE>Moodle Admin</VALUE>\n                    </KEY>\n                    <KEY name=\"email\">\n                        <VALUE>\nadmin@moodle.test\n</VALUE>\n\n\n                    </KEY>\n                    <KEY name=\"address\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"phone1\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"phone2\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"icq\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"skype\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"yahoo\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"aim\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"msn\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"department\">\n                        <VALUE></VALUE>\n                    </KEY>\n                    <KEY name=\"institution\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"idnumber\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"interests\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"firstaccess\">\n                        <VALUE></VALUE>\n                    </KEY>\n                    <KEY name=\"lastaccess\">\n                        <VALUE></VALUE>\n                    </KEY>\n                    <KEY name=\"auth\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"confirmed\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"lang\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"calendartype\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"theme\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"timezone\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"mailformat\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"description\">\n                        <VALUE></VALUE>\n                    </KEY>\n                    <KEY name=\"descriptionformat\">\n                        <VALUE>1</VALUE>\n                    </KEY>\n                    <KEY name=\"city\">\n                        <VALUE>Nicosia</VALUE>\n                    </KEY>\n                    <KEY name=\"url\">\n                        <VALUE null=\"null\"/>\n                    </KEY>\n                    <KEY name=\"country\">\n                        <VALUE>CY</VALUE>\n                    </KEY>\n                    <KEY name=\"profileimageurlsmall\">\n                        <VALUE></VALUE>\n                    </KEY>\n                    <KEY name=\"profileimageurl\">\n                        <VALUE></VALUE>\n                    </KEY>\n                    <KEY name=\"customfields\">\n                        <MULTIPLE></MULTIPLE>\n                    </KEY>\n                    <KEY name=\"preferences\">\n                        <MULTIPLE></MULTIPLE>\n                    </KEY>\n                </SINGLE>\n            </MULTIPLE>\n        </KEY>\n        <KEY name=\"warnings\">\n            <MULTIPLE></MULTIPLE>\n        </KEY>\n    </SINGLE>\n</RESPONSE>\n```\n \n```text\n\n```\n \n```text\nSo i guess empty values are not returned when using \nJSON\n.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 17, 2015, 12:43 AM",
          "AuthorName": "Christos Savva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1466152&course=5",
          "role": [
            "Picture of Christos Savva"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 176327,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=176327",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "XML-RPC File upload",
          "Text": "Hi, maybe someone has experience with the problem I'm facing:\n\nI'm trying to upload a file to Moodle private files via XML -RPC from another site I'm currently running (it is posible, right?) and have read all the documentation, including http://docs.moodle.org/en/Development:Web_services:Files . But can't figure out what should I pass as 'filecontent' to the moodle_file_upload function ! My params: $params = array 0 => int 13 1 => string 'user' (length=4) 2 => string 'private' (length=7) 3 => int 1 4 => string '/' (length=1) 5 => string 'text.txt' (length=9) 6 => string 'my file content' (length=15)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 29, 2011, 6:45 AM",
          "AuthorName": "Magdalena Maglicic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295161&course=5",
          "role": [
            "Picture of Magdalena Maglicic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: XML-RPC File upload",
          "Text": "Dear Magdalena, Sorry but I haven`t the answer to your question, but I have another questions, how do you obtain the $contextId (first parameter). Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 28, 2011, 10:27 PM",
          "AuthorName": "silvia bastos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337883&course=5",
          "role": [
            "Picture of silvia bastos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: XML-RPC File upload",
          "Text": "I currently having this problem too. I use v2.2 and this doesnt work for either 'moodle_file_upload' or 'core_files_upload'. I follow the same approach as described in the link above. here's my parameters: $params = array( 'wsfunction' => 'core_files_upload', 'contextid'=>'3486', 'component'=>'user', 'filearea'=>'private', 'itemid'=>'1', 'filepath'=>'/', 'filename'=>'test.txt', 'filecontent'=>base64_encode('this is a txt file') ); It returns: string(128) \"<?xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"moodle_exception\"> <MESSAGE>File not specified</MESSAGE> </EXCEPTION> Is there something wrong with the parameters? I'm using Zend Rest for the client. For the time being, I use curl approach as described in https://github.com/moodlehq/sample-ws-clients/tree/master/PHP-HTTP-filehandling (client.php) It worked and create a new folder/file in moodledata filedir folder, but the problem now is that I dont know which course the uploaded file go to. Can anyone point out what is wrong with the $params above? Since I've wrote all my webservice clients using Zend client. Many thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 21, 2011, 6:56 PM",
          "AuthorName": "Rimphy Darmanegara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370704&course=5",
          "role": [
            "Picture of Rimphy Darmanegara"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: XML-RPC File upload",
          "Text": "Hmm, I see the contextid is user contextid right? The 3486 above is a course contextid. But still this is not what I intend to do. I want some kind of web service agent to upload a file on behalf of a user to a particular course, not the user itself uploading the file. Is there any way this can be done? Many thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 21, 2011, 8:07 PM",
          "AuthorName": "Rimphy Darmanegara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370704&course=5",
          "role": [
            "Picture of Rimphy Darmanegara"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: XML-RPC File upload",
          "Text": "I'm using different approach now upload to user private files, but bump to file size quota at 100MB. What is the maximum number can be set in ' Site administration > Security > Site policies > User quota' ? I've also asked similar question here: http://moodle.org/mod/forum/discuss.php?d=155219#p840014 Many thanks;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 27, 2011, 2:35 PM",
          "AuthorName": "Rimphy Darmanegara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370704&course=5",
          "role": [
            "Picture of Rimphy Darmanegara"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: XML-RPC File upload",
          "Text": "Hi Rimphy, I picked up this old post as I needed some help with core_files_upload. I am using the CURL client and keep on getting error in parameter signature. Can you please help me out with what is the exact parameter which needs to be passed. I am including the script I am using: ?php error_reporting(E_ALL); ini_set('display_errors', true); $domainname = 'http://localhost:8888/moodle27'; $authToken = '78a911fae46c14b3cd36d3651f7f0c9d'; header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/xmlrpc/ server .php'. '?wstoken=' . $authToken; require_once('./curl.php'); $curl = new curl; $functionname = 'core_files_upload'; $params1 = array( 'contextid'  => 30, 'component'    => 'user', 'filearea'     => 'draft', 'itemid'       => 0, 'filepath'     => \"/\", 'filename'     => \"for-upload.txt\", 'filecontent'  => base64_encode(\"upload third moodle file\")  , 'contextlevel' => null , 'instanceid' => 1 ); $post = xmlrpc_encode_request($functionname, $params1); $resp = xmlrpc_decode($curl->post($serverurl, $post)); print_r($resp);",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 7, 2015, 1:44 AM",
          "AuthorName": "James Taylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1898929&course=5",
          "role": [
            "Picture of James Taylor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 178715,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=178715",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "SSO with web services",
          "Text": "Hello, I want to develop a SSO integration between Moodle and an external application and it seems to me that web services is the best solution. However, Moodle's session management functions (login, logout) are not directly available to be accessed by web service clients. Is there any reason for this? Thanks for your help, ED",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 29, 2011, 9:32 PM",
          "AuthorName": "Emanuel Delgado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=438973&course=5",
          "role": [
            "Picture of Emanuel Delgado"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: SSO with web services",
          "Text": "Hello ED, I am using the OKTech webservices with my Moodle 1.9.x. The WSDL clearly shows both login and logout functions (try it in some UI based tool like SOAP UI for ease) and am able to successfully login with the same. The clientId & sessionKey you get from the successful call of the login service needs to be further used for all the subsequent function calls (example: to get courses, sections , resources...). Regards, Ramakant",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 30, 2011, 11:15 PM",
          "AuthorName": "Ramakant Kulkarni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295351&course=5",
          "role": [
            "Picture of Ramakant Kulkarni"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SSO with web services",
          "Text": "Hello Ramkant, I wana implment SSO with webservices.. I am confused.. I have followed all steps. I wana use soap to implement SSO. http://docs.moodle.org/20/en/How_to_enable_web_services_for_an_external_system http://docs.moodle.org/dev/Creating_a_web_service_and_a_web_service_function#Add_the_web_service_function_into_a_service I am complet new to moodle 2.1. could you pls tell me how to do that one.? I am just doing R&D .. Thanks Prakash Admane",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 10, 2011, 12:14 AM",
          "AuthorName": "prakash a",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1346774&course=5",
          "role": [
            "Picture of prakash a"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SSO with web services",
          "Text": "Hello Ramakant and Prakesh, I am trying to exactly the same thing as you have described. I wish to set up a Moodle in such a way that external application will send the UID and Credentials to moodle and SSO will happen on moodle side and user will be automatically log- in to moodle. I think the best way to go about is by using Web Services. My problem is I have never worked with Web Services. Can you please let me know if you have figured out how to set it up? Is there any step by step process documented to set up moolde to do this kind of SSO? Thanking in advance Salil Pendse",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, December 26, 2013, 6:19 PM",
          "AuthorName": "Salil Pendse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1732706&course=5",
          "role": [
            "Picture of Salil Pendse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SSO with web services",
          "Text": "You could use core_webservice_get_site_info as it requires no capabilities within Moodle apart from the user being able to access web services. The easiest protocol to use would be REST (I'm not shouting, it's an acronym) as all it requires is a GET http call and the processing of an XML response. Depending on the response you can determine if the user is authorised or not.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 27, 2013, 6:18 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SSO with web services",
          "Text": "However there are no calls to log you in using the web services currently in Moodle, you can only check you are a valid user. Just read your question again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 2, 2014, 7:18 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SSO with web services",
          "Text": "Hi, I'm wondering if it is possible to use web services on a site that has SSO authentication. The problem is, I can't get web service tokens as there is no username, password authentication when using moodle with SSO. Any help is greatly appreciated. Thanks in advance Best, Praveen. http://praveenkumar.co.in",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Sunday, December 28, 2014, 10:30 AM",
          "AuthorName": "Praveen Pendyala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470246&course=5",
          "role": [
            "Picture of Praveen Pendyala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SSO with web services",
          "Text": "Hi, are you looking for something like this? https://tracker.moodle.org/browse/MDL-44541",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 30, 2014, 12:45 AM",
          "AuthorName": "Alexander K.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1336486&course=5",
          "role": [
            "Picture of Alexander K."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SSO with web services",
          "Text": "Hi, Yes! I will take a good look and see if I understand it correctly. Thanks. Best, Praveen http://praveenkumar.co.in",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 30, 2014, 1:24 AM",
          "AuthorName": "Praveen Pendyala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470246&course=5",
          "role": [
            "Picture of Praveen Pendyala"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 251203,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=251203",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Adding activity to courses using API",
          "Text": "Is it possible to add activity to a course using API is there already something ready to use or it has to be developed?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 1, 2014, 12:37 AM",
          "AuthorName": "Luca Gioppo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1564377&course=5",
          "role": [
            "Picture of Luca Gioppo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Adding activity to courses using API",
          "Text": "Having the same question here. Did you find any information about it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 24, 2014, 3:46 AM",
          "AuthorName": "Jorge Villalon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=18722&course=5",
          "role": [
            "Picture of Jorge Villalon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding activity to courses using API",
          "Text": "I had created plugin for \"Bulk course creations\" on local system getting course contents from 2 webservice. Now I am going to develop a webservice. When a user pass required parameter to this \"Bulk Course creation\" plugin from another system. It will collect course content from webservice, create whole new course with new activities /contents etc and return course link. I am sure it is possible to add activities in courses via webservice/api. Soon, I will share my experience.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 24, 2014, 4:03 PM",
          "AuthorName": "Syed Nayab Bukhari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1572908&course=5",
          "role": [
            "Picture of Syed Nayab Bukhari",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding activity to courses using API",
          "Text": "Just started to dwell in the same question, was wondering what was the outcome of this ? cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 22, 2014, 5:35 PM",
          "AuthorName": "Samuel Than",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1358546&course=5",
          "role": [
            "Picture of Samuel Than"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding activity to courses using API",
          "Text": "I was able to make a plugin to add a quiz to a course page https://github.com/cytochromec/moodle-block-quizlet_import The code that actually adds the quiz starts on line 234 of quizlet_import.php (pasted below) //create an object with all of the neccesary information to build a quiz $myQuiz = new stdClass (); $myQuiz -> modulename = ' quiz ' ; $myQuiz -> name = $title ; $myQuiz -> introformat = 0 ; $myQuiz -> quizpassword = ' ' ; $myQuiz -> course = $id1 ; $myQuiz -> section = $sectionNum ; $myQuiz -> timeopen = 0 ; $myQuiz -> timeclose = 0 ; $myQuiz -> timelimit = 0 ; $myQuiz -> grade = $Points ; $myQuiz -> sumgrades = $Points ; $myQuiz -> gradeperiod = 0 ; $myQuiz -> attempts = 1 ; $myQuiz -> preferredbehaviour = ' deferredfeedback ' ; $myQuiz -> attemptonlast = 0 ; $myQuiz -> shufflequestions = 0 ; $myQuiz -> grademethod = 1 ; $myQuiz -> questiondecimalpoints = 2 ; $myQuiz -> visible = 1 ; $myQuiz -> questionsperpage = 1 ; $myQuiz -> introeditor = array ( ' text ' => ' A matching quiz ' , ' format ' => 1 ); //all of the review options $myQuiz -> attemptduring = 1 ; $myQuiz -> correctnessduring = 1 ; $myQuiz -> marksduring = 1 ; $myQuiz -> specificfeedbackduring = 1 ; $myQuiz -> generalfeedbackduring = 1 ; $myQuiz -> rightanswerduring = 1 ; $myQuiz -> overallfeedbackduring = 1 ; $myQuiz -> attemptimmediately = 1 ; $myQuiz -> correctnessimmediately = 1 ; $myQuiz -> marksimmediately = 1 ; $myQuiz -> specificfeedbackimmediately = 1 ; $myQuiz -> generalfeedbackimmediately = 1 ; $myQuiz -> rightanswerimmediately = 1 ; $myQuiz -> overallfeedbackimmediately = 1 ; $myQuiz -> marksopen = 1 ; $myQuiz -> attemptclosed = 1 ; $myQuiz -> correctnessclosed = 1 ; $myQuiz -> marksclosed = 1 ; $myQuiz -> specificfeedbackclosed = 1 ; $myQuiz -> generalfeedbackclosed = 1 ; $myQuiz -> rightanswerclosed = 1 ; $myQuiz -> overallfeedbackclosed = 1 ; //actually make the quiz using the function from course/lib.php $myQuiz2 = create_module( $myQuiz ); //print_object($myQuiz2); //get the last added random short answer matching question (which will likely be the one we just added) $result = $DB -> get_records( ' question ' , array ( ' qtype ' => ' randomsamatch ' )); $keys = array_keys ( $result ); $count = count ( $keys ); //add the quiz question quiz_add_quiz_question( $result [ $keys [ $count - 1 ]] -> id , $myQuiz2 , $page = 0 , $maxmark = null );",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 25, 2014, 12:39 AM",
          "AuthorName": "Colin Matheson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=246289&course=5",
          "role": [
            "Picture of Colin Matheson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding activity to courses using API",
          "Text": "Interesting. Thanks for sharing.. will give that idea a spin...",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, November 26, 2014, 8:43 AM",
          "AuthorName": "Samuel Than",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1358546&course=5",
          "role": [
            "Picture of Samuel Than"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding activity to courses using API",
          "Text": "Thanks for sharing. I am looking for api to add scorm package(external- URL ) to existing course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 24, 2014, 2:54 PM",
          "AuthorName": "Rt S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1780979&course=5",
          "role": [
            "Picture of Rt S"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 261463,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=261463",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "OKTech & M2.6 - How to remove only one role (Teacher) in a course with multiple roles (Teacher,Student).",
          "Text": "I can't seem to figure out how to remove a Teacher role from a user who has multiple roles in a course (Teacher and Student). I want to preserve any user data in the course, so I don't want to fully unenroll them and then enroll them again. Any tips? I'm using the OK Tech plugin and Moodle v2.6. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 4, 2014, 1:00 AM",
          "AuthorName": "Aaron Henderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=594137&course=5",
          "role": [
            "Picture of Aaron Henderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: OKTech & M2.6 - How to remove only one role (Teacher) in a course with multiple roles (Teacher,Student).",
          "Text": "Hi Aaron, do you figured out how to do this? .. I have the same need.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 9, 2014, 4:48 AM",
          "AuthorName": "Rafael Alvarado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1891718&course=5",
          "role": [
            "Picture of Rafael Alvarado"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 274111,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=274111",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "WSOD when trying to access soap webservice",
          "Text": "When I try to access webservice using http://mydomain/webservice/soap/ server .php?wstoken=mytoken I just get a blank screen, I checked PHP errors and I get [30-Oct-2014 12:46:41 UTC] PHP Fatal error:  Cannot redeclare class webservices_struct_class_000026 in /.../public_html/webservice/soap/locallib.php(297) : eval()'d code on line 5 I checked phpinfo() on both server and client domain and soap is enabled; why is it failing? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 30, 2014, 8:52 PM",
          "AuthorName": "Lluís Forns Puigmartí",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=353459&course=5",
          "role": [
            "Picture of Lluís Forns Puigmartí"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: WSOD when trying to access soap webservice",
          "Text": "Hello, Facing the same problem. Any hint is appreciated. thnx, amer",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 4, 2014, 3:12 PM",
          "AuthorName": "A. H.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=99413&course=5",
          "role": [
            "Picture of A. H."
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 275959,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=275959",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Services",
          "Text": "What is the difference between using the web services like REST, Soap, OSLC etc and Web RTc. I am doing a project for college, where i have a simulated network of wind turbines and a user front end to show their performances. I need to consider which web services will work best for this project and i need it to be near real time. Do I need to consider Web RTC, would it be too expensive, or should i just stick to Web services and protocol",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 30, 2014, 7:42 PM",
          "AuthorName": "Brendan Flynn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1888551&course=5",
          "role": [
            "Picture of Brendan Flynn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 275832,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=275832",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to Upload a File and Map it to Course",
          "Text": "Hello guys,How to Upload a File and Map it to Course via web service using the core_files_upload Web Sevice",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 27, 2014, 11:55 PM",
          "AuthorName": "Amith Ram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1887179&course=5",
          "role": [
            "Picture of Amith Ram"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 275673,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=275673",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Course Contents on mobile app",
          "Text": "I just want to know how to get course contents using webservice. I know the function \"core_course_get_contents\" Which returns the title and page views as link say http://localhost/....mod/page/view.php?id= How should i get the original contents(html) from that using token. Can i have to modify the code to get the content? Not sure how was it used on moodle mobile Thanks Jai",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 25, 2014, 8:06 PM",
          "AuthorName": "jai sankar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=303572&course=5",
          "role": [
            "Picture of jai sankar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Contents on mobile app",
          "Text": "The function core_course_get_contents returns: Sections - Modules in each section ( activities or resources) -- If the module is a resource it returns a list of the files used by this resource in the \"contents\" attribute That attribute is an array of files, there you will have a fileurl attribute that is the download URL for the file (if you are using Web Services you should append the WS token) Example of URL returned: http://xxmoodle.net/mobile/moodle25/webservice/pluginfile.php/29/mod_resource/content/3/MontBlancE.pdf?forcedownload=1 How you need to modify the URL to download the file: http://xxmoodle.net/mobile/moodle25/webservice/pluginfile.php/29/mod_resource/content/3/MontBlancE.pdf?forcedownload=1&token=ABCDEFG ... Here you have a sample response of that WS: https://github.com/moodlehq/moodlemobile/blob/master/emulator/core_course_get_contents.json Cheers, Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 26, 2014, 6:47 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Contents on mobile app",
          "Text": "Thanks juan.  I found it out thru documentation. BTW , is there option exists to download/view the activities via webservice.. Thanks Jai",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 27, 2014, 1:39 AM",
          "AuthorName": "jai sankar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=303572&course=5",
          "role": [
            "Picture of jai sankar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 275457,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=275457",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "web servises in moodle 1.9",
          "Text": "i'm trying to enable web services (rest, soap) in moodle 1.9 but i cant find something about, does anybody know (remember) how to do that????",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 21, 2014, 6:36 AM",
          "AuthorName": "An Da",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1597510&course=5",
          "role": [
            "Picture of An Da"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: web servises in moodle 1.9",
          "Text": "Hello There is no official Web service for 1.9 You may go a go to OK WS https://github.com/patrickpollet/moodlews Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 21, 2014, 6:07 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 273396,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=273396",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "unenrol users enrolled via web services",
          "Text": "We have been using web services to create groups and enrol users for a few years.  We also use the web services to unenrol users too.  Or so we thought. Once a user should no longer have access to a course, the web service runs and removes the relevant row from mdl_role_assignments table.  However, the equivalent row remains in the mdl_user_enrolments table. When we call the web services to enrol users we call both functions core_role_assign and enrol_manual_enrol_users.  However, for unenrolments, there is only the core_role_unassign function. How can we remove the user enrolment as well? (We are also creating groups and putting users into them.  If we don't use the enrol_manual_enrol_users function, it complains that we can't put them into the group because they're not enrolleed on the course). Any help or guidance would be appreciated. thanks Nick",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 22, 2014, 5:41 PM",
          "AuthorName": "Nick Freeman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1368176&course=5",
          "role": [
            "Picture of Nick Freeman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: unenrol users enrolled via web services",
          "Text": "In the function enrol_manual_enrol_users in your web service send the parameter \"suspend\" equal to \"1\" value",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 28, 2014, 6:14 AM",
          "AuthorName": "Reghyna Rodriguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830308&course=5",
          "role": [
            "Picture of Reghyna Rodriguez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: unenrol users enrolled via web services",
          "Text": "thank you very much Reghyna for responding.  We'll give that a try - we hadn't realised that function could accept that parameter.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 4, 2014, 12:50 AM",
          "AuthorName": "Nick Freeman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1368176&course=5",
          "role": [
            "Picture of Nick Freeman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: unenrol users enrolled via web services",
          "Text": "Sorry to go off topic but could you take a look at this https://moodle.org/mod/forum/discuss.php?d=260725 and see if you have any suggestions for me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 14, 2014, 11:03 PM",
          "AuthorName": "James Henestofel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1141413&course=5",
          "role": [
            "Picture of James Henestofel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 274737,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=274737",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "rest web service URL",
          "Text": "if we choose to implement a restful web service in ejb module not in a web module.how to get url of this ws to invoke it.before we use http://localhost:port /project/ws/method but now i implement ws like any ejb how to call it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 10, 2014, 4:45 PM",
          "AuthorName": "elarbi mannou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1880279&course=5",
          "role": [
            "Picture of elarbi mannou"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 274308,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=274308",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Calling Moodle Web Services from Perl",
          "Text": "In putting together this online programming school https://geekuni.com/ I've implemented a simple wrapper for accessing the Moodle Web Services from Perl https://metacpan.org/pod/WebService::Moodle::Simple I just thought it might be of some benefit to others...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 2, 2014, 11:57 PM",
          "AuthorName": "Andrew Solomon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3710&course=5",
          "role": [
            "Picture of Andrew Solomon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 274015,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=274015",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "$USER variable in moodle web service",
          "Text": "Hi all, I'm having some troubles using web service mod_assign_get_assignments which uses method get_assignments. As I understand this method takes the logged in user's session by using  $USER->id variable and returns list of all his assignments. I'm sending as parameter capabilities array is empty. courseids: array of users' list of courses by taken from web service core_enrol_get_users_courses which works fine. Even thought I'm logged in as a simple user to moodle and calling the web service on the same browser, it always refers to the admin's user id and i'm getting  \"User is not enrolled or does not have requested capability\" Thanks for replying",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 29, 2014, 10:13 PM",
          "AuthorName": "Nir Karniel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1603762&course=5",
          "role": [
            "Picture of Nir Karniel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 273528,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=273528",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Call a web service from Moodle",
          "Text": "I would like to call some external web services based on some Moodle event: send an ok to the academic system when a student got a 100% to some special test. I'm just begin to think about. I've still built a web service with the Moodle API and it works fine. But it's not really clear for me if it possible to integrate the reverse so easily. Any ideas are welcome, thanks in advance,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 23, 2014, 9:10 PM",
          "AuthorName": "Hélène Bouley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1799958&course=5",
          "role": [
            "Picture of Hélène Bouley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 236094,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=236094",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Local Web Service",
          "Text": "I've created a local web service based on core_enrol_get_enrolled_users. It works almost perfectly, for some reason the Username field shows up as: <KEY name=\"username\"> <VALUE null=\"null\"/> </KEY> This is a REST request, on Moodle 2.3. I wondered if I had just missed something but if I use the token to call core_enrol_get_enrolled_users it does the same thing. Is this a permissions problem? Maybe my WSuser isnt' allowed to view usernames? Thanks for any help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 29, 2013, 10:15 PM",
          "AuthorName": "Andy Byers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1554618&course=5",
          "role": [
            "Picture of Andy Byers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Local Web Service",
          "Text": "If I grant the WSUSER account site admin priveleges this starts working, take it away and it shows the above. Not sure what permission I'm missing because the user has all the perms required to run the web service (and there are no permission errors during run).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 29, 2013, 11:39 PM",
          "AuthorName": "Andy Byers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1554618&course=5",
          "role": [
            "Picture of Andy Byers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Local Web Service",
          "Text": "Having the exact same issue with the same workaround. This is caused by a permissions check within the Web Service call that never appears to return true for an external web service user. Have logged as MDL-47783 Yours James",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 21, 2014, 1:36 PM",
          "AuthorName": "James Ballard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=73508&course=5",
          "role": [
            "Picture of James Ballard"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 272736,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=272736",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "web services with own apps",
          "Text": "I'm a newbie, i want to develop my own app that can perform user log-in and show their enrolled courses? How can I do?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 15, 2014, 11:35 AM",
          "AuthorName": "pak c",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1860169&course=5",
          "role": [
            "Picture of pak c"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 271006,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=271006",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External Database User - Web Services",
          "Text": "Hey Everyone, We are developing a web services plugin at the moment which is working fine when being used by a user on the site. We also have the external database authentication method enabled as our users are based out of a different web-application. The issue we are having is that the users who authenticate through external database authentication plugin cannot access or use any of the web-services. Has anyone experienced this before or can shed some light on this. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 29, 2014, 12:12 PM",
          "AuthorName": "Aaron Leggett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1552464&course=5",
          "role": [
            "Picture of Aaron Leggett"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Database User - Web Services",
          "Text": "Resolved the issue, The user has to have logged into the Moodle before so the account is copied into the Moodle user table",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 3, 2014, 10:19 AM",
          "AuthorName": "Aaron Leggett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1552464&course=5",
          "role": [
            "Picture of Aaron Leggett"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 271197,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=271197",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Login with facebook problems",
          "Text": "Getting login with facebook problem in my simple mp3 downloader android app. It is getting crash everytime. I dont know if it is Facebook SDK problem. Please let me know if someone can help me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 1, 2014, 12:18 PM",
          "AuthorName": "Mohit farswan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1858733&course=5",
          "role": [
            "Picture of Mohit farswan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 271128,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=271128",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Access to activity report",
          "Text": "Hi!! I'm developing a web app and I need external access(web service) to the activity report of the students, the same activity report viewed here: *MOODLEURL*/report/log/user.php?id=userid&course=courseid&mode=all I haven't seen any function for this for the API REST. I also have seen the log is stored in this table ' mdl_logstore_standard_log' My question is how can I access this data with a web service??? Is not possible? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 30, 2014, 8:01 PM",
          "AuthorName": "Ignacio Suarez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1857639&course=5",
          "role": [
            "Picture of Ignacio Suarez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 246280,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=246280",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "mod_forum_get_discussions",
          "Text": "Anyone know the syntax to get the forums discussions?! And check if the id returned from the mod_forum_get_forums_by_courses is the forum id?! What already tried: moodleURL/webservice/rest/server.php?wstoken=myToken&wsfunction=mod_forum_get_forum_discussions[forumids] =forumIdReturnedFromGetForums moodleURL/webservice/rest/server.php?wstoken=myToken&wsfunction=mod_forum_get_forum_discussions =forumIdReturnedFromGetForums moodleURL/webservice/rest/server.php?wstoken=myToken&wsfunction=mod_forum_get_forum_discussions = [forumids] Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 24, 2013, 4:21 PM",
          "AuthorName": "Fábio Barreiros",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575194&course=5",
          "role": [
            "Picture of Fábio Barreiros"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: mod_forum_get_discussions",
          "Text": "Solved sorry here is the right syntax: moodleURL/webservice/rest/server.php?wstoken=yourToken&wsfunction=mod_forum_get_forum_discussions&forumids[0]=f orumId",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 24, 2013, 4:29 PM",
          "AuthorName": "Fábio Barreiros",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575194&course=5",
          "role": [
            "Picture of Fábio Barreiros"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: mod_forum_get_discussions",
          "Text": "Thiago... I have followed your suggestions and I am getting the following: <EXCEPTION class =\" webservice_access_exception \" > <ERRORCODE> accessexception </ERRORCODE> <MESSAGE> Access control exception </MESSAGE> </EXCEPTION>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 19, 2014, 10:04 PM",
          "AuthorName": "Gabriel Souza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1782325&course=5",
          "role": [
            "Picture of Gabriel Souza"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 245759,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=245759",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Invalid parameter in core_get_string call",
          "Text": "When calling: http:// server /moodle/webservice/rest/server.php?wstoken=averylongstringforatoken&wsfunction=core_get_string&stringid=actionchoice I get an invalid parameter error. In theory the rest of the possible parameters should use the defaults, the only required parameter according to the API is the stringid. The above value for string id has been taken from the lang/en/moodle.php file, the component defaulting to \"moodle\" and the lang defaulting to \"en\". Are there any issues with this call? Any clues?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 13, 2013, 10:52 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Invalid parameter in core_get_string call",
          "Text": "Discovered if you comment out line 90 in moodle/lib/external/externallib.php which is: 'lang' => new external_value(PARAM_LANG, 'lang', VALUE_DEFAULT, null), Then this call works. I'm using Moodle 2.6",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 14, 2013, 12:17 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid parameter in core_get_string call",
          "Text": "By the way, this call did not work even though I did try to pass lang=en as a parameter, the parameter validation code does not function correctly as it does not appear to be passed to the routine to be checked.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 2, 2014, 6:38 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid parameter in core_get_string call",
          "Text": "I discovered this issue as well. The problem is a mismatch between the external function parameters returned by get_string_parameters() and the actual method signature of get_string:  get_string does not have a lang parameter.  However the definition below specifies one (see below). public static function get_string_parameters() { return new external_function_parameters( array('stringid' => new external_value(PARAM_STRINGID, 'string identifier'), 'component' => new external_value(PARAM_COMPONENT,'component', VALUE_DEFAULT, 'moodle'), 'lang' => new external_value(PARAM_LANG, 'lang', VALUE_DEFAULT, null), 'stringparams' => new external_multiple_structure ( new external_single_structure(array( 'name' => new external_value(PARAM_ALPHANUMEXT, 'param name - if the string expect only one $a parameter then don\\'t send this field, just send the value.', VALUE_OPTIONAL), 'value' => new external_value(PARAM_TEXT,'param value'))), 'the definition of a string param (i.e. {$a->name})', VALUE_DEFAULT, array() ) I will do as Bill suggested, ie comment out the 'lang' parameter definition from the get_string web service call.  However that only addresses this issue temporarily ( and only for me .. and Bill ). Has this been resolved in a later version of Moodle?  I too am using version 2.6. I'm not a PHP developer (I spend most of my time in java ) and I'm more used to stronger typed languages and so not at all used to this type of scenario.  Nonetheless I have a suggestion that could help guard against this parameter/mismatch and create a more tightly checked system. Is it possible to write a unit (or integration) test that iterates through all the externally defined functions (SELECT * FROM mdl_external_functions) and validates that all the function parameter definitions actually match up with the function signatures.  Not being a PHP dev I'm not sure if you can extract that sort of meta data.  Anyhow, just a thought.  No idea if this is doable.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Sunday, September 7, 2014, 9:35 PM",
          "AuthorName": "David Balme",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1841748&course=5",
          "role": [
            "Picture of David Balme"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 268615,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=268615",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Permissions not working as expected through REST API",
          "Text": "Hi, I am trying to use REST API to create users in Moodle. I am getting token for a user which has \"Student\" role from below URL and able to get that token http://yourdomain.com/moodle/login/token.php/?username=teststudent&password=blahblahblah&service=TEST_SERVICE and now I am trying to create user through this token http://54.191.197.43/moodle/webservice/rest/server.php/?token=mytoken&wsfunction=moodle_user_create_user but it still allows me to create user even if I set \"Prohibit\" for create user permission for \"Student\" role. Can someone help me with this ? Why permission check is not happening in this scenario ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 3, 2014, 4:12 PM",
          "AuthorName": "Pratik Sathaye",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1837204&course=5",
          "role": [
            "Picture of Pratik Sathaye"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 258828,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258828",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "webservices for Assignment",
          "Text": "Moodle 2.6 introduces new webservices for Assignment module and I'm trying to use them, following API documentation. The problem is that I don't know how to retrieve some of the input parameters required, for example mod_assign_save_submission requires the plugindata structure, containing information about draft area, how can I get them? In https://tracker.moodle.org/browse/MDL-37148 I have read about mod_assign_prepare_submission function, but there is not such function in current Moodle version, is there any other way to retrieve this kind of information? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 23, 2014, 4:15 PM",
          "AuthorName": "Laura Celentano",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785497&course=5",
          "role": [
            "Picture of Laura Celentano"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: webservices for Assignment",
          "Text": "Anyone can give me some advice? I just would like to understand if I have to give up on these functions and try to create my own webservices. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 29, 2014, 3:12 PM",
          "AuthorName": "Laura Celentano",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785497&course=5",
          "role": [
            "Picture of Laura Celentano"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservices for Assignment",
          "Text": "This is how I'm using the functions above: First upload the file draft using core_files_upload, something like: http://mymoodle/moodle/webservice/rest/ server .php?moodlewsrestformat=json&wstoken=tokenvalue&wsfunction=core_files_upload&contextid=21&component=user&filearea=draft&itemid=0&filepath=/&filename=test.pdf. In its response there is the file id. the problem is that there's not a web service for getting context id, we need to work on it Retrieve assignments id calling mod_assign_get_assignments http://mymoodle/moodle/webservice/rest/server.php?wsfunction=mod_assign_get_assignments&moodlewsrestformat=json&wstoken=tokenvalue&courseids[0]=2 Call mod_assign_save_submission, using as input parameter the file id  and assignment id retrieved previously http://mymoodle/moodle/webservice/rest/server.php?wsfunction=mod_assign_save_submission&moodlewsrestformat=json&wstoken=tokenvalue&assignmentid=1&plugindata[onlinetext_editor][text]=sometext&plugindata[onlinetext_editor][format]=1&plugindata[onlinetext_editor][itemid]=draftfileid&plugindata[files_filemanager]=draftfileid if required (by assignment settings) call mod_assign_submit_for_grading http://mymoodle/moodle/webservice/rest/server.php?wsfunction=mod_assign_submit_for_grading&moodlewsrestformat=json&wstoken=tokenvalue&assignmentid=1&acceptsubmissionstatement=1 I don't know if this is to best way to achieve assignment submission, I hope that this can be helpful for someone",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 8, 2014, 4:02 PM",
          "AuthorName": "Laura Celentano",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785497&course=5",
          "role": [
            "Picture of Laura Celentano"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservices for Assignment",
          "Text": "Hi Laura, What parameters did you supply to ' core_files_upload ' to make it work? I'm currently trying to do something like this, but when I call 'core_file_upload' with the following params, I get an error: Params: itemid = 1, contextid = 1, filepath = / filearea = private component = user filename = test1.txt filecontent = VGhpcyBpcyBhIHRlc3QK (base64) Response: {'errorcode': 'nofile', 'exception': 'moodle_exception', 'message': 'File not specified'} I'm also not really sure what to use for teh contextid. I'm just trying to push up soem files to a user's private file storage to start. Thoughts?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 16, 2014, 11:28 AM",
          "AuthorName": "Andy Sayler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1826243&course=5",
          "role": [
            "Picture of Andy Sayler"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservices for Assignment",
          "Text": "Hi Andy, sorry for my late reply. I'm using core_files_upload for uploading a file in the draft area, non the private one. For uploading a file in the user's private area I'm following the instructions in File Upload section of: https://docs.moodle.org/dev/Web_services_files_handling I hope this helps",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 1, 2014, 3:21 PM",
          "AuthorName": "Laura Celentano",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785497&course=5",
          "role": [
            "Picture of Laura Celentano"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 263191,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=263191",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Authentication on external website with Moodle user",
          "Text": "Hi all, What I would like to do is allow users in my website to login using their Moodle user. I have read all Moodle documentation on web services and have not found a way to do this. I would also like to automatically authenticate a user who is currently loged-in in Moodle. I didn't find any Moodle web service function that allows me to find out whose session is open (in the same browser), although I don't know if this can be done without adding a security risk. Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 2, 2014, 10:32 AM",
          "AuthorName": "d m",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1787072&course=5",
          "role": [
            "Picture of d m"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Authentication on external website with Moodle user",
          "Text": "I'm using Moodle as an authentication backend for a Python-flask service I'm building. The basic gist is: 1. User provides service with Moodle username 2. User provides service with Moodle password 3. Service calls 'GET https://www.yourmoodle.com/login/token.php?username=user&password=pass&service=yourwsservice ' 4. That call will either return a token if the username:password:service combo is valid or an error< 5. If you get a token, let user log in to service, otherwise, give bad username:password error This works pretty well for basic moodle-as-an-auth- database type applications. The backend Moodle WS API code is at&nbsp; https://github.com/asayler/moodle-ws-python/blob/master/ws.py . The code for the service using Moodle as the backend auth provider is at: https://github.com/asayler/CU-Online-Grading/blob/master/cogs/authmod_moodle.py . I'm not sure about doing SSO or Federated Identity through, which sounds like what you'd need to automatically log in users who have already logged into Moodle. Maybe Moodle can act as an OpenID provider?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 18, 2014, 2:34 AM",
          "AuthorName": "Andy Sayler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1826243&course=5",
          "role": [
            "Picture of Andy Sayler"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 266843,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=266843",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Trying to Make mod_assign_save_grade Work",
          "Text": "Hi All, I'm trying to get calls to the mod_assign_save_grade endpoint to work using REST/ JSON . Other endpoints are working fine (e.g. mod_assign_get_grades), but I can't seem to get anything but the terribly unhelpful \"invalid_parameter_excpetion\" back from the mod_assign_save_grade endpoint. Call \n```text\ncurl -X GET '\nhttps://mymoodle.edu/webservice/rest/server.php?\n\nwstoken=<token>&moodlewsrestformat=json&wsfunction=mod_assign_save_grade&\nassignmentid=1&userid=4&grade=3&attemptnumber=-1&addattempt=0&workflowstate=graded&applytoall=0'\n```\n Response \n```text\n{\"exception\":\"invalid_parameter_exception\",\"errorcode\":\"invalidparameter\",\"message\":\"Invalid parameter value detected\"}\n```\n I am providing all of the  arguments marked as required in the docs. Anyone see the issue? Also, a few points that aren't clear from the docs: What is the 'addattempt' parameter for? What should it be set to if you don't care/aren't using manual attempts? What is the \"workflowstate\" parameter for? What should it be set to if not using grading workflows? Does the 'applytoall' parameter have any bearing if you're not using groups? Also, is there any logging on the Moodle- server side of things that will provide more details about why WS requests get rejected with the generic \"invalid_paramter_excpetion\"? There must be better ways to inform developers about what's going wrong... Anyone have any ideas or can point me at soem working mod_assign_save_grade code (I can't find any uses on github)? Despite teh CURL example above, I'm actually trying to hit this endpoint via a python-requests script. But I get the same result via curl. I'm on a git pull of Moodle 2.7.1+ (Build: 20140717).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 16, 2014, 6:22 AM",
          "AuthorName": "Andy Sayler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1826243&course=5",
          "role": [
            "Picture of Andy Sayler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Trying to Make mod_assign_save_grade Work",
          "Text": "So I ended up getting this to work. It turns out the plugin parameters are required (even though they aren't marked as such in the docs): E.g. \n```text\ncurl -X GET '\nhttps://mymoodle.edu/webservice/rest/server.php?\n\nwstoken=<token>&moodlewsrestformat=json&wsfunction=mod_assign_save_grade&\nassignmentid=1&userid=4&grade=3&attemptnumber=-1&addattempt=0&workflowstate=graded&applytoall=0'&\nplugindata%5Bassignfeedbackcomments_editor%5D%5Btext%5D=test&\nplugindata%5Bassignfeedbackcomments_editor%5D%5Bformat%5D=1&plugindata%5Bfiles_filemanager%5D=0'\n```\n Which still poses the questions: Should these parameters be marked as required if you get a \"invalid parameter error\" without them? Can anyone tell me what the 'plugindata[assignfeedbackcomments_editor][format]' parameter does? And it would still be great to know if there are more detailed debugging logs for incoming failed WS calls anywhere. Thanks! P.S. My Python wrapper code can be found at https://github.com/asayler/moodle-ws-python/blob/master/ws.py .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 16, 2014, 7:09 AM",
          "AuthorName": "Andy Sayler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1826243&course=5",
          "role": [
            "Picture of Andy Sayler"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 204469,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=204469",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How to get JSON from REST Web API",
          "Text": "Hello Guys I am using REST Web Service..., I am getting response in XML , how could i get ther same in Json....??? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 11, 2012, 1:02 PM",
          "AuthorName": "Sahil Rally",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1460071&course=5",
          "role": [
            "Picture of Sahil Rally"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to get JSON from REST Web API",
          "Text": "Hi This is an example in moodle 2.2 /webservice/rest/ server .php?wstoken=1cfc5&wsfunction=core_webservice_get_site_info&moodlewsrestformat=json Regards Sergio",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 12, 2012, 2:25 AM",
          "AuthorName": "Sergio Hernández",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=339343&course=5",
          "role": [
            "Picture of Sergio Hernández"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to get JSON from REST Web API",
          "Text": "and if you want the same in CSV, just paste that URL into json-csv.com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 8, 2014, 3:39 PM",
          "AuthorName": "Carrie Brady",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1822739&course=5",
          "role": [
            "Picture of Carrie Brady"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 265216,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=265216",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Both REST and SOAP calls to webservice return nothing",
          "Text": "Hello, I'm having a bit of an issue with getting my requests to work with web services. I've created a custom service that has core_user_create_users function in the admin area, have the token and everything, but the request returns nothing. I'm using the demo code for clients from https://github.com/moodlehq/sample-ws-clients but am having no luck. All I'm trying to do is create a user, which is what it looks like the sample web service clients (REST and SOAP) are doing as well. From what I can tell, the user that I'm using the access token for has the proper capabilities in Moodle (create user, update user, delete user as well as a few others for good measure). My biggest problem is that I'm just getting an empty string from the calls, no errors or anything, and I'm not sure which direction to start looking. Any direction or help you might be able to provide would be amazing. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 6, 2014, 4:30 AM",
          "AuthorName": "Eric Strom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1808990&course=5",
          "role": [
            "Picture of Eric Strom"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 263863,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=263863",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "API to get ALL Moddle courses...",
          "Text": "Hi, I've been assigned with task that require me to make some synchronization process between Moodle entities and entities from our .NET system. I've read Moodle API, created some examples but there are some things that I could not find answers to on internet, your forums and API docs. 1. Based on current API docs, I can not find a way to get list of ALL Moddle entities for specified type, e.g. I want to get list of ALL Moodle courses, if possible, in one API call. If this is not possible, is there any way to get list of ALL Moodle course IDs in one API call? If nothing of this is possible, please advise on how to get ALL Moodle courses, even with multiple calls to Moodle API. 2. My sync process will use 'LastModifiedDate' value from our system entities in order to decide if we need to update Moodle entity and/or our system entity. I can see that when I make API call to ' moodle_course_get_courses ' API function, returned object has 'timemodified' property. Can I use this value and compare it to our 'LastmodifiedDate' property in order to decide what entity I must update? Property like this is not returned when I query for Moodle users, so please advise, what property can I use to get this value for Moodle user? Is there any chance that I can use existing Moodle API to get this value of any type of Moodle entity? I am aware that I can write custom PHP web service method calls inside Moodle to get these, but i wpould like someone to confirm me that I can not achieve this through default Moodle API in order to get some additional time to do this from my employeer My employer asked me not to mess up with Moodle database tables directly, rather to use Moodle API to achieve all stated above Please let me know if things from above can not be achieved from Moodle API, and in that case, please provide me with details on which Moodle database tables I should query and on which columns in order to resolve my situation Thanks in advance",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, July 14, 2014, 4:34 PM",
          "AuthorName": "Miladin Joksic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1814121&course=5",
          "role": [
            "Picture of Miladin Joksic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 263653,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=263653",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Debugging Mode for Webservices",
          "Text": "Hi, I'm curious to know if there is any option to enable debugging mode only for webservices in Moodle. Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 10, 2014, 1:29 AM",
          "AuthorName": "Vignesh Gurusamy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1647025&course=5",
          "role": [
            "Picture of Vignesh Gurusamy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 263173,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=263173",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Getting class list, student list, etc from a remote javascript app (or any REST)",
          "Text": "I have an ember.js app that is currently using hard-coded student/class data. I need to integrate this app with data from a real moodle server . Is there a way to send a GET request to the moodle server remotely to receive student/class/etc information? Is what I'm trying to do is even possible? If so, how do I go about doing something like this? Do I need to create my own plugin to handle the REST requests?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 2, 2014, 1:20 AM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1810145&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 262897,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262897",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Calling a REST web service from VisualStudio 2013 (\"where is the WSDL file?\")",
          "Text": "Hi everyone (bonjour Jérôme!), I'll probably be a regular here for the next few months... I am working on plugging Moodle (2.7) with our SIS: creating courses, groups, enroling teachers and students, sending and receiving grades, etc. All using web services, hopefully. I'm trying to do the Moodle side of it, while others are doing the \"other side\" (SIS and related systems). REST web services are working fine, but Visual Studio would like to have a WSDL (or so are my coworkers telling me), to build a \"Windows application in VB\". The soapfda plugin (as mentioned in MDL-28988 and in this discussion ) creates such a file, but only seems to work with SOAP. My question: is there something similar for REST and VS2013? What changes would be needed to adapt the soapfda plugin to REST? Or is there something obvious I'm missing? I've seen one person create a WSDL by hand , so I guess I could go this route. I read the discussion about WSDL creation (2012). I tried the moodlews plugin from Patrick Pollet (which doesn't seem to \"publish\" custom web services, if I read the documentation right).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 27, 2014, 5:10 AM",
          "AuthorName": "Mathieu Petit-Clair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=423027&course=5",
          "role": [
            "Picture of Mathieu Petit-Clair",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of MoodleCloud team",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Calling a REST web service from VisualStudio 2013 (\"where is the WSDL file?\")",
          "Text": "Hi Mat, I guess you'll be better doing your own mapping in the client (the json results to VB objects) instead of trying to generate a working WSDL for client generator (if it's the reason the client devs want a WSDL).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 27, 2014, 7:38 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Calling a REST web service from VisualStudio 2013 (\"where is the WSDL file?\")",
          "Text": "Thanks, we'll do that. Mathieu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 30, 2014, 10:48 PM",
          "AuthorName": "Mathieu Petit-Clair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=423027&course=5",
          "role": [
            "Picture of Mathieu Petit-Clair",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of MoodleCloud team",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 262496,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262496",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Restfull webservices - how client access the method remotly",
          "Text": "Usually to call a method in the other server from my client,we need to create a object to that class and call that method.but how it happens with out creating the object for this class in rest ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 20, 2014, 7:27 PM",
          "AuthorName": "ranganath Damodar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1806522&course=5",
          "role": [
            "Picture of ranganath Damodar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restfull webservices - how client access the method remotly",
          "Text": "Hmm.. I'm not sure I understand your question. Are you usually using a WSDL in Visual Studio to \"automagically\" create classes?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 27, 2014, 4:21 AM",
          "AuthorName": "Mathieu Petit-Clair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=423027&course=5",
          "role": [
            "Picture of Mathieu Petit-Clair",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of MoodleCloud team",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restfull webservices - how client access the method remotly",
          "Text": "As above what are you developing in? If it's .net/c# I can help you out, I'm doing something similar myself at the minute.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 27, 2014, 5:14 AM",
          "AuthorName": "Dan Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1807931&course=5",
          "role": [
            "Picture of Dan Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restfull webservices - how client access the method remotly",
          "Text": "Hi, I am a java developer and using a java program to call the web service using REST.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 27, 2014, 6:56 PM",
          "AuthorName": "ranganath Damodar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1806522&course=5",
          "role": [
            "Picture of ranganath Damodar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 262576,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262576",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Add user to a cohort with webservices",
          "Text": "Hello, I can't find how to add user to cohort with the moodle webservice. In fact, I use this client https://github.com/moodlehq/sample-ws-clients/blob/master/PHP-SOAP/client.php to create the account : token = 'MY PERSONNAL TOKEN'; $domainname = 'MY MOODLE SERVER '; $functionname = 'core_user_create_users'; //////// moodle_user_create_users //////// /// PARAMETERS - NEED TO BE CHANGED IF YOU CALL A DIFFERENT FUNCTION $user = new stdClass(); $user->username = 'testusername1'; $user->password = 'Testpassword1!'; $user->firstname = 'testfirstname1'; My problem is simple : - I can't add directly user in cohort where I'm create them - I don't fin'd the parameters I have to use with the function 'core_cohort_add_cohort_members'; Have you idea to help me? (and sorry for my english I'm Frenchà)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 22, 2014, 10:53 PM",
          "AuthorName": "Timothée Laisne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1806929&course=5",
          "role": [
            "Picture of Timothée Laisne"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Add user to a cohort with webservices",
          "Text": "Bonjour Timothée, Moodle will generate documentation for all web services, under http://yourmoodle/admin/webservice/documentation.php You might need to enable the ws documentation, under /admin/settings.php?section=webserviceprotocols This should give you some information about all the parameters to use with core_cohort_add_cohort_members().",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 27, 2014, 4:49 AM",
          "AuthorName": "Mathieu Petit-Clair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=423027&course=5",
          "role": [
            "Picture of Mathieu Petit-Clair",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of MoodleCloud team",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 262719,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262719",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Is it Possible to Return User or Course Details via Web Services on the idnumber field?",
          "Text": "I see a lot of unanswered posts so i'm not holding out much hope but... Is it possible without hacking  to return User or Course details via Web Services by searching on the idnumber field?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 25, 2014, 4:44 AM",
          "AuthorName": "Dan Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1807931&course=5",
          "role": [
            "Picture of Dan Smith"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 262504,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262504",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_files_get_files - browse private area",
          "Text": "Hi, I'm trying to use core_files_get_files webservice for retrieving files contained in an user's private repository. This is an example: http://mymoodle/webservice/rest/ server .php?moodlewsrestformat=json&wstoken=ec6588bdf4efd3cb3a4c95244bfbde7e&wsfunction=core_files_get_files&contextid=52&component=user&filearea=private&itemid=0&filepath=/&filename=private I'm getting in response: { \"parents\": [ { \"contextid\": 1, \"component\": null, \"filearea\": null, \"itemid\": null, \"filepath\": null, \"filename\": \"Sistema\" } ], \"files\": [ { \"contextid\": 94, \"component\": \"user\", \"filearea\": \"private\", \"itemid\": 0, \"filepath\": \"/\", \"filename\": \"File personali\", \"isdir\": true, \"url\": null, \"timemodified\": 1403261453 }, { \"contextid\": 94, \"component\": \"user\", \"filearea\": \"backup\", \"itemid\": 0, \"filepath\": \"/\", \"filename\": \"Backup utente\", \"isdir\": true, \"url\": null, \"timemodified\": 0 } ] } So I'm not able to browse private file area, how can I do it? what arguments should I pass to the service? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 20, 2014, 8:47 PM",
          "AuthorName": "Laura Celentano",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785497&course=5",
          "role": [
            "Picture of Laura Celentano"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 262180,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262180",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle Webservice API dont returns correctly",
          "Text": "Hi there, I am currently trying two methods of web service API (Moodle 2.6) to call with REST: #1 core_course_get_categories #2 core_course_create_courses With both I have the following problems: #1 The function returns me categories back but unfortunately no subcategories. Even if I add like the documentation says the parameter \"addsubcategories = 1\", only the top-level Categories are sent back. An idea what the issue could be? # 2",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 16, 2014, 3:15 PM",
          "AuthorName": "Saif Deen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1803595&course=5",
          "role": [
            "Picture of Saif Deen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 220084,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=220084",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Using enrol_manual_enrol_users via XML-RPC.NET",
          "Text": "Hello all, I need your help with consuming the webservice:  enrol_manual_enrol_users My client app is in ASP.NET, and I am using the XML-RPC.NET library to make XML -RPC calls to Moodle. I should note that I am able to successfully call the web service \"core_user_get_users_by_id\".  However that is a simple case. It takes an Int array as the parameter and returns an object array containing hashtables, one per user record, and with each key-value pair representing a field from the user table. However for enrol_manual_enrol_users, I can't figure out how I should code the Method call or handle the return object.  Indeed, from the Moodle documentation, there is nothing listed under the \"Response\" heading for this method. Here is what I currently have, but this is giving me a rather useless \"[404] Unknown error\" as the response from Moodle.  I expect the problem is because I don't really understand how to use the Struct in the method call, or how to obtain the result from Moodle's response. Here is the interface definition public interface IMoodle : IXmlRpcProxy { [XmlRpcMethod(\"enrol_manual_enrol_users\")] object[] Enrol_Manual_Enrol_Users(Moodle_Enrolment[] input); //Not sure if it should be delcared as object[] or not, as there is no Response described in the Moodle docs . } And the Struct that should represent the input parameter for the webservice public struct Moodle_Enrolment { public int roleid; public int userid; public int courseid; [XmlRpcMissingMapping(MappingAction.Ignore)] public int timestart; [XmlRpcMissingMapping(MappingAction.Ignore)] public int timeend; [XmlRpcMissingMapping(MappingAction.Ignore)] public int suspend; } And here is the code that instantiates the struct, and calls the WebMethod. Moodle_Enrolment me = new Moodle_Enrolment(); me.courseid = 2 //this defiinately exists in the Moodle database me.userid = 7; //this defiinately exists in the Moodle database me.roleid = 1; Moodle_Enrolment[] meArray = {me};       //Put the enrolment details into an array. try { object[] a = moodleServer.Enrol_Manual_Enrol_Users(meArray); //not sure what the response datatype is } catch  (Exception ex) { //Error handling code goes here } When this code runs, an exception occurs on the call to Moodle, and the exception message is: Server returned a fault exception: [404] Unknown error So - can you offer any suggestions on how to fix this?  I am sure I am doing something wrong here - but the documentation on the webservice enrol_manual_enrol_users is really not helping me much. Unfortunately this web service is not available in the Moodle test client.  Any suggestions on how I can find out about this 404 Unknown Error? Thanks for your help all, Mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 20, 2013, 2:49 AM",
          "AuthorName": "Mike Z",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1520446&course=5",
          "role": [
            "Picture of Mike Z"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using enrol_manual_enrol_users via XML-RPC.NET",
          "Text": "Hi Did you solve your problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 12, 2013, 8:14 PM",
          "AuthorName": "Jordi Barajas Gines",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1536631&course=5",
          "role": [
            "Picture of Jordi Barajas Gines"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using enrol_manual_enrol_users via XML-RPC.NET",
          "Text": "HI , I am Novice to XML RPC Moodle integration. I am developing a c# application Below is the code i am working with public interface IMoodle : IXmlRpcProxy { [XmlRpcMethod(\"moodle_user_get_users_by_id\")] object[] GetUserById(object[] id); [XmlRpcMethod(\"moodle_course_get_courses\")] object[] GetCourses(); //moodle_webservice_get_token } ----Main Program---------------------- IMoodle moodleProxy; moodleProxy = XmlRpcProxyGen.Create<IMoodle>(); moodleProxy.Url = \"http://localhost/\" + \"webservice/xmlrpc/server.php?wstoken=\" + \"wsusertoken\"; object[] a = moodleProxy.GetCourses(); ---------------------------------------------------------------------------------------------------------------------------------- I am getting \"Server returned a fault exception: [404] Unknown error\" exception. I am not sure where am i missing. Any help will be commendable. Thanks Supriya",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 11, 2014, 2:26 PM",
          "AuthorName": "Supriya Seetharam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1803091&course=5",
          "role": [
            "Picture of Supriya Seetharam"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 261571,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=261571",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get News for Course",
          "Text": "Hi All, I need to be able to get the news items for a course using a web service / via api. what web service calls should I be using? Thanks, Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 5, 2014, 7:23 AM",
          "AuthorName": "Gareth Tucker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1797979&course=5",
          "role": [
            "Picture of Gareth Tucker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 116250,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=116250",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Get List of courses and roles",
          "Text": "Hello, I've been discussing in http://moodle.org/mod/forum/discuss.php?d=116173#p510051 about how to retrieve the courses available in moodle, to show them in an external app. Patrick Pollet Pointed me to this forum, and I'd like to know how can I do it using xmlrpc. I'm using Moodle 1.9.4+, and I don't know if this feature is implemented in this version. I haven't found any example of how to do a rpc. Could someone help me? Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 12, 2009, 8:09 PM",
          "AuthorName": "Adrián Ribao",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=787824&course=5",
          "role": [
            "Picture of Adrián Ribao"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get List of courses and roles",
          "Text": "The only RPC implementation in Moodle 1.9 is Moodle Networks, which is basically XML -RPC with an additional security layer on top. It includes a function for listing available courses. For more information on Moodle Networks, see http://docs.moodle.org/en/Moodle_Network (and related links). You have a few options, from what I can see:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 13, 2009, 12:00 AM",
          "AuthorName": "Hubert Chathi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=706541&course=5",
          "role": [
            "Picture of Hubert Chathi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get List of courses and roles",
          "Text": "The external APP is not written in PHP, so I think that the last option is the best one. Could I do this with Moodle 2.0 using web services? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 13, 2009, 1:07 AM",
          "AuthorName": "Adrián Ribao",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=787824&course=5",
          "role": [
            "Picture of Adrián Ribao"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get List of courses and roles",
          "Text": "Adrian, \"The external APP is not written in PHP, so I think that the last option is the best one.\" You will find in clients diretory samples code in java or python. And don't forget, soapUi will be your friend to test the operations... Enjoy",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, February 13, 2009, 1:50 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get List of courses and roles",
          "Text": "> You will find in clients diretory samples code in java or python. @patrick: where are find sample code by python? I need working webservice XML-RPC and python (not Soap). Can you detail?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 17, 2010, 11:10 PM",
          "AuthorName": "raimon esteve",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=734338&course=5",
          "role": [
            "Picture of raimon esteve"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get List of courses and roles",
          "Text": "Hubert said : \" you can use the OKTech Web Services plugin, which will give you a SOAP interface rather than an XML-RPC interface. http://moodle.org/mod/data/view.php?d=13&rid=573 It does not provide a method for listing courses, but you can modify it to do so. \" euh, it does it among 43 other operations... Go to wspp/clients directory and run php ../wsdl2php.php http://yourmoodle/wspp/wsdl_pp.php it will create a class MoodleWS.php and a directory tests with 43 samples scripts : rename auth.php.dist to auth.php and edit to match an admin user (with manual authentication) and give them a go : cd tests php test_get_xxxx.php you will find among them this sample script : <php? require_once ('../MoodleWS.php'); $moodle=new MoodleWS(); require_once ('../auth.php'); /**test code for MoodleWS: Get Courses Information * @param integer $client * @param string $sesskey * @param (getCoursesInput) array of string $courseids * @param string $idfield * @return getCoursesReturn */ $lr=$moodle->login(LOGIN,PASSWORD); $courseids=array(); //all courses that LOGIN user can see // $courseids=array(\"chem101\",\"phys101\"); //o nly these 2 $res=$moodle->get_courses($lr->getClient(),$lr->getSessionKey(),$courseids,'id_number'); print_r($res); print($res->getCourses()); $moodle->logout($lr->getClient(),$lr->getSessionKey()); ?> when done, transfert the tests directory and MoodleWS.php , auth.php to a real (remote) client and try them out again ... Don't forget to remove the tests directory from server (!!!!) or protected wspp directory with a suitable .htaccess file ! (you have been warned) Enjoy",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, February 13, 2009, 1:27 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get List of courses and roles",
          "Text": "Thanks Patrick! I'll try it, but it seems a bit complicated. I'm just starting to learn Moodle Are the Web Services working this way in 2.0? The external app is written in Python, I'll check the clients.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, February 13, 2009, 2:23 AM",
          "AuthorName": "Adrián Ribao",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=787824&course=5",
          "role": [
            "Picture of Adrián Ribao"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get List of courses and roles",
          "Text": "I am also in need of an easy way to print a course directory.  I need to have a list of all our courses available so that I can create a list for our superintendent.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 17, 2011, 9:45 PM",
          "AuthorName": "Conni Mulligan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=958720&course=5",
          "role": [
            "Picture of Conni Mulligan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get List of courses and roles",
          "Text": "From the Moodle version 2.5.1 onwards, you can use these following function to get course(s): Get a specific course with ID: \n```text\n$course = get_course($course_id);\n```\n Get all courses: \n```text\n$courses = get_courses();\n```\n Read the Moodle's Data Manipulation API for more information: http://docs.moodle.org/dev/Data_manipulation_API",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 4, 2014, 2:32 PM",
          "AuthorName": "Trinh Nguyen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1609643&course=5",
          "role": [
            "Picture of Trinh Nguyen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 160396,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=160396",
      "NoOfResponses": 19,
      "ResponsesInList": [
        {
          "Title": "xml-rpc problems",
          "Text": "I've got an xml -rpc module that can that can be used by an external client to make a course announcement. In Moodle 1.9.5, set up was: Copy my rpclilb.php to .../htdocs/moodle/mod/forum Add name and description entries to .../htdocs/moodle/lang/en_utf8/forum.php Enable networking and add the client's IP address to the XML -RPC trusted hosts. I recently tried my module with 1.9.9 and initially it did not work. After tracing error codes to the source and backtracking, I found that mnet/lib.php:mnet_permit_rpc_call() needs some entries in tables mnet_host2service, mnet_service, mnet_service2rpc, and mnet_rpc. I put these in and my module works. With 1.9.9, is there a UI or automated way of making these table entries? I also tried 2.0 RC1 and have had no success getting my module working. I followed the above steps and also tried to follow this thinking the various mnet_ table entries would be created automatically. I end up with Fault 7021: 'The transport method you are trying to use is not permitted.' The snag seems to be with mnet/remote_client.php:plaintext_is_ok() which does not recognize my box as a trusted host . If I hack plaintext_is_ok() to return true, I get Fault 711: 'The signature verification failed.' Do all XML-RPC client calls need to be signed now, and if so, how? Are there any XML-RCP server and client samples for 2.0? Thanks in advance for any help! -Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 19, 2010, 3:50 AM",
          "AuthorName": "Bill Hoag",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=855084&course=5",
          "role": [
            "Picture of Bill Hoag"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi Bill, it seems to be a Mnet related question, try to repost there: http://moodle.org/mod/forum/view.php?id=6976 cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 19, 2010, 1:28 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Jerome, I don't get why this is an Mnet related question.  Why would we ask for xml-rpc server and client examples for 2.0 somewhere else? I don't think that the WebServices subject in general for 2.0 is documented in a logical way.  We need some answers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 9, 2011, 6:31 PM",
          "AuthorName": "juan marin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1196050&course=5",
          "role": [
            "Picture of juan marin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi Juan, most of the Bill post is Mnet code related. I agree I should have at least answer the last question. I got carried away by all the Mnet thing. Anyway Bill was right to post Mnet web service question here, I forgot that Mnet was also a collection of web service. To answer the last question, are there any XML-RCP server and client samples for 2.0 : the new Moodle 2.0 xmlrpc server is in /webservice/xmlrpc/server.php and you can also find a PHP xml-rpc client for this server in /webservice/xmlrpc/lib.php. Finally you can have look at /webservice/xmlrpc/testwebservice.php to know how to use it. The main documentation about web service is there: http://docs.moodle.org/en/Web_Services . A PHP Client for Moodle 2.0 web service could be something like: require_once($CFG-> dirroot . \"/webservice/xmlrpc/lib.php\"); $xmlrpcclient = new webservice_xmlrpc_client(HTTP_REMOTE_MOODLE  . '/webservice/xmlrpc/server.php', $token); $function = 'moodle_group_get_groups'; $groupids = array(1, 2, 3); $params = array('groupids' => $groupids); $groups = $ xmlrpcclient ->call($function, $params); I hope it helps, Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 9, 2011, 9:32 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi Jerome, I appreciate your explanation.  I guess we don't mean to ask for you guys to explain xmlrpc from scratch here and I guess this would not be the place since we can get this elsewhere. I appreciate the links you sent, the most important ones get to a dead-end pointing to some issue tracking link. I like the client sample that you sent with your answer; I also appreciate that you seem to be the only active participant on fixing these issues.  I hope that by now, you guys have noticed that everyone is starving for methods to integrate Moodle to other applications and that we are looking to web-services to help us do that. Thanks, JC",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 10, 2011, 4:44 AM",
          "AuthorName": "juan marin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1196050&course=5",
          "role": [
            "Picture of juan marin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi, I used your client code to try using the lib.php file outside of Moodle and it did not work.  When I looked at it, it requires resources from Moodle itself and I modified those to the external application I am trying to integrate with Moodle. After fixing that, I get the following error: Strict Standards : Declaration of webservice_xmlrpc_client::call() should be compatible with that of Zend_XmlRpc_Client::call() in C:\\apache2\\htdocs\\xmlrpc\\lib.php on line 23 It appears to be that the override function being used on lib.php is not the same signature as the Zend one.  Perhaps it is having issues with having to send the authentication token in the URI instead of it being part of the $params.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 10, 2011, 4:53 PM",
          "AuthorName": "juan marin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1196050&course=5",
          "role": [
            "Picture of juan marin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi Juan, the Moodle xmlrpc client is just for Moodle. Don't bother with it, use the Zend client in an external application.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 10, 2011, 5:54 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "I did that with your code and that function doesn't work.  I get an error stating an exeption with the access module. I think you created an issue for that particular problem in the Moodle Issue Tracking DB. Is there any function that works from the server.php?  Could I add a user? What would adding a moodle user code look like?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 10, 2011, 7:42 PM",
          "AuthorName": "juan marin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1196050&course=5",
          "role": [
            "Picture of juan marin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi Juan, sorry I don't understand your problem. Which issue number are you talking about? All core web service servers should work with all core web service functions, otherwise it's a bug. If you find a bug please fill an issue in the tracker. You can add an user with the web service function moodle_user_create_users, there is some example of usage in the webservice/simpletest/testwebservice.php file. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 10, 2011, 9:34 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi Jerome, I have used a couple of XML-RPC frameworks (Zend and IXR).  I created sample clients with both of them attempting to get a course list by following the code on your sample.  I tried both, simple and token authentication for a webservice user that has been configured as per the documentation you point to. The result of my tests is that they all fail because of the same reason.  I get an error back from the Moodle webservice stating that there was an \"access control exception\".  This seems to reveal that the xml-rpc interface is working but something deeper in the stack is not on the Moodle side. I looked at the entire return xml to see if there was a clearer explanation than that and there is nothing else being returned.  I get the same error when I use the test client on Moodle. If this is a legitimate authentication error, shouldn't it be clearer as to the origin of the problem?  Is there a log file or some debug parameter I can use to troubleshoot webservice issues?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 11, 2011, 6:12 PM",
          "AuthorName": "juan marin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1196050&course=5",
          "role": [
            "Picture of juan marin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi Juan, it's a legitimate authentication error. There is an issue about the log not being well displayed, I've just written an issue for that: MDL-25943 If you use the token authentication method, check the following: 1- the user associated to the token has a the capability matching the web service procotol ( in your case 'webservice/xmlrpc:use') 2- the token is correct, not expired, not ip restricted (check in the admin panel) 3- the token is associated to a service containing the called web service function Your problem should come from one of these three things.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 11, 2011, 10:56 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi Jerome, Thanks for your response. Here is what I do know: 1.  The token is allowed access to xml-rpc. 2.  The token is correct. Here is what I don't know: The service I am using doesn't show-up anywhere to be associated with a token.  I am using the \"sample\" webservice that comes with Moodle.  Do I have to register the \"sample\" somewhere to start with?  If so, how do I go about this? Thanks again for your help. JC",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 12, 2011, 12:00 AM",
          "AuthorName": "juan marin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1196050&course=5",
          "role": [
            "Picture of juan marin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "There is two tutorials explaining how to setup web service: http://docs.moodle.org/en/How_to_enable_web_services_for_ordinary_users http://docs.moodle.org/en/How_to_enable_web_services_for_an_external_system From what I remember there is no \"sample\" service created by default, the Moodle administrator has to do it. Good luck.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 12, 2011, 10:15 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Jerome, This is very confusing from my side.  What comes with moodle at moodleroot/webservice/xmlrpc/server.php, isn't that a sample webservice for which there is a \"UnitTest\" and a \"Sample Client\" coded for as part of Moodle?  That is what I thought was the target for the client code you previously suggested. Both those tutorials finish without ever stating HOW to access what they just created in the previous steps.  This is why we are growing increasingly frustrated, just how many layers does this onion have?  Enable users, enable roles, enable funcions, enable authentication tokens and serve them from where exactly? I have created one of those \"services\" using the \"tutorial\";  it is called \"mainservice\",  how do I go about accessing it? Sorry if I seem frustrated but I am. Kind regards, JC",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 12, 2011, 5:46 PM",
          "AuthorName": "juan marin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1196050&course=5",
          "role": [
            "Picture of juan marin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Yes at the moment the whole web service thing is complicated. Because it's all new, for security reasons, mainly only experienced Moodle administrator and experienced web service php coder can manage their way into it. So we limit the damage of bad usage. Moodle SOAP and XMLRPC servers are basically just Zend server so if you follow Zend documentation you should be able to write a client http://framework.zend.com/manual/en/zend.xmlrpc.client.html . There are some Moodle web service function documentation available if you go into a user (non admin) Settings > Profile > security keys. You need to enable it into Admin > Plugins > Webservice > Manage protocols I guess all the admin part will end to be hidden behind few quick and easy wizards for common web service use cases. So don't worrry it will come I really suggest you to use the Moodle Tracker . A tracker issue has so much more weight into decision to assign a developer to a bug/improvement task. I will write a tutorial with full steps (admin + code) on how to create a client. I'll come back to you to let you know.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, January 13, 2011, 4:08 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Jerome, I have made webservices before in Java , PHP and .NET.  The regular webservice stuff has not been the difficult part; the true daunting thing has been that the documentation in the Moodle site has been inaccurate, incomplete or missing (not to mention all the stuff that is either buggy or incomplete). If regular people (ie. developers with basic xml-rpc experience) can't integrate Moodle to the rest of their institutional processes, it will start becoming less of a player in the LMS arena.  If I understand you correctly what you are saying is that webservices in Moodle are being made difficult (either by omission or craft) so that \"people\" don't get into \"bad usage?\".  Webservices have been around for 6 or 7 years now; that hardly counts as \"new\".  Why build something you don't intend people to use?  The evil of this is misleading people with a feature-set that is meant to function for a fortunate few; instead of giving out sample instructions for something we NOW all now know doesn't work as documented unless you happen to be an insider. I appreciate your help so far.  Whenever you get the complete tutorial please let us know. Cheers, Juan Carlos",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 13, 2011, 8:29 PM",
          "AuthorName": "juan marin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1196050&course=5",
          "role": [
            "Picture of juan marin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi, I updated some web service documentations. You can see the list in the issue I created in the tracker: MDLSITE-1200 . It will be review by QA. cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2011, 10:02 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Jerome - can you help with my web services issue?",
          "Text": "Hi Jerome, I'm sorry about singling you out, but you appear to be an active programmer on this forum.  If you have a moment could you see my post http://moodle.org/mod/forum/discuss.php?d=166298#p729154 Thanks for any help you can provide. Gordon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 18, 2011, 11:59 PM",
          "AuthorName": "Gordon Brooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=614239&course=5",
          "role": [
            "Picture of Gordon Brooks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: xml-rpc problems",
          "Text": "Hi Jerome, I'm trying to make active the field php_extension. I follow the guide but nothing. How can I solve this problem? The xmlrpc is necessary for vpl plugin. Thanks so much!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1131665/Schermata%20da%202014-05-29%20204541.png"
          ],
          "Time": "Friday, May 30, 2014, 5:09 AM",
          "AuthorName": "Antonio Lepore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1792533&course=5",
          "role": [
            "Picture of Antonio Lepore"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 261065,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=261065",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get Quizz grades",
          "Text": "Hi, I want to add a web-service to get grades for a specific quiz . the web-service will be used by our administration to automatically insert grades in the official curriculum. I found\nmod_assign_get_grades() here: http://docs.moodle.org/dev/Web_services_Roadmap but I didn't understand how to use it. Can any one help me",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, May 28, 2014, 5:57 PM",
          "AuthorName": "Zied ALAYA",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=404437&course=5",
          "role": [
            "Picture of Zied ALAYA"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 260726,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=260726",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Guidance and Recommendations",
          "Text": "Good Afternoon all, I am reaching out to the community for some recommendations and or guidance on the best way to obtain a set of information in our Moodle system using a webservice to send it back to our license management system... We currently user 2.6+ and I would like to gather a the common module ID number with in a course, the attendee's ID Number, and only report back attendee 's with a SCORM score of >=80. Is this possible?  It needs to be broken out like this because we calculate continuing education on a monthly basis. So we have a single course with 12 modules.  The SCORM packages each have a course # that corresponds to the credit awards in our license management system. Thank you in advance for your time and consideration. Jon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 24, 2014, 1:36 AM",
          "AuthorName": "Jon Powers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1387454&course=5",
          "role": [
            "Picture of Jon Powers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 260253,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=260253",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Create_user will not allow special characters",
          "Text": "Good Morning, When trying to pass special characters in the username (jon.n.powers@gmail.com) we get an error.  I believe I have all of the proper settings to allow special characters.  We are able to create the user account with the same username manually.  Once the account is created and linked there is no issue with update_users... Anyone have any ideas on what might cause this? Thank You, Jon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 16, 2014, 8:58 PM",
          "AuthorName": "Jon Powers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1387454&course=5",
          "role": [
            "Picture of Jon Powers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Create_user will not allow special characters",
          "Text": "have you tried replacing the \"@\" with \"&#64\" or %64, in other web service platforms the special characters needed to be replaced with the html code.  I'm new to Moodle but thought it would help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 20, 2014, 3:38 AM",
          "AuthorName": "Steve Margeson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1794880&course=5",
          "role": [
            "Picture of Steve Margeson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create_user will not allow special characters",
          "Text": "Sorry @ = %40",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 20, 2014, 5:18 AM",
          "AuthorName": "Steve Margeson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1794880&course=5",
          "role": [
            "Picture of Steve Margeson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 260269,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=260269",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Logged in user role",
          "Text": "Hi, I am searching over internet from two days for the below issue i want to know logged in userrole for the site through webservises if it is admin page i want to show all options,if it is a teacher i want to hide some options how can i acheive this through webservises for example:if logged user is admin for that site(in response i need to get admin) if logged user is teacher for that site(in response i need to get teacher) How can i achieve this through webservises? awaiting for reply.............",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 16, 2014, 7:44 PM",
          "AuthorName": "asha chaparala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1792040&course=5",
          "role": [
            "Picture of asha chaparala"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Hardware specifcations",
          "Text": "Asha, You should have opened another thread  for this discussion, as this thread is about hardware requirements. Either ask admin to move to existing thread related to this discussion, or create a new thread.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 16, 2014, 10:29 PM",
          "AuthorName": "Usman Asar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1183102&course=5",
          "role": [
            "Picture of Usman Asar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 142479,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=142479",
      "NoOfResponses": 35,
      "ResponsesInList": [
        {
          "Title": "having trouble with web services in Moodle 2.0",
          "Text": "Am having some difficulties with web services in the latest version of Moodle 2.0. Not sure if I'm doing something wrong but no services are showing up but the group related services through the test client. And using simple authentication or a token am getting a message 'Access control exception'. I followed the instructions in the system settings to set up capabilities etc. Are the web services currently considered stable? Guess I will explore some more.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 27, 2010, 11:49 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi Jamie, these are very good tests. Many exceptions thrown by web services are labelled: 'Access control exception'",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 28, 2010, 11:47 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "The web services should be pretty stable so yes you can test them. Thank you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, January 28, 2010, 11:48 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi Jerome, I'm having some difficulty too in getting started testing the webservices.  When I run the testclient.php, an exception is thrown and displays this message: SOAP-ERROR: Parsing WSDL: Couldn't find <definitions> in 'http://localhost/gnulms/webservice/soap/simpleserver.php?wsusername=admin&wspassword=xxx&wsdl=1' In the initial form I enter: Authentication method: Simple Protocol: Soap Function: moodle_group_get_course_groups and the second form I enter the admin, password, and courseid. I must be missing something - any ideas on what it might be? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2010, 10:36 PM",
          "AuthorName": "Ken DeVellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35793&course=5",
          "role": [
            "Picture of Ken DeVellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi Jerome, Looks like I'm getting the 'Access control exception' after all as well. The full error message I get back when running testclient.php is: SoapFault exception: [WSDL] SOAP-ERROR: Parsing WSDL: Couldn't find <definitions> in 'http://localhost/gnulms/webservice/soap/simpleserver.php?wsusername=admin&wspassword=xxx&wsdl=1' in D:\\ WAMP \\htdocs\\gnulms\\lib\\zend\\Zend\\Soap\\Client\\Common.php:51 Stack trace: #0 D:\\WAMP\\htdocs\\gnulms\\lib\\zend\\Zend\\Soap\\Client\\Common.php(51): SoapClient->SoapClient('http://localhos....', Array) #1 D:\\WAMP\\htdocs\\gnulms\\lib\\zend\\Zend\\Soap\\Client.php(974): Zend_Soap_Client_Common->__construct(Array, 'http://localhos....', Array) #2 D:\\WAMP\\htdocs\\gnulms\\lib\\zend\\Zend\\Soap\\Client.php(1130): Zend_Soap_Client->_initSoapClientObject() #3 D:\\WAMP\\htdocs\\gnulms\\lib\\zend\\Zend\\Soap\\Client.php(1054): Zend_Soap_Client->getSoapClient() #4 D:\\WAMP\\htdocs\\gnulms\\webservice\\soap\\locallib.php(152): Zend_Soap_Client->__call('moodle_group_ge...', Array) #5 D:\\WAMP\\htdocs\\gnulms\\webservice\\testclient.php(134): webservice_soap_test_client->simpletest('http://localhos....', 'moodle_group_ge...', Array) #6 {main} And here is the short xml document returned when I just enter the following url: http://localhost/gnulms/webservice/soap/simpleserver.php?wsusername=admin&wspassword=xxx&wsdl=1' <?xml version=\"1.0\" encoding=\"UTF-8\" ?> - <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"> - <SOAP-ENV:Body> - <SOAP-ENV:Fault> <faultcode>MOODLE:error</faultcode> <faultstring>Access control exception</faultstring> </SOAP-ENV:Fault> </SOAP-ENV:Body> </SOAP-ENV:Envelope> I'm using the WAMP environment with PHP 5.3.1. Have you run across this situation before? Any help would be most appreciated. Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 30, 2010, 6:42 PM",
          "AuthorName": "Ken DeVellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35793&course=5",
          "role": [
            "Picture of Ken DeVellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi, Looks like I missed a step in enabling the webservices: Site Administration->Users->Authentication->Manage Authentication, then enable Web services authentication. I must have overlooked this step in the documentation, although it doesn't appear in the section on how to enable web services in Moodle... For some reason the Built-in services are not showing up on the External services page. I defined a custom service and am able to successfully test the built-in functions however. Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 31, 2010, 10:20 PM",
          "AuthorName": "Ken DeVellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35793&course=5",
          "role": [
            "Picture of Ken DeVellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi Ken, you were right. There were a bug in the token authentication method that required the \"Web service Authentication\" plugin to be enabled. I've fixed it. All the steps explained in Administration > plugins > Web service > Overview should be right now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 4, 2010, 2:16 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi, The path \"Site Administration->Users->Authentication->Manage Authentication\" doesn't exist in Moodle 2.0 Preview 4. I found the setting here: Site administration > Plugins -> Authentication -> Manage Authentication Still, I am getting the same errors when testing the WS with both simple/token.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 9:25 AM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi Anders, the admin tree has changed recently with the new enrolment system. Can you tell me where you read this text: \"Site Administration->Users->Authentication->Manage Authentication\". I will update it. About your original problem: Your web service params seem okay, can you make your web service user an administrator to see if it's related to permission ? Also if you can update your code to the current CVS version (few web service bugs were fixed since PR4), I'll be curious to know if the problem is still there. If yes, can you write an issue on the tracker ( http://tracker.moodle.org ). Thanks for your help, this error message is not helpful, and I try to get rid of these kind of messages.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 9:49 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi Jerome, I read the text \"Site Administration->Users->Authentication->Manage Authentication\" in the post by Ken DeVellis - Sunday, 31 January 2010, 10:20 PM of this thread. Must have been a mistake. Anyway, I found the setting an enabled it. Then, under Site administration > Users > Permissions > Site administrators, I added the web services user to be a site administrator. When I test the WS I get the same errors ( `SoapFault exception: [Receiver] Unknown error in ...` ) when using simple/token. Will try to get the current CVS version. We're using SVN here, so I'll see how I go. When will the latest build be up for download ? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 10:54 AM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "I've just gone to the Moodle download page, apparently the PR4 is built every day, the last one being two hours ago. So you can download it now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 11:41 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "I have checked out the latest Moodle release using git , installed, and started over. Here is what I did: <!-- WS Setup Begin --> Enable WS Site admin > Advanced Features TICK: Enable web services \"Save changes\" Enable protocol (SOAP) and WS documentation Site admin > Plugins > Web services > Manage protocols Enable SOAP protocol TICK: Web services documentation \"Save changes\" Create a role for WS Site admin > Users > Permissions > Define roles > Add new role Role name: moodle_ws_role Role archetype: None Context type: System Capabilities: Use SOAP protocol (webservice/soap:use), moodle/role:assign, moodle/user:update, moodle/course:managegroups, moodle/user:viewdetails, moodle/user:create, moodle/site:viewparticipants, moodle/course:viewparticipants, moodle/role:review, moodle/site:accessallgroups, moodle/course:enrolreview, moodle/user:delete \"Create this role\" --> got an \"Error output\" here, but role is created!! Create a user for WS Site admin > Users > Accounts > Add a new user Name: Web Services User Username: moodle_ws Password: P@$$W0rd Authentication method: Web services authentication \"Update profile\" Added user to role Site admin > Users > Permissions > Assign system roles Enable WS authentication Site admin > Plugins > Authentication > Manage authentication Enable Web services authentication \"Save changes\" Create a service and functions Site admin > Plugins > Web services > External services > Add Service name: external_ws TICK: Enabled TICK: Authorised users only \"Add service\" > Add functions Select << ALL >> functions \"Add functions\" Create a token Site admin > Plugins > Web services > Manage tokens User: Web Services User Service: external_ws \"Save changes\" Token: f230d145113d7d9b0bb49f3e00072706 <!-- WS Setup End --> When I test any WS function with simple/token, I now get the error (function name is the function used): \n```text\nSoapFault exception: [Sender] Function (\"moodle_user_get_users_by_id\") is not a valid method for this service in /home/user/public_html/ltu_moodle_git/lib/zend/Zend/Soap/Client.php:1113\n\n\nStack trace:\n\n\n#0 /home/\n```\n `user` \n```text\n/public_html/ltu_moodle_git/lib/zend/Zend/Soap/Client.php(1113): SoapClient->__soapCall('moodle_user_get...', Array, NULL, NULL, Array)\n\n\n#1 /home/\n```\n `user` \n```text\n/public_html/ltu_moodle_git/webservice/soap/locallib.php(152): Zend_Soap_Client->__call('moodle_user_get...', Array)\n\n\n#2 /home/\n```\n `user` \n```text\n/public_html/ltu_moodle_git/admin/webservice/testclient.php(155): webservice_soap_test_client->simpletest('http://<URL>...', 'moodle_user_get...', Array)\n\n\n#3 {main}\n```\n I have verified that the WS user has the role with the correct capabilities assiged and that the external WS has all functions assigned. Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 1:48 PM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "One more step that I had forgotten: Authorise WS user to use the external WS Site admin > Plugins > Web Services > External service users Add WS user to authorised users --> Got this message: Missing capabilities: moodle/role:assign,moodle/user:update,moodle/course:managegroups,moodle/user:viewdetails,moodle/user:create,moodle/site:viewparticipants,moodle/course:viewparticipants,moodle/role:review,moodle/site:accessallgroups,moodle/course:enrolreview,moodle/user:delete. ... although the role moodle_ws_role has all these capabilities assigned and the WS system user has been assigned this role. Also, when I go to \"Site admin > Plugins > Web Services > External services\" and click on \"Authorised users\" for my WS, it gives this message on the bottom of the page: Change settings for the authorised users Web Services User, bla@bla.com Missing capabilities: moodle/role:assign,moodle/user:update,moodle/course:managegroups,moodle/user:viewdetails,moodle/user:create,moodle/site:viewparticipants,moodle/course:viewparticipants,moodle/role:review,moodle/site:accessallgroups,moodle/course:enrolreview,moodle/user:delete.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://home.pws.com.au:81/~bsusas/ltu_moodle_git/theme/image.php?theme=standard&image=help&rev=156"
          ],
          "Time": "Tuesday, July 27, 2010, 2:36 PM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Thanks for the missing capabilities information bug. I'll commit a fix, there is a typo into the SQL request. I confirm that something going wrong with the SOAP/ XML -RPC servers. I'm having a look. I didn't have any error when I created a role, if you can reproduce please file a issue on the tracker. Note: use the XML-RPC/REST servers to debug, SOAP is the worst to return error messages. Note2: web service authentication plugin is mainly use for the username/login web service authentication (called simple). It has also the property to refuse login from the UI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 3:24 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "I pulled the latest release of Moodle 2.0 Preview 4+ from git (CVS) and upgraded. I then generated a new token and tested again. This time it worked, and the capabilities bug is gone. However, when I go to \"Manage tokens\", I get this error on the top of the page: Notice : Undefined index: 3 in /home/user/public_html/ltu_moodle_git/lib/adminlib.php on line 6985 Warning : implode() [ function.implode ]: Invalid arguments passed in /home/user/public_html/ltu_moodle_git/lib/adminlib.php on line 6985",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 28, 2010, 8:59 AM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi Anders, I fixed them too. Thanks for the report.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 28, 2010, 10:28 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "can you please tel me how to create a moodle service which should only retrive the current user id, profile information, with an example code... . .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2011, 8:07 PM",
          "AuthorName": "udhayakumar R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1382831&course=5",
          "role": [
            "Picture of udhayakumar R"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi, the webservice/externallib.php:get_site_info() does something similar (Moodle 2.2). To create a web service function read: http://docs.moodle.org/dev/Creating_a_web_service_and_a_web_service_function Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 16, 2011, 9:45 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to get userid via a username ?(web services)",
          "Text": "How to get userid via a username ?(web services)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 1, 2014, 6:06 PM",
          "AuthorName": "elahe sheikhzadeh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1738079&course=5",
          "role": [
            "Picture of elahe sheikhzadeh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to get userid via a username ?(web services)",
          "Text": "Use core_user_get_users_by_field. Not sure which Moodle version this was supported from though, it's certainly in 2.6",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 2, 2014, 6:26 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi, I have an installation of Moodle 2.0 (updated from 1.9). I am trying to make use of the Web Services, and have followed all of the steps to activate the services. However, when I go to Site Administration > Plugins > Web Services > External Services, and try to add functions, my function list is only 16 services long. From the instructions and common sense, there should be several more services here. I have one course service, two file services, 7 group services, 2 role services, and 4 user services if that helps diagnosing my mistake any. I have only activated the SOAP protocol. Can anyone think of any reason why I would have a limited number of services available? I've tried activating the rest of the services, not expecting it to make a difference (and it didn't). I am beginning to think that I may have some error in my installation. Thank you very much; all responses are greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 3, 2010, 2:39 AM",
          "AuthorName": "Tim Simon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1198244&course=5",
          "role": [
            "Picture of Tim Simon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi Tim, it seems normal,  there is only few web service functions available. From the last news I had yesterday, someone is going to work on adding some new ones, so there will be more to come In the same time as indicated in the web service FAQ , you can create tracker issues for the functions you think mandatory, vote, or propose patches. cheers, Jerome",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, December 3, 2010, 9:32 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi Guys, I have still not been able to get my hands on to valid wsdl, can anyone post it here. Nagendra",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 1:37 PM",
          "AuthorName": "Nagendra Shukla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1174028&course=5",
          "role": [
            "Picture of Nagendra Shukla"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hello I trying to Create User using moodl_user_create_user fumction in web services but it giving error faultCode28194976faultStringCalling parameters do not match signature | ERRORCODE: attaching an xml File <?xml version=\"1.0\"?> <methodCall> <methodName>moodle_user_create_users</methodName> <params> <param> <value> <struct> <member> <name>username</name> <value> <string>abebd089-5555-e311-gh56-00155d01105e</string> </value> </member> <member> <name>password</name> <value> <string>Admine51*</string> </value> </member> <member> <name>firstname</name> <value> <string>Test 1</string> </value> </member> <member> <name>lastname</name> <value> <string>Test 1</string> </value> </member> <member> <name>email</name> <value> <string>testing@mail.com</string> </value> </member> <member> <name>country</name> <value> <string>NZ</string> </value> </member> </struct> </value> </param> </params> </methodCall>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 29, 2014, 8:44 PM",
          "AuthorName": "tushar bhatia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1776081&course=5",
          "role": [
            "Picture of tushar bhatia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Have got past my initial problems and seem to have got my Flex based service browser working. See here : http://tracker.moodle.org/browse/MDL-20808",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 30, 2010, 10:41 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hoping someone could assist me. I set up Moodle 2.0 on a redhat server with php 5.3.1 with soap enabled. I receive the following error when I test the web service client using the SOAP protocol. It works fine with REST but I really need SOAP. \n```text\nSoapFault exception: [Receiver] Unknown error in /var/www/html/moodle2/lib/zend/Zend/Soap/Client.php:1063\n\n\nStack trace:\n\n\n#0 /var/www/html/moodle2/lib/zend/Zend/Soap/Client.php(1063): SoapClient->__soapCall('moodle_user_cre...', Array, NULL, NULL, Array)\n\n\n#1 /var/www/html/moodle2/webservice/soap/locallib.php(152): Zend_Soap_Client->__call('moodle_user_cre...', Array)\n\n\n#2 /var/www/html/moodle2/admin/webservice/testclient.php(151): webservice_soap_test_client->simpletest('http://moodlete...', 'moodle_user_cre...', Array)\n\n\n#3 {main}\n```\n I've checked and I have Web Services enabled and SOAP protocol is active. Do I need anything else installed on the server besides enabling soap when I configured PHP or am I going down the wrong path? Thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 18, 2010, 8:24 PM",
          "AuthorName": "Rob Barnett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=652192&course=5",
          "role": [
            "Picture of Rob Barnett"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi, I have exactly the same problem. Would anybody know if this is a Moodle 2.0 problem? I am currently running version \"Preview 4\" Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 26, 2010, 10:20 AM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi, can you give me the full error message from your log? Few notes: 1. test client error messages are not entirely displayed ( MDL-23519 ) 2. All web services functions are now declared with their required capabilities in /lib/db/services.php. When an administrator adds a function to a service, the required capabilities are now displayed. Moodle also display missing user capabilities when the administrator creates a token. It is a recent improvement. 3. currently SOAP supports PHP client only (Not tested with Java /.Net, it most likely going to fail as the generated WSDL will not be detailed enough) Thanks, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 26, 2010, 11:42 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi Jerome, Thanks for your reply. The web service that I am testing is \"moodle_user_create_users\" and I am testing it via the Moodle Site Administration (test client). This is what is displayed on the page after I test the WS: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- URL : http://<URL>/ltu_moodle/webservice/soap/server.php?wstoken=10951dc9b2db0875502ea2b693529af5 \n```text\nSoapFault exception: [Receiver] Unknown error in /home/user/public_html/ltu_moodle/lib/zend/Zend/Soap/Client.php:1113\n\n\nStack trace:\n\n\n#0 /home/user/public_html/ltu_moodle/lib/zend/Zend/Soap/Client.php(1113): SoapClient->__soapCall('moodle_user_cre...', Array, NULL, NULL, Array)\n\n\n#1 /home/user/public_html/ltu_moodle/webservice/soap/locallib.php(152): Zend_Soap_Client->__call('moodle_user_cre...', Array)\n\n\n#2 /home/user/public_html/ltu_moodle/admin/webservice/testclient.php(155): webservice_soap_test_client->simpletest('http://<URL>...', 'moodle_user_cre...', Array)\n\n\n#3 {main}\n```\n -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- I will also post the apache logs once I get hold of them. Thanks for your help! Anders",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 26, 2010, 1:23 PM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "I just run moodle_user_create_users unit tests, they passed. Could you let me know your parameters?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 26, 2010, 3:15 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Here are my parameters: Authentication method: token Protocol: SOAP protocol Function: moodle_user_create_users Token: 10951dc9b2db0875502ea2b693529af5 Username: new_user Password: password123 Firstname: Scott Lastname: Tiger Email: scott.tiger@example.com Customfieldtype: <BLANK> Customfieldvalue: <BLANK> --> Execute `SoapFault exception: [Receiver] Unknown error in /home/user/public_html/ltu_moodle/lib/zend/Zend/Soap/Client.php:1113`",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 7:56 AM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Further, when I capture the parameters in the exception, I get the following: \n```text\nparams: Array ( [users] => Array ( [0] => Array ( [username] => new_user [password] => password123 [firstname] => Scott [lastname] => Tiger [email] => scott.tiger@example.com [auth] => manual [idnumber] => [emailstop] => 0 [lang] => en ) ) ) )\n\n\n\n\nAll looks OK.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 9:06 AM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "I'd like know if someone resolved this problem, I'm getting the same error",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 19, 2011, 9:51 AM",
          "AuthorName": "Esteban Chamba Jimenez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=814354&course=5",
          "role": [
            "Picture of Esteban Chamba Jimenez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "I am Trying to create USER using moodle_user_create_user webservices but it giving error faultCode28194976faultStringCalling parameters do not match signature | ERRORCODE: Please Help Attaching XML <?xml version=\"1.0\"?> <methodCall> <methodName>moodle_user_create_users</methodName> <params> <param> <value> <struct> <member> <name>username</name> <value> <string>abebd089-5555-e311-gh56-00155d01105e</string> </value> </member> <member> <name>password</name> <value> <string>Admine51*</string> </value> </member> <member> <name>firstname</name> <value> <string>Test 1</string> </value> </member> <member> <name>lastname</name> <value> <string>Test 1</string> </value> </member> <member> <name>email</name> <value> <string>testing@mail.com</string> </value> </member> <member> <name>country</name> <value> <string>NZ</string> </value> </member> </struct> </value> </param> </params> </methodCall> Please Help Thanks In Advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 29, 2014, 8:48 PM",
          "AuthorName": "tushar bhatia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1776081&course=5",
          "role": [
            "Picture of tushar bhatia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: having trouble with web services in Moodle 2.0",
          "Text": "Hi sir, I am unable to find how to get user role through webservises.How can i user role for that site through webservises.please tell me how to fix the issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 15, 2014, 7:02 PM",
          "AuthorName": "asha chaparala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1792040&course=5",
          "role": [
            "Picture of asha chaparala"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 258523,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258523",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Bug report in core_course_update_courses function.",
          "Text": "Hi, I am not sure if this is the right topic to post a bug but i could not find a better place for this; apologies if it is not. I like to report that the web service core_course_update_courses function returns error if the forcetheme or lang values are empty string. This is not spouse to happen because under course settings you could set any of these two fields to be the default value (which sets an empty string in the database ). For example you could set the Force theme or Force language to be Do not force (which sets an empty string in the database). Currently you can't set any of these two fields to Do not force value through the web service function mentioned above. Moodle version: Moodle 2.6.2+ (Build: 20140327) Thank you. Arman G.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 17, 2014, 8:52 AM",
          "AuthorName": "Arman Ghazanchyan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1783552&course=5",
          "role": [
            "Picture of Arman Ghazanchyan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Bug report in core_course_update_courses function.",
          "Text": "Is this issue fixed in the later builds? Or where to find the list of web service updates for each build. Thanks in advance! Arman G.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 15, 2014, 12:26 AM",
          "AuthorName": "Arman Ghazanchyan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1783552&course=5",
          "role": [
            "Picture of Arman Ghazanchyan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 259830,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=259830",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Help storing user accomplishments that can be accessed using web services",
          "Text": "Can anyone recommend the best activity or method of storing individual user accomplishments on moodle so that they can be queried using the web services by external applications. Accomplishments would range from presentations, to short training courses on various topics Ideally the storage method would be private to the individual user with the teacher and suitable web service able to get lists of values returned. I don't think assignments would give the level of flexibility needed as each student can complete any accomplishment at any time and in any order. I was looking at badges but can they be queried using web services?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 9, 2014, 11:53 PM",
          "AuthorName": "Michael O'Brien",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36312&course=5",
          "role": [
            "Picture of Michael O'Brien"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 259815,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=259815",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Services UI expected behaviour: Allow external system to control moodle table",
          "Text": "Can I expect the table outlining the steps to allow an external system to control Moodle using web services to start showing the user, capability etc as I complete the steps or is it just some cells that will get values I guess what I'm asking is should I be looking for values to appear in the  green boxed area  if I correctly configure things or not",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1126139/M2WebServicesTable.jpg?forcedownload=1"
          ],
          "Time": "Friday, May 9, 2014, 7:56 PM",
          "AuthorName": "Michael O'Brien",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36312&course=5",
          "role": [
            "Picture of Michael O'Brien"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 259573,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=259573",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Consuming Moodle2 Web services in MS Sharepoint 2010, 2013: Experiences wanted",
          "Text": "I was wondering what the communities experiences have been consuming moodle web services into Microsoft sharepoint server 2010 or 2013 and if there were any particular problems users encountered Did you have a better experience using rest, soap or xml -rpc protocols What features/tools of sharepoint serverwere you able to integrate with",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 6, 2014, 10:25 PM",
          "AuthorName": "Michael O'Brien",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36312&course=5",
          "role": [
            "Picture of Michael O'Brien"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 259408,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=259408",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "java.lang.RuntimeException: Failed : HTTP error code : 415",
          "Text": "hi all i am trying to develop REST webservice. I am using the code from [url]\" http://examples.javacodegeeks.com/enterprise-java/rest/jersey/json-example-with-jersey-jackson/ \"[/url]. I have exactly same code . I have deployed this service on tomcat7. I get an exception when it tries to invoke the service ClientResponse response = webResource.accept(\"application/json\") .type(\"application/json\").post(ClientResponse.class, st); I get an excpetion which says [quote] \" java .lang.RuntimeException: Failed : HTTP error code : 415\"[/quote] I tried some other egample as well ( i think from mykong site) and got the same exception. Please help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 3, 2014, 10:35 AM",
          "AuthorName": "manjunath shenoy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1789043&course=5",
          "role": [
            "Picture of manjunath shenoy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 197480,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=197480",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "web services downloading file",
          "Text": "I am trying to develop a client for android .   How should I download a file resource who belongs to a course ?    should I use the web services API  core_files_get_files ?   If so , what is the parameter context id? any help is appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 2, 2012, 10:00 PM",
          "AuthorName": "hu pengfei",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1428454&course=5",
          "role": [
            "Picture of hu pengfei"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "回复: web services downloading file",
          "Text": "I am using the REST .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 2, 2012, 11:01 PM",
          "AuthorName": "hu pengfei",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1428454&course=5",
          "role": [
            "Picture of hu pengfei"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回复: web services downloading file",
          "Text": "I also read your other post about trying to use SOAP for webservice on mobile. Dont do that! My experience in developing moodle for mobile with SOAP was cancelled release due to slow execution.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/biggrin"
          ],
          "Time": "Friday, March 2, 2012, 11:34 PM",
          "AuthorName": "Rimphy Darmanegara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370704&course=5",
          "role": [
            "Picture of Rimphy Darmanegara"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: web services downloading file",
          "Text": "Maybe this can help http://moodle.org/mod/forum/discuss.php?d=191886",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 2, 2012, 11:10 PM",
          "AuthorName": "Rimphy Darmanegara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370704&course=5",
          "role": [
            "Picture of Rimphy Darmanegara"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回复: Re: web services downloading file",
          "Text": "thanks very much .   That I am trying to do  is  to get files,  so  I should  pass a context id to the web server , not to find the context id  in the DB .  I am really confused.   Hope you can explain this  to me .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 3, 2012, 9:33 AM",
          "AuthorName": "hu pengfei",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1428454&course=5",
          "role": [
            "Picture of hu pengfei"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: web services downloading file",
          "Text": "Hi Hu, have a look to the Moodledocs Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 2, 2012, 11:42 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回复: Re: web services downloading file",
          "Text": "thanks .   I have read  the docs .  But  I am using java -rest.    so   I didn't quite understand  the PHP.  can  you  explain the parameter to me and  how I can get it ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 3, 2012, 9:36 AM",
          "AuthorName": "hu pengfei",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1428454&course=5",
          "role": [
            "Picture of hu pengfei"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回复: Re: web services downloading file",
          "Text": "sorry  for my bad English . I can't  make myself clear .   I am just trying to upload a file  using java-rest  . like I said , I am developing a client for android phones , so  I want the client be able to upload  the assignments  and  download file in the course .  How  can I make it  using web services ? thanks for your  patience .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 3, 2012, 9:46 AM",
          "AuthorName": "hu pengfei",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1428454&course=5",
          "role": [
            "Picture of hu pengfei"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回复: Re: web services downloading file",
          "Text": "Hi Hu, Moodle upload/download file process is the common standard way in HTTP. The Moodle upload script works like when a script receives a file from a input html file tag. And the Moodle download script serves the file. It's just about knowing the right url to call which is demonstrated into the PHP upload/download sample demo. I hope it's enough clue to make you start finding information on Google. I don't plan to write a Java version of Upload/download sample demo yet, but if many people request it in a tracker issue, I'l consider it However the quickest way would be that a Java developer comes up with a basic upload/download sample demo client. I'll be happy to test it and push it to the current demo client repository . Cheers, Jerome",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, March 9, 2012, 2:00 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回复: Re: web services downloading file",
          "Text": "Hi, See the thread I just started. I'm nearing completing my Java library using REST protocols, the last calls to implement, apart from doing error checking and documentation, are the file ones. My problem is in the externallib.php file it shows the keys for the parameter array to be passed but there is no name for the array itself. Ignoring the authentication and the function call name, what would be the layout within the REST call for the parameters? Or are the parameters being expected to be passed as a HTTP POST rather than GET? By the way, this new library will eventually update the one on Sourceforge (MoodleREST). Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 14, 2012, 11:02 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回复: Re: web services downloading file",
          "Text": "Sorry, ignore the POST/GET, I'm using POST in all my calls, havn't looked at that code for some time. The externallib.php doesn't show some of the parameters as optional despite they are set to null if absent in the function and if the contextid is absent it is set to the system context id. I've tried just passing the token and webservice function name only but it still comes back with an invalid parameter message.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 15, 2012, 1:44 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回复: Re: web services downloading file",
          "Text": "Hmm.... Looking at the on-line documentation all parameters are required despite defaults being chosen to fill the gaps within the function itself.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 15, 2012, 7:53 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: web services downloading file",
          "Text": "I'm using REST getting course data and after the files references, like this: http://localhost:8080/webservice/rest/server.php?wstoken=3e6e578810548df1019806cf48938e1f&wsfunction=core_course_get_contents&courseid=1206&moodlewsrestformat=json. The returns is a JSON like this: Look than the contents property is an array of itens. Each object in the array have a type property that indentifies if is a file or not. The fileurl property is the url for download, but is necessary append the token parameter at the end of URL , like this: http://localhost:8080/webservice/pluginfile.php/32243/mod_resource/content/1/PLANO%20ENSINO%202014.1%20GEST%20MANUT%20N.pdf?forcedownload=1 &token=3e5e578d10544df1019d06cf48938e1f Hope this helps .",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1123992/core_course_get_contents-return-json-1.png"
          ],
          "Time": "Thursday, May 1, 2014, 1:33 AM",
          "AuthorName": "Julian Corrêa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1787350&course=5",
          "role": [
            "Picture of Julian Corrêa"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 258842,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258842",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Web services, user tokens and user rights",
          "Text": "Hi, I successfully set up a web service and use functions like \"mod_forum_get_forum_discussions\". But now I wonder if (and how) the Moodle roles and rights fit into this. But let me explain: I setup a demo course, with two (separate) groups (A and B) with two members each (A1, A2, B1, B2). The course contains a forum, which is in separate group mode. That means group A cannot see what group B discusses and vice versa. When I login to the frontend as user A1, this works pretty much as intended. To retrieve the forum via the web service, I do the following: Get the user token for user A1: token.php?username=A1&password=abcd&service=testservice Then I call mod_forum_get_forum_discussions: mymoodleserver.com/webservice/rest/ server .php?wstoken=tokenA1&wsfunction==mod_forum_get_forum_discussions&forumids[0]=65 I then get a list that contains infos on all discussions, also those of group B. Is this a security flaw, did I misconfigured anything or is it a misunderstanding? I would expect the webservice to send only the discussions the user has access to, e.g. excluding the discussions of group B. Any hints? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 23, 2014, 7:57 PM",
          "AuthorName": "Björn Fisseler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61174&course=5",
          "role": [
            "Picture of Björn Fisseler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web services, user tokens and user rights",
          "Text": "Hi Bjorn, I was wondering if you can explain how you setup the web service and how the code looks. This will give us an idea of how it is functioning. Thanks Vijay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 24, 2014, 10:59 PM",
          "AuthorName": "Vijay N",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1051068&course=5",
          "role": [
            "Picture of Vijay N"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web services, user tokens and user rights",
          "Text": "Hi Vijay, actually I'm in the testing phase and use \"Postman\" (a Chrome app) for testing the webservice via REST. So there isn't much code. For the webservice, I setup a new user, a new role, a new webservice, and I added several functions, and yes, all the rights are set appropriatly. The I do the following (via Postman): retrieve the user token for user A1 mod_forum_get_forum_discussions: mymoodleserver.com/webservice/rest/ server .php?wstoken=tokenA1&wsfunction=mod_forum_get_forum_discussions&forumids[0]=65 The problem is, as I tried to explain in my first post, that this call of the webservice sends back a list with all discussions in the forum with id=65. When user A1 logs in via the regular web front-end, he only sees the postings of his group. The webservice function \"mod_forum_get_forum_discussions\" seems to ignore the group settings when called with a user token. Or do you have any other ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 28, 2014, 3:25 PM",
          "AuthorName": "Björn Fisseler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61174&course=5",
          "role": [
            "Picture of Björn Fisseler"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 196625,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=196625",
      "NoOfResponses": 18,
      "ResponsesInList": [
        {
          "Title": "oktech webservices in moodle 2.2",
          "Text": "Good afternoon , I installed moodle 2.2.1 on the server ( the root) , likewise, have placed in the WSPP folder in the root of the installation. Once logged in moodle , I address notifications and not write anything to process the installation of webservices . Please help ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 6:17 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "@Nelson, OKTech can run standalone just after copying wspp at the proper place like you did ; but if you plan to use it under the official 2.x infrastructure (recommended) you MUST copy the folder oktech located in wspp/moodle2integration/oktech  directory into Moodle's local directory before going to Notifications. See https://github.com/patrickpollet/moodlews/wiki/Using-oktech-ws-with-moodle-2.0-official-web-service-infrastructure Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 5:37 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Patrick thank you very much for your reply. I have in the root all files for moodle 2.2.1 I have placed the folders there and oktech WSPP . but I will notificciones and still do not see anything to start facility. That may be happening there? IMPORTANT: 0) IMPORTANT : First make sure that the Moodle 2.0 official Web Service is up and running on your Moodle server and that you succeded in some testing operations. I'M JUST INSTALL THIS VERSION, THIS IS NOT RUNNING WELL WEBSERVICES Friend might be going ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 9:50 PM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Patrick, I used the oktech webservices to Moodle 1.9 and I work well. I can use the same I have for webservices 1.9 on 2.2.1 ? I appreciate your answers ..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 22, 2012, 11:04 PM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Nelson, Yes, OK Tech still runs under Moodle 2.x for most operations excepted those about file system access. It is now recommended to use OK Tech under Moodle 2.x infrastructure for login, function calls and parameter passing (see docs in github) ; thus, when the official Moodle 2.x WS will increase its number of supported operations, the corresponding OK Tech will  gradually become deprecated and I could start enjoy my retirment Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, February 23, 2012, 12:19 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Patrick apologizes for the inconvenience but I am going on the following: I have my project of moodle in the root , ie all the folders and files within the project are : public_html within the WSPP and he is also the folder oktech Then I go to notifications and nothing appears to run the webservices . structure: public_html | | - WSPP | - oktech | \" Here are all the files in moodle as admin , auth , backup , blog among others. in notifications only I get a message like this: Enabling the PHP setting display_errors is not recommended on production sites Because Some error messages may reveal sensitive information About Your server. And more nothing, but nothing appears to install the Web service oktech What could be happening? Help me please ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2012, 4:01 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Hi Nelson, I'm also really interested in trying this service to streamline user admin etc. Did you copy the contents of wspp/moodle2integration/oktech into \"local\" folder in Moodle root? This worked for me after I discovered \"moodle2integration\" folder (quite by chance). I have the service installed. The functions list out under the menu Site Admin -> plugins -> webservices -> external services (Click \"functions\") However, I cannot work out how to run the functions. Are there any web guides on this part? The README \"wspp/moodle2integration/README\" seems to provide some strong hints about using wget from command line.  I tried this and receive no output. At this stage I just want to try some basic functions from PHP command line. Would really appreciate any guidance with this useful resource. Thanks, Nathan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2012, 12:43 PM",
          "AuthorName": "Nathan Humphrey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1387654&course=5",
          "role": [
            "Picture of Nathan Humphrey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Ok Nathan, if you see in administration screens  the functions oktech_xxx that were added to the official core_xxx or moodle_xxxx functions, you have succeeded step 1 Now you have to setup the Web Service as described here http://docs.moodle.org/20/en/How_to_create_and_enable_a_web_service (create services, add functions, enable protocols, generate tokens ...)  and start the testing. You can test either is REST mode using wget command line or a simple browser or you may choose to write a command line PHP client using the sample codes as models see http://docs.moodle.org/dev/Creating_a_web_service_client#Demo_client_examples and especially the github link https://github.com/moodlehq/sample-ws-clients that gives you some nice models PHP code in REST,SOAP or XMLRPC Finally if you choose to write PHP client using the SOAP protocol (which I recommend since coding is the easiest ...) you may find this little script useful http://tracker.moodle.org/browse/CONTRIB-3472 ; it will generate for all known operations the 'skeleton' of the required argument (arrays, array of arrays ...)  ; just copy and paste into your code and 'fill the blanks' using the comments generated on each line to know wether the value iss required or not, has a default... Cheers. Edit : I do hope that in a near future, Moodle 2.x WS will be easier to use by having a correct WSDL automatically generated like OK Tech dooes when run in 'standalone mode' ; see http://tracker.moodle.org/browse/MDL-28988",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, February 23, 2012, 6:19 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "```text\nPatrick\n \napologizes\n \nfor the inconvenience\n \nbut I am\n \ngoing on\n \nthe following:\n\n\n\n\nI have\n \nmy project\n \nof\n \nmoodle\n \nin the root\n, ie all\n \nthe folders\n \nand files\n\n\nwithin\n \nthe project\n \nare\n:\n\n\npublic_html\n\n\nwithin\n \nthe\n \nWSPP\n \nand\n \nhe is\n \nalso\n \nthe folder\n \noktech\n\n\n\n\nThen I go to\n \nnotifications\n \nand nothing appears\n \nto run the\n \nwebservices\n.\n\n\n\n\nstructure:\n\n\npublic_html\n\n\n|\n\n\n| -\n \nWSPP\n\n\n| -\n \noktech\n\n\n| \"\nHere are\n \nall the files in\n \nmoodle\n \nas admin\n, auth\n, backup\n, \nblog\n\n\namong others.\n\n\n\n\nin\n \nnotifications\n \nonly\n \nI get a\n \nmessage like this:\n\n\nEnabling the\n \nPHP\n \nsetting\n \ndisplay_errors\n \nis\n \nnot recommended\n \non\n \nproduction\n \nsites\n\n\nBecause\n \nSome\n \nerror messages\n \nmay\n \nreveal\n \nsensitive\n \ninformation\n \nAbout Your\n\n\nserver.\n\n\n\n\nAnd more\n \nnothing,\n \nbut nothing\n \nappears\n \nto install the\n \nWeb service\n \noktech\n\n\n\n\nWhat could\n \nbe happening?\n\n\nHelp me\n \nplease ...\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2012, 10:19 PM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "the folder oktech MUST be inside the local directory and not at the same level as admin, auth, backup ... \n```text\nlocal\n                                                    \n\n|--\n \noktech\n                                     \n\n|\n   \n|--\n \ndb\n                                     \n\n|\n   \n|\n   \n|--\n \nservices\n.\nphp\n                       \n\n|\n   \n|--\n \nexternallib\n.\nphp\n                        \n\n|\n   \n|--\n \noktech_classeslib\n.\nphp\n                  \n\n|\n   \n|--\n \nversion\n.\nphp\n                                                                         \n\n|--\n \nreadme\n.\ntxt\n\n`\n--\n \nwspp\n\n    \n|--\n \ndb\n\n    \n|\n   `\n--\n \ninstall\n.\nxml\n\n    \n|--\n \nlang\n\n    \n|\n   \n|--\n \nen\n\n    \n|\n   \n|\n   `\n--\n \nlocal_wspp\n.\nphp\n\n    \n|\n   `\n--\n \nfr\n\n    \n|\n       `\n--\n \nlocal_wspp\n.\nphp\n\n    \n|--\n \nsettings\n.\nphp\n\n    `\n--\n \nversion\n.\nphp\n```\n BTW why wspp appears in upper case ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 24, 2012, 12:56 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Good night patrick WSPP I wrote in all caps but if you are in lowercase . See attached image for as I have just put in the server. otherwise I detail : moodledata : I think the same server for running moodle oktech : it went up to the main root . public_html : here are all the files for moodle 2.2.1 WSPP : it went up to the main root . Note 1 : enable webservices in moodle , I went to advanced features and enable the checkbox. Note 2 : The folder I uploaded to WSPP server has ma things that I 've diagrammed in the previous message. have the same files as: admin, auth, MoodleWS , moodlewsdl , moodlewsdl2 , service_pp , service_pp2 , among others. Based on everything I have written and also in the attached image , it must be so ?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/858227/Captura.JPG?forcedownload=1"
          ],
          "Time": "Friday, February 24, 2012, 12:04 PM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Hi Nelson, Looking at the structure above, it seems that your Moodle installation (or what I suppose can be called Moodle root) is \"public_html\". I see Moodle folders within the folder \"public_html\" - for example: \"admin\", \"course\" etc If this is correct then I believe the folders \"wspp\" and \"oktech\" should be place in \"public_html/local\" folder As it stands, they appear to be below the Moodle root directory. Please try to move them to \"public_html/local\" instead. I could be wrong but worth a try. Regards, Nathan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 25, 2012, 4:41 PM",
          "AuthorName": "Nathan Humphrey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1387654&course=5",
          "role": [
            "Picture of Nathan Humphrey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Hi Patrick, Thank you very much for the documentation. That will make for pleasant Sunday reading. Regards, Nathan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 25, 2012, 4:36 PM",
          "AuthorName": "Nathan Humphrey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1387654&course=5",
          "role": [
            "Picture of Nathan Humphrey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Hello friend I hope you are well. I tell you, as I am doing, install moodle once installed, upload the folder and oktech WSPP ( this takes it from moodle2integration ) being something like this: public_html | | - WSPP | - Oktech | \" Here are all the files in moodle as admin , auth , backup , blog Among Others . Then I go to moodle Site adminstration > Advanced features > I enable \"Enable Web Services \" Then I go to notifications and nothing comes nothing . only the following message: Enabling the PHP setting display_errors is not recommended on production sites Because Some error messages may reveal sensitive information About Your server. The cron.php maintenance script has not run for at least Been 24 hours. Please help , I need your great support.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2012, 10:26 PM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Hi Patrick, thanks for the link! I think that answers my question further down the threads. I'll try it out. Nathan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2012, 12:47 PM",
          "AuthorName": "Nathan Humphrey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1387654&course=5",
          "role": [
            "Picture of Nathan Humphrey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Nathan Hello good day . Achieved and the service is installed and everything else , thank god . Tell from what you patrick planteastes to test the service , you able to? If satisfactory, what steps seguistes ? I hope your answers ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 26, 2012, 10:26 PM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Patrick achieved in good time and install the Web service through the notiticaciones : I did the following : A . - Install everything through notifications. 2. - Enable [Enable Web Services ] 3. - Enable protocols [ soap , amf , rest, xmlrpc ] 4. - In outsourcing appears [ WS oktech | local_oktech ] 5. - Add another external service name [ demows | Authorised users] allowing the user administrator \" with which I go to moodle\" . - Add to himself all the functions present in the list. 6. - I went to [Web service test client] and probe method through simple, SOAP , and function moodle_user_create_users and it worked . important: Upload the folder which has files WSPP as: MoodleWS moodlewsdl service_pp wsdl_pp among others ... The same you use for Moodle 1.9 ( ME worked perfect ) HERE COMES THE PROBLEM: ATTEMPT TO TRY THE SAME CODE ( C # ) which implemented MOODLE FOR PREVIOUS VERSION AND THE CREDENTIALS OF THE ADMINISTRATOR AND NO I DO NOT WORK. . - STEPS THAT I NEED ? . - SHOULD I SET UP ? PLEASE HELP ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 27, 2012, 3:46 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oktech webservices in moodle 2.2",
          "Text": "Good morning Patrick Pollet . Patrick I can install oktech in moodle 2.4.8? How is the procedure for install the webservices? Where i can download it file (oktech)? I hope you answer please. Nelson Gomez",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 24, 2014, 11:21 PM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 258691,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258691",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Sample on quiz web service API",
          "Text": "Hello, is there any sample on Quiz Web Service API ( http://docs.moodle.org/dev/Quiz_web_services)? thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 21, 2014, 5:51 PM",
          "AuthorName": "Chi Kiu SO",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1784474&course=5",
          "role": [
            "Picture of Chi Kiu SO"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 258316,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258316",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Token + Courses Web Services",
          "Text": "Hello All I made an extensive research over the web and could not find the service where I can use only the token as parameter and the service send back the list of courses that mentioned token is assigned to. Is there someone who has already come across such situation? Thanks in advance Gabe",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 14, 2014, 11:04 AM",
          "AuthorName": "Gabriel Souza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1782325&course=5",
          "role": [
            "Picture of Gabriel Souza"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 257571,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=257571",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Calling Server Function in WebService external Function.",
          "Text": "Dear Seniors I developed a script for Bulk Course Creation via coursecreate() function. coursecreate0 get data from a webservice one the base of unique id. Each id has contents of whole course. createcourse() Now I am going to develop a webservice, So on call of that web service, coursecreate() should called and return course link to client via protocol as done in coursecreate() function(locally). Can any one tell me how I can call coursecreate() in webservice external function. I tried in different ways 1.  include whole page having coursecreate()   // lib file path error 2.  Add whole createcourse() in external function of web service // Error nothing showing Null \n```text\nstring(180) \"<?\nxml\n version=\"1.0\" encoding=\"UTF-8\"?>\n<methodCall>\n<methodName>createcourse</methodName>\n<params>\n <param>\n  <value>\n   <int>17</int>\n  </value>\n </param>\n</params>\n</methodCall>\n\"\n```\n I think in am not passing params in proper way to createcourse(); $params = array('iid' => new external_value(PARAM_INT, 'RA id. By default it is \"New Course ID,\"', VALUE_DEFAULT, '17')) public static function createcourse(int $iid){.... //also tried public static function createcourse($iid){.. //Return params return new external_value(PARAM_TEXT, 'The Course link'); Please help me So, It returns courselink as it is working on local server . Waiting for seniors reply.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1116855/WebService%20NULL%20Return%20Error.JPG?forcedownload=1"
          ],
          "Time": "Wednesday, April 2, 2014, 7:36 PM",
          "AuthorName": "Syed Nayab Bukhari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1572908&course=5",
          "role": [
            "Picture of Syed Nayab Bukhari",
            "Picture of Core developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Calling Server Function in WebService external Function.",
          "Text": "Please anyone suggest me What is I am doing wrong.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 3, 2014, 3:04 PM",
          "AuthorName": "Syed Nayab Bukhari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1572908&course=5",
          "role": [
            "Picture of Syed Nayab Bukhari",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Calling Server Function in WebService external Function.",
          "Text": "With great blessing of Almighty Allah. I completed this task. 1.  allow single url from php.ini        set on 2.  include required page having function you want to include in service external function. 3.  add function in web service external function and web_external_fun(){ return functionname(); } It is working fine .. Now I am testing my Web Service on another Server. Let c",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1117740/newly%20created%20coruse%20via%20web%20service.JPG?forcedownload=1"
          ],
          "Time": "Saturday, April 5, 2014, 12:04 PM",
          "AuthorName": "Syed Nayab Bukhari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1572908&course=5",
          "role": [
            "Picture of Syed Nayab Bukhari",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Calling Server Function in WebService external Function.",
          "Text": "Please tell me what I am doing Wrong. When I call WebService http://localhost/bpms/webservice/rest/server.php?wstoken=4e32dfedce5436511a97478298d00705&wsfunction=local_createcourse&moodlewsrestformat=json&iid=113 local_createcourse  // externallib function. It shows error \n```text\n{\"exception\":\"dml_missing_record_exception\",\"errorcode\":\"invalidrecord\",\"message\":\"Can not find data record in \ndatabase\n table external_functions.\",\"debuginfo\":\"SELECT * FROM {external_functions} WHERE name = ?\\n[array (\\n  0 => 'local_createcourse',\\n)]\"}\n```\n http://localhost/bpms/webservice/rest/server.php?wstoken=4e32dfedce5436511a97478298d00705&wsfunction=local_createcourses&moodlewsrestformat=json&iid=113 local_createcourses  // Web Service function mentioned in services.php It shows error The website encountered an error while retrieving http://localhost/bpms/webservice/rest/server.php?wstoken=4e32dfedce5436511a97478298d00705&wsfunction=local_createcourses&moodlewsrestformat=json&iid=113 . It may be down for maintenance or configured incorrectly. Details of all page (client.php, services.php, externallib.php) are attached. [code] What is I am doing wrong Please help me /////////////////// db->Service Page $functions = array( 'local_createcourses' => array( 'classname'   => 'createcourse_external',       // class name 'methodname'  => 'local_createcourse',      // class main function 'classpath'   => 'local/createcourse/externallib.php',  // plugin path 'description' => 'Return course link',      // description 'type'        => 'write',                   // mode write or read ) ); // We define the services to install as pre-build services. A pre-build service is not editable by administrator. $services = array( 'Risk Assessment Tool' => array( 'functions' => array ('local_createcourses'),   // client function call name, both will same this and function array 'restrictedusers' => 0, 'enabled'=>1, ) ); /////////////////// external Page require_once('/createcourse.php'); // local custom function work perfectly independently class createcourse_external extends external_api { /** * @Returns description of method parameters * @return external_function_parameters */ public static function createcourse_parameters(){ return new external_function_parameters( array('iid' => new external_value(PARAM_INT, 'iid')) ); } /** * @Returns ID * @return string course link */ public static function local_createcourse($iid){ $url=creates($iid); return $url; } /** * @Returns description of method result value * @return external_description */ public static function createcourse_returns() { return new external_value(PARAM_TEXT, 'The Course link'); } } /////////Client Page include('../externallib.php'); /// SETUP - NEED TO BE CHANGED $token = '4e32dfedce5436511a***********'; $domainname = 'http://localhost/bpms'; /// FUNCTION NAME //$functionname = 'local_createcourses';  // as define in services function name /// PARAMETERS //$iid=$_GET[‘iid’]; ///// XML -RPC CALL header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/rest/server.php'. '?wstoken=' . $token; require_once('/curl.php'); $curl = new curls; $post = xmlrpc_encode_request('local_createcourses',local_createcourse($iid), array('encoding' => 'UTF-8')); $resp = xmlrpc_decode($curl->post($serverurl, $post)); print_r($resp); return $resp; } } [/code]",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1117759/external%20function%20table.JPG?forcedownload=1"
          ],
          "Time": "Saturday, April 5, 2014, 3:55 PM",
          "AuthorName": "Syed Nayab Bukhari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1572908&course=5",
          "role": [
            "Picture of Syed Nayab Bukhari",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 257697,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=257697",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Native Mobile application",
          "Text": "Hi, I would like to develop a native (Android & iOS) mobile application for moodle. I found the web services listed in http://docs.moodle.org/dev/Web_services_Roadmap . But these function does not provide in depth course details. like Topics->quiz, slideshows, forum without linking that to a web view. Will be possible to build entire LMS (for users) inside the mobile application. Please advice us on that. We want the content to be shown offline too. thank you Nirmal.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 4, 2014, 12:47 PM",
          "AuthorName": "Nirmal Kumar B",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1778264&course=5",
          "role": [
            "Picture of Nirmal Kumar B"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 206561,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=206561",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Web service error",
          "Text": "Good morning. I have a platform, recently updated to version 2.3.1, and web services that was in version 2.2 I have started to fail, even the new ones give me the same error. I looked at the web trying to find information and can not find anything and would appreciate help if someone has done the same. I commented. Version: 2.3.1 The web service that worked in version 2.2 such as: core_group_get_course_groups",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 9, 2012, 6:48 PM",
          "AuthorName": "Javier González Díaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=605169&course=5",
          "role": [
            "Picture of Javier González Díaz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service error",
          "Text": "I am Trying To create User using moodle_user_create_user webservice and getting error faultCode28194976faultStringCalling parameters do not match signature | ERRORCODE I am attaching Xml PLease Help <?xml version=\"1.0\"?> <methodCall> <methodName>core_user_create_users</methodName> <params> <param> <value> <struct> <member> <name>username</name> <value> <string>jujjbjjjb</string> </value> </member> <member> <name>password</name> <value> <string>Admine51*</string> </value> </member> <member> <name>firstname</name> <value> <string>Test 1</string> </value> </member> <member> <name>lastname</name> <value> <string>Test 1</string> </value> </member> <member> <name>email</name> <value> <string>testing@mail.com</string> </value> </member> <member> <name>country</name> <value> <string>NZ</string> </value> </member> </struct> </value> </param> </params> </methodCall>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 29, 2014, 9:14 PM",
          "AuthorName": "tushar bhatia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1776081&course=5",
          "role": [
            "Picture of tushar bhatia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service error",
          "Text": "Dear Tushar Bhatia! Have you tried this <?php /// SETUP - NEED TO BE CHANGED $token = '663c70e3034930ded9a3287fc1716213'; $domainname = ' http://10.0.0.18/moodle209' ; $functionname = 'core_enrol_get_users_courses'; //////// core_enrol_get_users_courses //////// $userid2 = 73; /// PARAMETERS - NEED TO BE CHANGED IF YOU CALL A DIFFERENT FUNCTION $params = array($userid2); /// XML -RPC CALL header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/xmlrpc/ server .php'. '?wstoken=' . $token; require_once('./curl.php'); $curl = new curl; $post = xmlrpc_encode_request($functionname, $params); $resp = xmlrpc_decode($curl->post($serverurl, $post)); print_r($resp); ?> From page https://tracker.moodle.org/browse/MDL-34177",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 3, 2014, 11:14 AM",
          "AuthorName": "Syed Nayab Bukhari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1572908&course=5",
          "role": [
            "Picture of Syed Nayab Bukhari",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service error",
          "Text": "Dear Javier González Díaz ! I found same error on https://tracker.moodle.org/browse/MDL-34177 I hope it will helpful for you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 3, 2014, 11:16 AM",
          "AuthorName": "Syed Nayab Bukhari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1572908&course=5",
          "role": [
            "Picture of Syed Nayab Bukhari",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 208740,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=208740",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "how to enrol user to freshly created course via web services",
          "Text": "hi, i'm trying to integrate moodle with drupal cms via web services. i've successfuly created categories, courses, users and also managed to extend moodle web services functionality by writing plugin by my own, but unfortunatelly i am not able to assign an editing teacher (ar any other) to my freshly created course. my code is: \n```text\n$einfo\n \n=\n \nnew\n stdClass\n;\n\n\n$einfo\n->\nroleid \n=\n TEACHER\n; //iv defined an integer 2 (editingteacher's id)\n\n\n$einfo\n->\nuserid \n=\n \n$uid\n;    //moodle user's id\n\n\n$einfo\n->\ncourseid \n=\n \n$id;   //moodle course id\n\n\n\n$einfo\n \n=\n moodle_int_course_enrol\n(\n$einfo\n);\n```\n \n```text\nfunction\n moodle_int_course_enrol\n(\n$info\n){\n\n    \n$url\n \n=\n variable_get\n(\n'moodleurl'\n,\n \n''\n);\n\n    \n$token\n \n=\n variable_get\n(\n'moodletoken'\n,\n \n''\n);\n\n \n\t\n$url\n \n.=\n \n'/webservice/xmlrpc/\nserver\n.php'\n.\n'?wstoken='\n.\n$token\n;\n\n  \n    \n$params\n \n=\n \narray\n(\n$info\n);\n\n \n\t\n$post\n \n=\n \nxmlrpc_encode_request\n(\n'enrol_manual_enrol_users'\n,\n \narray\n(\n$params\n),\n \narray\n(\n'encoding'\n \n=>\n \n'UTF-8'\n,\n \n'escaping'\n \n=>\n \n'markup'\n));\n\n\n    \n$resp\n \n=\n drupal_http_request\n(\n$url\n,\n \narray\n(\n'headers'\n \n=>\n \narray\n(\n'Content-Type'\n \n=>\n \n'text/\nxml\n'\n),\n \n\"method\"\n \n=>\n \n'POST'\n,\n \n'data'\n \n=>\n \n$post\n));\n\n\t\n$resp\n \n=\n \nxmlrpc_decode\n(\n$resp\n->\ndata\n);\n\n    \nreturn\n \n$resp\n;\n\n\n}\n\n\n\n\nand then this gets executed i only have:\n\n\narray(\n\n\n   'faultCode' => 21385713,\n\n\n   'faultString' => 'You don't have the \npermission\n to assign this role (3) to this user (6) in this course(27). | ERRORCODE: wsusercannotassign'\n\n\n)\n\n\n\n\nin $einfo variable;\n\n\n\n\ndoes anybody know what am i doing wrong? any help appreciated\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 9, 2012, 8:32 PM",
          "AuthorName": "Tomas Madajevas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1475170&course=5",
          "role": [
            "Picture of Tomas Madajevas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: how to enrol user to freshly created course via web services",
          "Text": "Hi Tomas, As per my understanding Your webservice user don't have permision to assign role (Means your token don't have permission to assign role).   please check the table \"mdl_role_allow_assign\". I think you need to do manual entry in this table. For any more detial you can contact me at skype: netram.dhakar Cheers Netram Dhakar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 9, 2012, 10:23 PM",
          "AuthorName": "Netram Dhakar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616001&course=5",
          "role": [
            "Picture of Netram Dhakar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: how to enrol user to freshly created course via web services",
          "Text": "You just need to make sure that your webservice user is assigned a special role and this role is able to assign roles - this can be set via the 'allow role assignments' tab on the define roles admin page http://themoodleurl/admin/roles/allow.php?mode=assign",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 27, 2013, 11:49 PM",
          "AuthorName": "Michael Hughes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=932892&course=5",
          "role": [
            "Picture of Michael Hughes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: how to enrol user to freshly created course via web services",
          "Text": "I think problem is here $einfo = moodle_int_course_enrol($einfo); if $einfo is defined as above then here $einfo = moodle_int_course_enrol($einfo); it is being redefine and getting function return value. if $einfo is newly defined then  moodle_int_course_enrol($einfo); will return null because it has null value in parameter. Best of luck",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 31, 2014, 12:07 PM",
          "AuthorName": "Syed Nayab Bukhari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1572908&course=5",
          "role": [
            "Picture of Syed Nayab Bukhari",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 207224,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207224",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Developing webservice - 'do not match signature' error",
          "Text": "Using Moodle 2.3.1 With this simple setup : $token = '6aa701162583677b5247683d127d2a80'; $domainname = 'http://localhost/moodle'; /// FUNCTION NAME $functionname = 'moodle_user_get_users_by_id'; $userids = 3; $params = array( 'userids' => $userids ); ///// XML -RPC CALL header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/xmlrpc/simpleserver.php?wsusername=testeur&wspassword=Test-2012'; require_once('./curl.php'); $curl = new curl; $post = xmlrpc_encode_request($functionname, $params); $resp = xmlrpc_decode($curl->post($serverurl, $post)); print_r($resp); I get this response : \n```text\nArray\n(\n    [faultCode] => 28194976\n    [faultString] => Calling parameters do not match signature | ERRORCODE: \n)\n```\n Where am i wrong ? To answer the question: why don't use core_user_get_users_by_id ? because i got : Method \"core_user_get_users_by_id\" does not exist To answer the question: why simpleserver.php and not server .php with token ? it's because with Client test webservice and no token, it works well, and in Client test webservice with token i got this cool error : exception 'Zend_XmlRpc_Client_FaultException' with message 'Failed to parse response' in C:\\wamp\\www\\moodle\\lib\\zend\\Zend\\XmlRpc\\Client.php:370 Stack trace: #0 C:\\wamp\\www\\moodle\\webservice\\xmlrpc\\locallib.php(134): Zend_XmlRpc_Client->call('moodle_user_get...', Array) #1 C:\\wamp\\www\\moodle\\admin\\webservice\\testclient.php(154): webservice_xmlrpc_test_client->simpletest('http://localhos...', 'moodle_user_get...', Array) #2 {main}",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 18, 2012, 12:08 AM",
          "AuthorName": "Vincent Ogloblinsky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1469933&course=5",
          "role": [
            "Picture of Vincent Ogloblinsky"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Developing webservice - 'do not match signature' error",
          "Text": "First solution found to prevent displaying the \"match signature\" error : Comment this block if (!$matched) { require_once 'Zend/XmlRpc/Server/Exception.php'; throw new Zend_XmlRpc_Server_Exception('Calling parameters do not match signature', 623); } in moodle/lib/zend/Zend/XmlRpc/Server.php ; line 595",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 18, 2012, 4:48 PM",
          "AuthorName": "Vincent Ogloblinsky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1469933&course=5",
          "role": [
            "Picture of Vincent Ogloblinsky"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Developing webservice - 'do not match signature' error",
          "Text": "Commenting out code that does error checking is a VERY BAD IDEA .  You should instead find out why the error checking code is complaining.  The error that you got tells you what you are doing wrong: you are calling the web service with the wrong type of parameters.  The get_users_by_id function expects the userids parameter to be an array of IDs, not just a single ID.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 18, 2012, 10:46 PM",
          "AuthorName": "Hubert Chathi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=706541&course=5",
          "role": [
            "Picture of Hubert Chathi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Developing webservice - 'do not match signature' error",
          "Text": "I am Trying To create User using moodle_user_create_user webservice and getting error faultCode28194976faultStringCalling parameters do not match signature | ERRORCODE I am attaching Xml PLease Help <?xml version=\"1.0\"?> <methodCall> <methodName>core_user_create_users</methodName> <params> <param> <value> <struct> <member> <name>username</name> <value> <string>jujjbjjjb</string> </value> </member> <member> <name>password</name> <value> <string>Admine51*</string> </value> </member> <member> <name>firstname</name> <value> <string>Test 1</string> </value> </member> <member> <name>lastname</name> <value> <string>Test 1</string> </value> </member> <member> <name>email</name> <value> <string>testing@mail.com</string> </value> </member> <member> <name>country</name> <value> <string>NZ</string> </value> </member> </struct> </value> </param> </params> </methodCall>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 29, 2014, 9:14 PM",
          "AuthorName": "tushar bhatia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1776081&course=5",
          "role": [
            "Picture of tushar bhatia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 257232,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=257232",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "external database problem",
          "Text": "after full all inforamtion of oracle database , when click to Test settings appear message \" localhost : Missing extension for native\" How can solve this  problem ??? Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 28, 2014, 3:26 PM",
          "AuthorName": "mohammed barakat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1775659&course=5",
          "role": [
            "Picture of mohammed barakat"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 256507,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=256507",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Service Not Working After Upgrade",
          "Text": "I was running Moodle 2.3 and had a client web service call created to create users.  I just updated to version 2.6.1 and this script no longer executes properly.  I am not getting the error: <? xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"dml_missing_record_exception\"> <ERRORCODE>invalidrecord</ERRORCODE> <MESSAGE>Can not find data record in database table external_functions.</MESSAGE> </EXCEPTION> However I do have the following record in mdl_external_functions: core_user_create_users  | core_user_external  | create_users |  user/externallib.php  | moodle  | moodle/user:create And this is the PHP: <?php /// SETUP - NEED TO BE CHANGED $token = '9538f4610f9d3d2d2add726caac8ec3f'; $domainname = ' http://christianlibertyonline.com '; $functionname = 'core_user_create_users'; // REST RETURNED VALUES FORMAT $restformat = 'xml'; //////// moodle_user_create_users //////// /// PARAMETERS - NEED TO BE CHANGED IF YOU CALL A DIFFERENT FUNCTION $user1 = new stdClass(); $user1->username = 'testusername1'; $user1->password = 'testpassword1'; /// REST CALL header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/rest/ server .php'. '?wstoken=' . $token . '&wsfunction='.$functionname; require_once('./curl.php'); $curl = new curl; $resp = $curl->post($serverurl . $restformat, $params); print_r($resp); ?> Any one have any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 18, 2014, 11:20 AM",
          "AuthorName": "Michael Burrei",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1770746&course=5",
          "role": [
            "Picture of Michael Burrei"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 195034,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=195034",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Suspending user accounts",
          "Text": "Hello, Recently a new feature was introduced to Moodle, namely user suspension. There is no reflection of it on the webservices however. Even though one can enable/disable user accounts by settings the auth field to \"nologin\" or \"manual\" for example, this is relatively bad, because one can inadvertly set an invalid auth plugin. Also it requires to keep track of the previous auth plugin before setting it to \"nologin\". On Moodle 2.2 at least, it's possible to suspend user accounts, disabling user login, messaging, etc. This is done by simply setting a suspended value = 1 on the DB for the respective user. I would be glad to implement those changes, namely on the parameters, returns and code of core_user_create_users, core_user_update_users, and others (which I would have to verify). This would allow for a cleaner user account suspension enabling/disabling interface. I would like to know your opinions, Fábio",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 31, 2012, 8:09 PM",
          "AuthorName": "Fábio Souto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1407519&course=5",
          "role": [
            "Picture of Fábio Souto"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Suspending user accounts",
          "Text": "Hello, Since the changes were relatively simple, I have created an issue and published the changes. More details at http://tracker.moodle.org/browse/MDL-31465 Cheers, Fábio",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 1, 2012, 7:45 PM",
          "AuthorName": "Fábio Souto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1407519&course=5",
          "role": [
            "Picture of Fábio Souto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Suspending user accounts",
          "Text": "This is exactly the feature I want: https://tracker.moodle.org/browse/MDL-31465 Is there any reason it's not being merged into the Moodle repo? That is - is there a bug I should be aware of, or shall I just cherry pick your commit? Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 2, 2014, 7:38 PM",
          "AuthorName": "Andrew Solomon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3710&course=5",
          "role": [
            "Picture of Andrew Solomon"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 251425,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=251425",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to download Scorm Course to Mobile App",
          "Text": "Hi All, I am creating a Moodle Mobile Application where I need to download the SCORM courses to mobile app & use it when the students are not connected to internet & when the get the the connectivity all the progress has to be updated back to server . Can any one help on how to download the SCORM courses into Mobile device through Web Services. Thanks & Regards, Sumanth C N",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2014, 7:13 PM",
          "AuthorName": "Sumanth CN",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1332683&course=5",
          "role": [
            "Picture of Sumanth CN"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to download Scorm Course to Mobile App",
          "Text": "Hi Can you perhaps provide us with some feedback on your question? did you have any results? Very interesting post, I am also trying to develop application SCORM course in mobile format. Regards Dirk",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 25, 2014, 5:06 PM",
          "AuthorName": "Dirk Human",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1761151&course=5",
          "role": [
            "Picture of Dirk Human"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 254860,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=254860",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 254461,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=254461",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Request for an unknown renderer class core_webservice_renderer",
          "Text": "Using 2.6.1+ (Build: 20140131) Trying to set up webservices. Trying to \"add\" an external service. Upon clicking the Add button, I get this error: Coding error detected, it must be fixed by a programmer: Request for an unknown renderer class core_webservice_renderer Server info: Database Version 5.1.72-cll PHP Version 5.3.28 Web Server Apache /2.2.26 (Unix) mod_ssl/2.2.26 OpenSSL/0.9.8e-fips-rhel5 mod_bwlimited/1.4 More information about this error Debug info: Error code: codingerror Stack trace: •line 299 of /lib/outputfactories.php: coding_exception thrown •line 1500 of /lib/outputlib.php: call to theme_overridden_renderer_factory->get_renderer() •line 779 of /lib/pagelib.php: call to theme_config->get_renderer() •line 46 of /admin/webservice/service.php: call to moodle_page->get_renderer() I searched the files of moodle-latest-26. The string \"webservice_renderer\" is not found anywhere. What could be wrong? How do I fix this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2014, 10:04 PM",
          "AuthorName": "Greg Holmes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1681943&course=5",
          "role": [
            "Picture of Greg Holmes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 254447,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=254447",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "webservice auth nologin",
          "Text": "Hi, I want to configure a web service in my application, I've read that the type of user authentication for the web service must be 'webservice'. But when I go to request the token doesn't return, because the user can't login. In token.php: $user = authenticate_user_login($username, $password); In moodlelib.php, authenticate_user_login: if (!$authplugin->user_login($username, $password)) { continue; } In webservice/auth.php: function user_login($username, $password) { // normla logins not allowed! return false; } Any body can help me? Thanks a lot!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2014, 6:46 PM",
          "AuthorName": "Liane Figueroa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1618365&course=5",
          "role": [
            "Picture of Liane Figueroa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 254446,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=254446",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "¿How get token with https?",
          "Text": "Hi, In http://docs.moodle.org/dev/Creating_a_web_service_client say: \"Your client can call the script located in /login/token.php with a simple HTTP request. We highly recommend to do it securely with HTTPS.\" I want to request token for https, but I will not affect the performance of my application. Is it possible to activate a secure connection only for these cases? With loginhttps variable maybe? Thanks a lot!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2014, 6:38 PM",
          "AuthorName": "Liane Figueroa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1618365&course=5",
          "role": [
            "Picture of Liane Figueroa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 253874,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=253874",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How Moodle communicate with External server?",
          "Text": "Hi , What I want to do is the following: 1 - I have a server Linux where a simulation program is runs. 2 - I have a client program for windows so that user can to simulation worlwide remotly. Problem: T he user who have the client program , start the simulator only if that is not already used by others. Target: I want to manage the client access through a booking system. Now I am testing moodle 2.6.1 to create some courses and testing the MRBS block for booking the simulator (Linux server). Everything is well.  For the moment I'm in the step after booking (what schould be happend regarding communication between moodle and simulator server?). The Client-User has booked the simulator through MRBS on a determined day for 8 hours . The next step will be how to tell the simulator server automaticaly that one user (id,name,starttime,..) has booked the system. I am thinking if it could not go through moodle webservice XMLRPC protocol . XmlRPC and HTTP are supported on the simulator side. I already activate moodle webservice, XmlRPC protocol and create webservice user and service, create a token. But I don't know how to get per scripting the booking informations and communicate with the simulator server. The simulator server have to wait for a request to block the server an a determined day starting from 9 clock for example. Conclusion: HOW CAN MOODLE/MRBS COMMUNICATE WITH OTHER SERVER? HOW CAN MOODLE SEND BOOKING INFORMATIONS TO OTHER SERVER? Thanks. Adnane.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 9, 2014, 3:14 PM",
          "AuthorName": "EL Yadari Adnane",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1747881&course=5",
          "role": [
            "Picture of EL Yadari Adnane"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 245128,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=245128",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Massive uploading files into student's private files",
          "Text": "Dears, I need help. I need to use a webservice to put a file generated from a third party system (sms) into an area visible by each student. These are personal files, so each student can only see his/her files. The \"massive\" upload can be accomplished by an (one) administrator account but it should write on each student area. I tried to use core_files_upload to do this, but I see that this service has been create to let each student upload a file in his/her \"private files\". I'm able to write only files for the \"current\" logged user. Is there another way to do this operation via a webservice? I tried to change the source code to check if I can get the \" context \" for each student, but I'm not able to do this - it seems that I need the auth-token (or username+password) for each student. My authentication is on LDAP server (so it's impossible to have username + password) and I don't know if I have really to generate many tokens. Have you some idea? Is there any way programmatically to \"impersonate\" each student/user and deploy the file in the private area? It sounds so strange to me that, as administrator, I cannot deploy files to each student area. I didn't find any plugin and this is surprising to me. Many thanks Coda",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 4, 2013, 2:33 PM",
          "AuthorName": "I Coda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1730191&course=5",
          "role": [
            "Picture of I Coda"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Massive uploading files into student's private files",
          "Text": "Hi, Did you find any solution? I'm looking for something similar.. Thanks, Lital",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 2, 2014, 6:05 PM",
          "AuthorName": "lital l",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1541872&course=5",
          "role": [
            "Picture of lital l"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 253002,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=253002",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "First steps to use Moodle Web Service",
          "Text": "Hi, I want to use the default web service of moodle (Mobile Web Service), I had look for the WSDL file of this web service but i didn't find it nor any tutorial explains how using a moodle web service. Could some body helps me and take my hand for the first step",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 28, 2014, 5:56 PM",
          "AuthorName": "Hajer ABDERRAHIM",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1747876&course=5",
          "role": [
            "Picture of Hajer ABDERRAHIM"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: First steps to use Moodle Web Service",
          "Text": "Hi Hajer, If you've not done so already, please take a look at the documentation Web services .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 28, 2014, 9:07 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: First steps to use Moodle Web Service",
          "Text": "Hi Please find the below links ,which has step by step explanation of how to use moodle web services in java . https://moodle.org/mod/forum/discuss.php?d=252083 https://moodle.org/mod/forum/user.php?id=1742052",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 28, 2014, 10:52 PM",
          "AuthorName": "mohan reddy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1742052&course=5",
          "role": [
            "Picture of mohan reddy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: First steps to use Moodle Web Service",
          "Text": "Hi, Think you so much I had created a web service (Calendar WS) wraps some core_calendar_functions I want to find the WSDL file of my Web Service !?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 29, 2014, 12:00 AM",
          "AuthorName": "Hajer ABDERRAHIM",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1747876&course=5",
          "role": [
            "Picture of Hajer ABDERRAHIM"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: First steps to use Moodle Web Service",
          "Text": "Hi every body, I had just discover this work https://moodle.org/mod/forum/discuss.php?d=200604 and i'm trying to use it If you can guide me it will be very helpful and kind",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 30, 2014, 5:12 PM",
          "AuthorName": "Hajer ABDERRAHIM",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1747876&course=5",
          "role": [
            "Picture of Hajer ABDERRAHIM"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 253016,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=253016",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Why core web services do not systematically rely on all external possible object identification ?",
          "Text": "Exploring core web services API (and backporting cohort web services to 2.4 for some needs), i fall often upon those (appears to me as inconsistency) implementations that do only rely on internal Moodle ids to identify objects. At the origin, and this has been widely extended, IDNumber extra field was introduced to precisely being able to map internal Moodle records with external course management applications. For an example : - you can create cohorts trough create_cohorts($cohorts), giving IDnumbers to cohorts - you CANNOT delete cohorts based on IDNumbers but : - you can add members based on cohort IDNumber and user username BUT - you cannot add member based on both cohort AND user IDNumber this is for cohorts, but same incompleteness in course api, and possible other Are there any plans to get this \"external API access\" being unified on external identifing information, or at least being adaptative such in add_cohort_members() function ? Cheers !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 28, 2014, 8:22 PM",
          "AuthorName": "Valery Fremaux",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1487618&course=5",
          "role": [
            "Picture of Valery Fremaux",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 208218,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=208218",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Zend exception",
          "Text": "Hi All, im currently testing web service on moodle 2.3.1, I think I follow all the step to make the web service enable and running, but when I do the 'Test teh service' in Web Services 'Overview' step I got this error on trying to execute the 'moodle_user_create_user' function. exception 'Zend_XmlRpc_Client_FaultException' with message 'Unknown error' in /var/www/html/mymoodle/lib/zend/Zend/XmlRpc/Client.php:370 Stack trace: #0 /var/www/html/mymoodle/webservice/xmlrpc/locallib.php(134): Zend_XmlRpc_Client->call('moodle_user_cre...', Array) #1 /var/www/html/mymoodle/admin/webservice/testclient.php(154): webservice_xmlrpc_test_client->simpletest('http://mymoodle...', 'moodle_user_cre...', Array) #2 {main} Anyone have clue on this ? tqvm.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 1, 2012, 4:07 PM",
          "AuthorName": "Shin Hiorie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=855725&course=5",
          "role": [
            "Picture of Shin Hiorie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Zend exception",
          "Text": "Same issue here. Trying to setup the web service to display a list of the user's courses on our student portal. Not having much luck.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 18, 2012, 1:22 PM",
          "AuthorName": "Jason Cartwright",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1094356&course=5",
          "role": [
            "Picture of Jason Cartwright"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Zend exception",
          "Text": "Did anyone get a resolution to this error?  I am having the exact same problem!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 20, 2014, 7:53 PM",
          "AuthorName": "Creative Design",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1740945&course=5",
          "role": [
            "Picture of Creative Design"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 252248,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=252248",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Extracting data from external Information System",
          "Text": "For a local plugin i'm developing, i need to get some data from an external system from an Url. Besides the lib.php, version.php, and the script file to do so, what other files/folders are needed? Is the db folder really needed, if I just want to print the url contents into the screen?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2014, 3:17 AM",
          "AuthorName": "Ricardo Godinho",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1724077&course=5",
          "role": [
            "Picture of Ricardo Godinho"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 251986,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=251986",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Get quiz  questions&answers  via web service",
          "Text": "Hi！I have a problem abuout How can I Get questions&answers from a quiz via web service？ Is there any one can give some help？ Thanks！",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 14, 2014, 7:07 PM",
          "AuthorName": "lulang guo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1739568&course=5",
          "role": [
            "Picture of lulang guo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 199453,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=199453",
      "NoOfResponses": 16,
      "ResponsesInList": [
        {
          "Title": "Updated Java Library REST Protocol",
          "Text": "For those who have downloaded previous versions and anyone else interested.......... Java library for access to Moodle's web services via the REST protocol (29/03/2012) A newer version (V0.1.4) to work with Moodle 2.2 has been uploaded. Although still requires more documentation (better than it was) etc... Calls to create and update users now provides facilities to add preferences and customfields. Removed the batch calling of the web services (not needed as all calls are via POST and not GET), code is still there but commented out. Calls to both newer core and moodle webservices functions can be called, the latter requires a legacy switch to be set. Previous versions using the Moodle 2.1 webservice calls are still there. http://sourceforge.net/projects/moodlerestjava/files/V0.1.4/ Note Library is \"alpha\" so please test before you use in anger! Both the Library as a .jar file and a complete zipped NetBeans project folder is there with sources. Any modifications you do please let me know so they may be added.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 29, 2012, 9:55 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Whoops! Found a few issues, fixing them now. Will upload to sourceforge after fixed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 29, 2012, 9:48 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Sorted the bugs, well most I could find anyway. Removed V0.1.4 and created V0.1.5 http://sourceforge.net/projects/moodlerestjava/files/V0.1.5/ There are also some examples which you will have to modify to suit your Moodle server . NetBeans projects. As I said earlier, please test somewhere no damage can occur first before use in a live system.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 30, 2012, 8:48 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Thanks Bill, it is very useful. I added a link to the Moodledocs http://docs.moodle.org/dev/Creating_a_web_service_client#Demo_client_examples",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 2, 2012, 3:52 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Something I now have to keep up to date and plan ahead for 2.3! Where do I go to find the order, proposed function names and datastructures for future releases?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2012, 6:07 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Hmmmm.... Think I found the page: http://tracker.moodle.org/browse/MDL-29934 Added some of the calls already ready for the next release.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2012, 8:38 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Hi Bill,\nI thought it would be good for other Java devs to know about it. If you don't have time to keep the library up to date, it's totally understandable. I saw that like a quick starter code. You can mention it in the Moodledocs",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, April 4, 2012, 10:41 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Not a problem, I'll keep it up to date as much as possible. I'm thinking of keeping a copy of the work in progress on a server out on the Internet which I use for running various websites. Looking at the Roadmap, I'm interested in particular with the webservices which deal with grades so I can transparently transfer attaiment data into our MIS (SIMS) at some point, after hopefully I'm given access to their \"Business Objects\".",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2012, 3:00 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Your life will become easier when Moodle WS will generate a real WSDL as requested in http://tracker.moodle.org/browse/MDL-28989 (Jérome si tu m'entends ? )  in that case generation of your REST client library will be handled by a simple re-parsing of the updated WSDL and automatic classes generation by some XSLT rewriting tools similar to what  wsdl2java  does for SOAP protocol. See https://github.com/patrickpollet/moodlews_gson for java classes automatically generated by such tools for OK Tech WS in REST mode. Cheers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, April 4, 2012, 4:24 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Until that day..................................................................... Is anyone currently working on a solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2012, 5:50 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "I don't think anyone is currently working on it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 5, 2012, 10:03 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Ok, I'll keep working on the library. I'm currently coding classes to access the functions which are in the tracker, particularly the ones marked as \"Waiting for peer review\" or \"Waiting for integration review\". Is there anywhere I can get hold of any example output from these functions? I've written some classes but I am coding blind regarding parsing the XML output. Most of the time the output has <RESPONSE>....</RESPONSE> tags, but not always. Generally other tags follow the array name, but I'm guessing at the moment. The last one coded for was mod_assign_get_submissions , that one was quite complex in terms of data structure!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 6, 2012, 10:04 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Hi Bill,\nif you cherry-pick a in-progress function (note that the code could change), you can get the REST response structure from Admin settings > Plugins > Web services > API Documentation\nCheers,\nJerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 11:21 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Hi Jerome, The only problem is that the new calls for 2.3 are not documented there yet. I have downloaded and installed a 2.3 version to use for testing purposes but the list is still 2.2.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 5:09 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Hi Bill,\nat this time, none of the new 2.3 web service functions are integrated into the unstable branch (master). It's why you don't see them in the API documentation, they are not in master. They are in each developer repository, but if I were you I would wait for them to land into master.\nCheers,\nJerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 20, 2012, 11:03 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Updated Java Library REST Protocol",
          "Text": "Version 0.1.6 is almost ready, just a few calls more to do then go through testing. The current code is can be downloaded from https://github.com/bantonia/MoodleRest This version is able to use the calls in Moodle 2.6. There is one SOAP call as far as I can tell which is not in the REST call list. There are also some issues in Moodle web services which will give errors, you have to edit the Moodle code to get them to work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 2, 2014, 7:12 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 246258,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=246258",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External Web Service to upload file (resource) to existing Course",
          "Text": "Hi Folks, I'm mid way through a data migration and have hit a problem. I already have a T SQL script that loads data for a bunch of Courses and the Course sections into the MySQL database (Totara). Now, for each course section I need to create a number of resources, which in my case, are nearly always a file (.pdf). These files currently exist on our sever but I need an automated way of uploading them into moodle. Within the external web service API there is a method called ...'core_files_upload'. Can anyone tell me if that method will allow me upload these course files ? I'm not php literate so the documentation is just sending me round in circles. I would be very grateful for help here as I'm stuck. Thanks Rob",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 24, 2013, 12:12 AM",
          "AuthorName": "Robert Adkins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1735791&course=5",
          "role": [
            "Picture of Robert Adkins"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 245430,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=245430",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Mobile App: \"Username was not found in the database\"",
          "Text": "I have enabled web services for mobile devices on my site and downloaded the Moodle Mobile app to test logging in. When I get to the login screen, I enter the correct credentials and it comes back with the error \"username was not found in the database .\" I tried a few other user logins that I made up and I receive the same error message. Any suggestions? I know web services is on because I shut it off to see the difference in error messages. When it was off, there was an error saying that the administrator had to enable mobile access. Additional note, my website uses manual authentication.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 9, 2013, 12:17 AM",
          "AuthorName": "David Naab",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1108383&course=5",
          "role": [
            "Picture of David Naab"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 245266,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=245266",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Loading xml data through Rest Protocol",
          "Text": "Hi there, i want to create a test module where i can load xml data from an url https://clip.unl.pt/sprs?lg=pt&year=2008&uo=97747&srv=rsu&p=1&tp=s&md=2&rs=98021&it=3&it=1030123459 , but i get an error when trying to add the module,  telling me there is no data on tables. I have manually inserted some data on tables(using SQL Buddy), and still it tells me that. Thanks, Ricardo Godinho",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1063640/CapturaEcra-3.png?forcedownload=1"
          ],
          "Time": "Friday, December 6, 2013, 12:24 AM",
          "AuthorName": "Ricardo Godinho",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1724077&course=5",
          "role": [
            "Picture of Ricardo Godinho"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 244943,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=244943",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How can i access to moodledata folder to get file? (moodle 2.0.10)",
          "Text": "Hi everyone, I'm new in Moodle. I have a task, that is I need to use Moodbile webservice to get file URL to download file with download program. But I have a problem, that when I use mbl_files_get_file_url it return dynamic URL, now i need to get static URL, so how can I do it? Or are there any ways to access to moodledata folder? when i try It returnsme server error. Anyone have solutions? I am using Moodle 2.0.10 and Moodbile 0.3.1. Thank you a lots.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 2, 2013, 4:08 PM",
          "AuthorName": "Hoang Pham",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1726206&course=5",
          "role": [
            "Picture of Hoang Pham"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 241995,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=241995",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "WebService V0.1.5 MoodleRestCourse.getAllCourses() - NumberFormatException",
          "Text": "Hi, I am using V0.1.5 jar and calling rest api to get MoodleRestCourse.getAllCourses() which is returning below error, java .lang.NumberFormatException: For input string: \"\" at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) at java.lang.Integer.parseInt(Integer.java:493) at java.lang.Integer.parseInt(Integer.java:514) at net.beaconhillcott.moodlerest.MoodleCourse.setMoodleCourseField(MoodleCourse.java:209) at net.beaconhillcott.moodlerest.MoodleRestCourse.getAllCourses(MoodleRestCourse.java:58) http://webserver.domain.com/webservice/rest/server.php?wstoken=securitytokenforcall&wsfunction=moodle_course_get_courses List of course is actually coming but in the first Course (which is actually my site) is having hiddensections as null in response <KEY name=\"hiddensections\"><VALUE null=\"null\"/></KEY> Is there a way I could update this value for my site which is coming in course list so it does not return null. Else I will have to update jar file to handle for this null. Kindly provide suggestion ! Thanks, Ankit",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 11, 2013, 3:53 PM",
          "AuthorName": "ankit p",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1707515&course=5",
          "role": [
            "Picture of ankit p"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: WebService V0.1.5 MoodleRestCourse.getAllCourses() - NumberFormatException",
          "Text": "Hi Ankit, If you go to: https://github.com/bantonia/MoodleRest You can download the current code for V0.1.6 which is in the process of being written, this should cure your issue, I hope! Extra checking has been added to the MoodleUser class to catch these null values. If not, get back to me. Please note not all the calls have been tested to destruction.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 14, 2013, 6:16 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 229427,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229427",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Tokens: The user hasn't the required capability to use this service",
          "Text": "I've just upgraded to Moodle 2.5 and want to create a token for a particular user. I created the course, enrolled some users to it and tried to create a token for a user. On menu Site administration -> Plugins -> Web services -> Manage tokens when I choose the user and click to perform the token, the moodle system prints: The user hasn't the required capability to use this service and link to: http://docs.moodle.org/25/en/error/moodle/nocapabilitytousethisservice Anyone knows how to solve this problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 28, 2013, 4:52 PM",
          "AuthorName": "Oliver Obermayr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540246&course=5",
          "role": [
            "Picture of Oliver Obermayr"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Tokens: The user hasn't the required capability to use this service",
          "Text": "SOLVED!!! On the Add service page check 'Enable' and uncheck 'Authorised users' options. Select 'No required capability'.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 28, 2013, 5:46 PM",
          "AuthorName": "Oliver Obermayr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540246&course=5",
          "role": [
            "Picture of Oliver Obermayr"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Tokens: The user hasn't the required capability to use this service",
          "Text": "Hi there SOLVED yes and here is the details for anyone who stops by. you control the required capability when adding a new service Go to Site Administration->Plugins->Web services->External services ,click the (show more) link and then edit your service by checking  the (no required capability) in your service. i have attached an image.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1048353/required%20capability.png?forcedownload=1"
          ],
          "Time": "Tuesday, October 8, 2013, 9:52 PM",
          "AuthorName": "Mai abdelsalam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1686988&course=5",
          "role": [
            "Picture of Mai abdelsalam"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 241036,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=241036",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "$_POST always empty in webservice",
          "Text": "I'm using Fiddler to POST data to a webservices endpoint. URL : http://localhost/moodle/webservice/rest/ server .php?wstoken=011ea2f81ad592033ed197d2a4956d6d&wsfunction=local_wstemplate_hello_world POST Data:   blah=12345 in /webservice/rest/server.php, line ~35, (before anything really gets executed, I have: die(var_export($_POST).var_export($_GET)); Which outputs: array ( ) array ( 'wstoken' => '011ea2f81ad592033ed197d2a4956d6d', 'wsfunction' => 'local_wstemplate_hello_world', ) It is not reading the post data at all.  Is there something I'm missing or a setting I need to turn on? Moodle Version: 2013051402.02 Edit: Using the default WStemplate, \"Client.php\", which creates an XMLRPC request - the script POSTs a variable to modify what the welcome message is.  So instead of \"Hello World\" -  I can set  $welcomemsg = 'asdfasdfasdf, ';   This data is POSTed to the server. No matter what I set this parameter to, the output never changes. ($_POST is empty).  The response is always \"Hello World, Patrick\" (The parameter default).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 4, 2013, 12:23 AM",
          "AuthorName": "Patrick a",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1700403&course=5",
          "role": [
            "Picture of Patrick a"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: $_POST always empty in webservice",
          "Text": "Figured it out. I was sending:  Content-Type: text/plain Moodle requires: Content-Type: application/x-www-form-urlencoded",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 4, 2013, 1:39 AM",
          "AuthorName": "Patrick a",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1700403&course=5",
          "role": [
            "Picture of Patrick a"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 238689,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=238689",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Dual Base URL in Moodle",
          "Text": "i have installed the XAMPP and Moodle 2.5 INside it Along side, also installed No-ip client to convert this to webserver now my question is, i woud like to use this server as intranet aswell as webserver for globally accessibility . my Config file have base url like \n```text\n$CFG->\nwwwroot\n   = '\nhttp://172.16.1.1/exam'\n;\n$CFG->\ndataroot\n  = 'H:\\\\xampp\\\\moodledata';\n$CFG->admin     = 'admin';\n```\n but not limited to local ip address, i want to use it as webserver to access it from internet. please suggest me how to set the base url to use it from internet and also form intranet",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 17, 2013, 9:33 PM",
          "AuthorName": "vishal mevada",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=909202&course=5",
          "role": [
            "Picture of vishal mevada"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Dual Base URL in Moodle",
          "Text": "You can make the wwwroot as a dynamic link. like $CFG->wwwroot   = 'http://'.$_SERVER['HTTP_HOST'].'/exam';",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 21, 2013, 10:26 PM",
          "AuthorName": "Vignesh Gurusamy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1647025&course=5",
          "role": [
            "Picture of Vignesh Gurusamy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dual Base URL in Moodle",
          "Text": "No. You can't. This breaks various things. Get your DNS set up correctly, so there is one URL to access Moodle whereven you are.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 23, 2013, 11:09 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dual Base URL in Moodle",
          "Text": "Please elaborate regarding your post",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 28, 2013, 2:02 AM",
          "AuthorName": "vishal mevada",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=909202&course=5",
          "role": [
            "Picture of vishal mevada"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dual Base URL in Moodle",
          "Text": "It works for intranet, for internet, still to be check",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 28, 2013, 2:12 AM",
          "AuthorName": "vishal mevada",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=909202&course=5",
          "role": [
            "Picture of vishal mevada"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 226095,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=226095",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Update user data using web services",
          "Text": "Hello everyone, I'm using moodle v2.0 and I'm trying to update a concrete user's data using a webservice in php. The main problem is that I've been looking for information through the internet and since I'm new at this, (moodle) I don't know exactly how to manage it. I've been trying with conduit webservice, but I don't get exactly how to make it work. The main question would be: If I want to update the username of a user using a webservice in php, which is the right (and easiest) way to do it? There is any tutorial easy to understand with this kind of examples? Thank you very much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 5, 2013, 7:33 PM",
          "AuthorName": "Martí Vallejo Noguer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587221&course=5",
          "role": [
            "Picture of Martí Vallejo Noguer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Update user data using web services",
          "Text": "in 2.4 there's a new webservice function: core_users_update_user which is probably exactly what you need. If you can't update to this version, perhaps you can integrate this code into your site by hand- this is somewhat risky and error-prone operation, but it might be your only option. good luck!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 5, 2013, 10:20 PM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Update user data using web services",
          "Text": "Thanks for the answer! I've tried to use this web service and after configurating it all I've got some problems, this is the code: $params['users'][0]['id']=\"68\"; $params['users'][0]['city']=\"NY\"; $client = new Zend_Http_Client('<my domain >/webservice/rest/ server .php'); $client->setParameterPost(array('token'=>'<my token>','method'=>'core_user_update_users','users'=>$params)); $response = $client->request('POST'); $lastrequest = $client->getLastRequest(); file_put_contents('php://stderr', \"\\n lastrequest: \".$lastrequest); file_put_contents('php://stderr', \"\\n response: \".$response); Using this code everything seems to work, it doesnt' display any error message but it doesn't update at all... Can you give me any clue of why is this happenning? Thank you very much!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 8, 2013, 11:13 PM",
          "AuthorName": "Martí Vallejo Noguer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587221&course=5",
          "role": [
            "Picture of Martí Vallejo Noguer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Update user data using web services",
          "Text": "Marti, have you get any opprtunity to solve this issue am also waiting for replay. Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 16, 2013, 4:32 PM",
          "AuthorName": "Ramchadnra Pujari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1342423&course=5",
          "role": [
            "Picture of Ramchadnra Pujari"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 231407,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=231407",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "invoke an external web services when an event occurs",
          "Text": "Hi experts I am new to web services. My institution is collaborating with other institution offering their courses on our moodle. They require us to send the user details using their RESFul web services API when the user is enrolled in the courses they offer. I kinda know the workflow as follows but I don't if I should build a enrol plugin or add to the core code. 1.event:user enrol into courses 2.event handler:invoke the web service to POST the user info to their database . I am not sure where I should define the event handler Any help or hint would be much appreciated. If you are based in Melbourne. I am more than happy to shout you coffee or something. Thanks in advance Sophie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 26, 2013, 7:28 AM",
          "AuthorName": "sophie sun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1460854&course=5",
          "role": [
            "Picture of sophie sun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: invoke an external web services when an event occurs",
          "Text": "Probably best to put code like this into a local plugin. Subscribe to the event, and when received, call the web service. http://docs.moodle.org/dev/Local_plugins http://docs.moodle.org/dev/Events_API",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 29, 2013, 3:06 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回复: Re: invoke an external web services when an event occurs",
          "Text": "Thanks heaps for replying,Tim.  I read through the links you posted and they do make sense. Yay, local plugin!! Thanks again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 1, 2013, 10:47 AM",
          "AuthorName": "sophie sun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1460854&course=5",
          "role": [
            "Picture of sophie sun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: invoke an external web services when an event occurs",
          "Text": "use default we service features.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 12, 2013, 6:07 PM",
          "AuthorName": "kushal mehta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1469841&course=5",
          "role": [
            "Picture of kushal mehta"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 234051,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=234051",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Netsuite integration",
          "Text": "Hello - I'm new to the Moodle development. How can i integrate NetSuite webservice in wamp server and what kind of details i need for that ?  is the cron job run on wamp server? Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2013, 6:49 PM",
          "AuthorName": "Rucha Shukla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1622427&course=5",
          "role": [
            "Picture of Rucha Shukla"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Netsuite integration",
          "Text": "Moodle provides many web services by default. You can just pass its token to your RPC and transact data. Or you can create your web service as well as token for your purpose where your logic resides.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 12, 2013, 6:05 PM",
          "AuthorName": "kushal mehta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1469841&course=5",
          "role": [
            "Picture of kushal mehta"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 223171,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=223171",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Create a web service for a block type plugin",
          "Text": "Hi all, First of all I would say that I'm new to developing web services. What I want to know is whether we can develop a web service for a block type plugin? Thank you in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 26, 2013, 7:03 PM",
          "AuthorName": "Sandareka Wickramanayake",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1430865&course=5",
          "role": [
            "Picture of Sandareka Wickramanayake"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Create a web service for a block type plugin",
          "Text": "Yes you can. You can use moodle default web services as base and overwrite them according to your need. It just passing web service token from moodle to our code.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, September 12, 2013, 6:00 PM",
          "AuthorName": "kushal mehta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1469841&course=5",
          "role": [
            "Picture of kushal mehta"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 237449,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=237449",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Limitation of SOAP Connections",
          "Text": "Hi, I'm using a PHP Script to create Courses and add/remove Users to Moodle 2.4 trough the SOAP Webservice. It works great for a small amount of Courses, but breaks if there are too many Courses. The Script sends hundrets of Soap Calls. After a while the script breaks with the message: PHP Fatal error: Uncaught SoapFault exception: [HTTP] Could not connect to host in ... There is no problem if i split the script into pieces (not more than 50 Courses at once) so the Host URL is correct an Soap functions work correctly. Are there any limitation? For examle: Not more than 500 Soap Requests per Hour - or something else?The PHP Script is running on CLI with no memory Limit Thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 9, 2013, 8:52 PM",
          "AuthorName": "Andreas Österreicher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1667626&course=5",
          "role": [
            "Picture of Andreas Österreicher"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 237401,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=237401",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Webservice- functions for mobile application",
          "Text": "Hi All, I am trying to create a mobile application for Moodle. I am able to get the courses and course details using the functions core_course_get_courses and core_course_get_contents. But I also need to get the completion status of a course. Is there any function which provides this detail? Also does anyone have an  idea on how to implement paging during fetching courses(core_course_get_courses) Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 9, 2013, 3:51 PM",
          "AuthorName": "Sandeep Nair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1627182&course=5",
          "role": [
            "Picture of Sandeep Nair"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 67947,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=67947",
      "NoOfResponses": 329,
      "ResponsesInList": [
        {
          "Title": "OKTech Web Services",
          "Text": "Hi, I'm starting this new discussion to talk about the web services interface written by Open Knowledge Technologies (the code at /contrib/patches/ws/ or http://moodle.org/mod/data/view.php?d=13&rid=573 ). Some people are trying to get this to work with languages other than PHP recently and have been discovering things. Also some people want to add functionality to this and I want to discuss that progress here. I also have some ideas for an overhaul of the existing code. Anyway, if you're using this code already, want to use it, or want to add functionality to the code: this is the place to talk about it. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 28, 2007, 11:07 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, I have successfully created a proxy using (reduced/cut out) the attached file. Now, when I try to login from a Windows Forms (VS2005) client I get the error :",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 29, 2007, 1:15 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Yeah, if you're getting HTML in the response it means that something is causing an error within Moodle itself which isn't being caught by the server code. If you change line 30 in /ws/soapserver.php to define('DEBUG', true); it will dump debugging output into a file called 'debug.out' in your configured $CFG-> dataroot directory for Moodle. You can also output the received data in your client (if you have access to the response before your client dies). Often you can tell what happened by seeing some Moodle HTML code and an error message. I've tried to wrap any Moodle API calls that could possibly throw an HTML error response in an output buffer and if the buffer contains an error, an appropriate SOAPFault will be returned from the server. However, I probably don't have all the API calls WS safetied in this manner.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 29, 2007, 1:53 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I don't have access until tomorrow at the development computers (at work) but I found two free HTTP/SOAP/WSDL testers and debuggers: 1. SOAPUI - http://www.soapui.org/ 2. StrikeIron WS Analyzer for Windows - http://www.strikeiron.com/tools/tools_analyzer_windows.aspx I hope this tools might help anyone who wants to debug Web Service... Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 29, 2007, 4:45 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, for anyone who's interested... I have a small Windows Forms project that connects to a remote Moodle 1.6... it only uses Login and GetUser methods, but you'll figure out the rest SoapUI was a great helper tool for finding out the errors from the modified WSDS I used. I found something interesting.... GetUser method uses the \"idnumber\" column in the DB... how can I set this field in a normal way/Moodle user-interface way? Also, wouldn't be more useful a GetUser method that would use the \"username\" instead of \"idnumber\"? Catalin",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, March 29, 2007, 9:52 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "The 'user.idnumber' field is accessible from the user profile screen in Moodle (it's at the bottom of the page, in the optional fields section). This value is lockable by site admins so that they can assign a value to a user which the user can't change (i.e. an institutionally unique student ID number). This was initially how we decided to design it for the client we built this extension for but I think allowing the use of either the 'idnumber' or 'username' fields makes a lot of sense for this call.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 3, 2007, 4:28 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello,\ni have had the same problem :\nwhen i call the http://127.0.0.1/wspp/wsdl_pp.php , i have the wsdl file coorectly.\n\nbut the end point no response.\n\ni tried the http://127.0.0.1/moodle/wspp/service_pp.php , but i have had 404 error page.\n\nalso when i pull up http://127.0.0.1/wspp/service_pp.php in my browser and it's a blank page.\n\nalso i am using SOAPUI to test services, (with the same end point: http://127.0.0.1/wspp/service_pp.php ).\n\ni sent the soap message:\n\nadmin\ntest\n\nand i have got this response:\n\nHTTP/1.1 200 OK\nDate: Tue, 27 Oct 2009 12:25:49 GMT\nServer: Apache/2.2.8 (Win32) mod_ssl/2.2.8 OpenSSL/0.9.8g mod_autoindex_color PHP/5.2.5\nX-Powered-By: PHP/5.2.5\nSet-Cookie: MoodleSession=7bc0688d791e8100ea1b1f1205a8bcfa; path=/\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nSet-Cookie: MoodleSessionTest=W6H1z8zKAW; path=/\nContent-Length: 0\nContent-Type: text/html\n\nany suggestions please.\nthanx.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 28, 2009, 10:23 PM",
          "AuthorName": "abdelaziz ouadah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1019053&course=5",
          "role": [
            "Picture of abdelaziz ouadah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "revision 1.6.2 is out",
          "Text": "hello, Revision 1.6.2 has been committed today to Moodle 's CVS and project's page http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews Moodle 1.9.7 password policy compatible cleaned code from Lille University ( internationalization, capabilities, gradebook compatible ) added operation get_assignment_submissions allowing download of files submitted by students on assignments. Merry Christmas and Happy New Year.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 24, 2009, 11:53 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: revision 1.6.2 is out",
          "Text": "Please consult the file INSTALL.TXT for a working example of usage. By running the following command from the wspp/clients directory php ../wsdl2php.php http://yourmoodle/wspp/wsdl_pp.php you will find in tests directory a sample PHP script for all 112 supported operations as far as add_user is concerned the generated test script will be something like <?php require_once ('../MoodleWS.php'); $moodle=new MoodleWS(); require_once ('../auth.php'); /**test code for MoodleWS: add on course * @param integer $client * @param string $sesskey * @param userDatum $user * @return editUsersOutput */ $lr=$moodle->login(LOGIN,PASSWORD); $user= new userDatum(); $user->setAction(''); $user->setId(0); $user->setConfirmed(0); $user->setPolicyagreed(0); $user->setDeleted(0); $user->setUsername(''); $user->setAuth(''); $user->setPassword(''); $user->setPasswordmd5(''); $user->setIdnumber(''); $user->setFirstname(''); $user->setLastname(''); $user->setEmail(''); $user->setEmailstop(0); $user->setIcq(''); $user->setSkype(''); $user->setYahoo(''); $user->setAim(''); $user->setMsn(''); $user->setPhone1(''); $user->setPhone2(''); $user->setInstitution(''); $user->setDepartment(''); $user->setAddress(''); $user->setCity(''); $user->setCountry(''); $user->setLang(''); $user->setTimezone(0); $user->setLastip(''); $user->setTheme(''); $user->setDescription(''); $user->setMnethostid(0); $res=$moodle->add_user($lr->getClient(),$lr->getSessionKey(),$user); print_r($res); print($res->getUsers()); $moodle->logout($lr->getClient(),$lr->getSessionKey()); ?> so just fill the blanks and comment out (or remove) lines concerning non mandatory attributes you do not want to set ... Another way is to use the openSource soapUI software that allow testing of web services with a graphical interface ... It will build the needed requests from the wsdl file sent by the Moodle server... if you understand some french you could peek at my video demo at http://cipcnet.insa-lyon.fr/moodle/file.php/1/soapui_demo.flv",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 6, 2010, 12:09 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: revision 1.6.2 is out",
          "Text": "Hi, Patrick Hope you can help me this case, I try a test add_usser ( http://logosoft.us.to/ws/wspp/clients/tests/test_add_user.php ) but have problem I get a error: Fatal error : Uncaught SoapFault exception: [WSDL] SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://localhost/ws/wspp/wsdl_pp.php' in C:\\wamp\\www\\ws\\wspp\\clients\\MoodleWS.php:389 Stack trace: #0 C:\\wamp\\www\\ws\\wspp\\clients\\MoodleWS.php(389): SoapClient->SoapClient('http://localhos...', Array) #1 C:\\wamp\\www\\ws\\wspp\\clients\\tests\\test_add_user.php(6): MoodleWS->MoodleWS() #2 {main} thrown in C:\\wamp\\www\\ws\\wspp\\clients\\MoodleWS.php on line 389 Have you any idea about it? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 19, 2011, 1:33 AM",
          "AuthorName": "Leonel Lopez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310457&course=5",
          "role": [
            "Picture of Leonel Lopez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: revision 1.6.2 is out",
          "Text": "Hi Lenoard, 1)   wspp MUST be uznipped in Moodle's root directory and NOT in a ws subdirectory. See file INSTALL for further instructions. 2) scripts in directory wspp/clients/tests are meant to be edited AND used on the command line , not by the Web. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 19, 2011, 1:58 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: revision 1.6.2 is out",
          "Text": "How to create a new web service function, and a class. i created a method in the mdl_soapserverBindingstub() i just created a class WelcomeMessage(); and a method get_message(); in Mdl_SoapserverBindingStub() but i am getting a error like below 02-21 18:05:22.940: W/System.err(1153): java.lang.ClassCastException: org.ksoap2.SoapFault 02-21 18:05:22.940: W/System.err(1153): at core.ws.Mdl_soapserverBindingStub.get_message(Mdl_soapserverBindingStub.java:43) 02-21 18:05:22.940: W/System.err(1153): at com.thinkbox.padasala.lemon.ViewCourse.getcourseContent(ViewCourse.java:88) 02-21 18:05:22.940: W/System.err(1153): at com.thinkbox.padasala.lemon.ViewCourse.onCreate(ViewCourse.java:32) 02-21 18:05:22.940: W/System.err(1153): at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 02-21 18:05:22.940: W/System.err(1153): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1586) 02-21 18:05:22.940: W/System.err(1153): at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1638) 02-21 18:05:22.940: W/System.err(1153): at android.app.ActivityThread.access$1500(ActivityThread.java:117) 02-21 18:05:22.940: W/System.err(1153): at android.app.ActivityThread$H.handleMessage(ActivityThread.java:928) 02-21 18:05:22.940: W/System.err(1153): at android.os.Handler.dispatchMessage(Handler.java:99) 02-21 18:05:22.940: W/System.err(1153): at android.os.Looper.loop(Looper.java:123) 02-21 18:05:22.940: W/System.err(1153): at android.app.ActivityThread.main(ActivityThread.java:3647) 02-21 18:05:22.940: W/System.err(1153): at java.lang.reflect.Method.invokeNative(Native Method) 02-21 18:05:22.940: W/System.err(1153): at java.lang.reflect.Method.invoke(Method.java:507) 02-21 18:05:22.940: W/System.err(1153): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839) 02-21 18:05:22.940: W/System.err(1153): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597) 02-21 18:05:22.940: W/System.err(1153): at dalvik.system.NativeStart.main(Native Method) please help me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 8:41 PM",
          "AuthorName": "udhayakumar R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1382831&course=5",
          "role": [
            "Picture of udhayakumar R"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Do anybody know which is the best way to securise comunication between client and web service ? Maybe using HTTPS, but there are maybe some other solutions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 2, 2007, 4:54 PM",
          "AuthorName": "Frédéric Mathiot",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261126&course=5",
          "role": [
            "Picture of Frédéric Mathiot"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I think that HTTPS is the best (and simplest) way to secure all the communications -- both initial authentication and any follow-up communications. I know that SOAP has support for an authentication header that allows you to supply a username and password with every client request of the server but the data itself is still being transmitted in the clear (including the credentials with every request).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 3, 2007, 4:23 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I have been using moodle for my school project. I had to change the field \"idnumber\" to \"username\", i guess that field is used by professors, and it's empty at my localhost instalation. That is not the only thing i had to change to make web services to work. I am using 1.6.5! Anyone had these problems? I am using OKTech Web Services, of course. My question is: How can i modify existing web services, so i can operate with quizzes? I mean, how big project would it be? I am not really an expert, (not at the this moment ) Any working solution out there? So far i haven't found any! SOAP + WSDL",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, April 3, 2007, 2:23 PM",
          "AuthorName": "Marko Novakovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=268028&course=5",
          "role": [
            "Picture of Marko Novakovic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "The problem for this solution is that HTTPS must be enabled by the Moodle administrator, and we can't control that... WS-Security is a model, which permit to protect communication, with username and password system, but also data crypting. It works for Java and .net, but I'm searching for a PHP solution..... harder",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, April 3, 2007, 3:26 PM",
          "AuthorName": "Frédéric Mathiot",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261126&course=5",
          "role": [
            "Picture of Frédéric Mathiot"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Questions: 1.about xsd:all vs. xsd:add Replacing xsd:add with xsd:all I could successfully create a proxy using Visual Studio 2005 for the original/OO version. What is the difference between the two of them ? 2. This version of Web service it is very useful. However, it does not implement a series of basic methods like: GetUserByUsername, GetRolesByUser, GetModulesByUser, GetCourserByUser/GetEnroledCoursesByUser, quizes , forums, roles/security etc. I do not know PHP at all because I could have helped in this development, because I really need these.... Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 5, 2007, 12:39 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hmm.... not particularly sure about \"xsd:all\" vs. \"xsd:add\". The WSDL that is in wsdl.php was generated by NuSOAP (the PHP SOAP extension written in PHP). So I defined the structures with PHP and then copied the generated WSDL to the PHP file to be able to process some things -- like the URLs pointing to the Moodle site. I imagine there are probably other tweaks that could / should be made to the WSDL to make it easier to use with other clients. And as far as extending the web services to add the extra functionality it's definitely possible but just a matter of when I'll get some spare time to actually work on it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 6, 2007, 1:53 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "@Justin Filip I think i could find some extra time to expand OKTech Web Services. Only thing that could be a problem is that i am not really a good PHP programmer, maybe 2-3 years of expirience, but mostly fun. The other thing is the time needed for expanding. So your advices could be helpfull. This is what i need and am willing to spend time at: Quiz operations (add, edit, delete). I guess this is worthless without also operations with questions. I can see you know about this WS component, so could you tell me where should be my first point for research? This is my idea, but i think your advice is really welcome: Playing with moodle to see exactly what is the idea of quizz-related activities , then researching the database schema, then writing those functions in PHP and finally implementing with WS?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 6, 2007, 6:20 AM",
          "AuthorName": "Marko Novakovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=268028&course=5",
          "role": [
            "Picture of Marko Novakovic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Marko, A good starting point would be to look at the quiz module API in /mod/quiz/lib.php. Chances are all the functions you would want to have already exist there and a web services wrapper would just need to be written around them. You can browse through the cross-referenced Moodle source (for 1.7...) here: http://xref.moodle.org/ But playing around with that code in a test file and some sample data in your test site is a good way to figure out what's going on and what the database entries actually mean.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 7, 2007, 6:40 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, i want ask if someone have experience with implementing WS-Security to existing OKTech Web Services. I found solution WSO2 WSF/PHP on website http://wso2.org/projects/wsf/php/features , which support WS-Security. So if someone have some tips, guides i will be grateful.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 7, 2010, 12:43 AM",
          "AuthorName": "Michal Hruby",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1007583&course=5",
          "role": [
            "Picture of Michal Hruby"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated)",
          "Text": "I just updated the Contrib CVS with some new WS code (should be available for anonymous download in a couple hours from http://download.moodle.org/download.php/patches/ws.zip ): Modified to fix compatibility issues with: - MS Visual Studio IDE's and Java? - conflicts with PHP5 built-in SOAP support classes (Changed the soapserver class name to 'mdl_soapserver', fixing WSDL appropriately.) Added a new field to the getUser method 'idfield' which specifies which database field the 'userids' array values are being compared against (i.e. 'idnumber' or 'id'). I implemented two changes based on feedback from Catalin Maican: the WSDL fix changing 'xsd:all' to 'xsd:add' and the new argument to the 'getUser' method for people not using the 'idfield' value on their user records. Hopefully this will solve issues with people getting this working with non-PHP languages and also keeping the (extendable) object-oriented structure in place.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 16, 2007, 2:53 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated)",
          "Text": "Thanks Justin for all your help. I have tried the latest WS code (which contains Lib directory) using Visual Studio 2005. Still I am getting the same error. Here is the error. ----------- The document at the url http://<ServerName>/moodle18/ws/service.php?type=soap&wsdl was not recognized as a known document type. The error message from each known type may help you fix the problem: - Report from 'DISCO Document' is 'Discovery document at the URL http:// <ServerName>/ moodle18/ws/service.php?type=soap&wsdl could not be found.'. - The document format is not recognized. - Report from 'WSDL Document' is 'There is an error in XML document (237, 4).'. - The element was not expected in this context : <xsd:add xmlns:xsd=' http://www.w3.org/2001/XMLSchema'>..</xsd:add> ;. Expected elements: http://www.w3.org/2001/XMLSchema:annotation , http://www.w3.org/2001/XMLSchema:complexContent , http://www.w3.org/2001/XMLSchema:simpleContent , http://www.w3.org/2001/XMLSchema:group , http://www.w3.org/2001/XMLSchema:sequence , http://www.w3.org/2001/XMLSchema:choice , http://www.w3.org/2001/XMLSchema:all , http://www.w3.org/2001/XMLSchema:attribute , http://www.w3.org/2001/XMLSchema:attributeGroup , http://www.w3.org/2001/XMLSchema:anyAttribute . - Report from 'XML Schema' is 'The root element of a W3C XML Schema should be <schema> and its namespace should be ' http://www.w3.org/2001/XMLSchema'.' . --------------- Justin, I know you have modified WSDL.PHP, from xsd:add to xsd:all, but still that wasn't changed when you browse http://<ServerName>/moodle18/ws/service.php?type=soap&wsdl this url. This same url I am using for access the web service. So my guess is the WSDL file is generated dynamically, which hasn't changed. This is just my guess, I don't have any insight. Please help me to resolve the issue. Thanks, Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 16, 2007, 9:21 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated)",
          "Text": "Mahesh, You are right. The URL you are using is the URL that will allow the NuSOAP PHP extension to dynamically generate the WSDL document. That was what I initially based the WSDL file off of. Try using wsdl.php instead. The ability to use service.php?type=spoap&wsdl is really for debugging purposes (i.e. changing something in the WSDL structure without updating wsdl.php). If you were adding new function calls, then using the debugging WSDL URL would make sense. I'll see if I can get the WSDL generated by NuSOAP to be adjusted somehow (maybe modifying the NuSOAP code directly, if necessary). But for now, try using wsdl.php and see if that works (it should be fine).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 16, 2007, 9:43 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated)",
          "Text": "Justin, I tried to use wsdl.php, instead of giving webservice methods it is trying to download the file and when I click open then it is giving error, ie. \"Internet explorer cannot download wsdl.php from <servername>\" (I don't know how to attach the error screenshot) Before we go further, I want to make sure what I did to install the web service. I have copied WS folder under moodle virtual directory. So the structure is Server->Moodle->WS folder. Under WS folder all the files and lib folder are there. Thanks, Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 16, 2007, 10:30 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated)",
          "Text": "Yes, you've installed it correctly. It's very simple and just needs to be unpacked into the root of the Moodle install. Now, is this the exact error you're receiving (or with wsdl.php when using that filename)? Report from 'DISCO Document' is 'Discovery document at the URL http:// <ServerName>/ moodle18/ws/service.php?type=soap&wsdl could not be found.'. Because it looks to me like you're not entering a server name there. If the Visual Studio client is running on the same machine as the server running Moodle then you'd want to use localhost as the server name. If it's a machine on your local network, you should just be able to use a hostname or IP address (i.e moodleserver or 10.0.0.1 ). And if the server is running somewhere out on the Internet, then just use the same hostname that you would use to actually access the Moodle site directly (i.e. www.mymoodlesite.net ). The error is saying the document can't be found and that seems to be why. Now, I know that Catalan is using Visual Studio .NET so perhaps he can offer some assistance with setting up the Visual Studio side of things?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 16, 2007, 11:19 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated)",
          "Text": "Justin, I am using the servername. The interesting thing is when I use Internet explorer to access the ws/wsdl.php file it says internet explorer cannot download wsdl.php. If I do it from Mozilla Firefox browser it is generating moodlews.wsdl file. So Visual Studio tied up with Internet explorer. If I copy moodlews.wsdl file into ws directoy in Moodle server, and try to access the moodlews.wsdl then it is showing without error, but when I add the reference then it is giving error. The error is \"There was an error generating xml document\". Guys, any help will be really appreciated. -Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 12:55 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated)",
          "Text": "That's very strange. Here's an idea, though. If Firefox allows you to view the WSDL file, download that generated file and put it in the /ws/ directory on your Moodle server. Then point your client at /moodle18/ws/moodlews.wsdl and see if THAT works? It's worth a shot. The wsdl.php script is just meant to fill in the URL to your server so the WSDL is custom for each server it's installed on (and doesn't require any hand editing).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 4:06 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated)",
          "Text": "Justin, If I copy moodlews.wsdl file into ws directoy in Moodle server , and try to access the moodlews.wsdl then it is showing without error, but when I add the reference then it is giving error. The error is \"There was an error generating xml document\".",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 4:22 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated)",
          "Text": "When I use command prompt tool it is giving following error message. I don't know it helps to find this issue or not. ---------- C:\\Program Files\\Microsoft Visual Studio 8\\VC>wsdl /l:CS http://kdt-us-ssevern2/ moodle18/ws/moodlews.wsdl Microsoft (R) Web Services Description Language Utility [Microsoft (R) .NET Framework, Version 2.0.50727.42] Copyright (C) Microsoft Corporation. All rights reserved. Warning: This web reference does not conform to WS-I Basic Profile v1.1. R2706: A wsdl:binding in a DESCRIPTION MUST use the value of \"literal\" for the u se attribute in all soapbind:body, soapbind:fault, soapbind:header and soapbind: headerfault elements. -  Input element soapbind:body of operation 'mdl_soapserver.login' on portType 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl'. -  Output element soapbind:body of operation 'mdl_soapserver.login' on portTyp e 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl'. -  Input element soapbind:body of operation 'mdl_soapserver.logout' on portTyp e 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl'. -  Output element soapbind:body of operation 'mdl_soapserver.logout' on portTy pe 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl'. -  Input element soapbind:body of operation 'mdl_soapserver.edit_user' on port Type 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl'. -  Output element soapbind:body of operation 'mdl_soapserver.edit_user' on por tType 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl' . -  Input element soapbind:body of operation 'mdl_soapserver.get_user' on portT ype 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl'. -  Output element soapbind:body of operation 'mdl_soapserver.get_user' on port Type 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl'. -  Input element soapbind:body of operation 'mdl_soapserver.edit_course' on po rtType 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl '. -  Output element soapbind:body of operation 'mdl_soapserver.edit_course' on p ortType 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsd l'. -  Input element soapbind:body of operation 'mdl_soapserver.get_course' on por tType 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl' . -  Output element soapbind:body of operation 'mdl_soapserver.get_course' on po rtType 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl '. -  Input element soapbind:body of operation 'mdl_soapserver.get_grades' on por tType 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl' . -  Output element soapbind:body of operation 'mdl_soapserver.get_grades' on po rtType 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl '. -  Input element soapbind:body of operation 'mdl_soapserver.enrol_students' on portType 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/w sdl'. -  Output element soapbind:body of operation 'mdl_soapserver.enrol_students' o n portType 'MoodleWSBinding' from namespace 'http://kdt-us-ssevern2/moodle18/ws/ wsdl'. For more details on the WS-I Basic Profile v1.1, see the specification at http://www.ws-i.org/Profiles/BasicProfile-1.1.html . Error: Initialization failure. Please review input options and documents for val idity. - Invalid wsd:arrayType syntax: ' http://www.w3.org/2001/XMLSchema:string' . If you would like more help, please type \"wsdl /?\". --------------",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 5:13 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated)",
          "Text": "This output was very helpful. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 6:05 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "I just checked in some more changes to the Contrib code to allow for greater compatibility with the WSDL file being used (both the one generated by NuSOAP and the static wsdl.php versions). This should fix all the compatibility errors with Visual Studio. The code is still available from the same location (with some delay for anonymous CVS access): http://download.moodle.org/download.php/patches/ws.zip Check the first line of /ws/wsdl.php to verify that you have the latest version, it should have the following CVS ID info: \n```text\n$Id: wsdl.php,v 1.3 2007/04/16 22:04:26 jfilip Exp $\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 6:09 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Wow!!! Finally you did it. Now I don't get any error. I am using http://<servername>/moodle/ws/service.php?type=soap&wsdl and VS 2005 created proxy for that. Just curious what was holding? Thanks for your help. -Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 8:37 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Glad to hear it! In the output, the following error code: R2706: A wsdl:binding in a DESCRIPTION MUST use the value of \"literal\" for the u se attribute in all soapbind:body, soapbind:fault, soapbind:header and soapbind:headerfault elements. was explained in the page link at the bottom of the output. So I made a change based on that error and also another item that had been found before (but not implemented) which I believe a warning in your console output reminded me of: changing the xsd:string type to xsd:string[] .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 9:01 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Sorry to bother you again. Here is couple of issues I am seeing. VS2005 didn't give the error. But when I try to access the page without using moodle webservice I am getting this error. VS just added the reference into the configuration section. ----------------- Parser Error Description: An error occurred during the parsing of a resource required to service this request. Please review the following specific parse error details and modify your source file appropriately. Parser Error Message: Schema item 'complexType' named 'userRecord' from namespace 'http://kdt-us-ssevern2/moodle18/ws/wsdl'. Source Error: `` \n```text\n[No relevant source lines]\n```\n `` Source File: /EdServices/App_WebReferences/MWS/ Line: 1 --------------------------- Usually when we add webservice into VS it will generate three files: wsdl, disco, discomap. But in this case it created only wsdl and discomap only. I don't see disco file (discovery information). So I ran the command prompt tool again and got this error. ----------------------------- C:\\Program Files\\Microsoft Visual Studio 8\\VC>wsdl /l:CS http://kdt-us-ssevern2/ moodle18/ws/service.php?type=soap&wsdl Microsoft (R) Web Services Description Language Utility [Microsoft (R) .NET Framework, Version 2.0.50727.42] Copyright (C) Microsoft Corporation. All rights reserved. Error: There was an error processing 'http://kdt-us-ssevern2/moodle18/ws/service .php?type=soap'. - The HTML document does not contain Web service discovery information. ----------------------------------",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 9:26 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Justin, Here is the wsdl file generated from VS 2005. I hope this helps to fix the error. This file shows some xml error. I don't know, is that matter or not. just incase I have attached this file.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 9:33 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "I don't understand why VS is generating a WSDL file. You are trying to write a client that will use the methods exposed via the Moodle WSDL file, right? I don't see why a client needs to generate a WSDL file. If you're writing a client you should just be able to point VS at the WSDL file and it should create a proxy for to handle the method calls / returns from the service on the Moodle end. A client doesn't create a WSDL file, it consumes one. My PHP test client (/ws/ws-test.php) included with the code was written without any graphical tools and it was just a couple function calls to create the connection and the proxy object.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 10:44 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Hi, I didn't have any spare time lately. Anyway, today I had some time and I found some errors in the WSDL file generated by the WSDL.php: - not all the strings had to be \"string[]\" but only those that define an array - because of the errors I had to replace the soap:body use=\"literal\" to soap:body use=\"encoded\" at the end of the file, as it was in the previous versions. (if it remains as \" soap:body use=\"literal\" \", VS requires for the mdl_soapserverget_user method the 3rd parameter to be of type getUserInput / XML and not an Array of type string...) I attached the corrected file... BUT... when I run the app using the new file and WS, I get the following error \"method 'mdl_soapserverlogin' not defined in service\" Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2007, 6:19 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Hello Catalin, You new version of wsdl.php DOES fix two of the problems I was having when trying to port OKTech WS to Moodle 1.7/1.8 (with Php, Java or Python clients) . We need them to link Moodle's database to French educational portals ... 1) if the list of userids to pass to get_user was an array, I received errors (invalid user ID) since it was sent as an array of array \"Array ( [item] => Array ( [0] => 2319241 [1] => 300015 ) )\" but if it was a single value, it was sent as an array of 1 string. string(31) \"Array ( [item] => 2319241 )\" 2) same problem fixed with a list of courses to retrieve 3) changing \"literal\" to \"encoded\" fixed a lot of XML payload parse errors with \"french caracters\" in course description (& ' \" ...) Since the security model have dramatically changed between 1.6 and 1.7 (roles ...) most of the functions in server.class.php that check user's rights (isteacher,isadmin ...) have to be rewritten. I am getting close of something useable ... I am attaching a \"working\" server.class.php that allow the test script (ws-test.php) to run against a Moodle 1.7.2 server. I hope that in few days I can submit here a working version for the new Moodles with my basic needs fullfilled : GetUserByUsername, GetCourseByUser, GetCourseTeachedByUser, GetUsersByCourse GetLastChangesByCourse Justin will then decide what to do with it Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, April 18, 2007, 7:26 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Hi, I get the error \" method 'mdl_soapserverlogin' not defined in service\". Did you see/get this error ? [edit] Also, it is interesting that mdl_soapserverlogin _does_ work in SoapUI tool, so what should I do ? Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2007, 9:42 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Patrick, Thanks. I'll definitely add any new functions to the server classes that anyone here writes. I'll take the changes you made for 1.7 and higher where you're directly calling isadmin/isteacher/isstudent, etc. and put them into proper roles/capabilities calls. The functions you used are deprecated and will be removed at a later date (they're still in 1.8, though).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 19, 2007, 4:18 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Thanks Catalin for your php file. It removes the errors when I add into VS 2005. And also when I tried SoapUI tool, to call mdl_soapserver.login with passing parameters, it didn't give any error but got response for 0 bytes, that means it is not returning any thing from webservice. Catalin, what moodle version do you have success with this web service. If you have success with 1.6 version please send me the wsdl file. It will help me to proceed some. I saw your reply from other thread yesterday only.  I thought this thread is appropriate to reply. I am stuck with this web service last three days. Please help me. Thanks, Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2007, 9:39 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Hi Mahesh, I used the attached file with moodle 1.6. I did not test all the functions but only the Login/Logout, GetUser, GetCourse... I suppose that the other methods work... There is one single small modification of the one posted above compared with this one - around line 390 the method <message name=\"get_userRequest\"> uses 4 parameters instead of 3 as this file contains ( <part name=\"idfield\" type=\"xsd:string\" /> is added) - also, the methods are called \"mdl_XXX\" instead on just \"XXX\" Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2007, 10:00 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "ok... so I found a temporary solution to my problem: - /ws/lib/nusoap.php from mdl_soapserver.class.php - DOES NOT WORK FOR ME in VS 2005 - I get \" method 'mdl_soapserverlogin' not defined in service\" although it works in soapUI tool The following library / moodle default / previous WS version ??? works in both VS 2005 and soapUI tool with Moodle 1.6 if (file_exists($CFG->libdir . '/nusoap/nusoap.php')) { require_once($CFG->libdir . '/nusoap/nusoap.php'); } else if (file_exists($CFG->libdir . '/soap/nusoap.php')) { require_once($CFG->libdir . '/soap/nusoap.php'); } else { error('No SOAP library found!'); } What should I do? Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 19, 2007, 12:42 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Thanks Catalin for the wsdl.php for version 1.6 Unfortunatly I have only 1.7 and I tried with SoapUI tool and it is giving the error (Wed Apr 18 13:10:50 EDT 2007:WARN:Error: http://kdt-us-ssevern2/moodle1/ws/wsdl.php:0 : error: soaparray: Invalid SOAP Array reference: xsd:string (prefix declaration not found or incorrect format)). After that it created methods. when I open login request I don't see input parameters. All I am seeing is this <soapenv:Envelope xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:soapenv=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:wsdl=\" http://kdt-us-ssevern2/moodle1/ws/wsdl \"> <soapenv:Header/> <soapenv:Body> <wsdl:login soapenv:encodingStyle=\" http://schemas.xmlsoap.org/soap/encoding/\"/ > </soapenv:Body> </soapenv:Envelope> -------------- I tried the wsdl.php (the first file you posted at 6:19 pm) for 1.8 version and it didn't give me the error at SoapUI tool and the request for login is <soapenv:Envelope xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:soapenv=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:wsdl=\" http://kdt-us-ssevern2/moodle18/ws/wsdl \"> <soapenv:Header/> <soapenv:Body> <wsdl:mdl_soapserver.login soapenv:encodingStyle=\" http://schemas.xmlsoap.org/soap/encoding/ \"> <username xsi:type=\"xsd:string\">?</username> <password xsi:type=\"xsd:string\">?</password> </wsdl:mdl_soapserver.login> </soapenv:Body> </soapenv:Envelope> But it doesn't give any SOAP response. In your case you said from SoapUI tool it is working, did you get xml response? I will try to modify the mdl_soapserver class like you said and let you know.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 19, 2007, 1:24 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Hi Catalin I have modified the mdl_soapserver.class.php, still I am getting \" Operation 'mdl_soapserverlogin' is not defined in the WSDL for this service\" in VS 2005, but SoapUI didn't give the error but no output. I found one more webservice testing tool is called LISA ( http://www.itko.com/site/lisa/ )  and it returns this following error for Login operation. ---------------- ERROR  - Exception: ERROR  - Cannot convert form 2 to String WARN   -  Call/Ctor com.itko.lisa.wsgen.mlogin.LoginReturn mdl_soapserverLogin( java.lang.String username, java.lang.String password ) exception is org.xml.sax.SAXParseException: Premature end of file. INFO   - xception: Premature end of file. -------------- I hope somebody can comeup with the answer. Thanks for your support. -Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 19, 2007, 2:36 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Hi, I forgot to mention that I have also modified some definitions within mdl_soapserver.class.php as before: replaced \"string[]\" with \"string\" where an Array of type string was not required. I attached my working solution. I did try this solution for Moodle 1.8 but it does not work. I believe that server.class.php creates and uses some tables in the DB. My Moodle 1.8 is installed on SQL Server 2005 with ODBC (only this I could it get working) and, from what I can see/understand in this file (because my PHP skills are null), it checks for the DB type before creating the tables... so... I didn't have the possibility to check and try further on this version. Also, check server.class.php from Patrick's post above. Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 19, 2007, 3:23 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Catalin, is the attached web service folder for 1.6 or 1.8?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 19, 2007, 3:55 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "only for Moodle 1.6 Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 19, 2007, 4:21 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Thanks Catalin it is working. I just tried login and it is working. I am going to try more operations. -Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 23, 2007, 8:58 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Catalin, Thanks for this. I'll start using the branches in the new Contrib to properly setup this code for specific versions of Moodle so that the 1.7 and higher code will be using the roles system and the XMLDB functionality (which will get your tables created in MSSQL ). I've downloaded all the files everyone has been posting lately and I think I might have to get my hands on a copy of VS 2005 just so I can test all this myself because so far my verification that it's working is to make sure my PHP test script still works. Anyway, I'll get on that and post a new message as soon as I've got all the changes submitted so far worked in and when the version-specific code branches are setup as well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 19, 2007, 4:25 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Hi, I have a question in \"edit_user\" operation. I have successfully added user into the system. But the problem is the password saved without encoding format and where as moodle system created passwords are encoded. So it leads to login issue for users added from web services. Is there any method to encode the password when we create users from webservices?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 24, 2007, 2:53 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Well the Moodle password field in the database is just an MD5 hashed value of the plaintext password. Using 'edit_user()' to create a new user record is expecting the password to be supplied in this encoded MD5 form.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 24, 2007, 4:21 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Updated again)",
          "Text": "Thanks Justin, that helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 24, 2007, 11:26 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "Thanks to the feedback and testing of everyone here I've gone through the code and implemented the following changes: - tested to verify that the code works in Moodle 1.8 - added code to use roles & capabilities functionality if running on Moodle 1.7 or later - upgraded the database upgrade functionality to use the XMLDB system (if available: Moodle 1.7 and higher) - cleaned up WSDL and tested for successful import into Visual Studio 2005 by myself (thanks, Mahesh for the link to the free .NET trial software) The VS2005 testing was adding the WSDL as a reference successfully and also using the commandline wsdl.exe command to verify that there were no errors or warnings output from the processing. I didn't actually try to write any clients which used this but if someone creates some code to test it from within VS 2005, please feel free to send it to me (I'll include it in the Contrib source). Once again, just to make sure you've gotten the latest version of the code, the /ws/ directory now has a /db/ sub-directory containing /db/install.xml and the CVS ID tag in /ws/wsdl.php is: $Id: wsdl.php,v 1.4 2007/04/24 04:05:36 jfilip Exp $",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, April 24, 2007, 12:11 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "Hello, Thanks for this new version ( $Id: wsdl.php,v 1.4 2007/04/24 04:05:36 jfilip Exp $). But I have to confirm that it still does not work with php5 clients with built-in SoapClient nor python clients . Troubles comes from the naming convention of operation with a dot such as mdl_soapserver.get_course ... the wsdl files are parsed OK (execpt with wsdl2php or wsdl2java) but method calls fail ... Tests with PHP 5 : ---------------------- $moodle= new SoapClient(\" http://cipcnet.insa-lyon.fr/moodle/ws/wsdl.php \"); $types=$moodle->__getTypes (); print_r($types); $funcs=$moodle->__getFunctions (); print_r($funcs); $lr= $moodle->login(\"xxxx\",\"zzzzz\"); $lr= $moodle->mdl_soapserver.login(\"xxxx\",\"zzzzz\"); $lr= $moodle->mdl_soapserver__login(\"xxxx\",\"zzzzz\"); print_r($lr); that gives a correct parsing of wsdl file Array ( [0] => struct userRecord { string error; integer id; integer confirmed; integer policyagreed; integer deleted; string username; string password; string idnumber; string firstname; string lastname; string email; string icq; string skype; string yahoo; string aim; string msn; string phone1; string phone2; string institution; string department; string address; string city; string country; string lang; integer timezone; string lastip; string description; } [1] => userRecord userRecords[] .... [snip] Array ( [0] => loginReturn mdl_soapserver.login(string $username, string $password) [1] => boolean mdl_soapserver.logout(integer $client, string $sesskey) [2] => editUserOutput mdl_soapserver.edit_user(integer $client, string $sesskey, editUserInput $users) [3] => getUserReturn mdl_soapserver.get_user(integer $client, string $sesskey, getUserInput $userids, string $idfield) [4] => editCourseOutput mdl_soapserver.edit_course(integer $client, string $sesskey, editCourseInput $courses) [5] => getCourseReturn mdl_soapserver.get_course(integer $client, string $sesskey, getCourseInput $courseids, string $idfield) [6] => getGradesReturn mdl_soapserver.get_grades(integer $client, string $sesskey, string $userid, getGradesInput $courseids, string $idfield) [7] => enrolStudentsReturn mdl_soapserver.enrol_students(integer $client, string $sesskey, string $courseid, enrolStudentsInput $userids, string $idfield) ) but a fatal error when calling login with any syntax (login, mdl_soapserver.login or mdl_soapserver__login \"à la nusoap\"): PHP Fatal error: Uncaught SoapFault exception: [Client] Function (\"login\") is not a valid method for this service in /var/www/html/moodle172/ws/pp1.php:9 Stack trace: #0 [internal function]: SoapClient->__call('login', Array) #1 /var/www/html/moodle172/ws/pp1.php(9): SoapClient->login('xxxx', 'zzzzz') #2 {main} thrown in /var/www/html/moodle172/ws/pp1.php on line 9 Tests with wsdl2php: ------------------------ wsdl2php http://cipcnet/moodle/ws/wsdl.php PHP Fatal error: Uncaught exception 'Exception' with message 'Invalid function call: loginReturn mdl_soapserver.login(string $username, string $password)' in /usr/share/ pear /wsdl2php.php:128 Stack trace: #0 {main} thrown in /usr/share/pear/wsdl2php.php on line 128 wsdl2php refuses the dot in the name of function Tests with python : ---------------------- #!/usr/bin/env python #-*- coding: utf-8 -*- import SOAPpy proxy = SOAPpy.WSDL.Proxy(' http://cipcnet.insa-lyon.fr/moodle/ws/wsdl.php' ) proxy.show_methods() ... Method Name: mdl_soapserver.get_course In #0: client ((u' http://www.w3.org/2001/XMLSchema' , u'integer')) In #1: sesskey ((u' http://www.w3.org/2001/XMLSchema' , u'string')) In #2: courseids ((u' http://cipcnet.insa-lyon.fr/moodle/ws/wsdl' , u'getCourseInput')) In #3: idfield ((u' http://www.w3.org/2001/XMLSchema' , u'string')) Out #0: return ((u' http://cipcnet.insa-lyon.fr/moodle/ws/wsdl' , u'getCourseReturn')) ... >>> a,b=proxy.login('xxxx','zzzzzz') Traceback (most recent call last): File \"<stdin>\", line 1, in ? File \"/opt/Plone-2.5/Python-2.4.3/lib/python2.4/site-packages/SOAPpy/WSDL.py\", line 96, in __getattr__ if not self.methods.has_key(name): raise AttributeError, name AttributeError: login >>> a,b=proxy.mdl_soapserver.login('xxxx','zzzzzz') Traceback (most recent call last): File \"<stdin>\", line 1, in ? File \"/opt/Plone-2.5/Python-2.4.3/lib/python2.4/site-packages/SOAPpy/WSDL.py\", line 96, in __getattr__ if not self.methods.has_key(name): raise AttributeError, name AttributeError: mdl_soapserver >>>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 24, 2007, 6:12 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "TO DO",
          "Text": "Re, In line 335 of server.class.php (\" . time() . \" - s.sessionbegin) < \" . $this->sessiontimeout . \";\"; the semi-colon must be removed to avoid php warnings (at least with Moodle 1.7) that add a \"with limit (-1,1)\" at the end of the sql query when using record_exists_sql($sql). [Tue Apr 24 13:37:12 2007] [error] [client 127.0.0.1] SQL You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '; LIMIT 1' at line 6 in /var/www/html/moodle172/lib/dmllib.php on line 289. STATEMENT: SELECT s.*\\n FROM mdl_webservices_sessions s\\n WHERE s.userid = 2 AND\\n s.verified = 1 AND\\n s.sessionend != 0 AND\\n (1177414632 - s.sessionbegin) < 1800; with limits (-1, 1) HTH",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 24, 2007, 8:00 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "Justin. Thanks for the new version. Where I can download the new version. -Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 24, 2007, 10:32 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "Mahesh, Same URL as always: http://download.moodle.org/download.php/patches/ws.zip That will always allow you to download the latest code from the Contrib CVS (without having to use CVS access directly).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 24, 2007, 10:47 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "Still I am getting 1.3 version download",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://moodle.org/pix/s/sad.gif"
          ],
          "Time": "Tuesday, April 24, 2007, 10:54 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "Thanks Justin for  1.4 version. It is not giving any error when I add the wsdl into VS 2005. But when I try the login method it is giving error( Object reference not set to an instance of an object) . My assumption is, it is not returning as object. Here is response from new version in 1.8 using SoapUI testing tool. <SOAP-ENV:Envelope SOAP-ENV:encodingStyle=\" http://schemas.xmlsoap.org/soap/encoding/ \" xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:SOAP-ENC=\" http://schemas.xmlsoap.org/soap/encoding/ \" xmlns:si=\" http://soapinterop.org/xsd \"> <SOAP-ENV:Body> <mdl_soapserver.loginResponse xmlns=\" http://kdt-us-ssevern2/moodle18/ws/wsdl \"> <return> <client xmlns=\"\">7</client> <sessionkey xmlns=\"\">58c4353df662e6f76a09541b843aa078</sessionkey> </return> </mdl_soapserver.loginResponse> </SOAP-ENV:Body> </SOAP-ENV:Envelope> --------------------------------- Response from Catalin posted webservice with 1.6.5 version and it is working one. <SOAP-ENV:Envelope SOAP-ENV:encodingStyle=\" http://schemas.xmlsoap.org/soap/encoding/ \" xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:SOAP-ENC=\" http://schemas.xmlsoap.org/soap/encoding/ \" xmlns:tns=\" http://kdt-us-ssevern2/ws/wsdl \"> <SOAP-ENV:Body> <ns1:mdl_soapserver.loginResponse xmlns:ns1=\" http://kdt-us-ssevern2/ws/wsdl \"> <return xsi:type=\"tns:loginReturn\"> <client xsi:type=\"xsd:integer\">18</client> <sessionkey xsi:type=\"xsd:string\">849c7c8f464831086b30864e7fa216e6</sessionkey> </return> </ns1:mdl_soapserver.loginResponse> </SOAP-ENV:Body> </SOAP-ENV:Envelope> ---------------------------------------- The main difference is, the response doesn't have the loginReturn object  (return tag) in the latest version and also datatype for client and sessionkey is not there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 25, 2007, 2:20 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "So mine is returning the correct data but it's not typed? Hmm... I think it's time to drop NuSOAP for the server and write it using PHP5's built-in SOAP classes. I imagine a lot of this garbage is all related to using NuSOAP. And maybe get rid of the object-oriented structure because that seems to be causing problems (see Patrick's post above) even if they're not readily evident all the time.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 25, 2007, 3:45 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "I guess I can help since I have a running version with PHP5 as the only SOAP server but clients in other open source languages (php5, php4 with NuSoap, python and java) . Problem is that PHP5 is not yet required for Moodle ; this has been announced for 1.9, so we will break Moodles running on hosted servers still running php4... I need few days to clean up my code and merge your changes for compatibility with Moodle 1.6 and higher... Stay tuned .",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, April 25, 2007, 6:31 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "trouble with  version 1.4",
          "Text": "Hello, With the new version of the wsdl I have trouble with python clients (and in php5 client code with code generated with wsdl2php) due to the change of declaration of get_user (and get_course) parameters In version 1.3 they were array of string, // old <xsd:complexType name=\"getUserInput\"> <xsd:complexContent> <xsd:restriction base=\"SOAP-ENC:Array\"> <xsd:attribute ref=\"SOAP-ENC:arrayType\" wsdl:arrayType=\"xsd:string[]\" /> </xsd:restriction> </xsd:complexContent> </xsd:complexType> and where sent by php4 nusoap client : /// GET_USER if (in_array('get_user', $tests)) { print_heading('Get User:'); $userids = array(); if ($uids = explode(',', WS_USER_GET_IDS)) { foreach ($uids as $uid) { $userids[] = $uid; } } proc_result($proxy->mdl_soapserver__get_user($mycid, $mykey, $userids, WS_USER_IDFIELD), $proxy); } and received and processed as an array by mdl_soapserver : if ($users = parent::get_user($client, $sesskey, $userids, $idfield)) { PHP5 server, clients and python clients were happy with it ... In the new version they are now a sequence //new <xsd:complexType name=\"getUserInput\"> <xsd:sequence> <xsd:element name=\"userid\" type=\"xsd:string\" minOccurs=\"0\" maxOccurs=\"unbounded\" /> </xsd:sequence> </xsd:complexType> sent in ws-test.php (with nusoap client) by : /// GET_USER if (in_array('get_user', $tests)) { print_heading('Get User:'); $userids = array(); if ($uids = explode(',', WS_USER_GET_IDS)) { foreach ($uids as $uid) { $userids['userid'][] = $uid; } } proc_result($proxy->mdl_soapserver__get_user($mycid, $mykey, $userids, WS_USER_IDFIELD), $proxy); } and still received & processed OK as an array of array by php4 nusoap server : if ($users = parent::get_user($client, $sesskey, $userids['userid'], $idfield)) { Unfortunately, with PHP5 SoapServer, and PHP5 or Python clients, the sequence is sent/received as a StdClass (normal since they are no array definition in the type) as it should be : stdClass Object ( [userid] => Array ( [0] => user1 [1] => user2 ) ) and mdl_soapserver chokes on the line : if ($users = parent::get_user($client, $sesskey, $userids['userid'], $idfield)) { with the error : PHP Fatal error: Uncaught SoapFault exception: [SOAP-ENV:Server] Cannot use object of type stdClass as array in /var/www/html/moodle172/ws/pp/MoodleWS.php:189 So my questions are : - Were these change dictated by some VS 2005 specificities ? - in that case we are in trouble because Python and Java clients cannot easily convert classes or dictionnaries to StdClasses expected by PHP. - Can we provide TWO get_user/get_course/get_whatever calls, one named get_xxxx that accept ONLY one id as a string and return one xxxx record (these work here ) and another one \"get_xxxxs\" (plural name) that will accept (one day) an array of ids and will return an array of xxxx records ? Additional bonus could be that is the array of ids is empty, we could return all xxxx... - To have a different name for the key of the returned array is a pain ; sometimes it is $res['users'], or $res['courses'] and here $res['categories'], $res['events'] ,$res['roles'] ... Could we have only $res['items'] or even $res[] ? - I feel bad about returning passwords in get_user(s) calls. Some smart guys could use the Web service to fetch user(s) and try to reverse crack their md5 passwords with a dictionnary ... Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 26, 2007, 7:10 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "hi, I have a question related to the OO structure of the code used for the WS: if you \"get rid\" of this, what are the consequences related to the use of the WSDL in other platforms/clients ? Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 26, 2007, 3:12 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "ok... so I had some time to test the new version with ASP.NET... I only tried the login and GetUser methods and they work only with the following modifications: - replaced \"literal\" with \"encoded\" in the mdl_soapserver.class.php and wsdl.php (soap:body use=\"encoded\") - replaced the NuSOAP library with the one included in Moodle Also, this latest version only works with Moodle 1.6... (it does not create any new tables in the SQL Server 2005) If I do not replace the nusoap, I get the following message: System.Web.Services.Protocols.SoapException: Operation 'mdl_soapserverlogin' is not defined in the WSDL for this service at System.Web.Services.Protocols.SoapHttpClientProtocol.ReadResponse(SoapClientMessage message, WebResponse response, Stream responseStream, Boolean asyncCall) at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke(String methodName, Object[] parameters) at WindowsApplication1.ws4.MoodleWS.mdl_soapserverlogin(String username, String password) in E:\\temp1\\WindowsApplication1\\WindowsApplication1\\Web References\\ws4\\Reference.cs:line 121 at WindowsApplication1.Form1.button1_Click(Object sender, EventArgs e) in E:\\temp1\\WindowsApplication1\\WindowsApplication1\\Form1.cs:line 79 The attached WS is working now with a WindowsForms/C# client...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 27, 2007, 8:59 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "Did you have the latest code? Correct versions and everything? I know there's been some issues with anonymous CVS recently and I think that might've affected the download service. If you have the latest code it *should* create tables in SQL server. It's using the XMLDB functionality to create the database tables (if you're using 1.7 or higher) so if you can actually install Moodle and have it running on SQL Server, then this should work also. And I can't get the WSDL to be accepted in Visual Studio 2005 (either using the GUI tools to add a reference or using the wsdl.exe file on the command-line) unless use=\"literal\". I don't know what (if any) specific language it's attached to although I'm pretty sure it's *something .NET. Can you supply me with the project files you're using in Visual Studio to try and get this working?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 28, 2007, 4:14 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "hi, the version I used is 1.4, as you can see in my other post. I attached here the WindowsForms project I used for testing the WS. The WS proxy/refrence needs to be named \"ws4\" or else you need to change the entire code. Regarding the WSDL for the creation of proxy: I can attach it (add web reference -> url to the wsdl.php file) using both \"literal\" and \"encoded\", but when I use the \"literal\" there seem to be some errors/miss-types in the types for the generated proxy: some objects get to be of type XML and not of the correct type specified in the WSDL. Regarding the SQL Server, I will try to create the tables manually and run the code again... Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 28, 2007, 3:22 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services (Another update)",
          "Text": "Thanks Catalin. The one ws attachment you posted is working with moodle 1.8 version. Like you said, I commented out the nusoup came with the Webservices and uncommented the other one in the attachment. Justin one more request, right now I can add users in to Moodle 1.8 system. But I would like to add users in LDAP authentication. There is no authentication field in userrecord or userdatum object. Can you please add this feature into Web services. Thanks, Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 1, 2007, 2:41 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Let' s give a try to v 1.5 ;-)",
          "Text": "Hello , At last here come something usable and slightly documented ... and since I am going away for a week, it is time to expose it ... Server is PHP 5 only. It requires installation of php_soap extension. Clients can be PHP4 with Moodle's provided nusoap library, PH5 with builtin SoapClient , Python or Java. See the directory \"clients \" for sample codes. I do not have around any Windows system to test VS access ... This version provides 35 services that fulfill all my needs and are used here to sync Moodle with a Plone/Zope portal (Python), an ESup portal (Java/Tomcat) and PHP written systems (C2I testing platform). WSDL is available (as before) from http://yourmoodle/wspp/wsdl_pp.php . See the list below and the file client/supported_operation_list.txt for names and required parameters. Method Name: login Method Name: logout Method Name: get_my_id Method Name: get_courses Method Name: get_course Method Name: get_course_byid Method Name: get_course_byidnumber Method Name: get_courses_bycategory Method Name: get_my_courses Method Name: get_user Method Name: get_users Method Name: get_user_byusername Method Name: get_user_byid Method Name: get_user_byidnumber Method Name: get_users_bycourse Method Name: get_teachers Method Name: get_students Method Name: get_groups_bycourse Method Name: get_group_members Method Name: get_my_groups Method Name: get_my_group Method Name: get_group_byid Method Name: get_groups_byname Method Name: get_roles Method Name: get_role_byname Method Name: get_role_byid Method Name: get_categories Method Name: get_category_byid Method Name: get_category_byname Method Name: get_grades Method Name: get_last_changes Method Name: get_events Method Name: edit_courses Method Name: edit_users Method Name: enrol_students I kept most on the names invented by Justin, except that I added a plural (s) in case of possible multiple returns (eg get_courses , get_users, ...) . These operations accept an empty array of identifiers and then return all users, courses ... There are also some get_user_xxxx and get_course_xxxx operations that should return one single record, but still packed in an array. All get_* operations and enrol_students have been fully tested under Moodle 1.7 but I did not gave a spin to edit_* operations that are inchanged from Justin's code. I started to peek into Moodle 1.8 and noticed that with the new mnet, all Moodle cores API will be exposed to remote calls using XML-RPC. See this discussion http://moodle.org/mod/forum/discuss.php?d=68794 So it may make our efforts to improve our SOAP solution quickly obsolete ;-(( TODO: - finish get_events to filter by course events, group events, global events ... - the validate_client method is present but not called. So a session never expires . ... Enjoy.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 2, 2007, 9:11 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Let' s give a try to v 1.5 ;-)",
          "Text": "Hi Patrick, I was not able to use you version of WS with Visual Studio 2005 I have tried it on both Moodle 1.8 and 1.6, both on Win2003 with a WindowsForms/C# client. Visual Studio created the proxy successfully but I cannot instantiate it / I can not find the class in the autocompleter... in browser, the URL http://..../wspp/service_pp.php?type=soap gives me the following error (it has PHP5 and SOAP installed) <? xml version=\"1.0\" encoding=\"UTF-8\" ?> - < SOAP-ENV:Envelope xmlns:SOAP-ENV =\" http://schemas.xmlsoap.org/soap/envelope/ \" > - < SOAP-ENV:Body > - < SOAP-ENV:Fault > < faultcode > SOAP-ENV:Server </ faultcode > < faultstring > Bad Request. Can't find HTTP_RAW_POST_DATA </ faultstring > </ SOAP-ENV:Fault > </ SOAP-ENV:Body > </ SOAP-ENV:Envelope > Also, in the wsdl_pp.php file, the \"/ws/wsdl\" should be replaced with \"wspp/wsdl\" Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 3, 2007, 1:30 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Let' s give a try to v 1.5 ;-)",
          "Text": "Catalin, It is a pity that VS 2005 does not seem to comply with open standard . I really would like to see v 1.5 .NET compatible, but as I stated above, I do not have ( and do not want) to use/install proprietary software to ensure compatibility. I prefer to focus on adding more API operations or fix the current ones. Especially if the current efforts of the Moodle team to expose the API by XML-RPC become operational and well documented... As far as the http://..../wspp/service_pp.php?type=soap error, no surprise. This was a NuSoap server only feature to allow a quite nice Web Browsing of types & operations. This is not implemented in PHP5 SoapServer class. The PHP5 built-in SoapServer expects SOAP data as HTTP_RAW_POST_DATA and complains if you call it with ? type=soap that arrive to it as HTTP_GET_DATA. Do you think that VS use this call to fetch the list of operations ? Surprising ? It should read & parse the WSDL file and not an HTML document full of CSS directives . What happens when you point a browser to http://yourmoodle/wspp/wsdl_pp.php ? It should return yo a file named moodlews.wsdl for downloading . Can VS 2005 be happy by opening a local copy of this file instead of fetching it by a Web access ? I also noticed that in the current version of wsdl_pp.php, some operations are declared with soap:body use=\"encoded\" and some others as \"literal\". Some copy&paste that I did not checked. It does not make any harm here with my python & php clients ... I also tried ( with success) to have them all as \"literal\" or all as \"encoded\". VS seems to be a bit more restrictive ? Last, it was my understanding that the namespace declaration =\"'. $CFG-> wwwroot . '/wspp/wsdl\" was only a declaration and do not have to match the actual path to the server. Here it does not make any difference by using http://mymoodle/ws/wsdl or http://mymoodle/wspp/wsdl . I just wanted to keep the original namespace used by Justin. Well, I really would like to help, but I just don't know how I can force proprietary software to comply with standard ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 3, 2007, 3:47 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "one further test",
          "Text": "Hello again, I just tried the WSDL validator at http://xmethods.net/ve2/Tools.po against version 1.5 installed on my prod server and it indeed validate my WSDL and properly display the 35 operations with correct input & output types ... So I just don't know what to do to help .NET clients.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 3, 2007, 6:22 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Is that do any good ?",
          "Text": "Hello again, When testing my wsdl_pp.php against Java clients, I got a complain by WSLD2Java utility (not catched by other clients PHP4, PHP5 and python and also not by Xmethod validator ) that \"changeRecords\" type was used by not defined ... Indeed it was missing ! Does the attached version of wsdl_pp.php do any good to VS 2005 ? For information I succeeded in Java, using Apache Axis 1.4 to login and retrieve roles from my Moodle 1.7 prod server Here my the test code : /* creating the WSDL java -cp ./axis.jar:./commons-logging-1.0.4.jar:./commons-discovery-0.2.jar:./saaj.jar:./wsdl4j-1.5.1.jar:./jaxrpc.jar org.apache.axis.wsdl.WSDL2Java http://cipcnet/moodle/wspp/wsdl_pp.php Compilation : javac -cp ./axis.jar:./jaxrpc.jar:. Test1.java Execution : java -cp ./axis.jar:./commons-logging-1.0.4.jar:./commons-discovery-0.2.jar:saaj.jar::wsdl4j-1.5.1.jar:./jaxrpc.jar:. Test1 Output : LR.client:563 LR.key:87e30dee8e308f1ab3c57cde26d0d986 ID=2 6 roles 1 Administrator 2 Course creator 3 Teacher 6 Guest 5 Student 4 Non-editing teacher true */ // adjust the import to your Moodle wsdl package created by WSDL2Java !!! import fr.insa_lyon.cipcnet.moodle.wspp.wsdl.*; import org.apache.axis.AxisFault; public class Test1 { public static void main (String[] args) { MoodleWSLocator service= new MoodleWSLocator(); try { MoodleWSPortType port=service.getMoodleWSPort(); LoginReturn lr=port.login (\"XXXXX\",\"ZZZZZZ\"); System.out.println (\"LR.client:\"+lr.getClient()); System.out.println (\"LR.key:\"+lr.getSessionkey()); System.out.println ( \"ID=\"+ port.get_my_id(lr.getClient(), lr.getSessionkey()) ); GetRolesReturn grr=port.get_roles(lr.getClient(), lr.getSessionkey()); RoleRecord[] rr=grr.getRoles(); System.out.println(rr.length+\" roles\"); for (int i=0; i< rr.length;i++) System.out.println ( rr[i].getError()+\" \"+rr[i].getId()+\" \"+rr[i].getName() ); System.out.println (port.logout(lr.getClient(),lr.getSessionkey())); } catch (AxisFault af) { System.out.println (\"axis fault \"+af); } catch (Exception e) { System.out.println (\"exception \"+e); } } }",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://moodle.org/pix/s/dead.gif",
            "http://moodle.org/pix/s/biggrin.gif",
            "http://moodle.org/pix/s/biggrin.gif"
          ],
          "Time": "Thursday, May 3, 2007, 8:59 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: one further test",
          "Text": "Patrick, The wsdl.exe tool gave me a clue: - Unable to import operation 'get_last_changes' - The datatype 'http://xxxxxxx/wspp/wsdl:changeRecords is missing... http://support.microsoft.com/kb/820122 so, in wsdl_pp.php , the type \"changeRecords\" (~line 513) is not defined earlier as a complexType...Now, if I add a it as as complexType, by hand, in the WSDL, everything seems to be OK in VS2005, meaning that it generates the proxy. Also, please replace, if possible, from soap:body use=\"literal\" to soap:body use=\"encoded\"... For now, the login , get_users and get_courses methods in my test application work just fine... Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 3, 2007, 9:08 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Fantastic ...",
          "Text": "So we did it !!!!!!!!!!!!!!!!! Our two messages crossed each other. I think I have changed \"literal\" to \"encoded\" in the wsdl_pp.php attached to my message just above (that talk about java client and the missing changeRecords that I also catched when using WSDL2java ) Cheers . NB: Best regards to all people of Brashov University that I have met in some past Tempus projects : Doru Ursutiu , Cornell Samoia and Radu (the computer man at the top of the tower to whom I showed Linux in 2001). Europe is really small ))",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, May 3, 2007, 9:50 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Revision 1.5.1",
          "Text": "Hello , I have bundled all above changes to revision 1.5.1, few improvments (filtering of events...) plus a major security fix if Moodle authentication method is set to some external method (CAS ...) . Since version 1.5 seems to gain interest from others, I have started a page with latest versions, documentation, sample clients, TO DOs ... at http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/ Enjoy. NB: Justin , still around ? We fork ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 4, 2007, 6:46 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on 1.5.1",
          "Text": "Hi Patrick, Thanks for your time to put in the new version. I tried the login method in VS 2005 and it is giving error, SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://kdt-us-ssevern2/moodle18/wspp/wsdl_pp.php' So I tried the SoapUI testing tool it gave me the same error when I try Login request. <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"> <SOAP-ENV:Body> <SOAP-ENV:Fault> <faultcode>WSDL</faultcode> <faultstring>SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://kdt-us-ssevern2/moodle18/wspp/wsdl_pp.php'</faultstring> </SOAP-ENV:Fault> </SOAP-ENV:Body> </SOAP-ENV:Envelope> Am I missing something? Catalin, is the latest one works for you? Thanks guys for your contribution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 4, 2007, 10:55 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on 1.5.1",
          "Text": "Mahesh, did you run the following command (specified in step 1 in Readme.txt) php wsdl2php.php http://yourmoodle/wspp/wsdl_pp.php ? if you run this command, it will replace (generate new files - classes for proxy) from the WSDL specified as parameter. I think that MoodleWS.php is used by the web service and this needs to be generated again with the correct URI for the calls. (or, at least, change the URI from that file to the correct address for your WS) Hope this is helps (it works this way for me - both VS and soapUI) Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 5, 2007, 12:02 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on 1.5.1 Oups",
          "Text": "Hello, Catalin is right ; You MUST run that command to adjust the URI in MoodleWS.php from my server to yours. MoodleWS.php is indeed used by the web service and the version included in 1.5.1 points to my server and not localhost like it was in 1.5. I should find a way to force the MoodleWS.php file to be \"autogenerated\" at first run. Wait for 1.5.2 My fault",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink",
            "http://moodle.org/pix/s/sad.gif"
          ],
          "Time": "Saturday, May 5, 2007, 12:40 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on 1.5.1 A second thought",
          "Text": "Catalin and Malesh , I had a second thought to my post above and I think I was wrong. The server code includes MoodleWs.php just a convenient way to have all classes associated to data types handy in one single requires. But the server's code does not instanciate the class MoodleWS (that extends SoapClient) included in that file , so even if the URI are wrong in the methods of MoodleWS, it should not matter. A a test, I made a MoodleWS.php with only the requires directives at the top and removed all the code of the MoodleWS class. My clients are still happy ... So I maintain my text in readme.txt that wsdl2php utility must be run on the client side ; but to me server should be up and running out of the box ... Malesh, There must be something else wrong in your setup. The error SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://kdt-us-ssevern2/moodle18/wspp/wsdl_pp.php may indicate that soapUI could not reach your server or the directory wspp/ is not in moodle18 ? BTW , if I copy & paste your URL in a browser, I get a \"server not found page\" ? Have a nice week-end.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 5, 2007, 5:57 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on 1.5.1 A second thought",
          "Text": "Patrick, The server is inside firewall, so you can't reach it. You said, wsdl2php needs to run on client side? is that mean I need to have php installed on client system? I tried wsdl2php at server side but it gave me error. C:\\moodle\\moodle\\moodle\\moodle18\\wspp>php wsdl2php.php http://kdt-us-ssevern2/mo odle18/wspp/wsdl_pp.php PHP Notice:  Use of undefined constant PACKAGE - assumed 'PACKAGE' in C:\\moodle\\ moodle\\moodle\\moodle18\\wspp\\wsdl2php.php on line 33 PHP Notice:  Use of undefined constant AUTHOR - assumed 'AUTHOR' in C:\\moodle\\mo odle\\moodle\\moodle18\\wspp\\wsdl2php.php on line 34 PHP Notice:  Use of undefined constant COPYRIGHT - assumed 'COPYRIGHT' in C:\\moo dle\\moodle\\moodle\\moodle18\\wspp\\wsdl2php.php on line 35 PHP Fatal error:  Class 'SoapClient' not found in C:\\moodle\\moodle\\moodle\\moodle 18\\wspp\\wsdl2php.php on line 46 I have enabled Soapclient and phpinfo said soap is enabled. Waiting for your suggestion. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 7, 2007, 8:33 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "1.5.2 is working!!!",
          "Text": "Patrick, I have downloaded new version 1.5.2 from the url that you posted few days back, and it is working with SoapUI test tool and VS 2005 also. I didn't do any changes from your code and I have used only login operation. So far it looks good. Doing more testing. Thanks Patrick and Catalin for all your help.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://moodle.org/pix/s/smiley.gif"
          ],
          "Time": "Monday, May 7, 2007, 9:34 PM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on 1.5.1 A second thought",
          "Text": "Mahesh, A real strange error. The PHP warnings seem to indicate that wsdl2php.php was corrupted in some way. So no surprise, calling it from VS 2005 or soapUI will fail. I double checked and the three DEFINES (PACKAGE, AUTHOR and COPYRIGHT) are at the top of the source code in v 1.5.1. ? Anyway, this is history, since running wsdl2php.php is not anymore required at the server side, unless you plan to add more functions to the Web Service. It was indented that way starting at v 1.5.0, but obviously something was wrong. wsdl2php.php is required on the client side ONLY if you are planning to write PHP5 clients ; this make writing clients very easy ... otherwise it is absolutely not needed. With Java clients I use WDSL2java and with Python, wsdl2py. I shall try to get some english teacher here to proof read my READMEs that are sometimes not very clear ;-( I am glad v 1.5.2 did the job. v 1.5.3 is under the hood ; nothing new for you. I just added support for PHP5 clients without the extension php_soap, by using the old nusoap library, an (hopefully ) clearer README and some more Python examples with the ZIS library. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 7, 2007, 11:32 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Revision 1.5.1",
          "Text": "Hi Patrick, Yes, I'm still around. I was gone from Friday to Monday and spent all day yesterday catching up on things that I had missed while gone. I'm going to go through what you've got here and get it into the contrib CVS so anyone downloading the code there can get access to it. Thanks for your work on this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 9, 2007, 9:15 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Revision 1.5.1",
          "Text": "Hi Justin, We are in June, and still nothing in the CVS ? Something wrong with my implementation ? A lot of people are downloading it from my site ( http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews ) and asking me why it is not in the contrib CVS ? May be in a \"branch\" ... Sample codes are now available from Plone/Zope (python) , Java and php ... My version is now used in Plones prod servers. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 11, 2007, 4:24 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Revision 1.5.1",
          "Text": "Hi Patrick, The code is great. Actually... do you have write access to the contrib CVS area for Moodle? If not you should get access for it because you've done a lot of work on this and much spent much more time than I've had avialable for this lately so, if you want to become the maintainer of the code in CVS, that's fine by me. If you don't already have write access, send Martin D. a message on Moodle.org asking for it. You need to give him your Sourceforge username (you'll need one of those, as well, if you don't have one already). Sorry, I've kind of forgotten about all this recently. If you wanted to backup what I had in CVS into a sub-directory or something go ahead or you can just overwrite what's there with your current code without saving mine (it would still be available because, well, it's in CVS).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 15, 2007, 11:31 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, I'm about to upgrade to the new version of moodle: 1.8.1 for the reason of web services, which I need to use of integration purposes with an external..web service oriented system. When I have extracted the new moodle I have noticed that the WS folder is mnet which appears to be a bit different than your package code. Are they really two different things? which one should I be using? Thanx",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 13, 2007, 11:34 PM",
          "AuthorName": "Maram Meccawy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45725&course=5",
          "role": [
            "Picture of Maram Meccawy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Yes, they are different animals... 'mnet' is the web services code created to handle the new 'Moodle networks' functions. You can still get our 'ws' from the 'contrib' repository. I'm not sure how much cross-over there is between the two, but I would check them out and use which one makes sense for your application. mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 14, 2007, 2:08 AM",
          "AuthorName": "Mike Churchward",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9561&course=5",
          "role": [
            "Picture of Mike Churchward",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Justin, I want to ask if it is possible to get the login information the other way round. I need to integrate a system in which is a set of services into moodle, hence I need to be able to get the current loged user information from moodle so that it is passed from there to the other services in order for them to perform their tasks before returning the results to moodel (security is not an issue at the moment). I would really appriciate it if you can give me some advise here on how is the best way to do it. Cheers, Maram",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 18, 2007, 7:55 PM",
          "AuthorName": "Maram Meccawy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45725&course=5",
          "role": [
            "Picture of Maram Meccawy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello Maram, If I understand well your problem, you want to write some php code on the Moodle side, that will get current user data, connects to some Web service somewhere, fetch whatever relevant data and display it in Moodle ? Here is a \"sample code\"... for some reason syntax highlighting for php does not seems to work anymore here ? You just have to replace my call to Moodle Web Services by a call to yours using code very similar to wspp/clients/MoodleWS.php . \n```text\n \n\n\n\n\n\n\n\n// This script MUST be in a subdirectory of your Moodle Web site\n\n\n\n// ie /var/www/html/moodle/tests\n\n\n\n\n\n\n\n// get Moodle stuff\n\n\n\n  require_once(\"../config.php\");\n\n\n\n// must be logged in from another page in another window/tab  else die\n\n\n\n  require_login();\n\n\n\n\n\n\n\n// standard header using current theme\n\n\n\n  print_header( 'My Page Title','My Page Title','My Page Title');\n\n\n\n\n\n\n\n  print_simple_box_start(\"center\", \"100%\", \"\", 5, \"generalbox\", \"mypage\");\n\n\n\n\n\n\n\n  print(\"Hello, world!\");\n\n\n\n\n\n\n\n\n\n\n\n// get current user info\n\n\n\n $user=get_record('user',username,$USER->username);\n\n\n\n//dump it to browser\n\n\n\n print_r ($user);\n\n\n\n\n\n\n\n\n\n\n\n// call Moodle WS for current user\n\n\n\n require_once(\"../wspp/clients/MoodleWS.php\");\n\n\n\n require_once(\"../wspp/clients/auth.php\");\n\n\n\n $moodle= new MoodleWS();\n\n\n\n\n\n\n\n  //connect to Moodle WS using power user login/pwd\n\n\n\n  // we cannot use current user since his password is md5 encrypted ...\n\n\n\n  $lr= $moodle->login(LOGIN,PASSWORD);\n\n\n\n  print_r($lr);\n\n\n\n  print \"\";\n\n\n\n // get and print last activities of this guy in an ugly way ...\n\n\n\n print_r($moodle->get_activities($lr->client,$lr->sessionkey,$USER->username,\"username\",'','',10));\n\n\n\n print \"\";\n\n\n\n // plz don't forget to logout\n\n\n\n $moodle->logout($lr->client,$lr->sessionkey);\n\n\n\n// end call MoodleWS\n\n\n\n\n\n\n\n//end of page using current theme\n\n\n\n  print_simple_box_end(\"center\");\n\n\n\n  print_footer();\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 19, 2007, 12:55 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Maram, Are you talking about what Patrick discussed -- getting user information for all the users on the site -- or about getting information from the users who are currently logged into the system at that exact time?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 19, 2007, 10:47 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Justin, Thanks for replying. Sorry for not answering your question earlier, I had some visitors. Actually am addressing the latter. i.e \" getting information from the users who are currently logged into the system at that exact time \" I want to be able to send information about user ( at least username, name, pw) from moodle to an external system (where the same user is registered there as well) that would then prepare the response (adaptive/personalized content) to this particular users and send the result back to moodle's database. Thanks a lot, Maram",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 24, 2007, 1:42 AM",
          "AuthorName": "Maram Meccawy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45725&course=5",
          "role": [
            "Picture of Maram Meccawy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Maram, Moodle doesn't really track users that are logged in at the moment, however it does track the last time that a user accessed something in one of their courses. In Moodle 1.7 and later this information is stored in the `user_lastaccess` table. In earlier versions it's a field in the `user_students`table. You could sort of get the information you wanted by looking at the largest timestamp value in this table for a user. With a window of time (say 5 - 10 minutes) you could consider any user who has at LEAST accessed something on the site within that window of time as logged in, that would give you the results you want.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 6, 2007, 10:06 PM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "WSDL Issue",
          "Text": "First, thanks to Justin & Patrick for all the work! I have a problem with the WSDL file that is generated from my Moodle installation. I have retrieved the file from <server>/moodle/wspp/wsdl_pp.php and copied it into my local Visual Studio 2005 project. I then added it as a \"web reference\" and can successfully access all the web services except for the ones that reference \"SOAP-ENC:Array\" in their type definition. For example get_user_byid fails because the return type of getUsersReturn contains userRecords - which use the \"SOAP-ENC:Array\" type. I am recieving the error in Visual Studio that \"Imported schema for namespace ' http://schemas.xmlsoap.org/soap/encoding/' was not resolved\", for the line: <xsd:import namespace=\" http://schemas.xmlsoap.org/soap/encoding/ \" />. The xmlns:SOAP-ENC=\" http://schemas.xmlsoap.org/soap/encoding/ \" attribute is present in the <wsdl:definitions> tag. I wondered if anybody else had encountered (and hopefully resolved!!) the same problem. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 22, 2007, 9:16 PM",
          "AuthorName": "D T",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=304314&course=5",
          "role": [
            "Picture of D T"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Justin, Thanks for your terrific work on the soap implementation of web services - I have successfully installed the WS in our 1.8.2 moodle and the soap functions work great! We use Visual Studio 2005 environment and C# for most of our development projects and are looking at integrating our .NET based SIS system we developed here with our moodle LMS.  Question: will all the WS v1.5.4 functions work with Moodle 1.9 and if not, will you be upgrading them? Thanks again",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 27, 2007, 7:06 PM",
          "AuthorName": "Ken DeVellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35793&course=5",
          "role": [
            "Picture of Ken DeVellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi to all of you, I have just found, how do i put it... \"bug\" in WS code... I was trying to extend some functionalities and i needed to include some of the moodle libraries in my functions.. I got error \"cannot redeclare nusoap_base class\" and i have found out that in some point, some of the moodle's files is including nusoap.php from lib/soap/ folder or something... I just added checking if this moodle's nusoap exists and include either that file or that one with WS distribution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 13, 2007, 10:04 PM",
          "AuthorName": "Marko Novakovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=268028&course=5",
          "role": [
            "Picture of Marko Novakovic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Marko, What version are you using ? the one from CVS (rev 1.4) which is really out of date or mine (rev 1.5.9) that is available only at cipcnet.insa-lyon.fr (see above) due to lack of answer of Martin D. for a CVS access ... I suspect is it rev 1.4 since current version does not use at all nusoap on the server side . In any case, you can submit me your patch for inclusion in the \"main stream\" . Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 15, 2007, 2:53 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I just installed the latest wspp from Patrick -- http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/ -- 1.5.9 I am able to login, get_users, and logout. I cannot seem to format the call to add a user via edit_users. Here's what I am doing (via PEAP_SOAP)... [...] $user_2 = new stdClass; $user_2->action = 'Add'; $user_2->idnumber = 123; $user_2->firstname = 'first'; $user_2->lasstname = 'last'; $user_2->username = 'username'; $user_2->password = 'password'; $user_2->email = 'email'; [...] $results = $moodle->edit_users($client, $sesskey, Array('user'=>$user_2)); I get a response of... [error] => no users Pretty sure I just have the array of user object(s) incorrect. Suggestions? thanks, -d",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 21, 2007, 3:59 AM",
          "AuthorName": "Derek Wahila",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=430181&course=5",
          "role": [
            "Picture of Derek Wahila"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, the user's data must be an array and must be send also as an hash with the key 'users' (note the plural) so : $users=array(); $users[]=$user_2; // your user to add $users[]=$another_one; ... $results = $moodle->edit_users($client, $sesskey, array('users'=>$users)); also note a spelling error in $user_2->lasstname = 'last'; (must be lastname). HTH",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 21, 2007, 8:23 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello Patrick, I've found that adding a user to a 1.8.3 installation, that user is not allowed to log in. Apparently in the \"mdl_user\" table there is a field (mnethostid) that is not filled in ? At least in my installation, when changing that value from 0 to 1 in the database it worked ok. Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 23, 2007, 3:41 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Patrick, thanks. that was all I needed. Working like a charm, though I had the same problem that Catalin Maican mentioned (on Friday, 23 November 2007). Users added the the SOAP call could not log in. I added this to the user array: $new_user->mnethostid = 1; and they can log in now. One more question: I defined some user profile fields. Can I use the SOAP call to also fill in this data? I tried the obvious $new_user->newfield = 'aaa'; but that didn't work. Is this possible with the current release? I have admittedly not looked at your source. If it's not currently possible, could the server-side code be reasonably modified to support this (I can give it a whirl) if you think so... thanks, -d",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 6, 2007, 3:51 AM",
          "AuthorName": "Derek Wahila",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=430181&course=5",
          "role": [
            "Picture of Derek Wahila"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, I am glad it worked for you. A much better \"patch\" would be to add in function edit_user of server_class.php after the line '$useradd = $user) : $useradd = $user; //Moodle 1.8 and later (a required field that must be non 0 for login ) if ($CFG->mnet_localhost_id) if (!$useradd->mnethostid) //if not set by caller (TODO add to userdatum record) $useradd->mnethostid = $CFG->mnet_localhost_id; // always local user As far as your \"extra fields\" are concerned it would be a bit more difficult since you MUST ALSO add these field names to the WSDL sent by the wsdl_pp.php script at the end of the \"userdatum\" XML entry ; the names MUST match your names in your database something like : xsd:element name=\"extrafield1\" type=\"xsd:string\" xsd:element name=\"extrafield2\" type=\"xsd:string\" xsd:element name=\"extrafield3\" type=\"xsd:string\" That should be enough for the server side to add your values to the SOAP data received from client, and inject them in the new user record in the database . I shall be glad to hear about your testing in this direction. Cheers ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 7, 2007, 1:18 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I've made the changes to the server.class.php -- which made perfect sense. Then I modified the wsdl_pp.php as well. What I don't understand, is where to make the additional db calls to write the other fields to the database. The user data is written using the insert_record function in dmllib.php I know my optional fields need to go into the mdl_user_info_data table, using the fields that were written to the mdl_user_info_field table. Since this is a single installation, and we are managing it, I know the additional fields will not change. That means I know the fieldid, and the userid and data will come from the WS add/edit. But, like I said, I just don't know where to actually perform the db insert/edits. Being unfamiliar with the moodle code, any advice or pointers would be very helpful. And certainly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 14, 2007, 6:39 AM",
          "AuthorName": "Derek Wahila",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=430181&course=5",
          "role": [
            "Picture of Derek Wahila"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello Derek, Taking in account the new optional fields introduced in Moodle 1.8 will be a big plus that I would like to support. Your request would require a \"big change\" in the wsdl production since the \"userDatum\" record will have to be \"dynamically generated\" by reading the new tables (mdl_user_info_field and mdl_user_info_category) to adjust it to the site's extra fields. Actually I am considering the idea on changing the wsdl_pp.php file (or at least its first part that deal with basic Moodle entities (user,course,grade..), to be fully dynamic by reading the current database structure. This should make migration of the Web Service much easier across Moodle new releases.. but will make life a bit more complex to people using wsdl2xx generators to produce their client's code ( Java, Python/ZIS ...) in static classes. They would have to regenerate their classes at every upgrade of Moodle ... I am planning to install a Moodle 1.8.3+ during the winter vacations to see all problems introduced by this release... So give me some time Season's greetings.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, December 19, 2007, 8:41 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Request for testing",
          "Text": "Hello, It has been reported to me that with Python/ZSI clients, current version of the Web Service (1.5.9) raises a fatal error when returning an user data when its description field has no data. This is due to the fact that in mdl_user table, the field description is the only one with attribute \"NULL\" on ; all other optional fields (icq, skype ...) have attribute NULL unset and a default value as empty string. For some reason, ZSI consider that by default an attribute is never 'null' and raises a fatal error on user's description : ZSI.EvaluateException: Non-nillable element is NIL The solutions are quite simple : change the NULL attribute of description field in mdl_user table from NULL to NOTNULL and default to '' , but this is a Moodle core change ... or modify the script wsdl_pp.php to have in userRecord entry : xsd:element name=\"description\" type=\"xsd:string\" nillable=\"true\" instead of xsd:element name=\"description\" type=\"xsd:string\" This simple patch may have to be repeated to other database fields that have also the NULL attribute set (very few indeed) ... I am quite ready to release 1.5.10 with such a patch (and the mnethostid problem reported above by Catalin) , but I just want to make sure that all types of clients I am not testing will not choke on this. I am thinking to .NET/Visual Studio and Java/Axis. So if some good souls using these can test that adding nillable=\"true\" does not break their clients and report here of directly to me ... Season's greetings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 19, 2007, 9:28 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi guys, I'm a little confused now that Moodle Network is available I see that it can offer web services too. I think this might have been asked elsewhere but I can't find the post. What is the future for Web Services in Moodle. Are these Web services part of core. Are you guys doing the web services and Moodle Network doing the community hub? YOu've got a soap solution and Moodle Network has XML RPC would you consider merging so that you can support both ina standard fashion. I'm not trying to rain on your parade I'm just using web services for a solution I'm developing and so the questions are really pertinent. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 6, 2007, 11:13 PM",
          "AuthorName": "Colin Chambers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=239770&course=5",
          "role": [
            "Picture of Colin Chambers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, As discussed in another topic, http://moodle.org/mod/forum/discuss.php?d=82322 the SOAP and XML-RPC are two different approaches. My understanding is that Moodle NetWork has a much more general approach on exporting Moodle internal API, but still lack of \"concrete entry points\" via XML-RPC to get/set/delete/modify Moodle entities such as students, courses ,grades ... In the contrary, the SOAP approach has some these entry points, but will be more difficult to maintain with the high speed Moodle version changes. Definitivly merging will be profitable, but this would require : - more documentation on the \"developper side\" of Moodle Network layer. - a complete rewriting of the SOAP internal layer (as implemented in our server.class.php). - an agreement on the desired entry points. A beginning is on http://docs.moodle.org/en/Development:Web_services a page initiated by Martin D., but currently only \"filled in\" by me ... Also I still do not have CVS access to the OKTech branch in Moodle's contrib area, so you should consider the SOAP approach as an non officially supported initiative. I does work, with Moodle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 7, 2007, 1:08 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Thanks for that reply patrick I appreciate such a quick response. That makes things much clearer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 7, 2007, 9:36 PM",
          "AuthorName": "Colin Chambers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=239770&course=5",
          "role": [
            "Picture of Colin Chambers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Patrick, The MoodleWS implementation supports Login and Logout operations. Can they be used to login (and logout) an user for creating a SSO application ? e.g. if I login automatically an user via \"login\" operation from the Web Services, will he/she need to login again ? Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 31, 2007, 4:41 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, again, maybe I was not clear enough in my latest post, so I would like to ask the same with other words: is it possible to create an authentication plugin so that when an user is authenticated via the Login method in web services, he/she would also be authenticated in Moodle (the user not being asked to enter the user/pass again in browser ?) Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 12, 2008, 4:52 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, I am really needing to get something working in C# using the service, do I have the latest version with 1.5.9? I have tried your sample applications and it cant find a method or 2, so Im thinking I have an old version. I feel I am close, but I seem to be getting this error: System.InvalidOperationException: Client found response content type of 'text/html', but expected 'text/xml The request failed with an empty response. at System.Web.Services.Protocols.SoapHttpClientProtocol.ReadResponse(SoapClientMessage message, WebResponse response, Stream responseStream, Boolean asyncCall) at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke(String methodName, Object[] parameters) at WindowsApplication1.LuxorLMS.MoodleWS.login(String username, String password) in C:\\JZA\\E\\iVersity\\AI\\MoodleWS\\WindowsApplication1\\Web References\\LuxorLMS\\Reference.cs:line 297 at WindowsApplication1.Form1.button1_Click(Object sender, EventArgs e) in C:\\JZA\\E\\iVersity\\AI\\MoodleWS\\WindowsApplication1\\Form1.cs:line 79",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 22, 2008, 8:47 AM",
          "AuthorName": "Steven House",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=253297&course=5",
          "role": [
            "Picture of Steven House"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, 1.5.9 is the latest released. I have many others projects running and do not intent to release anything until the official Web Service API for Moodle is more advanced . Your error message (System.InvalidOperationException: Client found response content type of 'text/html', but expected 'text/xml) seems to indicate that the Web server has not returned an XML answer (a Soap answer) but some error message (page not found, authentification failed, acces denied ...) Try to call the Web service from a Browser to see what can be the problem ... http://youmoodlebaseurl/wspp/service_pp.php You should get in French the list of supported functions : Ce serveur SOAP peut gérer les fonctions suivantes : mdl_soapserver blank_array error_record to_soap to_soap_array edit_users get_users edit_courses get_courses get_grades enrol_students error get_user get_groups get_my_courses get_my_courses_byusername get_my_courses_byidnumber get_user_byusername .... I suspect you will get some other error message Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 22, 2008, 8:09 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Guys, Is there a reason why the wsdl is set to RPC/encoded as opposed to rpc/literal? I'm getting errors while trying use wsdl2java on the generated wsdl (rpc/encoded is not supported by neither axis nor xfire) rafael-mb:bin rafael$ ./wsdl2java.sh -o /tmp -p com.uvasoftware.judo.moodle.ws -uri file:/Users/rafael/Downloads/moodlews.wsdl Using AXIS2_HOME: /Users/rafael/dev/java/axis2-1.3 Using JAVA_HOME: /usr [ERROR] Encoded use is not supported org.apache.axis2.description.WSDL11ToAxisServiceBuilder$WSDLProcessingException: Encoded use is not supported at org.apache.axis2.description.WSDL11ToAxisServiceBuilder.getPartsListFromSoapBody(WSDL11ToAxisServiceBuilder.java:1777) at org.apache.axis2.description.WSDL11ToAxisServiceBuilder.createSchemaForPorttype(WSDL11ToAxisServiceBuilder.java:1528) at org.apache.axis2.description.WSDL11ToAxisServiceBuilder.generateWrapperSchema(WSDL11ToAxisServiceBuilder.java:1431) at org.apache.axis2.description.WSDL11ToAxisServiceBuilder.populateService(WSDL11ToAxisServiceBuilder.java:255) at org.apache.axis2.description.WSDL11ToAllAxisServicesBuilder.populateAllServices(WSDL11ToAllAxisServicesBuilder.java:109) at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.(CodeGenerationEngine.java:141) at org.apache.axis2.wsdl.WSDL2Code.main(WSDL2Code.java:35) at org.apache.axis2.wsdl.WSDL2Java.main(WSDL2Java.java:24) ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 4, 2008, 10:27 PM",
          "AuthorName": "Rafael Ferreira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=483545&course=5",
          "role": [
            "Picture of Rafael Ferreira"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I suspect that you are not using the latest 1.5.9 version but the preliminary 1.4 version available on CVS. see http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews You will find reports of successful use with Java and Axis library. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 5, 2008, 11:09 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I was able to dig a little bit further into this and this is what I was able to find out. * The WSDL as is will work on axis 1.x since it uses rpc/encoded * The WSDL will not work with a modem java soap stack which is JAXWS2.0 compliant since they only work with document/literal AFAIK . I was able to test this using Axis 1.4, axis2, Metro and XCF. - raf",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 17, 2008, 2:32 PM",
          "AuthorName": "Rafael Ferreira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=483545&course=5",
          "role": [
            "Picture of Rafael Ferreira"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello Raf, Sorry for the delay. It is quite unfortunate and I just don't know what to do ;-(( I installed axis2 rev 1.4 (latest) and I get almost right away another error (before your reported complain about Encoded not supported) ... ppollet@prope:~/passage/tmp/moodle/ws/axis2-1.4/bin$ sh wsdl2java.sh -uri http://mymoodle/wspp/wsdl_pp2.php Using AXIS2_HOME: /home/ppollet/passage/tmp/moodle/ws/axis2-1.4 Using JAVA_HOME: /usr Retrieving document at 'http://mymoodle/wspp/wsdl_pp2.php'. Exception in thread \"main\" org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: java.lang.reflect.InvocationTargetException at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:271) at org.apache.axis2.wsdl.WSDL2Code.main(WSDL2Code.java:35) at org.apache.axis2.wsdl.WSDL2Java.main(WSDL2Java.java:24) Caused by: java.lang.RuntimeException: java.lang.reflect.InvocationTargetException at org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:53) at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:224) ... 2 more Caused by: java.lang.reflect.InvocationTargetException at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:50) ... 3 more Caused by: org.apache.axis2.schema.SchemaCompilationException: can not find type { http://schemas.xmlsoap.org/soap/encoding/ }Array from the parent schema http://mymoodle/wspp/wsdl at org.apache.axis2.schema.SchemaCompiler.copyMetaInfoHierarchy(SchemaCompiler.java:1296) at org.apache.axis2.schema.SchemaCompiler.processComplexContent(SchemaCompiler.java:1258) at org.apache.axis2.schema.SchemaCompiler.processContentModel(SchemaCompiler.java:1153) at org.apache.axis2.schema.SchemaCompiler.processComplexType(SchemaCompiler.java:1097) at org.apache.axis2.schema.SchemaCompiler.processNamedComplexSchemaType(SchemaCompiler.java:1017) at org.apache.axis2.schema.SchemaCompiler.processSchema(SchemaCompiler.java:931) at org.apache.axis2.schema.SchemaCompiler.processElement(SchemaCompiler.java:592) at org.apache.axis2.schema.SchemaCompiler.processElement(SchemaCompiler.java:552) at org.apache.axis2.schema.SchemaCompiler.process(SchemaCompiler.java:1991) at org.apache.axis2.schema.SchemaCompiler.processParticle(SchemaCompiler.java:1880) at org.apache.axis2.schema.SchemaCompiler.processComplexType(SchemaCompiler.java:1081) at org.apache.axis2.schema.SchemaCompiler.processNamedComplexSchemaType(SchemaCompiler.java:1017) at org.apache.axis2.schema.SchemaCompiler.processSchema(SchemaCompiler.java:931) at org.apache.axis2.schema.SchemaCompiler.processElement(SchemaCompiler.java:592) at org.apache.axis2.schema.SchemaCompiler.processElement(SchemaCompiler.java:552) at org.apache.axis2.schema.SchemaCompiler.process(SchemaCompiler.java:1991) at org.apache.axis2.schema.SchemaCompiler.processParticle(SchemaCompiler.java:1874) at org.apache.axis2.schema.SchemaCompiler.processComplexType(SchemaCompiler.java:1081) at org.apache.axis2.schema.SchemaCompiler.processAnonymousComplexSchemaType(SchemaCompiler.java:980) at org.apache.axis2.schema.SchemaCompiler.processSchema(SchemaCompiler.java:934) at org.apache.axis2.schema.SchemaCompiler.processElement(SchemaCompiler.java:592) at org.apache.axis2.schema.SchemaCompiler.processElement(SchemaCompiler.java:563) at org.apache.axis2.schema.SchemaCompiler.compile(SchemaCompiler.java:370) at org.apache.axis2.schema.SchemaCompiler.compile(SchemaCompiler.java:280) at org.apache.axis2.schema.ExtensionUtility.invoke(ExtensionUtility.java:103) ... 8 more Same error when changing use=\"encoded\" to use=\"literal\" in all operations entries in the wsdl. wsdl2java seems to be chocking on the declaration of userRecords as an array of userRecord : <xsd:complexType name=\"userRecords\"> <xsd:complexContent> <xsd:restriction base=\"SOAP-ENC:Array\"> <xsd:attribute ref=\"SOAP-ENC:arrayType\" wsdl:arrayType=\"tns:userRecord[]\" /> </xsd:restriction> </xsd:complexContent> </xsd:complexType> which is to my little knowledge the \"standard way\" ... It just goes past my understanding ;-( What surprise me the most is that the Java built soapUI interactive application seems to be pleased with current WSDL definitions .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 9, 2008, 4:48 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello raf again, With some help from a java guru, which I am not all all I succeeded in generating the classes from current WSDL by using the xmlbeans databinding, and not the abd Axis default . Here is my output : ppollet@prope:~/passage/tmp/moodle/ws/axis2-1.4/bin$ sh ./wsdl2java.sh -uri http://cipcnet.insa-lyon.fr/moodle/wspp/wsdl_pp.php -o ../moodlews -d xmlbeans Using AXIS2_HOME: /home/ppollet/passage/tmp/moodle/ws/axis2-1.4 Using JAVA_HOME: /usr Retrieving document at ' http://cipcnet.insa-lyon.fr/moodle/wspp/wsdl_pp.php' . [INFO] The ../moodlews/src/fr/insa_lyon/cipcnet/moodle/wspp/wsdl/MoodleWSCallbackHandler.java file cannot be overwritten. [INFO] The ../moodlews/src/fr/insa_lyon/cipcnet/moodle/wspp/wsdl/MoodleWSStub.java file cannot be overwritten. ppollet@prope:~/passage/tmp/moodle/ws/axis2-1.4/bin$ cd ../moodlews/ ppollet@prope:~/passage/tmp/moodle/ws/axis2-1.4/moodlews$ ant Buildfile: build.xml init: jar.xbeans: [jar] Building jar: /home/ppollet/passage/tmp/moodle/ws/axis2-1.4/moodlews/build/lib/XBeans-packaged.jar pre.compile.test: [echo] XmlBeans Availability = true [echo] Stax Availability= true [echo] Axis2 Availability= true compile.src: [javac] Compiling 464 source files to /home/ppollet/passage/tmp/moodle/ws/axis2-1.4/moodlews/build/classes [javac] Note: Some input files use or override a deprecated API. [javac] Note: Recompile with -Xlint:deprecation for details. jar.client: [jar] Building jar: /home/ppollet/passage/tmp/moodle/ws/axis2-1.4/moodlews/build/lib/MoodleWS-test-client.jar BUILD SUCCESSFUL Total time: 23 seconds ppollet@prope:~/passage/tmp/moodle/ws/axis2-1.4/moodlews$ Next step was to create a small java client in moodlews/src import java.rmi.RemoteException; import org.apache.axis2.AxisFault; import fr.insa_lyon.cipcnet.moodle.wspp.wsdl.MoodleWSStub; public class Test1 { /** * @param args */ public static void main(String[] args) { MoodleWSStub stub =null; try { stub = new MoodleWSStub(); } catch (AxisFault e) { e.printStackTrace(); } } } ant compile it OK, and place Test1.class in moodlews/build/classes, but I am unable to run it due to class not found errors ... I keep on adding jars and so far I am stucck with this : ppollet@prope:~/passage/tmp/moodle/ws/axis2-1.4/moodlews/build/classes$ sh run.sh .:./stax-api-1.0.jar:lib/wstx-asl-3.2.4.jar:lib/XmlSchema-1.4.2.jar:lib/activation-1.1.jar:lib/axiom-api-1.2.7.jar:lib/axiom-dom-1.2.7.jar:lib/axiom-impl-1.2.7.jar:lib/axis2-adb-1.4.jar:lib/axis2-kernel-1.4.jar:lib/commons-codec-1.3.jar:lib/commons-httpclient-3.1.jar:lib/commons-logging-1.1.1.jar:lib/stax-api-1.0.1.jar:lib/wsdl4j-1.6.2.jar:lib/xmlbeans-2.3.0.jar:lib/xml-apis-1.3.04.jar:lib/log4j-1.2.15.jar Exception in thread \"main\" java.lang.NoClassDefFoundError: edu/emory/mathcs/backport/java/util/concurrent/ConcurrentHashMap at org.apache.axis2.description.AxisDescription.(AxisDescription.java:78) at org.apache.axis2.description.AxisService.(AxisService.java:363) at org.apache.axis2.description.AxisService.(AxisService.java:434) at fr.insa_lyon.cipcnet.moodle.wspp.wsdl.MoodleWSStub.populateAxisService(MoodleWSStub.java:41) at fr.insa_lyon.cipcnet.moodle.wspp.wsdl.MoodleWSStub.(MoodleWSStub.java:580) at fr.insa_lyon.cipcnet.moodle.wspp.wsdl.MoodleWSStub.(MoodleWSStub.java:569) at fr.insa_lyon.cipcnet.moodle.wspp.wsdl.MoodleWSStub.(MoodleWSStub.java:617) at fr.insa_lyon.cipcnet.moodle.wspp.wsdl.MoodleWSStub.(MoodleWSStub.java:609) at Test1.main(Test1.java:15) ppollet@prope:~/passage/tmp/moodle/ws/axis2-1.4/moodlews/build/classes$",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 9, 2008, 9:22 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Finally OK with axis 2 ;-)",
          "Text": "This test class using axis2 did run against current WSDL in rpc/encoded and using xmlbeans data bindings ... What a pain ;-(( Maybe some java guru around will contribute to help us on that .... import java.rmi.RemoteException; import org.apache.axis2.AxisFault; // adjust to the package name created by wsdl2java.sh import fr.insa_lyon.cipcnet.moodle.wspp.wsdl.MoodleWSStub; import fr.insa_lyon.cipcnet.moodle.wspp.wsdl.*; import java.math.BigInteger; /* to create the jars files go to axis2 bin directory : - sh ./wsdl2java.sh -uri http://cipcnet.insa-lyon.fr/moodle/wspp/wsdl_pp.php -o /tmp/moodlews -d xmlbeans - cd /tmp/moodlews - ant add to your classpath - all jars in axis2/lib (may be too much ) - PLUS the jar generated by ant in /tmp/moodlews/build/lib (MoodleWS-test-client.jar) compile this and run really less simple than with axis 1.4 ! I still don't know how to extract courses from the returned CourseRecords in XML ;-(( enjoy */ public class Test1 { /** * @param args */ public static void main(String[] args) { MoodleWSStub stub =null; try { stub = new MoodleWSStub(); } catch (AxisFault e) { e.printStackTrace(); } LoginDocument loginDocument= LoginDocument.Factory.newInstance(); LoginDocument.Login loginDocumentLogin= loginDocument.addNewLogin(); loginDocumentLogin.setUsername(\"xxxxxx\"); loginDocumentLogin.setPassword(\"xxxxx\"); loginDocument.setLogin(loginDocumentLogin); System.out.println(loginDocument); try{ LoginResponseDocument rep=stub.login(loginDocument); System.out.println(rep.getLoginResponse().getReturn()); // keep returned values to be sent at evry subsequent calls BigInteger client =rep.getLoginResponse().getReturn().getClient(); String sesskey=rep.getLoginResponse().getReturn().getSessionkey(); GetMyCoursesDocument gmcd =GetMyCoursesDocument.Factory.newInstance(); GetMyCoursesDocument.GetMyCourses gmcd2= gmcd.addNewGetMyCourses(); gmcd2.setClient(client); gmcd2.setSesskey(sesskey); GetMyCoursesResponseDocument repgmc = stub.get_my_courses(gmcd); CourseRecords myc =repgmc.getGetMyCoursesResponse().getReturn().getCourses(); System.out.println(myc); // still in XML !!! LogoutDocument logoutDocument= LogoutDocument.Factory.newInstance(); LogoutDocument.Logout logoutDocumentLogout= logoutDocument.addNewLogout(); logoutDocumentLogout.setClient(client); logoutDocumentLogout.setSesskey(sesskey); LogoutResponseDocument rep2=stub.logout(logoutDocument); System.out.println(rep2.getLogoutResponse().getReturn()); } catch (RemoteException e) { e.printStackTrace(); } } }",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, May 9, 2008, 11:50 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Finally OK with axis 2 ;-)",
          "Text": "Hello, i am using this example test1.java to test access to the web service my service end point is : http://127.0.0.1/wspp/service_pp.php all the procedure work fine; but when i try to run the example i have this exception: <login xmlns=\" http://127.0.0.1/wspp/wsdl \"> <username xmlns=\"\">teacher</username> <password xmlns=\"\">test</password> </login> [INFO] OMException in getSOAPBuilder org.apache.axiom.om.OMException at [row,col {unknown-source}]: [1,0] at org.apache.axiom.om.impl.builder.StAXOMBuilder.next( at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.getSOAPEnvelope( at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.<init>( at org.apache.axis2.builder.BuilderUtil.getSOAPBuilder( at org.apache.axis2.transport.TransportUtils.createDocumentElement( at org.apache.axis2.transport.TransportUtils.createSOAPMessage( at org.apache.axis2.transport.TransportUtils.createSOAPMessage( at org.apache.axis2.description.OutInAxisOperationClient.handleResponse( at org.apache.axis2.description.OutInAxisOperationClient.send( at org.apache.axis2.description.OutInAxisOperationClient.executeImpl( at org.apache.axis2.client.OperationClient.execute( at _1._0._0._127.wspp.wsdl.MoodleWSStub.login( at ws.context.Test1.main( Caused by: at [row,col {unknown-source}]: [1,0] at com.ctc.wstx.sr.StreamScanner.throwUnexpectedEOF( at com.ctc.wstx.sr.BasicStreamReader.handleEOF( at com.ctc.wstx.sr.BasicStreamReader.nextFromProlog( at com.ctc.wstx.sr.BasicStreamReader.next( at org.apache.axiom.om.impl.builder.StAXOMBuilder.parserNext( at org.apache.axiom.om.impl.builder.StAXOMBuilder.next( ... 12 more [INFO] Remaining input stream :[] Any suggestion please ; Thanx : com.ctc.wstx.exc.WstxEOFException : Unexpected EOF in prolog StAXOMBuilder.java:249 ) StAXSOAPModelBuilder.java:156 ) StAXSOAPModelBuilder.java:105 ) BuilderUtil.java:677 ) TransportUtils.java:182 ) TransportUtils.java:112 ) TransportUtils.java:88 ) OutInAxisOperation.java:353 ) OutInAxisOperation.java:416 ) OutInAxisOperation.java:228 ) OperationClient.java:163 ) MoodleWSStub.java:1241 ) Test1.java:36 ) com.ctc.wstx.exc.WstxEOFException : Unexpected EOF in prolog StreamScanner.java:661 ) BasicStreamReader.java:2134 ) BasicStreamReader.java:2040 ) BasicStreamReader.java:1069 ) StAXOMBuilder.java:506 ) StAXOMBuilder.java:161 )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2009, 6:45 PM",
          "AuthorName": "abdelaziz ouadah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1019053&course=5",
          "role": [
            "Picture of abdelaziz ouadah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Finally OK with axis 2 ;-)",
          "Text": "Abdelaziz, I see at least one mistake : the end point should be http://127.0.0.1/moodle/wspp/service_pp.php (replace moodle by wathever folder name you used in Moodle installation). that is you must unzip the wspp_xxx.zip inside the Moodle directory, not elsewhere ... this may explain the UnexpectedEOF execption (no answer or internal error likely due to the first line of service_pp.php script (require_once('../config.php');) that fails with a file not found error... Also some others developers had trouble with axis2. I had some success but I am not good enough in java to complete it see http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/some-success-with-the-new-axis-2-library/ the provided Test1.java class has been succesfull with axis1.4. See comments atop this file to compile and run it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2009, 7:34 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Finally OK with axis 2 ;-)",
          "Text": "Thanx for your respone, but when i call the http://127.0.0.1/wspp/wsdl_pp.php , i have the wsdl file coorectly. but the end point no response. i tried the http://127.0.0.1/moodle/wspp/service_pp.php , but i have had 404 error page. also   when i pull up http://127.0.0.1/wspp/service_pp.php in my browser and it's a blank page. also i am using SOAPUI to test services, (with the same end point: http://127.0.0.1/wspp/service_pp.php ). i sent the soap message: <soapenv:Envelope xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:soapenv=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:wsdl=\" http://127.0.0.1/wspp/wsdl \"> <soapenv:Header/> <soapenv:Body> <wsdl:login soapenv:encodingStyle=\" http://schemas.xmlsoap.org/soap/encoding/ \"> <username xsi:type=\"xsd:string\">admin</username> <password xsi:type=\"xsd:string\">test</password> </wsdl:login> </soapenv:Body> </soapenv:Envelope> and i have got this response: HTTP/1.1 200 OK Date: Tue, 27 Oct 2009 12:25:49 GMT Server: Apache/2.2.8 (Win32) mod_ssl/2.2.8 OpenSSL/0.9.8g mod_autoindex_color PHP/5.2.5 X-Powered-By: PHP/5.2.5 Set-Cookie: MoodleSession=7bc0688d791e8100ea1b1f1205a8bcfa; path=/ Expires: Thu, 19 Nov 1981 08:52:00 GMT Cache -Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0 Pragma: no-cache Set-Cookie: MoodleSessionTest=W6H1z8zKAW; path=/ Content-Length: 0 Content-Type: text/html Thanx",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2009, 8:31 PM",
          "AuthorName": "abdelaziz ouadah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1019053&course=5",
          "role": [
            "Picture of abdelaziz ouadah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Finally OK with axis 2 ;-)",
          "Text": "Abdelaziz, >but when I call the http://127.0.0.1/wspp/wsdl_pp.php , i have the wsdl file coorectly. Strange... and are you sure that your Moodle works correctly ? how do you call it http://127.0.0.1/moodle ??? if so you call the Web Service by http://127.0.0.1/moodle/wspp/wsdl_pp.php You should NEVER call thee end point (service_pp.php) . This is sent to clients within the wsdl file... So you MUST : -unzip wspp_xxx.zip inside your moodle directory or move the directory wspp inside it - call http://yourmoodledirectory/wspp/wsdl_pp.php either in soapUI (via a New WSDL project) or in java Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2009, 10:45 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Finally OK with axis 2 ;-)",
          "Text": "i call moodle directly : http://127.0.0.1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2009, 10:51 PM",
          "AuthorName": "abdelaziz ouadah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1019053&course=5",
          "role": [
            "Picture of abdelaziz ouadah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "what would it mean when i pull up http://myclientmoodleurl/wspp/service_pp.php in my browser and it's a blank page? I'm working with .NET and a client of our has moodle setup on his server. I'm trying to make some calls to it via the webservices. He has installed MoodleWS 1.5.9 over the weekend. What could I ask my client to do (if anything) to fix this? Thanks, Josh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 8, 2008, 2:17 AM",
          "AuthorName": "Josh Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=507286&course=5",
          "role": [
            "Picture of Josh Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Josh, Check in the Web server logs. I suspect some fatal php error has occured such as a missing library ( php_soap extension). Alternatively check Info PHP at http://yourmoodle/admin/phpinfo.php and make sure that soap extension is loaded. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 8, 2008, 2:51 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "So you're saying in fact that I should get something when I pull up that page correct? Directory browsing is enabled on my client's url and that file is listed like this: \n```text\nservice_pp.php 05-May-2007 06:30 947\n```\n It is very small. Is it supposed to be? I'm having my client check on what you suggested above. Thanks for the help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 8, 2008, 9:15 PM",
          "AuthorName": "Josh Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=507286&course=5",
          "role": [
            "Picture of Josh Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Yes, You should get in French the list of supported functions : Ce serveur SOAP peut gérer les fonctions suivantes : mdl_soapserver blank_array error_record to_soap to_soap_array edit_users get_users edit_courses get_courses get_grades enrol_students error get_user get_ groups get_my_courses get_my_courses_byusername get_my_courses_byidnumber get_user_byusername .... The script service_pp.php is the \"dispatcher\" for the Web service. If called by POST by any SOAP client, it perform the requested operation as per the WSDL and answer in XML, and if called by GET (from a browser without any parameter), it just tells you it is alive... Small but beautiful Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, April 9, 2008, 12:39 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Thanks for the help Patrick. I've successfully created a user! One thing though. I'm not able to login until I manually update the column mnethostid to 1 (in the mdl_user table). Any reason or way to fix that? There is no corresponding property (that I can tell) in the webservice. This is basically the code I'm using: /* * Create a new user */ userData = new userDatum(); userData.firstname = \"josh\"; userData.lastname = \"smith\"; userData.city = \"Raleigh\"; userData.country = \"US\"; userData.username = \"testuser\"; userData.password = CalculateMD5Hash(\"password\"); userData.email = \"josh@email.com\"; userData.action = \"Add\"; userData.confirmed = \"1\"; EditUsersIn = new editUsersInput(); EditUsersIn.users = new userDatum[] { userData }; EditUsersOut = m.edit_users(ret.client, ret.sessionkey, EditUsersIn); if (EditUsersOut != null) { Console.WriteLine(\"User Created\"); userRecord = EditUsersOut.users[0]; Console.WriteLine(\"id: \" + userRecord.id); Console.WriteLine(\"username: \" + userRecord.username); Console.WriteLine(\"confirmed: \" + userRecord.confirmed); Console.WriteLine(\"error: \" + userRecord.error); Console.WriteLine(\"role: \" + userRecord.role); Console.WriteLine(\"idnumber: \" + userRecord.idnumber); } Also, do you know if there is any API or documentation for required fields, more explanation, etc? For instance userData.action = \"Add\". I can't even remember how I found it should be 'Add'. But any information would greatly help. I've got several other functions to implement. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 9, 2008, 8:46 AM",
          "AuthorName": "Josh Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=507286&course=5",
          "role": [
            "Picture of Josh Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, I am currently using the wspp 1.5.9, along with moodle 1.9 . I am currently testing the services using soapui and would like to know how can i extend the web services in order to obtain the following using php : 1.get user roleid 2.get languages available in the system Also when i t enrol more than one student to a course, and when try to run get_users_bycourses i get only one record (which was added last in the enrol array) i.e if i added user1, user2, user3 and when i run service get_users_bycourses i only get one record of user3. Any help would be appreciated, and thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 23, 2008, 3:25 AM",
          "AuthorName": "Mohammed Khan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=544614&course=5",
          "role": [
            "Picture of Mohammed Khan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello Mohammed, Sorry for the delay. 1) to get user role id ( in a course since an user can have different roles in different courses) you can call get_primaryrole_incourse and \"fill the blanks \" in soapUI as below with : the client and sesskey returned by a previous login the user's identifier (iduser) and the name of the field (iduserfield) the course's identifier (idcourse) and the name of the field (idcoursefield) : <soapenv:Envelope xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:soapenv=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:wsdl=\" http://cipcnet.insa-lyon.fr/moodle/wspp/wsdl \"> <soapenv:Header/> <soapenv:Body> <wsdl:get_primaryrole_incourse soapenv:encodingStyle=\" http://schemas.xmlsoap.org/soap/encoding/ \"> <client xsi:type=\"xsd:integer\">21157</client> <sesskey xsi:type=\"xsd:string\">f16704fae413ec393a05cc74ae47ab55</sesskey> <iduser xsi:type=\"xsd:string\">vcottineau</iduser> <iduserfield xsi:type=\"xsd:string\">username</iduserfield> <idcourse xsi:type=\"xsd:string\">java_2eu_2008</idcourse> <idcoursefield xsi:type=\"xsd:string\">idnumber</idcoursefield> </wsdl:get_primaryrole_incourse> </soapenv:Body> </soapenv:Envelope> it should returns an integer matching the Moodle's standard roles ids : 1 admin 2 coursecreator 3 teacher 4 noneditingteacher 5 student 6 guest <SOAP-ENV:Envelope SOAP-ENV:encodingStyle=\" http://schemas.xmlsoap.org/soap/encoding/ \" xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:ns1=\" http://cipcnet.insa-lyon.fr/moodle/wspp/wsdl \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:SOAP-ENC=\" http://schemas.xmlsoap.org/soap/encoding/ \"> <SOAP-ENV:Body> <ns1:get_primaryrole_incourseResponse> <return xsi:type=\"xsd:integer\">5</return> </ns1:get_primaryrole_incourseResponse> </SOAP-ENV:Body> </SOAP-ENV:Envelope> or an error is user's is unknown or not in the course : <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"> <SOAP-ENV:Body> <SOAP-ENV:Fault> <faultcode>SOAP-ENV:Server</faultcode> <faultstring>user username='azerty' not found</faultstring> </SOAP-ENV:Fault> </SOAP-ENV:Body> </SOAP-ENV:Envelope> 2) to get available languages, you will have to add yourself the required operation to the WSDL since it is not yet supported. See http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/how-to-extend-moodle-web-services/ 3) I am surprised with this. enrol_students and get_users_bycourse are two different operations. Did you checked in Moodle ( block participants) that user1,user2 and user3 where indeed added to the course ? I never tested enrol_students with soapUI since I do not know how to fill the parameter with an array of student ids : <userids xsi:type=\"wsdl:enrolStudentsInput\" soapenc:arrayType=\"xsd:string[]\"/> but I did tested it in php and python ... Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 9, 2008, 5:32 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Typo In Debug Line",
          "Text": "Minor Point but might be useful if you are debugging as I was. Line 519 of server.class.php has a typo - $userass instead of $useradd. Threw me totally as a user had been added but no ID appeared in the Debug file",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 9, 2008, 5:41 PM",
          "AuthorName": "Terry Wickenden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=544018&course=5",
          "role": [
            "Picture of Terry Wickenden"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Typo In Debug Line",
          "Text": "I fell bad about this one... I don't know what I was thinking about [blush] I shall commit it to CVS asap ... Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 9, 2008, 7:12 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Patrick, Thanks for the help, i am now able to make soap request for getting languages and countries. But i am in a situation now, i am integrating moodle with a flex frontend, and using soap communication between moodle and flex ui, i am stuck at a point where i have to perform the following the operations form flex ui : 1) Upload scorm package 2) Upload users using CSV As i am not very good in php i need scripts which can help me do this without any session or user authentication. Any help on this would be greatly appreciated and thanks for all you can do.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 14, 2008, 6:39 AM",
          "AuthorName": "Mohammed Khan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=544614&course=5",
          "role": [
            "Picture of Mohammed Khan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Edit a course with java WS",
          "Text": "Hi, I hope it's the good place to ask this kind of question.... I would like to modify moodle objects (courses, users) throw a SOAP call in java. For instant, I'm able to request courses list, users in a course, .... But i want to modify a course (enrole a new student or a new teacher). I try to do this but it's not working... LoginReturn loginReturn = stub.login(\"xxxx\", \"yyyy\"); ... /* I login and take a CourseRecord object to realize my test*/ myCourse = ......... EditCoursesInput editedCourses = new EditCoursesInput(); /* this method, \"getCourseDatumFromCourseRecord\" create a CourseDatum object filled with all the given CourseRecord object values and set the action to \"update\" */ CourseDatum cD = getCourseDatumFromCourseRecord(myCourse); cD.setFullname(\"Ohh ca marche\"); CourseDatum[] coursesDatumArray = new CourseDatum[1]; coursesDatumArray[0] = cD; editedCourses.setCourses(coursesDatumArray); EditCoursesOutput returnCourses = stub.edit_courses(client, sesskey, editedCourses); System.out.println(returnCourses.getCourses().length); System.out.println( ((CourseRecord) returnCourses.getCourses()[0]).getFullname() ); System.out.println( ((CourseRecord) returnCourses.getCourses()[0]).getError() ); After that, my course is not edited... Is anybody has ever done the same operation?? Or possible i didn't understood the way to use the WS... Thanks for your help, Igor",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 7, 2009, 1:49 AM",
          "AuthorName": "Igor Barma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761633&course=5",
          "role": [
            "Picture of Igor Barma"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Edit a course with java WS",
          "Text": "Ohhh, sorry... I post the previous message too quickly!!! In fact i need to set the action value to \"Add\", \"Update\" or \"Delete\" with an uppercase... Now, I have an error: Could not update course: ID007 but it's better than nothing...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 7, 2009, 2:51 AM",
          "AuthorName": "Igor Barma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761633&course=5",
          "role": [
            "Picture of Igor Barma"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Edit a course with java WS",
          "Text": "OK, I found my problem. When I re-send the moodle course object to update it, my description was filled with a ' char and there's no quote operation on it. The SOAP request is ok and the WS server call the moodle lib update_record function as is. So I had a SQL syntax error...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 7, 2009, 7:48 PM",
          "AuthorName": "Igor Barma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761633&course=5",
          "role": [
            "Picture of Igor Barma"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, I'm a newbie in WS, but I'm needing to use it for Moodle authentication. This is how I need it to work: 1) The user will enter with his login and password on Moodle; 2) Moodle has to verify the information entered in another system (jsp); 3) If the data entered is correct, he has to be redirected to Moodle's index. If it's not, he has to go to the login page. Does OKTech Web Services support this? Another questions I have are related to storage of the user data: 4) Will it be stored on Moodle database? 5) If yes, do I always need to check if the data has been changed? 6) If not, how does it work? Sorry for my poor english and thanks a lot for any help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 4, 2009, 8:42 PM",
          "AuthorName": "Renato Jr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719018&course=5",
          "role": [
            "Picture of Renato Jr"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Renato, The Web Service do not deal with external authentification. Its main purpose is to export/import data from and to Moodle using an existing account , not to call an external Web Service. It is a WS server, not client... I think you should turn yourself to this page on Moodle Docs http://docs.moodle.org/en/Authentication Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 4, 2009, 10:19 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Patrick, i really need to use WS authentication. Today, i'm using the version 1.9.3+. I could see that version 2.0 includes WS authentications ( http://docs.moodle.org/en/Development:Web_services#Authentication ), but it expected mid-2009. So i have to create this auth's method, because i can't wait for the release version. Thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 5, 2009, 1:10 AM",
          "AuthorName": "Renato Jr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719018&course=5",
          "role": [
            "Picture of Renato Jr"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Renato, I think you misunderstood the term Web_services#Authentication in these pages. We are talking about authentification of a WS client to Moodle as server (to secure the server part on Moodle and check for capabilities to perform import/export of data) and not the other way around. Sorry.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 5, 2009, 2:10 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Sorry, the mistake was mine. Does it means that there is no development for user's authentication with WS? I thought there was.. Anyway, thanks for helping me. Renato",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 5, 2009, 3:53 AM",
          "AuthorName": "Renato Jr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719018&course=5",
          "role": [
            "Picture of Renato Jr"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I'm trying to get the web services package working on v1.9.4 of Moodle. Most things seem to be working correctly, but the get_grades method (which is critical for us) doesn't seem to work on 1.9. There are a couple (at least 2) methods that get_grades() is calling (grade_get_preferences, grade_get_formatted_grades) aren't there. After some digging, I found that they exist in grade/lib.php in Moodle v1.8, but they're not there in 1.9. Has anyone else experienced this? I tried doing some googling and searching of this forum and couldn't find anything. Is this method not supported in 1.9?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 9, 2009, 3:13 AM",
          "AuthorName": "Brian Mullaney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=845427&course=5",
          "role": [
            "Picture of Brian Mullaney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Moodle 1.9 introduced the gradebook, and so the API for getting grades has changed. Take a look at http://docs.moodle.org/en/Development:Grades to see how the gradebook can be used. It should be a simple matter to adapt the function to the new API according to your requirements.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 9, 2009, 4:10 AM",
          "AuthorName": "Hubert Chathi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=706541&course=5",
          "role": [
            "Picture of Hubert Chathi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, A modification to this Web Services was announced here (A Moodle-SIS Integration Project via Web services) http://moodle.org/mod/forum/discuss.php?d=102511 that includes among others things extraction of grades a la 1.9 I never had time to \"merge\" it with CVS since none of my servers having grades activated are running 1.9 ; they are still in 1.7 or 1.8 . The patch is for an old version off the Web Services but I think the grading part could be easily extracted and added to the current code If I implements it do you want to be a tester for that ? Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 9, 2009, 2:08 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "wsdl2php ERROR",
          "Text": "Hello Patrick, I'm trying to add some methods but when I run wsdl2php I get the following error: C:\\moodle\\server\\php>php.exe ../moodle/wspp/wsdl2php.php http://localhost:8080/w spp/wsdl_pp.php/a> Fatal error: Class 'SoapClient' not found in C:\\moodle\\server\\moodle\\wspp\\wsdl2php.php on line 88 Soap is enabled as phpinfo tells me. Any ideas? Thanks. Oscar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 15, 2009, 7:52 PM",
          "AuthorName": "Oscar Peli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=387770&course=5",
          "role": [
            "Picture of Oscar Peli"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "id vs. idfield",
          "Text": "I have a short question : A primary key in the table mdl_user is id (with autoincrement), idfield is optional field. In the file server.class.php -> function edit_user(..) -> case 'Update' there is a couple of rows: case 'Update': $userup = $user; $uid    = $userup->idnumber; ... $user = get_record('user', 'idnumber', $userup->idnumber); ... You try to get user record by means of optional field idnumber. is that correct?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 4, 2009, 6:41 PM",
          "AuthorName": "easy rider",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=888222&course=5",
          "role": [
            "Picture of easy rider"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Add new function in OkTech Web Service",
          "Text": "Hello, I do not know if the question was already asked, but I would like create a new function in my OkTech webservice . I'm working with moodle since 2 weeks and I want to create the function \"edit_section\" and \"enrol_teacher\" but I do not know what are the files in which implement these functions. In addition I do not know php that since 1 month. Thank you for your help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 19, 2009, 4:00 AM",
          "AuthorName": "Sébastien Massat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=899246&course=5",
          "role": [
            "Picture of Sébastien Massat"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add new function in OkTech Web Service",
          "Text": "To extends the WS check this http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/how-to-extend-moodle-web-services/ and this : http://moodle.org/mod/forum/discuss.php?d=102511 These two operations are implemented in another WS implementation : http://www.assembla.com/wiki/show/MoodleWSPourGenDep cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 19, 2009, 2:32 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add new function in OkTech Web Service",
          "Text": "Hello, some students at Polytech'Lille have integrated the web services developped at Lille ( http://www.assembla.com/wiki/show/MoodleWSPourGenDep ) in the web services developped at INSA Lyon ( http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/how-to-extend-moodle-web-services/ ) Where can I publish the results of this work ? Cheers. F. Hoogstoel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 19, 2009, 3:38 PM",
          "AuthorName": "Frédéric Hoogstoel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=196940&course=5",
          "role": [
            "Picture of Frédéric Hoogstoel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add new function in OkTech Web Service",
          "Text": "In the meantime, you can get the results (code + documentation) of the students work at : http://efidiles.plil.net/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 19, 2009, 3:43 PM",
          "AuthorName": "Frédéric Hoogstoel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=196940&course=5",
          "role": [
            "Picture of Frédéric Hoogstoel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add new function in OkTech Web Service",
          "Text": "I can't access your Web page. Kaspersky display a Trojan-Clicker.JS.Agent.gk error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 1, 2009, 1:27 AM",
          "AuthorName": "defus defus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=209670&course=5",
          "role": [
            "Picture of defus defus"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add new function in OkTech Web Service",
          "Text": "I have added some functionalities in Oktech WebService (add_sections, add_ressources, add_labels, assign_label_ressource_section, enrol_user_generics) I will put my work in the community Thanks for you help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 1, 2009, 11:28 PM",
          "AuthorName": "Sébastien Massat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=899246&course=5",
          "role": [
            "Picture of Sébastien Massat"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add new function in OkTech Web Service",
          "Text": "Hello Sebastien, Glad you have contributed. I shall release next week revision 1.6 where a great number of operations developped by PolyTech Lille will be added; Some of them seems to be also covered by your extension. I think we should synchronize their additions and your .. see this discussion http://moodle.org/mod/forum/discuss.php?d=126195 Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 2, 2009, 4:13 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add new function in OkTech Web Service",
          "Text": "Yes the site http://efidiles.plil.net/moodle9/moodle/ , which is not mine, has definitively be hacked . If you peek into source code (with a Linux based navigator not sensible to this trojan ), you shall see some hidden iFrames pointing to some sites in .ru domain ! I have contacted his maintainer ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 2, 2009, 4:52 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add new function in OkTech Web Service",
          "Text": "Hi Patrick, Great work on modifying and maintaining OKTech web services. Two years back I used your web services with VS 2005 and now I am trying to use more functions. I tried ver. 1.5.16, it works and looking for more. Are you planning to release new version (1.6) any time soon? Thanks, Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2009, 5:13 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello there, I've just installed the the code dowloaded from \" http://download.moodle.org/patches/ws.zip \" and it appears to work. I can create courses, get users information. But... When I try to enrol a student in a course using the method \"enrol_students\", it doesn't work. After we call this method, the user appears in the course's participant list, but Moodle keep asking for course's enrolment key. Is that indeed the lastest version? (The file RELEASE.txt state it is version 1.5.5) Any hints? Thanks in advance, Junior",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 8, 2009, 9:57 PM",
          "AuthorName": "Wanderlei Junior",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=926700&course=5",
          "role": [
            "Picture of Wanderlei Junior"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Junior, here is the latest version link http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/ It works for me when I try to enrol a student. I am using VS 2008 C#. -Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 13, 2009, 1:41 AM",
          "AuthorName": "Mahesh Thoppae",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=272681&course=5",
          "role": [
            "Picture of Mahesh Thoppae"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Thank you Mahesh! I think the issue was my Moodle installation. I've reinstalled it and the enrolment using the web service has worked! Thank you for your reply, I will try to use this version. Junior.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 13, 2009, 2:39 AM",
          "AuthorName": "Wanderlei Junior",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=926700&course=5",
          "role": [
            "Picture of Wanderlei Junior"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "OK Tech Web Services : new release",
          "Text": "Hello , I am annoncing here the new release, tagged 1.6 today. version 1.6 19/10/2009 download Major rewriting 104 functions calls and 76 custom datatypes see javadoc http://prope.insa-lyon.fr/~ppollet/moodlews/java/javadoc/ and espcially class MoodleWSBindingStub Moodle 1.9.5 compatible added operations by Lille team : thanks to Frédéric Hoogstoel, and his students : Amaury Rosart et Maxime Leu, en projet de 4ème année de formation d'ingénieur à Polytech'Lille, département IMA . Gabriela Fedor, Eduard Fidiles et Gabriel Tirnovan, étudiants roumains de l'université Stefan cel Mare de Suceava en stage internationalization possible with an lang/xx_utf8_local/wspp.php file returns dates in both unix time stamp and localized strings moodle < 1.7 not anymore supported change to get_grades to support new Moodle 1.9 gradebook better support of roles & capabilities (filtering functions moved to filterlib.php) support of groups and groupings added add , delete and update_ operations that accept only one item (course, user,group, grouping ...) instead of using the still supported edit___ operations that require an array of items, even if only one is to be processed. removed all deprecated calls (isadmin(), isteacher() .... session timeout and global access set in $CFG usage of global $USER set properly in validate_client and used in capabilty checking admin settings screen for basic configuration (see file admin/wspp.php for instructions) log all operations in Moodle's log as per some CFG entries removed all ob_* functions (managed globally at mdl_soapserver.class level) better internal error output within xml stream (see mdl_sopaserver.class send method) get_my_courses and get_users_bycourse now return the \"primary role of requested user\" (1 admin, 2 creator, 3 teacher ...) entity identifier field added in all operations (except get_my_courses that still use Moodle internal id, see get_my_courses_byxxxx for other calls . moved the wsdl code to an XML file, thus allowing easier extensions using a dedicated editor Updated documentation is at the usual place. http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews This revision will hit the Moodle's CVS in a few days. Enjoy.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 19, 2009, 8:44 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OK Tech Web Services : new release",
          "Text": "Hi, i'm trying to set up the 1.6 moodleWS, but i got this error and i have no clue how to resolve this issue. X:\\SOFT\\xampp\\htdocs\\wspp\\clients>X:\\SOFT\\xampp\\php\\php.exe ../wsdl2php.php http://localhost/wspp/wsdl_pp.php SoapFault exception: [WSDL] SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://localhost/wspp/wsdl_pp.php' : Premature end of data in tag definitions line 2 in X:\\SOFT\\xampp\\htdocs\\wspp\\wsdl2php.php:88 Stack trace: #0 X:\\SOFT\\xampp\\htdocs\\wspp\\wsdl2php.php(88): SoapClient->SoapClient('http://localhos...') #1 {main} I can run php wsdl2php.php moodlewsdl.xml successfully , but when i try to run some test client i got similar error as above and SoupUI also doesnt work. Thx for advice.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2009, 2:09 AM",
          "AuthorName": "Michal Hruby",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1007583&course=5",
          "role": [
            "Picture of Michal Hruby"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OK Tech Web Services : new release",
          "Text": "Michal, The wspp directory (the server part) MUST be at the first level of your Moodle installation. So your must unzip it inside it and the correct URL should likely be : http://localhost/moodle/wspp/wsdl_pp.php To use wsdl2php.php, just copy it anywhere else (not in the xamp/htdocs) or on another machine. see http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/wsdl2php/ Just replace 'moodle' by the real name of that directory in case your installed it elsewhere Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2009, 6:54 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OK Tech Web Services : new release",
          "Text": "Patrick, I'm now running moodle under ubuntu. I followed all steps in your readme. All is working but when i want to try some test clients (ppdemo,test_login and so on) I got this error: I was trying all what i had on my mind but nothing help Fatal error : Uncaught SoapFault exception: [SOAP-ENV:Server] [[ws_accessrestricted ]] in /var/www/moodle/wspp/clients/MoodleWS.php:368 Stack trace: #0 /var/www/moodle/wspp/clients/MoodleWS.php(368): SoapClient->__soapCall('login', Array, Array) #1 /var/www/moodle/wspp/clients/tests/test_login.php(11): MoodleWS->login('jozko', 'jozko') #2 {main} thrown in /var/www/moodle/wspp/clients/MoodleWS.php on line 368 BTW: I dont exactly understand why there is duplicite clients and servers files in wspp directory? Why we call MoodleWS.php in clients directory instead of that in the server directory? Sorry for my dump questions Thx much.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "http://moodle.org/pix/s/smiley.gif"
          ],
          "Time": "Tuesday, October 27, 2009, 11:42 AM",
          "AuthorName": "Michal Hruby",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1007583&course=5",
          "role": [
            "Picture of Michal Hruby"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OK Tech Web Services : new release",
          "Text": "Michal, By default Version 1.6 blocks access (err [ [ws_accessrestricted] ] ) . You have two solutions : 1) install the \"admin settings \" part see comment atop file wspp/admin/wspp.php by adding the line require(\"$CFG-> dirroot /wspp/admin/wspp.php\"); inside the file moodle/admin/settings/misc.php just before this line // hidden scripts linked from elsewhere Then go to Administration of your site and you should find a new Folder OK Tech Web services under the misc folder... there you can unckeck the option ws_enforceipcheck, and play with other options. 2) better, keep it checked and add using phpmyadmin the ip addresses of authorized clients in the table mdl_webservices_clients_allow at least one record with ip=127.0.0.1 and maybe another one with the real ip address of the machine having the client part. I also notice that the err string in between [ [ ] ], that mean that you forgot to copy the language file wspp/lang/fr_utf8/wspp.php into you moodledata/lang/xx_utf8 or better into a folder named moodledata/lang/xx_utf8_local , so it won't be destroyed by future languages packs Moodle upgrades. (replace xx with your country code) Good luck Edit : I take note of removing this security setting in forthcoming v 1.6.1, that has an auth plugin specific for Web Services, thus avoiding to disclose an admin login/password to developpers of external information systems. BTW : forget pp_demo_*.php scripts and use test scripts in clients/tests directory (cleaner and simpler) For you second question, you will notice that files MoodleWS.php in wspp and in wspp/clients are different in size. The first one in only a long serie of requires for the server part and should not be changed (unless you modify the webservice, see script wspp/mkclasses.sh) . The second one has also all the methods needed by the clients and is generated by the wsdl2php utility to match the real address of you Moodle site. I put it into the clients directory as samples, but normally this should be removed from production server and should be regenerated on \"real client machines\" (see again wspp/clients/mkclasses.sh). Finally , your questions are not dumb, it is my documentation that is poor",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, October 27, 2009, 5:28 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OK Tech Web Services : new release",
          "Text": "hello again, Please find attached the missing INSTALL file that will be released with rev 1.6.1 in few days.. Comments and corrections are welcome Cheers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, October 27, 2009, 7:15 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OK Tech Web Services : new release",
          "Text": "Hello can anyone help me regarding this api, how can i use the add_user command? this is the sample i have: userDatum userData = new userDatum(); userData.username = username; userData.auth = \"manual\"; userData.firstname = firstName; userData.lastname = lastName; userData.confirmed = \"1\"; userData.email = emailAddress; userData.policyagreed = \"1\"; userData.passwordmd5 = pwdMD5; MoodleWService.add_user(\"0\", \"\", userData); i am getting error \"Invalid client connection\". Any help would do a lot!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 5, 2010, 11:02 PM",
          "AuthorName": "Razvan Musca",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1058588&course=5",
          "role": [
            "Picture of Razvan Musca"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Use OKTech Web Services en .NET (C#)",
          "Text": "Me descargue las librerias OKTech y la uso en .NET y todo va muy bien pero aun no entiendo la estructura. Me gustaria que me ayudarán con lo siguiente: Quiero que mediante .NET pueda hacer login como profesor y me regrese los cursos que tiene y luego los alumnos que tiene en el curso. Si tienen alguna aplicación de ejemplo, les agradeceria bastante. Les adjunto para que descarguen mi aplicación. Moodle and .NET http://www.megaupload.com/?d=J69DVWO0 Saludos. PD: lo subi en megaupload porque solo se permite 100kb.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2010, 10:29 AM",
          "AuthorName": "Alonso Uribe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912554&course=5",
          "role": [
            "Picture of Alonso Uribe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use OKTech Web Services en .NET (C#)",
          "Text": "Hola Alonso, El proyecto Lightwork ( http://lightwork.massey.ac.nz ) ocupa las librerias OKTech para hacer lo que usted quiere hacer. Se puede conseguir el codigo en el archivo lightwork-*-moodle.zip en http://lightwork.massey.ac.nz/projects/list_files/fat . Los web services se encuentran en moodle/local/lightwork/ws/. Si tiene alguna pregunta, se puede agregarla en la pagina forums. Saludos, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2010, 12:49 PM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use OKTech Web Services en .NET (C#)",
          "Text": "Muchas gracias por contestar @Paul Charsley pero no pude publicar los WS de Lightwork. Donde puedo encontrar ejercicios para integrar los WS con .NET, se lo agradeceria mucho. Hasta luego. Saludos.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2010, 3:36 PM",
          "AuthorName": "Alonso Uribe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912554&course=5",
          "role": [
            "Picture of Alonso Uribe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use OKTech Web Services en .NET (C#)",
          "Text": "@Paul Charsley sigo interesado en el tema. Espero pronto su respuesta, gracias. Saludos.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2010, 7:32 AM",
          "AuthorName": "Alonso Uribe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912554&course=5",
          "role": [
            "Picture of Alonso Uribe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use OKTech Web Services en .NET (C#)",
          "Text": "Cómo puedo aprender usar los servicios web de OKTech Web Services utilizando .NET?. No encontré algun manual, me podrían ayudar. saludos.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 20, 2010, 8:14 AM",
          "AuthorName": "Alonso Uribe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912554&course=5",
          "role": [
            "Picture of Alonso Uribe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Ok, I think I have installed and configured everything correctly. However, when I try to run the test script /wspp/clients/tests/test_get_roles.php I get the following error: Fatal error : Uncaught SoapFault exception: [SOAP-ENV:Server] web service access not allowed for your ip address xx.143.8.234. in /web/sites/commonwealth.xx.net/html/magento/moodle/wspp/clients/MoodleWS.php:378 Stack trace: #0 /web/sites/commonwealth.xx.net/html/magento/moodle/wspp/clients/MoodleWS.php(378): SoapClient->__call('login', Array, Array) #1 /web/sites/commonwealth.xx.net/html/magento/moodle/wspp/clients/tests/test_get_roles.php(12): MoodleWS->login('admin', 'xx') #2 {main} thrown in /web/sites/commonwealth.xx.net/html/magento/moodle/wspp/clients/MoodleWS.php on line 378 Note that I replaced some items with 'xx' just to retain that air of mystery I can see the wsdl, the login credentials for MoodleWS->login are my admin credentials which I know work fine. Also, I have ws_enforceipcheck unchecked in the admin under webservices . Any ideas? Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, April 20, 2010, 3:41 AM",
          "AuthorName": "Elliot Rapp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1129415&course=5",
          "role": [
            "Picture of Elliot Rapp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Problems install OKTech Web Services in moodle19",
          "Text": "Hi buddies, My problem is this, I would like to help me with the installation and configuration of the module OKTech Web Services (ws.zip), unzipped it and agregre in \"moodle19/mod/ws\", then we will try to activate it in the Link \"Notifications\", but when you clip gives me the following error \"Module\" WAS \"is Not readable - check permissions.\" In advance we thank you for the help they can provide.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 23, 2010, 6:45 AM",
          "AuthorName": "Jorge Fierro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1133169&course=5",
          "role": [
            "Picture of Jorge Fierro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems install OKTech Web Services in moodle19",
          "Text": "Greetings Jorge. The OKTech solution is not a module so does not go into your /mod/ folder. You need to re-read the installation instructions, looks like you can read them here.. http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 23, 2010, 9:36 AM",
          "AuthorName": "Dean Stringer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=284947&course=5",
          "role": [
            "Picture of Dean Stringer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Problems with enrol_students",
          "Text": "Ok, I am struggling with enrol_students. I have moodle set up and working and am able to get some of other other test calls to work correctly (add_user for example). However, I can't get enrol_students or get_users_bycourse to work correctly. For enrol_students I am confused by these parameters: * @param string $courseid * @param string $courseidfield * @param (enrolStudentsInput) array of string $userids * @param string $useridfield Is the array supposed the integer id's for those users (i.e. '3') or is it supposed to be their username (i.e. \"bobsmith\")? Also, what are the courseidfield and useridfield supposed to be? Sorry, I don't see any explanations and am also trying to get this hooked up to Magento. I'm looking through the db and trying every combination, but so far no luck. Thanks, Elliot",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 5, 2010, 10:54 PM",
          "AuthorName": "Elliot Rapp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1129415&course=5",
          "role": [
            "Picture of Elliot Rapp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with enrol_students",
          "Text": "Ok. I got it to work. This always happens. Figure it out ten minutes after you post on the forum.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 5, 2010, 11:23 PM",
          "AuthorName": "Elliot Rapp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1129415&course=5",
          "role": [
            "Picture of Elliot Rapp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with enrol_students",
          "Text": "Hi, In every call to the web service the field xxxxidfield , if present, states what db field you want to use to identify the target entity xxxx (says course, user, group....). If absent it is implied that the entity will be identified by its Moodle internal id ( group, groupings, activities...). When you plan to 'update Moodle', It should be the name of an unique field such as id, idnumber (for user or course), shortname (for course), username or email (for user) ... so you may call enrol_students with a wide combination such as #using Moodle internal ids enrol_students (2,'id', array (1,2,3), 'id') # and course shortname enrol_students ('chem101','shortname', array (1,2,3), 'id') #or course idnumber enrol_students ('thecourseidnumber','idnumber', array (1,2,3), 'id') the students can also be specified by username enrol_students ('thecourseidnumber','idnumber', array ('jdoe','psmith'), 'username') or email enrol_students ('chem101,'shortname', array ('jdoe@amce.com',....), 'email') or students idnumber ... When you call Web Service get_xxxx operations, the idfield does not even have to be unique such as # get all users with Paul as firstname get_users(array('paul'),'firstname') # or get all users flagged as deleted get_users(array(1),'deleted') Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 5, 2010, 11:56 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with enrol_students",
          "Text": "Patrick and others, I have a follow up question about add_user. I am calling this from magento and need to be able to create users based on the info available. I can do this but at the moment it appears as though we have to call setIdnumber for userDatum. This is problematic because I have to figure out the current highest ID for all users in the system and then add one as I don't have any magical number to assign to them. So far I haven't found any easy work around to accomplish what is basically just asking the system to set the next available ID. Am I missing something? Thanks, Elliot",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2010, 10:44 PM",
          "AuthorName": "Elliot Rapp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1129415&course=5",
          "role": [
            "Picture of Elliot Rapp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with enrol_students",
          "Text": "Hi Eliot, Glad to learn that magento do speak with Moodle across this Web Service. Actually the idNumber is required by the WebService since it is in most external applications the only unique and reliable way to identify an user (e.g. student ID, social security number...), much more reliable that a login... But, fortunately Moodle stores that idNumber in a varchar() field so it could be anything, even not a real number, as long as it is UNIQUE ... and Moodle never use it (it just display it from time to time) . But the Web Service uses it as the default way to identify an entity (user, course ...) when you want to modify or delete it. Why not setting idnumber to be equals to magento's Login or even Magento's email ? That should be unique enough... something like : [code] $user= new userDatum(); ... $user->setUsername('your magento login'); $user->setPasswordmd5('your magento md5 password so it will be the same in moodle if password salt are not enabled in Moodle !! '); $user->setIdnumber(' again your magento login '); $user->setFirstname(' your magento first name '); $user->setLastname(' your magento last name'); $user->setEmail(' your magento email '); $res=$moodle->add_user($lr->getClient(),$lr->getSessionKey(),$user); [/code] That should please the Web Service and make you happy Cheers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, June 11, 2010, 12:07 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with enrol_students",
          "Text": "That is exactly the type of solution that I was looking for. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2010, 1:27 AM",
          "AuthorName": "Elliot Rapp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1129415&course=5",
          "role": [
            "Picture of Elliot Rapp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with enrol_students",
          "Text": "Patrick, I have another follow up. This one is a little different. I move the entire \"clients\" folder to my Magento install and am using the code in a module which fires off a given event. The direct SOAP calls work fine, for example: require_once ('clients/MoodleWS.php'); $moodle=new MoodleWS(); $client = new SoapClient(\"http://oursite/magento/moodle/wspp/wsdl_pp.php\"); $results = $client->login(\"foo\", \"foo\"); $res=$client->count_users_bycourse($results->client,$results->sessionkey, $idcrse,'shortname',0); $usernametotest = $currentCustomerEmail; $coursename = \"coursefoo\"; $userObjArray=$client->get_user_byusername($results->client, $results->sessionkey,$currentCustomerEmail); $userarray = (array)($userObjArray->getUsers()); The above works fine until I get to $userObjArray->getUsers() which results in the following error: Fatal error : Call to undefined method stdClass::getUsers() What am I missing here? Thanks! Elliot",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2010, 10:12 PM",
          "AuthorName": "Elliot Rapp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1129415&course=5",
          "role": [
            "Picture of Elliot Rapp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with enrol_students",
          "Text": "Eliot, You should not do it that way. the variable $moodle that your create by $moodle= new MoodleWS() MUST be used to call the Web Service . Do not use a SoapClient() which is too basic and do not convert complex datatypes returned by WSPP to PHP classes... Actually you created the variable $moodle but never use it so your calls to $client->login() and $client->count_users_bycourse($results->client,$results->sessionkey, $idcrse,'shortname',0); seems to work because they return simple data that are mapped to a StdClass by SoapClient and you later get their attributes ($results->client,$results->sessionkey) but the call get_user_byusername() returns an array of UserReturn instances and the SoapClient returns it as a simple StdClass with the attribute $users properly filled but not the method GetUsers(). I guess you can get the returned user by calling : userarray = (array)($userObjArray->$users); What you should do (see in clients/tests directory the script named test_get_user_byusername) [code] <?php require_once ('../MoodleWS.php'); $moodle=new MoodleWS(); require_once ('../auth.php'); /**test code for MoodleWS: Get user info from Moodle user login * @param integer $client * @param string $sesskey * @param string $userinfo * @return getUsersReturn */ $lr=$moodle->login(LOGIN,PASSWORD); $res=$moodle->get_user_byusername($lr->getClient(),$lr->getSessionKey(),'someusername'); print_r($res); print($res->getUsers()); $userarray = (array)($res->getUsers()); $moodle->logout($lr->getClient(),$lr->getSessionKey()); ?> [/code] The appropriate MoodleWS.php script (adapted to your Moodle server) is to be generated ONCE by calling from somehere php path/to/moodle/wspp/wsdl2php.php http://yourmoodleserver.org see the INSTALL file shipped with WSPP. Cheers. php",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Saturday, June 12, 2010, 5:00 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with enrol_students",
          "Text": "Patrick, Thanks so much for the help. I guess I will have to continue to break down the array to access the individual elements (in particular 'error' to check for no match). One question, why is this returned as a collection of users? I thought a username in Moodle was unique? Or is userinfo more generic? Thanks, Elliot",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 14, 2010, 11:11 PM",
          "AuthorName": "Elliot Rapp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1129415&course=5",
          "role": [
            "Picture of Elliot Rapp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problems with enrol_students",
          "Text": "> why is this returned as a collection of users? It is a deliberate choice of conception to keep the size of the wsdl file to a minimum. All get_xxxx return an array of record(s), even if only one is found or if it is obviously unique. actually get_user_byusername() is a convenience operation that calls internally the much more powerful get_user/get_users operations that accept almost any single criteria. So no surprise that the result is always an array. i.e. // return these users (some of them may have error not empty if username is not found) get_users($lr->getClient(),$lr->getSessionKey(), array('me','you','nobody'), 'username'); you may also use this one ( no need to put the criteria in an array) , and should get an array of users whose firstname is patrick : get_user($lr->getClient(),$lr->getSessionKey(), 'patrick', firstname'); what's the point ? I don't know, maybe send them a greeting card on 17th of March ;) >(in particular 'error' to check for no match). yes the error field is extremely important and is always filled in case of trouble. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 14, 2010, 11:43 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "hello friends .. I am testing the web services /wspp/clients/tests/test_get_all_forums.php of Web Services in moodle19 OKTech parameters required to obtain such information are: / ** Test code for MoodleWS: Get All Forums * @ Param integer $ client * @ Param string $ sesskey * @ Param string $ fieldname * @ Param string $ fieldvalue * @ Return getAllForumsReturn * / The @ param integer $ client, and @ param string $ sesskey will get them from the function $ Lr = $moodle->login($username,$password); until this works correctly, but the problem is with the last 2 get_all_forums function parameters (,, $fieldname,$fieldvalue) as the information obtained for the forums. $ Res = $moodle->get_all_forums ($ lr->getClient (), $ lr->getSessionKey (),'',''); What should be the values for the parameters * @ Param string $ fieldname * @ Param string $ fieldvalue Another question as you can get using a Web services forums a particular course. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 7, 2010, 1:05 AM",
          "AuthorName": "Jorge Fierro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1133169&course=5",
          "role": [
            "Picture of Jorge Fierro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Jorge, If you peek at source code in wspp/server.class.php (all real operations are performed there) you will see that : - all get_all_xxx operations are simple wrappers to a get_records call with the appropriate search criteria, followed by a call to a filter_xxxx function that remove all results that the currently looged in user has no capacity to see , so : - if the two parameters $fieldname and $fieldvalue are left empty, you will get all forums that user can see on the all Moodle site - otherwise it will return all forums matching the criteria : $fieldname is the name of the column to test in the appropriate table and $fieldvalue the value to search so get_all_forums( $ lr->getClient (), $ lr->getSessionKey (),'id',36) will return the forum with id 36 get_all_forums( $ lr->getClient (), $ lr->getSessionKey (),'course',36) will return all seeable forums of course 36 get_all_forums( $ lr->getClient (), $ lr->getSessionKey (),'type','news') will return all seeable forums of type News and so on ... Of course appropriate fieldvalue do depend of the table to search (label, assignment, database,quiz,chat,wiki ....). Typical use is definitively with fieldname='course' and fieldvalue= the Moodle course id (previously retrieved by some call to get_my_courses () or similar... Alternatively you may use the call public function get_instances_bytype($client, $sesskey, $courseids, $idfield = 'idnumber', $type) that will return all 'seeable' activities of a given type ('forum', 'database','chat' ....) of an array of given courses identified by $idfield = $icourseid such as \n```text\n//return all forums of course whose idnumber is chem101\n```\n \n```text\n get_instances_by_type(\n$ lr->getClient (), $ lr->getSessionKey (),array('chem101'),'idnumber','forum')\n```\n \n```text\n\n```\n Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 7, 2010, 2:35 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Patrick Pollet Thank you for your contribution, I was able to get it the forums of course. Using your post where the parameters are described in order to use the function get_all_forums (). Using web services got the information the forum A question for the forum to get it in discussions Example: getAllForumsReturn Object ([forums] => Array ([0] => stdClass Object ([error] => [id] => 11 077 [course] => 23 266 [type] => single [name] => \"Theme discucion \"[intro] => \"Comments l\". A question for the replicas of the forum: id = 11 077 .... In this forum there are N replicas of students to obtain the replicas that feature is used. Mood Using the address that allows access to the replicas is: mod / forum / discuss.php about, but with the use of which would be web services. Thanks for help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 7, 2010, 11:43 PM",
          "AuthorName": "Jorge Fierro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1133169&course=5",
          "role": [
            "Picture of Jorge Fierro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Sorry but I do not understand what you mean by replicas ? Currently there are no Web Services operations to fetch forum posts nor to post a message to it... Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 8, 2010, 7:04 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello Patrick Pollet .. I would like to help me with some idea how I can get a list of all the responses that students have led to a proposed forum. By consulting the database on the Moodle working. Maybe if you know of any Web Servies that implements this function. Please Tell me. Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 11, 2010, 5:47 AM",
          "AuthorName": "Jorge Fierro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1133169&course=5",
          "role": [
            "Picture of Jorge Fierro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Patrick, can you help me? I have the following issue: If I call this url http://mysite/moodle/wspp/wsdl_pp.php I get the correct XML file If I call this url http://mysite/moodle/wspp/service_pp.php I get the following error: WSDLSOAP-ERROR: Parsing WSDL: Couldn't load from 'http://mysite/moodle/wspp/wsdl_pp.php' : failed to load external entity http://mysite/moodle/wspp/wsdl_pp.php Some suggestions? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 13, 2010, 11:49 PM",
          "AuthorName": "Oscar Peli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=387770&course=5",
          "role": [
            "Picture of Oscar Peli"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "revision 1.6.4 is out",
          "Text": "hello, Revision 1.6.4 has been committed today to Moodle 's CVS and project's page http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews version 1.6.4 26/05/2010 download added security cleaning of parameters for login operation and all $client and $sessionkey sent to subsequent operations added support for custom profile fields all get_user* operations now return the user's custom field profiles in an extra array added operation get_users_byprofile($client,$sesskey,$profilefieldname,$profilefieldvalue) returning users having some value in a custom profile field such as $res=$moodle->get_users_byprofile($lr->getClient(),$lr->getSessionKey(),\"groupePC\",\"99\"); added operation set_user_profile_values ($client,$sesskey,$userid,$useridfield,$values) allowing to set one or several custom profile fields for an user identified by $useridfield=$userid version 1.6.3 13/04/2010 download added get_courses_search operation, returning a list of courses having some strings in fullname, shortname, description or idnumber. Enjoy. sample php code of set_user_profile_values (see clients/tests/test_set_user_profile_values.php.sav) : that is set existing custom fields groupePC (type text) to 0, typeUser (type menu) to enseignant and prof (type chcekbox) to 1 : \n```text\nrequire_once ('../MoodleWS.php');\n$moodle=new MoodleWS();\nrequire_once ('../auth.php');\n$lr=$moodle->login(LOGIN,PASSWORD);\n$values=array(new profileitemRecord('groupePC','0'),\n new profileitemRecord('typeUser' ,'enseignant'),\n new profileitemRecord('prof' ,'1'));\n$res=$moodle->set_user_profile_values($lr->getClient(),$lr->getSessionKey(),'somelogin','username',$values);\nprint_r($res);\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 26, 2010, 9:09 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Dear all, I have installed OK Tech 1.6.5 in moodle 1.9 I have tested it using scripts in tests folder. I got a problem here. I tried test_get_courses.php, test_get_sections.php, and test_get_resources.php. The first one is just fine. It shows all courses in my moodle. I tested it from local server and remote clients. But for the rest ( sections and resources), I got only one row when I tested it in remote clients but they work fine in local server. Why did it happened? Please tell me how to resolve this issue. I really appreciate any help. Thank you. Regards, Luph.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 21, 2010, 10:04 AM",
          "AuthorName": "Lailatul Hidayah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=961049&course=5",
          "role": [
            "Picture of Lailatul Hidayah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I replied to my own post. I thought this is about parameter issue. in test_get_resources.php , it needs : /**test code for MoodleWS: Get resources in courses * @param integer $client * @param string $sesskey * @param (getCoursesInput) array of string $courseids * @param string $idfield * @return getResourcesReturn */ then they are called in : $res=$moodle->get_resources($lr->getClient(),$lr->getSessionKey(),$courseids,''); what I confused is how to fill $courseids. Before that line, it is $courseids=array(); but I get no resources, all I got when I called this file is : getResourcesReturn Object ( [resources] => Array ( [0] => stdClass Object ( [error] => noressources [id] => 0 [name] => [course] => 0 [type] => [reference] => [summary] => [alltext] => [popup] => [options] => [timemodified] => 0 [section] => 0 [visible] => 0 [groupmode] => 0 [coursemodule] => 0 [url] => [timemodified_ut] => ) ) ) Array although indeed I have made sure that there are any resources in my moodle table. How should I resolve this? Thank you for any replies.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2010, 4:51 PM",
          "AuthorName": "Lailatul Hidayah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=961049&course=5",
          "role": [
            "Picture of Lailatul Hidayah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, the code get resources <?php require_once ('../MoodleWS.php'); $moodle=new MoodleWS(); require_once ('../auth.php'); /**test code for MoodleWS: Get resources in courses * @param integer $client * @param string $sesskey * @param (getCoursesInput) array of string $courseids * @param string $idfield * @return getResourcesReturn */ if( $_SERVER['argc'] == 3 ) { $username= $_SERVER['argv'][1]; $password= $_SERVER['argv'][2]; $course= $_SERVER['argv'][3]; } else { $username = $_GET['username']; $password = $_GET['password']; $course= $_GET['courseid']; } $arrayF=array('id','name','course','reference','url','timemodified_ut'); $lr=$moodle->login($username,$password); $courseids=array(); $res=$moodle->get_resources($lr->getClient(),$lr->getSessionKey(),'course',$course); foreach ($res->getResources() as $arra) { if (!$arra->error) { foreach($arrayF as $field) { $a=$arra->$field.\"|\"; print($a); } print(\"\\n\"); }else { print(\"$arra->error\\n\"); } } $moodle->logout($lr->getClient(),$lr->getSessionKey()); ?> Student's overwhelming resources separated by subject | I hope you serve ..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2010, 11:12 PM",
          "AuthorName": "Jorge Fierro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1133169&course=5",
          "role": [
            "Picture of Jorge Fierro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Jorge, It's very nice to see your reply. Thank you. I had tried it and I think it worked since it comes out with a result, but the problem is that it is not my resource list. All I got is like this : noressources I have ensure that I do really have resources in my tables. So maybe this is not about parameter issue. And I think there is nothing wrong with my client-server connection since if succeed tried test_get_courses and test_get_roles. Is there any possibility that it is about authentication? courses and roles are items that don't ask user to log in to view, but resources did, only registered users can see. But in the code we have supplied login, so, what is this about?? So confusing for me... Thanks for any help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2010, 7:29 AM",
          "AuthorName": "Lailatul Hidayah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=961049&course=5",
          "role": [
            "Picture of Lailatul Hidayah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, I suspect that the account your are using to login to the web service has no capabilities to see any courses, thus the answer 'noressources' .There is no problem of communication since you got answer, but with the error field not empty. For testing purposes you should use an account with admin privileges. In that case, calling get_resources with an empty $courseids array (and a blank $courseidfield) should returns you ALL ressources in all courses, so an array with quite many entries. That's exactly the default values set in the script test_get_resources.php @jorge : your parameters are wrong \n```text\n$courseids=array();\n```\n \n```text\n$res=$moodle->get_resources($lr->getClient(),$lr->getSessionKey(),'course',$course);\n```\n it should be \n```text\n$courseids=array(1,2,3);\n```\n \n```text\n$res=$moodle->get_resources($lr->getClient(),$lr->getSessionKey(),$courseids,'id');\n```\n this will return ressources visibles to logged-in user in courses whose ids are 1 2 or 3 or \n```text\n$courseids=array('ashortname');\n```\n \n```text\n$res=$moodle->get_resources($lr->getClient(),$lr->getSessionKey(),$courseids,'shortname');\n```\n returns visible resources in course whose shortname is ashortname Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2010, 9:09 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Patrick, Thank you for your contribution.I have checked my auth.php to see the user. And It was actually user with admin privileges. I am so curious about this issue.I have tried to reinstall this OKTech but the result is just the same... Best, Lailatul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 27, 2010, 11:10 PM",
          "AuthorName": "Lailatul Hidayah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=961049&course=5",
          "role": [
            "Picture of Lailatul Hidayah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, Is it possible to return every grade item in a course using the OKTech web services? I have the 'get_grades' and 'get_user_grades' functions working but they seem to only return the course total grade. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 20, 2010, 8:56 PM",
          "AuthorName": "Eddie Walsh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1179014&course=5",
          "role": [
            "Picture of Eddie Walsh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, I'm too having problems with fetching grades from moodle. I'm using the \"base\"-webservice. I'm trying to call method mdl_soapserver.get_grades with php-built-in-soap-client but it always returns 16 empty objects. It doesn't matter how I define the parameters. Does anybody have any suggestions? Here's my code: try{ $client = new SoapClient(\"http://localhost/moodle/ws/service.php?type=soap&wsdl\"); $params = array(); $params[\"username\"] = \"username\"; $params[\"password\"] = \"password\"; echo \"<pre>\"; var_dump($client->__getFunctions()); //print_r($params); $login_response = $client->__soapCall(\"mdl_soapserver.login\", $params); $grade_params = array(); $grade_params[\"client\"] = $login_response->client; $grade_params[\"sesskey\"] = $login_response->sessionkey; $grade_params[\"userid\"] = \"4\"; $grade_params[\"courseids\"] = array(2,3); //$grade_params[\"idfield\"] = \"category\"; $grade_response = $client->__call(\"mdl_soapserver.get_grades\", $grade_params); print_r($grade_response->grades); //var_dump($grade_response); $logout_response = $client->__soapCall(\"mdl_soapserver.logout\", array(\"client\"=>$login_response->client, \"sessionkey\"=>$login_response->sessionkey)); if ($logout_response) { echo \"<br />Logout succesfull\"; } }catch(SoapFault $soa) { echo \"Error: \".$soa->getMessage(); }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 23, 2010, 5:59 PM",
          "AuthorName": "Raine Pyssysalo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1200743&course=5",
          "role": [
            "Picture of Raine Pyssysalo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, Your syntax to call the Web Service looks strange to me... You should use an object-oriented syntax which is more simple ! see the sample script in clients/tests/test_get_grades.php (see the file INSTALL.TXT to create them) require_once ('../MoodleWS.php'); $moodle=new MoodleWS(); require_once ('../auth.php'); /**test code for MoodleWS: Get User Grades in some courses * @param integer $client * @param string $sesskey * @param string $userid * @param string $userfield * @param (getCoursesInput) array of string $courseids * @param string $courseidfield * @return getGradesReturn */ $lr=$moodle->login(LOGIN,PASSWORD); $courseids=array(); $res=$moodle->get_grades($lr->getClient(),$lr->getSessionKey(),'','',$courseids,''); print_r($res); print($res->getGrades()); $moodle->logout($lr->getClient(),$lr->getSessionKey()); In your case , I suspect that the values 2,3 used for courses are Moodle ids (and not the default idnumber) and the value 4 for the user is also Moodle's id and not idnumber so the central call should be $courseids=array(2,3); $res=$moodle->get_grades($lr->getClient(),$lr->getSessionKey(),'4','id',$courseids,'id'); Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 30, 2010, 7:01 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Eddie, No, it is not possible yet and would be difficult to implement due to the wide variety of possible grades (format, hidden...) and calculation method used in Moodle. I guess you can do it \"manually\" by exporting the gradebook to some spreadsheet format ... Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 30, 2010, 7:04 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Enrolling students using Java",
          "Text": "Hi all, i want to enrol a student in course using java. I' am not able to init EnrolStudentsInput. does any one have a sample xml for EnrolStudentsInput This is my code public void enrollStudent() { EnrolStudentsDocument enrolldoc = EnrolStudentsDocument.Factory.newInstance(); EnrolStudents enrol= enrolldoc.addNewEnrolStudents(); String xmlinput=\"<enrolStudentsInput xmlns:ns2=\\\" http://schemas.xmlsoap.org/soap/encoding/\\ \" \\n\" + \"xsi:type=\\\"ns2:Array\\\" ns2:arrayType=\\\"xsd:string[1]\\\">\\n\" + \"<item xsi:type=\\\"xsd:string\\\">329</item>\\n\" + \"</enrolStudentsInput>\"; EnrolStudentsInput enrollinput = null; try { enrollinput = EnrolStudentsInput.Factory.parse(xmlinput); } catch (XmlException e1) { // TODO Auto-generated catch block e1.printStackTrace(); } System.out.println(\"xml:\"+enrollinput); //enrollinput.setId(\"A00010397\"); enrol.setCourseid(\"10112\"); enrol.setCourseidfield(\"10112\"); enrol.setUseridfield(\"329\"); enrol.setClient(client); enrol.setSesskey(sessionkey); try { System.out.println( stub.enrol_students(enrolldoc)); } catch (RemoteException e) { // TODO Auto-generated catch block e.printStackTrace(); } }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 31, 2010, 7:56 PM",
          "AuthorName": "Khalid Farouk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181160&course=5",
          "role": [
            "Picture of Khalid Farouk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enrolling students using Java",
          "Text": "Hi Khalil, According to the fragment code you sent, you are using the new axis 2.0 library (and not the 1.4 that I am more familiar with)... See http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/some-success-with-the-new-axis-2-library/ for my only successfull attempt to call Web Services with axis 2.0 back in 2008. Anyway, the call to enrol_students requires the following six parameters 1)an array of students ids. You seems to pack them in an XML string and parse it later , why ? why not creating directly a java Array ? I am not familiar with Axis 2.0 array passing... something like : String[] thems={\"329\"}; enrol.setUserids (thems); 2)the course id as a string : your call enrol.setCourseid(\"10112\"); looks good 3) the fieldname in Moodle database course's table to use to uniquely identify the course (could be \"id\" or \"idnumber\" ) so in your case I guess it should be enrol.setCourseidfield(\"id\"); 4) the fieldname in Moodle database user's table to uniquely identify the target user(s). Again it could be id, idnumber but also username or email... so in your case I guess it should be enrol.setUseridfield(\"id\"); and finally the credentials : your code looks good there enrol.setClient(client); enrol.setSesskey(sessionkey); Also it will be interesting to know what errors messages are sent back by the Web Service in the catch blocks... Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 1, 2010, 5:43 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enrolling students using Java",
          "Text": "Thank you Patrick for you help My best regards, Khalid",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 16, 2010, 7:45 PM",
          "AuthorName": "Khalid Farouk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181160&course=5",
          "role": [
            "Picture of Khalid Farouk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Update_user raises the ws_userunknown error",
          "Text": "When I try to call update user in test_update_user.php  through oktech web services I got this error ws_userunknown Here is the sample xml request Any idea <soapenv:Envelope xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:soapenv=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:wsdl=\"CFGWWWROOT/wspp/wsdl\"> <soapenv:Header/> <soapenv:Body> <wsdl:update_user soapenv:encodingStyle=\" http://schemas.xmlsoap.org/soap/encoding/ \"> <client xsi:type=\"xsd:integer\">41</client> <sesskey xsi:type=\"xsd:string\">9e1fe51a27735aa108f08432f93401ca</sesskey> <user xsi:type=\"wsdl:userDatum\"> <!--You may enter the following 32 items in any order--> <action xsi:type=\"xsd:string\">add</action> <id xsi:type=\"xsd:integer\">0</id> <confirmed xsi:type=\"xsd:integer\">1</confirmed> <policyagreed xsi:type=\"xsd:integer\">0</policyagreed> <deleted xsi:type=\"xsd:integer\">0</deleted> <username xsi:type=\"xsd:string\">ahmed2</username> <auth xsi:type=\"xsd:string\">manual</auth> <password xsi:type=\"xsd:string\">Password@123</password> <passwordmd5 xsi:type=\"xsd:string\">Password@123</passwordmd5> <idnumber xsi:type=\"xsd:string\">1</idnumber> <firstname xsi:type=\"xsd:string\">ahmed</firstname> <lastname xsi:type=\"xsd:string\">ahmed</lastname> <email xsi:type=\"xsd:string\"> mm2@mm.net</email > <emailstop xsi:type=\"xsd:integer\">0</emailstop> <icq xsi:type=\"xsd:string\">a</icq> <skype xsi:type=\"xsd:string\">a</skype> <yahoo xsi:type=\"xsd:string\">a</yahoo> <aim xsi:type=\"xsd:string\">a</aim> <msn xsi:type=\"xsd:string\">a</msn> <phone1 xsi:type=\"xsd:string\">a</phone1> <phone2 xsi:type=\"xsd:string\">a</phone2> <institution xsi:type=\"xsd:string\">a</institution> <department xsi:type=\"xsd:string\">a</department> <address xsi:type=\"xsd:string\">a</address> <city xsi:type=\"xsd:string\">Cairo</city> <country xsi:type=\"xsd:string\">EG</country> <lang xsi:type=\"xsd:string\">en</lang> <timezone xsi:type=\"xsd:integer\">99</timezone> <lastip xsi:type=\"xsd:string\">n</lastip> <theme xsi:type=\"xsd:string\">none</theme> <description xsi:type=\"xsd:string\">desc</description> <mnethostid xsi:type=\"xsd:integer\">0</mnethostid> </user> <idfield xsi:type=\"xsd:string\">4</idfield> </wsdl:update_user> </soapenv:Body> </soapenv:Envelope>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 4, 2010, 8:57 PM",
          "AuthorName": "Khalid Farouk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181160&course=5",
          "role": [
            "Picture of Khalid Farouk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Update_user raises the ws_userunknown error",
          "Text": "It worked using edit_users",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 4, 2010, 10:21 PM",
          "AuthorName": "Khalid Farouk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181160&course=5",
          "role": [
            "Picture of Khalid Farouk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Update_user raises the ws_userunknown error",
          "Text": "Hi Khalid, update_user expects as the fourth parameter the name of the column in Moodle's table mdl_user to uniquely identify the user to update that could be username, email, id or idnumber Thus you should have <idfield xsi:type=\"xsd:string\">username</idfield>  if it is the username . No surprise that edit_users worked since in that case the idenfifying field is always Moodle's internal id (4 in your case ? )  I guess from your XML). Plz also note that you should NOT send in the same time password and passwordmd5. password is meant for a clear password to be converted internally to md5 and passwordmd5 is for an already converted password ... passwordmd5 having priority if found finally, you should send only the values you want to change . By default the webservice will ignore empty values ( empty strings and 0 numbers) . Thus the values for id, deleted, emailstop and mnethostid will be ignored . Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 5, 2010, 1:56 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Update_user raises the ws_userunknown error",
          "Text": "Thank you Patrick, we used update_users and it worked My best regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 6, 2010, 1:07 AM",
          "AuthorName": "Khalid Farouk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181160&course=5",
          "role": [
            "Picture of Khalid Farouk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "add_category",
          "Text": "Hi All, I need to add a new category, but with a specific \"category ID\". Every time I use add_category, it increments the ID in the table and doesn't use my ID. I need it to use the ID that I set using setID. Is there a way to force the web service to use the ID that I supply?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 11, 2010, 12:58 AM",
          "AuthorName": "Khalid Farouk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181160&course=5",
          "role": [
            "Picture of Khalid Farouk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: add_category",
          "Text": "Khalid, It is impossible to set the category id when creating it, since it corresponds to an autoincrement field into Moodle's mdl_category table. Even if you force it to some value, the Moodle's API function insert_record will remove it before adding the record to the database.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 12, 2010, 1:59 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Enrol Teacher to a course",
          "Text": "I want to enrol a user as a teacher in course, should I use  affect_user_to_course method   in oktech or which method should be used",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 14, 2010, 12:03 AM",
          "AuthorName": "Khalid Farouk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181160&course=5",
          "role": [
            "Picture of Khalid Farouk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enrol Teacher to a course",
          "Text": "@Khalid, Yes affect_user_to_course is a general operation that requires the userid, courseid and the role shortname See the following sample code in php adding user with username='toto' a new teacher to course idnumber='pp001' <code> <?php require_once ('../MoodleWS.php'); $moodle=new MoodleWS();require_once ('../auth.php'); $lr=$moodle->login(LOGIN,PASSWORD); //1) get the userid if not known by $res=$moodle->get_user($lr->getClient(),$lr->getSessionKey(),'toto','username'); //print_r($res); $userid=$res->users[0]->id; //2) get the courseid if not known by $res=$moodle->get_course($lr->getClient(),$lr>getSessionKey(),'pp001','idnumber'); print_r($res); $courseid=$res->courses[0]->id; if ($courseid && $userid) { //and call print ('uid='.$userid.' cid='.$courseid.\"\\n\"); $res=$moodle->affect_user_to_course ($lr->getClient(),$lr->getSessionKey(),$userid,$courseid,'editingteacher'); print_r($res); } else print \"user or course not found\"; $moodle->logout($lr->getClient(),$lr->getSessionKey()); ?> </code> To remove this role, use $res=$moodle->remove_user_from_course($lr->getClient(),$lr->getSessionKey(),3,4,'editingteacher'); Cheers. In the forthcoming 2.0 compatible revision I shall add more 'user friendly' operations such as add_teacher, add_student, remove_teacher...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 14, 2010, 2:53 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enrol Teacher to a course",
          "Text": "Thank you Patrick, My best regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 14, 2010, 6:20 PM",
          "AuthorName": "Khalid Farouk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181160&course=5",
          "role": [
            "Picture of Khalid Farouk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enrol Teacher to a course",
          "Text": "This was very helpful. How can I check if a user is already enrolled into a course so that I don't call the affect_user_to_course again?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 7, 2013, 6:30 AM",
          "AuthorName": "Amit Bhatnagar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1664765&course=5",
          "role": [
            "Picture of Amit Bhatnagar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "How to Enrol a student in a course that has an enrollment key?",
          "Text": "Hi All, How do I Enrol a student in a course that has an enrollment key?, the enrol_student doesn't raise an error, but it doesn't enrol the student. The enrollment key should be removed for the web service to enrol the student. Is there a parameter to supply the enrollment key or to override it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2010, 4:16 PM",
          "AuthorName": "Khalid Farouk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181160&course=5",
          "role": [
            "Picture of Khalid Farouk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Annoucment new version 1.7 Moodle 2.0 compatible",
          "Text": "Hello , I am annoncing here the new release, tagged 1.7 today. version 1.7 22/10/2010 download code compatible with Moodle 1.9 and Moodle 2.0 (automagically decides which version of Moodle to use). added Moodle 2.0 specific cohort operations (add_cohort, delete_cohort, get_cohort_members, affect_user_to_cohort, remove_user_from_cohort, get_cohort_by*...) added some missing groupings operations (get_grouping_byid, get_groupings_byname ... ) Updated documentation is at the usual place. http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews This revision will hit the Moodle's CVS in a few days if I can fix the new error message \n```text\n[root@cipcnet wspp]# cvs commit -m \"revision 1.7 Moodle 2.0 compatible\"\n```\n \n```text\ncvs commit: Examining .\n```\n \n```text\n \ncvs commit: Examining clients\n```\n \n```text\ncvs commit: Examining clients/lib\n```\n \n```text\ncvs commit: Examining clients/tests\n```\n \n```text\ncvs commit: Examining clients/zope\n```\n \n```text\ncvs commit: Examining clients/zsi\n```\n \n```text\ncvs commit: Examining dbLocal:\n```\n \n```text\nBad packet length 1349676916.\n```\n \n```text\ncvs [commit aborted]: end of file from server (consult above messages if any)\n```\n Enjoy.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 22, 2010, 9:44 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Annoucment new version 1.7 Moodle 2.0 compatible",
          "Text": "Hi Patrick, Thank you for providing the updated version wspp 1.7 I have downloaded and tried to install wspp 1.7 as per the INSTALL file on Moodle 2.0 WAMP server . When I login as Admin and goto Notifications (per the INSTALL file ) it just shows a message: \"Enabling the PHP setting display_errors is not recommended on production sites because some error messages may reveal sensitive information about your server.\" After going to Server Administration >> Development I do not see any option for OK Tech Webservices as described in the INSTALL file However I am able to use SOAPUI to access the WSDL at the link http://localhost/wspp/service_pp.php , but when I try to invoke the login method with a user I created in Moodle (this user has all the privileges i.e. SOAP, XML-RPC and AMP) I get a error as below <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"> <SOAP-ENV:Body> <SOAP-ENV:Fault> <faultcode>Wspp Server</faultcode> <faultstring> ws_errorregistersession </faultstring> </SOAP-ENV:Fault> </SOAP-ENV:Body> </SOAP-ENV:Envelope> In the wspp_db_errors.log I see saw the errors corresponding to my login method call from SOAPUI : Error reading from database\\n#0 C:\\Tools\\moodlewamp\\server\\moodle\\lib\\dml\\mysqli_native_moodle_database.php(732): moodle_database->query_end(false) #1 C:\\Tools\\moodlewamp\\server\\moodle\\lib\\dml\\moodle_database.php(1243): mysqli_native_moodle_database->get_records_sql('SELECT * FROM {...', Array, 0, 0) #2 C:\\Tools\\moodlewamp\\server\\moodle\\lib\\dml\\moodle_database.php(1215): moodle_database->get_record_sql('SELECT * FROM {...', Array, 0) #3 C:\\Tools\\moodlewamp\\server\\moodle\\wspp\\wslib.php(79): moodle_database->get_record_select('webservices_ses...', 'userid = 3 AND ...', Array, '*') #4 C:\\Tools\\moodlewamp\\server\\moodle\\wspp\\server.class.php(324): ws_get_record_select('webservices_ses...', 'userid = 3 AND ...') #5 C:\\Tools\\moodlewamp\\server\\moodle\\wspp\\mdl_soapserver.class.php(228): server->login('wstestuser', 'Secret587@' ) #6 [internal function]: mdl_soapserver->login('wstestuser', 'Secret587@' ) #7 C:\\Tools\\moodlewamp\\server\\moodle\\wspp\\service_pp.php(39): SoapServer->handle() #8 {main}Error reading from database\\n#0 C:\\Tools\\moodlewamp\\server\\moodle\\lib\\dml\\mysqli_native_moodle_database.php(407): moodle_database->query_end(false) #1 C:\\Tools\\moodlewamp\\server\\moodle\\lib\\dml\\mysqli_native_moodle_database.php(844): mysqli_native_moodle_database->get_columns('webservices_ses...') #2 C:\\Tools\\moodlewamp\\server\\moodle\\wspp\\wslib.php(184): mysqli_native_moodle_database->insert_record('webservices_ses...', Object(stdClass)) #3 C:\\Tools\\moodlewamp\\server\\moodle\\wspp\\server.class.php(343): ws_insert_record('webservices_ses...', Object(stdClass)) #4 C:\\Tools\\moodlewamp\\server\\moodle\\wspp\\mdl_soapserver.class.php(228): server->login('wstestuser', ' 'Secret587@ ' ) #5 [internal function]: mdl_soapserver->login('wstestuser', ' 'Secret587@ ' ) #6 C:\\Tools\\moodlewamp\\server\\moodle\\wspp\\service_pp.php(39): SoapServer->handle() #7 {main} Can you please suggest if I am missing something. Any other steps that I need to take to get wspp 1.7 working on Moodle 2.0. The link for 'download'  ( http://prope.insa-lyon.fr/~ppollet/moodlews/wspp_1.7.tgz )  in your post contains only one file named wspp_1.7[1] Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 28, 2010, 11:55 AM",
          "AuthorName": "Mayuresh K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1262691&course=5",
          "role": [
            "Picture of Mayuresh K"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Annoucment new version 1.7 Moodle 2.0 compatible",
          "Text": "@Mayuresh, The errors came because Moodle 2.0 did not find the script local/wspp/settings.php nor the directory local/wspp/db , so the two new database tables were not created  when you went to Adminstration/Notifications. You MUST see some trace infos about the tables's creation and the new setting options... I suspect you did not copy well the directory wspp/local/wspp into Moodle's local directory . You should have a directory nanmed wspp (with its sub dirs db and lang) at the first level of Moodle's local  as below Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/706412/screenshot_042.png?forcedownload=1"
          ],
          "Time": "Monday, November 1, 2010, 6:32 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to Enrol a student in a course that has an enrollment key?",
          "Text": "@Khalid, I do not find in the code why enrolment of a student would fail if course has an enrolment key and succeed if not. I would like to have more details on the error (Moodle version ...) Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 26, 2010, 10:23 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, Many thanks for creating the moodle ws package, its just what im looking for. Does anyone have any doc which describes the input parameters for each operation. I'm having a hard time figuring out exactly what values I should supply in the SOAP requests for some operations. For example - get_events  requires the following params as well as authentication id and token: <value xsi:type=\"xsd:string\">2</value> <id xsi:type=\"xsd:string\">2</id> I have no idea what these two values should represent, I'm guessing course id maybe??? Many thanks in advance. John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 29, 2010, 1:49 AM",
          "AuthorName": "John Hunsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1263489&course=5",
          "role": [
            "Picture of John Hunsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi John, You have three ways to find  the  nature and usage of parameters required by this Web Service, and to test them 1) you generate the php proxy classes and test scripts  by running the following command line in wspp/clients directory php ../wsdl2php.php  http://youmoodle/wspp/wsdl_pp.php this will generate a test script for all the known operations and will give you some hints about the parameters for example clients/tests/test_get_events.php will have is its phpdocs comments  : \n```text\n<?php\n```\n \n```text\nrequire_once ('../MoodleWS.php');\n\n\n$moodle=new MoodleWS();\n```\n \n```text\nrequire_once ('../auth.php');\n```\n \n```text\n/**test code for MoodleWS: Get Moodle s events\n```\n \n```text\n* @param integer $client\n```\n \n```text\n* @param string $sesskey\n```\n \n```text\n* @param integer $eventtype\n```\n \n```text\n* @param integer $ownerid\n```\n \n```text\n* @return getEventsReturn\n```\n \n```text\n*/\n```\n \n```text\n...\n```\n \n```text\n?>\n```\n \n```text\n\n```\n \n```text\n\n```\n 2) Alternatively, if you are familiar with javadoc you may consult the reference page at http://prope.insa-lyon.fr/~ppollet/moodlews/java/javadoc/ The java class containing all supported operations is named  MoodleWSPortType so you could start browsing the doc at http://prope.insa-lyon.fr/~ppollet/moodlews/java/javadoc/localhost/moodle_20/wspp/wsdl/MoodleWSPortType.html 3) Finally you could use the SoapUI graphical interface to browse/test Moodle Web Service (see attached screenshot for exploring get_events operation). Cheers. Edit: of course you can also peek into the php code of the script wspp/server.class.php and find out that get_events function is requiring the following parameters : $eventtype : could be define('cal_show_global', 1); define('cal_show_course', 2); define('cal_show_group', 4); define('cal_show_user', 8); and then, depending of the $eventtype, the second parameter $ownerid will be either a courseid, a groupid or an userid. One of the most obscure operation BTW. Sorry ﻿",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink",
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/705744/screenshot_041.png?forcedownload=1"
          ],
          "Time": "Friday, October 29, 2010, 4:30 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Patrick, Many thanks for your detailed reply. I am using the SoapUI v3.01. I see the generated request as shown in your screen shot. I'm not sure what values to use for eventtype. I assume this is an enumeration, is this documented anywhere? I don't see the values specified in the javadoc. If this detail is not documented I will just have to work it out by trial and error and will add the results to the javadoc and a tutorial. If ownerid can be courseid then I'm guessing I'd need to call get_my_courses first to find the available courses, then check for events with another call to get_events for each course. Anyway, just thinking out loud Many thanks for your help John",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, October 29, 2010, 5:53 PM",
          "AuthorName": "John Hunsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1263489&course=5",
          "role": [
            "Picture of John Hunsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "get_messages",
          "Text": "Hi, Is there a get_messages method in any version of the web service? If not, is there any way I can access the  messages between course participants through the web service? Many thanks John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 5, 2010, 8:19 AM",
          "AuthorName": "John Hunsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1263489&course=5",
          "role": [
            "Picture of John Hunsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "get_quiz",
          "Text": "Hi, Does anyone know what the quizformat string value parameters should be used in the get_quiz request? My SOAP body of the request looks like this - <client xsi:type=\"xsd:integer\">x</client> <sesskey xsi:type=\"xsd:string\">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</sesskey> <quizid xsi:type=\"xsd:integer\">2</quizid> <quizformat xsi:type=\"xsd:string\"></quizformat> I am unsure what to put int he quizformat parameter, is this an enumeration? Is it documented anywhere? Many thanks John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 6, 2010, 12:25 AM",
          "AuthorName": "John Hunsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1263489&course=5",
          "role": [
            "Picture of John Hunsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: get_quiz",
          "Text": "@John, There are no operations yet to fetch Moodle messages between users... The quizformat is the export format you want to use to fetch the quiz questions as if you were exporting it from Moodle . It could be any export format supported by Moodle such as xml, gift ... all of them are the subdirectory names in question/format. Actually I only tested xml see in libquiz.php /** * check that the requested export format is available */ function ws_libquiz_is_supported_format($format) { global $CFG; return is_readable($CFG->dirroot . \"/question/format/$format/format.php\"); } Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Saturday, November 6, 2010, 1:30 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: get_quiz / error in libquiz.php",
          "Text": "@Patrick I installed your oktech wspp and enabled web services using moodle2integration. So far, all works fine, except get_quiz() which uses libquiz.php I get these error messages: Notice: Undefined variable: QTYPES in /var/www/moodle/wspp/libquiz.php on line 73 Fatal error: Call to a member function get_question_options() on a non-object in /var/www/moodle/wspp/libquiz.php on line 75 Do you have a revised version of libquiz.php or could you provide a hint how to fix this? Your assitance would be greatly appreciated! Cordial Greetings Harry",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 26, 2012, 12:30 AM",
          "AuthorName": "Harry Bleckert",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1514658&course=5",
          "role": [
            "Picture of Harry Bleckert"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "get_activities",
          "Text": "@patrick Hi, I'm trying to access the activities on a course using the get_activities operation. I'm not exactly sure what parameter values I need to put in my request. Using SoapUI I see the following generated request - <iduser xsi:type=\"xsd:string\"></iduser> <iduserfield xsi:type=\"xsd:string\"></iduserfield> <idcourse xsi:type=\"xsd:string\"></idcourse> <idcoursefield xsi:type=\"xsd:string\"></idcoursefield> <idlimit xsi:type=\"xsd:integer\"></idlimit> I take it iduser is the id of the user enrolled on the course and idcourse is the id of the course. idlimit is self explanatory. What are iduserfield and idcoursefield? When I try putting in the same values as I put in iduser and idcourse I get noactivites returned in the response body. Can you tell me what I should be putting in these param values? The empty response does give me some clues about what I should expect in return. Is there anything in the activity record response which tells me what the activity actually is? What are the DLA, DLL, DFA and DCL fields? I expect to get back a collection of activity records for things like Lessons, Forums, Quizzes. How do I distinguish between the types of activities I have on my course? Many thanks in advance, Kind regards, John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 25, 2010, 4:30 AM",
          "AuthorName": "John Hunsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1263489&course=5",
          "role": [
            "Picture of John Hunsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: get_activities",
          "Text": "@john, You misunderstood the role of operation get_activities. It is meant to return all student 'logged' activities in a course. A bad move from me, but in French 'activité' means  'action' , not a 'Moodle activity'... so I mis-translated 'activité' to 'activity'. So the parameters are the userid value and the useridfield that is the database column to use to identify uniquely that user such as username,id,idnumber or email , a courseid and the courseidfield that is again the database column to use to fetch this course such as id, idnumber or shortname...  If empty, actions of that user in all his courses are returned for example <client xsi:type=\"xsd:integer\">100</client> <sesskey xsi:type=\"xsd:string\">15620620c260502274950dfbe907138c</sesskey> <iduser xsi:type=\"xsd:string\">jdoe</iduser> <iduserfield xsi:type=\"xsd:string\">username</iduserfield> <idcourse xsi:type=\"xsd:string\"></idcourse> <idcoursefield xsi:type=\"xsd:string\"></idcoursefield> <idlimit xsi:type=\"xsd:integer\">50</idlimit> will returns all logged-in actions of user jdoe, identified by its username in all his courses and changing to <idcourse xsi:type=\"xsd:string\">CHEM 101</idcourse> <idcoursefield xsi:type=\"xsd:string\">idnumber</idcoursefield> will returns its actions in course whose idnumber is CHEM 101 DATE,DFA, DLA, DLL and the rest where meant to convert the return Unix stamps time,firstaccess, lastaccess, lastlogin, currentlogin... to localized strings but are not implemented since I got SOAP errors with months names with accentuated characters, so they are always empty. See line 369 of script filterlib.php What you are looking for is likey get_instances_bytype that return all instances of Moodle activities of a given type (such as forum, wiki, lesson , data ...)  in a set of courses or if empty in all courses that current user can see . for example <client xsi:type=\"xsd:integer\">100</client> <sesskey xsi:type=\"xsd:string\">15620620c260502274950dfbe907138c</sesskey> <courseids xsi:type=\"wsdl:getCoursesInput\" soapenc:arrayType=\"xsd:string[]\"/> <idfield xsi:type=\"xsd:string\">id</idfield> <type xsi:type=\"xsd:string\">forum</type> return all forums in all courses and <client xsi:type=\"xsd:integer\">101</client> <sesskey xsi:type=\"xsd:string\">81c7772ee6e4a1c579afe119d9d2fd4c</sesskey> <courseids xsi:type=\"wsdl:getCoursesInput\" soapenc:arrayType=\"xsd:string[1]\"> <item xsi:type=\"xsd:string\">3</item> </courseids> <idfield xsi:type=\"xsd:string\">id</idfield> <type xsi:type=\"xsd:string\">forum</type> return all forums in course identified by Moodle id=3 Alernatively you may use get_all_xxxx () operation that returns all xxx Moodle activities that current user can see matching one optional criteria  such as <client xsi:type=\"xsd:integer\">101</client> <sesskey xsi:type=\"xsd:string\">81c7772ee6e4a1c579afe119d9d2fd4c</sesskey> <fieldname xsi:type=\"xsd:string\">course</fieldname> <fieldvalue xsi:type=\"xsd:string\">1</fieldvalue> get all quizzes in course=1 Currently there is no operations to return 'all Moodle activities' of ant type registered in a course... Cheers. Edit : I really must find some time to document all operations will sample codes in PHP, Java, python and SoapUi XML...  on some Wiki , may be hosted on Moodle.org ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 25, 2010, 5:28 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: get_activities",
          "Text": "@patrick Many thanks for your detailed reply Patrick. Does get_instances_bytype return Lesson activities? i.e. is there an enum type for lessons in the request param, e.g. <type xsi:type=\"xsd:string\">lesson</type> I'll be happy to help document the params, a wiki would be best. thanks again John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 25, 2010, 10:11 PM",
          "AuthorName": "John Hunsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1263489&course=5",
          "role": [
            "Picture of John Hunsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: get_activities",
          "Text": "No whatever module name, as registered in table mdl_modules can be used.\n\nIf you mistype it, it will just say \"nothing found\" against Moodle 1.9 and a Soap execption against Moodle 2.0.\n\nOf course you will get a very basic answer as extracted from table mdl_course_modules as exposed in resourceRecord.\n\nCheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 26, 2010, 12:34 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: get_activities",
          "Text": "@john , I started something in Moodle Docs at http://docs.moodle.org/en/Web_Services:OK_Tech_Web_Services . Still very crude and incomplete. Be my guest Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Sunday, November 28, 2010, 10:36 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, I am new to MoodleWS. To get started, I downloaded Ver. 1.6 which came in a zip file. When I extracted the zip file, I was expecting all the related WS folders and files to be extracted. However, i found a single large file which in return seems to contain the MoodleWS files. It's really confusing to me. Am I doing something wrong (for sure)? How can I extract those files?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 24, 2010, 2:11 AM",
          "AuthorName": "Moodle Geek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1020988&course=5",
          "role": [
            "Picture of Moodle Geek"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "OKTech Web Services Rev 1.8 is out",
          "Text": "Hello, version 1.8 dated 27/12/2010 download Not anymore on Moodle's CVS repository (no more write access to contrib area due to Moodle's migration to git ) added forums (get_forum_discussions, get_forum_posts, forum_add_discussion, forum_add_post) and messaging (get_messages, get_messages_history, send_message) operations upon request of John Hunsley reorganized code generation for php clients (wsdl2php) by putting proxy classes in a classes directory support for a simplified version of the wsdl generated by WSHelper utility (use http://yourmoodle/wspp/wsdl_pp2.php instead of http://yourmoodle/wspp/wsdl_pp.php when generating your proxy classes by wsdl2xxx utilities or against SoapUI) fixed duplicate definition of get_my_cohorts in wsdl. I am starting documentation on Moodle docs here : http://docs.moodle.org/en/Web_Services:OK_Tech_Web_Services Feel free to contribute. Season's greetings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 28, 2010, 12:07 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services Rev 1.8 is out",
          "Text": "Hello, Also available with git at https://github.com/patrickpollet/moodlews Please be patient, I am learning git Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, December 29, 2010, 9:36 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services Rev 1.8 is out",
          "Text": "Patrick, I'm using the rev. 1.8 and I notice a difference between the method add_user and update_user. The first method require a single apostrophe (') in the parameter value as expected. Instead, in the second method i Must to specify the apostrophe twice (''). This is a know issue? How I can correct It? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2011, 11:16 PM",
          "AuthorName": "Angelo Nardi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=882674&course=5",
          "role": [
            "Picture of Angelo Nardi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, MoodleWS never came out as a zip archive but a tgz, made under Linux with tar & gzip commands. I guess you have to install on your Windows workstation the proper software to extract it. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 28, 2010, 12:21 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Is it possible to extend the WS for obtaining the answers for a quiz by users? If not could you, please, point me to some PHP files where I can get the SQL statements for these operations? Thank you, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 3, 2011, 2:25 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "@catalin, No you can only export a quiz (in XML format) but not the answers given by students ; you can also export grades . I is unlikely that exporting student's answers will be ever implemented due to the vast number of question types available... You may have a look at scripts mod/quiz/report/* to get an idea of the complexity of the task",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, January 6, 2011, 1:33 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello Patrick and everybody ! I am trying to prove ws 1.8 last version. I can install it on my Moodle 1.9 following the instructions, but now I try to test with all clients and it gives me error test fault : Invalid username or password . You can help me I tell me what I'm doing wrong . Thanks .. ﻿",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 4, 2011, 11:45 PM",
          "AuthorName": "Luis Eduardo Rios Castillo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1280819&course=5",
          "role": [
            "Picture of Luis Eduardo Rios Castillo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I forgot the username anp pasw are correct but i can't connect, maybe there is someone especial file that i have to edit to this work correctly, tanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 5, 2011, 1:34 AM",
          "AuthorName": "Luis Eduardo Rios Castillo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1280819&course=5",
          "role": [
            "Picture of Luis Eduardo Rios Castillo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "@Luis, Gives us more details about what you are trying to do (langage of your clients...). If you talk about the test scripts written in php in wspp/clients/tests, you have to rename wspp/clients/auth.php.dist to auth.php and edit it to give the target login & password.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 6, 2011, 1:23 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, I've tested the client using \"Manual Account\" how uthentication method, and all is well, but when I am using \"Web Services\" how authetication method, I get a error \" Uncaught SoapFault exception: [Wspp Server] Invalid Client connection \". I am using moodle 1.9 and WSPP plugin. I don't know how I authenticate from the client, I'm using this: \" $lr= $moodle->login(\"user\",\"pass\");\" Sorry for my bad English",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 25, 2011, 12:37 PM",
          "AuthorName": "Esteban Chamba Jimenez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=814354&course=5",
          "role": [
            "Picture of Esteban Chamba Jimenez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi everybody, I'm trying to get familiar with the OKTech Services and installed the Service on a Moodle 2.0 test system. The services work but I'm a little bit confused about the authentication. The documentation says that with Moodle 2.0 the new authentication plugin for web services which already comes with moodle will be used for authenticating the web service users. For me that means, I can use the web service user I created for the Moodle 2.0 native web services and use his security token to use the services. But how should I pass the token? Perhaps someone can explain this a little bit deeper.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 5, 2011, 10:08 PM",
          "AuthorName": "Florian Bernstein",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1283137&course=5",
          "role": [
            "Picture of Florian Bernstein"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": ">For me that means, I can use the web service user I created for the Moodle 2.0 native web services and use his security token to use the services. But how should I pass the token? No not its security token but his login/password. You have to enable the Web Service Authentification plugin and create an user having this authentification method (like it was in Moodle 1.9). The only difference is that in Moodle 1.9 you had to install the authentification plugin (that was provided in the WS zip) and it is now built-in Moodle 2.0. You provide them by first calling the login(username,password) operation that returns you a client ID and a session key that are later requested in all subsequent operations, including the final call to logout().",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 6, 2011, 1:20 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Ah ok! Thanks for the explanation. ;) You've done a greate job with these services. One more question. I searched the list of available web service function looking for a operation to get all courses of a person he or she is in some way related to (, as teacher or student). On the first look I couldn't find such a function. What would be the best way to get this information?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 6, 2011, 8:32 PM",
          "AuthorName": "Florian Bernstein",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1283137&course=5",
          "role": [
            "Picture of Florian Bernstein"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Ok, obviously I'm blind! I overlooked the functions get_my_courses, which does what I was looking for.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 6, 2011, 9:21 PM",
          "AuthorName": "Florian Bernstein",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1283137&course=5",
          "role": [
            "Picture of Florian Bernstein"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "And don't forget that besides basic informations about the course(s) the WS add a numeric attribute named 'myrole' that gives a very crude information about the user's role in that course 1= admin, 2=course creator, 3=editing teacher, 4= non editing teacher, 5 = student. see function ws_get_primaryrole_incourse() in wspp/wslib.php Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 6, 2011, 10:02 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services upload scorm file",
          "Text": "Hi. I've installed in my PC moodle2 with OKtech. I can access with web service java client to my moodle without problems. I can create a new course with the web service, but I don't know how upload the scorm package into the course, with the web service. Is this possible? Thanks for all.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 7, 2011, 7:32 PM",
          "AuthorName": "Virginia Modrego",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1283866&course=5",
          "role": [
            "Picture of Virginia Modrego"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services upload scorm file",
          "Text": "> I can access with web service java client to my moodle without problems Glad you made it Please don't hesitate to complete the current documentation with Java sample codes http://docs.moodle.org/en/Web_Services:OK_Tech_Web_Services#Writing_a_client_in_Java We are missing examples (execpt with axis-1.4 library) > don't know how upload the scorm package into the course, with the web service It is not possible. The Web service do not have operations to upload anything to a Moodle course, no even a simple resource file. Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, January 7, 2011, 9:32 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello all, I'm using OKTech Web Services to \"integrate\" drupal and moolde. When user creates a profile in drupal, he's enrolled to the list of courses (the courses id array's length is 10 ) and to the group in each course. This works great in most cases, but sometimes i get strange error \"vous n'avez pas les permissions de faire cela.\" which, thanks to google translate, means ' you do not have permission to do that.'. Result of this is that user is enrolled only to 5 or 6, but not all 10 courses... I login using moodle's super admin. The source where user is enrolled to the courses is: \n```text\nfunction add_group_to_moodle($drupal_users_id = array(), $groupname = '',\n        $courseids = array(), $config = array()) {\n\ttry{\n\t\t$moodle = moodlews_service_object($config);\n\t\t$lr = moodlews_login($moodle, $config);\n\t\tif (!$moodle || !$lr) {\n\t\t\tdrupal_set_message(t('Failed to login to Moodle, try again later'), 'error');\n\t\t\treturn;\n\t\t}\n\n\t\t// Add users to group\n\t\tif (count($drupal_users_id) > 0) {\n\t\t\tforeach ($drupal_users_id as $drupal_user_id) {\n\t\t\t\t$moodle_user_id = $moodle->get_user_byidnumber($lr->getClient(), $lr->getSessionkey(), $drupal_user_id);\n\n\t\t\t\tif ($moodle_user_id->users[0]->id != 0) {\n\t\t\t\t\tforeach ($courseids as $courseid) {\n```\n \n```text\n\t\t\t\t\t\t\n//create group if group not exists or get the group id otherwise\n\t\t\t\t\t\t$moodle_course_group_id = _create_group($lr, $moodle, $groupname, $courseid);\n\n\t\t\t\t\t\t// Group exists OR created succesfully\n\t\t\t\t\t\tif ($moodle_course_group_id != -1) {\n\t\t\t\t\t\t\t$moodle->affect_user_to_course($lr->getClient(), $lr->getSessionkey(),\n\t\t\t\t\t\t\t\t\t$moodle_user_id->users[0]->id, $courseid, 'student');\n\t\t\t\t\t\t\t$ret = $moodle->affect_user_to_group($lr->getClient(), $lr->getSessionkey(),\n\t\t\t\t\t\t\t\t\t$moodle_user_id->users[0]->id, $moodle_course_group_id);\n\t\t\t\t\t\t\twatchdog('add_to_course', 'Add user to group '.$moodle_course_group_id.' in course '.$courseid , NULL);\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdrupal_set_message(t('Can not create group!'), 'error');\n\t\t\t\t\t\t\twatchdog('add_to_course', 'Can not create group! '. $e->getMessage(), NULL);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t$moodle->logout($lr->getClient(), $lr->getSessionKey());\n\t} catch (Exception $e)\n\t  {  \n\t\twatchdog('add_to_course', $e->getMessage(), NULL);\n\t  }\n}\n```\n \n```text\n$drupal_users_id array length is 1;  $courseids array length is 10.\n```\n Where could be a problem? Is it timeout or something? I'd appreciate any help...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 14, 2011, 4:02 PM",
          "AuthorName": "Karolis Kriščiūnas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1282775&course=5",
          "role": [
            "Picture of Karolis Kriščiūnas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, Hey interesting piece of code BTW The problem to solve first is which one of the three calls to the WS is throwing the 'permission error'  i.e when : you create (if needed)  the Moodle's group in _create_group($lr, $moodle, ... call you affect the user to the course you affect user to the group This could be found by putting WS in full debug mode (see admin settings) and looking into moodledata/debug.out file for the latest error messages. I don't think it is a timeout error, otherwise you will get a session has timed out error. I suspect that some of the $courseid you are sending from Drupal do not match the corresponding Moodle's course ids thus it cannot the find the appropraite context in which to check for permissions. Are you sure that you always set the $group->courseid to the proper value in your function _create_group (especially if it does not exist yet) ? the WS needs it to retrieve the course's context ... Cheers. Cheers Edit : if you download the latest version from git, https://github.com/patrickpollet/moodlews you should find a proper english translation file  in wspp/lang/en_utf8 that you should copy (or symlink)  in you moodledata/lang/en_utf8_local directory (or lt_utf8_local I guess). Thanks to Stephen C. Scherer",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, January 14, 2011, 5:45 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Patrick, Thanks for your answer. Yes, i'm sure i set courses ids when creating groups and i'm sure i know exact moodle's courses ids, because there're only 10 courses and they're the same for every user. It looks that i get this problem when more than one user is being enrolled to the list of courses at the same time, i mean when more than one user executes the piece of code above... The problem is that situation, when many users are creating their profiles and being enrolled to the courses at the same time, is common in our case.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 14, 2011, 9:01 PM",
          "AuthorName": "Karolis Kriščiūnas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1282775&course=5",
          "role": [
            "Picture of Karolis Kriščiūnas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I have successfully installed oktech in moodle2.0. I am now trying to install it in moodle 1.9 , but moodle doesn't create the tables in the database. The steps that I followed are the explained in install.txt MOODLE 1.9 :--------------- 2) copy wspp/lang/fr_utf8/local_wspp.php (and possibly other languages files) into your moodledata/lang/en_utf8_local folder . You may have to createthis folder. This will prevent future upgrades of moodle languages packs toerase it. 3) edit moodle/admin/settings/misc.php and add the line require(\"$CFG->dirroot/wspp/admin/wspp.php\");       just before this line      // hidden scripts linked from elsewhere 4) go to the Administration of your Moodle site and set the new configuration options. You may later modify them in Administration/misc/OK Tech Webservice area. For first testings make sure ws_enforceipcheck is off... 5) Note that the database upgrade is done at the first call ever made to the WebService  (even unsuccessfull). It will add two tables mdl_webservices_sessions and   mdl_webservices_clients_allow ¿any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2011, 8:26 PM",
          "AuthorName": "Virginia Modrego",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1283866&course=5",
          "role": [
            "Picture of Virginia Modrego"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I have successfully installed with moodle2.0 oktech . I am now trying to install moodle 1.9 , but I can't create the tables in the database. I followed the steps that are explained in install.txt MOODLE 1.9 :--------------- 2) copy wspp/lang/fr_utf8/local_wspp.php (and possibly other languages files) into your moodledata/lang/en_utf8_local folder . You may have to createthis folder. This will prevent future upgrades of moodle languages packs toerase it. 3) edit moodle/admin/settings/misc.php and add the line require(\"$CFG->dirroot/wspp/admin/wspp.php\");       just before this line      // hidden scripts linked from elsewhere 4) go to the Administration of your Moodle site and set the new configuration options. You may later modify them in Administration/misc/OK Tech Webservice area. For first testings make sure ws_enforceipcheck is off... 5) Note that the database upgrade is done at the first call ever made to the WebService  (even unsuccessfull). It will add two tables mdl_webservices_sessions and   mdl_webservices_clients_allow this step 5) is the problem any idea?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2011, 9:49 PM",
          "AuthorName": "Virginia Modrego",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1283866&course=5",
          "role": [
            "Picture of Virginia Modrego"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I am using OKTECH web services. Is there a way a single user can access moodle via web service and a browser based interface? I want a mobile client as a convenience but for heavy duty work, I want the users to use the web based interface to my moodle installation. Is this possible? Any pointers or available solutions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2011, 8:47 PM",
          "AuthorName": "Ramakant Kulkarni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295351&course=5",
          "role": [
            "Picture of Ramakant Kulkarni"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "yes, see http://moodle.org/mod/forum/discuss.php?d=139578#p739548 Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2011, 10:07 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "New Install gives Zero Content Length response",
          "Text": "Hi, I have a new Moodle install (1.9.10) and installed the ws_1.8 package as per the install guide. I can see the webservices settings in the Misc' options in Moodle as the admin. I can connect with soapUI from a remote client and generate the request but when I run any request, e.g. login with valid credentials I get a zero length response from the server. Heres the raw Http data for my login request - HTTP/1.1 200 OK Date: Thu, 17 Feb 2011 12:53:29 GMT Server: Apache X-Powered-By: PHP/5.1.6 Set-Cookie: MoodleSession=dfj22r17lagoilaq6vbplsg1i4; path=/ Expires: Thu, 19 Nov 1981 08:52:00 GMT Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0 Pragma: no-cache Set-Cookie: MoodleSessionTest=7lIUa7SEOi; path=/ Content-Length: 0 Connection: close Content-Type: text/html; charset=UTF-8 No xml is returned, no valid response or error. Please help",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, February 17, 2011, 8:54 PM",
          "AuthorName": "John Hunsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1263489&course=5",
          "role": [
            "Picture of John Hunsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: New Install gives Zero Content Length response",
          "Text": "Solved it! I ran ./mkclasses.sh and got and error - PHP Fatal error:  Class 'SoapClient' not found in /var/www/html/moodle/wspp/wsdl2php.php on line 105 So I guess I dont have the Php Soap package installed - yum search soap | grep php tells me I need the Soap package and then install it - yum install php-soap restart apache and my requests now return a valid response. I love it when a plan comes together John",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/tongueout"
          ],
          "Time": "Thursday, February 17, 2011, 10:38 PM",
          "AuthorName": "John Hunsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1263489&course=5",
          "role": [
            "Picture of John Hunsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi I'm trying to use your web OKTech Web Services, just I noted two problems (that probably are mine because I don't know how to use it correctly): - 1º, when moodle links points to this: /mod/assignment/view.php?id=8 , actually are pointing to assignment id=1 (for example). Because are not pointing directly to the id in table assigment.. well, I guess you allready know, so, it's possible to use this \"id=8\" to take the assigment from web service? .. I didn't find a way - 2º, I noted that the object \"assignment\" it's little diferent from the table (I'm using moodle 2.0). The difference is that the object has the property \"description\" and in table, the correct column name is \"intro\" .. so, I guess this is wrong. I don't know where to change that, (I found the classes, and the process to input data, but there is something else I don't find because I have errors).. By the way, you made it a very good work!! I'm gonna use it for my final project of university Thanks",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, March 16, 2011, 11:43 PM",
          "AuthorName": "Jose Raul Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=292854&course=5",
          "role": [
            "Picture of Jose Raul Perez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Jose, Point 1 : For some obscure reasons known to Moodle core programmers (performance ?) , the id passed to scripts view.php is not the instance id of the module xxxx in the table mdl_xxxx but the id of a record in table mdl_course_modules from which they later retrieve the actual instance id ... see top of script mod/assignment/view.php the process of the two possible parameters id or a ... Web Services cannot play that game. We offer a lot of operations to retrieve Moodle's entities and for consistency, the id returned is always the instance id in the appropriate table. So external clients could later on rely on this id to get more data. As an example you may call get_instances_bytype(....,'assignment') to get all assignments in a course and them for each of them use the  returned id to fetch its submissions ... Assignments submissions are related to assignment instance id and not all to its 'relative position' in some course. Point 2 : Yes, Moodle core programmers decided to rename about a dozen of columns from Moodle 1.9 to Moodle 2.0 ... The intro field of assignment is one of them . Problem is if I change the WSDL, it will break Moodle 1.9x clients unless all existing Web Services clients are recompiled ! Again WebService clients cannot be changed everytime some database fields are changed by decisions taken in Perth...  It is my problem to provide a 'consistent naming scheme' for attributes in the WSDL  and to process it internally to match the current real database name upon input and output operations...    So in the WSDL, fields previously named description will stay that way and will be internally converted to i ntro (if needed). Give me a week or so to provide  fixes on the git repository of this project https://github.com/patrickpollet/moodlews that will no break existing clients ( smartphones, Universities SIS, external grading systems ...). Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 17, 2011, 9:50 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "hello In my final university project , I use OKtech web services provided by moodle to create a Android Client for Moodle Plateform. But unfortunetly until now I'am not able to retreive data from the server no matter what is the method i'am calling as a web sevice in android. The emulator always give me exceptions.First of all, is it possible to use OKtech web services contained in WSPP folder to implement an Android Client ?, thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 18, 2011, 5:29 PM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Yes, there are examples around on Android using the KSoap2 java library that works nicely with the WSDL emitted by OK Tech WS. Actually KSoap2 also works on a regular PC, so you do not need Android emulator to start experimenting. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 18, 2011, 6:48 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "thanks for the fast replay Actually I need to run the connection between Oktech web services and my Android application : here is my code for invoking \"login\" method : package telnet.education.androodle; import android.app.Activity; import android.os.Bundle; import android.widget.TextView; import org.ksoap2.SoapEnvelope; import org.ksoap2.serialization.SoapObject; import org.ksoap2.serialization.SoapSerializationEnvelope; import org.ksoap2.transport.HttpTransportSE; public class LoginPage extends Activity { private static final String SOAP_ACTION = \" http://10.0.2.2/moodle/wspp/wsdl#login \"; private static final String OPERATION_NAME = \"login\"; private static final String WSDL_TARGET_NAMESPACE = \" http://10.0.2.2/moodle/wspp/wsdl \"; private static final String SOAP_ADDRESS = \" http://10.0.2.2/moodle/wspp/wsdl_pp.php \"; @Override public void onCreate(Bundle savedInstanceState)  { super.onCreate(savedInstanceState); TextView textView = new TextView(this); setContentView(textView); SoapObject request = new SoapObject(WSDL_TARGET_NAMESPACE, OPERATION_NAME); request.addProperty(\"username\", \"admin\"); request.addProperty(\"password\", \"Shevchenko-7\"); SoapSerializationEnvelope envelope = new SoapSerializationEnvelope( SoapEnvelope.VER11); envelope.dotNet = false; envelope.bodyOut=request; HttpTransportSE httpTransport = new HttpTransportSE(SOAP_ADDRESS); try { httpTransport.call(SOAP_ACTION, envelope); Object response = envelope.getResponse(); textView.setText(response.toString()); } catch (Exception exception) { textView.setText(exception.toString()); } } } This code throws me a xmlpullparserexception, it means that the server is sending me html while I'am waiting for a xml response .I'am stucked in here since a week ! my project is in danger please help. Can you please provide me a code sample written in android that invok a Oktech web service so I can compare and figure out what's wrong. thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 18, 2011, 7:16 PM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "hi Another thing : when i pull my http://localhost/moodle/wspp/wsdl_pp.php into my firefox browser I get a redirection box that get me to the wsdl file (written on xml) .But i think that in order  to verify that the web services are fonctionnal, the url mentionned above must produce the contract listing all the operations provided within the wsdl file. That's why I get the xmlpullparser exception : expected (start_tag <html..............). Android is expecting a html file (the one listing the opertions ) , but instead it is redirected to an xml file (the wsdl) , so the exception is raised !!!!! How to fix such a problem? Greetings from Tunisia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 18, 2011, 9:59 PM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "hi patrick Are you saying that the wsdl emitted by the okteck web services works nicely with the ksoap2 library ? My project is to develope an android application for some moodle fonctions. but for now and after one month of research and tries, I 'am not able even in parsing the wsdl of okteck web services with android , however it works nicely with java (with wsdl2java clients). And I tried putting these java stubs as a library in my android project , but it gaves me a build error beceause the dalvik (android virtual machine) doesn't support java rmi (the remote invocation method in java).So no way to use the java clients within android application. This is really frustrating, and I'am out of solutions man. Please help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 25, 2011, 11:41 PM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Jose, Revision 1.8.1 is on github. let me know if it fix your problem with database column renamed in Moodle 2.0 Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 19, 2011, 1:29 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Patrick Yes, it works perfect, thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 19, 2011, 6:44 AM",
          "AuthorName": "Jose Raul Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=292854&course=5",
          "role": [
            "Picture of Jose Raul Perez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Well.. I'm still working with assignments web services. I can't make it works get_assignment_submissions().. I guess this call is correct, doesn't it? get_assignment_submissions($lr->getClient(),$lr->getSessionKey(), $idAssignment, $idUser,'',0); .. always I receive and empty array.. maybe some change with moodle 2 ? Sorry, I can't contribute with some info in that issue.. I didn't find errors in database or others places... I hope to help soon and not only to ask, but still I'm learning your code.. it doesn't exists something to add or edit submissions right? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 21, 2011, 4:34 AM",
          "AuthorName": "Jose Raul Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=292854&course=5",
          "role": [
            "Picture of Jose Raul Perez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Assignment submissions is tricky. Firstly, there need to be assignments and related submissions. Then you need to have the role of the teacher for that course to see the submissions (I spent some time gazing at the empty results before it clicked that I was not looking through the correct userId . A general approach, that I found useful, is to use a web service client like SoapUI to test the result of your webservice call (that will remove any suspiction on your own code that accesses the webservice). Once it works in SoapUI, job is easy, to replicate the results in your code.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, March 21, 2011, 3:14 PM",
          "AuthorName": "Ramakant Kulkarni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295351&course=5",
          "role": [
            "Picture of Ramakant Kulkarni"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Ramkant, Nice advice abour SoapUI. The latest version of OK Tech on github now allow to see also its OWN submission(s) so I student can check was he has uploaded. See previous post for current limitation to Moodle 1.9 for retrieving assign,men submissions. Work is in progress in that direction... Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 21, 2011, 3:35 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Thanks Patrick, I am still on 1.9 hoping to move across soon, this tip surely helps and expedits my decision.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 21, 2011, 5:34 PM",
          "AuthorName": "Ramakant Kulkarni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295351&course=5",
          "role": [
            "Picture of Ramakant Kulkarni"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "I'm very very very happy to say this: My first little contribution for OKTech Web Services, I made first approach of get_assignment_submissions for Moodle 2.0 , now a student can see his submission (I tested online submission and one file submission, probably more than one file, works too). So, you can see it here (just a fork of main project): https://github.com/joseraul/moodlews/blob/master/wspp/server.class.php Only for Moodle 2.0 !! Cheers !!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 22, 2011, 6:22 AM",
          "AuthorName": "Jose Raul Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=292854&course=5",
          "role": [
            "Picture of Jose Raul Perez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Jose, Nice addition. I have added some notes on your commit at github Cheers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, March 22, 2011, 6:14 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Patrick New little revision of get_assignment_submissions with some of your suggestions. I have created new function, update_submission , it \"works\" for online submission and one file submission, only tested in Moodle 2.x. But The problem is that I don't know how to register the webservices function.. I have tested outside of the webservices but using same logic. Could you help me in this steps? in to register the new function? All the work is here, https://github.com/joseraul/moodlews/blob/master/wspp/server.class.php Lots of thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 26, 2011, 7:31 PM",
          "AuthorName": "Jose Raul Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=292854&course=5",
          "role": [
            "Picture of Jose Raul Perez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi José, 1) you have to add the same function declaration in class mdl_soapserver.class such as +  function update_submission ($client, $sesskey, $assignmentid, $userid, $newData, $files) {} and that function must call the parent function 2) depending of the return type (simple, object or array of objects) the syntax is different : if you return a simple type , juste return it (see function logout) if you return an object, you have to call the to_soap() function to wrap it in a known php class whose name is passed in parameter . See for example functions affect_xxxx_to_xxxxx that return an affectRecord il you return an array of objects, you have to call to_soaparray() instead. See function get_roles(). to start with, you should try to return something simple and not a new type of Record.  AffectRecord with an error flag and an error message is easy to use . See function send_message() in server.class.php for an example of 'filling' it. 3) then, and it is the most tedious part you have to update the WSDL for your new operation : if you use the old WSDL, i.e; you call http://yourmoodle/wspp/wsdl_pp.php you have to do it by hand by editing file wspp/moodlewsdl.xml  (see docs on cipcnet to see all sections that must be modified; that really difficult and error prone) I recommend that you switch to the new way , i.e. calling the Web Services by http://yourmoodle/wspp/wsdl_pp2.php . then you just have to add PHP docs comment at the beginning of your new function in the class mdl_soapserver.class.php (@param AND @return)  and run the provided utility genwsdl.php that will produce a new wsdl file named moodlewsdl3.xml. If pleased with the result, SAVE  YOUR CURRENT file moodlews2.wsdl somewhere and copy moodlewsdl3.xml to moodlewsdl2.xml... and test using SoapUI and call http://yourmoodle/wspp/wsdl_pp2.php ... If you ever change the number of the type of parameters of your function update_submission you must repeat this process. When OK I shall take care of the 'manual way' to update the old WSDL for 'old clients'  that cannot be recompiled everyday... Good luck. Edit : Let's try to work by r egular email instead of using this forum until we reach a final solution My mail is pp[at]patrickpollet[dot]net Edit2 : Have you got some news of some german students that are also looking for this extension ( but for Moodle 1.9x which is simpler, I think).",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Sunday, March 27, 2011, 1:17 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Jose, get_assignment_submissions() is not currently working with Moodle 2.0 due to major changes in file storage API. there is nothing yet available to add/edit submissions for the very same reason Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 21, 2011, 3:32 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi moodlers, I 'am wondering if there is an oktech web service that upload a file (add it under  a specific course). It's an important feature, also a web service that download a file from a specific course ? Best Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 28, 2011, 5:09 PM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Not yet, but you are welcome to implement it see https://github.com/patrickpollet/moodlews/wiki/Extending-the-moodle-ws Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 29, 2011, 10:01 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "hi patrick I am using your java library , and my question is : how can I get the role of a specific user using the ok tech web services (including wsdl1 and wsdl2).What method can I use ? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 30, 2011, 9:18 PM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, the operation you are looking for is get_role_byid   or get_role_byname",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 30, 2011, 10:43 PM",
          "AuthorName": "John Hunsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1263489&course=5",
          "role": [
            "Picture of John Hunsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "hi, thanks for the replay well get_role_byid and get_role_byname doesn't return the role of a specific user, instead it return the role record of a specific role . But I solved the problem by parsing the userRecord and retreiving the role field value . Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 31, 2011, 1:11 AM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Yes, this is the easiest way. A raw value of role field (1=admin,2=creator, 3=teacher, 4=nonediting, 5=student....) has been added to simplify clients codes to all get_user(s) operations.  It does not take care of extra capabilities that may have been added locally to some context within the target course The 'official way' is to call has_role_in_course() ...but at the cost of one more SOAP call. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 31, 2011, 1:36 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "hi patrick, Why the roleid field in a user record always =0, this doesn't help. Is there a way to make this raw field change in dependce with the user nature? Any idea? Is thre a settings up I need to do first when asseigning a role to an user in moodle? regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 31, 2011, 3:13 AM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "hi , something is wrong with the field \"role\" in UserRecord , no matter what I do , it always returns 0 as value. It supposes return 3 for teacher and 5 for student and 1 for manager,... regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 31, 2011, 7:28 AM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "hi again , I ve been trying for 5 hours to find a way to retreive the role depending on parameters of a specific user using the okteck web services methods, but no luck so far I need the role retreived in back office after the authentication , so i can manage the redirection toward the UIs. If the authenticated user is a teacher , then he will be redirected toward a specific UI.And to a diffrent UI in case he is a student . This is extremely important in a moodle client application. I even tried to create a web service but I am just not good at it . Please help me with this issue Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 31, 2011, 10:31 AM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "It does not work that way. An user can be a teacher in one course and a student in another one, so you cannot retrieve a role based only on that user 'login' ., you must provide also the target course.  In old Moodle there was a function is_teacher_isanycourse but it is now deprecated, so was not implemented in Web Service You must either call : get_my_courses, then for each course the field myrole in each returned courseRecord will contains 1,2,...6, thus giving the 'primary' role of that user in that course. get_course_users , then for a given course you will get the list of 'enroled people' and for each of them the field role with be 1,2,3... get_primary_role_incourse , then for a given user and a given course it will return the minimal value of all roles he may have in that course (thus the primary name) : i.e. if admin 1, teacher 3 .... has_role_in_course , then for a given user, a given course  and a given role id (1...6) it will return true or false any other call related to users will return 0 in role field Cheers. Edit : the two calls get_primary_role_incourse and has_role_incourse were not present in the new WSDL emitted, so could not be called with the new method via wspp/wsdl_pp2.php ; they were OK with the old one wspp/wsdl_pp.php They just have been added in the last commit on github for moodlews and also to the jar needed from Ksoap2 (checkout moodlews_1.8.2.jar on github for moodlews_ksoap2).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 31, 2011, 4:52 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi patrick, sorry for disturbing you but i need your help I found the \"get-resources\" method that returns all the resources of a specific courses i think , but I did not understand the \"idfield\" field. would you tell me what does it represent ? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 5, 2011, 11:48 AM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "It has been aleready answered above in this forum. See http://moodle.org/mod/forum/post.php?reply=668824 Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 5, 2011, 10:49 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi patrick how can I retreive the files list of a specefic course using the oktech web services. For exemple I created a course named \"Java\" and two pdf files under it .I want to get these files. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 5, 2011, 2:06 AM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Patrick, Do you know if it is possible to use OKTech with Shibboleth ? And how to set up a proper login with it? Thank you. -Giulio",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 29, 2011, 8:14 PM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Definitively not working with Shibboleth nor CAS. The login process expects an 'internal' authentification method such as manual, ldap, external DB or even dedicated web service  ... where login & pwd can be internally checked for match in a simple php script. But no way with some systems that may redirect to another Web page such as CAS or Shibboleth. I double checked source code (see login method in script server.class.php)  and currently all auth plugins classes located in Moodle's auth/ directory that return false to is_internal() method will be rejected. Cheers. NB : Moodle 2.0 WS may works with Sibboleth/CAS since it has an alternate authentication process using a token that I don't not about...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 29, 2011, 9:46 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, I finally found some time to update the documentation of OK Tech both on Moodle docs and on github project associated Wiki. Featured page for today is https://github.com/patrickpollet/moodlews/wiki/Extending-the-moodle-ws that's try to explain how to add new operations to this Web Service . The example given in that tutorial (i.e. adding a get_message_contacts operation the esay way) is purely for demonstration since that operation sending back all contacts of a Moodle's user (with message counts and online status) has just been added to the latest commit. Special delivery for John H. that may need it Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, March 31, 2011, 1:30 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Patrick, thank for your answer.... it was a bad news for me :P I'm creating a moodle client for my school. Since here in Switzerland all the university use moodle with a centralized login to shibboleth. Anyway the first version of this client should use the normal login. But I have to developed it considering that will be extended to use a login with shibboleth. Now I'm looking for two ways, maybe you can give me some suggestions: 1.Using the OKTech services for the first version. Then for the shibboleth modifying the login of the plugin such that will work with the internal authentication of shibboleth.  Is this a possible solution on your advice? 2.Extend the MoodleRest Library with the necessary services (maybe the same as in OKTech plugin). For this solution I did some research but I didn't found any ws different from the default ones. The problem is this could take long time and I really don't I to start it: login, maintain the session. Is this a valid solution, where could I find some services (such the login) that have already been implemented? Could I take maybe the services (the structure) from OKTech? Thank you very much",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 2, 2011, 9:33 PM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi Guilio, I think you could modify OK Tech login operation or better  add a new operation loginShibo that will do the job. As long as it returns a valid client number and a session key (and inject it it the table mdl_webservices_session) for later use by all other operations., that is change the beginning of current operation 'login' but keep the second part that deals with the database tables. (ie the par that start at the comment ' /// Verify that an active session does not already exist for this user. ...' - the only trouble I see is how this operation will invoke the external server that holds Shiboleth  data (ie launch some sort of Web browser ?) . I have no experience in Shiboleth ... but if it is like CAS we use here, I guess you will have to have some 'sort of cookie' on the client side that states that authentification has been successul sometime before ; that is you must force your future clients to first connect to Shiboleth, and keeps the tokens to sent it to the operation 'loginShibo'... that will check that the tokens are still valids ...(maybe an extra table in the data base ? ). Alternatively you may consider adding a new authentication plugin to Moodle and use it to 'login' with the credentials returned by Shiboleth... I don't know if using/extending  MoodleRest library will make any difference in that matter. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 4, 2011, 6:14 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello .. I am getting an error when I try to run \"php genwsdl.php\"\n\nI do this: \"C: \\ xampp \\ php> php C: \\ xampp \\ htdocs \\ mymoodle \\ WSPP \\ genwsdl.php\"\n\nand get the following error:\n\n\"Fatal error: requiere_once (): Failed opening required '.. / config.php' (include_path = '.; \\ xampp \\ php \\ PEAR)\" ..\n\nmaybe someone knows how to solve, or what is the correct way to do this",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 5, 2011, 12:08 PM",
          "AuthorName": "Esteban Chamba Jimenez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=814354&course=5",
          "role": [
            "Picture of Esteban Chamba Jimenez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi 1) the script genwsdl.php is meant to regenerate the provided WSDL if you plan to EXTEND the Web Service, i.e. to add operations. See https://github.com/patrickpollet/moodlews/wiki/Extending-the-moodle-ws Otherwise you don't need to reun in to 'install' and 'use ' OK Tech WS; 2) If you must run it, you must be into the wspp directory and simply run 'php genwsdl.php'. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 5, 2011, 10:35 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hi, I have successfully created an Android app which makes use of the OKTech Web Services plug-in. There are 3 projects which you will need to build, the Core and the OKTech client do the backend work and act as a client to the web serivce end point. The Android Messenger is a messaging app which works just like Sms using the Moodle Messgaing functionality. All my work is open source and on GitHub, please feel free to contribute and use my code as you see fit. https://github.com/johnhunsley The README.txt in the Messenger project is pretty comprehensive, covers everything you need to successfully build the Android app and get it branded and on the market but if you need further help please contact me. Kind regards, John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 27, 2011, 10:08 PM",
          "AuthorName": "John Hunsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1263489&course=5",
          "role": [
            "Picture of John Hunsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "OKTech Web Services  is going REST",
          "Text": "Hello, I am pleased to announce that I just commited on github project's page https://github.com/patrickpollet/moodlews revision 1.8.5 that now support also the REST protocol, in addition to the historical SOAP protocol, thus allowing writing of more potential clients. I am obviously targetting iPhones and others where java (and its rich set of SOAP aware libraries) is not the 'favourite language'. In REST mode, the main entry point is http://yourmoodle/wspp/service_pp2.php and expects at least two parameters (POST for real stuff or GET in testing mode) named wsfunction (the name of the target operation) and wsformatout (the output format desired). Others parameters specific to the supported target operation are the same as in SOAP mode. Currently all operations described in the WSDL are supported.  Although the usual workflow (i.e : call to login (username,password), fetch the client and session key, passing them as arguments of the target operation and finally logout) , is stille the recommanded one for real clients, there is also a singleshot mode if two parameters wsusername and wspassword are detected, thus allowing to test directly an operation (in one shot Supported output formats are : json : suitable for many parsing libraries such as Google's Gson or Ajax clients php : the results are serialized using php standard function serialize() and should be deserialized on the client side by the standard php function unserialize() xml : we use the same XML format as Moodle 2.0's official Web Service, so parsing routines of existing clients can be reused dump : a simple crudely formatted text dump of the returned data (for debugging/data analyzing  purposes) See Moodle's docs page http://docs.moodle.org/en/Web_Services:OK_Tech_Web_Services of this projet for examples of usage . A new project has been launched on github to automatically create java stub and helper classes suitable for usage in REST mode, with JSON output format. See https://github.com/patrickpollet/moodlews_gson Enjoy. Edit : The REST part should be considered as pré-beta version, and will be finalized when more testings/feedbacks are done by the community.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Saturday, April 30, 2011, 7:29 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services  is going REST",
          "Text": "Hi, Thank you for your great job. I will try on my android client asap, maybe it will be faster I'm having some problems with get_my_courses: I get all the informations but when I try to get_students or get_teachers/get_teacher it returns only an empty string. It is normal? Another question: I'm still having trouble with the calendar: get_events(MoodleWSDL.getCLIENT(), MoodleWSDL.getSESSIONKEY(), 0, \"id\" , \"\" ) is the only way to get all the events.... The other combinations does not work. Thank you for the support -Giulio",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, May 2, 2011, 9:51 PM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services  is going REST",
          "Text": "Hi Patrick, Sorry but I have another question for you I'm trying to get the resource informations from the courses, I tried in the following two ways: get_resourcefile_byid(MoodleWSDL.getCLIENT(), MoodleWSDL.getSESSIONKEY(), 3); get_resources(MoodleWSDL.getCLIENT(), MoodleWSDL.getSESSIONKEY(), new String[]{ \"1\" }, \"id\" ); And I always get: <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"><SOAP-ENV:Body><SOAP-ENV:Fault><faultcode>Wspp Server</faultcode><faultstring>feature get_resources for Moodle 2.0 not yet implemented</faultstring></SOAP-ENV:Fault></SOAP-ENV:Body></SOAP-ENV:Envelope> Is there any way to download resources like .pdf, .doc,... ? It is a really important features for my project. Thank you -Giulio",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, May 3, 2011, 5:09 AM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services  is going REST",
          "Text": "@Guilio, get_students and get_teachers were broken last week . they should be OK is the latest commit. You can test them in 'singleshot' REST mode by http://yourmoodle/wspp/service_pp2.php?wsusername=you&wspassword=yourpassword&wsformatout=dump&wsfunction=get_teachers&idcourse=116&idfield=id or http://yourmoodle/wspp/service_pp2.php?wsusername=you&wspassword=yourpassword&wsformatout=dump&wsfunction=get_students&idcourse=116&idfield=id As far as get_events is concerned you send the parameters the wrong way. The value must be before the idfield so something like get_events(MoodleWSDL.getCLIENT(), MoodleWSDL.getSESSIONKEY(), 8, the moodleid , \"id\" )  should work : eg, still in REST http://localhost/moodle.195/wspp/service_pp2.php?wsusername=xxxxx&wspassword=zzzzz&wsformatout=dump&wsfunction=get_events&eventtype=8&ownerid=ppollet&owneridfield=username As far as get_resources is concerned, well ...   I need time and/or help of people more familiar than me to the new Moodle 2.0 files API to finish it .... Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 3, 2011, 6:59 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services  is going REST",
          "Text": "Hi Patrick, I'm testing my android client with the rest library and it works like a charm It's seems to be faster Also the link to test it, get_students and get_teachers work without problems My question was about get_my_courses form the returns item I try to get the teacher directly from the record: ie.: returnedRecord.get_teacher/get_students but are all empty. To get the teacher should I do another query with get_teachers from the moodle object? I think this will require an extra time :/ I'm still having also problem with get_events I tried with the rest link and it doesn't work.... maybe I didn't get what the ownerid is: I tried with: http://localhost:8888/wspp/service_pp2.php?wsusername=armando&wspassword=xxxxx&wsformatout=dump&wsfunction=get_events&eventtype=8&ownerid=armando&owneridfield=username But I got only this: \n```text\n\n```\n \n```text\nArray\n(\n    [0] => stdClass Object\n        (\n            [error] => no results.\n        )\n\n)\n```\n ) While with 0,3,5,6,7 I get all the events.... Thank you very much for your help",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, May 4, 2011, 4:40 AM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services  is going REST",
          "Text": "Hi Patrick, I would like to ask you how is going with the get_resource method and if it will be possible to downloads the resources using moodle 2.0 soon. Hope you have good news. Thank you -Giulio",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 12, 2011, 12:03 AM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services  is going REST",
          "Text": "Hi Patrick, I'm having some problems with get_my_assignment_grade function, I get this error: <faultstring>Wspp Base Server :activity assignment with id  unknown.</faultstring> </SOAP-ENV:Fault></SOAP-ENV:Body></SOAP-ENV:Envelope> and as parameter I give client, session key and the assignment id. While with get_all_assignments all the assignments with grade 100 and no feedback. I'm interested to get the grade and feedback of each assignment/activity. Do you have any suggestion on how should I modify the php to get that informations? Thank you very much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 16, 2011, 9:52 PM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, I have been following the development of OK Tech Web Services and Moodle's core Web Services. http://docs.moodle.org/en/Web_Services:OK_Tech_Web_Services http://docs.moodle.org/en/Development:Web_services Are there any plans to implement OK Tech Web Services operations using the Moodle 2 Web Services infrastructure? We are at the moment looking into ways to integrate Moodle 2.x with our external Student Information System. The Moodle 2 core Web Services infrastructure looks promising but it's still lacking the functionality we need. Would be great to see OKTech WS's functionality available in Moodle 2.x core Web Services. regards, Heiko",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 3, 2011, 4:21 PM",
          "AuthorName": "Heiko Schach",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1036516&course=5",
          "role": [
            "Picture of Heiko Schach"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "@Heiko, After some exchanges with Moodle HQ, here is my best answer : http://docs.moodle.org/en/Web_Services:OK_Tech_Web_Services#The_future Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 6, 2011, 9:42 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "hi patrick I tried the message_send() with soapui , and in spite of the response 'could not iniciate mail fonction' , the message is sent , and i can check it in moodle . So i tried to implement this fuction in my application. But something is wrong , a classcast exception (moodle_soapserverBindingStub class) is thrown wen I call the message_send web service. here is my code : Mdl_soapserverBindingStub moodle_msg = new Mdl_soapserverBindingStub(recup_url,recup_namespace,WS_DEBUG); moodle_msg.message_send(recup_id, recup_sessionkey,\"3\",\"id\",\"hello\"); Any ideas ? regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 7, 2011, 12:14 AM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech Web Services",
          "Text": "Hello, I am excited to announce that OK Tech WS can now be used also under the official Moodle 2.0 infrastructure. You may now still use it either the 'historical way' or the Moodle 2.0 way. This has been committed as an alpha version of github starting at https://github.com/patrickpollet/moodlews/commit/d5349f2db42d570579a9ead201d0a923f04f6967 See the README file in wspp/moodle2integration folder. Enjoy.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 30, 2011, 6:43 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Preserving Grades for \"Unenrolled\" Students",
          "Text": "My current project involves synchronizing our university’s SIS course enrollment information with Moodle 2.0.3+ using OKTech web service’s API.  Should a student withdraw from a course I would like to preserve the teacher’s ability to view the corresponding student’s grade information in Moodle. Invoking the web service method “remove_user_from_course” has the unfortunate consequence of not only deleting the student from the course but also all of their grade information. Moodle 2.0’s UI has the ability, under the “Enrolment methods” column of the “Enrolled” users’ page for the course to change a student’s enrolment from “Active” to “Suspended”.  This appears to have exactly the desired result – their grades are kept, their name is flagged as suspended in the grade book, and the student no longer can access the course.  The page's php code can be found in enrol/users.php under the \"edit\" action. Questions: #1  Can the web services API be used to suspend a user from a course? #2  If not, can this behavior be automated by some other mechanism? #3  Or is there a better way, other than suspension, to accomplish this same result?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2011, 3:06 AM",
          "AuthorName": "Art Shelly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312651&course=5",
          "role": [
            "Picture of Art Shelly"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "Hello, >#1  Can the web services API be used to suspend a user from a course? No. Current API is mostly based on Moodle 1.9 behavior and 'suspsenion' of users enrolments only appeared in 2.0 >#2  If not, can this behavior be automated by some other mechanism? I suspect that you will have to extend the WS to add a couple operations such as suspend_user_enrolment ($client,$sesskey,$userid,$useridfield,$courseid,$courseidfield,$enrolmethod) and the corresponding resume_user_enrolment. something like $moodle->suspend_user_enrolment ($client,$sesskey,'jdoe','username','chem101','idnumber','manual') In final this operation should 1) check moodle version >=2.0 by peeking at $CFG->wspp_using_moodle20 flag that is automatically set upon OKTech inilitialzation code 2) check/retrieve as usual $user and $course from ($userid,$useridfield) and ($courseid,$courseidfield) ; I just noticed that remove_user_from_course does not have the '$*idfields' extra parameters and expect simple Moodle user id and course id, so you could just do the same... 2bis) check logged user capability to enrol/unenrol in that course Actually almost the same code as remove_user_from_course 3) look into mdl_enrol table for the $enrolid of the given $enrolmethod for the $course->id and if found use ( $enrolid, $user->id) to update the status field of the corresponding record in table mdl_user_enrolments to 1 if suspended of 0 if not... I guess it should be quite easy to implement (see https://github.com/patrickpollet/moodlews/wiki/Extending-the-moodle-ws ) I do hope that the get_grades operations, that relies on API function grade_get_course_grade will then honor this 'suspension'. >#3  Or is there a better way, other than suspension, to accomplish this same result? Maybe your application could simply keep track of suspended users (and thus not call oktech remove_user_from_course operation) and filter them off when retrieving their grades from subsequent oktech calls to get_course_grades or get_user_grades Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2011, 3:38 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "Patrick, i've seen here: https://github.com/patrickpollet/moodlews/blob/master/wspp/moodlewsdl.xml that you added support for getting resource, even downloading file content I presume (via get_resourcefile_byid, get_resources, get_instances_bytype and other operations) Now, is it possible somehow to \"add\" a resource to a course ? Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 29, 2011, 5:13 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "hi, i'm a newbie, i would like to make  a client android using moodle's web service. i've download https://github.com/patrickpollet/moodlews and   i've installed moodle 2.0. i tried to follow the file's instruction ISTALL.txt but i have some problem when i try to run the script :php wsdl2php.php http://yourmoodle/wspp/wsdl_pp.php the problem is: PHP warning: unable to load dynamic library 'C:\\php\\ext\\php_java.dll' the specified procedure could not be found so i've installed zend server with java bridge to solve this problem but it still remains. another thing i try lo run login request with soapUI.... but i received this response: <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"> <SOAP-ENV:Body> <SOAP-ENV:Fault> <faultcode>MOODLE:error</faultcode> <faultstring>Wspp Base Server :Invalid username and / or password.</faultstring> </SOAP-ENV:Fault> </SOAP-ENV:Body> </SOAP-ENV:Envelope> so which username/ password i have to fill in?? thanks in advance and sorry for my poor english!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 27, 2011, 11:50 PM",
          "AuthorName": "ricky farris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1369058&course=5",
          "role": [
            "Picture of ricky farris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "hi patrick, i tried to make an android client that uses moodle's web service but i have this error: org.xmlpull.v1.XmlPullParserException: expected: START_TAG\". my code is: package com.log; import android.app.Activity; import android.os.Bundle; import android.app.Activity; import android.os.Bundle; import android.widget.TextView; import org.ksoap2.SoapEnvelope; import org.ksoap2.serialization.SoapObject; import org.ksoap2.serialization.SoapSerializationEnvelope; import org.ksoap2.transport.HttpTransportSE; public class log extends Activity { private static final String SOAP_ACTION = \" http://192.168.1.3/moodle/wspp/wsdl#login \"; private static final String OPERATION_NAME = \"login\"; private static final String WSDL_TARGET_NAMESPACE = \" http://192.168.1.3/moodle/wspp/wsdl \"; private static final String SOAP_ADDRESS = \" http://192.168.1.3/moodle/wspp/login.asmx \"; @Override public void onCreate(Bundle savedInstanceState)  { super.onCreate(savedInstanceState); TextView textView = new TextView(this); setContentView(textView); SoapObject request = new SoapObject(WSDL_TARGET_NAMESPACE, OPERATION_NAME); request.addProperty(\"username\", \"admin\"); request.addProperty(\"password\", \"Riccardo_1980\"); SoapSerializationEnvelope envelope = new SoapSerializationEnvelope( SoapEnvelope.VER11); envelope.dotNet = true; envelope.bodyOut=request; HttpTransportSE httpTransport = new HttpTransportSE(SOAP_ADDRESS); try { httpTransport.call(SOAP_ACTION, envelope); Object response = envelope.getResponse(); textView.setText(response.toString()); } catch (Exception exception) { textView.setText(exception.toString()); } } } please help me... i have no idea to solve the problem!!!!thank you in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2011, 5:01 PM",
          "AuthorName": "ricky farris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1369058&course=5",
          "role": [
            "Picture of ricky farris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "@rick, at least your  SOAP_ADDRESS = \" http://192.168.1.3/moodle/wspp/login.asmx \"; is definitively wrong. Please do not waste your time rewriting all basic operations using ksoap2 low level functions. Just decide whether you want to talk SOAP or REST and use higher level API described at https://github.com/patrickpollet/moodlews_ksoap2 or https://github.com/patrickpollet/moodlews_gson In the first case you will need ksoap2  jar and in the second Google gson jar. An example of SOAP Android client is given here https://github.com/patrickpollet/moodlews_ksoap2/blob/master/src/net/patrickpollet/moodleandroid/moodleandroid2.java More exhaustive examples in both SOAP and REST are given in classes named Testx.java  that do not run on Android but can be usd as samples of what can be done. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2011, 9:20 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "Hi Patrick thank you so much... i rewrite the code and i substitute the row : SOAP_ADDRESS = \" http://192.168.1.3/moodle/wspp/login.asmx with the following private static final String SOAP_ACTION = \" http://192.168.1.3/moodle/wspp/wsdl \"; private static final String OPERATION_NAME = \"login\"; private static final String WSDL_TARGET_NAMESPACE = \" http://192.168.1.3/moodle/wspp/wsdl \"; private static final String SOAP_ADDRESS = \" http://192.168.1.3/moodle/wspp/service_pp2.php \"; but i have the same errors... i'm a newbie in android (and moodle) and i try to understand how does it works using web services and ksoap2 library... i tried https://github.com/patrickpollet/moodlews_ksoap2/blob/master/src/net/patrickpollet/moodleandroid/moodleandroid2.java i build the android project with the ksoap2 jar and it works and i've seen the phrase 'hello world,moodle' but i don't understand very much how it works... in the code: private final String MOODLE_URL = \" http://192.168.1.3/moodle \"; private final String LOGIN = \"ciao\"; private final String PWD = \"Riccardo_1980\"; private final boolean WS_DEBUG = false; i put a wrong login but i have the same response, i've seen already 'hello world,moodle'...so this script don't try to connect with the moodle's db?? another thing: if i would test a web service function like \"get_my_courses\"  what kind a script have I to write??? i have to import ksoap2 library and define this variables private static final String SOAP_ACTION = \" http://192.168.1.3/moodle/wspp/wsdl \"; private static final String OPERATION_NAME = \"get_my_courses\"; private static final String WSDL_TARGET_NAMESPACE = \" http://192.168.1.3/moodle/wspp/wsdl \"; private static final String SOAP_ADDRESS = \" http://192.168.1.3/moodle/wspp/service_pp2.php \"; i have very confused idea so please help me!! thank you so much",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2011, 10:59 PM",
          "AuthorName": "ricky farris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1369058&course=5",
          "role": [
            "Picture of ricky farris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": ">i put a wrong login but i have the same response, i've seen already 'hello >world,moodle'...so this script don't try to connect with the moodle's db?? as stated on the comment at the top of the sample code, the program does not display anything on the Android device but write all data exchanged in the device system log. So under Eclipse, open the DDMS perspective and consult the Log cat . You will see there all output of the code . >another thing: if i would test a web service function like \"get_my_courses\"  what >kind a script have I to write??? i have to import ksoap2 library and define this >variables the sample code provided just does this. it call first login, the get_my_id then get_my_courses see CourseRecord [] crs = moodle . get_my_courses ( lr . getClient (), lr . getSessionkey (), \"\" + me , \"\" ); Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2011, 12:50 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "hi Patrick, thank you so much! i run login script and i see the Logcat and this is what i've received: 09-29 21:05:09.785: INFO/ActivityManager(52): Starting activity: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.moodle/.moodle } 09-29 21:05:10.155: INFO/ActivityManager(52): Start proc com.moodle for activity com.moodle/.moodle: pid=232 uid=10026 gids={3003, 1015} 09-29 21:05:10.165: INFO/ActivityManager(52): Starting activity: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.moodle/.moodle } 09-29 21:05:10.365: INFO/jdwp(232): received file descriptor 20 from ADB 09-29 21:05:10.505: DEBUG/ddm-heap(232): Got feature list request 09-29 21:05:10.655: DEBUG/dalvikvm(52): GREF has increased to 301 09-29 21:05:11.235: WARN/System.err(232): org.xmlpull.v1.XmlPullParserException: expected: START_TAG { http://schemas.xmlsoap.org/soap/envelope/ }Envelope (position:START_TAG <html>@2:7 in java.io.InputStreamReader@43779e68) 09-29 21:05:11.255: WARN/System.err(232):     at org.kxml2.io.KXmlParser.exception(KXmlParser.java:245) 09-29 21:05:11.255: WARN/System.err(232):     at org.kxml2.io.KXmlParser.require(KXmlParser.java:1376) 09-29 21:05:11.265: WARN/System.err(232):     at org.ksoap2.SoapEnvelope.parse(SoapEnvelope.java:127) 09-29 21:05:11.265: WARN/System.err(232):     at org.ksoap2.transport.Transport.parseResponse(Transport.java:63) 09-29 21:05:11.265: WARN/System.err(232):     at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:100) 09-29 21:05:11.265: WARN/System.err(232):     at net.patrickpollet.moodlewsold.core.MoodleWSBindingStub.login(MoodleWSBindingStub.java:31) 09-29 21:05:11.275: WARN/System.err(232):     at com.moodle.moodle.onCreate(moodle.java:58) 09-29 21:05:11.275: WARN/System.err(232):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1123) 09-29 21:05:11.275: WARN/System.err(232):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2364) 09-29 21:05:11.285: WARN/System.err(232):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2417) 09-29 21:05:11.285: WARN/System.err(232):     at android.app.ActivityThread.access$2100(ActivityThread.java:116) 09-29 21:05:11.285: WARN/System.err(232):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794) 09-29 21:05:11.285: WARN/System.err(232):     at android.os.Handler.dispatchMessage(Handler.java:99) 09-29 21:05:11.295: WARN/System.err(232):     at android.os.Looper.loop(Looper.java:123) 09-29 21:05:11.295: WARN/System.err(232):     at android.app.ActivityThread.main(ActivityThread.java:4203) 09-29 21:05:11.295: WARN/System.err(232):     at java.lang.reflect.Method.invokeNative(Native Method) 09-29 21:05:11.295: WARN/System.err(232):     at java.lang.reflect.Method.invoke(Method.java:521) 09-29 21:05:11.305: WARN/System.err(232):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791) 09-29 21:05:11.305: WARN/System.err(232):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:549) 09-29 21:05:11.305: WARN/System.err(232):     at dalvik.system.NativeStart.main(Native Method) 09-29 21:05:11.605: INFO/ActivityManager(52): Displayed activity com.moodle/.moodle: 1755 ms (total 1755 ms) so i have the same problem : org.xmlpull.v1.XmlPullParserException: expected: START_TAG do you have any idea to solve this problem?? what is the cause of this error? thank you so much!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2011, 5:09 AM",
          "AuthorName": "ricky farris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1369058&course=5",
          "role": [
            "Picture of ricky farris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "@rick, : org.xmlpull.v1.XmlPullParserException: expected: START_TAG means that the Moodle part of OKTech WS did not answered by a well formed XML document as expected. So I suspect some installation problem. Did you visit notifications in Moodle adminstration after installing it ???? you can test by directly calling it with a browser : http://youmoodleserver/wspp/wsdl_pp2.php should returns you a well formed XML document detailing the WSDL of the operations and exchanged data types. I suspect that you get something else (an error message, a php notice or just nothing it the script died....). Also try to put your Moodle in full debugging mode (in Administrative screens) to get more detailed error reporting. also try http://yourmoodleserver/wspp/service_pp2.php that should returns you the list of available operations Plz also check the file moodledata/debug.out that contains a lot of debugging informations specific to the server part. When all this works as expected you can read the documentation of current operations (names and required parameters) at http://prope.insa-lyon.fr/~ppollet/moodlews/java/ksoap2/moodlews/net/patrickpollet/moodlews/core/Mdl_soapserverBindingStub.html and experiment with then with an interactive SOAP client such as SoapUI. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2011, 4:14 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "Hi Patrick, i visited notification and this is the response at cron.php script \n```text\nServer Time: Fri, 30 Sep 2011 16:08:48 +0200\n\n\nCleaning up stale sessions\nStarting activity modules\nProcessing module function assignment_cron ...... used 3 dbqueries\n... used 0.18111300468445 seconds\ndone.\nProcessing module function chat_cron ...... used 5 dbqueries\n... used 0.16782116889954 seconds\ndone.\nProcessing module function forum_cron ...Starting digest processing...\nCleaned old digest records\nRemoving old forum read tracking info...\n... used 7 dbqueries\n... used 0.25402498245239 seconds\ndone.\nProcessing module function scorm_cron ...Updating scorm packages which require daily update\n... used 5 dbqueries\n... used 0.069554090499878 seconds\ndone.\nFinished activity modules\nStarting blocks\nProcessing cron function for rss_client....\n0 feeds refreshed (took 0.051905 seconds)\ndone.\nFinished blocks\nStarting quiz reports\nProcessing quiz report cron function quiz_report_statistics_cron ...... used 3 dbqueries\n... used 0.034582853317261 seconds\ndone.\nFinished quiz reports\nStarting admin reports\nFinished admin reports\nStarting main gradebook job ...\ndone.\nStarting processing the event queue...\ndone.\nChecking automated backup status...INACTIVE\nRunning auth crons if required...\nRunning enrol crons if required...\nRunning cron for enrol_self...\nRunning cron for enrol_cohort...\nStarting course reports\nFinished course reports\nStarting gradebook plugins\nFinished gradebook plugins\nFetching external \nblog\n entries...done.\nDeleting blog associations linked to non-existent contexts...done.\nStarting registration update on hubs...\nXML-RPC must be enabled in order to update the registration.\nFinished registration update on hubs.\nDeleting old draft files... done.\nCleaning up files from deleted contexts... done.\nDeleting trash files... done.\nDeleting session linked tokens more than one day old...done.\nProcessing customized cron scripts ...done.\n\nCron\n script completed correctly\nExecution took 3.806234 seconds\n\n\n\ni think that the problem maybe is here:\n```\n \n```text\nXML-RPC must be enabled in order to update the registration.\n\n\n\n\nwhat do you think about?\n\n\nnow i try yours other suggestions\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2011, 10:13 PM",
          "AuthorName": "ricky farris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1369058&course=5",
          "role": [
            "Picture of ricky farris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "another thing in moodledata's folder there isn't debug.out file , why? when i've installed moodle i hadn't any problem...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2011, 10:25 PM",
          "AuthorName": "ricky farris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1369058&course=5",
          "role": [
            "Picture of ricky farris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": ".....another thing..i've install php_xmlrpc ext so now when i try to run the appl i have this error : 09-30 16:07:52.119: WARN/System.err(747): org.xmlpull.v1.XmlPullParserException: expected: START_TAG { http://schemas.xmlsoap.org/soap/envelope/ }Envelope (position:START_TAG <html dir='ltr' lang='en' { http://www.w3.org/XML/1998/namespace }xml:lang='en'>@2:79 in java.io.InputStreamReader@435bc330) i don't understand",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 1, 2011, 12:13 AM",
          "AuthorName": "ricky farris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1369058&course=5",
          "role": [
            "Picture of ricky farris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "i think that there is a conflict with the url page within the android's browser...if i put manually the url 192.168.1.3:100/moodle in the android's browser it not works but with 192.168.1.3:100/moodle/wspp it shows me the directory but if i try  192.168.1.3:100/moodle/wspp/service_pp2.php it crushes...i dont have any idea please help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 1, 2011, 12:49 AM",
          "AuthorName": "ricky farris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1369058&course=5",
          "role": [
            "Picture of ricky farris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "so it proves that the server part is not well installed. This file will be created at the first successfull call. what gives Firefox or IE when you call http://youmoodleserveraddress/wspp/wsdl_pp2.php ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 1, 2011, 12:22 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Preserving Grades for \"Unenrolled\" Students",
          "Text": "when i call localhost:100/moodle//wspp/wsdl_pp2.php i received a file called moodlews2.wsdl so i think that it's working but if i try to run the login script under eclipse it doesn't work.... i don't understand... i think that there is a problem parsing xml...but i don't know why?? maybe the problem is in the url or in the namespace.... my script is the following package com.log; import android.app.Activity; import android.os.Bundle; import android.app.Activity; import android.os.Bundle; import android.widget.TextView; import org.ksoap2.SoapEnvelope; import org.ksoap2.serialization.SoapObject; import org.ksoap2.serialization.SoapSerializationEnvelope; import org.ksoap2.transport.HttpTransportSE; public class log extends Activity { private static final String SOAP_ACTION = \" http://192.168.1.3:100/moodle/wspp/wsdl2/login \"; private static final String OPERATION_NAME = \"login\"; private static final String WSDL_TARGET_NAMESPACE = \" http://192.168.1.3:100/moodle/wspp/wsdl2/ \"; private static final String SOAP_ADDRESS = \" http://192.168.1.3:100/moodle/wspp/service_pp2.php \"; @Override public void onCreate(Bundle savedInstanceState)  { super.onCreate(savedInstanceState); TextView textView = new TextView(this); setContentView(textView); SoapObject request = new SoapObject(WSDL_TARGET_NAMESPACE,OPERATION_NAME); request.addProperty(\"username\", \"admin\"); request.addProperty(\"password\", \"Riccardo_1980\"); SoapSerializationEnvelope envelope = new SoapSerializationEnvelope( SoapEnvelope.VER11); envelope.dotNet = true; envelope.bodyOut=request; HttpTransportSE httpTransport = new HttpTransportSE(SOAP_ADDRESS); try { httpTransport.call(SOAP_ACTION, envelope); Object response = envelope.getResponse(); textView.setText(response.toString()); textView.setText(\"welcome\"+response.toString()); } catch (Exception exception) { textView.setText(exception.toString()); } } } i'm really confused and sad plz help me!!thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 3, 2011, 4:30 PM",
          "AuthorName": "ricky farris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1369058&course=5",
          "role": [
            "Picture of ricky farris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回复: OKTech Web Services",
          "Text": "HOW CENTERMART ?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/thoughtful"
          ],
          "Time": "Friday, October 14, 2011, 11:12 AM",
          "AuthorName": "tony tang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1385002&course=5",
          "role": [
            "Picture of tony tang"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Using get_activities()",
          "Text": "I have a project that uses OKTech WS extensively and for the most part everything is working beautifully. I have run into a problem though with get_activities. Here's the code I'm using: Dim act As New MoodleWS.getActivitiesReturn act = moodle.get_activities(lr.client, lr.sessionkey, \"1138\", \"id\", \"125\", \"id\", 50) I have verified that the hardcoded values in the above relate to a valid student and course. Upon executing the above i get the following error: The content type application/xml of the response message does not match the content type of the binding (text/xml; charset=utf-8). If using a custom encoder, be sure that the IsContentTypeSupported method is implemented properly. The first 1024 bytes of the response were: '<?xml version=\"1.0\" encoding=\"UTF-8\"?> <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"> <SOAP-ENV:Body><SOAP-ENV:Fault> <faultcode>MOODLE:error</faultcode> <faultstring>Error reading from database - ERROR: function from_unixtime(bigint, unknown) does not exist at character 110 HINT: No function matches the given name and argument types. You might need to add explicit type casts. SELECT l.*,u.auth,u.firstname,u.lastname,u.email, u.firstaccess, u.lastaccess, u.lastlogin, u.currentlogin, FROM_UNIXTIME(l.time,'%%d/%%m/%%Y %%H:%%i:%%s' )as DATE, FROM_UNIXTIME(u.lastaccess,'%%d/%%m/%%Y %%H:%%i:%%s' )as DLA, FROM_UNIXTIME(u.firstaccess,'%%d/%%m/%%Y %%H:%%i:%%s' )as DFA, FROM_UNIXTIME(u.lastlogin,'%%d/%%m/%%Y %%H:%%i:%%s' )as DLL, FROM_UNIXTIME(u.currentlogin,'%%d/%%m/%%Y %%H:%%i:%%s' )as DCL FROM mdl_log l , mdl_user u WHERE l.userid = u.id AND u.id = 1137 AND l.course=125 ORDER BY l.time DESC LIMIT 50 OFFSET 0 [array ( )]</faultstring> </SOAP-ENV:Fault></SOAP-ENV:Body></SOAP-ENV:'. The error seems to be indicating that the internal function call \"from_unixtime(bigint, unknown)\" is invalid. Does this mean there is a problem with OKTech or with our Moodle hosting environment?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 5, 2012, 1:46 PM",
          "AuthorName": "Scott Hooper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1392406&course=5",
          "role": [
            "Picture of Scott Hooper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using get_activities()",
          "Text": "Hello, I suspect that your underlying database is not 'MySQL' but Postgres or other, and unfortunately the function from_unixtime is mysql specific. see http://drupal.org/node/359777 the values DATE,DLA, DFA, DLL and DLC are an attempt to convert Unix time stamp to localized strings, easier to display on the client side . A quick fix should be to edit function get_activities in script wspp/server.class.php as follow Replace \n```text\nSELECT\n \nl\n.*\n,\nu\n.\nauth\n,\nu\n.\nfirstname\n,\nu\n.\nlastname\n,\nu\n.\nemail\n,\n```\n \n```text\nu\n.\nfirstaccess\n,\n \nu\n.\nlastaccess\n,\n \nu\n.\nlastlogin\n,\n \nu\n.\ncurrentlogin\n,\n```\n \n```text\nFROM_UNIXTIME\n(\nl\n.\ntime\n,\n'$fmtdate'\n \n)\nas\n \nDATE\n,\n```\n \n```text\nFROM_UNIXTIME\n(\nu\n.\nlastaccess\n,\n'$fmtdate'\n \n)\nas\n \nDLA\n,\n```\n \n```text\nFROM_UNIXTIME\n(\nu\n.\nfirstaccess\n,\n'$fmtdate'\n \n)\nas\n \nDFA\n,\n```\n \n```text\nFROM_UNIXTIME\n(\nu\n.\nlastlogin\n,\n'$fmtdate'\n \n)\nas\n \nDLL\n,\n```\n \n```text\nFROM_UNIXTIME\n(\nu\n.\ncurrentlogin\n,\n'$fmtdate'\n \n)\nas\n \nDCL\n```\n \n```text\nEOS\n;\n```\n by \n```text\nSELECT\n \nl\n.*\n,\nu\n.\nauth\n,\nu\n.\nfirstname\n,\nu\n.\nlastname\n,\nu\n.\nemail\n,\n```\n \n```text\nu\n.\nfirstaccess\n,\n \nu\n.\nlastaccess\n,\n \nu\n.\nlastlogin\n,\n \nu\n.\ncurrentlogin\n,\n```\n \n```text\n0 as\n \nDATE\n,\n```\n \n```text\n0 \nas\n \nDLA\n,\n```\n \n```text\n0 as \nDFA\n,\n```\n \n```text\n0 \nas\n \nDLL\n,\n```\n \n```text\n0 \nas\n \nDCL\n```\n \n```text\nEOS\n;\n```\n This will returns 0 for these columns (that are required to be present for later SOAP encoding.) Eventually also edit function filter_activity in filterlib.php by UNCOMMENTING the calculation of these values to read \n```text\nfunction\n \nfilter_activity\n(\n$client\n,\n \n$activity\n)\n \n{\n```\n \n```text\n    \n//add attributes with all timestamps converted to friendly dates\n```\n \n```text\n    \n//using moodlelib function userdate .\n```\n \n```text\n    \n/* some problems with a french Moodle and accentuaed month names\n```\n \n```text\n they are returned in latin1 and not utF8 --> SOAP conversion error */\n```\n \n```text\n $activity->DATE=userdate($activity->time);\n```\n \n```text\n $activity->DLA=userdate($activity->lastaccess);\n```\n \n```text\n $activity->DFA=userdate($activity->firstaccess);\n```\n \n```text\n $activity->DLL=userdate($activity->lastlogin);\n```\n \n```text\n $activity->DCL=userdate($activity->currentlogin);\n```\n \n```text\n    \nreturn\n \n$activity\n;\n```\n \n```text\n}\n```\n This may cause some SOAP encoding errors with some php versions were userdate returns month names in latin1 and not in utf8 . That's why I did these conversions in the SQL, forgetting that from_unixtime() is not an universal SQL function. In that case, just leave filter_activity as it was and do the localisation on the client side from returned values present in  time, lastaccess, firstaccess, lastlogin and currentlogin ( they are all Unix time stamps). Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 5, 2012, 4:11 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "OKTech Web Services",
          "Text": "I have a problem with using OKTech Web Services in my server. My moodle version is 2.3.1 and i have installed with latest version of wspp. I have made database upgrade for the same and added the webreference http://moodle.build/wspp/wsdl_pp.php in my dot net application. While running the application, I am getting error following error message. PHP Strict Standards: Declaration of mdl_baseserver::get_my_courses() should be compatible with that of server::get_my_courses() in \\moodle\\wspp\\mdl_baseserver.class.php on line 32 PHP Strict Standards: Declaration of mdl_baseserver::affect_group_to_course() should be compatible with that of server::affect_group_to_course() in \\moodle\\wspp\\mdl_baseserver.class.php on line 32 PHP Strict Standards: Declaration of mdl_baseserver::affect_grouping_to_course() should be compatible with that of server::affect_grouping_to_course() in D:\\School Of PE\\Moodle\\Build\\moodle\\wspp\\mdl_baseserver.class.php on line 32 PHP Strict Standards: Declaration of mdl_baseserver::get_activities() should be compatible with that of server::get_activities() in \\moodle\\wspp\\mdl_baseserver.class.php on line 32 PHP Strict Standards: Declaration of mdl_baseserver::affect_section_to_course() should be compatible with that of server::affect_section_to_course() in \\moodle\\wspp\\mdl_baseserver.class.php on line 32 PHP Strict Standards: Declaration of mdl_baseserver::affect_users_to_cohort() should be compatible with that of server::affect_users_to_cohort() in \\moodle\\wspp\\mdl_baseserver.class.php on line 32 PHP Strict Standards: Declaration of mdl_baseserver::affect_users_to_group() should be compatible with that of server::affect_users_to_group() in \\Moodle\\Build\\moodle\\wspp\\mdl_baseserver.class.php on line 32 Please advice.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 2, 2013, 9:18 PM",
          "AuthorName": "Archana Suresh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1437446&course=5",
          "role": [
            "Picture of Archana Suresh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  OKTech Web Services",
          "Text": "I don't believe that code has ever been updated to work with Moodle 2. Moodle 2 has web services as part of its native code base, but they are not the same. mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 19, 2013, 2:02 AM",
          "AuthorName": "Mike Churchward",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9561&course=5",
          "role": [
            "Picture of Mike Churchward",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 236657,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=236657",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "What software is a good fit with Moodle to stream content",
          "Text": "What software is a good fit with Moodle to stream teaching content(Mp3 and Mp4) that we currently have and anything new we would like to added. What can you recommend either free or pay for software as a service? Thank you for any direction.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 3, 2013, 10:10 PM",
          "AuthorName": "Mr. Marc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119727&course=5",
          "role": [
            "Picture of Mr. Marc"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 234292,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=234292",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Errorcode setting_locked_by_permission when calling core_course_duplicate_course",
          "Text": "Hi. I'm back after an absence of about a year and a half, now working with Moodle 2.5. I'm trying to copy a course using the core_course_duplicate_course Web service, but am getting a \"base_setting_exception\" with the errorcode \"setting_locked_by_permission\". My code is at the end of this posting. Most of it is copied from the test example in MDL-34085: Fix the backup options names in core_course_duplicate_course . I'm therefore pretty confident that it's OK. If I give it a non-existent course ID, it tells me so, indicating that it is finding the Web service and the courses in our Moodle. I'm not very familiar with using and administering Moodle, as distinct from programming it, so I want to know whether I might need to set some permission that allows courses to be copied, or to unset some default that prohibits it. Perhaps I need to set a permission on the courses? I can't see anything when I examine them, though. I have given our Web service role every permission that Moodle allows, by ticking all the boxes when I edit it. This is my code: \n```text\ndefine( \"MOODLE_URL\", \"moodle.me.com\" );\n\ndefine( \"TOKEN_FOR_BUILT_IN_FUNCTIONS\", 'bb586d9beef2c289af91fd9e4stewe7c3' );\n\n$params = array(\n  'courseid' => 5, \n  'fullname' => 'core_course_duplicate_course test', // New course full name\n  'shortname' => 'core_course_duplicate_course', // New course shortname\n  'categoryid' => 1, // New course category id\n  'visible' => 1, // Make the course visible after duplicating\n  'options' => array( array('name'=>'blocks', 'value'=>1)\n                    , array('name'=>'\nactivities\n', 'value'=>1)\n                    , array('name'=>'users', 'value'=>1)\n                    , array('name'=>'userscompletion', 'value'=>1)\n                    , array('name'=>'grade_histories', 'value'=>1), \n                    ) // Backup options \n);\n\n$function_name = 'core_course_duplicate_course';\n\n$token = TOKEN_FOR_BUILT_IN_FUNCTIONS;\n\n$serverurl = MOODLE_URL . '/webservice/rest/\nserver\n.php'. '?wstoken=' . $token . '&wsfunction=' . $function_name;\n\nrequire_once( './curl.php' );\n$curl = new curl;\n\n$response = $curl->post( $serverurl, $params );\n\necho $response;\n```\n And this is its output: \n```text\n<?\nxml\n version=\"1.0\" encoding=\"UTF-8\" ?>\n<EXCEPTION class=\"base_setting_exception\">\n<ERRORCODE>setting_locked_by_permission</ERRORCODE>\n<MESSAGE>error/setting_locked_by_permission</MESSAGE>\n</EXCEPTION>\n```\n Any ideas? Jocelyn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 14, 2013, 9:21 AM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Errorcode setting_locked_by_permission when calling core_course_duplicate_course",
          "Text": "Dear @ Jocelyn Ireson-Paine I am not have many years experience in Moodle. But my working with same web service. As per my experience, You need to assign role from user->role and also from web services-> http://docs.moodle.org/20/en/Using_web_services Best of luck. Using same code I am facing error Notice : Array to string conversion in .... \\moodle\\bpms\\lib\\filelib.php on line 3000 Any one have any idea please share.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 2, 2013, 2:40 PM",
          "AuthorName": "Syed Nayab Bukhari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1572908&course=5",
          "role": [
            "Picture of Syed Nayab Bukhari",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 234717,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=234717",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Webex",
          "Text": "Nobody can answer me??????? I cant install Webex in Moodle...I really need it!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 19, 2013, 7:01 PM",
          "AuthorName": "Mahdiye M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1635376&course=5",
          "role": [
            "Picture of Mahdiye M"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 234684,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=234684",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "webex",
          "Text": "Hi! Would you please tell me how can I install Webex in Moodle??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 19, 2013, 2:47 PM",
          "AuthorName": "Mahdiye M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1635376&course=5",
          "role": [
            "Picture of Mahdiye M"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 234605,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=234605",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Is enrol_manual_unenrol_users() in Moodle 2.5?",
          "Text": "Is enrol_manual_unenrol_users() in Moodle 2.5? I worked out some code for it which I posted in my Wny are there enrolment plugins instead of a function for enrolment and a function for unenrolment? thread. Fábio Souto took this up in Moodle / MDL-29934 Web service API Roadmap / MDL-30063 enrol_manual_unenrol_users() . From the comments there, I see that Fabio and Jérôme have tested it, and Rajesh Taneja has recommended a few changes. I've found that I need unenrolment in the new project I'm doing, but didn't see a Web-service function in Moodle 2.5. I couldn't see from the MDL what the state of affairs now is. Jocelyn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 18, 2013, 3:01 AM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 207875,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207875",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Uploading files as an assignment via a webservice?",
          "Text": "Hello! Now that I've gotten the web service working I've been playing around with it for a while and it works great! But sooner or later you hit another obstacle, and now I'm stuck again. I think it would be increadibly useful to have a web service for uploading files to assignments. I have already been looking into this and found some references to it in the dev docs ( http://docs.moodle.org/dev/Assignment_Web_Services ) Is anyone else but me interested in such functionality? I'm just seeing a world of possibilities here: Imagine letting students in a photography course loose to take whatever photos as they wish, instantly uploading there prefered photo directly into an assignment from their phone. That's pretty much what I'm trying to do at the moment, but my method so far has been to try to craft a http POST request containing a file and send it to the assignment much like submitting a browser form would. I've had some success with this, for example I receive a response as if the file had uploaded succesfully and all teachers get an email notification (as I have this enabled for the course), but the actuall file is not uploaded. Maybe someone else have managed to get something similar working? I'm using Moodle 2.3.1 by the way, and I'm eager to see what people think of this! Regards, Alexander Wiklund",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 26, 2012, 8:57 PM",
          "AuthorName": "Alexander Wiklund",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1461588&course=5",
          "role": [
            "Picture of Alexander Wiklund"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Uploading files as an assignment via a webservice?",
          "Text": "Wondering if there is a solution for this?  Would help very much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 23, 2013, 4:21 AM",
          "AuthorName": "Jeff Stay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1622619&course=5",
          "role": [
            "Picture of Jeff Stay"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Uploading files as an assignment via a webservice?",
          "Text": "Wondering if there is a solution for this?  Would help very much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 23, 2013, 4:21 AM",
          "AuthorName": "Jeff Stay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1622619&course=5",
          "role": [
            "Picture of Jeff Stay"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Uploading files as an assignment via a webservice?",
          "Text": "Hi, Some how i found solition via http://docs.moodle.org/dev/Web_services_files_handling but this upload at private files not at assignment , do anyone have any idea how to upload file in assignment via webservice in 2.3 and later",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 17, 2013, 12:19 PM",
          "AuthorName": "Mac Shah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1596746&course=5",
          "role": [
            "Picture of Mac Shah"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 218353,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=218353",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "lightwork setup problems (no functions) Help! moodle 2.4",
          "Text": "Hello, I'm using moodle 2.4, and trying to set up lightwork . When I following the instructions here: http://docs.moodle.org/dev/Lightwork under Administraiton and Configuration, I am able to get so far as setting up the Lightwork service, but I can't do the last step of adding the lightwork functions to the program.   Is there something I should install that I haven't or some trick I'm missing? I'm using the release version of 2.4.  I posted this to the assignment forum, and no one had any response....does anyone here have an idea? Thanks, Eric O",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 20, 2012, 12:21 AM",
          "AuthorName": "Eric Oberle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=267147&course=5",
          "role": [
            "Picture of Eric Oberle"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: lightwork setup problems (no functions) Help! moodle 2.4",
          "Text": "I also got stuck on this part. I also have moodle 2.4 and when I reached Administration and Configuration, I don't see the lightwork functions they are talking about. And when I try to connect to moodle from lightwork client, I get and error message saying \" SOAP message MUST NOT contain a Document Type Declaration(DTD)\". What am I doing wrong here? I have installed lightwork local server addon, enabled Networking on moodle, the public key also get generated successfully, I have even enabled web services and enabled SOAP even. And also created the External Service for lightwork but no function is imported to that service since there is no function prefixed as lightworks (followed this guide http://docs.moodle.org/dev/Lightwork ) Can anyone please help us?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1017484/No%20Lightwork.png",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/1017484/SOAP%20Error.png"
          ],
          "Time": "Tuesday, August 13, 2013, 3:19 PM",
          "AuthorName": "Lewis Hamilton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1379027&course=5",
          "role": [
            "Picture of Lewis Hamilton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: lightwork setup problems (no functions) Help! moodle 2.4",
          "Text": "Hi Lewis, The web service functions that would allow you to use Lightwork with the new assignment type are still under development and so Lightwork cannot yet be used with the new assignment module. Some of these functions are described in the section \"The new Lightwork web services\" in the development document that you refer to. Note that these functions do not contain the text \"lightwork\" since they are designed to be generic functions that can be used by anyone, not just Lightwork (your screenshot shows one of these functions - core_enrol_get_enrolled_users_with_capability). The current version of Lightwork (3.1.X) can only be used with the OLD 2.2 assignment type. When all the new web services are completed and integrated into Moodle, a new 4.1.X version of Lightwork will be made available that can be used with the new assignment type. Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 14, 2013, 4:33 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 217855,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=217855",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "To get all course topics and forums.",
          "Text": "How we fetch all course topics and forum by giving course id or short name in moodle with help of webservice.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 12, 2012, 3:05 PM",
          "AuthorName": "Adi Gupta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1534851&course=5",
          "role": [
            "Picture of Adi Gupta"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: To get all course topics and forums.",
          "Text": "Hai,, Please,, i also need answer for this problem,, any body can help. thankz",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 6, 2013, 7:47 PM",
          "AuthorName": "Bayu Wicaksono",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1433796&course=5",
          "role": [
            "Picture of Bayu Wicaksono"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: To get all course topics and forums.",
          "Text": "i think this URl is helpfull to you http://docs.moodle.org/dev/Web_services_Roadmap you can get list of forum and its discussion via mod_forum_get_forums_by_courses mod_forum_get_forum_discussions Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 29, 2013, 2:15 PM",
          "AuthorName": "Mac Shah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1596746&course=5",
          "role": [
            "Picture of Mac Shah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: To get all course topics and forums.",
          "Text": "core_course_get_contents : get detail a course thought courseid http://localhost/webservice/rest/ server .php?wstoken=28953b51167c5fbc30b3333ac2d2ff55&wsfunction= core_course_get_contents&courseid=2",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 14, 2013, 1:41 PM",
          "AuthorName": "Json Chau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1550897&course=5",
          "role": [
            "Picture of Json Chau"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: To get all course topics and forums.",
          "Text": "http://localhost/webservice/rest/ server .php?wstoken=28953b51167c5fbc30b3333ac2d2ff55&wsfunction= core_course_get_contents&courseid=2 I am trying above code and getting result => \"1\" I have created a token of user admin in moodle side - same tocken Id i am passing in above URL Can you plz help me what is wrong here ? I tried many scenario but each time getting result \"1\".. Regards, Santosh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 31, 2013, 1:13 PM",
          "AuthorName": "Santosh Kr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1586691&course=5",
          "role": [
            "Picture of Santosh Kr"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: To get all course topics and forums.",
          "Text": "Creating a token is not enough to enable access to web services.  You must also create an external service, enable a protocol (e.g. REST) and add the function (core_course_get_contents) to the service. See http://docs.moodle.org/25/en/How_to_create_and_enable_a_web_service",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 10, 2013, 4:10 AM",
          "AuthorName": "George Dorn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1629900&course=5",
          "role": [
            "Picture of George Dorn"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 233363,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233363",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problem for downhoad file (CVS,etc)",
          "Text": "[ ENGLISH ] As described in attachments , upgrading from version 2.2 to version 2.5 + I found this issue. The first file shows how is the server now , that is on production . The second file shows the status of the upgraded server which is now being tested . In the first there is the possibility of download the results as a file (CSV , etc. ) In the second this is no possible.Anyone know how I can solve this problem ? (Sorry for my english) [ ITALIAN ]Come descritto negli allegati, aggiornando dalla versione 2.2 alla versione 2.5+ mi sono trovato questa problematica. Il primo  file fa vedere come è  il server ora , cioè quello in produzione. Il secondo file invece mostra lo stato del server  aggiornato che ora è in fase di collaudo. Nel primo c'è la possibilita di scaricari i risultati in un file ( CVS ,etc) Nel secondo no.Qualcuno sa come posso risolvere questa problematica.?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1013706/Download%20Tests%20Results%20Moodle%20New%20Moodle%20Version%202.5%2B.png?forcedownload=1",
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1013706/Download%20Tests%20Results%20Moodle%20old%20Version%202.2.png?forcedownload=1"
          ],
          "Time": "Monday, July 29, 2013, 5:31 PM",
          "AuthorName": "Emanuele M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1625639&course=5",
          "role": [
            "Picture of Emanuele M"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 233018,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233018",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Is it possible to change the exception behavior of XML-RPC web services call?",
          "Text": "We make different XML -RPC web services calls to perform different tasks, e.g. calling moodle_user_create_users to create user accounts in Moodle. Assuming we are going to create 100 user accounts in one XML -RPC call. The first 10 accounts are created successfully. However, as the 11th account is already created in the Moodle system before, an exception is then thrown by Moodle and the first 10 accounts are roll-back. May i ask if it is possible to change this exception behavior? Instead of throwing an exception by Moodle immediately when creating the 11th account, can Moodle continue to perform the action and return the final result after creating the 100th account? That is, all accounts are created successfully except the 11th account. Thank you very much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 23, 2013, 3:38 PM",
          "AuthorName": "CP Lau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1309102&course=5",
          "role": [
            "Picture of CP Lau"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 232795,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232795",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Need Help with creating my first web service",
          "Text": "Hey folks, I'm experiencing some difficulty writing a new webservice for Moodle 2.5.1. I'm trying to set up a webservice to return some course information along with a list of enrolment types available to that course. For some reason I can't figure out, the only enrolment types to show up in the 'enrolments' array is self enrolment. None of the other types show up. I think my query is correct. I've included my code below. class local_droodle_external extends external_api { /** * Returns desription of method parameters * @return external_function_parameters */ public static function get_course_parameters() { return new external_function_parameters( array( 'courseid' => new external_value(PARAM_TEXT, 'The ID of the course for which you want the fullname') ) ); I'm at a loss and could use some help. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2013, 1:33 AM",
          "AuthorName": "Chris Dlrl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1622530&course=5",
          "role": [
            "Picture of Chris Dlrl"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Need Help with creating my first web service",
          "Text": "I figured it out. Thanks anyway.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2013, 10:36 PM",
          "AuthorName": "Chris Dlrl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1622530&course=5",
          "role": [
            "Picture of Chris Dlrl"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 232777,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232777",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "mod_assign_get_grades&assignmentids[0]=1",
          "Text": "how to access the value of the task using a web service function mod_assign_get_grades Rest? and why I have included a parameter to be an error?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/1011169/grade.png?forcedownload=1"
          ],
          "Time": "Thursday, July 18, 2013, 11:19 PM",
          "AuthorName": "arga putra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587158&course=5",
          "role": [
            "Picture of arga putra"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 194524,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=194524",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Invalid Response Value detected",
          "Text": "Hi, I am trying to retrieve the list of sections that are under a course. I am using the following code to retrieve it but it gives an error message \" Invalid Response Value Detected \". I am trying to return a list of sections with each section having id course section summary name summaryformat visible sequence Code returns method public static function get_course_sections_returns(){ return new external_multiple_structure( new external_single_structure( array( 'id'=> new external_value(PARAM_INT,'course section id'), 'course_id'=> new external_value(PARAM_INT,'course id'), 'section'=> new external_value(PARAM_INT,'section order'), 'summary'=> new external_value(PARAM_TEXT,'section summary'), 'name' => new external_value(PARAM_TEXT,'section name'), 'summaryformat' => new external_value(PARAM_INT, 'section summary format'), 'visible'=> new external_value(PARAM_INT, 'section visible'), 'sequence'=> new external_value(PARAM_TEXT, 'section sequence') ))); parameter method public static function get_course_sections_parameters(){ return new external_function_parameters( array('course_id'=> new external_value(PARAM_INT, 'course id', VALUE_REQUIRED)) ); } // retrieves a list of sections of a course actual method that has the logic public static function get_course_sections($course_id){ global $CFG, $DB; $params = self::validate_parameters( self::get_course_sections_parameters(), array('course_id'=>$course_id) ); $list_of_course_sections_record = $DB->get_records('course_sections', array('course'=> intval($course_id)) ); $current_section = array(); $list_of_course_sections = array(); foreach( $list_of_course_sections_record as $course_section){ $current_section[\"id\"] = intval($course_section->id); $current_section[\"course_id\"] = intval($course_section->course); $current_section[\"section\"] = intval($course_section->section); $current_section[\"summary\"] = $course_section->summary; $current_section[\"name\"] = $course_section->name; $current_section[\"summaryformat\"] = intval($course_section->summaryformat); $current_section[\"visible\"] = intval($course_section->visible); $current_section[\"sequence\"] = $course_section->sequence; if( $current_section[\"id\"] > 0 ){ array_push( $list_of_course_sections, $current_section ); } $current_section = array(); } return $list_of_course_sections; } I really appreciate your help with this. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 24, 2012, 12:32 PM",
          "AuthorName": "john felix",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=742697&course=5",
          "role": [
            "Picture of john felix"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Invalid Response Value detected",
          "Text": "Hi John, In Moodle 2.2+ turn on debug >= NORMAL in Moodle. The error will display a debug info telling you exactly which returned value is wrong. cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 24, 2012, 2:20 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Response Value detected",
          "Text": "Hey John, Did you have any luck fixing the issue, if yes then can you please tell me howd you do it, I am having the same issue. your help would be very much appreciated Kind Reagrds",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 16, 2013, 3:48 PM",
          "AuthorName": "Ayesha Nasim",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1581931&course=5",
          "role": [
            "Picture of Ayesha Nasim"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 232525,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232525",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "how to start intgrating java app with moodle",
          "Text": "Dear sir, Please tell me how should i start integrating java app with moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 15, 2013, 6:27 PM",
          "AuthorName": "Manju Yadav",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1621266&course=5",
          "role": [
            "Picture of Manju Yadav"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 232398,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232398",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "get logged in users ids (URGENT)",
          "Text": "Hi, I need to get the current logged in users ids and i really don't know how to use ws in moodle (i'm not good at ws in general). i tried some code i found on the internet, but it just doesn't seem to work each time i try to sent $USER->id and i don't know why!! i can read the variable but i can't send it to the client (i user nusoap)!! is there some kind of restrectrion concerning the sending of user ids? should i only use the functions defined in moodle? i would be very grateful to whoever provides me with a detailed answer on how to do it. Thanks a lot.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 12, 2013, 8:39 PM",
          "AuthorName": "Majda Majda23",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1620450&course=5",
          "role": [
            "Picture of Majda Majda23"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 231558,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=231558",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle Webservice",
          "Text": "Hello all I have a web program (not moodle) that I create user and course in my program, in my program I have a lot of webservice, after that I want transfer user, course and roles in moodle, how can I use webservice in moodle? there is any sample for help me? thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 27, 2013, 7:53 PM",
          "AuthorName": "hassan farhadi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1092053&course=5",
          "role": [
            "Picture of hassan farhadi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 231144,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=231144",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Services in Moodle",
          "Text": "Dear All, We are getting a new Oracle on demand CRM and from the developers are saying we will need to be using web services to obtain access to the database data. In my understanding, Moodle is offering web services but their functionality is useful if I want to make data on Moodle's database available to other systems and programmes. This means that if I want to save the information I have about students on Moodle's database to the CRM I can invoke the relevant web service offered by Moodle. Is this correct? If it is, then how do I make it work the other way round? All the student and course data is on the CRM, so when somebody wants to login to Moodle I need to check this information against the CRM and then pass the information to Moodle. In my understanding, this is not something that is currently offered even as a program skeleton stub. Is this correct? Could you please point me to some information regarding how it can be achieved? Regards, George",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 21, 2013, 6:55 PM",
          "AuthorName": "Deleted user",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1611054&course=5",
          "role": [
            "Picture of Deleted user"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 231115,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=231115",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "PAM module that uses Moodle web services to authenticate",
          "Text": "Hi guys, I've been researching a way to get SSO for my school, and there are some good reasons why I'd like our Moodle installation to be the source for usernames and passwords. Basically, all of our support staff are trained in moodle, know how to log in as someone else, change their password for them, etc. I have also set up an email server that is just an ubuntu box and now I'd like users to use the same username and password as our Moodle whenever they log in to those ubuntu accounts (via imap or pop, which is already set up). Obviously, the way to do this is to use a PAM module that connects to the web services API. I've done some cursory searches and haven't found anything useful, but I can't see how it would be too hard. I'm not able to write the PAM module myself, but I could modify one that's already in the wild. Seems to me something useful to have in some cases.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 21, 2013, 11:47 AM",
          "AuthorName": "Adam Morris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1430310&course=5",
          "role": [
            "Picture of Adam Morris"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 231056,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=231056",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Creating subcategories with webservice",
          "Text": "Hi i am using moodle 1.9+ and i have some scripts that i can insert categories and courses to mysql manually. Recently i started to look moodle 2.5.I can insert top level categories with rest core_course_create_courses but i cant figure how to insert subcategories. I have simple array that have id's and sub id's; Array ( [0] => Array ( [id] => 4399 [name] => Category Name 4399 [parent] => 18 [path] => /18/4399 [depth] => 2 ) [1] => Array ( [id] => 60799 [name] => Category Name 60799 [2] => Array ( [id] => 4299 [name] => Category Name 4299 [parent] => 18 [path] => /18/4299 [depth] => 2 ) [3] => Array ( [id] => 52199 [name] => Category Name 52199 [parent] => 18 [path] => /18/52199 [depth] => 2 ) [4] => Array ( [id] => 18 [name] => Category Name 18 [parent] => 0 [path] => /18 [depth] => 1 ) ) Any idea that i can insert subcategories with webservices. My old way (manually to my sql with script ) works well when i insert categories but i cant insert courses because of context errors.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 20, 2013, 4:51 PM",
          "AuthorName": "Hakan ERSU",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1352568&course=5",
          "role": [
            "Picture of Hakan ERSU"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 230003,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=230003",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "webservices",
          "Text": "hi everybody, i am getting a error in my console while executin a web services program.org.apache.axis2.AxisFault: Server was unable to process request. ---> This SMS Client is not authorized to use this command",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 5, 2013, 3:53 PM",
          "AuthorName": "smarajit mohanty",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1608827&course=5",
          "role": [
            "Picture of smarajit mohanty"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 229700,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229700",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Invalid input parameter",
          "Text": "I am trying to run the core_course_get_contents function through a SOAP call but I can't seem to pass the correct input parameter. I've tried passing the course ID as an object and as an array but each time I receive the error code 'invalidparameter'. Can anyone adapt the code below to show me how to pass the courseid as a valid parameter? Thanks in advance. <?php $client = new SoapClient('http://serverurl/webservice/soap/ server .php'. '?wsdl=1&wstoken=ourToken'); try { $resp = $client->__soapCall(' core_course_get_contents ', array('courseid'=>5) ); } catch (Exception $e) { print_r($e); } if (isset($resp)) { print_r($resp); } ?>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 31, 2013, 6:26 PM",
          "AuthorName": "Richard Taylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=31380&course=5",
          "role": [
            "Picture of Richard Taylor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 229659,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229659",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_user_update_users allow two user with same email adress",
          "Text": "When i update a user with  using the web service core_user_update_users with an email adress that is already used, Moodle update the user without any error. My version of Moodle is 2.3.1. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 31, 2013, 1:11 AM",
          "AuthorName": "David boudreault",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1394598&course=5",
          "role": [
            "Picture of David boudreault"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 228189,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=228189",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "authenticate moodle user from external application",
          "Text": "Is there a way to authenticate a user with user name and password using a web service ? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 9, 2013, 7:16 PM",
          "AuthorName": "Lior regev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1598994&course=5",
          "role": [
            "Picture of Lior regev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 227826,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=227826",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "JSON - String Problem",
          "Text": "Hello, I am using Moodle Webservices. I have a problem with the JSON -String: If I have a quotation in my tag(name), then I got an JSON-Exception. \"modules\":[ { \"id\":\"1234\", \"name\":\"  Hello to all my name is \"Mister Moodle\" from USA\" } Is this a bug? Or how can I solve this problem? Can anybody help me, please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 4, 2013, 3:11 AM",
          "AuthorName": "S R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1588351&course=5",
          "role": [
            "Picture of S R"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 227141,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=227141",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "addresing files uploaded via webservice/upload.php",
          "Text": "Hello, I have created a webservice that creates moodle page. This service accepts page source as html and several other parameters and basically copies the source code of standard page creation. My question is: If I use webservice/ upload .php for uploading images, how can I link these images into this html. What I mean by that: how src attribute of image should look like? Obviously I can't use draftfile.php as if creating page in standard way. json which I get from webservice looks like: \n```text\n[{\"component\":\"user\",\"contextid\":\"104\",\"userid\":\"7\",\"filearea\":\"private\",\"filename\":\"a2.jpg\",\"filepath\":\"/testfolder1/\",\"itemid\":0,\"license\":\"allrightsreserved\",\"author\":\"teacher test\",\"source\":\"\"}]\n```\n Thanks for help Martin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 22, 2013, 10:07 PM",
          "AuthorName": "Martin Mastny",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1486110&course=5",
          "role": [
            "Picture of Martin Mastny",
            "Picture of Core developers",
            "Picture of Peer reviewers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: addresing files uploaded via webservice/upload.php",
          "Text": "Nobody? Any hints? Why is then moodle provided with a \"service\" for image upload, if you can't use them later programatically? Makes no sense..There must be a way M.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, April 29, 2013, 3:09 PM",
          "AuthorName": "Martin Mastny",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1486110&course=5",
          "role": [
            "Picture of Martin Mastny",
            "Picture of Core developers",
            "Picture of Peer reviewers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 226256,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=226256",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Add a resource using a custom web service",
          "Text": "Hi all, As the title states I am trying to add a resource using a custom web service. At the moment I am sending a .zip file to my moodle site which contains a set of files and directories. I am using the /moodle/webservice/ upload .php endpoint. This gets my file to the user private repository in Moodle. I now want to use this file to create a resource. I need to get access to the file from my web service plugin Create a resource using the unzipped file I have been trying to follow the drag and drop upload code but how they access the file is different to my implementation github.com/moodle/moodle/blob/master/course/dnduploadlib.php#L438 Can anyone give me some advice on how to access the file and how to create the resource?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 9, 2013, 1:16 AM",
          "AuthorName": "John Roche",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587926&course=5",
          "role": [
            "Picture of John Roche"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add a resource using a custom web service",
          "Text": "Hi Jason, The dndupload_ajax_processor class in the github url in my original post (i can not enter a correct link yet)  shows how to create a resource. I can create an empty resource from this code. I have been working further at this problem. I still can not associate the uploaded file with the resource though. The drag and drop code saves the file to a draft area before creating the resource. The file attribute of the $data object is set to the draftitemid, gained from file_get_unused_draft_itemid(). My file is in the private user file and setting the $data->file attribute to the itemid has no effect. I suppose, my question now is, what is the correct way to associate the file to the resource, or, how do I move the file to the draft area that the draftitemid points to? John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 9, 2013, 10:21 PM",
          "AuthorName": "John Roche",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587926&course=5",
          "role": [
            "Picture of John Roche"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add a resource using a custom web service",
          "Text": "*user private area",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 9, 2013, 10:22 PM",
          "AuthorName": "John Roche",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587926&course=5",
          "role": [
            "Picture of John Roche"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add a resource using a custom web service",
          "Text": "As I have said, I have the web service running and creating a empty resource. I am having difficulty associating the file in the user private area to the resource. I know where the drag and drop implementation links the resource to the file; $resource = new stdClass(); $resource->course = $this->course->id; $resource->name = $displayname; $resource->intro = '\"'; $resource->description = ''\"; $resource->introformat = FORMAT_HTML; $resource->coursemodule = $this->cm->id; $resource->type = $this->type; $resource->files = $draftitemid; // This attribute is pointing to a draft area that contains the file and then the resource is added $instanceid = resource_add_instance($resource, null); I can not get past this point and I would appreciate some help. What should I assign to $resource->files be so that the resource will contain the file that is in the user private file? John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 10, 2013, 6:25 PM",
          "AuthorName": "John Roche",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587926&course=5",
          "role": [
            "Picture of John Roche"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Add a resource using a custom web service",
          "Text": "Just to finish up on this. The code here ( class dndupload_ajax_processor) shows how to create a resource and add it to the course. The only code that needs to be changed is to copy your file into a draft area and pass the draftitem id to $resource->files when creating the resource.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2013, 5:49 AM",
          "AuthorName": "John Roche",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587926&course=5",
          "role": [
            "Picture of John Roche"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 226359,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=226359",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "OKTech REST (function oktech_get_grades)",
          "Text": "I may not be using this method correctly but I am not getting any data for courses, it is either blank or the records returned denote that the user did not complete the course. I have attached a screenshot, here is a sample of what I would use: http://MOODLE_URL/moodle/webservice/rest/ server .php?courseids[0]=VALID_IDNUMBER_FOR_A_COURSE&courseidfield=idnumber&useridfield=id&userid=VALID_MOODLE_USER_ID I know the user has completed the course (a SCORM course FYI ) because he has the green check box next to the course. Screenshot of output:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/982876/moodle_screenshot.png"
          ],
          "Time": "Wednesday, April 10, 2013, 4:54 AM",
          "AuthorName": "Raymond Cosgrave",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1522496&course=5",
          "role": [
            "Picture of Raymond Cosgrave"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: OKTech REST (function oktech_get_grades)",
          "Text": "@raymond, 1) first make sure that your scorm activities did record grades in your course gradebook. I have seen recently that it is not always the case see https://moodle.org/mod/forum/discuss.php?d=225008 2) according to your screenshot you are calling properly oktech_get_grades since you get the expect answer in ULI Test course and Greening Your facility Management Operation, that is an instance of class gradeRecord (as defined in wspp/classes) with course id number in field itemid , but unfortunaltely 0 as grade... 3) make sure you are using the latest from https://github.com/patrickpollet/moodlews . Some issues were recently reported against Moodle 2.4 see https://moodle.org/mod/forum/discuss.php?d=226161 and https://moodle.org/mod/forum/discuss.php?d=225924 4) you may try enabling debug mode in OK Tech in site administration settings . Then you will find in your moodledata directory a file named debug.out with a lot of var dumps of intermediate PHP variables and another one named wspp_db_errors.log that records specific database errosr that starts to appear more and more often with successive Moodle versions. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 11, 2013, 1:00 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 155464,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=155464",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Consuming Moodle v1.9 web services in Visual Studio 2008",
          "Text": "I am trying to call Moodle web services from a Visual Studio 2008 project by adding a web reference to the wsdl file on our Moodle URL . I need some code samples for how the various web services are consumed in VB.NET. I am interested to hear from anyone who has used Moodle's PHP web services with .NET. Thanks - KG",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 6, 2010, 8:11 PM",
          "AuthorName": "Keith Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1189477&course=5",
          "role": [
            "Picture of Keith Green"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Consuming Moodle v1.9 web services in Visual Studio 2008",
          "Text": "Hope you achieved any progress. I have been working on the same issue for a while now, and I can't get anywhere. Would you kindly share your progress; if any... Thanks -- Haitham",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 15, 2010, 8:12 PM",
          "AuthorName": "Haitham El-Ghareeb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1193945&course=5",
          "role": [
            "Picture of Haitham El-Ghareeb"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Consuming Moodle v1.9 web services in Visual Studio 2008",
          "Text": "Any luck with this..need to do the same thing. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 21, 2010, 3:40 AM",
          "AuthorName": "Derek Clinton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=579231&course=5",
          "role": [
            "Picture of Derek Clinton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Consuming Moodle v1.9 web services in Visual Studio 2008",
          "Text": "Where your service reference is called MoodleWS Dim s As New MoodleWS.MoodleWSPortTypeClient() Dim lr As MoodleWS.loginReturn = s.login(\"username\", \"password\") userMoodle = s.get_user(lr.client, lr.sessionkey, \"UserID\", \"username\") Dim gradesReturn As MoodleWS.getGradesReturn 'Get the Grades for the User gradesReturn = s.get_user_grades(lr.client, lr.sessionkey, \"UserID\", \"Username\") 'For each of the users grade For i = 0 To gradesReturn.grades.Length - 1 Console.WriteLine(fimFirstName & \" \" & fimLastName) Console.WriteLine(\"Error: \" & gradesReturn.grades(i).error.ToString) Console.WriteLine(\"Feedback: \" & gradesReturn.grades(i).feedback.ToString) Console.WriteLine(\"ItemID: \" & gradesReturn.grades(i).itemid.ToString) Console.WriteLine(\"Str Grade: \" & gradesReturn.grades(i).str_grade.ToString) Console.WriteLine(\"Grade: \" & gradesReturn.grades(i).grade.ToString) next",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 4, 2013, 8:36 AM",
          "AuthorName": "Andrew Parry",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1536198&course=5",
          "role": [
            "Picture of Andrew Parry"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 224848,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=224848",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "web services downloading file",
          "Text": "I am trying to develop a client for android, i'm use moodle 2.3. but i can't download the files, what should I do or what settings should i do any help is appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2013, 12:05 PM",
          "AuthorName": "elda belia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1579242&course=5",
          "role": [
            "Picture of elda belia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: web services downloading file",
          "Text": "The first, you must call core_course_get_content, this function will return a fileurl like this : http://<yoursite>/webservice/pluginfile.php/37/mod_resource/content/1/myfile.pdf?forcedownload=1 Next, you add a token as following http://<yoursite>/webservice/pluginfile.php/37/mod_resource/content/1/myfile.pdf?forcedownload=1 &token=6a18222af87608fe4d2ab2ca7ab1f49a",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 2, 2013, 10:01 PM",
          "AuthorName": "Json Chau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1550897&course=5",
          "role": [
            "Picture of Json Chau"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 225603,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=225603",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Are permissions not cared about with Web Services?",
          "Text": "We have an external client application that needs to comunicate with our moodle plugin, so we need our students to be able to use Webservices. Our sane assumption was that certain functions would be blocked based on user's privilages and groups but after seeing this (see attatched picture) we are worried that this is not the case and allowing studendents to have webservice access would give them free reign of our system. Is this the case?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/979521/webservice.png?forcedownload=1"
          ],
          "Time": "Thursday, March 28, 2013, 3:29 AM",
          "AuthorName": "yves wheeler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558534&course=5",
          "role": [
            "Picture of yves wheeler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Are permissions not cared about with Web Services?",
          "Text": "Your sane assumption is correct. The image you added is just the capability to use the SOAP protocol. If you read the web services overview on your Moodle server you will get a good idea of how everything works: http://<your moodle server>/admin/settings.php?section=webservicesoverview Note also that each web service function includes capability checks for the user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 28, 2013, 4:08 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 225448,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=225448",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Upload and downloa file though service",
          "Text": "How to call 2 functions core_files_get_files core_files_upload I try to call but not result. Anyone can help me?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 26, 2013, 11:58 AM",
          "AuthorName": "Json Chau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1550897&course=5",
          "role": [
            "Picture of Json Chau"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 225142,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=225142",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Parameters not making sense",
          "Text": "Hi, Looking at the API for lets say core_course_duplicate_course, there is a list of required parameters but the 'General structure' does not reflect the organisation of those parameters. Any clues? This the situation for some of the other calls which have been added since I last looked as I'm finally getting some time to update my Java MoodleRest library. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 22, 2013, 6:12 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 206546,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=206546",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Downloadinf File from Moodle",
          "Text": "Hi I am trying to downlaod file from moodle using rest aPI. i AM USING THIS Ye Mera Dewana Pan hai.mp3 I gett access control exception. I think there is some setting that is disablled in Moodle. Could you pls put light on the same. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 9, 2012, 4:00 PM",
          "AuthorName": "Sahil Rally",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1460071&course=5",
          "role": [
            "Picture of Sahil Rally"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Downloadinf File from Moodle",
          "Text": "Hi Sahil, the best way is to upgrade to 2.3 and set debug mode to Developer. You should have more information about what exactly is the issue. Otherwise most issues causing this error are listed in Moodledocs : http://docs.moodle.org/22/en/Web_services_FAQ#What_is_the_.27Access_control_exception.27_error",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 10, 2012, 4:41 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Downloadinf File from Moodle",
          "Text": "to Jérôme Mouneyrac I also use Moodle 2.3 but I can not download the file, what action should i do.. please suggestions",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2013, 5:40 PM",
          "AuthorName": "elda belia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1579242&course=5",
          "role": [
            "Picture of elda belia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 184276,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=184276",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Check if user exists before creating",
          "Text": "Hello. I'am begining with webservices in Moodle. I am using Zend XMLRPC Client to interact with Moodle. I am able to create users and enrol them to courses. I would also like to check if user exists (knowing his username or email) not knowing his id. I wouldn't like to fetch all users to do that. Kind regards, Krzysztof",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 29, 2011, 5:04 AM",
          "AuthorName": "Krzysztof K.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1357395&course=5",
          "role": [
            "Picture of Krzysztof K."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Check if user exists before creating",
          "Text": "Any idea? Anyone?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 1, 2011, 1:37 AM",
          "AuthorName": "Krzysztof K.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1357395&course=5",
          "role": [
            "Picture of Krzysztof K."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Check if user exists before creating",
          "Text": "Call moodle_user_get_users_by_id See example",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 1, 2011, 7:16 PM",
          "AuthorName": "Gary Hardy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1357751&course=5",
          "role": [
            "Picture of Gary Hardy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Check if user exists before creating",
          "Text": "I don't know the id of user. I would like to check if user exists but I know email or username only. I could fetch all users using moodle_user_get_users_by_id (providing wide array of id's, eg 0..99999) and then check the response for searched user but this is very non optimal. How do I check if user exists knowing only email or username?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 4, 2011, 10:48 PM",
          "AuthorName": "Krzysztof K.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1357395&course=5",
          "role": [
            "Picture of Krzysztof K."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Check if user exists before creating",
          "Text": "I have the same problem. I want to update user when user already exists, but fetch all user using moodle_user_get_users_by_id and then check the response for searched user is non optimal. How can we check if user exists knowing only email and username ? David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2013, 2:08 AM",
          "AuthorName": "David boudreault",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1394598&course=5",
          "role": [
            "Picture of David boudreault"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Check if user exists before creating",
          "Text": "Hi Krzysztof, Sorry for bein annoying and asking, but are you able to copy the code you're using to create the users?  I've been struggling with this for quite some time and I can't seem to figure out why it doesn't work for me - it's the structure of the array parameter that's causing the issue.  I can request courses, no problem, but when adding a user I run into problems. Cheers, Dan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 2, 2011, 12:51 AM",
          "AuthorName": "Dan Kennedy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1360314&course=5",
          "role": [
            "Picture of Dan Kennedy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Check if user exists before creating",
          "Text": "```text\nfunction wykonaj($function, $params) {\n\n    $token = 'xxxx';\n    $serverurl = \"xxxx\";\n\n    $client = new Zend_XmlRpc_Client($serverurl);\n\n    try {\n        $data = $client->call($function,$params);\n        $ret['data'] = $data;\n        }\n    catch (exception $exception) {\n        $ret['exception'] = $exception;\n        }\n    return $ret;\n}\n\nfunction utworz_uzytkownika($user) {\n    $function = 'moodle_user_create_users';\n    $params['users'][0] = array('username' => $user['username'],\n                        'password' => $user['password'],\n                        'firstname' => $user['firstname'],\n                        'lastname' => $user['lastname'],\n                        'email' => $user['email'],\n                        'lang' => $user['lang']);\n    $ret = wykonaj($function, $params);\n    return $ret;\n}\n```\n It's in polish. wykonaj means run and utworz_uzytkownika means create_user. Hope this helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 4, 2011, 10:40 PM",
          "AuthorName": "Krzysztof K.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1357395&course=5",
          "role": [
            "Picture of Krzysztof K."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Check if user exists before creating",
          "Text": "Hi Krzysztof, Thanks a lot for your time and effort (and Polish translation!).  I've copied the code above directly into my test page, but I still get this error: Invalid external api parameter: users (Only arrays accepted.) If it works for you and not for me, then it must be something with my installation.  If you have any ideas, I would greatly appreciate it, but no problem if you don't. D",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 5, 2011, 3:16 AM",
          "AuthorName": "Dan Kennedy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1360314&course=5",
          "role": [
            "Picture of Dan Kennedy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Check if user exists before creating",
          "Text": "Hi! Paste your whole code please.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 5, 2011, 2:42 PM",
          "AuthorName": "Krzysztof K.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1357395&course=5",
          "role": [
            "Picture of Krzysztof K."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Check if user exists before creating",
          "Text": "Hi Krzysztof, Thanks for all your help on this.  Because Moodle's documentation is incomplete, the API is not working consistantly and is unstable, and many people are complaining the code is out of date and not commented (and I agree), we've decided to move onto eFront.  Already I've had much more success with their support, API and code quality, and it's not nearly as bloated or hard to use. Once again, thanks for all your help, it was greatly appreciated Regards, Dan",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, September 5, 2011, 11:05 PM",
          "AuthorName": "Dan Kennedy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1360314&course=5",
          "role": [
            "Picture of Dan Kennedy"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 204762,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=204762",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "Questions about token.php and database shortname.",
          "Text": "Hello! I've been trying to get the token authentication working for some time now, but it seems I've hit a hurdle that just won't budge. I have set up the web service as instructed in the overview under \"Users as clients with token\", and I intend to get the token from token.php as the user tries to access the client. When creating a token in managing tokens and using it with the web service test client everything works fine, but as soon as I call token.php I get an error: \"Web service is not available (it doesn't exist or might be disabled)\" And tells me it's occuring at line 76 in token.php, at which the comment states that it \"will throw exception if no token found\". I thought this could be because each user had to create their token before it could be used, but looking at the security keys page of the user account I'm using it does have a token for the web service. I've also been wondering if this could be because of an error in the database , which I have edited to add the shortname for the service. But the documentation seems a bit ambigous at times. In the description for the external_services table ( http://docs.moodle.org/dev/External_services_description ) I find no reference to the shortname I'm supposed to be adding, which is needed to use token.php if I'm not mistaken. I have added a record anyway just to see if it would work but to no avail. What could I be doing wrong here? Regards, Alexander Wiklund",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 14, 2012, 8:11 PM",
          "AuthorName": "Alexander Wiklund",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1461588&course=5",
          "role": [
            "Picture of Alexander Wiklund"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "I'm not fond of double-posting, but apparently I just missed the edit window and I thought it could be good for you to know what system I'm using: Moodle 2.2.2+ (Build: 20120315), MySQL 5.1.41, PHP 5.3.2, Apache 2.2.14, all of them running on Ubuntu 10.04. If I'm lacking any details needed to solve this then feel free to ask!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 14, 2012, 8:49 PM",
          "AuthorName": "Alexander Wiklund",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1461588&course=5",
          "role": [
            "Picture of Alexander Wiklund"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "Hi Example moodle/login/token.php?username=someusername&password=somepass&service=M3D The shortname in the database is M3D. Regards Sergio",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 15, 2012, 3:55 AM",
          "AuthorName": "Sergio Hernández",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=339343&course=5",
          "role": [
            "Picture of Sergio Hernández"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "Hi Alexander, I was running into the same problems a few days ago, and I got them solved. So, maybe this helps: For using token.php you have to add the shortname to the previously created service manually: Edit the table mdl_external_services (using phpMyAdmin ), find the record containing your service (probably id #2), and change the attribute/field shortname to a unique name of your choice. After that, token.php should return the token you created for the webservice user. Instead of calling token.php every time, you can use the created token directly to call your server , eg. http://<FQDN of your web server>/webservice/soap/server.php?wsdl=1&wstoken=<add your token here> See also Jeromes sample client code at https://github.com/moodlehq/sample-ws-clients/blob/master/PHP-SOAP/client.php Hope this helps Markus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 15, 2012, 5:21 PM",
          "AuthorName": "Markus Speissegger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1440487&course=5",
          "role": [
            "Picture of Markus Speissegger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "Hello again, and thank you for your prompt replies! I would like to clarify that I don't want to have one web service user with its own token, I would like each user to have their own to use when they log into the system (i.e. fetch it when they log in). It looks like this would be possible following the second set of steps for setup in the web service overview tab, which I am following. I'm also using the REST protocol to try out the web service. Markus, your reply did spark a thought in me though; is it necessary to have a custom plugin for the web service, even though you only want to use the already available functions that come with Moodle? Now that I think about it my mdl_external_services table didn't contain anything when I edited it, I added the whole row myself. Could it be that I need to add a plugin and trigger an update through the notifications tab for it to be added to the database? I didn't think this would be a problem as I only want to use the built-in web server functions, but since the actuall service is a custom one maybe it is still required? And while I'm on it, why doesn't the MoodleDocs about the external_services table say anything about a shortname, if it is required to use the service in this way? A lot of questions in this reply, I hope I didn't create more confusion! Regards, Alexander Wiklund",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 18, 2012, 8:51 PM",
          "AuthorName": "Alexander Wiklund",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1461588&course=5",
          "role": [
            "Picture of Alexander Wiklund"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "Hi Alexander, I invite you to vote on MDL-29807 ;) Just to confirm, is your service enable? Otherwise it is your service shortname that is wrong (if the error message is not wrong itself). The previous answers from Sergio and Markus seem correct to me. It is not necessary to create a plugin if all functions that you need already exists. You can either enable the pre-build mobile service, and then call the token.php script with shortname => moodle_mobile_app. Either create you own service (enable it) and edit the shortname into the database.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 22, 2012, 11:34 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "Hello Jerome, My service is enabled (both in Moodle and in the database) as far as I can tell. I do have an underscore in my shortname, but seeing as the pre-build mobile service also uses this I don't think it should be an issue. Maybe someone with a working web service could be kind and post a row from their mdl_external_service for reference? I really think the issue is with the database. My only other concern is that when I created the web service it did not add any records to the database at all; I had to add the whole record manually. Could that be of any significance? I will try out the pre-build web service tomorrow and let you know how it goes. Regards, Alexander Wiklund",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 25, 2012, 9:07 PM",
          "AuthorName": "Alexander Wiklund",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1461588&course=5",
          "role": [
            "Picture of Alexander Wiklund"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "Hi Alexander, if you created a service from the admin, it will definitively been stored in the database. Are you looking to the right database?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 26, 2012, 9:53 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "Hello Jerome, Of course! I had made a backup of the database some time ago, and when I went in to edit the table I had forgotten that I had changed the name of it. I can now retrieve the token successfully. Thank you all for your help! Regards, Alexander Wiklund",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 29, 2012, 9:01 PM",
          "AuthorName": "Alexander Wiklund",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1461588&course=5",
          "role": [
            "Picture of Alexander Wiklund"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "no worries, I'm happy we could help you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, June 30, 2012, 11:47 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "Hi Markus, Can u please tell me where to find mdl_external_services table. Also, how can i use phpMyadmin to enter the shortname in table. I have been searching for that table in moodle directory but all efforts are going in vain. Please help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 26, 2012, 6:55 PM",
          "AuthorName": "Neeraj Mishra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471889&course=5",
          "role": [
            "Picture of Neeraj Mishra"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "Not sure how it could be any clearer, but it's possible your phpmyadmin isn't configured correctly.  If you're using phpmyadmin then you should be able to display your moodle database tables by clicking the name of your moodle database. The table you're looking for is mdl_external_services and after clicking on it you have to select the \"Browse\" tab.  After that you can select the cell in the \"shortname\" column against the row that matches your service under \"name\", and change it to the name of your service.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 27, 2013, 9:44 PM",
          "AuthorName": "Steve Anatai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1094660&course=5",
          "role": [
            "Picture of Steve Anatai"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Questions about token.php and database shortname.",
          "Text": "you must install phpMyadmin plugin, and then, login, finally, find mdl_external_service table in the left column. Good look",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 14, 2013, 1:31 PM",
          "AuthorName": "Json Chau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1550897&course=5",
          "role": [
            "Picture of Json Chau"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 222334,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=222334",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Get all token",
          "Text": "I want to call all service from moodle. So, I add a new service, then i add function to this service. After that, i add token to referent to my service i just add. But I cant get this token I found another serviceshortname, but i cant see it anywhere Can anyone help me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 16, 2013, 11:11 AM",
          "AuthorName": "Json Chau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1550897&course=5",
          "role": [
            "Picture of Json Chau"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get all token",
          "Text": "I forgot where I read this, but you have to add the service shortname into the relevant table (external_services) manually. Then you use the get token function for the service. This worked for me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 21, 2013, 5:18 AM",
          "AuthorName": "Gregor McNish",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=479174&course=5",
          "role": [
            "Picture of Gregor McNish"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get all token",
          "Text": "Thanks for replying me. I got it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 14, 2013, 1:28 PM",
          "AuthorName": "Json Chau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1550897&course=5",
          "role": [
            "Picture of Json Chau"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 223709,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=223709",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Fatal error: Cannot redeclare class Zend_Exception",
          "Text": "I have setup webservice for the school and it was running ok till the time. I am using moodle 2.1+ and recently I have changed the php version as below.... PHP 5.4.9 (cli) (built: Dec 11 2012 01:45:57) , Zend Engine v2.4.0, with XCache v3.0.0, Copyright (c) 2005-2012, by mOo with XCache Cacher v3.0.0, Copyright (c) 2005-2012, by mOo with XCache Coverager v3.0.0, Copyright (c) 2005-2012, by mOo Now when I try the Site administration > Development > Web service test client it used to work ok and returns the data.... BUT NOW IT GIVES THIS ERROR ..... URL : https://SCHOOL-WEBSITE-URL:443/saas/3rdparty/moodle2/webservice/xmlrpc/ server .php?wstoken=0c7eb048fc4b2defER323e0e23d9f6e Fatal error: Cannot redeclare class Zend_Exception in /srv/www/htdocs/SCHOOL/moodle2/lib/zend/Zend/Exception.php on line 28 PLEASE HELP ON THIS ASAP. THANKS",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 5, 2013, 6:40 AM",
          "AuthorName": "sudipto prodhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=582166&course=5",
          "role": [
            "Picture of sudipto prodhan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 223627,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=223627",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Access webservice using REST",
          "Text": "Hi, I am very new to the moodle. I have enabled the webservices in my website.  I am able to get the token using the token page. I am trying to get the response from the webservice using REST from the browser through the following url but I get a blank page as the response. I get blank page for any method or with correct or incorrect token. http://myserver/webservice/rest/ server .php?token=039e8cc1a5065c7eecb7e9262936759a&method=core_user_get_users_by_id&userid[0]=3 Can anyone help me on getting a valid response using REST or SOAP? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 4, 2013, 9:19 AM",
          "AuthorName": "bright light",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1570084&course=5",
          "role": [
            "Picture of bright light"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Access webservice using REST",
          "Text": "Ok. Now I know the mistake I made.  I did not enable REST in the webservice protocol.  After I enable I am able to see the response but now I get invalidparameter error code.  how do I resolve this problem? <EXCEPTION class =\" invalid_parameter_exception \" > <ERRORCODE> invalidparameter </ERRORCODE> <MESSAGE> Invalid parameter value detected </MESSAGE> </EXCEPTION>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 4, 2013, 9:53 AM",
          "AuthorName": "bright light",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1570084&course=5",
          "role": [
            "Picture of bright light"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Access webservice using REST - resolved",
          "Text": "Finally, I got it working by changing the parameter 'method' to 'wsfunction'. Below url is able to return the user detail. http://myserver/webservice/rest/ server .php?token=039e8cc1a5065c7eecb7e9262936759a&wsfunction=core_user_get_users_by_id&userid[0]=3",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 4, 2013, 10:23 AM",
          "AuthorName": "bright light",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1570084&course=5",
          "role": [
            "Picture of bright light"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 222614,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=222614",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How Can I Simply Store Responses to Questions",
          "Text": "Dear Helpful Moodle Community, I'm hoping that you can provide some guidance relating to my issue at hand. I've been studying the moodle documentation for days, but it's massive and I'm having some trouble. My goal is to be able to submit student responses to questions using html form elements combined with some type of API. From what I can see, none of the default external functions allow me to do this. The only options are at a macro level (create course, enroll user, create group, etc). I need it at a micro level (submit an answer to 1 question). I'm looking to have the student click a submit button inside of a html form element and have that cause the answer to be stored in the moodle database for that user. This is complicated by the fact that questions don't seem to be stand alone instances. It seems like questions are only available either within Quizes or Lessons. The only possible route I can currently see towards acheiving my goal is to use some type of direct database manipulation. In other words, if I find out exactly what tables are being modified when a student submits an answer to a quiz question, theoretically I could make those same changes when a student submits their response via the html form.  This would involve creating my own custom web service function that would modify the required tables in the database directly using the parameters I pass in. However, I'm not sure this would even work. Has anyone encountered anything similar to this? Is there an easier way to do what I want that I'm missing? I just want to submit the answer to a question through an external http function and store it in the moodle database correctly. Should be that hard, right? Any help would be greatly appreciated. Thanks for your time and help, Best Regards, Your-Fellow-Moodler",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 20, 2013, 9:20 AM",
          "AuthorName": "Thomas Sample",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1563820&course=5",
          "role": [
            "Picture of Thomas Sample"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How Can I Simply Store Responses to Questions",
          "Text": "It depends on what you want to do. Have you looked at the questionnair or the choice plugins? They both allow submissions of answers to user defined questions. You could also go the route of a custom block if you need a particular level of control over the display of a set of questions-- this isn't too hard if your question/answer format is simple and doesn't require the complexities of the quiz question types, gradebook, etc. We did this for some learner-specific survey style information (ie it related to the learner, not the course), and then we wrote reports to pull out the aggregate responses by class groups. The moodle block development tutorial is quite good, and goes into detail about using moodleforms and storing the information in custom tables for the block. You might also look at LTI ; you can write the sort of activity you want outside of moodle, and set up a 2 way communication between moodle and your activity.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 21, 2013, 5:15 AM",
          "AuthorName": "Gregor McNish",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=479174&course=5",
          "role": [
            "Picture of Gregor McNish"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 221100,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=221100",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "webservice/upload.php returning zero instead of actual itemid",
          "Text": "Hello everyone, I'm using this \"webservice\" to upload files in moodle, which is fine, but when the json string is retrieved, it has itemid set to 0 (zero). But whe I log in into moodle later, this uploaded file has a different itemid. I suppose that itemid is the huge number in the following link, which I can use to adress file I'm on moodle 2.3 \n```text\ndraftfile.php/104/user/draft/\n419799805\n/test6/image.jpg\n```\n my question is, how can I get the link to uploaded file, if the itemid is always 0??? Thanks M",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 31, 2013, 10:27 PM",
          "AuthorName": "Martin Mastny",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1486110&course=5",
          "role": [
            "Picture of Martin Mastny",
            "Picture of Core developers",
            "Picture of Peer reviewers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: webservice/upload.php returning zero instead of actual itemid",
          "Text": "Ok, I found a solution myself. Here it is. Itemid = 0 is a basic itemid in database and file gets really uploaded with it. When you need uploaded file, system copies a database entry a creates a link with unique itemid and then you can use this file with created itemid. This is not a good idea, because whole structure of private files in database gets copied everytime you refresh private files page. Seems like a good entry foint for overfilling the database and potential attack to me. Of course I could be wrong. Cheers Martin",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/biggrin"
          ],
          "Time": "Wednesday, February 6, 2013, 9:26 PM",
          "AuthorName": "Martin Mastny",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1486110&course=5",
          "role": [
            "Picture of Martin Mastny",
            "Picture of Core developers",
            "Picture of Peer reviewers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 220846,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=220846",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "which API  to connect two different application",
          "Text": "i am using two different s/w application one is CMIS(.Net) another one is LMS(Moodle) suppose user data is entered in CMIS (GUI ), API sends the information to LMS and logins would be created automatically means without moodle login (lms)  login throgh CMIS then automatically data saved in LMS(moodle site) so which API i used to achieve this or any other procdure is there suggest me",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 29, 2013, 7:33 PM",
          "AuthorName": "prashant galagali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=546161&course=5",
          "role": [
            "Picture of prashant galagali"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 220541,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=220541",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "\"Add Functions\" link is missing",
          "Text": "I have a plugin which works well on several Moodle sites.  It has custom functions, and uses core functions such as core_user_create_users.  To do this, I login as administrator, and go to Site Administration > Plugins > Web services > External services > Functions, and there is an \"Add Functions\" link button which allows me to add functions.  I'm trying to set it up on another site, and this site does not have the \"Add Functions\" link button.  First time I've seen this.  Using $release = '2.3.3 (Build: 20121112)' Have any of you seen this before?  Any ideas why \"Add Functions\" might be missing, and how I might restore it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2013, 9:04 AM",
          "AuthorName": "Chris C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450336&course=5",
          "role": [
            "Picture of Chris C"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 220137,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=220137",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding more functions to the service \"My service\" (local template)",
          "Text": "Hi there, recently I've started to use local_wstemplate (via rest protocol), which is called 'My service' and has only local_wstemplate_hello_world function by default. I want to add more functions to this service, namely core_course_get_contents and a function that is responsible for getting calendar events . As a tutorial I followed this guides: Adding_a_web_service_to_a_plugin and External_functions_API . But I couldn't get the way how to add above functions to the 'My service' plugin located in moodle/local/wstemplate/ . Do I need to extend wstemplate/db/services.php and wstemplate/externallib.php files respectively or create another php files? By the way there is no information and required arguments about getting calendar events in the documentation External functions API . Any help or advice would be great.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 21, 2013, 3:20 AM",
          "AuthorName": "Oliver Obermayr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540246&course=5",
          "role": [
            "Picture of Oliver Obermayr"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 205681,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=205681",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "local_wstemplate_hello_world Error: \"You cannot view the profile of this user\"",
          "Text": "When I try to invoke the local_wstemplate_hello_world function from the wstemplate plugin I get an error message stating: \"You cannot view the profile of this user\" rather than the expected response.  I've seen several posts regarding this problem, but none that have helped me. I'm am currently successfully using Moodle core web services (such as core_user_get_users_by_id) using REST protocol. Now I would like to add web services for functionality not provided in the core web services (such as querying a user table by email), so I am trying to write my own functions. As I starting point, I have set up the \"Hello World\" wstemplate plugin based on the instructions at http://moodle.org/mod/forum/discuss.php?d=193772 . The function name is local_wstemplate_hello_world.  I've tried using both XML -RPC Protocol (with the default code), and REST protocol (as explained in the linked article, and which I prefer). Although I've followed the instructions, when I try to invoke this service, I get an error message stating: \"You cannot view the profile of this user,\" which is the 'cannotviewprofile' moodle_exception returned by {my moodle}\\local\\wstemplate\\externallib.php. I have no idea why I'm getting this message. I have tried setting my web service to \"All Users\" under Site Administration/Plugins/Web Services/External Services. I've also tried setting \"Authorised users only\" and using the \"Web Services User\" account I've created and used successfully with the core web services. In both cases, I get the same error mentioned above. With authorised users only, I have created a token for this web service for my \"Web Services User\". I have tried appending my request with two QueryString parameters... ?wstoken={token_value}&wsfunction=local_wstemplate_hello_world I've also tried two different URI addresses to which I post: \"http://localhost/moodle/webservice/rest/ server .php\" \"http://localhost/moodle/local/wstemplate/client/client.php\" ...but this doesn't help. Any suggestions as to what I may have missed? Am I somehow overlooking a special parameter or setting needed to use this particular web service and/or plugins in general?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 28, 2012, 7:50 AM",
          "AuthorName": "Chris C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450336&course=5",
          "role": [
            "Picture of Chris C"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: local_wstemplate_hello_world Error: \"You cannot view the profile of this user\"",
          "Text": "The problem was that a \"required capability\" was missing from the web services user associated with the token I created.  The missing capability was moodle/user:viewdetails.  It is required because the function needs to view user details to return the phrase, \"Hello World, [user]\" where \"user\" is the web services user. To add the required capability, go to Site Administration > Users > Permissions > Define Roles, then double click your web services role, click the \"edit\" button, scroll down to moodle/user:viewdetails, select \"Allow\", then click the \"save changes\" button.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 30, 2012, 3:35 AM",
          "AuthorName": "Chris C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450336&course=5",
          "role": [
            "Picture of Chris C"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: local_wstemplate_hello_world Error: \"You cannot view the profile of this user\"",
          "Text": "... go to Site Administration > Users > Permissions > Define Roles, then double click your web services role ,... @Chris C, just wanted to clarify, what do you mean by \"web services role\", because I can't find this thing in my Moodle (v.2.4) in Site Administration > Users > Permissions > Define Roles. If you mean list of roles , then I have there Student Role , and I already allowed moodle/user:viewdetails by editing named role. But result is wihtout any affect. Could you help me with this?  Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 17, 2013, 9:08 PM",
          "AuthorName": "Oliver Obermayr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540246&course=5",
          "role": [
            "Picture of Oliver Obermayr"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: local_wstemplate_hello_world Error: \"You cannot view the profile of this user\"",
          "Text": "you have to create this role. the webservices role is assigned to the webservices account used to run any of the functions. it has unique permissions because of the special nature of the functions it calls.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 17, 2013, 10:37 PM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 219825,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=219825",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web service to create Notes under a selected course",
          "Text": "Hi All, Can somebody help by telling the web service to be used to create a Note for a course. I tried using \"core_notes_create_notes\"  and it gives me the following exception, <EXCEPTION class=\"webservice_access_exception\"> <ERRORCODE>accessexception</ERRORCODE> <MESSAGE>Access control exception</MESSAGE> </EXCEPTION> tried \"moodle_notes_create_notes\" and it gives me the following exception, <EXCEPTION class=\"invalid_parameter_exception\"> <ERRORCODE>invalidparameter</ERRORCODE> <MESSAGE>Invalid parameter value detected</MESSAGE> </EXCEPTION> Trying to do this from Android. Able to consume the following web services, login and get_my_courses both returened proper responses. Following is the code snippet. public class moodle_login extends Activity { Button btnLogin; EditText edtusername, edtpwd, edtlog; String sUsername, spwd; String sessionkey, clientID; @Override HttpClient httpClient = new DefaultHttpClient(); HttpPost post = new HttpPost(sURL); List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1); nameValuePairs.add(new BasicNameValuePair(\"userid\", \"3\")); nameValuePairs.add(new BasicNameValuePair(\"publishstate\", \"site\")); nameValuePairs.add(new BasicNameValuePair(\"courseid\", \"2\")); nameValuePairs.add(new BasicNameValuePair(\"text\", \"This is a teacher site-wide note about the user\")); nameValuePairs.add(new BasicNameValuePair(\"format\", \"FORMAT_PLAIN\")); nameValuePairs.add(new BasicNameValuePair(\"clientnoteid\", \"note_3\")); try { post.setEntity(new UrlEncodedFormEntity(nameValuePairs)); } catch (UnsupportedEncodingException e1) { // TODO Auto-generated catch block e1.printStackTrace(); } // Execute HTTP Post Request HttpResponse responseX = null; try { responseX = httpClient.execute(post); } catch (ClientProtocolException e) { // TODO Auto-generated catch block e.printStackTrace(); } catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); } String respStr = null; try { respStr = EntityUtils.toString(responseX.getEntity()); } catch (ParseException e) { // TODO Auto-generated catch block e.printStackTrace(); } catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); } return respStr; } public void onClick(View v) { String surl; String respStr; String wstoken; String wsfunctionName; JSONArray jArray; JSONObject json; //sUsername = \"dominic\"; //spwd = \"Dominic1!\"; sUsername = \"admin\"; spwd = \"Dominic1!\"; wstoken = \"09d6da7bb2d6e5a561a500b9dd50b3b4\"; try{ wsfunctionName = \"login\"; surl = \" http://192.168.56.1/moodle/wspp/service_pp2.php?username= \" + sUsername + \"&password=\" + spwd + \"&wsfunction=\" + wsfunctionName + \"&wsformatout=json\"; respStr = ConsumeWebservice (surl); //Parse output json = new JSONObject(respStr); sessionkey = json.getString(\"sessionkey\"); clientID = json.getString(\"client\"); wsfunctionName = \"get_my_courses\"; surl = \" http://192.168.56.1/moodle/wspp/service_pp2.php?%20client= \" + clientID + \"&sesskey=\" + sessionkey + \"&wsfunction=get_my_courses&wsformatout=json\"; respStr = ConsumeWebservice(surl); //Parse Courses if (respStr != \"\") { jArray = new JSONArray(respStr); for(int i=0;i<jArray.length();i++) { JSONObject jsonObject = jArray.getJSONObject(i); edtlog.append(jsonObject.getString(\"shortname\")); edtlog.append(jsonObject.getString(\"fullname\")); edtlog.append(\"============\"); } } //Post a note to a course wsfunctionName = \"moodle_notes_create_notes\";//\"moodle_notes_create_notes\";//\"core_notes_create_notes\"; //surl = \" http://192.168.56.1/moodle/webservice/rest/server.php?%20client= \" + clientID + \"&sesskey=\" + sessionkey + \"&wsfunction=\" + wsfunctionName + \"&wsformatout=json\" + \"&token=\" + wstoken + \"&format=json\" + \"&wstoken=\" + wstoken; surl = \" http://192.168.56.1/moodle/webservice/rest/server.php?%20wsfunction= \" + wsfunctionName + \"&wsformatout=json\" + \"&token=\" + wstoken + \"&format=json\" + \"&wstoken=\" + wstoken; respStr = ConsumeWebservice(surl); } catch (JSONException e) { // TODO Auto-generated catch block e.printStackTrace(); } } }); }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 16, 2013, 6:50 PM",
          "AuthorName": "Dominic John",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1545916&course=5",
          "role": [
            "Picture of Dominic John"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service to create Notes under a selected course",
          "Text": "I am by no means an expert but when I ran across an access control exception it is because I forgot to add the method to the service I created",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 16, 2013, 10:47 PM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 219526,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=219526",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "web service error when passing wstoken and wsfunction in http",
          "Text": "Hi, I have only a gentleman's knowledge of Moodle and am trying to try out basic web service functionality. I am using Moodle 2.4 and think I have set up all permissions in plugins for web services correctly. When I point my browser to the following url: http://<my-moodle-site>/webservice/xmlrpc/ server .php?wstoken=<token>&wsfunction=core_course_get_courses I get an error: faultCode630faultStringUnable to read request Any help would be greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 12, 2013, 3:10 AM",
          "AuthorName": "Paul Nolan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1543655&course=5",
          "role": [
            "Picture of Paul Nolan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: web service error when passing wstoken and wsfunction in http",
          "Text": "Hi Paul, I'm not familiar with the XML -RPC implementation in Moodle but usually you cannot make a browser request to an XML -RPC server because it expects the request body to contain XML with the name of the remote function to call. For testing purposes, enable the rest protocol and then try with the url: http://<my-moodle-site>/webservice/rest/ server .php?wstoken=<token>&wsfunction=core_course_get_courses Note: The REST protocol isn't real REST, it is a roll-your-own type protocol with a single endpoint that switches method based off query string parameters",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 12, 2013, 5:32 AM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: web service error when passing wstoken and wsfunction in http",
          "Text": "Hi Joshua, This was VERY useful. It worked immediately based on your suggestions. I mistakengly thought the XMLRPC would automatically reyurn XML as did the suggested REST This was my first time to use the forum and I am very encouraged. very many thanks, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 13, 2013, 1:26 AM",
          "AuthorName": "Paul Nolan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1543655&course=5",
          "role": [
            "Picture of Paul Nolan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 219425,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=219425",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web service test client problem",
          "Text": "Hello there, I have a moodle 2.4 running with a PostgreSQL DB, both in localhost. when i try to run the test client, it returns the URL and nothing more, and doesnt write any changes in the DB... I tried this before with MySQL and Moodle 2.1 and worked. Permissions are all granted, protocols are enabled too... Any ideas what might be the problem? Thank you in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 10, 2013, 8:21 PM",
          "AuthorName": "Emilio de la Torre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1543003&course=5",
          "role": [
            "Picture of Emilio de la Torre"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 218971,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=218971",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Using core_webservice_get_site_info with SOAP",
          "Text": "Hi, I am trying to write a small script using SOAP to get the contents of core_webservice_get_site_info call. The code I wrote is: \n```text\n<?php\n\n\n    // Declares\n\n\n    $token = \"638bfd64ea2a087de2cb514dab1efbcc\";\n\n\n    $serverUrl = \"http://<my_moodle_url>/webservice/soap/\nserver\n.php?wsdl=1&wstoken=\" . $token;\n\n\n\n\n    $functionname = 'core_webservice_get_site_info';\n\n\n\n\n    echo \"<pre>\\n\";\n\n\n\n\n    // Soap client object\n\n\n    $client = new SoapClient($serverUrl);\n\n\n\n\n    // Execution and output\n```\n This code returns an empty output (\"<pre></pre>\"). Anyone knows why is this happening? I'm only curious about this call, that's not blocker for me, I just wanted to test the output. Thank's in advance. Pedro L.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 3, 2013, 11:26 PM",
          "AuthorName": "Pedro Laginha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=80771&course=5",
          "role": [
            "Picture of Pedro Laginha"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 201670,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=201670",
      "NoOfResponses": 17,
      "ResponsesInList": [
        {
          "Title": "Get the content via REST protocol",
          "Text": "Hi everybody, I explain my issue: I've to get the content of a moodle website, and right now I try to do it using an API, the Web services API. I use the REST protocol, and so I downloaded the Java library Moodle Rest. Using the classes of MoodleRest, I wrote a small program who uses the core_course_get_contents function, and it works. But I need definitely the url of each content, and the API only give me the url of the resources, while the url of the activities (in a moodle course) have the value \"null\". May I find a mean to have the url of the activities (workshop, lesson , quizz...) or not? Thanks for helping me",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 1, 2012, 2:03 PM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449895&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "One for me I think. Are you using the library downloaded from SourceForge or the one downloaded from www.beaconhillcott.net? I'll get back to you as I have to go and sort out something right this moment!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 1, 2012, 4:07 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "I downloaded the library from SourceForge, and actually it was t he beaconhillcott, since the folder I got are organized as \"moodleRest > net > beaconhillcott > moodlerest > ...\" As a matter of fact, I followed http://docs.moodle.org/dev/Creating_a_web_service_client",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 2, 2012, 7:04 AM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449895&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Hi Martin, if I remember well core_course_get_contents only return files url for resource yet. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 1, 2012, 4:10 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Checking a course on our site, the MoodleCourseContent[] object returned from getCourseContent in the library is composed of an array of topics within the course, including the first which is named as \"general\". Within each of those is a Hashtable of the parts within each topic, which does include activities. However the subsequent \"content\", which is an ArrayList of MoodleModuleContent currently has only file resources. If there are no file resources then content will be \"null\". This is not a problem with the library, currently only content elements for file resources are returned by Moodle. Probably not what you wanted to hear, sorry. I expect at sometime I will have to make MoodleModuleContent abstract when different types of content is returned. Hmmmmmmmm....... that might not be a bad idea for the next release. Jerome, is there going to be additional types of content returned by this call in a future Moodle release at some stage? Just planning ahead.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 1, 2012, 7:21 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Thanks for the answer, now I'm fixed",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, May 2, 2012, 7:08 AM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449895&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Maybe I have an other way... If Moodle provides the possibility to move the activities as files, I may use the function \"core_files_get_files\". It's an hypothesis",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 2, 2012, 7:21 AM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449895&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Hi Smith, I want to get contents via web service. Please help me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 7, 2012, 8:13 PM",
          "AuthorName": "roc mehra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1516179&course=5",
          "role": [
            "Picture of roc mehra"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Hi Bill, it is planned than the My Mobile app will display all activity contents. So the web service functions making it possible should be created/updated. However no date has been decided for implementing it. I recommend to create an issue or vote for it if it already exists. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 2, 2012, 12:06 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Also about the MoodleRest code, is there a way to get the list of each user of a moodle website? Or at least the number of user? I was looking for these stuff today, and I don't reach anything...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 2, 2012, 2:17 PM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449895&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Hi Martin, I would like that too but currently there is no webservice offered by Moodle to retrieve this data. The library only reflects those wsfunctions which are available via the standard install. Thinking on it, you could retrieve all the courses then iterate through each course retrieving the enrolled users. Obviously you may get duplicates but if you store the information in a Hashtable the duplicates can be gradually filtered out by checking to see if the key exists before adding a user to the Hashtable. Note though this will only work if all your users are attached to courses. The response you will get will depend on the number courses and users you have. By the way, I think you have the version for Moodle 2.2, the one on www.beaconhillcott.net is the one I'm currently adding updates which will be for Moodle 2.3. Obviously there are more wsfunctions hoping to be released, if you look at the tracker. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 2, 2012, 10:40 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Thank you, I had the same idea about the Hashtable, I look forward to hearing from Moodle next release Goodbye",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, May 3, 2012, 7:02 AM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449895&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Otherwise, I need at least the url of the glossary. Is there a way to move glossary as a \"resource\" ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 4, 2012, 8:48 AM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449895&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Hi guys, Fabio is working on a web service get_users function, I mentioned your request: http://tracker.moodle.org/browse/MDL-29938?focusedCommentId=155884&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-155884",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 7, 2012, 11:10 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Thanks, I'll follow it",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 7, 2012, 2:07 PM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449895&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Hi All, I have used web service http://localhost/webservice/rest/ server .php?wstoken=dcf912ca225093f616f3e93186bbc0a9&wsfunction=core_course_get_contents&courseid=102 It gives me response news forum and all the topics. But i need only topic 1 data. How can i use desired data from it",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 15, 2012, 4:33 PM",
          "AuthorName": "roc mehra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1516179&course=5",
          "role": [
            "Picture of roc mehra"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get the content via REST protocol",
          "Text": "Hi Jerome, I have used core_course_get_contents to get the contents of activity and also of resource but when i tried to get through fileurl which i got from response of my web service. It gives me \n```text\n{\"error\":\"Sorry, the requested file could not be found\",\"stacktrace\":null,\"debuginfo\":null,\"reproductionlink\":null}\n\n\n\n\nThanks in Advance\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 26, 2012, 4:02 PM",
          "AuthorName": "roc mehra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1516179&course=5",
          "role": [
            "Picture of roc mehra"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 218390,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=218390",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Trouble installing web service plugin.",
          "Text": "Hi, I've been trying to add some more external functions and make them accesible via a web service but have hit an issue. I've based it off the webservice plugin template and when I copy the plugin to the local directory moodle detects it as normal and \"installs\" it. The quotes are there because it doesn't appear to have worked completely. There is an entry for my plugin in the Admin->Plugins->Local but I cannot add any of the functions to my web service as they are not present in the dropdown. (I assumed that's what services.php was for?) I feel I'm missing a step here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 20, 2012, 11:23 AM",
          "AuthorName": "Duncan Cole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1536140&course=5",
          "role": [
            "Picture of Duncan Cole"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Trouble installing web service plugin.",
          "Text": "@Duncan Are you sure you properly filled the file db/service.php with your functions declarations and you service name ? And if you did it, did you increased by 1 the value of $version in local/myplugin/version.php ? See http://docs.moodle.org/dev/Creating_a_web_service_and_a_web_service_function#Bump_the_plugin_version HTH",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 20, 2012, 5:41 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble installing web service plugin.",
          "Text": "I gave that a shot and it did trigger the update process but much like the install one, it didn't appear to completely work. I don't know if it's significant but when you say ok to the upgrade (on the Notifications page) it goes to the /admin/index.php?confirmplugincheck=1 page. All that it is on it the heading \"Upgrading to new version\" and the plugin's name. Nothing else and it never redirects away from this page. If I navigate back to the Notifications area it appears that the upgrade has been successful. I've attached my module.zip file. I'm not a PHP developer by trade, so I expect that there will be some issues in externallib.php (I'm just trying some stuff out) but I figured it would still be able to install as long as that services.php file was correct.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 21, 2012, 4:27 AM",
          "AuthorName": "Duncan Cole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1536140&course=5",
          "role": [
            "Picture of Duncan Cole"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 213998,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213998",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "integrate moodle with the Student Information System (SIS)",
          "Text": "Dears\nGreeting\n\nKindly, how can i integrate moodle with the Student Information System (SIS) ???I need this integration to unification the user name and password in moodle and SIS ( means the user name & password of a student should be the same in SIS & moodle ) ??? How can I integrate this to get this user name & password unification between moodle & SIS ???\n\nThanks in advanced",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 17, 2012, 6:03 PM",
          "AuthorName": "marwa eng",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450478&course=5",
          "role": [
            "Picture of marwa eng"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: integrate moodle with the Student Information System (SIS)",
          "Text": "Look at the documentation on Authentication plugins.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 20, 2012, 9:38 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: integrate moodle with the Student Information System (SIS)",
          "Text": "Thanks for you support , could u explain what should i do in details ???? which plugins I should use ??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 30, 2012, 3:22 PM",
          "AuthorName": "marwa eng",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450478&course=5",
          "role": [
            "Picture of marwa eng"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: integrate moodle with the Student Information System (SIS)",
          "Text": "hae you got the solution? We have same issue. Would you share it?\nthanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 20, 2012, 5:05 AM",
          "AuthorName": "eva yulia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1462883&course=5",
          "role": [
            "Picture of eva yulia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: integrate moodle with the Student Information System (SIS)",
          "Text": "I have faced Same Issue. I have to integrate with ASP.net I tried there is some plugin like SSO and other are available But i am not familiar with that and never used. Try this https://moodle.org/mod/forum/discuss.php?d=5069 If it helps you.It helps me and if you find another solution.Please share.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 20, 2012, 3:09 PM",
          "AuthorName": "roc mehra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1516179&course=5",
          "role": [
            "Picture of roc mehra"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 151921,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=151921",
      "NoOfResponses": 14,
      "ResponsesInList": [
        {
          "Title": "How to create a webservice client in moodle 2.0 using php",
          "Text": "Hi, I created one webservice and assigned the webservice to the user. Can any one tell me how to create the client to access the webservice using php. With Regards, Niranjan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 9, 2010, 8:36 PM",
          "AuthorName": "niranjan reddy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1062089&course=5",
          "role": [
            "Picture of niranjan reddy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "Hi Niranjan. First of all, sorry for my bad English. There are four protocols you can use to connect with Moodle (SOAP, XML -RPC, AMF and REST), and I think they're working in a JSON connector. I'll copy here the code to connect via XML -RPC, but if you want to connect using another protocol, just ask here for it. To use the code I'm going to post you will need the Zend framework for php, that you can download from the website (I think you can copy the one that moodle uses, which is in lib/zend . Then, you will only need this: <?php include 'Zend/Loader/Autoloader.php'; Zend_Loader_Autoloader::autoload('Zend_Loader');",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 9, 2010, 10:00 PM",
          "AuthorName": "Alberto del Pozo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821913&course=5",
          "role": [
            "Picture of Alberto del Pozo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "Hi Pozo, Thank You.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2010, 9:44 PM",
          "AuthorName": "niranjan reddy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1062089&course=5",
          "role": [
            "Picture of niranjan reddy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "Hi Pozo, Thank You for the reply, I did't find the Zend/Loader/Autoloader.php in the moodle lib/zend file and i am using the wampserver with apache 2.2.11 and php 5.3.0 version and moodle 2.0 can u please tell me how to configur you code in my system and i am using the soap protocol With Regards,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2010, 11:47 PM",
          "AuthorName": "niranjan reddy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1062089&course=5",
          "role": [
            "Picture of niranjan reddy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "Please feel free to provide me your WSDLs, we can create compelete integration libs for client side. or post the wsdl here we will contribute the libs. Nagendra ( nshukla@mtgr8.com )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2010, 5:05 AM",
          "AuthorName": "Nagendra Shukla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1174028&course=5",
          "role": [
            "Picture of Nagendra Shukla"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "Hello all. I'm searching how to implement a client with the REST protocol. Thank u for helping me, there's 2 week that I'm on it",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Sunday, March 20, 2011, 3:58 AM",
          "AuthorName": "Rarivonirina Jean",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310751&course=5",
          "role": [
            "Picture of Rarivonirina Jean"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "I am having the same issue. I have tried this : <?php $function = \"moodle_user_get_users_by_id\"; //$params = array(array(1,2,3)); /* $params['userids'][] = 2; $params['userids'][] = 3; * */ $params = array( 'userids' => array(3,4)); $serverurl = \"http://{server_ur}/webservice/rest/simpleserver.php?wsusername=wsuser&wspassword=wsuserPassword\"; //$serverurl = \"http://{server_ur}/webservice/xmlrpc/ server .php?wstoken=8dc8f5ca046129706c0d85a56efcaddd\"; $postdata = http_build_query($params); $functionname = '&wsfunction=moodle_user_get_users_by_id'; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, \"{$serverurl}.{$functionname}\" ); //curl_setopt($ch, CURLOPT_URL, $serverurl ); curl_setopt($ch, CURLOPT_HEADER, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'POST'); curl_setopt($ch, CURLOPT_POST,true); curl_setopt($ch, CURLOPT_POSTFIELDS, $postdata); //$data = json_decode(curl_exec($ch)); $data = curl_exec($ch); curl_close($ch); print \"<pre>\"; var_dump($data); print \"</pre>\"; ?> The response i am having is : \n```text\n \n'<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\n\n<EXCEPTION class=\"webservice_access_exception\">\n\n\n<MESSAGE>Access control exception</MESSAGE>\n\n\n</EXCEPTION>\n\n\n'\n \n(length=145)\n```\n with the same user i am able to fetch the result via xml-rpc <?php include 'Zend/Loader/Autoloader.php'; Zend_Loader_Autoloader::autoload('Zend_Loader'); $function = \"moodle_user_get_users_by_id\"; $params = array(array(3,4)); //$serverurl = \"http://{server_url}/webservice/xmlrpc/simpleserver.php?wsusername=wsuser&wspassword=userPassword\"; $serverurl = \"http://{server_url}/webservice/xmlrpc/server.php?wstoken=8dc8f5ca046129706c0d85a56efcaddd\"; $client = new Zend_XmlRpc_Client($serverurl); print \"<pre>\"; try { $data = $client->call($function, $params); var_dump ($data); } catch (exception $exception) { var_dump ($exception); } print \"</pre>\"; ?>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 22, 2011, 1:41 AM",
          "AuthorName": "Ibrahim BAKAYOKO",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=810496&course=5",
          "role": [
            "Picture of Ibrahim BAKAYOKO"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "I got it now. Rest Client : <?php $function = \"moodle_user_get_users_by_id\"; $serverurl = \"http://{server_url}/vclc/webservice/rest/server.php\"; $params = array( 'userids' => array(2,4), 'wsfunction' => 'moodle_user_get_users_by_id', 'wstoken' => '157ca217b09caffee3e9719b96698386' ); $postdata = http_build_query($params); $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $serverurl); curl_setopt($ch, CURLOPT_HEADER, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'POST'); curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_POSTFIELDS, $postdata); $data = curl_exec($ch); curl_close($ch); print \"<pre>\"; var_dump($data); print \"</pre>\";",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 22, 2011, 3:02 AM",
          "AuthorName": "Ibrahim BAKAYOKO",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=810496&course=5",
          "role": [
            "Picture of Ibrahim BAKAYOKO"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "Hi, I got this working for getting just the user id enumerated. But, I have problems when I try to get courses. I started a separate discussion on this. But, would like to post it here too. Please point me what is wrong in my setup. This is on Moodle 2.0 on Ubuntu GNU/Linux with Apache 2.0 and MySQL . I created a user for web authentication and created a role called webaccess. This user is assigned to this role. I assigned all access to this role. I also created external services for xmlrpc with all functions added to it. I'm able to see the users using the function moodle_user_get_users_by_id. But, when I try to access the courses, I get the following error. \"error/You cannot execute functions in the course context (course id:2). The context error message was: Course or activity not accessible.\" I using the following XML RPC code <?php include 'Zend/Loader/Autoloader.php'; Zend_Loader_Autoloader::autoload('Zend_Loader'); $function = \"moodle_course_get_courses\"; $params = array('options' => array('ids' => array(2))); $serverurl = \"http://localhost/moodle/webservice/xmlrpc/ server .php?wstoken=4647d51e7a4cc7f97913658d044370a9\"; $client = new Zend_XmlRpc_Client($serverurl); echo \"Testing xml rpc\"; print \"<pre>\"; try { $data = $client->call($function, $params); var_dump ($data); echo $data; } catch (exception $exception) { var_dump ($exception); } print \"</pre>\"; ?> I could get the course listed only after commenting out the context checking code in course/externallib.php like shown below. /*            $context = get_context_instance(CONTEXT_COURSE, $course->id); try { self::validate_context($context); } catch (Exception $e) { $exceptionparam = new stdClass(); $exceptionparam->message = $e->getMessage(); $exceptionparam->courseid = $course->id; throw new moodle_exception( get_string('errorcoursecontextnotvalid', 'webservice', $exceptionparam)); }*/ I'm unable to get the context set for webservices. What should I do to have a seemless access to courses through webservice using xmlrpc? Thanks Balaji",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 6, 2011, 2:00 PM",
          "AuthorName": "Balaji Kutty",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1338960&course=5",
          "role": [
            "Picture of Balaji Kutty"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "Just for other Moodlers, the \"course context\" error occurs when the web service user does not have the permission to View courses without participation (moodle/course:view). Allow it and everything is gonna be alright.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 16, 2011, 6:25 PM",
          "AuthorName": "Philip Siwinski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1168048&course=5",
          "role": [
            "Picture of Philip Siwinski"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "Hi guys, I successfully manage to call get functions using rest, such as get_user, get_course ect, however I can't seem to create courses, or users. \n```text\n<?php\n\n\n\n\ninclude 'Zend/Loader/Autoloader.php';\n\n\nZend_Loader_Autoloader::autoload('Zend_Loader');\n\n\n$params = array(\n\n\n'wsfunction' => 'moodle_enrol_manual_enrol_users',\n\n\n'wstoken' => 'werw90483590438509sdwejhfjdkwfh3294',\n\n\n'roleid' => '1',\n\n\n'userid' => '3',\n\n\n'courseid' => '2',\n\n\n);\n\n\n\n\n$serverurl = \"http://localhost/moodle/webservice/rest/server.php\";\n\n\n\n\n$client = new Zend_Http_Client($serverurl);\n\n\n\n\nprint \"<pre>\";\n\n\n\n\n$client->setParameterPost($params);    \n\n\n$response = $client->request('POST');\n\n\necho ($response->getbody());\n\n\n\n\nprint \"</pre>\";\n\n\n\n\n?>\n```\n \n```text\n\n```\n \n```text\nThis is my code for enrol a user, I get the error invalid parameter. Does anyone know the correct parameters for this and for creating users?\n```\n \n```text\nThank you all.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 26, 2011, 7:10 AM",
          "AuthorName": "Josh Jones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1399490&course=5",
          "role": [
            "Picture of Josh Jones"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "Hi, I need this for Framework php CodeIgniter. Is possible? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 5, 2011, 6:03 PM",
          "AuthorName": "albert trabal arroyo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1402058&course=5",
          "role": [
            "Picture of albert trabal arroyo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "Hi, I have never used zend. How can i call my webservice?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 7, 2012, 4:09 PM",
          "AuthorName": "roc mehra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1516179&course=5",
          "role": [
            "Picture of roc mehra"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create a webservice client in moodle 2.0 using php",
          "Text": "You mean in Zend Framework? Have you got answer for your question?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 12, 2012, 9:54 PM",
          "AuthorName": "Rene P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1532500&course=5",
          "role": [
            "Picture of Rene P"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 217404,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=217404",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "adding course times and classrooms",
          "Text": "hi i have been tasked with adding the meeting times and locations of courses to a moodle 2.4 instance. i have looked and can't find how this fits in. the only place i can see is as a courseformatoptions but that doesn't seem right. i find it hard to believe that i am the first person to want to do this ... any pointers or comments welcome.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 6, 2012, 5:17 AM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 217339,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=217339",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web service and custom plugins",
          "Text": "Hello everybody. I'm trying to use Web Services, but all of them need userids from Moodle database to identify user and my $_POST doesn't know the Moodle user id-s. Unique e-mail is used for mapping users between sites. So I have to create plugin into Moodle, which gets $_POST data (with e-mails) from Web Services requester. Then use Web Services functions with user id-s gotten from database with $_POST e-mails. So the idealy it would work like: myrequestersite.com -> $_POST -> mymoodle.com/myplugin.php -> mymoodle.com Web Services So when I include locallib.php and whichever protocol I select (REST, SOAP)  - I can't see a way to set parameters (token, username, password).  Even if I could do that, parse_request() inside of run(), changes them back to null, because it only checks if combination of $_GET and $_POST needed variable is set and doesn't check if object variable is set already. So basically only scheme I can see working is: myrequestersite.com -> $_POST -> mymoodle.com/myplugin.php -> $_POST (By using Zend_Http_Client) -> mymoodle.com Web Services Is there a way how to remove 2nd $_POST from this scheme by keeping underlined scheme part, myrequestersite.com tables not being altered and myrequestersite.com not querying Moodle database directly? Also everything inside folder webservice/* are supposed to be left untouched! I could put all logic in our plugin to use Moodle inner functions, but then comes a risk that they're gonna be changed and that plugin needs to updated. Sorry for my English and for long post.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 5, 2012, 5:54 PM",
          "AuthorName": "Rene P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1532500&course=5",
          "role": [
            "Picture of Rene P"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 216917,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=216917",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "OK_Tech White Screen",
          "Text": "Hi I've installed the Ok tech web service.  I added the local folder to my Moodle root and then added the oktech folder and wspp folder as per the instructions.  It appears to have installed correctly after notification, but when I click on Site Administrator/Plugins/Web Services/Api Documentation http://myMoodleInstallation/admin/webservice/documentation.php I get a blank white page.  I get the same when I try and add functions to a custom service. Any ideas Andy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 29, 2012, 11:29 PM",
          "AuthorName": "Andrew Akhtar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=415589&course=5",
          "role": [
            "Picture of Andrew Akhtar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: OK_Tech White Screen",
          "Text": "I managed to get the problem fixed. I placed the wspp folder for OKtech webservices in the wrong place.  I think I followed an older installation process. Everything is working fine now. Andy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 30, 2012, 5:49 PM",
          "AuthorName": "Andrew Akhtar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=415589&course=5",
          "role": [
            "Picture of Andrew Akhtar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 212223,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=212223",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Webservice Dev core_role_assign_roles Understanding",
          "Text": "Hi, i'm using the webservice function core_role_assign_roles. I have Problem when i assign the Role student to a user in a course, whom i also created with a webservice function. Problem: I don't see the user i assigned the Role in the enrolment list of the course. it's in the list of the hidden Users \"Other Users\". Question: Is this the normal Behaviour of the Function? there is another Function to enrol a user in a course enrol_manual_enrol_users . where is the opposite Function to unenroll a user from  a course ? Slim Marzouki",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 25, 2012, 9:33 PM",
          "AuthorName": "Slim Marzouki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1503286&course=5",
          "role": [
            "Picture of Slim Marzouki"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservice Dev core_role_assign_roles Understanding",
          "Text": "Hi Ok, i got the answer of the first question from this thread http://moodle.org/mod/forum/discuss.php?d=196051 Question 2: where is the opposite Function of \" enrol_manual_enrol_users \" to unenroll a user from the course ? Slim Marzouki",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 26, 2012, 5:02 AM",
          "AuthorName": "Slim Marzouki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1503286&course=5",
          "role": [
            "Picture of Slim Marzouki"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice Dev core_role_assign_roles Understanding",
          "Text": "No function is available to unenroll a user from a course. You have to create function for it. You will get help from the link http://docs.moodle.org/dev/Creating_a_web_service_and_a_web_service_function",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, November 30, 2012, 3:39 PM",
          "AuthorName": "Pinki Naskar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1494986&course=5",
          "role": [
            "Picture of Pinki Naskar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 216630,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=216630",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Add  a plain sha1 password with core_user_create_users",
          "Text": "Hello, we have an academic system, where the passwords are stored in sh1, I would write to moodle via core_user_create_users, keeping the original encryption password. Tanks !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 26, 2012, 7:52 PM",
          "AuthorName": "caue caue",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1322085&course=5",
          "role": [
            "Picture of caue caue"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 215219,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215219",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "\"Context does not exist\" error",
          "Text": "hi folks, I'm under Moodle 2.3 I'm trying to enrol a student to a course using a rest web service. I'm receiving the message \" Context does not exist\" as an invalidparameter. Here is my code. ****************************************** /// SETUP - NEED TO BE CHANGED $token = 'd6b89e0ebdd2667e16830e0c8b1093fa'; $domainname = ' http://ludirm.medzone.fr '; $functionname = 'enrol_manual_enrol_users'; //////// //////// $enrolment = array( 'roleid' => 5, 'userid' => 24, 'courseid' => 69 ); $enrolments = array( $enrolment ); $params = array( 'enrolments' => $enrolments ); /// REST CALL header('Content-Type: text/plain'); $serverurl = $domainname . '/webservice/rest/ server .php'. '?wstoken=' . $token . '&wsfunction='.$functionname; $resp = $curl->post($serverurl, $params); print_r($resp); print_r($params); ***************************************** If anybody has any idea, I'll be greatful. I've been trying to fix it for couple of hours now. Many thanks in advance for your support. Lilian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 5, 2012, 12:01 AM",
          "AuthorName": "Lilian hugues",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1424751&course=5",
          "role": [
            "Picture of Lilian hugues"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"Context does not exist\" error",
          "Text": "Does any body has an idea ?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Tuesday, November 6, 2012, 9:19 AM",
          "AuthorName": "Lilian hugues",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1424751&course=5",
          "role": [
            "Picture of Lilian hugues"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Context does not exist\" error",
          "Text": "@lilian You are missing an array in your paramters forming line $enrolment = array( 'roleid' => 5, 'userid' => 24, 'courseid' => 69 ); $enrolments = array( $enrolment ); $params = array( 'enrolments' => $enrolments ); it should be $enrolments = array( array($enrolment )); Note that a tool to generate proper imbrication of parameters for all WS calls has been submitted here http://tracker.moodle.org/browse/CONTRIB-3472 Cheers ;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 7, 2012, 7:39 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Context does not exist\" error",
          "Text": "Hi Patrick, Many thanks for your response. As you've recommanded, I've replaced \" $enrolments = array( $enrolment ); \" by \" $enrolments = array( array($enrolment )); \". it seems that I have a arry too... \n```text\n<DEBUGINFO>enrolments =&gt; Valeur incorrecte de paramÃ¨tre dÃ©tectÃ©e: Missing required key in single structure: roleid</DEBUGINFO>\n</EXCEPTION>\nArray\n(\n    [enrolments] => Array\n        (\n            [0] => Array\n                (\n                    [0] => Array\n                        (\n                            [roleid] => 5\n                            [userid] => 24\n                            [courseid] => 69\n                        )\n\n                )\n\n        )\n\n)\n\n\n\n\nI'm stil facing my issue :-(\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 7, 2012, 11:17 PM",
          "AuthorName": "Lilian hugues",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1424751&course=5",
          "role": [
            "Picture of Lilian hugues"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Context does not exist\" error",
          "Text": "Ok, please find attached the code that DO work in Moodle 2.3 This code was generated from the REST sample code available at github https://github.com/moodlehq/sample-ws-clients and  my script at http://tracker.moodle.org/browse/CONTRIB-3472 that generates for all current operations the proper nesting of  arrays such as this one : \n```text\n// enrol_manual_enrol_users\n```\n \n```text\n$args37= array ( //e_s_s\n```\n \n```text\n'enrolments' => array( // e_m_s\n```\n \n```text\n array ( //e_s_s \n\n\n 'roleid' => 1, // PARAM_INTEGER VALUE_REQUIRED []\n\n\n 'userid' => 1, // PARAM_INTEGER VALUE_REQUIRED []\n\n\n 'courseid' => 1, // PARAM_INTEGER VALUE_REQUIRED []\n\n\n 'timestart' => 1, // PARAM_INTEGER VALUE_OPTIONAL []\n\n\n 'timeend' => 1, // PARAM_INTEGER VALUE_OPTIONAL []\n\n\n 'suspend' => 1, // PARAM_INTEGER VALUE_OPTIONAL []\n\n\n ),\n\n\n ),\n\n\n )\n\n\n;\n```\n To customize it for any other operations (either official of OK TECH if you installed it) : copy & paste  the proper $argsxx into the attached script rename $argsxx to $params adjust the values of the parameters marked as required remove or comment out (or set values if needed) for parameters marked as optional don't forget to adjust the $functionname value enjoy Cheers Edit : I just tested your code (with my values for courseid and userid) and it does also work . The error 'context does not exist' in your place is likely due to an invalid courseid value, or not enough permissions to do the enrolment ... Currently Moodle WS are not very good in error reporting...",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/biggrin"
          ],
          "Time": "Thursday, November 8, 2012, 8:02 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Context does not exist\" error",
          "Text": "Hi Patrick, Many thanks for your response and your attached file. I still have the same error message (context does not exist) Thus i think you are right, the issu seems to be coming from my moodle site. The permissions are ok and the course ID is ok to... I will investigate  one more time. Again many thanks for your support.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 9, 2012, 4:39 AM",
          "AuthorName": "Lilian hugues",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1424751&course=5",
          "role": [
            "Picture of Lilian hugues"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Context does not exist\" error",
          "Text": "Hi Patrick, hi Everybody, Thanks to the help of Patrick and after having a deep look in the database , I've identified my mistake and I've fixed it. I was calling the number that I've assign to the course. As you can see, it explain that it is the number that has to be set in external acces. In fact I had to call the course id directly and not the number of association. Many thanks again Patrick. The thread can be closed",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/939136/Capture.PNG",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/biggrin"
          ],
          "Time": "Saturday, November 10, 2012, 6:59 PM",
          "AuthorName": "Lilian hugues",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1424751&course=5",
          "role": [
            "Picture of Lilian hugues"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 215300,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215300",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Urgent for me - How to Retrieve WS Shortname ?",
          "Text": "Hi, thank you in advance. How can I retrieve Web Service Shortname ? Step by Step . Please",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 6, 2012, 5:30 AM",
          "AuthorName": "John Adam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1521020&course=5",
          "role": [
            "Picture of John Adam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 215212,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215212",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "WS template customization",
          "Text": "Dears I used WS template \" https://moodle.org/plugins/view.php?plugin=local_wstemplate \" to design my custom web services to extract data from moodle so I defined first service based on your template and it worked fine but when add second one it give me following fault \n```text\nArray\n(\n    [faultCode] => 404\n    [faultString] => Unknown error\n)\n```\n \n```text\n\n```\n \n```text\nI used the following code to define new service\n```\n \n```text\n$functions = array(\n        'local_ibraws_get_course_users' => array(\n                'classname'   => 'local_ibraws_external',\n                'methodname'  => 'get_course_users',\n                'classpath'   => 'local/ibraws/externallib.php',\n                'description' => 'return student informations',\n                'type'        => 'read',\n        ),\n        'local_ibraws_get_user' => array(\n                'classname'   => 'local_ibraws_external',\n                'methodname'  => 'get_user',\n                'classpath'   => 'local/ibraws/externallib.php',\n                'description' => 'Used to return course users',\n                'type'        => 'read',\n        )\n);\n```\n \n```text\n$services = array(\n```\n \n```text\n        'ibra ws' => array(\n                'functions' => array ('local_ibraws_get_course_users','local_ibraws_get_user'),\n                'restrictedusers' => 0,\n                'enabled'=>1,\n        )\n);\n\n\n\n\nand add functions in externallib.php\n\n\ncan any one help me with special tricks to add wervices as i want add at least another 10 services\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 4, 2012, 6:42 PM",
          "AuthorName": "Ibra Melhem",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427981&course=5",
          "role": [
            "Picture of Ibra Melhem"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: WS template customization",
          "Text": "and i used following code for externallib.php <?php // Moodle is free software: you can redistribute it and/or modify // it under the terms of the GNU General Public License as published by // the Free Software Foundation, either version 3 of the License, or // (at your option) any later version. // // Moodle is distributed in the hope that it will be useful, // but WITHOUT ANY WARRANTY; without even the implied warranty of // MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the // GNU General Public License for more details. /** * External Early Progress Warning System Web Service * * @package localepwsws * @copyright 2012 Moodle Pty Ltd ( http://moodle.com ) * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later */ require_once($CFG->libdir . \"/externallib.php\"); class local_ibraws_external extends external_api { /** * Returns description of method parameters * @return external_function_parameters */ //Get User Information By ID GET_USER >> parameters >> userid// public static function get_user_parameters() { return new external_function_parameters( array('userid' => new external_value(PARAM_INT, 'The user id for extracting user informations', VALUE_DEFAULT, 1)) ); } public static function get_user($userid ) { global $USER, $DB; //Parameter validation //REQUIRED $params = self::validate_parameters(self::get_user_parameters(), array('userid' => $userid)); // Context validation //OPTIONAL but in most web service it should present $context = get_context_instance(CONTEXT_USER, $USER->id); self::validate_context($context); //Capability checking //OPTIONAL but in most web service it should present if (!has_capability('moodle/user:viewdetails', $context)) { throw new moodle_exception('cannotviewprofile'); } $ sql = \"SELECT id, username, lastname, email, FROM_UNIXTIME(firstaccess) as firstaccess, FROM_UNIXTIME(lastaccess) as lastaccess, FROM_UNIXTIME(lastlogin) as lastlogin, lastip FROM mdl_user WHERE id = \".$userid; $outputs = $DB->get_records_sql($sql); //print_r($outputs); foreach ($outputs as $i=>$key){ $returnArray['id'] = $key->id; $returnArray['username'] = $key->username; $returnArray['lastname'] = $key->lastname; $returnArray['email'] = $key->email; $returnArray['firstaccess'] = $key->firstaccess; $returnArray['lastaccess'] = $key->lastaccess; $returnArray['lastlogin'] = $key->lastlogin; $returnArray['lastip'] = $key->lastip; }; return $returnArray; } /** * Returns description of method result value * @return external_description */ public static function get_user_returns() { return new external_single_structure( array( 'id' => new external_value(PARAM_INT, 'user record id'), 'username' => new external_value(PARAM_TEXT, 'user name'), 'lastname' => new external_value(PARAM_TEXT, 'user last name'), 'email' => new external_value(PARAM_TEXT, 'user email'), 'firstaccess' => new external_value(PARAM_TEXT, 'user first access time'), 'lastaccess' => new external_value(PARAM_TEXT, 'user lasr access time'), 'lastlogin' => new external_value(PARAM_TEXT, 'user last login'), 'lastip' => new external_value(PARAM_TEXT, 'user last ip'), ) ); } //Get Course all roled in users informations >> parameters >> courseid// public static function get_course_users_parameters() { return new external_function_parameters( array('courseid' => new external_value(PARAM_INT, 'The defualt returned value for course id = 1 ', VALUE_DEFAULT, 1)) ); } /** * Returns Course users inroled in * @return array of Course users inroled in */ public static function get_course_users($courseid) { global $USER, $DB; //Parameter validation //REQUIRED $params = self::validate_parameters(self::get_course_users_parameters(), array('courseid' => courseid)); //Context validation //OPTIONAL but in most web service it should present $context = get_context_instance(CONTEXT_USER, $USER->id); self::validate_context($context); //Capability checking //OPTIONAL but in most web service it should present if (!has_capability('moodle/user:viewdetails', $context)) { throw new moodle_exception('cannotviewprofile'); } $sql = \"SELECT c.id AS courseid, c.fullname AS coursefullname, c.shortname AS courseshortname, u.id AS userid, u.username AS username, u.firstname AS userfirstname, u.lastname AS userlastname, u.email AS useremail, u.country AS usercountry, FROM_UNIXTIME( u.firstaccess ) AS userfirstaccess, FROM_UNIXTIME( u.lastaccess ) userlastaccess, FROM_UNIXTIME( u.lastlogin ) AS userlastlogin, FROM_UNIXTIME( u.currentlogin ) AS usercurrentlogin, FROM_UNIXTIME( u.timemodified ) AS usertimemodified \". \" FROM mdl_course c \". \" LEFT OUTER JOIN mdl_context cx ON c.id = cx.instanceid \". \" LEFT OUTER JOIN mdl_role_assignments ra ON cx.id = ra.contextid \". \" LEFT OUTER JOIN mdl_user u ON ra.userid = u.id \". \" WHERE cx.contextlevel = '50' \". \" AND c.id = \".$courseid.\" ORDER BY username \"; $outputs = $DB->get_records_sql($sql); foreach ($outputs as $i=>$key){ $returnArray['courseid'] = $key->courseid; $returnArray['coursefullname'] = $key->coursefullname; $returnArray['courseshortname'] = $key->courseshortname; $returnArray['userid'] = $key->userid; $returnArray['username'] = $key->username; $returnArray['userfirstname'] = $key->userfirstname; $returnArray['userlastname'] = $key->userlastname; $returnArray['useremail'] = $key->useremail; $returnArray['usercountry'] = $key->usercountry; $returnArray['userfirstaccess'] = $key->userfirstaccess; $returnArray['userlastaccess'] = $key->userlastaccess; $returnArray['userlastlogin'] = $key->userlastlogin; $returnArray['usercurrentlogin'] = $key->usercurrentlogin; $returnArray['usertimemodified'] = $key->usertimemodified; }; return $returnArray; } /** * Returns description of method result value * @return external_description outputs returns */ public static function get_course_users_returns() { return new external_single_structure( array( 'courseid' => new external_value(PARAM_INT, 'Course id'), 'coursefullname' => new external_value(PARAM_TEXT, 'Course full name'), 'courseshortname' => new external_value(PARAM_TEXT, 'Course short name'), 'userid' => new external_value(PARAM_INT, 'User id'), 'username' => new external_value(PARAM_TEXT, 'User name'), 'userfirstname' => new external_value(PARAM_TEXT, 'User name'), 'userlastname' => new external_value(PARAM_TEXT, 'User last name'), 'useremail' => new external_value(PARAM_TEXT, 'User email'), 'usercountry' => new external_value(PARAM_TEXT, 'User country'), 'userfirstaccess' => new external_value(PARAM_TEXT, 'User first access time'), 'userlastaccess' => new external_value(PARAM_TEXT, 'User last access time'), 'userlastlogin' => new external_value(PARAM_TEXT, 'User last login time'), 'usercurrentlogin' => new external_value(PARAM_TEXT, 'User current login time'), 'usertimemodified' => new external_value(PARAM_TEXT, 'User time modified'), ) ); } }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 4, 2012, 8:21 PM",
          "AuthorName": "Ibra Melhem",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427981&course=5",
          "role": [
            "Picture of Ibra Melhem"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 215115,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215115",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_user_create_users: Address and phone missing",
          "Text": "Hello, I would like to note the fact that the Moodle webservice functions to create and update a user are limiting the fields available compared to the fields of the mdl_user table. For example, the address and phone fields are not available. Slight modifications to these functions would enable it. As I am a lazy programmer, I would not like to end writing a local webservice function just to access these fields",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, November 2, 2012, 8:03 AM",
          "AuthorName": "Francois J",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1518417&course=5",
          "role": [
            "Picture of Francois J"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 214920,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=214920",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Using webservices.",
          "Text": "Hello all.. I am trying to use moodle as core engine of my application. I wish to know if Moodle can be used as webservice in my application with a totally customised UI. Please let me know if this is something possible to implement. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 30, 2012, 8:35 PM",
          "AuthorName": "Satyajitsinh Raijada",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1519872&course=5",
          "role": [
            "Picture of Satyajitsinh Raijada"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 173181,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=173181",
      "NoOfResponses": 14,
      "ResponsesInList": [
        {
          "Title": "Create User using XML-RPC Webservice",
          "Text": "I've been trying to create a user on Moodle 2.0 running the following code: <?php $remotemoodleurl = ' http://www.aotc.moodlehub.com '; $token = 'mytoken'; //set user $user = array ( array( 'username' => 'elbarto', 'password' => 'Bart_1989', 'firstname' => 'Bart', 'lastname' => 'Simpson', 'email' => 'bart@simpson.com', 'city' => 'Springfield', 'country' => 'United States' ) After many attempts I still get the \"Invalid external api parameter: users (Missing required key in single structure: username)\" error message. I don't know what I'm doing wrong. Thanks in Advance for your help!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, April 12, 2011, 5:06 AM",
          "AuthorName": "Roy Rodenhäuser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=896073&course=5",
          "role": [
            "Picture of Roy Rodenhäuser"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Hi Roy, Did you manage to figure this one out?  I'm in the same boat (as are a ton of other people from what I see).  If you did manage to get it going, would it be ok if you posted the solution back here?  If not, no problems, I'm just battling with the same issue. Cheers, Dan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 2, 2011, 12:26 AM",
          "AuthorName": "Dan Kennedy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1360314&course=5",
          "role": [
            "Picture of Dan Kennedy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Hi, try with: $user = array ( 'username' => 'elbarto', 'password' => 'Bart_1989', 'firstname' => 'Bart', 'lastname' => 'Simpson', 'email' => 'bart@simpson.com', 'city' => 'Springfield', 'country' => 'United States' );",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 2, 2011, 10:15 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Thanks Jerome, I guess I should have been a bit more specific with my problem.  When I post this: $user = array('username' => 'todd', 'password' => 'password1234', 'firstname' => 'danny what', 'lastname' => 'losses', 'email' => 'dan@dan.dan', 'auth' => 'manual', 'idnumber' => '', 'lang' => 'en'); $data = $client->call($function, array('users' => array(array($user)))); I get this error back from Moodle: Invalid external api parameter: users (Missing required key in single structure: username) And when I post this: $data = $client->call($function, array('users' => array($user))); or the following (which is EXACTLY how the admin WS test posts it): $data = $client->call($function, array(array($user))); I get this error: Invalid external api parameter: users (Only arrays accepted.) Basically, I need a working example like the client example for loading users by ID ( http://docs.moodle.org/dev/Creating_a_web_service_client ), which works perfectly on my instance (to show that everything else is set up correctly). Sorry for the hassle.  I'm definitely not asking anyone else to do the hard work for me - I've spent hours and hours on this one method, and nothing seems to work. Regards, Dan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 2, 2011, 3:34 PM",
          "AuthorName": "Dan Kennedy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1360314&course=5",
          "role": [
            "Picture of Dan Kennedy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "$data = $client->call($function, array('users' => array($user))); It seems correct. Maybe have a look to the unit test /webservice/simpletest/testwebservice.php:moodle_user_create_users.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 2, 2011, 4:44 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Hi Jerome, I've already looked at the webservices tests and examples in depth, dissected the XML RPC calls and confirmed that the test arrays are identical to my own arrays so why the system doesn't like it, I don't know.  I've spent a few hours pulling it apart without success. I've used the API call to load user details without any problem, so I know the XML RPC connection is working fine. What I need is an example of using the create users method.  Why a developer would write all these API calls and Moodle would release them without giving examples for how to use them is pretty annoying, but such is the experience of some open-source packages. Regards, Dan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 2, 2011, 6:23 PM",
          "AuthorName": "Dan Kennedy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1360314&course=5",
          "role": [
            "Picture of Dan Kennedy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Can you paste your web service client here?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 3, 2011, 1:51 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Sure: $token = 'xxx'; $serverurl = \"xxx\"; $user = array('username' => 'todd', 'password' => 'password1234', 'firstname' => 'danny what', 'lastname' => 'losses', 'email' => 'dan@dan.dan', 'auth' => 'manual', 'idnumber' => '', 'lang' => 'en'); $function = \"moodle_user_create_users\"; $client = new Zend_XmlRpc_Client($serverurl); print \"<pre>\"; try { $data = $client->call($function, array(array($user))); var_dump ($data); } catch (exception $exception) { var_dump ($exception); } print \"</pre>\";",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 3, 2011, 5:22 AM",
          "AuthorName": "Dan Kennedy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1360314&course=5",
          "role": [
            "Picture of Dan Kennedy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Hi, I am stumbling upon the same problem mentioned in this thread, add a user via XML-RPC. I succesfully achieved adding a group following the Adding a web service to a plugin . I am trying to add a user using the same codebase via a Custom service with the function core_user_create_users and a webservice user associated with the right capabilities. Has anybody found a solution for it? Francois",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 26, 2012, 8:20 AM",
          "AuthorName": "Francois J",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1518417&course=5",
          "role": [
            "Picture of Francois J"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Well, I finally found out: In my case, the password submitted was not meeting the Moodle policy: 8 chars min., 1 number, 1 min, 1 maj, 1 non-alphanum at least. And by the way, it will force my application to conform to this policy... Francois",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 27, 2012, 3:13 AM",
          "AuthorName": "Francois J",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1518417&course=5",
          "role": [
            "Picture of Francois J"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Hi Jerome, I'm having the same problem with my code, \n```text\n<?php\n\n\ninclude 'Zend/Loader/Autoloader.php';\n\n\nZend_Loader_Autoloader::autoload('Zend_Loader');\n\n\n\n\n$params = array(\n\n\n'wsfunction' => 'moodle_user_create_users',\n\n\n'wstoken' => '2321kjkdjfjerhgjkre',\n\n\n'username'=> 'imtryingthis',\n\n\n'password'=>'Reallyhopethis@',\n\n\n'firstname'=> 'sam',\n\n\n'lastname'=> 'smith',\n\n\n'email'=> 'samsmith@hotmail.com',\n\n\n'auth'=> 'manual',\n\n\n'idnumber'=> '',\n\n\n'lang'=> 'en',\n\n\n);\n\n\n\n\n$serverurl = \"http://localhost/moodle/webservice/rest/server.php\";\n\n\n\n\n$client = new Zend_Http_Client($serverurl);\n\n\n\n\nprint \"<pre>\";\n\n\n\n\n$client->setParameterPost($params);    \n\n\n$response = $client->request('POST');\n\n\necho ($response->getbody());\n\n\n\n\nprint \"</pre>\";\n\n\n?>\n```\n \n```text\n\n```\n \n```text\nWould be greatful for your input. Thank you.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 26, 2011, 6:00 AM",
          "AuthorName": "Josh Jones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1399490&course=5",
          "role": [
            "Picture of Josh Jones"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Hi Josh, there is a REST demo client: https://github.com/moodlehq/sample-ws-clients Try to develop with the latest Moodle version (master branch of https://github.com/moodle/moodle ) and Moodle debug mode >= NORMAL. The Moodle master branch contains improvements that helps a lot during web service development.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 28, 2011, 11:45 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "I want to use the customfield. Does anyone has an example? $user->customfields = array( array('type'=>'color','value'=>'black'), array('type'=>'drink','value'=>'fanta') );",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 1, 2012, 9:41 PM",
          "AuthorName": "Gergely Gaal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404654&course=5",
          "role": [
            "Picture of Gergely Gaal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Create User using XML-RPC Webservice",
          "Text": "Solution to this problem: When you create costumfields, do not use underscores...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 1, 2012, 11:25 PM",
          "AuthorName": "Gergely Gaal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404654&course=5",
          "role": [
            "Picture of Gergely Gaal"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 95203,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=95203",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "integrating a web conference tool with a moodle site",
          "Text": "i am a newbie to moodle, i have experience in joomla cms and can follow a bit of php code. i would like to know if its possible to integrate a web conferencing tool like webex with a moodle web site, with a single log in. ie if a valid subscriber to my site can join a webex conference from my site using the same log in id. if yes how and what needs to be done? your help will be of great help to me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 18, 2008, 3:59 AM",
          "AuthorName": "rajesh m",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=540899&course=5",
          "role": [
            "Picture of rajesh m"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: integrating a web conference tool with a moodle site",
          "Text": "I´m also newbie for moodle..., but I have found some webconferencing software/service called DIMDIM ( http://www.dimdim.com/ ) wich I think you should take a look. And as I understand you can integrate to moole by downloading some module. I have not tryied yet, but take a look at it, and tell me about it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 24, 2008, 6:58 AM",
          "AuthorName": "Alejandro Ruiz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=585244&course=5",
          "role": [
            "Picture of Alejandro Ruiz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: integrating a web conference tool with a moodle site",
          "Text": "Also check this: http://www.covcell.org/index.php?option=com_content&view=frontpage&Itemid=1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 24, 2008, 7:10 AM",
          "AuthorName": "Alejandro Ruiz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=585244&course=5",
          "role": [
            "Picture of Alejandro Ruiz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: integrating a web conference tool with a moodle site",
          "Text": "Hi Rajesh, You might like to have a look at the WiZiQ Live Class modules here: WiZiQ's Web Conferencing module for Moodle Although the Virtual Classroom integrates well with Moodle, users would require a separate login for WiZiQ. This is necessary to reduce chances of intruders jumping in your classes. Hope it helps! Please let me know if you need further assistance with WiZiQ. Thanks, Jagdeep Singh Pannu For WiZiQ",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 5, 2008, 9:29 PM",
          "AuthorName": "Jagdeep Singh Pannu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=364209&course=5",
          "role": [
            "Picture of Jagdeep Singh Pannu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: integrating a web conference tool with a moodle site",
          "Text": "It is possible to integrate WebEx with Moodle .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 19, 2010, 11:25 AM",
          "AuthorName": "Nach S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=373943&course=5",
          "role": [
            "Picture of Nach S"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: integrating a web conference tool with a moodle site",
          "Text": "Integration of any web conferencing service with your website is possible provided you get required permission from the web conferencing service provider as it is their own patented technology. For further information visit, http://www.webex.com/faqs.html . In the mean time, you can use other web conferencing services such as gomeetnow.com, gotomeeting.com etc.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 17, 2012, 7:39 PM",
          "AuthorName": "Aliasgar Babat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1508750&course=5",
          "role": [
            "Picture of Aliasgar Babat"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 213912,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213912",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "create a web service to access non logged in  users  events information",
          "Text": "Dear all, can i create a web service to access non logged in  users  events information ? Arjun",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 16, 2012, 8:05 PM",
          "AuthorName": "Arjun Baliga",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450509&course=5",
          "role": [
            "Picture of Arjun Baliga"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: create a web service to access non logged in  users  events information",
          "Text": "All non-logged in users are the same user - guest - so if that's what you want then possibly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 16, 2012, 8:10 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 213521,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213521",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "No web service test client",
          "Text": "I installed Moodle v2.3 and I don't seem to have \"any\" testwebservice.php (or other names mentioned in these forums). Is there something I need to do \"more\" or did it go away and i'm missing the doc on that as well?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 10, 2012, 9:56 PM",
          "AuthorName": "Roger Studner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1511627&course=5",
          "role": [
            "Picture of Roger Studner"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: No web service test client",
          "Text": "ahh.. /admin/webservice/testclient.php this appears to contradict local doc, online doc, and forum posts.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 10, 2012, 9:59 PM",
          "AuthorName": "Roger Studner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1511627&course=5",
          "role": [
            "Picture of Roger Studner"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 213291,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213291",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Conexion moodle-web externa",
          "Text": "Hola, necesito una mano. Neesito desarrollar una aplicacion en Moodle, que me permita enviar desde moodle un archivo.txt a una aplicacion web y recibir una respuesta al insatante, que sera la calificacion para almacenar al estudiante. Explico con mas detalle, el estudiante debe ingresar un archivo, el cual sera enviado a una aplicacion web externa, sera corregida, y devolvera una calificaion a moodle, donde debe ser almacenada en el historial del alumno. Necesitaria una mano, estoy medio perdido, que me recomiendan?, API, crear un cuestionario que se comunique con la pagina web, agradeceria cualquier informacion. saludos Matias",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 7, 2012, 11:07 PM",
          "AuthorName": "Matias Tolosa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1510204&course=5",
          "role": [
            "Picture of Matias Tolosa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 213049,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213049",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "web service with XML-RPC protocol",
          "Text": "Hi everybody. I'm a newbie in using Moodle. Please, help me. I've enabled external web services, created new external service with its functions, enabled XML -RPC protocol, created special user having needed permissions, added him for that service and created token for him as it's written in the documentation: http://docs.moodle.org/23/en/Enable_mobile_web_services http://docs.moodle.org/23/en/Web_services_FAQ 1) For the first I have an error in Manage tokens for my added user: Missing capabilities: moodle:category/manage I didn't find this capability in user's role capabilities. Ifound only the capability moodle/category:manage and it was allowed for my user. Version of Moodle is 2.3. Help me please. 2) Except this now I want to test my service functions in moodle using token in Site administration->Development-> Web service test client . For example I choose the function moodle_user_create_users. I fill in the token username (of user who must be added) password (of user who must be added) etc. In the field customfieldtype I write idnumber and in the field customfieldvalue - some integer number. Then I press Execute button. After this I have this errors. How can I correct them and where must I write the function? P. S. Sorry, if my English isn't good.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/928202/Untitled.png?forcedownload=1"
          ],
          "Time": "Thursday, October 4, 2012, 1:50 PM",
          "AuthorName": "Andranik Sharabchian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1497096&course=5",
          "role": [
            "Picture of Andranik Sharabchian"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: web service with XML-RPC protocol",
          "Text": "Test is already working. But I still have an error about capability 1) For the first I have an error in Manage tokens for my added user: Missing capabilities: moodle:category/manage I didn't find this capability in user's role capabilities. Ifound only the capability moodle/category:manage and it was allowed for my user. Version of Moodle is 2.3. Help me please. 2) Except this, I can't find where the function moodle_user_create_user s () is written ( for example ) . Can anyone help me? PLEASE!!!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wideeyes"
          ],
          "Time": "Thursday, October 4, 2012, 4:32 PM",
          "AuthorName": "Andranik Sharabchian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1497096&course=5",
          "role": [
            "Picture of Andranik Sharabchian"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 212722,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=212722",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Services between moodle core & java",
          "Text": "Hello, what I need to do is make a java web service that will be able to send some data  to moodle core quiz components. Any suggestions for starting? Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 1, 2012, 4:23 PM",
          "AuthorName": "Marigianna Skouradaki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1321402&course=5",
          "role": [
            "Picture of Marigianna Skouradaki"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 212105,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=212105",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "core_webservice_get_site_info : switch version number from PARAM_FLOAT to PARAM_TEXT. It could break auto-generated clients.",
          "Text": "Hello, in 2.4 we will use PARAM_TEXT to describe the Moodle version numbers in core_webservice_get_site_info() - see MDL-35593 . Version numbers were previously declared as float. It was an issue because the Moodle version numbers are too big to be a float on 32 bits processors. I think the change would break clients that are auto generated like the Java /.Net clients using SOAP. Till now it was not a problem because we could not generate these kind of clients as Moodle WSDL were not compatible. However some work have been done recently on the subject - see MDL-28988 . I still think it's a good time to backport it before many people can auto-generate clients. How many of you would be impacted by this fix?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 24, 2012, 4:30 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 211317,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=211317",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "webservices user as site administrator",
          "Text": "does anyone have any comments on making the webservices user a site administrator? i keep running into problems with context , for instance assigning roles. i'm also digging down into permissions and configuration to try and do this a different way, but so far, the different way has brought me precious little success. so it seems like i might be headed here anyway.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 13, 2012, 11:10 PM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: webservices user as site administrator",
          "Text": "Hi John, from what I understand, you created a Moodle user (and so a token) for your client. By principe I would avoid using a token linked to an administrator as much as I can (imagine a client user steals the token, then the Moodle admin add the delete_courses() function to the service thinking it's ok because he knows the client doesn't call it, then the user deletes the Moodle site courses with its own client) In summary you must know about the administration of Moodle roles (one of the most difficult part in administration imo). It is very likely that the issue you are having, you are having it in Moodle too. The core web service respect 100% (otherwise it's a bug) the web behaviour. So if you can/cannot do something on the web, it will be the same with the web services. You have to know how to administrate when you are using the web services. There is no other choice that reading docs and testing on the web version. Note: assign_role is tricky by the name. You may be looking to enrol_users instead, search in this forum there are few conversations about it. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 19, 2012, 2:33 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 211695,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=211695",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Simple Web Service Tutorial Request",
          "Text": "Hello, i would like to ask, where can i find a simple tutorial that explains step by step a simple web service for creating users for example... I am a little bit confused about web services... Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 18, 2012, 10:10 PM",
          "AuthorName": "Ilias S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1498975&course=5",
          "role": [
            "Picture of Ilias S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Simple Web Service Tutorial Request",
          "Text": "Hi Ilias, If you are requesting on how to create a web service: I think the easiest way to start writing a web service function is to look at the ws template code: https://github.com/moodlehq/moodle-local_wstemplate . You'll find more information into the doc: http://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin Otherwise you can also look in the Moodle code in user/externallib.php, there is a create_users() function. If you are requesting on how to use the create user web service function: you need to start by: http://docs.moodle.org/23/en/How_to_create_and_enable_a_web_service Admin docs are located there: http://docs.moodle.org/23/en/Web_services Finally you need to write a client: http://docs.moodle.org/dev/Creating_a_web_service_client Good luck, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 19, 2012, 10:08 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Simple Web Service Tutorial Request",
          "Text": "Hi Jerome, thanks for immediate response, i will check the resources that you provide... thanks again...!!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 19, 2012, 2:26 PM",
          "AuthorName": "Ilias S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1498975&course=5",
          "role": [
            "Picture of Ilias S"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 211425,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=211425",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding another wstemplate to my local plugin",
          "Text": "I installed the local wstemplate example http://moodle.org/plugins/pluginversion.php?id=401 in my /local plugin directory and I changed the function hello world to do something else. I followed the instructions and got it working just fine in Moodle as a web service. Now, I'm trying to add a copy of this plugin to the /local directory so that I can change the function names and other descriptions. I changed the directory name to wstemplate2. I changed some names from local_wstemplate_hello_world to local_wstemplate2_hello_world2, My service to My Service2, etc. Basically, trying to change whatever names I believed could make my plugin unique from the 1st one. But after all this, I don't see it in the Notifications page. I also don't see it in the local plugins page. This plugin has all the same files as the first one. Is there something that I'm missing here?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 15, 2012, 12:47 AM",
          "AuthorName": "Shi Qiao Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1489458&course=5",
          "role": [
            "Picture of Shi Qiao Yu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 210576,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=210576",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "[Moodle 2.0] Web service & Java",
          "Text": "I used org.apache.axis.wsdl.WSDL2Java to create class to interact with a web service function but I don't know the parameter for core_group_create_groups method. Can help me? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 5, 2012, 4:34 PM",
          "AuthorName": "Dante Basile",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1465045&course=5",
          "role": [
            "Picture of Dante Basile"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "[SOLVED] [Moodle 2.0] Web service & Java",
          "Text": "I solved. For associative use java .util.Map. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 14, 2012, 8:15 PM",
          "AuthorName": "Dante Basile",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1465045&course=5",
          "role": [
            "Picture of Dante Basile"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 199866,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=199866",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Proposal to modify the web services framework to support file downloads",
          "Text": "Currently the Lightwork team is adding addition web service functions to Moodle (see MDL-31409 and http://docs.moodle.org/dev/Lightwork ). One web service function that we are adding is called mod_assign_export_submissions and will download one or all student submission files for an assignment package as a zip file (this is similar to selecting the \"Download all assignments as a zip\" on the Moodle assignment submissions page). Other web services that we are building will also download multiple files packaged in zip format. Unfortunately, the existing web services do not support efficient file downloads and the current file download functionality is by using an independent script such as pluginfile.php. We have identified 3 options for solving this problem: 1) Create another independent script like pluginfile.php that downloads a zip file containing submission files for an assignment Advantage: Simplest and easiest solution Disadvantage: An independent script is not a web services function and is not part of services.php and the externallib.php structure. The script needs to be called directly - e.g http://<moodle>/mod/assign/export_submissions.php and not through the standard mechanism 2) Add special handling into webservices/<protocol>/ server .php so that web service functions that download files are recognised as a special case and registered handlers are used to call the file download process. E.g, when http://<moodle>/webservices/rest/server.php?WSFUNCTION=mod_assign_export_submissions is called, it is recognised to be a file download and is processed through a handler Advantage: Allows the standard web service framework to be used Disadvantage: The required changes to the web service will be awkward to implement and do not fit in well with the current framework 3) Add a new structure \"external_file\" to the web services. Currently the web services framework support 3 data type, external_multiple_structure, external_single_structure, and external_value. The new \"external_file\" will contain the filename and file itself for webservice's return(). We then change the webservices handling logic to check when the return type is of external_file and generate a binary file streaming HTTP Response as opposed to generating the regular Response data structure. This requires 2 implementations, 1 for REST and 1 for the other protocols (as all AMF /XmlRPc/SOAP used 1 implementation based on Zend). Advantage: This technique fits well with the current web services structure and integrates file download into the existing framework Disadvantage: It is the most complex implementation Thanks, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2012, 5:48 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Proposal to modify the web services framework to support file downloads",
          "Text": "Hi Paul, can you explain why the current file download functionality by using webservice/pluginfile.php is not enough/efficient? As I suppose you have a good reason, I would suggest to create a tracker issue (with the explanation) and to add Dongsheng/Martin/Petr as watcher, they are the file experts/maintainers. Anyone will be able to talk on this issue. Quick idea, in 2) we could be marking the function as a file function in the services.php declaration.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2012, 11:17 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal to modify the web services framework to support file downloads",
          "Text": "Hi Jerome, webservice/pluginfile.php only allows a single specified file to be downloaded. It does not contain logic to allow us to perform actions such as bundling up all the submission files for a specific assignment in a single zip for download. Also, it sits outside Moodle's web service framework, i.e. it is not part of services.php and the externallib.php structure and so can't for instance be included as a function in a web service. We'll create a tracker issue as you suggest. Cheers, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2012, 12:46 PM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal to modify the web services framework to support file downloads",
          "Text": "Actually, it doesn't. Look at how Course -> Settings -> Question bank -> Epxort works. You end up with a pluginfile.php URL which sends back a file that is generated on the fly. Your code can do anything you like in response to a pluginfile URL, including generate a zip.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2012, 3:11 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal to modify the web services framework to support file downloads",
          "Text": "ah even better answer",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, April 4, 2012, 3:20 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal to modify the web services framework to support file downloads",
          "Text": "Hi Tim, Thanks for pointing out that area of code. That fits in with what we were thinking about for our option 1) proposal. Cheers, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 5, 2012, 4:42 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal to modify the web services framework to support file downloads",
          "Text": "At this moment you have to call a web service function which save your zip file in a file aera. Then your client can download it with webservice/pluginfile.php. I think this is the way to go at this time. To have on the fly generated file with web service, it's a new feature, so it's definitively best to create a new issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2012, 3:18 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal to modify the web services framework to support file downloads",
          "Text": "Hi Jerome, We've created issue MDL-32336 for this work. I've added all the people you suggested as watchers. Cheers, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 11, 2012, 7:57 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal to modify the web services framework to support file downloads",
          "Text": "Hi everyone, We've just added for peer review our proposed enhancement to the web services framework to incorporate file downloads. Our changes can be seen in MDL-32336 and represent option 3 as described in the initial post. Our enhancement is aimed at simplifying the process of file downloading for web service clients. It provides the following advantages: 1) File download will be integrated into the web services framework, i.e clients will be able to download files using a standard web service function within the services.php/externallib.php web service framework. Being able to use all the web service functionality in a consistent manner means that the Moodle web services become much easier and attractive to use for clients 2) File download will be done using a single web service function call. With the current functionality it is necessary to make 2 calls, one to call a web service function to save a zip file in a file area and the second to download it using webservice/pluginfile.php. Cheers, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 30, 2012, 8:01 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal to modify the web services framework to support file downloads",
          "Text": "Hi everyone, We have now updated the development page describing changes we are proposing to integrate into the Moodle core that will make the creation of a web service function to download files much simpler. Currently, it is necessary to perform the additional step of calling webservices/pluginfile.php to do this. The reason for this additional step is that the existing web services framework could only support binary encoding in XML which is very inefficient. More details of our proposal are described at http://docs.moodle.org/dev/Talk:External_services_description#Integrate_file_download_into_the_Moodle_web_services_framework . The changes extend the web services framework to support a new return data type called external_file. This will allow a web service developer to create a single web service function that contains the business logic to get some files which are then zipped up and returned. Our extension will allow developers to take advantage of the standard mechanisms (where they exist) that are defined by each web service protocol  for downloading files. For instance, the SOAP protocol has SOAP with attachments http://www.w3.org/TR/SOAP-attachments which the new external_file data type would use. In the case of REST, which we have implemented first, we use the same mechanism as  webservices/pluginfile.php uses, i.e the file download functions in lib/filelib.php. The code changes and more discussion can be found at MDL-32336 Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 14, 2012, 1:41 PM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 210752,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=210752",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "core_users_get_users_by_username",
          "Text": "hi i was just wondering why this doesn't exist within the core_ webservices. i've read some posts about writing something like this in the forum, but nothing more than that. i guess i'm going to join those people in writing my own [extensively cribbed from core_users_get_users_by_id]. i keep feeling like i'm missing something obvious, but since i'm missing it, i don't know what it is!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 3:41 AM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_users_get_users_by_username",
          "Text": "Hi John, it doesn't exist because nobody wrote this function. We were working on a solution but nobody is working on it yet: http://tracker.moodle.org/browse/MDL-29938 . Note that I understand your question, me too sometimes I'm using other provider APIs. As often similar remarks come back on the forum, I'd like to add my personal opinion in the hope to clarify some points about writing web services and the hope for a better API future: a) often easy web services take more time that we would think. I wrote a document to help people to contribute a function to core: http://docs.moodle.org/dev/How_to_contribute_a_web_service_function_to_corehttp://docs.moodle.org/dev/How_to_contribute_a_web_service_function_to_core b) often other apps don't need the web service we request as client. For example the iOS Moodle app doesn't need the core_users_get_users_by_username(). c) writing a third party web service function is a good and fast alternative. But at the end the question is \"why developers don't contribute the function back to core ?\". I think the answer often comes to: - not sure it's secured - not sure it's compatible with all supported dbs/browsers/webservers/PHP version/etc. - not sure it's respecting the moodle code logic",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 12:06 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_users_get_users_by_username",
          "Text": "Hi, Anyone know if there is a wish list of missing web services somewhere? It would be nice to see what is missing and maybe try to help. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 3:21 PM",
          "AuthorName": "Jason Robinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1462814&course=5",
          "role": [
            "Picture of Jason Robinson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_users_get_users_by_username",
          "Text": "Hi Jason, The Lightwork project is building a lot of web services for integration into Moodle. We would welcome developer assistance. See MDL-31409 and docs.moodle.org/dev/Lightwork Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 6:46 PM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_users_get_users_by_username",
          "Text": "Thanks Paul will have a look!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 7:49 PM",
          "AuthorName": "Jason Robinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1462814&course=5",
          "role": [
            "Picture of Jason Robinson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_users_get_users_by_username",
          "Text": "Hi Jason, see MDL-29934 Marked as being related is the wish list. Everytime I see a new issue suggesting a new function I add it there. Otherwise the sub tasks are the functions that we need and are going to implement. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 10, 2012, 11:42 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_users_get_users_by_username",
          "Text": "hey thx for your thoughtful reply. i think my management is fine with having me submit the service [if i can get it to work]. so i'll take a look at those tickets, and you mention and try to give it back to the community. really, my plan is to modify get_users_by_id as little as possible, so hopefully this will make it easier to integrate into the core. i understand that open source projects do have any programmers on the payroll [what payroll?], so apparently simple things do not get done. i did not mean to insult or degrade you or anyone who has put effort into moodle. sorry if i sounded that way.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 10:08 PM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_users_get_users_by_username",
          "Text": "Thanks John, we appreciate all web service contribution (follow the doc: http://docs.moodle.org/dev/How_to_contribute_a_web_service_function_to_core ). MDL-29938 is the issue you want to be resolved. Once is done get_users_by_id() is more likely going to be deprecated and get_users_by_username() rejected ( MDL-28606 ). We try to avoid to duplicate code (so avoid maintenance nightmare). Vote for MDL-29938 , ping it, it generally makes an issue move faster (not all the time but often). Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 10, 2012, 11:59 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_users_get_users_by_username",
          "Text": "sorry, but you seem to be saying two different things here. maybe there's something i'm not understanding - i can contribute my webservice to core - supporting MDL-29938 [which negates the need for the new webservice code i'd be submitting] how long do you think it may be before MDL-29938 will be released? [maybe you are not clairvoyant ...]",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 13, 2012, 12:30 AM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: core_users_get_users_by_username",
          "Text": "Hi John, - core_user_get_users_by_username is not going to implemented because it would be good to avoid to have several get_users_by_field functions. I personally would prefer to have one get_users($field). Maintainance should be much better this way. - sorry to not have alerted you in my first answer that there is no need to contribute core_user_get_users_by_username. I remembered about it when I searched in the tracker for the function name ( MDL-28606 ). - I don't know when MDL-29938 will be released. I'd like it in 2.4 but I can't promise anything.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 13, 2012, 11:42 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 209755,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=209755",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "deleting courses without enrollment",
          "Text": "hi been working with webservices for moodle2 and getting a lot done- thx! i've been trying to use 'core_course_delete_courses' and am getting errors about 'Not enrolled' { 'errorcode' => 'requireloginerror', 'exception' => 'require_login_exception', 'debuginfo' => 'Not enrolled', 'message' => 'Course or activity not accessible.' }; first, is the error that i am not enrolled in the class [and can therefore not delete it], or that there is no one at all enrolled in the class [and therefore cannot delete it] also, i am sending in about 3000 classes to be deleted with this message, is there some kinda top number on this [how many classes can be deleted at once]? thx for any help you can give.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 25, 2012, 2:41 AM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: deleting courses without enrollment",
          "Text": "Hi John, thanks for the report. Can you create an issue in the Moodle Tracker (check before if a similar issue already exist - I remember seeing an issue about require_login_exception but can not find it). Describe the test instructions about how to reproduce it (if you can identify the problem causing the issue). Thanks, Jerome.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 3, 2012, 5:18 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: deleting courses without enrollment",
          "Text": "ok- np. i created it: http://tracker.moodle.org/browse/MDL-35292 there was another bug featuring core_course_delete_courses, but after reviewing it, i didn't think it was the same issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 1:42 AM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 208941,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=208941",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Can a web service handle XML?",
          "Text": "Is it possible to post XML data to a web service or do I need to convert it beforehand? How would the parameter definition look like if XML is possible? Thank you jackie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 13, 2012, 9:54 PM",
          "AuthorName": "Jackie Smile",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1443687&course=5",
          "role": [
            "Picture of Jackie Smile"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can a web service handle XML?",
          "Text": "Hi Jackie, XML-RPC/SOAP protocols deal with XML parameters following their specific protocols. If you want to know the XML format, they both use Zend servers, that themself use the PHP implementation of these protocols. You can google for the XML format, but I would advice to use the REST protocol, it's much faster. The REST parameters format can be found into Admin > Plugins > Web service > API documentation. Good luck, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 3, 2012, 6:15 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 183328,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=183328",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Using \"role_assign\" Web Service",
          "Text": "Hello everyone, I have created a client file to use the role_assign function located in /moodle/enrol/externallib.php I manged to pass the parameters to the function as the following $params=array(array('assignments'=>array('roleid'=>1,'userid'=>2, 'contextid'=>5))); Althought it works fine without objections on the parameters but when it excutes it show the following error \n```text\nInvalid parameter value detected, execution can not continue.\n```\n I can't figure out the problem, any thoughts anyone! Thanks for help in advance Best, Mohammad",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 16, 2011, 9:18 PM",
          "AuthorName": "Mohammad Abu Musa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=528935&course=5",
          "role": [
            "Picture of Mohammad Abu Musa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using \"role_assign\" Web Service",
          "Text": "Hi, the assignements params seems to be an array, more some like: 'assignments'=>array(array('roleid'=>1,'userid'=>2, 'contextid'=>5))",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2011, 4:19 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using \"role_assign\" Web Service",
          "Text": "I supposed you got the answer from the first reply already. However I have another question related to this. I am using the REST API to create users and courses and so far it works pretty fine. However I am now trying to enrol students in courses with the moodle_role_assign API action, it seems ok in the sense that I have not an exception message but nothing actually happen. One of my question is to understand what the contextid is (yes I dont know much about moodle internals). I know what to put for the userid and roleid (id of the 'Student' role) and I dont understand where I should put the course id, I suppose it is the context id? Anyway, I cannot make it works although there are no exception coming back, simply an empty RESPONSE tag. Any idea? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2011, 2:43 PM",
          "AuthorName": "gerald estadieu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912421&course=5",
          "role": [
            "Picture of gerald estadieu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using \"role_assign\" Web Service",
          "Text": "After further investigation, I have not yet found the answer on how I can know the contextid to call the API from an external system? I understand the context (contextlevel = 50 for course) but I dont understand how I can guess the contextid? Even when I am getting the course with 'moodle_course_get_courses' I dont get the context id. Do I miss something here? or another api should be used? I've seen as well 'moodle_enrol_manual_enrol_users' in the roadmap but it is not yet available.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2011, 4:08 PM",
          "AuthorName": "gerald estadieu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912421&course=5",
          "role": [
            "Picture of gerald estadieu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using \"role_assign\" Web Service",
          "Text": "role_assign is quite a \"low level\" web service API.  It let you for example assign a role to someone without this someone being enrol in the course. In fact to enrol users you probably want to use: moodle_enrol_manual_enrol_users",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2011, 4:11 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using \"role_assign\" Web Service",
          "Text": "merci. indeed 'enrol_users' is the one I was looking for and did not find defined in the services.php file (I don't know why it was missing). I, then, encounter permissions issues and it took me a while to understand that to assign roles, it is something specific to set in the role ('allow role assignments'). It now works! I am eager to see more API added, specially to export final grades...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2011, 10:31 PM",
          "AuthorName": "gerald estadieu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912421&course=5",
          "role": [
            "Picture of gerald estadieu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using \"role_assign\" Web Service",
          "Text": "define( \"STUDENT_ROLE_ID\", 5 ); define( \"SYSTEM_CONTEXT_ID\", 1 ); assign_role( $user_id_1, STUDENT_ROLE_ID, SYSTEM_CONTEXT_ID, $token ); function assign_role( $user_id, $role_id, $context_id, $token ) { $assignment = array('assignments'=>array(array( 'roleid' => $role_id, 'userid' => $user_id, 'contextid' => $context_id ))); $response = call_moodle( 'moodle_role_assign', $assignment, $token ); } Whenever I run this code it gives me Response from moodle_role_assign: Invalid parameter value detected, execution can not continue. Can not assign roleid=5 in contextid=1 What should be the contextid to assign a user as a student? What does contextid mean??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 30, 2012, 11:38 AM",
          "AuthorName": "pratik shrstha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450156&course=5",
          "role": [
            "Picture of pratik shrstha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using \"role_assign\" Web Service",
          "Text": "Hi Pratik, role_assign assigns a role to a user but do not enrol a user in a course. You need to learn about context in Moodle if you want to use role_assign: http://docs.moodle.org/23/en/Context . Your error mentions that you can not assign the role to the context. You will also need to read: http://docs.moodle.org/23/en/Roles_and_capabilities But really, most of the time what people want to use is an enrol web service function. See enrol_manual_enrol_users web service functions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 3, 2012, 5:05 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 209679,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=209679",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Web service erroring while writing to database",
          "Text": "I am trying to insert a record into the database inside of a webservice and it seems to be erroring out on me. I have tried surrounding the code block in a try-catch but it does not seem to be catching the exception. Code snippet: echo 'before insert '; //actually create the attempt record $transaction = $DB->start_delegated_transaction(); echo 'start delegated '; question_engine::save_questions_usage_by_activity($quba); $attempt->uniqueid = $quba->get_id(); echo 'get unique id '; $attempt->id = $DB->insert_record('quiz_attempts', $attempt); echo 'after insert '; Only the first echo is being called which leads me to believe that the problem is the transaction start. I have commented that out and do not get past the insert_record call either. The function is defined in services.php as type write: 'local_assess_attempt_quiz' => array( 'classname'   => 'local_assess_external', 'methodname'  => 'attempt_quiz', 'classpath'   => 'local/assess/externallib.php', 'description' => 'Create a new attempt for the quiz and return the questions', 'type'        => 'write', ) Anything obvious I am missing here. I have no problems doing database reads in other web service functions. Any help would be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 24, 2012, 7:23 AM",
          "AuthorName": "Mark Zorn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1481920&course=5",
          "role": [
            "Picture of Mark Zorn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service erroring while writing to database",
          "Text": "Just a little bit of additional information, if I move all the code from the webservice call onto a normal php file and access it from the browser, the code performs as expected and the insert happens with no issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 24, 2012, 8:00 AM",
          "AuthorName": "Mark Zorn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1481920&course=5",
          "role": [
            "Picture of Mark Zorn"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service erroring while writing to database",
          "Text": "Just a guess: are you missing the \"global $DB;\" in your function?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 24, 2012, 8:23 AM",
          "AuthorName": "Hubert Chathi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=706541&course=5",
          "role": [
            "Picture of Hubert Chathi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service erroring while writing to database",
          "Text": "uggggh. I was pulling my hair out over that... Thank you so much for the pointing that out. I would have sat there overlooking it for many more hours I am sure. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 24, 2012, 8:39 AM",
          "AuthorName": "Mark Zorn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1481920&course=5",
          "role": [
            "Picture of Mark Zorn"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 209024,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=209024",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "'mod/webservices/' missing",
          "Text": "hi i'm trying to get webservices to work and having trouble with token authentication. when i try to create a user i get this back: <? xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"moodle_exception\"> <ERRORCODE>invalidtoken</ERRORCODE> <MESSAGE>Invalid token - token not found</MESSAGE> </EXCEPTION> and i've looked at the admin pages and everything looks fine [ btw , i got 'hello world' sample web services to work]. so, in looking at the logs [ server admin > reports . live logs], i can see the 'webservice Token authentication' failures, but when i click on the action link i get a 404: Not Found The requested URL /mod/webservice/ was not found on this server. where can i find this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 14, 2012, 11:58 PM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 'mod/webservices/' missing",
          "Text": "Hi! Did you set it via admin interface? I mean the service and its functions and the users who can use it and of course the token?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 16, 2012, 12:21 AM",
          "AuthorName": "Gergely Gaal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404654&course=5",
          "role": [
            "Picture of Gergely Gaal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 'mod/webservices/' missing",
          "Text": "yes, and the functions work- it's just the moodle logging interface that i'm having trouble with. i can see the errors, but when i click on them, the system is missing files. is there some kinda logging plugin that needs to be installed?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 20, 2012, 11:21 PM",
          "AuthorName": "john saylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471412&course=5",
          "role": [
            "Picture of john saylor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 208711,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=208711",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Need Moodle User Enrollment ID",
          "Text": "I am using \"enrol_manual_enrol_users\" to create Moodle enrollments; however, this function does not return the ID of the record created (i.e., the mdl_user_enrolments.id), and I need that value. I cannot find a core function to retrieve this value from the database ...Does one exist?  If not I would like to create a new one using this SQL query: SELECT mue.id FROM mdl_user_enrolments AS mue INNER JOIN mdl_enrol AS me ON (mue.enrolid = me.id) WHERE mue.userid = $userid AND me.courseid = $courseid; I'm new to PHP, and I've successfully created custom external functions when they follow the model of core functions closely.  I can't find a good \"model\" among the core functions for this new one I want to write.  Basically, I would need a function which takes the two int arguments ($userid, $courseid), and does the necessary joins.  Can someone help please? Thanks...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 9, 2012, 10:32 AM",
          "AuthorName": "Chris C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450336&course=5",
          "role": [
            "Picture of Chris C"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Need Moodle User Enrollment ID",
          "Text": "I figured out a way to do this based on the deprecated external function\"get_enrolled_users\".  I basically just added the userid param, and modified the $sql to include user_enrolments.id, and added it to my custom web service: // * Returns description of method parameters // * @return external_function_parameters public static function get_users_enrolments_parameters() { return new external_function_parameters( array( 'userid' => new external_value(PARAM_INT, 'user id'), 'courseid' => new external_value(PARAM_INT, 'course id'), 'options' => new external_multiple_structure( new external_single_structure( array( // * Get list of course participants. // * @deprecated since Moodle 2.2 please use core_enrol_external::get_enrolled_users() instead // * @param int $userid // * @param int $courseid // * @param text $withcapability // * @param int $groupid // * @param bool $onlyactive // * @return array of course participants //public static function get_users_enrolments($courseid, $withcapability = null, $groupid = null, $onlyactive = false) { public static function get_users_enrolments($userid, $courseid) { global $DB, $CFG, $USER; // Do basic automatic PARAM checks on incoming data, using params description // If any problems are found then exceptions are thrown with helpful error messages $params = self::validate_parameters(self::get_users_enrolments_parameters(), array( 'userid'=>$userid, 'courseid'=>$courseid //'withcapability'=>$withcapability, //'groupid'=>$groupid, //'onlyactive'=>$onlyactive ) ); $coursecontext = get_context_instance(CONTEXT_COURSE, $params['courseid']); if ($courseid == SITEID) { $context = get_context_instance(CONTEXT_SYSTEM); } else { $context = $coursecontext; } try { self::validate_context($context); } catch (Exception $e) { $exceptionparam = new stdClass(); $exceptionparam->message = $e->getMessage(); $exceptionparam->courseid = $params['courseid']; throw new moodle_exception(get_string('errorcoursecontextnotvalid' , 'webservice', $exceptionparam)); } if ($courseid == SITEID) { require_capability('moodle/site:viewparticipants', $context); } else { require_capability('moodle/course:viewparticipants', $context); } /* if ($withcapability) { require_capability('moodle/role:review', $coursecontext); } if ($groupid && groups_is_member($groupid)) { require_capability('moodle/site:accessallgroups', $coursecontext); } if ($onlyactive) { require_capability('moodle/course:enrolreview', $coursecontext); } */ //list($sqlparams, $params) = get_enrolled_sql($coursecontext, $withcapability, $groupid, $onlyactive); list($sqlparams, $params) = get_enrolled_sql($coursecontext); $sql = \"SELECT ue.id, ue.userid, e.courseid, u.firstname, u.lastname, u.username, c.id as usercontextid FROM {user_enrolments} ue JOIN {enrol} e ON (e.id = ue.enrolid) JOIN {user} u ON (ue.userid = u.id) JOIN {context} c ON (u.id = c.instanceid AND contextlevel = \" . CONTEXT_USER . \") WHERE e.courseid = :courseid AND u.id = :userid AND ue.userid IN ($sqlparams) GROUP BY ue.id, ue.userid, e.courseid, u.firstname, u.lastname, u.username, c.id\"; $params['userid'] = $userid; $params['courseid'] = $courseid; $enrolledusers = $DB->get_records_sql($sql, $params); $result = array(); $isadmin = is_siteadmin($USER); $canviewfullnames = has_capability('moodle/site:viewfullnames', $context); foreach ($enrolledusers as $enrolleduser) { $profilimgurl = moodle_url::make_pluginfile_url($enrolleduser->usercontextid, 'user', 'icon', NULL, '/', 'f1'); $profilimgurlsmall = moodle_url::make_pluginfile_url($enrolleduser->usercontextid, 'user', 'icon', NULL, '/', 'f2'); $resultuser = array( 'id' => $enrolleduser->id, 'courseid' => $enrolleduser->courseid, 'userid' => $enrolleduser->userid, 'fullname' => fullname($enrolleduser), 'profileimgurl' => $profilimgurl->out(false), 'profileimgurlsmall' => $profilimgurlsmall->out(false) ); // check if we can return username if ($isadmin) { $resultuser['username'] = $enrolleduser->username; } // check if we can return first and last name if ($isadmin or $canviewfullnames) { $resultuser['firstname'] = $enrolleduser->firstname; $resultuser['lastname'] = $enrolleduser->lastname; } $result[] = $resultuser; } return $result; } // * Returns description of method result value // * @deprecated since Moodle 2.2 please use core_enrol_external::get_users_enrolments_returns() instead // * @return external_description public static function get_users_enrolments_returns() { return new external_multiple_structure( new external_single_structure( array( 'id' => new external_value(PARAM_INT, 'id of user enrolment'), 'courseid' => new external_value(PARAM_INT, 'id of course'), 'userid' => new external_value(PARAM_INT, 'id of user'), 'firstname' => new external_value(PARAM_RAW, 'first name of user', VALUE_OPTIONAL), 'lastname' => new external_value(PARAM_RAW, 'last name of user', VALUE_OPTIONAL), 'fullname' => new external_value(PARAM_RAW, 'fullname of user'), 'username' => new external_value(PARAM_RAW, 'username of user', VALUE_OPTIONAL), 'profileimgurl' => new external_value(PARAM_URL, 'url of the profile image'), 'profileimgurlsmall' => new external_value(PARAM_URL, 'url of the profile image (small version)') ) ) ); }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 11, 2012, 12:46 AM",
          "AuthorName": "Chris C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450336&course=5",
          "role": [
            "Picture of Chris C"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 207726,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207726",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "SOAP Webservice - parameters missing",
          "Text": "Hi All! I am working on a self-written webservice, but I can not solve this issue. Very simple service: Give back the time taken for given userid and given course \n```text\n// * Course time taken for (given learner - given course)\n\n\n$userid = 27;\n\n\n$courseid = 24;\n\n\n$response = moodleCourseService::courseTimeTaken($userid,$courseid);\n\n\nprint(\"<pre>\".print_r($response,true).\"</pre>\");\n\n\n// ------------------------------------------------------------------------------------------------------------\n\n\npublic static function courseTimeTaken($userid,$courseid)\n\n\n...\n\n\n$params = array();\n\n\n$params['userid'] = $userid;\n\n\n$params['courseid'] = $courseid;\n\n\n...\n```\n \n```text\n public static function user_time_parameters() {\n\n\n return new external_function_parameters(\n\n\n new external_single_structure(\n\n\n array(\n\n\n 'userid' => new external_value(PARAM_INT, 'userid'),\n\n\n 'courseid' => new external_value(PARAM_INT, 'courseid')\n\n\n )\n\n\n )\n\n\n );\n\n\n }\n```\n \n```text\npublic static function user_time($params) {\n```\n \n```text\nforeach($params as $key => $value)\n\n\n {\n\n\n trigger_error('test: '.$key.' -> '.$value);\n\n\n }\n\n\n trigger_error(' params: '.$params);\n\n\n trigger_error(' userid: '.$params->userid);\n\n\n trigger_error(' courseid: '.$params->courseid);\n\n\n \n\n\n //Parameter validation\n\n\n //REQUIRED\n\n\n $params = self::validate_parameters(self::user_time_parameters(),\n\n\n array('userid'=>$params['userid']),array('courseid'=>$params['courseid']));\n```\n \n```text\n$timetaken = array();\n```\n \n```text\n$timetaken[0]['id'] = 1;\n\n\n$timetaken[0]['title'] = '-';\n\n\n$timetaken[0]['timetaken'] = '-';\n\n\n \n\n\n return $timetaken;\n\n\n }\n```\n \n```text\n/**\n\n\n * Returns description of method result value\n\n\n * @return external_description\n\n\n */\n\n\n public static function user_time_returns() {\n\n\n return new external_multiple_structure(\n\n\n new external_single_structure(\n\n\n array(\n\n\n 'id' => new external_value(PARAM_INT,'\nSCORM\n id'),\n\n\n 'title' => new external_value(PARAM_TEXT,'SCORM title'),\n\n\n 'timetaken' => new external_value(PARAM_TEXT,'SCORM timetaken')\n\n\n )\n\n\n )\n\n\n );\n\n\n }\n\n\n}\n```\n The problem that the $params is not the same what I already gave... PHP catchable fatal error - Argument 1 passed to external_single_structure::__construct()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 24, 2012, 11:16 PM",
          "AuthorName": "Gergely Gaal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404654&course=5",
          "role": [
            "Picture of Gergely Gaal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: SOAP Webservice - parameters missing",
          "Text": "```text\nTry to pass trace = 1 array at new SoapClient declaration.You can trace and come to know what is problem.\n\n\n$usergroupclient = new SoapClient($serverurl,array('trace' => 1));\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 25, 2012, 5:46 PM",
          "AuthorName": "kushal mehta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1469841&course=5",
          "role": [
            "Picture of kushal mehta"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SOAP Webservice - parameters missing",
          "Text": "Solution: $userid = 27; $courseid = 24; $response = moodleCourseService::courseTimeTaken($userid,$courseid); ------------------------------------------------------------------------------------------------------------ ... $params = array(); $params['userid'] = $userid; $params['courseid'] = $courseid; ... $response = $client->__soapCall($functionname, array($params)); ... ------------------------------------------------------------------------------------------------------------- ... public static function user_time_parameters() { return new external_function_parameters( array( 'usertime' => new external_single_structure( array( 'userid' => new external_value(PARAM_INT, 'The given user...'), 'courseid' => new external_value(PARAM_INT, 'The given course...'), ) ) ) ); } ... $params = self::validate_parameters(self::user_time_parameters(), array('usertime'=>$usertime) ); ... reach it: $params['usertime']['userid']",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 27, 2012, 6:43 PM",
          "AuthorName": "Gergely Gaal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404654&course=5",
          "role": [
            "Picture of Gergely Gaal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SOAP Webservice - parameters missing",
          "Text": "yes we were also facing same problem.exact thing is as follows. 1. windows and linux machine behaves different for soap call 2. if you are passing correct variable to soap call it will reach changed or curupted at other end. 3. my solution is to try to call from linux machine or linux server you will get exact data at other end.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, August 3, 2012, 5:40 PM",
          "AuthorName": "kushal mehta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1469841&course=5",
          "role": [
            "Picture of kushal mehta"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 204846,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=204846",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "Hello world, I keep on running into an error calling web service function enrol_manual_enrol_users . The function is called using a slightly modified version of Jemore's sample code (see attached file). The function will return simply nothing at all - no success message, no error. And it goes without saying that no enrolments are stored... This will stay the same also when modifying the function params to invalid data or invalid names. The only error message I get is when changing the function name to something invalid (which makes sense to me since this is probably catched before making the actual function call). With the same script, core_user_create_users and core_course_create_courses work absolutely fine. I'm using GITted Moodle 2.2.3+ (Build 20120601) Can anyone help? Thank you very much Markus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 15, 2012, 5:48 PM",
          "AuthorName": "Markus Speissegger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1440487&course=5",
          "role": [
            "Picture of Markus Speissegger"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "I also have this problem, and it seems to exist in 2.2 as well. Other functions I can get to work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 18, 2012, 9:13 PM",
          "AuthorName": "Devin Zuczek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1462521&course=5",
          "role": [
            "Picture of Devin Zuczek"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "Hello Markus, I use actually the function \"enrol_manual_enrol_users\" and its work absolutely fine. This is an exemple for this function : <?php /* * SOAP */ /// Connection $token = '2ab554d2d4f587e6d4453fc87a311e93'; //////// enrol_manual_enrol_users //////// /// Paramètres $enrolment->roleid = 5; $enrolment->userid = 474; $enrolment->courseid = 3; $params = array($enrolment); /// SOAP CALL $serverurl = $domainname . '/webservice/soap/ server .php'. '?wsdl=1&wstoken=' . $token; $client = new SoapClient($serverurl); try { $resp = $client->__soapCall($functionname, array($params)); } catch (Exception $e) { print_r($e); } if (isset($resp)) { print_r($resp); } ?> This function don't work if users and courses aren't created. Robin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 20, 2012, 7:48 PM",
          "AuthorName": "robin leveque",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1376322&course=5",
          "role": [
            "Picture of robin leveque"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "Hello Robin, thank you for your reply, but... Unfortunately, this is exactly the script I'm using, and on my side it's not working: I don't get any return params at all, and not record is inserted, no matter if I pass valid ids or not... If it's working on your side, do you get any return codes like an id? Markus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 22, 2012, 7:43 PM",
          "AuthorName": "Markus Speissegger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1440487&course=5",
          "role": [
            "Picture of Markus Speissegger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "Hello! I use this code also. The enrolment is succesfull, but I do not get any response about it... Moodle 2.1.5.... If I turn on error messages in PHP: \n```text\nWarning: SimpleXMLElement::xpath(): Undefined namespace prefix in /var/www/webservices/WEBSERVICES/moodle\n/moodleCourseService.php on line 93\n\n\n\nCall Stack:\n\n    0.0003     623824   1. {main}() /var/www/webservices/WEBSERVICES/moodle/serviceTests.php:0\n\n    0.0014     703016   2. moodleCourseService::setCourses() /var/www/webservices/WEBSERVICES/moodle\n/serviceTests.php:54\n\n    0.2844     709704   3. SimpleXMLElement->xpath() /var/www/webservices/WEBSERVICES/moodle/moodleCourseService\n.php:93\n\n\n\n\n\nWarning: SimpleXMLElement::xpath(): xmlXPathEval: evaluation failed in /var/www/webservices/WEBSERVICES\n/moodle/moodleCourseService.php on line 93\n\n\n\nCall Stack:\n\n    0.0003     623824   1. {main}() /var/www/webservices/WEBSERVICES/moodle/serviceTests.php:0\n\n    0.0014     703016   2. moodleCourseService::setCourses() /var/www/webservices/WEBSERVICES/moodle\n/serviceTests.php:54\n\n    0.2844     709704   3. SimpleXMLElement->xpath() /var/www/webservices/WEBSERVICES/moodle/moodleCourseService\n.php:93\n```\n Line 93: \n```text\n$faulcode = $\nxml\n->xpath('/SOAP-ENV:Envelope/SOAP-ENV:Body/SOAP-ENV:Fault/faultcode');\n```\n It comes from the webservice template...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 10, 2012, 5:00 PM",
          "AuthorName": "Gergely Gaal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404654&course=5",
          "role": [
            "Picture of Gergely Gaal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "Hi Robin/Anyone Do you know if there is any way to get the roleid, userid and courseid with the Web Services API? It works fine if you know those ids. I am aware of using SQL s to get those ids by passing in username, rolename and course idnumber/shortname. Just want to know if the whole process can be done with Web Services API only. Thanks. Cheers Wing",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 2, 2012, 2:17 PM",
          "AuthorName": "Shu Wing Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1284225&course=5",
          "role": [
            "Picture of Shu Wing Chan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "...the problem still remains the same, but it doesn't occur with enrol_manual_enrol_users only but also with core_role_assign_roles . I added all role concerned rights to the web service role, but no changes so far... Thank you for your help! Markus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 22, 2012, 11:00 PM",
          "AuthorName": "Markus Speissegger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1440487&course=5",
          "role": [
            "Picture of Markus Speissegger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "Hello, This happens because your user doesn't have the required permissions to give the required roles at the course. I remember this problem has happened to me as well. To fix this, you must give permission to your webservices role to assign the roles you require. Go to Admnistration -> Users -> Define Roles and click on the tab Allow role assignments. Activate the required roles to the required web service user role. Hope this helps. Fabio",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 25, 2012, 6:09 PM",
          "AuthorName": "Fábio Souto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1407519&course=5",
          "role": [
            "Picture of Fábio Souto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "Hello Fabio, thank you very much for this helpful answer! - After this, core_role assign_roles was working fine, but still without any return codes... Concering the enrol_manual_enrol_users function, this still didn't work. I then added the course manager role to the web service. Now it's working and the problem is solved! However, to me the main problem stays the same: Both core_role assign_roles and core_role assign_roles do not return anything at all, making it very hard to find the source of the problem...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 26, 2012, 8:32 PM",
          "AuthorName": "Markus Speissegger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1440487&course=5",
          "role": [
            "Picture of Markus Speissegger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "enrol_manual_enrol_users => problem is solved? Do you get any response when you call the webservice? As I see the code in /enrol/manual/externallib.php the static function manual_enrol_users return parameter, and also the description of method result tells me that this webservice returns NULL!?!? I checked it in 2.1.5, 2.1.6, 2.2.3, 3.2.0, 3.2.1... So should I hack The Moodle Core code, to get some information about the result of the task, when I call the webservice from another application? please tell me that I am wrong!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 10, 2012, 6:15 PM",
          "AuthorName": "Gergely Gaal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404654&course=5",
          "role": [
            "Picture of Gergely Gaal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "Hi Gergely, no you are not wrong. For the functions returning null, look for error on your client, if no error, then the functions work. Functions that are returning null would have returned true/false anyway, it does not make that much a difference. Functions that should return ids, return ids. You are welcome to add an issue to Moodle Tracker if you really need boolean instead of null. I know a lot people would prefer to have true/false than null, which I agree too. However the status is that compared to other issues, this is not a priority. The reason being that current 'null' returned value should not make client coding more complicated than boolean. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 11, 2012, 10:33 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "Hello Jerome! Thank you for your reply! You are right! After one day (after sleeping), I realized that Moodle does not need hacking, but the developer needs some creativity. A solution can be that the 3rd party application use the 'moodle_enrol_manual_enrol_users' built-in function for enrolling. Than still on the 3rd party side can check, that it was succesful or not with the 'moodle_enrol_get_users_courses' built-in function. Have a nice day!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 11, 2012, 5:23 PM",
          "AuthorName": "Gergely Gaal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404654&course=5",
          "role": [
            "Picture of Gergely Gaal"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: soap: enrol_manual_enrol_users returning nothing at all",
          "Text": "Hi, I'm finding that I can create users through the core_user_create_users call, but I can't get enrol_manual_enrol_users working. I can see that the server is being triggered (examine the xdebug trace) and the user as whom the webservice runs has the permissions to enrol the user (tested via Moodle itself), but for some reason, it's just not enrolling. Additionally, there is no error message in the logs or response received from the server. I'm using Moodle 2.2.4+ (Build: 20120712). Can anyone help?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 21, 2012, 2:47 AM",
          "AuthorName": "Neil Simon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1367604&course=5",
          "role": [
            "Picture of Neil Simon"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 207667,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207667",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Dataset in WSDream",
          "Text": "WSDream.net was mentioned in IEEE papers as a dataset source for web service qos parameters, but that site is not active currently any other solution for this? Is there any other way for getting those datasets.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 24, 2012, 6:39 AM",
          "AuthorName": "sdj arvindeepak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471263&course=5",
          "role": [
            "Picture of sdj arvindeepak"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 207505,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207505",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Calendar data?",
          "Text": "Is there any way to get to the calendar through web services as of 2.3? All I need would be the iCal subscription, which can be acquired through /moodle/calendar/view.php The relative address to get it via website is /moodle/calendar/export_execute.php?preset_what=all&preset_time=recentupcoming&userid=2&authtoken=AUTHTOKEN Is there a way to do this via web services? Can I somehow get the authtoken using a web service token?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 21, 2012, 4:54 AM",
          "AuthorName": "Uni 4dfx",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470742&course=5",
          "role": [
            "Picture of Uni 4dfx"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 206876,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=206876",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Webservice - localhost vs \"live\" problem",
          "Text": "Hi All! I want to use a built-in webservice. I developed it into a separate class, which can be used by outer systems. Everything is fine on my local computer, but when I try to connect to a different server (uploaded files/Moodle) and try to test the service calling from my local computer, then it is not working. I do not know why, but I think the problem is the token parameter. If I edit it in the URL which gives back the XML to a wrong token, then I got 200 response with MOODLE:error Access control exception BUT! If the token is correct then 500 internal server error. I have not got any more idea at the moment. :S I tried to check the server settings, read the code in Moodle, but.... I am empty now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 12, 2012, 10:06 PM",
          "AuthorName": "Gergely Gaal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404654&course=5",
          "role": [
            "Picture of Gergely Gaal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservice - localhost vs \"live\" problem",
          "Text": "If you have this kind of issue I recommend this page to check: http://docs.moodle.org/23/en/PHP Problem solved. (Usually you will develop Moodle on your local computer so in the installation process it will be fine.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 12, 2012, 10:53 PM",
          "AuthorName": "Gergely Gaal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404654&course=5",
          "role": [
            "Picture of Gergely Gaal"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 200188,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200188",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Moodle webservices proxy with WSDL capability, any thoughts?",
          "Text": "Hi, In thread http://moodle.org/mod/forum/discuss.php?d=200117 I looked into the idea of creating a kind of proxy service running on Glassfish which acts as an go between between clients and Moodle webservices running on each individual Moodle server . I've tested this locally and it works, although tested only one call so far, more operations to add. Basically the proxy server can call your own Moodle server webservices via REST protocols which has been sent the URL , credentials, webservice function and parameters from a client which has generated its interface to the proxy server via WSDL. The WSDL generated is compliant so a range of programming languages can in effect easily call Moodle webservices in a round about way on your own server for you. I would need to modify the Java REST library a bit as it currently uses static methods and there might be some crosstalk between threads on the proxy server, initially the library was writen to integrate systems within a single site so was not a problem. I will probably need to use C# or C/C++ to communicate back to our MIS(SIMS) so will probably go down this route anyway and I don't want to create new libraries for these languages. With the absence of a fully WSDL compliant service within Moodle, what do you think?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 5:40 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle webservices proxy with WSDL capability, any thoughts?",
          "Text": "Decided to go ahead with the project anyway as I do want to use other languages to access Moodle webservices and didn't want to write another language specific library. Therefore to build on what I already have written in Java and utillising the abilities of Java EE to create a WSDL for me on a Glassfish server so other languages can use these methods to access Moodle webservices. The current project download can be found here . Calls currently supported are, more will be created in due course: getAllCourses getCoursesByIds getCourseById createCourse (Note: not tested yet, may do today!) getCourseContent As it is a type of proxy server all calls require the URL in the form of: http://moodleserver/moodlepath/webservice/rest/server.php and the token followed by any parameters required. Still open to any thoughts, like should the naming convention follow that in Moodle or should I make them up as I feel like? I do know this probably is an interim solution to the WSDL problem, well in my case anyway. Attached is an example output (edited, removing names etc) from getCourseContent, run using the Glassfish in-built tester. Note though using the WSDL file, it will generate all the calls and artefacts for the programming language you are using and be able to translate this type of output into real objects to be used as you wish.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 12, 2012, 4:53 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle webservices proxy with WSDL capability, any thoughts?",
          "Text": "All the current supported methods function, the createCourse works without issues now. There is createCourses as well but I forgot to put it in the list in the earlier post. Even created a C# client using the WSDL and read the data. I'm happy!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 13, 2012, 12:42 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle webservices proxy with WSDL capability, any thoughts?",
          "Text": "Could you kindly share the C# Client? It would be a real help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 12, 2012, 12:22 PM",
          "AuthorName": "Usman Wahid",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1468770&course=5",
          "role": [
            "Picture of Usman Wahid"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle webservices proxy with WSDL capability, any thoughts?",
          "Text": "Hi Usman, The idea of WSDL is that the artefacts for your programming language are generated automatically.  The attached file was created in Microsoft C# 2010. After importing the WSDL file and wrote the attached code, I used the debug tool to trap and confirm data had been transfered. It is not that extensive, just a proof of concept, most of my programming these days is in Java. Point of interest, much more extraneous code is required to call a Java SOAP method generated by WSDL than that of C#, but that might just be the IDE I'm using for Java, NetBeans. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 12, 2012, 4:22 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 206584,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=206584",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Token url only returns 200 OK as status?",
          "Text": "Hello, I experimented with the moodle/login/token.php file to return a token for certian credentials. Returning the token is not a problem, however even when the credentials are wrong the HTTP status code returned is always 200 OK. Is there a way to distinguish that automatically without analysing the error message returned by Moodle? Regards jackie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 9, 2012, 10:53 PM",
          "AuthorName": "Jackie Smile",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1443687&course=5",
          "role": [
            "Picture of Jackie Smile"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Token url only returns 200 OK as status?",
          "Text": "Looks like it is not the only file that only returns 200. That is strange. That means you only use the error message to distinguish what's going on with each request? Is there a list that provides an overview about possible error messages? Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 10, 2012, 4:31 PM",
          "AuthorName": "Jackie Smile",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1443687&course=5",
          "role": [
            "Picture of Jackie Smile"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 187818,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=187818",
      "NoOfResponses": 17,
      "ResponsesInList": [
        {
          "Title": "Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "The Lightwork web services are currently installed using the local customisations hook. It is now proposed to add them as core Moodle web services in Moodle 2.2. I have created a wiki page at http://docs.moodle.org/dev/Lightwork that describes the web services and the associated Lightwork database tables that will be required and would welcome all feedback and comments.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2011, 12:50 PM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Recognising that the the Moodle 2.2 release date is now imminent, we are now aiming to add the Lightwork web services to the core Moodle web services in Moodle 2.3.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 1, 2011, 4:16 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Initial design work has now been completed. Following web service forum discussions and investigation/prototyping we have decided to use Moodle REST based web services instead of SOAP. This avoids the issues of WSDL generation in the current SOAP implementation. Additionally, the REST web services provide a very simple interface and will allow us to use JSON as a lightweight data format. Development work is being carried out in our git repository at http://github.com/organizations/Lightwork-Marking",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2012, 6:42 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Hi Paul, Just noting that you should be using the standard existing web service API (these are protocol-independent) for login and getting users etc ( in 2.2 ), and that the new assignment module work ( MDL-26997 , targeted for 2.3) should be able to include everything else you need.  You and Damyon can hopefully work together to make sure the new assignment provides all Lightwork needs out of the box (we will also use the same web services for the mobile clients).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 24, 2012, 4:03 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Hi Paul, I tried to see your github code but the url doesn't seem correct. Otherwise can you let me know which functions you are planning to implement for 2.3, so I can update http://docs.moodle.org/dev/Web_services_Roadmap and MDL-29934 . Thanks a lot, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 24, 2012, 4:09 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "The implementation URL is https://github.com/Lightwork-Marking/moodle under lightwork_moodle_port-client_plugin branch. It is not a working implementation yet, what we have there currently are: Proof of concept that we can port Lightwork-Moodle WebServices into Core Moodle as independant plugin instead of 'local' plugin as before. In that particular branch we are putting lightwork plugin under client category/type (I know this does not exist before), as we can't think of a logical place to put it under. I tried to put it under webservice before, but the webservice framework has assumption any plugin under its type is a protocol.. so that does not make sense. Stub implementation of the Lightwork-Moodle API based on 2.X Moodle WS framework. Remove Lightwork-Moodle dependency on NuTech SOAP lib. At this moment we are porting the API as-is our original design as documented in http://docs.moodle.org/dev/Lightwork , except to confirm it to the new webservices framework and token based security. Please let us know what do you guys think of these API calls. As you will see in http://docs.moodle.org/dev/Lightwork , most of the calls were designed to cater Lightwork need of processing a bunch of data at the same time. Our original thought was to better have minimum number of calls then having multiple number of calls to access the same set of data.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 25, 2012, 4:10 AM",
          "AuthorName": "Wirianto Djunaidi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=878357&course=5",
          "role": [
            "Picture of Wirianto Djunaidi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Hi Wirianto, 'local' plugin seems to me where your code should go. What is your reason to put your code in client/lightwork and not local/lightwork ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 25, 2012, 3:46 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": ">'local' plugin seems to me where your code should go. Yes definitively.  Especially because OK Tech WS which was the underlying framework of previous version of LightWorks have been moved to local/oktech and thus easily integrated in the official  Moodle 2.0X plugin registration and authentication processes (either token or login/pwd) and protocols (soap, rest ...). see https://github.com/patrickpollet/moodlews/wiki/Using-oktech-ws-with-moodle-2.0-official-web-service-infrastructure Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 25, 2012, 5:32 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Hi Jerome, Up to now the Lightwork web services have always been implemented as a local plugin. The objective of this phase of development is to include the Lightwork web services as part of the Moodle core code. The advantage of this is that when teachers wish to use Lightwork, the site administrator will no longer have to go through the process of downloading the appropriate web services from our site and follow the instructions to install it in the local directory. Instead, they will be able to \"turn on\" the web services through the Moodle administration interface. Lightwork users will then be able to connect to Moodle and enjoy the benefits of offline marking and marking management that the Lightwork client application provides. Leaving Lightwork as a local plugin as you suggest would defeat the main purpose of this current phase of development which is to make the Lightwork marking tool more accessible and maintainable by including its web services, server -side code and database tables in the standard Moodle download . Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 26, 2012, 3:55 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Ah sorry I switched off the fact that Lightwork will go into core. In this case I would suggest a 'lightwork' or 'grade/lightwork' folder, but you should probably go to the Moodle dev chat to ask for it. For the web service functions, the generic ones will go to other core folders (grade, course, user ...). Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 27, 2012, 12:56 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Hi Jerome, We'll use Moodle dev chat to agree the final location as you suggest. The reason we thought of client/lightwork is that we are imagining that in the future Moodle may wish to add more Moodle clients like Lightwork that access Moodle via it's web services framework. Cheers, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 30, 2012, 4:31 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Ah yes I'll let you see with the senior devs. Note that the lightwork web service functions will probably need to be renamed following the naming convention . Cheers, Jerome",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, January 30, 2012, 11:51 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Hi Jerome, I've started describing the web services that Lightwork proposes to contribute to the core at http://docs.moodle.org/dev/Lightwork#The_new_Lightwork_web_services . We intend them to be generic enough so that they are of use to other clients beside Lightwork. We originally believed that we would need a separate folder in Moodle for Lightwork but now believe that all our web services can go into the separate core folders (grade, course, mod/assignment ...) exactly as you suggested. Thanks, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 10, 2012, 11:10 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Hi Paul, the names look good. Minor things to fix: core_webservice_get_moodle_version => as it is supposed in the Lightwork Moodledocs comments, core_webservice_get_site_info returns this information for each functions. core_assignment_get_assignment_submissions =>it should be renamed mod_assignment_get_assignment_submissions core_course_get_course_participants => it exists in core, it's called core_enrol_get_enrolled_users core_course_get_courses_and_assignments => that's kind of tricky. If the parameter is 'capability' then maybe the name is not correct. Or maybe 'capability' should be just one of the parameters. It seems like two functions in one. Which is not bad at the end as it could avoid two web service call. But in this case a new parameter should be able to tell the function to return either the courses either the assignments. Note we already have a function that return courses, we should avoid duplicating feature as much as possible. Finally the web service function is more related to assignments than course, it should be named core_assignment_... I think we need to discuss all that in its issue. You should create an issue for each of the functions you want to add to core. I'll list these new issues in the web service Roadmap ( MDL-29934 ). Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 17, 2012, 11:04 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "This conversation and associated Tracker ticket have gone a little quiet over the past few months. Are there any plans to take this work forwards for future versions of Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 21, 2012, 11:17 PM",
          "AuthorName": "Nitin Parmar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=59542&course=5",
          "role": [
            "Picture of Nitin Parmar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Hi Nitin, The Lightwork team continues to work to incorporate Lightwork and its web services into the Moodle core. We anticipate the following: Moodle 2.3 - This will contain the Lightwork \"Marking Guide\" and a number of web services that we have modified to be generic. Moodle 2.4 - This will contain Lightwork marking management and the remainder of the web services. Lightwork will be fully incorporated, i.e it will be possible to use its functionality both in Moodle and offline. Note that the marking management functionality of Lightwork and many of the web services depend on the new assignment changes being introduced in Moodle 2.3. Thanks, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 22, 2012, 4:37 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incorporate Lightwork web services to the Moodle core - request for comments",
          "Text": "Hi Paul, A belated thanks for the update. I've been interested in Lightwork for some time, so will continue to monitor the project as it is moves forwards through the current 2.3, and more so for 2.4. Nitin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 9, 2012, 6:32 PM",
          "AuthorName": "Nitin Parmar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=59542&course=5",
          "role": [
            "Picture of Nitin Parmar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 205948,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=205948",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "webservice soap url",
          "Text": "Hi! I have created a new webservice according to this http://docs.moodle.org/22/en/Using_web_services documentation, but I have not found the url to reach this new service. The url for the Mobile Webservice is http://< host >/<moodleDir>/webservice/soap/ server .php?wsdl=1&wstoken=<token> but what is the url for the specific service myService? It may be a good idea to add this essential information to the FAQ ( http://docs.moodle.org/22/en/Web_services_FAQ ) or Using_web_services-Url. Thank you Thomas Strasser",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 2, 2012, 5:22 PM",
          "AuthorName": "Thomas Strasser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1456134&course=5",
          "role": [
            "Picture of Thomas Strasser"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: webservice soap url",
          "Text": "Hello Thomas, The url for the specific web service is composed of 2 elements => Firstly the token : token = '5ab554d2d4b42c1e94453dsd85311e93' (Here your token to \"myService\") Secondly the domainname : 'http://localhost/moodle/' (Here the moodle's url) The result =>  $domainname . '/webservice/soap/server.php'. '?wsdl=1&wstoken=' . $token; Consequently : http://localhost/moodle/webservice/soap/server.php?wsdl=1&wstoken=5ab554d2d4b42c1e94453dsd85311e93 Cordially,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 4, 2012, 9:21 PM",
          "AuthorName": "robin leveque",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1376322&course=5",
          "role": [
            "Picture of robin leveque"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservice soap url",
          "Text": "Thank you Robin Leveque! This mean, every token \"contains\" the Service-Name. Cordially Thomas",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 5, 2012, 3:46 PM",
          "AuthorName": "Thomas Strasser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1456134&course=5",
          "role": [
            "Picture of Thomas Strasser"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 173428,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=173428",
      "NoOfResponses": 24,
      "ResponsesInList": [
        {
          "Title": "Getting started building WS client for iPhone",
          "Text": "Hi All, I've spent all afternoon trying to understand how I might be able to build a Client to a Moodle site. I believe I have configured my moodle site correctly, but from looking at the list of functions available, it doesn't seem like the standard set of functions will be able to do what I'd like it to anyway. I'd like to give the whole 'student' experience from an iPhone, so the functions would ideally include; logging on, looking at course material, uploading course material, taking quizzes, posting to the forums etc. I've read about OKTech, is this a moodle module that extends the functionality of the web service? How would I install OKTech? (I'm new to moodle as of yesterday!) I'm also quite confused about how function calls are actually submitted, I tried constructing a URL to test if my webservice was working at all: http://mymoodlesite.net/webservice/xmlrpc/server.php?wstoken= 5f5f35f3064122b05de3b67a66707931&wsfunction=moodle_course_get_courses but this returned: <name>faultCode 630 - Unable to read request</string> Am I missing something major in terms of actually accessing the webService? Apologies this message is a bit rambling! Any help appreciated. Mike B",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 14, 2011, 11:43 PM",
          "AuthorName": "Michael Baldock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1319144&course=5",
          "role": [
            "Picture of Michael Baldock"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "OKTech is a WS that's allow remote access to most Moodle1.9 (and more and more Moodle 2.0) entities using the SOAP Web Service protocol. All possible operations are described in a WSDL file sent by http://yourmoodle/wspp/wsdl_pp2.php So to get it it running you must  : 1) install the OKTech in your Moodle directory as described in the README file on https://github.com/patrickpollet/moodlews 2) on the client side you must have a library that talks SOAP and is able to translate the WSDL content to helper classes by some utility called wsdl2xxx depending of your language such as : wsdl2php for php php-soap on Linux, Windows, Mac wsdl2java for java Axis 1.4 (almost any desktop) or wsdl2ksoap2 for KSoap2  (any desktop system or Android smartphones see https://github.com/patrickpollet/moodlews_ksoap2 ) for python : soap-py SOAP is native in Microsoft .NET aware applications (Visual Studio, Excel...) So your problem resumes to : is an Apple iPhone in Objective-C able to talk SOAP. If yes, you win, otherwise you must turn to other protocols such as REST or XML -RPC. see http://iphone.moodle.com.au/ Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 15, 2011, 12:48 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Hey Patrick, Thanks for the explanations, that helps a lot, I'll ask around to see if Obj-C can to SOAP, but that has put the problem into context for me. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 15, 2011, 6:12 AM",
          "AuthorName": "Michael Baldock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1319144&course=5",
          "role": [
            "Picture of Michael Baldock"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Hi Patrick, thanks for your help so far, but I've got a bit stuck again! I've installed OKTech as per instructions on the git page, ran : php ../wsdl2php.php http://my_moodle/wspp/wsdl_pp.php which created many classes. changed auth.php.dist to auth.php ran the test \"php test_get_roles.php\" which returned all the courses I'd set up - So far so good!! Next though - when trying to access the wsdl_pp with SoapUI (http://yourmoodle/wspp/wsdl_pp.php) this just keeps returning an error in SoapUI - here's a sample Mon Apr 18 10:10:33 BST 2011:ERROR:Failed to load url [http:/my_moodle/wspp/wsdl2_pp.php] com.eviware.soapui.support.SoapUIException: Error importing wsdl at com.eviware.soapui.impl.WsdlInterfaceFactory.importWsdl(WsdlInterfaceFactory.java:80) at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2028) ---------- I've got a feeling this could be because I'm behind a firewall, but I'm not sure. Now without my wsdl_pp working does this mean I'm also unable to issue requests to the webservice? Is this an essential part of the process, or is this just a means of getting info about the functions? Again, without a functioning SoapUI project is there any way I can test if it's working? I've tried just entereing urls into a browser, such as http://my_moodle/wspp/classes/getCoursesReturn.php but unsurprisingly this returns nothing, I feel I'm stabbing inthe dark somewhat. The eventual aim is to understand how to format the url request that I need to use when building my client. Any help would be very much appreciated Mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 18, 2011, 6:26 PM",
          "AuthorName": "Michael Baldock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1319144&course=5",
          "role": [
            "Picture of Michael Baldock"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Mike , >Mon Apr 18 10:10:33 BST 2011:ERROR:Failed to load url [http:/my_moodle/wspp/wsdl2_pp.php] is'nt simply because you mispelled the URL in SoapUi ? I should be either http://my_moodle/wspp/wsdl_pp.php for the old style WSDL or http://my_moodle/wspp/wsdl_pp2.php for the new style Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Monday, April 18, 2011, 7:16 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Hi Patrick, Thanks for the help, a good idea, but sadly still no cigar! Mon Apr 18 13:14:45 BST 2011:ERROR:Failed to load url [http://my_moodle/wspp/wsdl_pp2.php] Should I also have ran php ../wsdl2php.php http://yourmoodle/wspp/ wsdl_pp2 .php from my server ? I think as instructed in the install file I just did php ../wsdl2php.php http://yourmoodle/wspp/ wsdl_pp .php can I now run the above script with wsdl_pp2 .php ? Or do I somehow need to rollback the changes made by running wsdl_pp .php ? Cheers, Mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 18, 2011, 8:22 PM",
          "AuthorName": "Michael Baldock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1319144&course=5",
          "role": [
            "Picture of Michael Baldock"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "No. The wsdl2php utility is only needed for php clients . You should not have to run it at all if you plan to call the WS from java like SoapUI. And normally you do not run it on the server but on a client workstation to get all the PHP helper classes. So I suspect you have something else. Are you sure that the directory wspp has been uncompressed at the right place ? i.e. in the moodle's main directory the end of a Linux ls -l  command should give : \n```text\n..\n```\n \n```text\ndrwxr-xr-x  6 ppollet ppollet    4096 2011-04-08 16:51 user\n```\n \n```text\ndrwxr-xr-x  3 ppollet ppollet    4096 2010-10-26 14:09 userpix\n```\n \n```text\n-rw-r--r--  1 ppollet ppollet     589 2011-04-15 12:42 version.php\n```\n \n```text\ndrwxr-xr-x 14 ppollet ppollet    4096 2011-04-18 13:32 wspp\n```\n Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 18, 2011, 9:22 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "No. The wsdl2php utility is only needed for php clients . You should not have to run it at all if you plan to call the WS from java like SoapUI. And normally you do not run it on the server but on a client workstation to get all the PHP helper classes. OK, I didn't get that at all ! So I suspect you have something else. Are you sure that the directory wspp has been uncompressed at the right place ? i.e. in the moodle's main directory the end of a Linux ls -l  command should give : \n```text\n..\n```\n \n```text\ndrwxr-xr-x  6 ppollet ppollet    4096 2011-04-08 16:51 user\n```\n \n```text\ndrwxr-xr-x  3 ppollet ppollet    4096 2010-10-26 14:09 userpix\n```\n \n```text\n-rw-r--r--  1 ppollet ppollet     589 2011-04-15 12:42 version.php\n```\n \n```text\ndrwxr-xr-x 14 ppollet ppollet    4096 2011-04-18 13:32 wspp\n```\n YEP here's mine : drwxr-xr-x  6 scetftp psacln    4096 Apr 11 12:08 user drwxr-xr-x  2 scetftp psacln      22 Apr 11 11:56 userpix -rwxr-xr-x  1 scetftp psacln    1574 Apr 11 11:53 version.php drwxr-xr-x  7 scetftp psacln     117 Apr 11 12:09 webservice drwxr-xr-x  9 scetftp psacln    4096 Apr 15 17:03 wspp ----- Exactly the same except I have 'webservice', which was what I first tried to get going, it comes wth moodle. Still I have nothing from SoapUI I've been trying a different tack. This post explains a way of accessing SOAP services http://www.iphonedevsdk.com/forum/iphone-sdk-development/2841-resolved-how-call-soap-service.html It boils down to issuing a request to a url with a dictionary of keys and objects, their example is: NSArray *keys = [NSArray arrayWithObjects:@\"USZip\", nil]; NSArray *keyvalues = [NSArray arrayWithObjects:@\"11235\", nil]; [self generateWebServiceURLRequest: @\" http://www.mywebsite.com/mywebservice.asmx \" : @\"getMyData\": keys: keyvalues]; If my OKTech moodle webservice was running properly, what url would I point at anyway?? I've been trying: \"http://my_moodle_site/wspp\" but I'm not sure if that's correct. And what would I need in the objects and keys, @\"username\", @\"password\" ??? If this is all documented somewhere please forgive me, but I have spent a long time looking!! Thanks again",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 18, 2011, 11:42 PM",
          "AuthorName": "Michael Baldock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1319144&course=5",
          "role": [
            "Picture of Michael Baldock"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "1) SoapUi problem : real strange . You should get it... Is the URL of your Moodle server correct ?  If you can reach your Moodle server and see a course with a browser, which I think you do, you should be able to get its  wspp/wsdl_pp.php in the same browser by replacing the ending 'course/view.php?id=xxx' by 'wspp/wsdl_pp.php' or 'wspp/wsdl_pp2.php'  and download the XML document  that SoapUi is expecting  Of course you don't use http://mymoodle but the real URL 2) I have no experience in Obj-C but as far as I can see  from your sample code it does not use a WSDL but  there is some magic that assembles a SOAP request from parameters (keys and keyvalues) and send them to a service URL.... In that case the 'service URL' of OKTech is http://yourmoodle_real_url/wspp/service_pp.php or http://yourmoodle_real_url/wspp/service_pp2.php I recommends the second that's use simplified parameters upon return  (directly returns arrays) 3) To use OKTech you MUST first succeed a login operation sending over a login and a password. Upon return you receive a clientid (int) and a sessionkey (string) that must be resent  with any subsequent calls, until session expires (30minutes) or you call logout operation. Here is a typical sequence (in Java using the KSoap2 library) : \n```text\nprivate static final String MOODLE_SERVICE=Constantes.MOODLE_URL+\"wspp/service_pp2.php\";\n```\n \n```text\n \nprivate static final String MOODLE_NAMESPACE=Constantes.MOODLE_URL+\"wspp/wsdl2/\";\n```\n \n```text\n\n```\n \n```text\nMdl_soapserverBindingStub moodle = new Mdl_soapserverBindingStub(MOODLE_SERVICE,MOODLE_NAMESPACE, Constantes.WS_DEBUG);\n```\n \n```text\nLoginReturn lr = moodle.login(Constantes.LOGIN, Constantes.PWD);\n\n\nif (lr != null) {\n```\n \n```text\n \n     int me = moodle.get_my_id(lr.getClient(),lr.getSessionkey());\n```\n \n```text\n     \nSystem.out.println(\"me \" + me);\n```\n \n```text\n \n     CourseRecord[] ret = moodle.get_my_courses(lr.getClient(), lr\n \n.getSessionkey(), \"\" + me, null);\n```\n \n```text\n     if (ret != null) {\n```\n \n```text\n         System.out.println(Arrays.toString(ret));\n```\n \n```text\n     }\n```\n \n```text\n     moodle.logout(lr.getClient(),lr.getSessionkey());\n```\n \n```text\n}\n```\n Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, April 19, 2011, 1:22 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "\"1) SoapUi problem : real strange . You should get it... Is the URL of your Moodle server correct ?.....\" The SoapUI problem I now believe is because of the proxy server / firewall I'm working behind in the office. (the source of all evil) I've been home, installed it on my home machine, pointed it at the exact same url and bingo - all the methods with params / attributes pop up no problem, I've tried logging in, and had success in that it returned a token. I had been the correct url, not www.my_moodle! I didn't want to advertise it too much, as from reading around there's some security I need to do before making it public. http://yourmoodle_real_url/wspp/service_pp2.php I believe this URL is the key I've been looking for! (Of course now SoapUI is working that becomes more obivous. Here is a typical sequence (in Java using the KSoap2 library).... Thanks for this, as far as I can tell there isn't a similar Soap library for Obj-C, I wish! people seem to be mostly \"hand writing\" their own requests. Just to clarify... I send a block of text that looks something like this: <soapenv:Envelope xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:soapenv=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:wsd=\" http://my_moodle/wspp/wsdl2 \"> <soapenv:Header/> <soapenv:Body> <wsd:login soapenv:encodingStyle=\" http://schemas.xmlsoap.org/soap/encoding/ \"> <username xsi:type=\"xsd:string\">USERNAME</username> <password xsi:type=\"xsd:string\">P@$$word!</password> </wsd:login> </soapenv:Body> </soapenv:Envelope> To a url like this: http://yourmoodle_real_url/wspp/service_pp2.php And I need this to hapen in a more or less sensible way using Obj-C. Is that the idea, sort of!!??? Thanks so much for your help with all this. Mike",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/tongueout"
          ],
          "Time": "Tuesday, April 19, 2011, 4:32 PM",
          "AuthorName": "Michael Baldock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1319144&course=5",
          "role": [
            "Picture of Michael Baldock"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Hi Mike, Glad SoapUi got wspp at home. Now you just have to convince somedody to open the firewall Concerning your idea, that's looks good, but you will have to do everything by hand : emitting the SOAP enveloppe and parsing the XML response. Terrible...especially with all operations that requires arrays as input and return arrays of objects... I did a little search and found this blog post talking about generating C++ helper classes against a WSDL using gSoap, and after that using them in Obj-C. that's may be the solution ? see http://www.sebhoerner.fr/?p=127 (Google translator gave me an english version quite readable ) So I tried on my Ubuntu : \n```text\ngot gsoap from \nhttp://www.cs.fsu.edu/~engelen/soap.html\n```\n \n```text\nmake && make install after adding g++, bison, byacc and flex\n```\n \n```text\n\n```\n and I runned the two 'magic commands' : \n```text\nwsdl2h -o moodlewsv2.h -s http://localhost/moodle.195/wspp/wsdl_pp2.php\n```\n \n```text\nsoapcpp2 -c -s moodlewsv2.h\n```\n and got 5.9Mo  of quite sound C++ code !!!  that looks very similar to what I am used to in Java ...  I know nothing about C++ so I stopped here but I guess it is worth a try ? The only drawback I see is that the service URL and the namespace are 'hardcoded' in all the generated classes and XML. I found 1035 occurences of the string 'localhost/moodle.195' in the generated code (that's the reason I dropped apache Axis for Java and swapped to KSoap2) But that could be easily changed by using some global constants of your application. Cheers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, April 19, 2011, 7:24 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "iPhone is more than capable of talking to SOAP, I have developed a basic working pattern for iOS -> Moodle communication using OKTech WebService for the final year project of my degree. The screens below contain just basic UI, but represent data taken from Moodle Course/ Sections /Resource/Messages and Event blocks. The process is simple, but just requires some heavy parsing of the return XML, not an exciting prospect, I can assure you of that. Im not sure how valuable my techniques may be to the community but Im happy to give an overview to anybody that wants to listen. (After I have finished my project next week that is!)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/763114/CourseList.PNG",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/763114/Sections.PNG",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/763114/Messages.PNG",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/763114/Events.PNG",
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/763114/IMG_0819.PNG"
          ],
          "Time": "Tuesday, April 26, 2011, 4:46 PM",
          "AuthorName": "Anthony Emery",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1255370&course=5",
          "role": [
            "Picture of Anthony Emery"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Hi Anthony, I'm impressed It's really nice , I have question do you show all the events or only the upcoming? Do you know how to get only the upcoming events? Thank you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, April 28, 2011, 7:32 AM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Those screens are just a proof of concept so they show all events (a few random bits of data I put in)\n\nIt would be really easy to filter for any time period. Moodle returns the dated as UNIX time so you could just\n\n1. Conditionally filter out time now + 3600*24*number of days upcoming you want to show\n2. Reload Tableview",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2011, 3:39 PM",
          "AuthorName": "Anthony Emery",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1255370&course=5",
          "role": [
            "Picture of Anthony Emery"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Yes, but I would like to avoid to download all the events... can you imagine a students that should downloads thousand of events to filter then? I would ask to the webservice only the upcomings event.....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2011, 6:50 PM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "You can specify the event type (user, course, site etc) and ownerid in the call to the webservice. This would narrow the results down considerably before filtering by date, although it might be necessary to make several calls doing it this way. Its all thats on offer from the webservice at the moment, unless you want to rewrite the get_events function to include a date range.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2011, 7:49 PM",
          "AuthorName": "Anthony Emery",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1255370&course=5",
          "role": [
            "Picture of Anthony Emery"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "At the moment I use 0 as event type... do you know which are all the events types? Thank you for your help",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, April 28, 2011, 8:39 PM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Just go to your Moodle install and try and create an event, you will get a list of the types there. I have used 'user', 'course', and 'site' events so far. I think there is also 'group' and maybe some others but I can't quite remember off the top of my head.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2011, 9:41 PM",
          "AuthorName": "Anthony Emery",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1255370&course=5",
          "role": [
            "Picture of Anthony Emery"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Hello, Supported values of eventtype are described at the beginning of file wspp/serverclass.php : define('cal_show_global', 1); define('cal_show_course', 2); define('cal_show_group', 4); define('cal_show_user', 8); but if you set eventtype to something <> 0 or 1 you also must set the others parameters ownerid and owneridfield ... eg : get user's events identified by its username : get_events(client,sesskey,8,'johndoe','username') get course's event identified by it's  shortname chem101 :  get_events(client,sesskey,2,'chem101','shortname') get group's event identified by it's  id 42 : get_events(client,sesskey,4,'42,'id') As far as the date range business is concerned, I guess it is  my fault. Currently get_events() returns all events of some type pertaining to  some owner/course/group  regardless of the starting date of that event. I think it should default to 'future events', i.e.have in final SQL something like  'where mdl_event.timestart >= now ()'  or have an extra parameter $timestart, that would default to now() if empty   .... Let me known Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2011, 10:50 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Hi Patrick, Thank you for your answer. Now seems to be clear which are the different types. But I've tried in different way to get the events and I get all the events only in the following way: get_events(MoodleWSDL.getCLIENT(), MoodleWSDL.getSESSIONKEY(), 0, \"id\" , \"\" ); I've tried also with: get_events(MoodleWSDL.getCLIENT(), MoodleWSDL.getSESSIONKEY(), 1, \"\" , \"\" ); get_events(MoodleWSDL.getCLIENT(), MoodleWSDL.getSESSIONKEY(), 1, \"id\" , \"\" ); get_events(MoodleWSDL.getCLIENT(), MoodleWSDL.getSESSIONKEY(), 1, \"\" , \"\" ); But it always returns only a single events with all 0 inside :/ I suppose I should use 1 for the event type. Do you have any suggestions? Anyway it would be great to have the possibility to download only the upcoming events, otherwise I should filter as Anthony said P.S.: Another extra question, do you know if it will be possible to upload the profile picture? (My idea is to use the camera the get it. Thank you for your help",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, April 28, 2011, 11:54 PM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "@Anthony - Nice looking screenshots, I've actually decided on a different tact for my project, not using moodle as a web service any more, but hopefully if I get a bit of time I'll return to the idea, and I'd be iterest to know how you built your SOAP requests / documents / parser, my attempt with libxml became horrendously tedious, that I was going to write all the requests as long strings, but I'm sure there's a better way! @Patrick - Just noticed you've implemented a REST protocol. Thank you so much for your hard work!!!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, May 3, 2011, 4:26 PM",
          "AuthorName": "Michael Baldock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1319144&course=5",
          "role": [
            "Picture of Michael Baldock"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "do you have the code for this shared somewhere, or can you possible email it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 29, 2012, 9:00 PM",
          "AuthorName": "Imran Zulfiqar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1465598&course=5",
          "role": [
            "Picture of Imran Zulfiqar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Hi, MoodleWS for android, i can able to list the courses and categories but i want to get the course content, which will be use to render in the android webview. please help me to get the content( activities , images, and all). via web service, do i have to write any functions for this? please explain how... . .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 13, 2012, 8:32 PM",
          "AuthorName": "udhayakumar R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1382831&course=5",
          "role": [
            "Picture of udhayakumar R"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting started building WS client for iPhone",
          "Text": "Hi there, My name is Yunus and I am totally a newbie for moodle. I assigned a task to integrate the moodle WS with Android client. For that I followed https://github.com/patrickpollet/moodlews_ksoap2 example. But I am still not able to figure out the things as it should be. Can you please guide me how to implement a WS which list all available courses and display it in a list-view or expandable list-view. It will be much helpful if you can give me a small demo project.  My email id is : yunusluniwala@gmail.com. Waiting for your kind response. Thanks. Regards. Yunus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 26, 2012, 1:37 PM",
          "AuthorName": "Yunus Luniwala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1456627&course=5",
          "role": [
            "Picture of Yunus Luniwala"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 205352,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=205352",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Token validity",
          "Text": "Hi How can I delete a token after some time of inactivity? Regards Sergio",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 23, 2012, 7:28 AM",
          "AuthorName": "Sergio Hernández",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=339343&course=5",
          "role": [
            "Picture of Sergio Hernández"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 204470,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=204470",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Downloading Content",
          "Text": "Hello Pals How can i download Content Inside some course through REST Webs Service API. I mean Which API is used for this purpose . I am using moodle 2.3 . Please give an example. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 11, 2012, 1:36 PM",
          "AuthorName": "Sahil Rally",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1460071&course=5",
          "role": [
            "Picture of Sahil Rally"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Downloading Content",
          "Text": "Hi Sahil, at the moment you can call core_course_get_course_contents() It should return the resource file urls. You'll have to modify these urls to add the user token. It's explained in http://docs.moodle.org/dev/Web_services_files_handling#File_download You can also use core_files_get_files() function to get file urls. But it requires a good knowledge of Moodle File API. To use this function you'll also need to create additional web service functions to retrieve contextid. Note that we don't recommend to use contextid in web service functions: http://docs.moodle.org/dev/How_to_contribute_a_web_service_function_to_core#Create_a_tracker_issue . There are also few issues about this function: MDL-33647 , MDL-30239 . Hopefully developers who are using core_files_get_files() will answer better than me. I've never use this function yet.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 22, 2012, 11:16 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 204417,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=204417",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Manual Enroll Error \"Manual enrolment plugin instance doesn't exist\"",
          "Text": "Greetings, I work for an organization and we have just recently integrated our new moodle system to educate our staff members. (V2.2.2) We are looking to open up to external clients and I have successfully integrated a custom web-service with RegOnline to get the information and such. I can successfully create a user account HOWEVER when I try to enrol a user in a course I get the following error: \n```text\nArray\n(\n    [faultCode] => 0\n    [faultString] => Manual enrolment plugin instance doesn't exist or is disabled for the course (id = {$a->courseid})\n)\n```\n I know it is passing the correct courseid and such and as far as I can tell the plug in is enabled on moodle and manual enrolment is enabled... but it still shoots that error! HELP!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 9, 2012, 5:29 AM",
          "AuthorName": "Tony Hatfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1326712&course=5",
          "role": [
            "Picture of Tony Hatfield"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Manual Enroll Error \"Manual enrolment plugin instance doesn't exist\"",
          "Text": "Hi Tony, this is probably related to your course enrolment settings. Into your course go to Settings Block > Course administration > Users > Enrolment method and check that you have a manual enrolment instance enable.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 22, 2012, 10:54 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 204391,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=204391",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Getting token for the External Service",
          "Text": "Hello Pals I am trying to get the TOKEN for a Particular user for the External Service I created using the following https: // www.yourmoodle.com/login/token.php?username=USERNAME&password=PASSWORD&service=SERVICESHORTNAME But i am not geetin what to mention in SERVICESHORTNAME for my external service as i have not mentioned any \"Short name \" for it. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 8, 2012, 10:16 PM",
          "AuthorName": "Sahil Rally",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1460071&course=5",
          "role": [
            "Picture of Sahil Rally"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Getting token for the External Service",
          "Text": "Hi You need to add the shortname in the dabase directly. Table: mdl_external_services Field: shortname. You can use phpmyadmin. Regards Sergio",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 12, 2012, 2:28 AM",
          "AuthorName": "Sergio Hernández",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=339343&course=5",
          "role": [
            "Picture of Sergio Hernández"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting token for the External Service",
          "Text": "Hi, there is also a little issue that would be worth to be tackled: MDL-30229 If anyone have some time for creating a patch, I'll be happy to review it and send it to integration. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 22, 2012, 10:42 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 204140,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=204140",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "'unable to read, or response is empty' using Web Service",
          "Text": "Hi everybody, i have this error message using WebService's and, i've been looking for solution for several days in this forums, but i find nothing at all and don't know how to fix it, so any help will be wellcome. I'm begginer developing with PHP and Moodle but i will try to explain: I'm testing in LOCAL- SERVER Moodle 2.2.2 with Apache 2.2.14, PHP 5.3.2, MySQL 5.1.62 and using XLMRPC protocol on WebService. My PHP-script works really fine and quick calling WebServices and inserting users (core_user_create_users), courses (core_course_create_courses) and enrolments (enrol_manual_enrol_users), if they are LESS of 500 users, courses or enrolments. But when I try to insert about 600, moodle web-service answers this error: object(Zend_Http_Client_Exception)#11822 _ _ _ _ _ 'Unable to read response, or response is empty'. To work with such a number of rows, i 've had to modify the 'timeout' on my Zend_XmlRpc_Client by this way (according to what i read in another forum): $xmlrpcclient->getHttpClient()->setConfig(array('timeout' => $timeout)) from 10 (seconds) to 300 so it works. Any idea why it gives that error? Thanks in advance. Pau",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 5, 2012, 2:57 PM",
          "AuthorName": "Pau Cardells",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1458838&course=5",
          "role": [
            "Picture of Pau Cardells"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 'unable to read, or response is empty' using Web Service",
          "Text": "Hi Pau, Are you sure to have update \"max_execution_time\" in file \"php.ini\" in your localhost because i think that it's the problem. The way for acces to the file is : wamp/bin/apache/Apache2.2.14/bin/php.ini cordially,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 6, 2012, 4:08 PM",
          "AuthorName": "robin leveque",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1376322&course=5",
          "role": [
            "Picture of robin leveque"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 'unable to read, or response is empty' using Web Service",
          "Text": "Hi Robin, thanks for your reply Default values in my php.ini: max_execution_time = 30  /  max_input_time = 60 I've tried with this values: - max_execution_time = 300  /  max_input_time = 600 - max_execution_time = 0  /  max_input_time = -1  (trying to disable it) but it does not work having the same error response I think it's not relevant but I forgot to say i'm working on linux/ubuntu and my path to php.ini is /etc/php5/apache2 greetings",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 6, 2012, 6:24 PM",
          "AuthorName": "Pau Cardells",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1458838&course=5",
          "role": [
            "Picture of Pau Cardells"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 'unable to read, or response is empty' using Web Service",
          "Text": "Re, Same with max_execution_time = 0, you see an error ? Because put 0 in value allow to update the timeout in unlimited. Have you go restart your server localhost after this update? because it's indispensable. After i don't work on linux, so i can help you for its. greetings",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 6, 2012, 7:29 PM",
          "AuthorName": "robin leveque",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1376322&course=5",
          "role": [
            "Picture of robin leveque"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 'unable to read, or response is empty' using Web Service",
          "Text": "Yes. the same error. I know how to restart the Apache-SERVER to take the new 'php.ini' configuration but I even tried ( to be sure) by restarting the computer. Every time, get the same error. (After your logic and good advice , I also seemed to me that it did not take the configuration) Best regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 7, 2012, 12:49 AM",
          "AuthorName": "Pau Cardells",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1458838&course=5",
          "role": [
            "Picture of Pau Cardells"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 'unable to read, or response is empty' using Web Service",
          "Text": "After isn't simple to help you at distance but you can look this documentation. I hope this document help you : http://stackoverflow.com/questions/4563680/xmlrpc-zend-http-client-adapter-exception-with-message-read-timed-out-after-10 http://www.lautr.com/xml-rpc-read-timeout-after-10-seconds-with-zend_xmlrpc_client/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 7, 2012, 4:52 PM",
          "AuthorName": "robin leveque",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1376322&course=5",
          "role": [
            "Picture of robin leveque"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 'unable to read, or response is empty' using Web Service",
          "Text": "Many thanks Robin. I found and read your first link one week ago and solve my first error 'time exceded'. I'll continue searching and testing the php.ini configuration, couse i think problems come around it. If find solution, i'll tell you in this forum Greetings from the distance. Thanks at all. Pau",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 7, 2012, 5:03 PM",
          "AuthorName": "Pau Cardells",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1458838&course=5",
          "role": [
            "Picture of Pau Cardells"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 122810,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=122810",
      "NoOfResponses": 26,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Here is a topic for helping to create a Java client for Moodle 2.0 The Soap server used by Moodle is the Zend_soap server. It is, in the 1.8 version, not really friendly with Java and .Net client generator. At this moment I didn't success to consume anything from the Zend_soap server, but I did success to generate a client from Netbeans. I'm going to explain how to reach the point where you can generate a Java client then I'll explain why I'm blocked and I cannot call the web service function. It's going to be a bit long. *********************************************************** First update to the latest Zend framework into your_moodle_folder/lib/zend/ (if you copy all framework it works, of course strictly in a environment that you'll end up to dump). Then edit webservice/soap/lib.php:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 7, 2009, 2:02 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Jerome, I've tried changing the settings to lib.php as you described above, and managed to get the code generators in both NetBean and Oracle JDeveloper to generate a Web Service Proxy. The code I used in NetBean loks somerthing like: au.edu.oten.Array ar = new au.edu.oten.Array(); try { // This code block invokes the Ws_authenticationPort:get_token operation on web service javax. xml .soap.SOAPFactory sf = javax.xml.soap.SOAPFactory.newInstance(); javax.xml.soap.SOAPElement seName = sf.createElement(\"roger.robins\"); javax.xml.soap.SOAPElement sePass = sf.createElement(\"<password>\"); javax.xml.soap.SOAPElement soe[] = { seName, sePass }; ar.set_any(soe); au.edu.oten.Ws_authenticationService ws_authenticationService = new au.edu.oten.Ws_authenticationService_Impl(); au.edu.oten.Ws_authenticationPort _ws_authenticationPort = ws_authenticationService.getWs_authenticationPort(); int token = _ws_authenticationPort.get_token(ar); System.out.println(\"Token: \"+token); Unfortunately I'm getting a SOAPFaultException: SEVERE: null javax.xml.rpc.soap.SOAPFaultException: Unknown error at com.sun.xml.rpc.client.StreamingSender._raiseFault(StreamingSender.java:528) at com.sun.xml.rpc.client.StreamingSender._send(StreamingSender.java:307) at au.edu.oten.Ws_authenticationPort_Stub.get_token(Ws_authenticationPort_Stub.java:69) at integration2.Main.main(Main.java:29) I get the same result using the JDeveloper Web Service Client Code. Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 8, 2009, 10:54 AM",
          "AuthorName": "Roger Robins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=865313&course=5",
          "role": [
            "Picture of Roger Robins"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "The packet returned from the Moodle server looks like: HTTP/1.1 500 Internal Service Error Date: Fri, 08  May 2009 04:19: 55 GMT Server: Apache /2.2.11 (U nix) PHP/5.2.9 X-Powered-By: PH P/5.2.9 Expires : Thu, 19 Nov 19 81 08:52:00 GMT Cache -Control:  no-store, no-cac he, must-revalidate, post-check= 0, pre-check=0 Pragma: no-cache Content-Type:  text/xml; charse t=utf-8 Content -Length: 273 Connection: close Set-Cookie: MoodleSession=aa7be 24263bcc3d6bd6d7 e8d30d1f7e0; path=/ <?xml version=\"1.0\" encod ing=\"UTF-8\"?> <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"> <SOAP-ENV:Body> <SOAP-ENV:Fault> <faultcode>Receiver</faultcode> <faultstring>Unknown error</faultstring> </SOAP-ENV:Fault> </SOAP-ENV:Body> </SOAP-ENV:Envelope>. I think the Internet Error 500 might be telling us something.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 8, 2009, 12:41 PM",
          "AuthorName": "Roger Robins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=865313&course=5",
          "role": [
            "Picture of Roger Robins"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "I've tracked the Unknown Error down to a Moodle Exception raised by get_token method of lib.php. The real error is \"wrongusernamepassword\" which is hard coded in lib.php. However, by the time I enter get_token (server side code) I've already lost the username/password parameters. This causes the Moodle Exception to trigger. The packet the Soap client is sending is: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <env:Envelope xmlns:env=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:enc=\" http://schemas.xmlsoap.org/soap/encoding/ \" xmlns:ns0=\" http://otfapdev2.oten.tafensw.edu.au:8888/moodle \"> <env:Body> <ns0:get_token> <params><roger.robins /><pwd /></params> </ns0:get_token> </env:Body> </env:Envelope> Can anyone tell me if the client is sending the right Soap packet? Any ideas would be greatly appreciated. B.T.W. I get the same error; whether using a java soap client or a local php soap client.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 12, 2009, 12:29 PM",
          "AuthorName": "Roger Robins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=865313&course=5",
          "role": [
            "Picture of Roger Robins"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Same for me here, I used your JAVA code to generate the params in the Java client, the params are not received by the zend_soap server. I'll have a better look tomorrow with a nusoap client.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 12, 2009, 5:11 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "About the unknow error it's because I forgot to put: $soap->registerFaultException('moodle_exception'); //put it in webservice/soap/lib.php after the first $soap = new Zend_Soap_Server(...); //I'll commit the fix tomorrow for that",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 12, 2009, 5:35 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "My last investigations were: I changed the get_token() param type in the phpdoc from \"array\" to \"object\" and adapted the function+the client. In this case the PHP client works but I can not generate the Java client anymore (modeler error: invalid entity name: \"struct\" (in namespace: \" http://www.w3.org/2001/XMLSchema \")) I also tried \"class\" type as suggested by someone in the zend nabble mailing list but without success yet. Neither with the PHP client, neither with a Java client. Apparently we can also modify the WSDL on the fly with Zend_soap_wsdl, it's also a thing to dig into for this SOAP server... I'll keep you update...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 13, 2009, 4:17 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Jerome, Is there any update on what seem to be several SOAP related issues? Thanks, Roger",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 4, 2009, 10:17 AM",
          "AuthorName": "Roger Robins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=865313&course=5",
          "role": [
            "Picture of Roger Robins"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Roger, I come back with bad news, my work on the JAVA/.Net compatible SOAP server is in stand-by from now. It's been too much time consumming for me. I'll post here when/if I go back to work on it. The current SOAP server can be used with Zend PHP client.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 10, 2009, 5:10 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Can you please tell me to how to import latest Zend framework into your_moodle_folder/lib/zend/ ( I downloaded ZendFramework-1.9.6 and kept at /var/www/html/moodle/lib/zend there already one Zend folder is there. Can you please explain this. Appreciate. Thanks Nanaji",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 9, 2009, 5:05 PM",
          "AuthorName": "Nanaji Jonnadula",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1048482&course=5",
          "role": [
            "Picture of Nanaji Jonnadula"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "FYI Recently I've created a Library for accessing the REST web services of Moodle 2.0. Not complete yet as it does not support the File web services, but working on it. http://moodlerestjava.sourceforge.net Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 18, 2011, 3:45 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "hi first of all,thanks for the library could you tell me exactly how to use it in order to interact with moodle from a java application?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 20, 2011, 10:38 AM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Snadly, First set up your authentication, I generally use a token but you can use username and password pair. The code for token is: String wstoken = \"somelongstringofgobbledegook\"; String moodleServer = \"http://moodlewebserver/moodle/webservice/rest/server.php\"; MoodleRestWebService.init(moodleServer, wstoken); Once this is set up then you can use the various other classes to create parameters and execute calls to the Moodle server. If you use username/password pair then you have to connect to simpleserver.php instead. An example: package testrest; import java.io.UnsupportedEncodingException; import java.util.logging.*; import net.beaconhillcott.moodlerest.*; public class Main { public static void main(String[] args) { try { String wstoken = \"somelongstringofgobbledegook\"; String testMoodle = \"http://moodlewebserver/moodle/webservice/rest/server.php\"; long courseId=798; MoodleRestWebService.init(testMoodle, wstoken); MoodleCourse course = MoodleRestCourse.getCourseFromId(courseId); System.out.println(\"Course \"+course.getFullname()); MoodleGroup[] groups = MoodleRestGroup.getGroupsFromCourseId(courseId); for (int i=0;i<groups.length;i++) { System.out.println(\"  Group \"+groups[i].getName()); MoodleCourseUser[] courseUsers = MoodleRestEnrol.getEnrolledUsers(courseId, \"mod/chat:chat\", groups[i].getId(), true); for (int j=0;j<courseUsers.length;j++) { MoodleUser user = MoodleRestUser.getUserById(courseUsers[j].getUserId()); System.out.println(\"    \"+user.getFirstname()+\" \"+user.getLastname()); } } } catch (MoodleRestException ex) { Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex); } catch (UnsupportedEncodingException ex) { Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex); } } } Sorry the indentation got lost! Anyway, the above code retrieves all users of a course with the id of 798 who have the \"mod/chat:chat\" capability. the boolean parameter at the end of MoodleRestEnrol.getEnrolledUsers as yet I'm not sure what it does, if set to false I get the same response. If the group id is 0 then you get all enrolled users on a course whether they are in a group or not. Hope this helps as an example. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 23, 2011, 7:04 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "hi bill thanks a lot for the exemple , worked like a charm for me on android have you extended your library? if so , please post the latest version, so the moodlers can  use it. Actually I am a new java developper and I don't have much experience .And As I see , you are a genius.You facilitated my life with your library My email : aminesnadly@yahoo.fr greetings from Tunisia",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, March 24, 2011, 6:32 PM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi again, Sorry man to disturb you but I am willing to build an android application that authenticate to moodle using the (username/password) pair and moodle return a unique token for each session so i can control the user access. Then i get the list of the courses of the logged user. and download whatever course of the list the user can manage his profile of course and finally logout. I'am confused about what class to use in each step. I didn't figure out  the mapping between my UI and  your classes. Can you give me a hint please : Autntification ---->get the courses list------>download a course from the list----->manage the profile---->logout. Thanks and best regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 24, 2011, 7:20 PM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Snadly, From as I understand this you are trying to allow users to manage their course profiles using an Android app. One major problem that currently there is little profile control, if any, you can do through the default web services. To do this type of change extra web services on the server would need to be created. Also, if you enable an end user read/write access through web services, you enable it globally across the whole site for those particular web services features not just for individual courses so there is a security problem here. I'm not trying to put you off but as I say, at present the standard web services currently available are extremely limited and are best used by adminstrators or for transfering data between systems. Sorry for the bad news. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 24, 2011, 11:32 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "By the way. The current download is up to date in terms of the REST protocol. I have restructured the library slightly since so I can include SOAP calls but at present it is at an early stage as I have been busy with other things such as extending the website for the archery club I belong to (written in Java and using Glassfish). Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 24, 2011, 11:38 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Getting SAXParserException \"Already Seen Doctype\" with GetAllUsersById example",
          "Text": "Hi Bill, First of all great cheers for you to build such a useful library to deal with Moodle. I am creating one project in which I am using Moodle WS in it. As a demo project, I used your \"GetAllUsersById\" example. But unfortunately getting the SAXParserException : \"Already Seen Doctype\". Before getting this exception, I get the whole page of my moodle server as a content in the console. I am not able to figure out the things which are going wrong. So please tell me the correct path to resolve this as soon as possible. Waiting for your reply. Regards. Yunus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 28, 2012, 3:29 PM",
          "AuthorName": "Yunus Luniwala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1456627&course=5",
          "role": [
            "Picture of Yunus Luniwala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Amin, Seems like you have perfectly run your android application as depicted from the above post. I am facing problem in running the sample program written above. Can you share the things for succesfful run of above program? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 28, 2012, 7:29 PM",
          "AuthorName": "Yunus Luniwala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1456627&course=5",
          "role": [
            "Picture of Yunus Luniwala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Yunus Hmmmmmm............ It could be: because Moodle does not add \"Entity\" definitions to the XML stream I have had to inject into the stream a set of Entities at the point before where the main set of data is read. What might be happening is two lines containing \"!DOCTYPE\" are being read, one from the injected data and one from elsewhere. If you look in the source of the library there is a file called \"EntityInjection.xml\". In there you will find one source of \"!DOCTYPE\" or, if you are using a later version of the library which I don't think you are, then the code to inject the file is commented out so the file is no longer used but the contents is still added to the buffer as a complete string (line 344 MoodleCallRestWebService.java). If your site does not use characters which have to be converted then the injection does not need to be used therefore removing one of the \"!DOCTYPE\". Where your second \"!DOCTYPE\" is I cannot tell. In the version of the library you can download from www.beaconhillcott.net , line 348 in MoodleCallRestWebService.java is commented out \"//System.out.println(line);\" if you uncomment this and run your code you might be able to find the second \"!DOCTYPE\". I do see you are referencing Moodle 2.0 in your subject, is this the version you are using? My testing was against versions 2.1 and 2.2. I don't know if this is significant. The version to download from the URL above has extra calls than you can use in 2.0 ie you can only use the moodle_  wsfunctions so you would have to switch the library into legacy mode, otherwise the default is to use the core_ wsfunctions. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 29, 2012, 2:03 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "As a second thought, I wonder if there was already an error which had given a \"!DOCTYPE\" within the xml message sent back by Moodle? The \"Entity\" injection would provide a second \"!DOCTYPE\" and therefore may cause an XML parse error due to not having any \"RESPONSE\" elements present. Just a thought. To see if you can test your REST call, I'll try and work out a URL GET and post it later.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 29, 2012, 6:53 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "http://webserver.domain.com/webservice/rest/server.php?wstoken=securitytokenforcall&wsfunction=moodle_user_get_users_by_id&userids [0]=1&userids[1]=2 Replace the server and domain name (webserver.domain.com), add any subdirectory path to your Moodle installation and add your token for the authentication (securitytokenforcall). An array of ids for each user to retrieve the details of is added to the end of the parameter list, if more, just append on the end separated by an &. Note: increase each array element by 1. The two in the example above should be Guest and Admin. Once altered for your Moodle server, test it using a browser as the URL, parameters and all. You should get an XML response if it is correct. I've just tested a theory, if a 404 error occurs (Object not found) then the page returned will have a \"!DOCTYPE\" already, however the library at present does not check for this type of error and will carry on regardless with the injection and XML parse. Might be an idea to check the URL you are using is correct otherwise a 404 error could occur and may produce the error you are experiencing. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 29, 2012, 7:31 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Bill, Thank you very much for your elaborative explanation. I am using latest version of MoodleRest.jar (0.1.5) downloaded from SourceForge net. And as you suggested, I searched around the System.out.print(line); , but found nothing. Moreover I made MoodleCallRestWebService.setLegacy(true);. But its also not working. As I tried to run the below line with server,domain name and ws-token, I got Runtime exception. This exception is also listed below MoodleCourse course = MoodleRestCourse.getCourseFromId(courseId); Exception: 05-29 15:56:28.193: E/AndroidRuntime(912): java.lang.RuntimeException: Unable to start activity ComponentInfo{test.rest/test.rest.MoodleGetUsersByIdAndroidExampleActivity}: java.lang.NullPointerException 05-29 15:56:28.193: E/AndroidRuntime(912):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647) 05-29 15:56:28.193: E/AndroidRuntime(912):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663) 05-29 15:56:28.193: E/AndroidRuntime(912):     at android.app.ActivityThread.access$1500(ActivityThread.java:117) 05-29 15:56:28.193: E/AndroidRuntime(912):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931) 05-29 15:56:28.193: E/AndroidRuntime(912):     at android.os.Handler.dispatchMessage(Handler.java:99) 05-29 15:56:28.193: E/AndroidRuntime(912):     at android.os.Looper.loop(Looper.java:123) 05-29 15:56:28.193: E/AndroidRuntime(912):     at android.app.ActivityThread.main(ActivityThread.java:3683) 05-29 15:56:28.193: E/AndroidRuntime(912):     at java.lang.reflect.Method.invokeNative(Native Method) 05-29 15:56:28.193: E/AndroidRuntime(912):     at java.lang.reflect.Method.invoke(Method.java:507) 05-29 15:56:28.193: E/AndroidRuntime(912):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839) 05-29 15:56:28.193: E/AndroidRuntime(912):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597) 05-29 15:56:28.193: E/AndroidRuntime(912):     at dalvik.system.NativeStart.main(Native Method) 05-29 15:56:28.193: E/AndroidRuntime(912): Caused by: java.lang.NullPointerException 05-29 15:56:28.193: E/AndroidRuntime(912):     at java.io.Reader.<init>(Reader.java:65) 05-29 15:56:28.193: E/AndroidRuntime(912):     at java.io.InputStreamReader.<init>(InputStreamReader.java:122) 05-29 15:56:28.193: E/AndroidRuntime(912):     at java.io.InputStreamReader.<init>(InputStreamReader.java:59) 05-29 15:56:28.193: E/AndroidRuntime(912):     at net.beaconhillcott.moodlerest.MoodleCallRestWebService.call(MoodleCallRestWebService.java:253) 05-29 15:56:28.193: E/AndroidRuntime(912):     at net.beaconhillcott.moodlerest.MoodleRestCourse.getCoursesById(MoodleRestCourse.java:110) 05-29 15:56:28.193: E/AndroidRuntime(912):     at net.beaconhillcott.moodlerest.MoodleRestCourse.getCourseFromId(MoodleRestCourse.java:83) 05-29 15:56:28.193: E/AndroidRuntime(912):     at test.rest.MoodleGetUsersByIdAndroidExampleActivity.onCreate(MoodleGetUsersByIdAndroidExampleActivity.java:37) 05-29 15:56:28.193: E/AndroidRuntime(912):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 05-29 15:56:28.193: E/AndroidRuntime(912):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611) 05-29 15:56:28.193: E/AndroidRuntime(912):     ... 11 more",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 29, 2012, 6:38 PM",
          "AuthorName": "Yunus Luniwala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1456627&course=5",
          "role": [
            "Picture of Yunus Luniwala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Yunus, The line numbers are for the version I'm working on, I'll have a look at 0.1.5 and see what can be changed to debug your issue. By the way, I've just relised the title is Jerome's discussion. What version of Moodle are you using? If it's 2.1 or 2.2 then you don't have to switch to legacy mode. Version 0.1.5 uses a file to inject the \"Entity\" statements. It appears the file \"net/beaconhillcott/moodlerest/EntityInjection.xml\" is not being opened as a resource and therefore variable \"resource\" is null which makes InputStreamReader throw a wobbly! If you download the version from http://www.beaconhillcott.net , this newer version gets around the problem of not finding this file by appending the complete contents as a string in the same position of the data stream instead of being read from a file. The alternative is to update the lines in 0.1.5 where the entities are injected with the code from the latest version. I've attached a modified version of MoodleCallRestWebService.java in 0.1.5 for you to swap if you like. Keep in mind though, if you do use the latest full version downloadable from the site above, it is subject to change and does have extra calls which are non-functional with Moodle 2.2 and below, I've looked in the tracker and have written code against those wsfunctions which are planned for Moodle 2.3, so they are untested. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 29, 2012, 10:18 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "HI Bill, Thanks for your descriptive answer. As I told you earlier, I am using Moodle 2.0 version, and also disabled legacy mode in my demo application. I applied your tricks that you mentioned above. Also I am using MoodleRest 0.1.5 version. As I replaced my MoodleCallRestWebService .java file with the file given by you. So the \"Already Seen Doctype\" error has been removed. I am very glad that you assisted me till now. But as I debugged my application throughly, I got a parser exception, that states that ArrayIndexOutOfBoundException. I am using GetAllUsersById example. Below is the line, which causing the exception to occur. I hereby also attaching the my project's sample file. Can you please guide me where I am going wrong? Line causing exception : MoodleUser[] user= (MoodleUser[])MoodleRestUser.getUsersById(users); for (int i=0; i<users.length; i++, System.out.println(\"***************************************************\")) printUser(user[i]); Exception: Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 0 at moodlegetusersbyidexample.MoodleGetUsersByIdExample.main(MoodleGetUsersByIdExample.java:32) I know that I am missing one small point to make it work, but not able to figure it out Thank you very much Regards",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, May 30, 2012, 5:24 PM",
          "AuthorName": "Yunus Luniwala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1456627&course=5",
          "role": [
            "Picture of Yunus Luniwala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: create a Java Client consumming Moodle web service",
          "Text": "Hi Yunus, I assume you have a modifiied line with your own server and token for: \n```text\nMoodleCallRestWebService.init(\"http://servername/moodle/webservice/rest/server.php\", \"verylongtokenstring\");\n```\n However if you are using Moodle 2.0 as you say, you do need to switch the library into legacy mode. This is because the default is to call the \"core_\" wsfunctions. By switching to legacy mode, all the calls use the \"moodle_\" wsfunctions within Moodle. Moodle 2.0 does not have the \"core_\" wsfunctions so your error might be being caused by this issue. You need to add: \n```text\nMoodleCallRestWebService.setLegacy(true);\n```\n before you call any methods which will access the Moodle server. This only has to be added once as it is a static attribute of the class. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 30, 2012, 7:48 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 203464,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=203464",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 163439,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=163439",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "emails from moodle",
          "Text": "We have installed Moodle onto our website which is hosted by Bluehost.  We think we have everything set up ok to enable emails and digests to be sent but nothing is happening. Is there something obvious or known that we need to check that we may have missed in the email settings? Many thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 2, 2010, 6:57 AM",
          "AuthorName": "Amanda Knight",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1275659&course=5",
          "role": [
            "Picture of Amanda Knight"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: emails from moodle",
          "Text": "Amanda I have been trying everything on my moodle install on bluehost - did you find a solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 19, 2012, 12:11 PM",
          "AuthorName": "Jason Crewe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=724433&course=5",
          "role": [
            "Picture of Jason Crewe"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 202703,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=202703",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Web service test client moodle_ vs core_",
          "Text": "I'm trying to get web services running in 2.2.3.  I've performed all the steps in the overview page.  When I use the web service test client, it presents me with a drop down of functions that being with moodle_.  When I chose functions for my service, all of the moodle_ functions said DEPRICATED next to them, so I chose the matching core_ functions instead. Why does the web service client not offer to test these core_ functions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 16, 2012, 12:08 AM",
          "AuthorName": "todd vainisi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=269031&course=5",
          "role": [
            "Picture of todd vainisi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service test client moodle_ vs core_",
          "Text": "The script below in the Moodle install, any version, has not been updated to reflect the addition of the core_ webservices. webservice/simpletest/testwebservice.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 16, 2012, 7:54 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service test client moodle_ vs core_",
          "Text": "Hi guys, thanks for the reminder. I created an issue today about that: http://tracker.moodle.org/browse/MDL-33059 It's a pretty easy contribution actually if you'd like to tackle it (e.g. replacing moodle_ by core_, and adding some texts explaining why the web clients are not exhaustive) Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 17, 2012, 11:01 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 202568,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=202568",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Cmap Server integrated to Moodle CMS",
          "Text": "I would like to know how, if possible, how to add-in Cmap server to my existing Moodle CMS webpage. Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 14, 2012, 8:48 PM",
          "AuthorName": "Ken Hanks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1453398&course=5",
          "role": [
            "Picture of Ken Hanks"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 201899,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=201899",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Use core_file_get_files",
          "Text": "Hi all, I want to use the function core_file_get_files with the MoodleRest classes ( java ) I downloaded, My aim is to get the url of a file, I do something like that: public class MoodleGetFiles { public static void main(String[] args) { MoodleCallRestWebService.init(\"http://localhost:88/webservice/rest/ server .php\", \"71c935f72d162f740b2ad42694889bcd\"); MoodleFileContent parent = new MoodleFileContent(); parent.setContextId(5); parent.setComponent(\"user\"); parent.setFileArea(\"draft\"); parent.setItemId(514495850); parent.setFilePath(\"/folder/\"); parent.setFileName(\"testpdf.pdf\"); MoodleFileGetFiles files = MoodleRestFile.getFiles(parent); The problem is I don't want to provide him ,like above, the params of my file. I want get all the files. Do you copy ?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, May 4, 2012, 12:18 PM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449895&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Use core_file_get_files",
          "Text": "Hi Martin, This is one of the wsfunctions I expect will be depreciated over time within Moodle as it currently requires direct access to the Moodle database to get the parameters for the call (see thread: http://moodle.org/mod/forum/discuss.php?d=198310 ). I added the call to the library for completeness rather than function, I don't use it myself. I assume you are trying to retrieve a file a user has uploaded for a submission to an assignment. I will test the method against my Moodle installation and get back to you, last time I tested it it did work ok. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 4, 2012, 4:10 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use core_file_get_files",
          "Text": "Interesting!!!!!!!! The last time this was tested was against Moodle 2.1, I'm now using 2.2 and get a response of: debug: Exception in thread \"main\" net.beaconhillcott.moodlerest.MoodleRestException: Invalid response value detected at net.beaconhillcott.moodlerest.MoodleCallRestWebService.call(MoodleCallRestWebService.java:284) at net.beaconhillcott.moodlerest.MoodleRestFile.getFiles(MoodleRestFile.java:55) at testgetfile.TestGetFile.main(TestGetFile.java:29) Java Result: 1 BUILD SUCCESSFUL (total time: 14 seconds) I 'm using the next version of the library which throws exceptions when there is a Moodle error. I have also tried via Firefox as a URL , bypassing the library and get the same response as XML . Something has changed within Moodle between versions!!!!!! You could try on your own install, replacing the appropriate bits below as a URL in your browser: http://your_server_and moodle_intallation_path/webservice/rest/server.php?wstoken=your_token_here&wsfunction=core_files_get_files&contextid=your_context_number&component=your_component_name&filearea=your_file_area_name&itemid=your_item_id&filepath=%2F&filename=your_name_of_file_to_retrieve I've left the filepath in the above as / , it is URL encoded to %2F, add your path after that. The filename requires the character + to repace any spaces in the filename. Changes inside Moodle are out of my control, the library just enables easy REST construction and subsequent translation into Java objects from the response.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 4, 2012, 6:18 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use core_file_get_files",
          "Text": "Ok, I tried, and me also I have a message error. Thanks for trying to help me",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, May 7, 2012, 7:59 AM",
          "AuthorName": "John Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449895&course=5",
          "role": [
            "Picture of John Smith"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 194328,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=194328",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "web services from c# .net",
          "Text": "Hi Please forgive me if this have been asked before but i am trying to access moodle web service 'moodle_user_get_users_by_id' for example from our .net application using c#.  Is this now capable with moodle 2.2 or is there still a problem with the WSDL file? I'm pretty new to the whole web service thing so i could even be asking a stupid question. i'm trying to add a webreference to my .net project to the moodle web service but when i enter the url http://< domain >/webservice/soap/ server .php?wsdl to find the available services i get an error The document at the url http://<domain>/webservice/soap/server.php?wsdl was not recognized as a known document type. The error message from each known type may help you fix the problem: - Report from ' XML Schema' is 'The root element of a W3C XML Schema should be <schema> and its name and <? xml version=\"1.0\" encoding=\"UTF-8\" ?> - < SOAP-ENV:Envelope xmlns:SOAP-ENV =\" http://schemas.xmlsoap.org/soap/envelope/ \" > - < SOAP-ENV:Body > - < SOAP-ENV:Fault > < faultcode > MOODLE:error </ faultcode > < faultstring > Access control exception </ faultstring > </ SOAP-ENV:Fault > </ SOAP-ENV:Body > </ SOAP-ENV:Envelope > its supposed to be using a token and SOAP. i guess i'm being stupid here but any point in the right direction would be appreciated. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2012, 11:22 PM",
          "AuthorName": "matt bartlam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1414679&course=5",
          "role": [
            "Picture of matt bartlam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: web services from c# .net",
          "Text": "Hi Matt, access control exception can have many causes, they are listed there: http://docs.moodle.org/22/en/Web_services_FAQ#What_is_the_.27Access_control_exception.27_error",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 4:39 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: web services from c# .net",
          "Text": "Hi Jerome Thanks for your reply and help, its much appreciated. turns out i had a url slightly wrong!! stupid me. oh well just glad its sorted. thanks again for taking the time to reply",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 24, 2012, 8:46 PM",
          "AuthorName": "matt bartlam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1414679&course=5",
          "role": [
            "Picture of matt bartlam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: web services from c# .net",
          "Text": "What was the correct format of the URL that worked?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2012, 8:12 PM",
          "AuthorName": "Luis de Vasconcelos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=396446&course=5",
          "role": [
            "Picture of Luis de Vasconcelos",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: web services from c# .net",
          "Text": "Hello Matt, Could you share your c# web services call please ? I am not able to get a starting point on calling Moodle web services from C#. Thanks in advance,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 6, 2012, 11:02 AM",
          "AuthorName": "chandrika harathi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1150115&course=5",
          "role": [
            "Picture of chandrika harathi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 201754,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=201754",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Writing web service function for scorm",
          "Text": "Hi All, I have looked at Moodle documentations to write my own web service in order to extract and report scorm attempts. The scrom attempts includes highest score in an activity, date of highest score achieved and attempted but not completed etc.. Is my approach is correct that writing web service function to achieve this process. Is there any alternative approach available to complete this (if this approach won't help). It would be helpful if I get suggestions or sharing anyone's similar experience and examples. Regards, Ramesh.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 2, 2012, 6:19 PM",
          "AuthorName": "Ramesh Suresh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1447059&course=5",
          "role": [
            "Picture of Ramesh Suresh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 200841,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200841",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Missing Parameter when trying to download file",
          "Text": "I get files info with this function: http://MySite/webservice/rest/ server .php?wstoken=MYToken&wsfunction=core_course_get_contents&courseid=4 and have all files from course. After I try to download , using 'fileurl' like: http://MYSite/webservice/pluginfile.php/47/mod_resource/content/1/examp.pptx?forcedownload=1 but see this: \n```text\n{\"error\":\"A required parameter (token) was missing\",\"stacktrace\":null,\"debuginfo\":null,\"reproductionlink\":null}\n```\n But nowhere I saw to write the Token. Can you help me? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 19, 2012, 2:39 AM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Missing Parameter when trying to download file",
          "Text": "add &wstoken=WSUSERTOKEN at the end. It should work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 20, 2012, 2:51 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Missing Parameter when trying to download file",
          "Text": "I added it , but I see same error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 20, 2012, 8:26 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Missing Parameter when trying to download file",
          "Text": "try:\nhttp://MYSite/webservice/pluginfile.php?file=/47/mod_resource/content/1/examp.pptx&forcedownload=1&token=YOURUSERTOKEN\n\nPS: just noticed it's token not wstoken with pluginfile.php, the first url probably work too.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 23, 2012, 11:08 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Missing Parameter when trying to download file",
          "Text": "I tried, but this not work, again...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 23, 2012, 4:53 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Missing Parameter when trying to download file",
          "Text": "Now, I tried this again and it's work. Before I forgot to change ? to & before 'forcedownload'. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 24, 2012, 2:20 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 200690,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200690",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Can't get files",
          "Text": "Hello. I create my webservice but I can't get files with it. I use http://MyMoodleURL/webservice/rest/ server .php?wstoken=UserForMyWebServiceToken&wsfunction=core_files_get_files&component=mod_resource I tried with component=user and filearea=content and filearea=draft but no result. Where is my lapse? Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2012, 3:26 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can't get files",
          "Text": "I have other question. Is any chanse to get files with webservice's function and convert it from my moodle server?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2012, 4:27 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get files",
          "Text": "This is one of those annoying little problems where you have a call but cannot get all the information for the call without extracting it directly from the database first such as the contextid etc. There are 6 parameters after the initial token and webservice name, all which are required. I know you don't want to go to the database directly but you will find the fields in table mdl_files. What you get in the response is a URL which you can use to download the file. Required fields are: \n```text\ncontextid= int\n\n\ncomponent= string\n\n\nfilearea= string\n\n\nitemid= int\n\n\nfilepath= string\n\n\nfilename= string\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2012, 6:04 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get files",
          "Text": "Thanks for your help! Then is unable to get all the files without having access to the database ? And can I get this fields from other webservice's function?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2012, 7:12 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get files",
          "Text": "Now I tried with http://MySite/webservice/rest/server.php?wstoken=MyToken&wsfunction=core_files_get_files&contextid=5&component=user&filearea=draft&itemid=667022705&filepath=&filename=a.exe But no result... My Filepath is empty, because in the db is '\\' value.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2012, 7:16 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get files",
          "Text": "I get fileinfo with this: http://MySite/webservice/rest/server.php?wstoken=MYToken&wsfunction=core_course_get_contents&courseid=4 and have all files from course. After I try to download, using 'fileurl' like: http://MYSite/webservice/pluginfile.php/47/mod_resource/content/1/examp.pptx?forcedownload=1 but see this: \n```text\n{\"error\":\"A required parameter (token) was missing\",\"stacktrace\":null,\"debuginfo\":null,\"reproductionlink\":null}\n```\n How to get the file?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2012, 7:38 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get files",
          "Text": "Where must to post Token i this url? I think, that the url which I get from core_course_get_contents is ready for download file...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2012, 9:39 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get files",
          "Text": "Hi Penyo, Moodle ws process currently doesn't recommend downloading file by web services. You can retrieve file info with some function like core_course_get_courses_content that will return to you the url to download the file (you'll need to edit it to add your token). Note that to download files, there is a Moodledocs : http://docs.moodle.org/dev/Web_services_files_handling (you'll find demo client too to download files) Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 20, 2012, 11:29 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get files",
          "Text": "Hello! I tried to get files url with http://MySite/webservice/rest/server.php?wstoken=MYToken&wsfunction=core_course_get_contents&courseid=4 and when I get file url like this : http://MYSite/webservice/pluginfile.php/47/mod_resource/content/1/examp.pptx?forcedownload=1 I see this error: \n```text\n{\"error\":\"A required parameter (token) was missing\",\"stacktrace\":null,\"debuginfo\":null,\"reproductionlink\":null}\n```\n So, where to put token in file url? I tried with http://MYSite/webservice/pluginfile.php/47/mod_resource/content/1/examp.pptx?forcedownload=1?token=MYTOKEN   but no result... Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 20, 2012, 1:25 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 200154,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200154",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "WS Template",
          "Text": "I've followed and checked the instructions for the set up and it all seems very straightforward, but I don't get the Hello, user message, I get; \n```text\nArray\n(\n    [faultCode] => 0\n    [faultString] => You cannot view the profile of this user\n)\n```\n The token is correct The test  user is assigned at System (and now evrey other) context . I've checked all setting many times. Also, I tried to acces the client file directly from the server and I get: /local/wstemplate/client/client.php: line 1: ?php: No such file or directory /local/wstemplate/client/client.php: line 2: //: is a directory /local/wstemplate/client/client.php: line 3: //: is a directory /local/wstemplate/client/client.php: line 4: //: is a directory /local/wstemplate/client/client.php: line 5: syntax error near unexpected token `at' /local/wstemplate/client/client.php: line 5: `// (at your option) any later version.' I don't know where to go next with this. It should be easy... PS I looked in the tracker and saw some references to Zend. I'm not sure what that is but it's on our server, could that be the problem?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Tuesday, April 10, 2012, 2:22 AM",
          "AuthorName": "Jean Poole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=214741&course=5",
          "role": [
            "Picture of Jean Poole"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: WS Template",
          "Text": "I've just noticed this in the logs for the site: WS Test User  webservice moodle_zend_xmlrpc_server 1xx.xxx.xxx.xxx ( which is the correct server IP)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 3:19 AM",
          "AuthorName": "Jean Poole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=214741&course=5",
          "role": [
            "Picture of Jean Poole"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WS Template",
          "Text": "Hi Jean,\n\"You cannot view the profile of this user\" seems to be an error returned by the web service function. It's most likely that the function you are calling request permission that your user doesn't have. To confirm do the same call with an admin user, if it works, the issue is with your user permission.\nCheers,\nJerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 11:10 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WS Template",
          "Text": "Thanks! That was it! It worked with Admin. Just a quick note that the instructions all say that the user only needs the specific service capability. I enabled edit and view profile capabilities but it still didnt work for my WS account. What permissions would be needed? Thanks for your help!!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, April 11, 2012, 5:02 AM",
          "AuthorName": "Jean Poole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=214741&course=5",
          "role": [
            "Picture of Jean Poole"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WS Template",
          "Text": "Hi Jean, permissions are a difficult task for the Moodle administrator. What you have to think as admin is: can this user do in the front end what he tries to do with the web service. if he can't then the user doesn't have the right capability, so it will not work for the web service too. What web service function are you using by the way? To see user profiles try to use the function that return course participants. Most of the time users are not allowed to see any user profiles on system context, they are just allowed to see the participant profiles of the course where they are enrolled.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 20, 2012, 11:14 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 200117,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200117",
      "NoOfResponses": 26,
      "ResponsesInList": [
        {
          "Title": "Use API in C#",
          "Text": "Hello! I need to use Moodle's API in my C# project, but I don't know how to call Moodle's Methods. Can you help me?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2012, 5:36 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Probably not what you want to hear, as far as I know there is no wsdl currently which describes the functions etc to call a Moodle server . I have recently been looking at trying to create one, in a round about way but so far no luck. So you would have to write your own calls, either to send SOAP messages or use REST protocols. However as a fallback, I know it is not ideal and someone may have a better method, is to create a number of webservices in Java running on a Glassfish server which in turn calls the Java REST library I've written which actually does the call to the Moodle site. As I said, not ideal, but one advantage is a wsdl can be created for the Glassfish webservices which in turn can be used for clients written in other programming languages. I've been ruminating on this idea as another project and wondering if this might be helpful for someone.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2012, 9:01 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Thanks for fast support! Can I see your Java's solution? And I have other problem. When I create my own Service in Moodle, I can't call him. I tried with this \" `https://www.yourmoodle.com/login/token.php?username=USERNAME&password=PASSWORD&service=SERVICESHORTNAME` \" to call him token but the answer was '{\"error\":\"Web service is not available (it doesn't exist or might be disabled)\" ,\"stacktrace\":null,\"debuginfo\":null,\"reproductionlink\":null}' Also, tried http:// `www.yourmoodle.com` /webservice/rest/server.php?wstoken=66a62ad146c76bea8e6216c1385eec0f&wsfunction=core_files_get_files But no result... How to call my service? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2012, 9:45 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Hi Penyo, I've no idea currently how to set up a call in C#, although I'm learning, but looking at your last part of your code it looks close to what I do in my library. http://www.yourmoodle.com/moodlepath/webservice/rest/server.php?wstoken=66a62ad146c76bea8e6216c1385eec0f&wsfunction=function_name_here Note you can remove \"/moodlepath\" to suit where you have your Moodle installation. The above is followed by the various parameters required for that function each part separated by the \"&\" symbol. For instance to return details of a course you would change \"function_name_here\" above for \"core_course_get_courses\" followed by, for example \"&ids[0]=1\". Note you do have to url encode the string so the \"[\" \"]\" become encoded but don't encode the \"=\" (Have a look at my source code for the library, class MoodleRestCourse, it might give you some clues). With the value 1 you should get the details of the \"Site\" course. When you get your reply it will be in XML which you will have to parse to extract the content. Sorry, just looked and noticed you wanted to look at the source code, download the current release from: http://sourceforge.net/projects/moodlerestjava/?source=directory or the one I'm working on so not really released yet: http://www.beaconhillcott.net/ Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2012, 10:10 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "I tried and http://mymoodle.com/webservice/rest/server.php?wstoken=66a62ad146c76bea8e6216c1385eec0f&wsfunction=core_files_get_files&ids [0]=1 but no result... I see your files, but its java and I need to migrate to .Net... This is a big problem... Also, I need to pick webservice's url...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2012, 10:30 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Hi Penyo , Sorry, just checked the params after the function name should be \"&options[ids][0]=1\", forgot the \"options\" and placing the \"ids\" in square brackets.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2012, 10:47 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Thanks, but I try \"http://mymoodle/webservice/rest/server.php?wstoken=66a62ad146c76bea8e6216c1385eec0f&wsfunction=core_files_get_files&options[ids][0]=1\" and again no result..",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Monday, April 9, 2012, 11:07 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Note you do have to url encode the brackets [ ] so it becomes: http://mymoodle/webservice/rest/ server .php?wstoken=66a62ad146c76bea8e6216c1385eec0f&wsfunction=core_course_get_courses&options%5Bids%5D%5B0%5D=1 Note the function name I'm using as an example is different to yours, the core_files_get_files function would have different parameters. The url above, with \"mymoodle\" changed to your own site should return a load of XML as long as your token is correct for the service. By the way, I have just tested the earlier idea of creating a Glassfish webservices server, just using the core_course_get_courses and it worked as long as I remove the entity injection the library does into the XML stream. See the attached as example wsdl and schema for the test. The currently distributed library will throw a null error if you try this yourself with Glassfish. Something to fix!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2012, 11:17 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Hmmmmmmm....... Someone who could be trusted, could in theory set themselves up as a Moodle WSDL proxy server site to enable developers to access their own data via SOAP calls created from WSDL after enabling the REST protocol on their site. All you would have to do is to send as parameters the original .../webservice/rest/server.php URL , the token and the parameters for the call. As I say, someone who could be trusted as the URL and token would be known to the proxy server but only in a transient way. Obviously the external proxy would need access to the local Moodle site via the Internet, could not just be a local installation hidden behind a firewall. Advantage of this would be all software languages which can use WSDL could call Moodle functions without any extra coding.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 1:02 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Thanks for your support! I tried http://mymoodle/webservice/rest/ server .php?wstoken=66a62ad146c76bea8e6216c1385eec0f&wsfunction=core_course_get_courses&options%5Bids%5D%5B0%5D=1 and it's work! Thanks! But if I want to call other function (like get_users_by_id) I haven't IDs and can't pick up. How to pick up? And I tried  http://mymoodle/login/token.php?username=MYNAME&password=MYPASS!&service=SERVICENAME but the reply is \"Web service is not available\" but I enable it, so I haven't pick up the Token. Have you got any other idea for this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 1:27 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "http://mymoodle/webservice/rest/server.php?wstoken=66a62ad146c76bea8e6216c1385eec0f&wsfunction=core_user_get_users_by_id&userids%5B0%5D=1&userids%5B1%5D=2 This should return, after modifying the domain , the Guest (userid=1) and Admin (userid=2) users account details. These accounts are installed on your initial set-up of your Moodle. As far as I know at the moment there is no way of obtaining a complete list of current users via web services. However if you go to Site administration->Users->Accounts->Browse list of users, then if you hover over the name you should see the details of the link, depending upon your browser you are using, Firefox shows the link URL at the bottom left of the page. One of the parameters is \"id\", the number after that is the Moodle id of the user you are hovering over. One thing though, if you are going to use REST protocols then I would suggest you switch to sending requests via HTTP POST rather than HTTP GET as the URL strings could get very long and there is a limit, determined by the browser, any proxy you are using and the webserver software your Moodle is running on. It's ok to use HTTP GET in the examples you have been trying. By the way, your second URL is not in the correct form for calling a REST webservice function what you are calling there is to retrieve a token for the user you are passing the credentials of. http://<moodlesite>/<pathtomoodle/>webservice/protocol/server.php for token authentication, change <moodlesite> and <pathtomoodle/> as appropriate, followed by ?wstoken=someverylongstringwhichisatoken&wsfunction=some_function_name. This is then followed by the parameters required for that call. http://<moodlesite>/<pathtomoodle/>webservice/protocol/simpleserver.php for user/password authentication, again change <moodlesite> and <pathtomoodle/> as appropriate, followed by ?wsusername=username&wspassword=some_password&wsfunction=some_function_name, the password being in clear text. This is then followed by the parameters required for that call. If you go to Site administration->Plugins->Web services->API Documentation then you should see a list of function names. Click on one and it will expand to reveal the parameters and their required details and what is returned. Note, the [ ], any characters which are used within HTML such as < and >  and spaces should be urlencoded otherwise the call will not work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 3:00 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Thanks for your reply! I need to see user's info, but I don't want to see it's ID from Site administration->Users->Accounts->Browse list of users Sorry, but I don't understand that you say for HTTP GET and HTTP POST, can you give me more explanations and examples? I need to get Token for authentication, like this examp: http://docs.moodle.org/dev/Creating_a_web_service_client (How to get a user token) but `SERVICESHORTNAME` is only in the DB and I can't see or change it. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 4:08 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "I think the only way you are going to get the Moodle user id(s) is to read the database explicitly using SQL statements ie \"select id from mdl_user where deleted=0;\" As for the SERVICESHORTNAME, I cannot find where in Moodle to edit this field in the database, you could try a test database or make a backup and edit the field by hand to something appropriate to test as the SERVICESHORTNAME in the parameters of the call. HTTP GET calls the server with all the parameters within the URL string. HTTP POST calls the server with the URL required but an extra part is also sent with the rest of the data. This is how HTML FORM data is sent when the METHOD is set to POST. This extra part does have limitations on size but depends on the server at the other end only and is usually configurable. However its capacity is much larger than a HTTP GET.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 5:04 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "I want to work without the DB and get ID's, but may be this is a very big problem... I see in the DB and can't see where is SERVICESHORTNAME or Services-table... For HTTP POST I see this example https://github.com/moodlehq/sample-ws-clients/blob/master/JAVASCRIPT-REST/client.php But I can't find for HTTP GET. Can you give me someone? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 6:13 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "HTTP GET is just doing what you have already been doing in your tests with the URL containing all the information required for the call to the webservice. Look in the mdl_external_services table, you will find the shortname field there associated with the name of your service name, currently it will be NULL.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 6:24 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Yes, but I can't reproduce it in C#. Thanks, I see this table and it's Null as you said. But I want to work without use the DB, so how to get/change Service short name outside the DB? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 7:44 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Once it is changed in the DB you don't have to go back there, just use what you entered into the shortname field in your call to replace `SERVICESHORTNAME` when fetching the token. If you look at the documentation http://docs.moodle.org/dev/Creating_a_web_service_client then it says you currently cannot edit this field using the admin UI (it's near the end) although it states it will be added later.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 9:11 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "You are right! Thanks again! Now, in C# I call any method with HttpWebRequest and HttpWebResponse.GetResponseStream() but I receive Moodle's method resault lika e string. How to make to pick it up lika a XML with headers and value? Thanks!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, April 11, 2012, 1:09 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "You have now got to the position where I decided to write a library in Java, but yours obviously would be in C#, to be able to decypher the XML response. The only problem is there are no headers sent, you have to use the tools you have in the language you are using to parse the text into something useful. I had to inject a list of entities into the stream for my parser to work, it's all teachers who add fancy html to their course summaries etc which causes problems!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 11, 2012, 2:19 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "I make this and I pick up needed fields with XDocument xd = XDocument.Load(\"http://mymoodle/webservice/rest/server.php?wstoken=MYTOKEN&wsfunction=core_user_get_users_by_id&userids[0]=USERID\"); var keyz = from mXml in xd.Descendants(\"KEY\") select new { Name = mXml.Attribute(\"name\").Value, Value = mXml.Element(\"VALUE\").Value }; foreach (var k in keyz) { .... } And it's work, but when get \"customfields\" and crashed, becouse there is other XML-design and can't get all XML-values. So, I put this between 'from' and 'select' where (mXml.Attribute(\"name\").Value == \"firstname\" || mXml.Attribute(\"name\").Value == \"lastname\" || mXml.Attribute(\"name\").Value == \"email\" || mXml.Attribute(\"name\").Value == \"address\" || mXml.Attribute(\"name\").Value == \"phone1\" || mXml.Attribute(\"name\").Value == \"phone2\" || mXml.Attribute(\"name\").Value == \"city\" || mXml.Attribute(\"name\").Value == \"country\") But I need to pick all Values..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 11, 2012, 4:19 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "You have to also take into account the \"Parent\" tag name, the root of the document is <RESPONSE>. When you get to the custom fields etc, the \"Parent\" becomes <customfields> rather than <RESPONSE>, you have to change what you are parsing accordingly and create an array of objects for each custom field you find. The so overall you have one object with the main data then an array within that for the custom field objects. You have to repeat this for <preferences> and <enrolledcourses>. I use in this case an indication of \"Parent\" being <REPONSE> and \"name\" being <id> as the start of another person. Hope that makes sense.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 11, 2012, 6:36 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Thank you, I'll try id.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, April 11, 2012, 7:58 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Hi Penyo, What you need to use is the keyword \"VALUE\" for the search, in Java I'm afraid this is: elements = (NodeList)xpath.evaluate(\"//VALUE\", source, XPathConstants.NODESET); Which from each Node it may be possible to obtain the \"KEY\" and its parent node by or the equivalent in C#: for (int j=0;j<elements.getLength();j++) { String parent=elements.item(j).getParentNode().getParentNode().getParentNode().getParentNode().getNodeName(); if (parent.equals(\"KEY\")) parent=elements.item(j).getParentNode().getParentNode().getParentNode().getParentNode().getAttributes().getNamedItem(\"name\").getNodeValue(); String content=elements.item(j).getTextContent(); String nodeName=elements.item(j).getParentNode().getAttributes().getNamedItem(\"name\").getNodeValue(); } Inside that loop then parent, nodeName and content have the values you need for that one data element. I use the nodeName equal to \"id\" when parent is \"RESPONSE\" to trigger the identification of a new user object.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 11, 2012, 9:03 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Thank you, I'll try it!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, April 12, 2012, 1:23 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "I can't reproduce it in C#. Can you help me? I need to pick all \"id's\" in \"enrolledcourses\". Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 12, 2012, 7:42 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Use API in C#",
          "Text": "Currently I don't know enough C# to write the code for you but as a guess.... You had this line in one of your earlier posts: var keyz = from mXml in xd.Descendants(\"KEY\"); If instead you replace \"KEY\" for \"VALUE\", this is assuming keyz is an array of pointers into the XML document. By selecting each entry in keyz is it possible to get the associated node which contains \"KEY\" for each \"VALUE\" node and therefore the name associated with the \"KEY\", then go on to finding the parent multiple entry node name. Once you have these three things you can interpret the data and store the information in a data structure.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 12, 2012, 9:24 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 200398,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200398",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Add new row to webservice's functions",
          "Text": "How to add new row in any webservice's function and see it in XML when I call this function? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 12, 2012, 6:00 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 200128,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200128",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Can't get method url",
          "Text": "Hello. I can't see any webmethod's URL and I haven't option Settings > Site administration > Plugins > Web services > Manage services > Edit link Please help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2012, 8:51 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can't get method url",
          "Text": "Have you enabled webservices first in Settings>Site administration>Advanced Features? Documentation here: http://docs.moodle.org/22/en/How_to_create_and_enable_a_web_service",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2012, 9:56 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get method url",
          "Text": "Yes, I enabled it. I wrote this documentation, but can't find how to get webservice's url...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2012, 10:39 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get method url",
          "Text": "Hi Penyo, I'm not 100% sure what's your issue but if it's to know how to build a web service url you can take example from demo clients: * https://github.com/moodlehq/sample-ws-clients * http://docs.moodle.org/dev/Creating_a_web_service_client Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 11:25 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get method url",
          "Text": "Thanks for your support! I need to get users, so I think your javascript code can be changet do get data from my moodle server ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 1:36 PM",
          "AuthorName": "Penyo Rusev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442770&course=5",
          "role": [
            "Picture of Penyo Rusev"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can't get method url",
          "Text": "The javascript demo client is not cross- domain . If you don't have any cross-domain issue then you can use the javascript demo client.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2012, 2:46 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 199471,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=199471",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Using mobile Moodle",
          "Text": "Hi! I’m wondering are some ware in Moodle option to automatic detects mobile devices and provide it with different interfaces. I have found how to change theme, but how can I change interface for mobile devices. Thank you. Ivica Matotek",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 29, 2012, 6:25 PM",
          "AuthorName": "Ivica Matotek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=579986&course=5",
          "role": [
            "Picture of Ivica Matotek",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using mobile Moodle",
          "Text": "Which version of Moodle are you using? From 2.1 onwards you can choose themes for  mobiles and tablets in Settings>Site administration>Appearance>Themes>Theme selector",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 29, 2012, 6:29 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using mobile Moodle",
          "Text": "I have changed theme, but when I connect to the site appearance is the same. I want to change so that when I connect to the site I receive different interface, something like http://www.ucla.edu/ . When I type in my android this address I'm automatically transferred to http://m.ucla.edu . Ivica",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 29, 2012, 7:16 PM",
          "AuthorName": "Ivica Matotek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=579986&course=5",
          "role": [
            "Picture of Ivica Matotek",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 199212,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=199212",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Send request to Third party system",
          "Text": "Hi, I need to send request to third party system/utility tools from the peoplesoft target connector. i wrote the peoplecode for listening incoming response but i dont know how to establish the request to third party system. I attached the image which is marked in the red color. Any one can tell the solution to establish the connection?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/post/868515/msg.jpg"
          ],
          "Time": "Monday, March 26, 2012, 9:57 PM",
          "AuthorName": "Sasikumar S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1439706&course=5",
          "role": [
            "Picture of Sasikumar S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 198310,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=198310",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "File REST webservices parameters",
          "Text": "Hi, I'm nearing the end of updating my Java library to interface to Moodle 2.2 via REST calls. The last calls to implement are those to do with the webservices file calls, all the others, no problem but in this case the parameters to the calls are expressed as arrays but only the array keys are shown in the externallib.php file, no name to the overall array is present. Is there an example or could an example be posted? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 14, 2012, 10:40 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: File REST webservices parameters",
          "Text": "Hi Bill, I'm not sure I understand your question at 100% but maybe one of these links could contain an help: * http://docs.moodle.org/dev/Creating_a_web_service_client * https://github.com/moodlehq/sample-ws-clients (see README to how to format ) * In your Moodle site: Admin Block > Plugins > Web services > API documentation * http://docs.moodle.org/dev/Web_services_files_handling * http://docs.moodle.org/dev/Web_services Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 16, 2012, 12:03 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: File REST webservices parameters",
          "Text": "Hi Jerome, I think I found my answer anyway, I have read the above in the past. I looked at the database table \"mdl_files\" and picked out a set of values which would correspond to the parameters for the call. This worked. I have also created a method for the upload , which currently is not tested but logically should work when uploading a Base64 uuencoded file. I have included all the webservice calls for completeness in the library, despite the following problem. Both the webservices regarding files,  the parameters required can only be known if you have access to the database directly from the device which is making the webservice call, which in most cases is no. There are other webservice calls which have the same issue. As an example, gaining the \"roleid\" and \"contextid\" to be able to enrol a user on a course. Currently I have to extract the data from our MIS for staff, students and classes, then create the user accounts and classes using webservices, but the final stage, allocating staff and students to classes is done by setting up another database and doing a \"database enrol\". By the way, the library I've written is for Java and calls the Moodle 2.2 webservices including the ones which are now deprecated for backwards compatibility. The current version is on Sourceforge, although it needs more documentation and error checking etc. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 16, 2012, 6:48 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: File REST webservices parameters",
          "Text": "Hi Bill, Don't worry the web services have not being designed with the mind that a client can access the DB. You should be able to create your client only using web service call + http request for files. I've just checked enrol_users_parameters(), it does not require contextid. About knowing the roleid it's more a missing web service function returning all roles. At the moment you can get some of the role with get_course_user_profiles_returns() but that is of course not the right function to call. Something like core_role_get_roles($courseid) is more what you are missing for the enrolment function. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 20, 2012, 5:02 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: File REST webservices parameters",
          "Text": "Hi Jerome, By the way, reading: http://docs.moodle.org/dev/Web_services_Roadmap#API_Roadmap It says: Moodle contextids are generally internal to Moodle and are not used in the API. But this is far from true and makes some of the ws calls unusable without inside knowledge of the database contents. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 16, 2012, 8:35 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: File REST webservices parameters",
          "Text": "Hi Bill, it was decided that every external functions would pick the context following the instance id. However you can join the discussion in this issue . Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 20, 2012, 4:52 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: File REST webservices parameters",
          "Text": "Hi Jerome, I was looking more a t: core_role_assign_roles and core_role_unassign_roles core_files_get_files and core_files_upload All four require the contextid to be passed as a parameter. I've no problem about abstracting the internals away from the ws, the fewer parameters the better as far as I'm concerned. However trying to write a \"complete\" Java library to interface with every ws call and then test is challenging because of the contextid's used in the above calls. Currently I have modified the code to include both the new and depreciated calls and am in the process of creating some basic javadoc comments. There is some tidying up as in the original library did not include preferences and custom fields when creating a new user. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 21, 2012, 7:31 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 198487,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=198487",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Undefined index: email in /webservice/rest/locallib.php",
          "Text": "Hi all. I am testing our web services to ensure they work with our bespoke systems before rolling out 2.2 next week, so I am using the following URL and seeing what XML is returned: http://localhost/webservice/rest/ server .php?wstoken=9e802d885d552993fd48d3c27108a36e&wsfunction=moodle_user_get_users_by_id&userids[0]=5&userids[1]=4&userids[2]=3 It returns XML as it should, but for each entry where there is no data to return, I get \"null\" instead of \"\" (empty string) and the following (shortened) stack trace (again, one PHP Notice for each empty field: phone 1, phone 2, icq etc etc): \n```text\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP Notice:  Undefined index: email in /webservice/rest/locallib.php on line 209\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP Stack trace:\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP   1. {main}() /webservice/rest/server.php:0\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP   2. webservice_base_server->run() /webservice/rest/server.php:47\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP   3. webservice_rest_server->send_response() /webservice/lib.php:1373\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP   4. webservice_rest_server::xmlize_result() /webservice/rest/locallib.php:110\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP   5. webservice_rest_server::xmlize_result() /webservice/rest/locallib.php:200\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP Notice:  Undefined index: address in /webservice/rest/locallib.php on line 209\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP Stack trace:\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP   1. {main}() /webservice/rest/server.php:0\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP   2. webservice_base_server->run() /webservice/rest/server.php:47\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP   3. webservice_rest_server->send_response() /webservice/lib.php:1373\n\n\n[Fri Mar 16 10:56:26 2012] [error] [client 172.21.4.85] PHP   4. webservice_rest_server::xmlize_result() /webservice/rest/locallib.php:110\n```\n Can anyone suggest what might be going on? I've written custom web services, but not changed anything with this one and am at a loss to explain it. I'm running Moodle 2.2.2+ (build 20120315). Cheers, Paul.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 16, 2012, 7:21 PM",
          "AuthorName": "Paul Vaughan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=266725&course=5",
          "role": [
            "Picture of Paul Vaughan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Undefined index: email in /webservice/rest/locallib.php",
          "Text": "Hi Paul, thanks for the report. Can you give us your returned xml code (into a tag code): \" It returns XML as it should, but for each entry where there is no data to return, I get \"null\" instead of \"\" (empty string)\". By there is no data, you mean the email/address/phone1/... database fields were null or set to '' ? cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 20, 2012, 4:43 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 197357,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=197357",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Oktech edit_forums and forum_add_discussion",
          "Text": "Hi, After creating a new course in moodle 2.2 next I tried to add a forum using oktech library edit_forums with type 'add'. This seems to work and the record is in the database , but when I see the course homepage there is no new forum there. Then i tried to add discussion to that forum but i get exception: string(141) \"<? xml version=\"1.0\" encoding=\"UTF-8\" ?> <EXCEPTION class=\"Exception\"> <MESSAGE>Wspp Base Server : missingparameter </MESSAGE> </EXCEPTION> \" Anyone know why discussion creation failed? I follow the chain and ended up in moodle-root/lib/datalib.php in function get_coursemodule_from_instance($modulename, $instance, $courseid=0, $sectionnum=false, $strictness=IGNORE_MISSING). I dont want to go any deeper into the core. Another case is after creating a course, I click on the course link so that now im in the course's homepage where there is a default News Forum. In the mdl_forum table a new record was added and I use the 'id' of the new record to create new discussion(like above). And it worked. Is there's something I missed between these two approaches? Thank you;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 1, 2012, 6:15 PM",
          "AuthorName": "Rimphy Darmanegara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370704&course=5",
          "role": [
            "Picture of Rimphy Darmanegara"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Oktech edit_forums and forum_add_discussion",
          "Text": "Hello, OK Tech WS has never been created to replace the interactive mode for 'heavy administrative tasks' such as creating a forum and inserting it into a course If you really want to create and immediatly use a new forum,  you MUST call the following operations : 1) edit_forum like you did with option='add' or more simply via add_forum  (that will add a new record to the DB) 2) get the list of existing course sections by a call to get_sections /** * Find and return a list of sections within one or several courses. * OK PP tested with php5 5 and python clients * @param int $client The client session ID. * @param string $sesskey The client session key. * @param string[] $courseids An array of input courses id values to search for. If empty return all sections * @param string $idfield : the field used to identify courses * @return sectionRecord[] An array of section records. */ 3) affect the forum to one of the sections of the target course  by a call to affect_forum_to_section($client, $sesskey, $forumid, $sectionid, $groupmode) 4) It should still works under Moodle 2.x ... i am glad to learn that the call forum_add_discussion still works on Moodle 2.2 on an existing forum such as the News Forum Cheers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, March 1, 2012, 7:52 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Oktech edit_forums and forum_add_discussion",
          "Text": "Thanks Patrick, it work just like I wanted. But I have to make adjustment in my wspp/wslib.php I add: require_once ($CFG-> dirroot .'/course/lib.php'); on top of the file. Prior to that the code: if (!$course_module_id = add_course_module($course_module)) always return Internal Server Error(500)",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/biggrin"
          ],
          "Time": "Friday, March 2, 2012, 7:28 PM",
          "AuthorName": "Rimphy Darmanegara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370704&course=5",
          "role": [
            "Picture of Rimphy Darmanegara"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Oktech edit_forums and forum_add_discussion",
          "Text": "Great !!!! Thanks for the report. I just pushed on github the revised wslib.php Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 2, 2012, 8:35 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Oktech edit_forums and forum_add_discussion",
          "Text": "Hi, I followed the instructions above, but after the creation and affection of a new forum, this is not visible within the course. If I manually create a new forum, then all the forums set up displays, including one created by WS! I'm using moodle 2.2.2+ and the last version of Ok Tech WS",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 13, 2012, 10:33 PM",
          "AuthorName": "Federico Ghigini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1435514&course=5",
          "role": [
            "Picture of Federico Ghigini"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Oktech edit_forums and forum_add_discussion",
          "Text": "Hi As  I stated above OK Tech WS has never been created to replace the interactive mode for 'heavy administrative tasks' such as creating a forum and inserting it into a course If you look at the script course/modedit.php you will see that adding an activity to a course is doing quite a lot of things and some are still not implemented in OK Tech (and never will be) such as initialisation of outcomes, gradings and completion support... To fix your specific problem, I think that adding these  lines  near line 635 in wspp/wslib.php should do it. Moodle is using more and more caching these days ... \n```text\nif ($CFG->wspp_using_moodle20)\n\n\n rebuild_course_cache($section->course);\n```\n just before the ending : \n```text\n return \"\";\n```\n Let me know if this is enough Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, March 14, 2012, 12:23 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Oktech edit_forums and forum_add_discussion",
          "Text": "Thanks! Now it works. The forum is displayed correctly after the fix.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 14, 2012, 4:25 PM",
          "AuthorName": "Federico Ghigini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1435514&course=5",
          "role": [
            "Picture of Federico Ghigini"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Oktech edit_forums and forum_add_discussion",
          "Text": "Great Fix committed on github Thks for the report Cheers edit : if you have time, rate my answers as 'useful' ; it is good to my ego",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, March 14, 2012, 7:05 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 197721,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=197721",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Error in PHP-HTTP-filehandling",
          "Text": "Hi, I'm trying to use the sample code PHP -HTTP- filehandling and always get the error message \" failed creating formpost data\". I am using the version of Moodle for Windows with xampp, the only change made to the example was to put the location of imagepath (./) because I put in the same folder of the client in moodle/local paste. Thanks for the help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 7, 2012, 12:52 AM",
          "AuthorName": "Rui Rebocho",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1410908&course=5",
          "role": [
            "Picture of Rui Rebocho"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error in PHP-HTTP-filehandling",
          "Text": "Hi Rui, I just searched \"failed creating formpost data\" in Google and there is plenty of people having the same issue. Apparently it's because curl fail to read/access(/write) your file. Try to test with the full imagepath starting with '/' or 'c:/' not with '.'. cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 9, 2012, 10:42 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 197487,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=197487",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Use function module as web service",
          "Text": "Hi. I am new in moodle. I need to expose some functions of SCORM module as WEB SERVICE. How can I do? Please give me a detailed answer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 3, 2012, 12:06 AM",
          "AuthorName": "Lucio Vitolo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1431792&course=5",
          "role": [
            "Picture of Lucio Vitolo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 197053,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=197053",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Use webservices oktech from application external",
          "Text": "Please Help. In good time and install the Web service through the notiticaciones : I did the following : A . - Install everything through notifications. 2. - Enable [Enable Web Services ] 3. - Enable protocols [ soap , amf , rest, xmlrpc ] 4. - In outsourcing appears [ WS oktech | local_oktech ] 5. - Add another external service name [ demows | Authorised users] allowing the user administrator \" with which I go to moodle\" . - Add to himself all the functions present in the list. 6. - I went to [Web service test client] and probe method through simple, SOAP , and function moodle_user_create_users and it worked . important: Upload the folder which has files WSPP as: MoodleWS",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 27, 2012, 8:30 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 196866,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=196866",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "mobile web service statistics",
          "Text": "Hi All, Is there a quick and easy way to view how many people are using mobile web service for a particular Moodle site, similar to 'Admin->Reports->Statistics'? Alex",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2012, 9:55 PM",
          "AuthorName": "Alexander Ufimtsev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=809180&course=5",
          "role": [
            "Picture of Alexander Ufimtsev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: mobile web service statistics",
          "Text": "Hi Alexander, I don't think there are any nice reports for it, but I like the idea. You can write a tracker issue issue for it. If many people vote for it, it would have a chance to be implemented (compare to having just a post in the forum yet).  Of course a git patch would be even better if you have some time and skills. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 24, 2012, 12:16 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 196837,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=196837",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "android client for moodle .",
          "Text": "I am new to the web service . I am planning to make an android client for the moodle website of my school using soap protocol. But I didn't quite understand the procedure due to my bad english . so I am wondering if anyone can give me some code to show the procedure . Any reply will be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2012, 3:26 PM",
          "AuthorName": "hu pengfei",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1428454&course=5",
          "role": [
            "Picture of hu pengfei"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 196422,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=196422",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "WS Local plugin _ wstemplate",
          "Text": "Hi! I'm using wstemplate to develop a project.First of all thanks to develop this useful plugin. As said, I'm using wstemplate, and I would like to export the xml that is generated with client.php to a downloadable file (xml or json) Thanks so much!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 17, 2012, 7:14 PM",
          "AuthorName": "Joan Anton Sanches",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1422010&course=5",
          "role": [
            "Picture of Joan Anton Sanches"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: WS Local plugin _ wstemplate",
          "Text": "Two questions: 1 - Are there any option to change content-type header in wstemplate/client/client.php, thus when I changed it I obtain the result of the webservice but no a xml. 2 - Is it possible to download client response. Which is created after execute wstemplate/client/client.php (a brief summary of my last question) Thanks so much!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 7:20 PM",
          "AuthorName": "Joan Anton Sanches",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1422010&course=5",
          "role": [
            "Picture of Joan Anton Sanches"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 196478,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=196478",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "core_category_get_category_by_id?",
          "Text": "Hello, I have recently been working on remotely creating a new course via the API, however am currently having a bit of an issue figuring out a way to get a category ID to return with the course, and I have noticed there is no way to get a list of category ID's or categories in general for that matter, along with  no way to remotely create new course categories. Are there any future plans to implement such a function or am I somehow missing something?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 18, 2012, 9:36 AM",
          "AuthorName": "Robert C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1416691&course=5",
          "role": [
            "Picture of Robert C"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: core_category_get_category_by_id?",
          "Text": "Hi Robert, hopefully we'll integrate Fabio's contribution for web service categories soon: MDL-30084 , MDL-30081 ... MDL-29934",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 20, 2012, 10:15 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 195497,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=195497",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Installing the Moodledocs web service plugin template",
          "Text": "The Creating_a_web_service_and_a_web_service_function documentation refers to the web service plugin template from https://github.com/moodlehq/moodle-local_wstemplate . The instructions in that template say: To test: 1- install the plugin in Moodle 2- Read, setup and run /client/client.php How you you install the plugin template? In what folder do I extract the template?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 7, 2012, 12:06 AM",
          "AuthorName": "Luis de Vasconcelos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=396446&course=5",
          "role": [
            "Picture of Luis de Vasconcelos",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Installing the Moodledocs web service plugin template",
          "Text": "Hi Luis, is a local plugin, you have to extract the zip file in the local/ directory Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 10, 2012, 12:12 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Installing the Moodledocs web service plugin template",
          "Text": "To follow Juan's answer, I updated the README https://github.com/moodlehq/moodle-local_wstemplate/blob/master/README Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 17, 2012, 10:23 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 195492,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=195492",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Functions available to the Web service test client",
          "Text": "I'm exploring the opportunities of creating new user accounts in Moodle using a web service. I created an XML -RPC web service under Site administration / Plugins / Web services / External service and added the core_user_create_users() function. But when I try to use the Web service test client (under Site administration / Development ) I only see the deprecated moodle_xxx... functions on that Function list. Shouldn't the core_user_create_users() function also be available on that Function list? Thanks. Moodle 2.2.1+ (Build: 20120112) Windows Server 2003 Standard Edition (Build 3790: Service Pack 2) Intel Xeon CPU 5120 @ 1.86GHz 512MB RAM IIS 6.0.3790.4735 Microsoft SQL Server 2005 - 9.00.4053.00 (Intel X86) Standard Edition PHP 5.3.3 NTS VC9 PHP date.timezone = \"Africa/Johannesburg\" Microsoft FastCGI Handler x86 6.1.36.1 Microsoft SQL Server Driver for PHP 2.0.1802.200 Microsoft Windows Cache Extension for PHP 1.1.630.0 Moodle config: $CFG->dbtype = 'sqlsrv'; $CFG->dblibrary = 'native';",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 6, 2012, 11:49 PM",
          "AuthorName": "Luis de Vasconcelos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=396446&course=5",
          "role": [
            "Picture of Luis de Vasconcelos",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Functions available to the Web service test client",
          "Text": "Hi, I think the test clients are outdated, not all the functions are present and the present ones are deprecated Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 10, 2012, 12:14 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Functions available to the Web service test client",
          "Text": "Thanks. Do you know if there are any plans to fix it? Is there a Tracker issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 10, 2012, 4:49 PM",
          "AuthorName": "Luis de Vasconcelos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=396446&course=5",
          "role": [
            "Picture of Luis de Vasconcelos",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Functions available to the Web service test client",
          "Text": "See MDL-31609 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 13, 2012, 5:36 PM",
          "AuthorName": "Luis de Vasconcelos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=396446&course=5",
          "role": [
            "Picture of Luis de Vasconcelos",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 195378,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=195378",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Get_user_by_email with webservice",
          "Text": "Hi, as you can see, my question is very short: Is there a way to get a user by the email-address with a webservice. I mean something like the get_user_by_id function in the api documentation. Greetings René",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 4, 2012, 3:20 PM",
          "AuthorName": "René Sodemann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1209756&course=5",
          "role": [
            "Picture of René Sodemann"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Get_user_by_email with webservice",
          "Text": "I guess your are under Moodle 2.x ? this operation is not yet available via the official Web Service, but you can install OK Tech WS (see https://github.com/patrickpollet/moodlews/wiki/Using-oktech-ws-with-moodle-2.0-official-web-service-infrastructure ) and use the call oktech_get_user, with these two parameters userinfo= the email you are looking for idfield='email' so in REST mode in a browser something like this in singleshot mode http://yourmoodle20/webservice/rest/simpleserver.php?wsusername=xxxxx&wspassword=zzzzz&wsfunction=oktech_get_user&userinfo=me@somewhere.com&idfield=email or in token mode : http://yourmoodle20/webservice/rest/ server .php?wstoken=xxxxxxxxxxxxxxxxxxxxxxxxxxxx&wsfunction=oktech_get_user&userinfo=me@somewhere.com&idfield=email Cheers edit : see http://prope.insa-lyon.fr/wshelper/service.php?project=moodlews2&class=mdl_soapserver for a list of available operations and required parameters. don't forget to add oktech_ as the function prefix if you use OK Tech under Moodle 2.x infrastructure edit2 : the function oktech_get_user accepts as idfield almost any column name defined in table mdl_user for example idfield='lastname' and userinfo='pollet'  all users with lastname=pollet or idfield='deleted' and userinfo=1  all users flagged as deleted ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 4, 2012, 7:45 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get_user_by_email with webservice",
          "Text": "Hi, you are right. I use Moodle 2. I tried to use the oktech webservices and it seems to be the right way. But I have still a problem: When I'm searching a user by the email, the webservice give me all users. It won't give me only the user with the email I'm looking for. Is this a problem of the oktech webservice or is it me? Greetings René",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 5, 2012, 11:41 PM",
          "AuthorName": "René Sodemann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1209756&course=5",
          "role": [
            "Picture of René Sodemann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get_user_by_email with webservice",
          "Text": "Real strange, are you sure you are not calling oktech_get_users with an s) that expects an array of user ids  and if absent returns all users of a moodle site ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 6, 2012, 2:58 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get_user_by_email with webservice",
          "Text": "No, I'm sure, I'm not calling the oktech_get_userS function. I use the \"oktech_get_user\" function. Maybe it's my code. I'm using this SOAP-CLient ( Link ). I filled the \"setup\"-section with my information. Then I deleted the userinformation and add the following lines: $user = new stdClass(); $user->idfield = \"email\"; $user->userinfo = \"mail@mail.de\"; $params = array($user); The rest of the code is the same as in the link. It's a little bit strange. When I delete the lines with \"idfield\" and \"userinfo\" it is the same result. I get all users. These two lines seems to be without effect. Greetings René",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 6, 2012, 6:59 PM",
          "AuthorName": "René Sodemann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1209756&course=5",
          "role": [
            "Picture of René Sodemann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get_user_by_email with webservice",
          "Text": "@René, You are not calling properly the function oktech_get_user . It does not find the values you sent, so it returns all users  (see code at lines 419-445 of wspp/server.class.php) In the example of Jerome on github, the function moodle_user_create_users' expects an array of users, each one being an array of userdata This function expects TWO strings thus it must be called like this $user = array(); //WATCH the ORDER OF THE PARAMETERS !!!! // if one reverse these two lines, we get a ws_nomatch error ! $user['userinfo'] = \"pp@patrickpollet.net\"; $user['idfield'] = \"email\"; $resp = $client->__soapCall($functionname, $user); actually only the order of the arguments in the passed array is important , not the fields names so this also work ! $user = array(); // if one reverse these two lines, we get a ws_nomatch error ! $user[] = \"pp@patrickpollet.net\"; $user[] = \"email\"; $resp = $client->__soapCall($functionname, $user); Attached the complete php code in this case Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 6, 2012, 10:08 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Get_user_by_email with webservice",
          "Text": "Thank you very much Patrick. Everything works now. Thank you for your help. Greetings René",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 7, 2012, 12:28 AM",
          "AuthorName": "René Sodemann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1209756&course=5",
          "role": [
            "Picture of René Sodemann"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 194987,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=194987",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Profile user images and forceloginforprofileimages",
          "Text": "This post is mainly for Jerome and Dong The current webservices for displaying information about an user returns a value called: user.profileimageurl This is the full url of the user profile image Please, note that the current implementation only works if forcelogin is set to NO and guestaccess to Yes Also, there is a new security issue for preventing displaying profile images for guests users http://tracker.moodle.org/browse/MDL-29844 I think it's neccesary a new script for obtaining this image using the auth token as a parmether (like the new pluginfile)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 31, 2012, 12:24 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Profile user images and forceloginforprofileimages",
          "Text": "Thanks Juan, we didn't know about that. I reported it in the tracker so we have a trace of it.  Please vote for it",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, January 31, 2012, 10:34 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Profile user images and forceloginforprofileimages",
          "Text": "This is the direct link to the tracker issue: http://tracker.moodle.org/browse/MDL-31431 Please, vote!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 1, 2012, 4:17 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 194806,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=194806",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "MAMP and publishing Moodle site",
          "Text": "Hello, running Moodle 2.2 on a Mac Site comes up as expected in web browser. Web sharing is on in prefs. I have the confif.php open and looking at the settings. How do I change the url form //localhost:8888/moodle22 is there a post or documentation regarding this? I am looking for a clue. thanks Jeff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 28, 2012, 1:15 AM",
          "AuthorName": "Jay Love",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1389395&course=5",
          "role": [
            "Picture of Jay Love"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 173774,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=173774",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Access control exception",
          "Text": "I've created a Web Service user and a Web Service role, to which the Web Service user is assigned.  This role has every single possible permission enabled.  Yet, when I do a simple call to moodle_user_get_users_by_id using Zend's XML -RPC client, it fails.  I get back a Zend_Xml_Rpc_Client_FaultException with the message property that says \"Access control exception\". Right, so if I add my Web Service user to the Administrators group, my script works fine and returns the users, as requested!  So, this has to be a permissions problem in Moodle. Reading through more documentation, I go back and look at the list of functions defined for my web service.  The \"moodle_user_get_users_by_id\" function requires \"moodle/user:viewdetails\".  So I go back to my Web Service role and make sure that this is enabled.  It is set to Allow! So, what is the deal here?  At this point I would just leave the user as an Administrator, but then I can't view the documentation.  (Very annoying by the way.  Equally annoying that there isn't a mirror of the documentation for the standard functions on Moodle.org somewhere.  Sure, I get that these are changing, but how hard would it be to copy/paste and have this documentation at least somewhat up to date on Moodle's website?  I'd volunteer to do it myself if I could ever this working.) So, any thoughts on where I should begin to track down my permissions problem? Any help or advice you can give is most appreciated. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 20, 2011, 11:00 PM",
          "AuthorName": "Brad Isbell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1321131&course=5",
          "role": [
            "Picture of Brad Isbell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Access control exception",
          "Text": "I am having the same issue.\n\nI have added the webservice user into the site administrators.\n\nBut still having the same error 'Access control exception'.\n\nPlease can you explain how you make it work.\n\nThe same issue is : http://moodle.org/mod/forum/discuss.php?d=172438 http://moodle.org/mod/forum/discuss.php?d=169650 http://moodle.org/mod/forum/discuss.php?d=142479 Can the MOODLE developer help us know if the webservice 2.0 is production ready? If yes How can we resolve this issue?\n\nI",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 21, 2011, 9:41 PM",
          "AuthorName": "Ibrahim BAKAYOKO",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=810496&course=5",
          "role": [
            "Picture of Ibrahim BAKAYOKO"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Access control exception",
          "Text": "I can't get it to work with \"Authentication method: simple\" (same stupid Zend_Xml_Rpc_Client_FaultException), but I does work with the token.\nI had make a few changes in the \"path-to-moodle\\webservice\\simpletest\\testwebservice.php\" ->token + setting the protocol and test to true.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 27, 2011, 8:16 PM",
          "AuthorName": "Magdalena Maglicic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295161&course=5",
          "role": [
            "Picture of Magdalena Maglicic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Access control exception",
          "Text": "I would start by making a user specifically for generating a token with every permission possible. Then under that user check the permissions by going to Home / ► Site administration / ► Users / ► Permissions / ► Check system permissions Type in SOAP, RPC, REST and make sure that they have the permission to use the webservice you want (I use REST). On my one user I have every permission enabled possible. Whenever I get Access Control Exception it is normally a problem with how I am posting the token to the webservice. You can try putting it in parameters like my $params = { 'wstoken' => '6749ad13bc4af', 'wsfunction' => 'moodle_user_get_users_by_id', 'userids[0]' => '1'. }; or you can save token and method into local variables and put them manually on the end of the URL like so $token = '0hsdf08780'; $method = 'moodle_what_ever'; $url = ' https://www.yourmoodle.com/moodle/webservice/rest/server/php?wstoken=$token&wsfunction=$function' ; I use an LWP agent to post so in both cases it would be $response = $userAgent->post($url, $params); the only difference is if i put the token and method in the parameters hash or directly on the url. Hope that Helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 21, 2011, 2:05 AM",
          "AuthorName": "RICHARD gillette",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1326363&course=5",
          "role": [
            "Picture of RICHARD gillette"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Access control exception",
          "Text": "Hi all I am new to moodle.I am creating a web service function for moodle quiz .When i tried to use that web service function on android it is giving me message called access exception control,whereas another functions are working well.Please help me. thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 24, 2012, 5:43 PM",
          "AuthorName": "ashutosh singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1415517&course=5",
          "role": [
            "Picture of ashutosh singh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Access control exception",
          "Text": "Hi Ashutosh, all causes are listed there: http://docs.moodle.org/22/en/Web_services_FAQ#What_is_the_.27Access_control_exception.27_error Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 25, 2012, 3:31 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 194319,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=194319",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Very ignorant",
          "Text": "OK Just looking at the webservices componant of Moodle 2.2 and have no idea how it works Could this be used for authentication and enrolment from the outside? Does it work in such a manner that if created correctly could allow external organisations to access and add there own user enrolments and authentication. I mean can it work that way round?  Could i build a web service and let other organisations create there own access to this web service? Are there any examples of such cases? or code that would be similair? Does anyone else use Moodle web services in such a manner? Sorry newbie on such matters? A lot of questions I know Many Mnay thanks for any answers at all Albert",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/blush"
          ],
          "Time": "Friday, January 20, 2012, 9:02 PM",
          "AuthorName": "Albert Ramsbottom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=403579&course=5",
          "role": [
            "Picture of Albert Ramsbottom"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Very ignorant",
          "Text": "Hi Albert, if you speak about something like oauth authentication (\"Connect with Google\" / \"Connect with Facebook\" are some of the most famous oauth implementartion) for web service: recently Hubert shared a two-legged oauth 1.0 implementation which is a very interesting example of oauth authentication in the web service. I didn't look too much at it but it looks good. I suppose we will be aiming for a three-legged Oauth 2.0 implementation in core. I hope for Moodle 2.4.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 4:38 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 183379,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=183379",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "\"get_users_by_id\" web service",
          "Text": "I have just recently installed version 2.1 and I have been working with the get_users_by_id web service.  Since I have installed version 2.1 I have issues with the web service now, for some reason I am unable to get usernames, and emails in the web service response.  I was able to get them fine in the previous version but now they aren't there.  If anyone has any suggestions I would really appreciate them.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 17, 2011, 7:27 AM",
          "AuthorName": "Brian Ruedi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340032&course=5",
          "role": [
            "Picture of Brian Ruedi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"get_users_by_id\" web service",
          "Text": "Tell us more about the errors and your setup. Things like are you using REST or SOAP as your client, what do the parameters that you are sending look like ie arrays, XML , what is the error message you are getting back from moodle, and what is your method of sending the parameters, like LWP or CURL?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 22, 2011, 12:08 PM",
          "AuthorName": "RICHARD gillette",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1326363&course=5",
          "role": [
            "Picture of RICHARD gillette"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"get_users_by_id\" web service",
          "Text": "I am using the test client to test the web service using token authentication, REST protocol and I am simply using the id number as my parameters.  I am not sure what format the test client sends the information as but in my thrid party application the parameters are sent in XML format.  When I run the test client I am able to get the username if I give the web service user administrative permissions, but I don't think tht should be necessary as it wasn't in version 2.0.3 which I upgraded from.  I have also been able to get the email to show up only on users that have their email set to display email address to everyone, but I am working with student emails and do not want everyone to be able to view email addresses. There is no error message with this issue, I am actually getting all of the information that is expected in the response except for the username and email value so there is no actual error message associated. I am running Moodle version 2.1 on Windows Server 2008 R2 with a mySql database",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 22, 2011, 11:55 PM",
          "AuthorName": "Brian Ruedi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340032&course=5",
          "role": [
            "Picture of Brian Ruedi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"get_users_by_id\" web service",
          "Text": "Try going into the moodle directory to moodle/users/externallib.php and look at their get_users_by_id function. There should be three parts - a get_users_by_id_parameters - a get_users_by_id (the function def) - and a get_users_by_id_returns.   Look at the returns and see if the email and the username are returned in that block of code. If they are, then I will try and think of something else. If they are not, the the bottom of the get_by_id function needs to be modified to return those values. Here is what my code looks like for the get users by ID returns and I am running moodle 2.0.3 public static function get_users_by_id_returns() { return new external_multiple_structure( new external_single_structure( array( 'id'    => new external_value(PARAM_NUMBER, 'ID of the user'), 'username'    => new external_value(PARAM_RAW, 'Username policy is defined in Moodle security config'), 'firstname'   => new external_value(PARAM_NOTAGS, 'The first name(s) of the user'), 'lastname'    => new external_value(PARAM_NOTAGS, 'The family name of the user'), 'email'       => new external_value(PARAM_TEXT, 'An email address - allow email as root@localhost'), 'auth'        => new external_value(PARAM_SAFEDIR, 'Auth plugins include manual, ldap, imap, etc'), 'confirmed'   => new external_value(PARAM_NUMBER, 'Active user: 1 if confirmed, 0 otherwise'), 'idnumber'    => new external_value(PARAM_RAW, 'An arbitrary ID code number perhaps from the institution'), See if yours looks similar or not and let me know, Right above that function should be the get_user_id definition that has a giant user array at the bottom that should be returning all of the values you need.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2011, 10:35 PM",
          "AuthorName": "RICHARD gillette",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1326363&course=5",
          "role": [
            "Picture of RICHARD gillette"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"get_users_by_id\" web service",
          "Text": "I have the same problem. I cannot see email address and username in web service API responses. I have checked this file and username and email parameters are there. any help appreciated. regards, matt.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 21, 2011, 3:15 AM",
          "AuthorName": "Matt R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1406288&course=5",
          "role": [
            "Picture of Matt R"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"get_users_by_id\" web service",
          "Text": "It seems to be an rights-issue. I have also been wondering why username and email won't be returned by the webservice, but by taking a look at the code i discovered that the webservice user needs to be a site admin (using version 2.2.1). Go to Site administration / Users / Permissions / Site administrators and add your webservice user to the list of site administrators. I hope that helps ;) But i have further been wondering if there could come up any security issues if my webservice user becomes a site administrator? regards, Malte",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 16, 2012, 10:14 PM",
          "AuthorName": "Malte K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686573&course=5",
          "role": [
            "Picture of Malte K"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"get_users_by_id\" web service",
          "Text": "Hi, to explain a bit more. In the web interface a user can see another user information when he goes on the: - user profile page (http://mymoodle/user/profile.php?id=USERID) => core_user_get_users_by_id(). - course user profile page (http://mymoodle/user/view.php?id=USERID&course=COURSEID) => core_user_get_course_user_profiles(). These two pages do not display the same information in Moodle, so it does not with the web service functions. If ever the web service function does not display the same things as the web version it's an issue. Otherwise it works like excepted. I hope it clarify. Note that except if you are admin, you are most likely never going to see someone else username in both pages.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 3:52 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"get_users_by_id\" web service",
          "Text": "Hi! I am trying to get my test client to work using xmlrpc and token authentication, but I keep getting a faultcode630 error. I am running 2.03 on Windows Server 2008 R2 with a mySql database . any help would be GREATLY appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2011, 5:35 AM",
          "AuthorName": "oneil clacken",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=483635&course=5",
          "role": [
            "Picture of oneil clacken"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 193789,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=193789",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Example: a Web-service function that doubles its argument",
          "Text": "Having got the \"hello World\" 'wstemplate' Web-service plugin working as described in last night's post , I tried modifying it to create a function of my own, that doubles its argument. This is how. I'd unzipped the plugin into a directory called wstemplate. First, I edited wstemplate/externallib.php: \n```text\nrequire_once($CFG->libdir . \"/externallib.php\");\n\nclass local_jnip_external extends external_api \n{\n  /**\n   * Returns description of method parameters.\n   * @return external_function_parameters\n   */\n  public static function double_parameters() \n  {\n    return new external_function_parameters(\n      array( 'n' => new external_value( PARAM_TEXT\n                                      , 'The number to be doubled.'\n                                      )\n           )\n    );\n  }\n\n\n  /**\n   * Returns welcome message.\n   * @return string welcome message\n   */\n  public static function double( $n ) \n  {\n    global $USER;\n\n    // Parameter validation.\n    // REQUIRED.\n    $params = self::validate_parameters( self::double_parameters()\n                                       , array( 'n' => $n ) \n                                       );\n\n    // \nContext\n validation.\n    // OPTIONAL. Not needed for this function.\n\n    // Capability checking.\n    // OPTIONAL. Not needed for this function.\n\n    return $params['n'] * 2;\n  }\n\n\n  /**\n   * Returns description of method result value.\n   * @return external_description\n   */\n  public static function double_returns() \n  {\n    return new external_value( PARAM_TEXT, 'The argument doubled.' );\n  }\n}\n```\n In the above, I've changed the classname to local_jnip_external. (My initials are JNIP). I've replaced 'hello_world' by 'double' in the names of the three functions above. I've also altered the parameter and result descriptions so that they described double's argument and result. Unlike hello_world, double doesn't have a default value for its parameter, so I have removed that part of the parameter description. The parameter name, I've changed to 'n'. And I've removed the capability check at the end of 'double'. I don't know how likely one would be to write some kind of arithmetic Web service in real life — perhaps one would for a statistics add-on — but I can't see that any security checks are needed at all. Therefore, I have also removed the context validation. Next, I edited wstemplate/db/services.php: \n```text\n// We define the Web-service functions to install.\n//\n$functions = array(\n        'local_jnip_double' => array(\n                'classname'   => 'local_jnip_external',\n                'methodname'  => 'double',\n                'classpath'   => 'local/jnip/externallib.php',\n                'description' => 'Doubles its argument.',\n                'type'        => 'read',\n        )\n);\n\n// We define the services to install as pre-built services. \n// A pre-built service is not editable by the administrator.\n//\n$services = array(\n        \"Jocelyn's service\" => array(\n                'functions' => array ('local_jnip_double'),\n                'restrictedusers' => 0,\n                'enabled'=>1,\n        )\n);\n```\n Here, I've changed the outer key in the $functions array to local_jnip_double, and the class name, method name, class path, and description in the inner array to their new values. In the $services array, I've changed the service name and function name. I left wstemplate/version.php and wstemplate/lang/en/local_wstemplate.php alone. Then I changed the directory name from wstemplate to jnip, so that on my Moodle's Linux host , it sat at /var/www/moodle/moodle/local/jnip/ . To make Moodle install the plugin, I went to Site administration > Notifications. Moodle had noticed the new directory, and showed it to me in a plugins table. I pressed the Upgrade button on that page, and then Continue on the next page. I then went to Site administration > Plugins > Web services > External services, and saw a table listing my services, including a row for \"Jocelyn's service\". I clicked on the Functions link — and got an error saying that the description of the return value was corrupt. I'd mistyped it. So I corrected it in externallib.php . (The code above shows the corrected one.) Then I had to make Moodle notice this update. I remembered reading that it notices when the version number in a version.php file has been increased. So I edited wstemplate/version.php. The original version, the one I'd copied from wstemplate, looked like this: \n```text\n$plugin->version  = 2011101202;   // The (date) version of this module + 2 extra digital for daily versions\n                                  // This version number is displayed into /admin/forms.php\n                                  // TODO: if ever this plugin get branched, the old branch number\n                                  // will not be updated to the current date but just incremented. We will\n                                  // need then a $plugin->release human friendly date. For the moment, we use\n                                  // display this version number with userdate (dev friendly)\n$plugin->requires = 2010112400;  // Requires this Moodle version - at least 2.0\n$plugin->cron     = 0;\n$plugin->release = '1.0 (Build: 2011101202)';\n$plugin->maturity = MATURITY_STABLE;\n```\n I wasn't really sure what to do — I've never seen a Moodle document about the correct care and feeding of version files — but it seemed reasonable to replace both occurrences of 2011101202 by 2011101203. I then went back to Site administration > Notifications. Again, Moodle showed me the table of plugins, saying that this one needed upgrading. So it had noticed the change. I pressed Upgrade, and then Continue. For my client, I wrote this program: \n```text\n  echo \"Demo of Web service doubling function using REST\\n\";\n  echo \"================================================\\n\";\n\n  $token = '401eae223b346c10c3298d74itv7ddf5';\n  $\ndomain\n = '\nhttp://moodle.ireson-paine.com\n';\n\n  $n = 5;\n\n  $function_name = 'local_jnip_double';\n\n  $params = array( 'n' => $n );\n\n  $serverurl = $domain . '/webservice/rest/\nserver\n.php'. '?wstoken=' . $token . '&wsfunction='.$function_name;\n\n  require_once( './curl.php' );\n  $curl = new curl;\n\n  echo \"\\nAbout to call function.\\n\";\n\n  $response = $curl->post( $serverurl, $params );\n\n  echo \"\\nCalled function.\\n\";\n\n  echo \"\\nResponse = $response.\\n\";\n```\n The token in it, I made by going to Site administration > Plugins > Web services > Manage tokens, and adding a new token for my Web-services user and the service called \"Jocelyn's service\". And running the client produced this output: \n```text\nDemo of Web service doubling function using REST\n================================================\n\nAbout to call function.\n\nCalled function.\n\nResponse = <?\nxml\n version=\"1.0\" encoding=\"UTF-8\" ?>\n<RESPONSE>\n<VALUE>10</VALUE>\n</RESPONSE>\n.\n```\n I also tried an XML -RPC version of the client, like this: \n```text\n  echo \"Demo of Web service doubling function using XML-RPC\\n\";\n  echo \"===================================================\\n\";\n\n  $token = '401eae223b346c10c3298d74itv7ddf5';\n  $domain = '\nhttp://moodle.ireson-paine.com\n';\n\n  $n = 5;\n\n  $function_name = 'local_jnip_double';\n\n  $params = array( $n );\n\n  $serverurl = $domain . '/webservice/xmlrpc/server.php'. '?wstoken=' . $token . '&wsfunction='.$function_name;\n\n  require_once( './curl.php' );\n  $curl = new curl;\n\n  echo \"\\nAbout to call function.\\n\";\n\n  $post = xmlrpc_encode_request( $function_name, $params );\n\n  $response = xmlrpc_decode($curl->post($serverurl, $post));\n\n  echo \"\\nCalled function.\\n\";\n\n  echo \"\\nResponse = \"; print_r($response); echo \".\\n\";\n```\n But I got an error message saying that the parameter didn't match its description. This happened also when I set $params to array( n=>$n ). I haven't worked out what I should write, but because I'm likely to keep on using REST rather than XML-RPC, I'm not worrying about it. Jocelyn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2012, 4:34 PM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Example: a Web-service function that doubles its argument",
          "Text": "Hi Joycelyn, for your xml-rpc error: \n```text\n$post = xmlrpc_encode_request( $function_name, $params );\n```\n \n```text\n=>\n```\n \n```text\n$post = xmlrpc_encode_request( $function_name, \narray(\n$params\n)\n );\n```\n \n```text\n\n```\n It should work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 23, 2012, 3:19 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 192387,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=192387",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "Hi I created a web service doing the following : 1. Externallib in mod/questionnaire has : <?php require_once(\"$CFG->libdir/externallib.php\"); class moodle_questionnaire_external extends external_api { public static function get_questinnaires_parameters() { return new external_function_parameters ( array( 'courseid'=> new external_value(PARAM_INT, 'id of the course') ) ); } public static function get_questionnaires_returns () { public static function get_questionnaires($courseid) { global $CFG, $DB; $params = self::validate_parameters(self::get_questionnaire_parameters(), array('courseid' => $courseid) ); $ sql = 'select id,name from '. $CFG->prefix.'questionnaire where course='.$courseid; $rets = array(); $qs= $DB->get_records_sql($sql); foreach($qs as $q) { $ret= array(); $ret[\"id\"]= $q->id; $ret[\"name\"]=$q->name; $rets[] = ret; } return $rets; } } ?> added to lib/db/services.php in 'moodle_course_get_questionnaires' => array( 'classname' => 'moodle_questionnaire_external', 'methodname' => 'get_questionnaires', 'classpath' => 'mod/questionnaire/externallib.php', 'description' => 'Return questionnaire details', 'type' => 'read', 'enabled'=>1, ), but when i try accessing the service $function='moodle_course_get_questionnaires'; //$params= array('courseid'=>$courseid);; $params= $courseid; $response =$testclient->simpletest($serverurl, $function, $params); i get the error \"Can not find data record in database table external_functions\" What steps am i missing out. any help will be greatly appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2011, 4:21 PM",
          "AuthorName": "Pradeep Kandoth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1405125&course=5",
          "role": [
            "Picture of Pradeep Kandoth"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "Hi Pradeep , You might have to manually make an entry in database table \"external_functions\" with your newly created function. Then you can get ride from this error. There are following fields in the above mentioned table: id name classname methodname classpath component capabilities Cheers Netram Dhakar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2011, 5:50 PM",
          "AuthorName": "Netram Dhakar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616001&course=5",
          "role": [
            "Picture of Netram Dhakar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "@Pradeep, I also noticed that your function public static function get_questinnaires_parameters() { is mispelled it should be public static function get_questionnaires_parameters () { Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2011, 6:41 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "@ Patrick Pollet,@netram Dhakar  thanxs changed the spelling and added to database.  but when i go the add function in plugin external services  the whole page goes blank. What is wrong now ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2011, 7:45 PM",
          "AuthorName": "Pradeep Kandoth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1405125&course=5",
          "role": [
            "Picture of Pradeep Kandoth"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "Hi Pradeep , Please enable moodle debugging then you can figur out What is the the error. Cheers Netram Dhakar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2011, 8:47 PM",
          "AuthorName": "Netram Dhakar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616001&course=5",
          "role": [
            "Picture of Netram Dhakar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "Now i am getting the following error cURL request for \"http://localhost:81/moodle/webservice/rest/ server .php?wstoken=0792a48fa0c388fcd8c835e5ba25ecd9&wsfunction=moodle_course_get_questionnaires\" failed, HTTP response code: HTTP/1.0 500 Internal Server Error line 1141 of \\lib\\filelib.php: call to debugging() line 185 of \\webservice\\rest\\locallib.php: call to download_file_content() line 104 of \\webservice\\rest\\nt.php: call to webservice_rest_test_client->simpletest() warm regards pradeep",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2011, 10:02 PM",
          "AuthorName": "Pradeep Kandoth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1405125&course=5",
          "role": [
            "Picture of Pradeep Kandoth"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "i've inserted moodle_course_get_questionnaires,moodle_questionnaire_external,get_questionnaires,mod/questionnaire,moodle,''    into the table",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2011, 7:55 PM",
          "AuthorName": "Pradeep Kandoth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1405125&course=5",
          "role": [
            "Picture of Pradeep Kandoth"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "For those of you who are struggling these are the mistakes i've made so far 1. Spelling wrong  between param,implementation and result. 2. Record not inserted into 'external_functions' table. 3. Record  inserted wrongly 'classpath' column has to contain the complete file name. I am still stuck on the last problem will get back as soon as the solution is found",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 16, 2011, 12:29 AM",
          "AuthorName": "Pradeep Kandoth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1405125&course=5",
          "role": [
            "Picture of Pradeep Kandoth"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "Hi, to add a web service function in Moodle, you need to increment the version.php. In your case you put the services.php in the lib folder, so you would need to increment the root version.php. However you should put your services.php into mod/questionnaire/db/services.php. And then increment mod/questionnaire/version.php. PS: when Moodle detects a version.php change, Moodle automatically triggers an upgrade. The upgrade system will check if db/services.php exists, and will automatically update the service information into the database. You don't need to edit anything in your database.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 16, 2011, 9:40 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "Hi Jerome, In Creating a web service and a web service function , there's an example that shows how to add a new Web-service function for creating a group. This example declares the function by updating the $functions array in /lib/db/services.php . However, you suggest that Pradeep should update mod/questionnaire/db/services.php , presumably because his function does things with questionnaires. Which is best? I ask because I want to do two things with Web services, and having read your reply, I now don't know which services.php to change. First, I want to implement the Hello World function mentioned in Creating a web service and a web service function . That's as an experiment, to get me started. Second, I want to implement a function that copies course-backup files into new courses, by calling call import_backup_file_silently from /backup/lib.php . Should I update $functions in /lib/db/services.php , or elsewhere? If the latter, where? Are there any conventions about this? It would be simplest, I suppose, if we could just update a services.php somewhere under /local/ . That would avoid tampering with any existing Moodle code, and so make installing new Moodle versions safer. By the way, Creating a web service and a web service function doesn't tell us to increment the version.php . Must we always do this when adding a Web-service function? Jocelyn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 11, 2012, 1:16 AM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: new web service giving \"Can not find data record in database table external_functions\"",
          "Text": "Hi Jocelyn, thanks for your question. We are currently working on explaing plugins ( MDLSITE-1661 ). Plugins are: - module ( => /mod/xyz/) - enrolment plugin (=> /enrol/xyz/) - authentication plugin (=> /auth/xyz/) - ... http://docs.moodle.org/dev/Frankenstyle#Plugin_types - local plugin ( => /local/xyz/) Always put /db/services.php into the /xyz/ folder. For your example I suggest to create a local plugin. Local plugins are for things that are not module/enrolement/authentication/... So you guessed right About web services, two new docs are available for web services: http://docs.moodle.org/dev/Web_services_API and http://docs.moodle.org/dev/External_functions_API",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, January 23, 2012, 2:35 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 184815,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=184815",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Delete Course using Web Services",
          "Text": "Hello everyone, We are looking for a web service that allows us to delete courses, do you know any? In case you don't know any, we would like to program it do you have in mind what kind of actions does the delete course page does in moodle. any tips will be thanked. Best, Mohammad Abu Musa",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 5, 2011, 1:54 AM",
          "AuthorName": "Mohammad Abu Musa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=528935&course=5",
          "role": [
            "Picture of Mohammad Abu Musa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Delete Course using Web Services",
          "Text": "Hi, delete_course is not yet supported by Moodle 2.x web services but do exist in ok tech implementation.  See https://github.com/patrickpollet/moodlews/wiki/Using-oktech-ws-with-moodle-2.0-official-web-service-infrastructure cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 6, 2011, 8:53 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Delete Course using Web Services",
          "Text": "I also need a function for deleting courses. Actually, I think it's a good idea always to have a function for deleting anything that one can create. But if we need to program course deletion using the OK Tech implementation, can we be assured that this will continue to work with all future Moodle updates, so that these don't kill code that we've written? Jocelyn Ireson-Paine",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 4, 2012, 11:33 PM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Delete Course using Web Services",
          "Text": "Hello, I guess you could start by using oktech_operations until they become available with official Web Service. Switching from oktech_xxxx to moodle_xxxx or core_xxxx should be quite easy especially if you use OK Tech  with Moodle 2.x infrastructure AND use Moodle's internal id as the course identifier. OK Tech allows you to also specify course idnumber or shortname, but this is not currently supported in official WS. so you should use wstoken=xxxxxxxx&wsfunction=oktech_delete_course&courseid=xx&courseidfield=id query string Cheers. Edit : As stated elsewhere, http://moodle.org/mod/forum/discuss.php?d=191886#p837403 , OK Tech will gradually fade away  when its operations become available in the official WS.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 5, 2012, 9:48 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Delete Course using Web Services",
          "Text": "I've now coded a Web-service function called delete_course, which I implement in a local plugin called 'jnip'. Here's the plugin's externallib.php, which just calls the Moodle function delete_course from lib/moodlelib.php: \n```text\n// I don't know whether I need this. I copied\n// the line from other Web services that require\n// it.\nrequire_once( $CFG->libdir . \"/externallib.php\" );\n\n/* This class's methods define, in the usual\n   way for Moodle 2 Web services, the function's\n   parameter and result types, and its body.\n*/\nclass local_jnip_external extends external_api \n{\n  public static function delete_course_parameters() \n  {\n    return new external_function_parameters(\n      array( 'id' => new external_value( PARAM_INT\n                                       , 'ID of the course to delete.'\n                                       )\n           )\n    );\n  }\n\n  public static function delete_course_returns() \n  {\n    return new external_value( PARAM_BOOL\n                             , 'Whether deletion succeeded.'\n                             );\n  }\n\n  public static function delete_course( $course_id ) \n  {\n    global $CFG;\n    require_once( $CFG->\ndirroot\n . '/lib/moodlelib.php' );\n    return delete_course( $course_id, false );\n  }\n}\n```\n And here's the plugin's db\\services.php. It defines a Web service that I've called \"Jocelyn's service\": \n```text\n// Where my Web-service function is implemented.\n//\n$functions = array( 'local_jnip_delete_course' => \n                      array( 'classname'   => 'local_jnip_external'\n                           , 'methodname'  => 'delete_course'\n                           , 'classpath'   => 'local/jnip/externallib.php'\n                           , 'description' => 'Deletes a course.'\n                           , 'type'        => 'read'\n                           )\n                  );\n\n// The functions making up my service.\n//\n$services = array( \"Jocelyn's service\" => \n                     array( 'functions' => array ( 'local_jnip_delete_course'\n                                                 )\n                          , 'restrictedusers' => 0\n                          , 'enabled'=>1\n                          )\n                 );\n```\n To call the function, I use the REST protocol in almost exactly the same way as in my example programs at Example of using Web services . The only difference is that the token is one I created for \"Jocelyn's service\" rather than for Moodle's built-in Web services. As you'll see from the example programs, I'd already implemented a function for deleting users, which uses core_user_delete_users. core_user_delete_users, I find, works by calling delete_user in lib\\moodlelib.php . And my delete-course function works by calling delete_course, also in lib\\moodlelib.php . But there's a difference. delete_user throws an exception if the user doesn't exist. delete_course returns false. Why this inconsistency? I now have to decide whether to propagate it so that my Web-service functions are inconsistent with one another but consistent with their foundations, or to try and hide it. It's annoying. Jocelyn Ireson-Paine",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 22, 2012, 10:39 PM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 193959,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=193959",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web services Error while using HTTPS instead of HTTP",
          "Text": "Hi All,\nWe have developed Excel Macro which uses Webservices to talk to our application to generate the required data.\nThere is a GetSessionId function which get the session id by providing the Username and password. This was working fine with HTTP URL . Due to security reason we made our Application URL to HTTPS and started getting the error mesage.\nThe function return sessionid with http://loadbalancer:443/niku/wsdl/Query/ASP_RISKS_Q\")\nand ignore while usinh HTTPS i.e https://loadbalancer:443/niku/wsdl/Query/ASP_RISKS_Q\")\nbelow if the function\nFunction GetSessionId(userName As String, password As String)\n'Get the sessionId\nDim objSClient As SoapClient30\nOn Error GoTo loginError\nSet objSClient = New SoapClient30\nCall objSClient.mssoapinit(par_WSDLFile:=\"https://loadbalancer:443/niku/wsdl/Query/ASP_RISKS_Q\")\nGetSessionId = objSClient.Login(userName, password)\nExit Function\nloginError:\nUserForm2.Hide\ndisplayErrorFlag = True\n\nEnd Function\n\nThanks in Advance.\nGurjeet",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 16, 2012, 10:44 PM",
          "AuthorName": "Gurjeet singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1412524&course=5",
          "role": [
            "Picture of Gurjeet singh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 193925,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=193925",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Removing deprecated web service functions from Moodle 2.5",
          "Text": "Hi, in order to clean-up Moodle code, I suggested in MDL-31194 to remove the deprecated web service functions when Moodle 2.5 is released. The deprecated web service functions have been deprecated since Moodle 2.2. I wonder if anyone has any reasons to find it to early? Feel free to comment on the issue. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 16, 2012, 3:36 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 193256,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=193256",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "For calling moodle_role_assign, how do I get the IDs of existing roles and contexts?",
          "Text": "Hi, I'm experimenting with Moodle Web services in order to call Moodle from a Joomla front-end. One thing I need to do is to write scripts that enable our tutors to define a user, then set their rôle, and then, perhaps quite a time later, attach these users to courses that a tutor has created. Creating users is OK, but there's something I need for creating rôles. Which is that the Web-service function moodle_role_assign needs a rôle ID parameter. But how can I get the IDs of rôles that have already been added to the system? Our installation has rôles Manager, Teacher, Non-editing Teacher, and Student (amongst others), which are the ones I want to give to new users. But I can't find any way to list their IDs from Moodle's administrator's interface, nor can I see a Web-service function that would return the IDs. I suppose I'd need a function such as moodle_role_get_id, which would take the name or short name of a rôle and return its ID. Likewise, how do I get the IDs of existing contexts? I'd like to do all this without hacking Moodle, i.e. by calling only the Web services. I'm using Moodle 2.0.1 at the moment. Cheers, Jocelyn Ireson-Paine",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 4, 2012, 5:35 PM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: For calling moodle_role_assign, how do I get the IDs of existing roles and contexts?",
          "Text": "Hi Joycelyn, I recommend to use Moodle 2.2+ to develop your client. If you have to use 2.0.1 you can test on it but try to develop on 2.2+. 2.2+ displays comprehensive error messages. Otherwise the current Moodle API is small and I don't think there are anything to get the role id yet. We have a roadmap that you can follow: http://docs.moodle.org/dev/Web_services_Roadmap . You can contribute, or vote for the sub-tasks you need: MDL-29934 We try to implant the contributed function first (if not too much work is required from HQ part), then the most voted, then the one we consider the most important.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2012, 4:12 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: For calling moodle_role_assign, how do I get the IDs of existing roles and contexts?",
          "Text": "Hi Jerome, thanks for the reply. We've now upgraded to 2.2, and I'll be testing on that. I'm now puzzled by why moodle_role_assign exists, though, because if it needs role IDs as parameters but I can't get them, the function doesn't seem much use. (I do understand that there's not been time to implement all of the API that you'd like.)  Would you recommend creating a role that's a copy of the existing one? Because I believe I can get the ID of roles that I myself have created in PHP. Or would you recommend using OKTech to get the IDs? Or something else? Being only a few days into Moodle programming, I still don't know what the best solution would be. Cheers, Jocelyn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2012, 5:23 PM",
          "AuthorName": "Jocelyn Ireson-Paine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1408391&course=5",
          "role": [
            "Picture of Jocelyn Ireson-Paine"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: For calling moodle_role_assign, how do I get the IDs of existing roles and contexts?",
          "Text": "Hi Jocelyn, I'll recommend to write your own web service function to get role id. You also can retrieve all course participants with core_enrol_get_enrolled_users(). This function returns the roles of the participants.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 9, 2012, 10:56 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 193294,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=193294",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Problems when creating custom webservice",
          "Text": "Hi, I'm getting a lot of problems while creating my custom webservice. The main problem I'm having is at the time I'm deleting the webservice folder (located on \"local\" folder as I read on the documentation) it seems that Moodle doesn't completely delete all files from my webservice and then affects all the other webservices with this problem: \"Can not find file with external function implementation\". Is there any method to delete safely these custom webservices? Also, Is there any way that I can update my function code of the custom and Moodle detects that update? Sorry for my english.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 5, 2012, 2:29 AM",
          "AuthorName": "Ivan Aibar Romero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1394942&course=5",
          "role": [
            "Picture of Ivan Aibar Romero"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problems when creating custom webservice",
          "Text": "Hi Ivan, try to delete the plugin properly from Admin > Plugins > Local plugins > Manage local plugins. I would expect the uninstall process to delete the web service functions from the database . However if uninstalling the plugin from the admin still cause the error then write a tracker issue , it's a bug. If you just want to remove the web service functions from a plugin, then you must bump the version.php of your plugin. It will trigger the upgrade process that will update Moodle web service functions (i.e. delete your previously existing local web service functions from Moodle database). Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2012, 4:28 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 193008,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=193008",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Patrick Pollet [Update Course WebServices OkTech)",
          "Text": "Hello patrick I hope you are well. I'm trying to update a course through the webservices but not I update it. idnumber = \" CBP5567978 \" [ category, fullname , shortname ] are variables that contain values The way I am following is this: courseDatum courseDatum _editCoursesInput = new courseDatum (); _editCoursesInput.action = \"add\" ; _editCoursesInput.idnumber = idnumber ;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 29, 2011, 5:34 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 192210,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=192210",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Deprecating username/password (simple) web service authentication?",
          "Text": "Hi, I'm wondering if anyone is still using the username/password web service authentication, also known as \"simple\" authentication ? The username/password web service authentication is intended for integration with student information systems or other enterprise software: http://docs.moodle.org/dev/External_services_security#Simplified_web_services . With the token ws authentication you can do everything. With the username/password ws authentication you can not make a call as a web user. Moreover there are known issues with the username/password ws authentication as: no JSON support, no download support, no upload support... I would prefer to see Moodle dev focussed on polishing the token authentication and developping a cool oauth (2?) authentication, than fixing the simple authentication which seem redundant anyway. Any thoughts?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 13, 2011, 12:36 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Deprecating username/password (simple) web service authentication?",
          "Text": "Hi Jerome, I am currently looking into porting Lightwork Marking application's webservices from OKTech to Moodle's builtin one. I am wondering what is the best strategy for managing/using the token based authentication? We have a few institutions which have hundreds of Lightwork users; it would seem creating token for each user and managing roles for them are a bit tedious. Since I am new at Moodle webservice, please forgive my ignorant. With the somewhat static token, wouldn't that be a security issue? I noticed you mentioned something about sending user/password for every webservice call in the Tracker. Current Lightwork OKTech webservice implementation, there is a login webservice call which takes the user/password and return a session key that can be used for subsequent webservices calls. Of course it add complexity of maintaining the sessions on the server side.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 19, 2011, 5:01 AM",
          "AuthorName": "Wirianto Djunaidi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=878357&course=5",
          "role": [
            "Picture of Wirianto Djunaidi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deprecating username/password (simple) web service authentication?",
          "Text": "Hi Wirianto, For the the token authentication, you can find more information there: http://docs.moodle.org/22/en/How_to_create_and_enable_a_web_service Basically what you want to do is: * create a 'not restricted' service (Admin > Plugins > Web service > Manage services) * assign moodle/webservice:createtoken capability to all the user accessing this service. All users with this capability are able to generate token automatically. Your ws client can retrieve the token calling the file login/token.php with the username/password. About token versus session key Expecting that the \"session\" key is not a real Moodle one (so no 'bad link' can be sent to the user), \"session\" key and token are a bit the same things. The difference I can see being: - For token the client don't need to store the username/password, and the password is sent only once (not every time a user start his app). - For the 'session' key, the good thing being that the if the session is stolen, the hacker will just have a limited time to use it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 19, 2011, 11:32 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 191877,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=191877",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "error webservice",
          "Text": "Hola, estoy probando el hello_world, xmlrpc, me sale este error: \n```text\n<b>Fatal error</b>:  Call to undefined function  xmlrpc_encode_request() in <b>/midominio/moodle/webservice/xmlrpc/client/client.php</b> on line <b>39</b>\n\n\n\n\nclient.php:\n\n\n$token = 'mitoken';\n\n\n$domainname = 'midominio';\n\n\n\n\n/// FUNCTION NAME\n\n\n$functionname = 'local_wstemplate_hello_world';\n\n\n\n\n/// PARAMETERS\n\n\n$welcomemsg = 'Hello, ';\n\n\n\n\n///// \nXML\n-RPC CALL\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 7, 2011, 7:34 PM",
          "AuthorName": "albert trabal arroyo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1402058&course=5",
          "role": [
            "Picture of albert trabal arroyo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 191407,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=191407",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Is there any way to retrieve the user's ID with only the token?",
          "Text": "Hi, Is there any way to retrieve the user's ID with only the user's token?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 1, 2011, 2:20 AM",
          "AuthorName": "Ivan Aibar Romero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1394942&course=5",
          "role": [
            "Picture of Ivan Aibar Romero"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is there any way to retrieve the user's ID with only the token?",
          "Text": "Hi Ivan, core_webservice_get_site_info() (Moodle 2.2 - in 2.1 the function is called core_webservice_get_siteinfo) will return the user id of the token's user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 1, 2011, 12:21 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Is there any way to retrieve the user's ID with only the token?",
          "Text": "Thank you so much! Maybe I'm wrong but it's a bit confusing that this function has as it's parameter a list of services' shortnames instead of a list of tokens' users.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 1, 2011, 11:56 PM",
          "AuthorName": "Ivan Aibar Romero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1394942&course=5",
          "role": [
            "Picture of Ivan Aibar Romero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Is there any way to retrieve the user's ID with only the token?",
          "Text": "Hi Ivan, since 2.2 the parameter shortnames has been deprecated. it still exists for backward compatibility but only the wstoken is checked to get the user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 2, 2011, 9:50 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 191312,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=191312",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Assign rol globals to user with webservices Oktech",
          "Text": "Good afternoon I hope are well . That way I can assign a user to a global role called oktech organization using webservices ? Can you please help me ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 30, 2011, 1:47 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 190966,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=190966",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Assign Role to User",
          "Text": "I hope you are well. I need your help, can you please tell me how a user is assigned a using the webservices role . I was doing this: enrolRecord enrolRecord role = new enrolRecord (); rol.userid = \" GR67\"; rol.enrol = \" Student- Company\"; But the user is assigned to the role. Chances are you are doing something wrong. Can you please help me ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 24, 2011, 11:17 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Assign Role to User",
          "Text": "Hi Nelson, Following URL can help you to setup webservices. http://docs.moodle.org/20/en/How_to_create_and_enable_a_web_service http://www.joomdle.com/wiki/Preparing_Moodle_20#Setting_up_Moodle_Web_services Cheers Netram Dhakar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 24, 2011, 1:15 PM",
          "AuthorName": "Netram Dhakar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616001&course=5",
          "role": [
            "Picture of Netram Dhakar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Assign Role to User",
          "Text": "Hi Netram, interesting joomdle doc, I'll add a link to Moodledocs",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, November 24, 2011, 3:11 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Assign Role to User",
          "Text": "Okey Cheers Netram Dhakar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 24, 2011, 4:12 PM",
          "AuthorName": "Netram Dhakar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616001&course=5",
          "role": [
            "Picture of Netram Dhakar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Assign Role to User",
          "Text": "hello Netram Dhakar Thank you very much for answering , I'm really new at this and I am implementing the webservices oktech . It managed to create users, create categories, adding courses to moodle. But not as assigning a user to a specific role in Moodle . Can you please help me ? I utlizando programming language C # . Net or any idea in java .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 25, 2011, 4:15 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Assign Role to User",
          "Text": "Hi Nelson, can you tell me which version of moodle you are using. In moodle2.0.x there is already a webservice function to assign role in moodle courses named as \"moodle_role_assign\". If you are using moodle1.9.x then you can wright a new webservice function to assignment With the help of following URL http://docs.moodle.org/dev/Creating_a_web_service_and_a_web_service_function thanks Netram Dhakar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 25, 2011, 2:26 PM",
          "AuthorName": "Netram Dhakar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616001&course=5",
          "role": [
            "Picture of Netram Dhakar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Assign Role to User",
          "Text": "@Nelson, In OKTech ws there are many oprations to assign/remove role to users into courses such as : function affect_user_to_course($client, $sesskey, $userid, $courseid, $rolename) function remove_user_from_course($client, $sesskey, $userid, $courseid, $rolename) these two functions expects a Moodle userid, a Moodle course id and a role shortname (teacher,student, editingteacher...) for the three legacy roles you can also use public function add_student($client,$sesskey,$courseid,$courseidfield,$userid,$useridfield) public function remove_student($client,$sesskey,$courseid,$courseidfield,$userid,$useridfield) public function add_teacher($client,$sesskey,$courseid,$courseidfield,$userid,$useridfield) public function add_noneditingteacher($client,$sesskey,$courseid,$courseidfield,$userid,$useridfield) ... that expects a couple of values to uniquely identify the course (by id, idnumber or shortname) and the target user (by username,id,idnumer or email) such as : add_student(client,sesskey,'chem101','idnumber','jdoe','username') or remove_teacher(client,sesskey,'12345','idnumber','jdoe@somewhere.com','email') ... all these functions returns an affectRecord()  with a boolean status and an eventual error message. see the javadoc here : http://prope.insa-lyon.fr/~ppollet/moodlews/java/javadoc2/fr/insa_lyon/prope/moodle_195/wspp/wsdl2/Mdl_soapserverBindingStub.html to get sample code in java see http://docs.moodle.org/dev/Web_Services:OK_Tech_Web_Services#Writing_a_client_in_Java for use with many java libraries such as Axis 1.4, Ksoap2 or Gson. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 25, 2011, 5:42 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "assign roles globals to user with oktech",
          "Text": "Patrick good morning hope you are well. Excellent your answer helped me a lot. But there is one detail , I need to create a user with webservices allow me to assign roles oktech global- Can you please auydarme that?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 29, 2011, 11:13 PM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 182471,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=182471",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Function parameters",
          "Text": "Hi, I'm totally new to Moodle but need to integrate it with a new website, I've been given a list of functions that we need to use, but I have no idea what the parameters for the functions are nor can I find any documentation on the functions. Does anyone know where/how I can find these out?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 3, 2011, 8:19 PM",
          "AuthorName": "Richard Hayes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1347416&course=5",
          "role": [
            "Picture of Richard Hayes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Function parameters",
          "Text": "Which of the webservice functions (REST, SOAP, XML -RPC...ect) are you going to use? I use the REST api and if you send me the functions you need to use I can share with you what I have written so far. For looking at what the parameters will be for the functions, for course related functions go to moodle/course/externallib.php in your moodle directory. same for user/externallib.php and enrol/externallib.php. In those files are the functions params, definitions, and returns. If you are going to write your own functions, moodle/lib/db/services.php is another place to create references for adding the functions to moodle. Richard Gillette www.omnibond.com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 4, 2011, 10:33 AM",
          "AuthorName": "RICHARD gillette",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1326363&course=5",
          "role": [
            "Picture of RICHARD gillette"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Function parameters",
          "Text": "Hi Richard, Thanks for your response. The functions I need to use are: moodle_enrol_manual_enrol_users moodle_user_create_users moodle_role_assign I'm using XML -RPC which I happy to use so all I'm after is the parameters for each function and I should be good to go. If you do have these then great, if not I'll get the company to send their moodle dir over so I can trawl through that. Many thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 4, 2011, 3:59 PM",
          "AuthorName": "Richard Hayes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1347416&course=5",
          "role": [
            "Picture of Richard Hayes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Function parameters",
          "Text": "I do not know how xml-rpc works but it should be very similar. I use an LWP agent to post the following for create users in perl with the REST api. my $params = { 'wstoken' => $token, 'wsfunction' => 'moodle_user_create_users', 'users[0][username]' => $self->username, 'users[0][firstname]' => $self->firstname, 'users[0][lastname]' => $self->lastname, 'users[0][email]' => $self->email,                                                                      so on and so forth } the $url looks something like 'http://moodleserver/webservice/rest/ server .php' yours will most likely be 'http://moodleserver/webservice/XML-RPC/server.php' the LWP post then goes - $response = $userAgent->post($url, $params); and your can print $response->content to see what you get back or just do a check for $response->is_success or !$response->is_success. for enrol users my params look like $params = { 'wstoken' => $token, 'wsfunction' => 'moodle_enrol_manual_enrol_users', 'enrolments[0][roleid]' => $self->userid, 'enrolments[0][courseid]' => $self->courseid, 'enrolments[0][roleid]' => $self->roleid, } where roleid is the id of the role such as Student = 5, Teacher = 8 or whatever. You can also go into the functions and change the parameters that they accept. I have made delete courses by shortname and id, get users by id and username, enrol users by coursename and username, ect and am in the process of posting them to the dev forums in several tickets. I have not used role_assign but looking at the params it takes in enrol/manual/externallib.php I am going to guess it will be 'assignments[0][roleid]' => \"38\",  #all of these should be ints unless you 'assignments[0][userid]' => \"15\",    # change the function 'assignments[0][contextid]' => \"15\", Let me know if I can help any other way, I hope these work for XML-RPC too as well as they do for REST Richard Gillette www.omnibond.com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 4, 2011, 10:28 PM",
          "AuthorName": "RICHARD gillette",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1326363&course=5",
          "role": [
            "Picture of RICHARD gillette"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Function parameters",
          "Text": "Hi, to write a web service client there is a Wiki documentation that can help you: http://docs.moodle.org/dev/Creating_a_web_service_client To know about web service API documentation, there is a way if you follow the description of this issue: MDL-28650 This issue already has a full working patch, there is just a little issue with the crumbtrail. So if you cherry-pick the patch with git , you can go on Admin block > Plugins > Web services > Manage Service and a \"View full API\" link should be available (functions parameters, return values...).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 10, 2011, 9:50 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Function parameters",
          "Text": "Hi guys, Just wondering what the easiest way is to to view all the parameters a function can take. I am building a rest client. I have no link to manage service in my Moodle. Regards, Josh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 26, 2011, 3:01 AM",
          "AuthorName": "Josh Jones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1399490&course=5",
          "role": [
            "Picture of Josh Jones"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Function parameters",
          "Text": "Hi Josh, if you don't have access to the Moodle admin, you can try to install your own Moodle site and as admin check Administration > Plugins > Web services > API documentation. You'll see at least the core functions description. Otherwise the Moodle admin enables the mobile documentation (Administration > Plugins > Web services > Manage service). Then connect into the Moodle site as a ws user (meaning that the admin gave you the capability to create a token 'moodle/webservice/createtoken' on system context or the admin manually created a token for you.). Then you'll find the documentation in your security keys page (My profiles > Security Keys if I remember, look in your menu if it's not that). That's the only two solutions to know the API if you don't have admin access into the Moodle site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 28, 2011, 11:41 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Function parameters",
          "Text": "```text\nHi Jerome,\n```\n \n```text\nI managed to find the API, but I can only perform tasks that get information from a \ndatabase\n none that can edit information, such as create user, below are my parameters, I am using a zend HTTP client to make the transaction.\n```\n \n```text\n'wsfunction' => 'moodle_user_create_users',\n\n\n'wstoken' => '360163d2f8f376ae7b7f8bb7bd2cc4a0',\n\n\n'username' => 'testusername1',\n\n\n'password' => 'Testpassword1#',\n\n\n'firstname' => 'billy',\n\n\n'lastname' => 'bobby',\n\n\n'email' => 'testemail1@moodle.com',\n\n\n'auth' => 'manual',\n\n\n'idnumber' => '',\n\n\n'lang' => 'en',\n\n\n'theme' => 'standard',\n\n\n'timezone' => '-12.5',\n\n\n'description' => 'Hello World!',\n\n\n'city' => 'testcity1',\n\n\n'country' => 'au',\n```\n \n```text\nThank you for your time appreciate it.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 28, 2011, 9:09 PM",
          "AuthorName": "Josh Jones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1399490&course=5",
          "role": [
            "Picture of Josh Jones"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Function parameters",
          "Text": "Hi Richard, Could you please let me know what the $self variable is that you declare? and what the structure  'users[0][username]' => $self->username, means? Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 26, 2011, 3:23 AM",
          "AuthorName": "Josh Jones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1399490&course=5",
          "role": [
            "Picture of Josh Jones"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 191195,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=191195",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "HTML5 app using webservices via AJAX sample",
          "Text": "See this post http://moodle.org/mod/forum/discuss.php?d=191144 for a sample HTML5 app using WebServices via AJAX Technologies: HTML5 + jQuery + jQueryMobile + Phonegap Hope this helps",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 28, 2011, 7:05 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 190903,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=190903",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Error when calling moodle_user_create_users",
          "Text": "Hi, when calling moodle_user_create_users, I'm getting the following error (I added a print_r before throwing the exception - otherwise no details are shown) : Potential coding error - active database transaction detected when disposing database: * line 107 of \\user\\externallib.php: call to moodle_database->start_delegated_transaction() * line 17 of \\webservice\\lib.php(869) : eval()'d code: call to moodle_user_external::create_users() * line ? of unknownfile: call to webservices_virtual_class_000000->moodle_user_create_users() * line 232 of \\lib\\zend\\Zend\\ Server \\Abstract.php: call to call_user_func_array() * line 599 of \\lib\\zend\\Zend\\XmlRpc\\Server.php: call to Zend_Server_Abstract->_dispatch() * line 337 of \\lib\\zend\\Zend\\XmlRpc\\Server.php: call to Zend_XmlRpc_Server->_handle() * line 772 of \\webservice\\lib.php: call to Zend_XmlRpc_Server->handle() * line 38 of \\webservice\\xmlrpc\\server.php: call to webservice_zend_server->run() ) exception 'Zend_XmlRpc_Client_HttpException' with message 'Server Error' in C:\\inetpub\\vhosts\\medicmonthly.com\\subdomains\\dev.moodle\\httpdocs\\lib\\zend\\Zend\\XmlRpc\\Client.php:288 Any ideas on what is wrong ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 23, 2011, 9:02 PM",
          "AuthorName": "John Bailey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1374449&course=5",
          "role": [
            "Picture of John Bailey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error when calling moodle_user_create_users",
          "Text": "Hi John John, what's your line 107 of \\user\\externallib.php ? Can you check if you don't have any thrown exceptions before this one?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 24, 2011, 10:10 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error when calling moodle_user_create_users",
          "Text": "$transaction = $DB->start_delegated_transaction(); I'm using Moodle 2.1.1+",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 26, 2011, 3:57 PM",
          "AuthorName": "John Bailey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1374449&course=5",
          "role": [
            "Picture of John Bailey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error when calling moodle_user_create_users",
          "Text": "Hi John, - check that you Moodle database is innoDB. Web service should not be used with MyIsam database (MyIsam does not support DB transactions). If your database is MyIsam web service call are dangereous as if you call a ws function expecting to rollback, it will not work and you could rubbish your database. - try to develop with the latest master ( https://github.com/moodle/moodle ) if you can, you'll save yourself of a lot of headache. There are major improvement in 2.2 that helps the ws developer (better error messages on description error). - For quick look, it seems to me that you're have a transaction rollback after an exception thrown somewhere during the code. Try to track down the line display error_log(print_r('helloX', true)); between: * $transaction = $DB->start_delegated_transaction(); * $transaction->allow_commit(); Note that usually you should have another error message in case of rollback...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 28, 2011, 12:01 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 190596,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=190596",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "moodle_file_upload not present in mobile service",
          "Text": "Hi,\n\nthis is a question for the iphone mobile app developers\n\nI don't know if this is a stupid question but..\n\nhow can you call the moodle_file_upload service from an iphone if this function is not present in the mobile service?\n\nAs I can see in a standar installation this function is not present in the service\n\nRegards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 19, 2011, 12:08 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: moodle_file_upload not present in mobile service",
          "Text": "Hi Juan, we upload the files with webservice/upload.php. I don't know much about it yet too I've just talked with Dongsheng, we'll create soon a page about web service file handling in the developer documentation. Thank you for your question, I'll post a link once the doc is done. Cheers, Jerome",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, November 23, 2011, 1:20 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: moodle_file_upload not present in mobile service",
          "Text": "Hi Juan, we finished to write a web service file handling doc with some code examples: http://docs.moodle.org/dev/Web_services_files_handling Additional info: we'll integrate MDL-30459 soon. This small fix displays a much more comprehensive error message when the file name already exists in the \"folder\" (file area + path). Also note that in this issue I wrote some option to support automatic rename when the \"filename already exists\" error occurs. However it seems that there is no real need for that, so I didn't commit. If someone thinks it's actually useful, write a new issue with a link to MDL-30459 and I'll commit it. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 25, 2011, 3:29 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 188989,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=188989",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Webservices Oktech Exception Error \"Add New Course\"",
          "Text": "```text\nHi all\n\n\nI'm about to\n \nak\n \nbecause I have a\n \ngreat doubt,\n \nhope can\n \nhelp me.\n\n\n\n\nI'm trying\n \nthe following code\n \nto\n add\n \na new course\n \nusing the\n \nwebservices.\n```\n \n```text\n editCoursesInput _editCoursesInput = new editCoursesInput();\n\n\n        _editCoursesInput.courses = new courseDatum[1];\n\n\n        _editCoursesInput.courses[0] = new courseDatum();\n\n\n        _editCoursesInput.courses[0].action = \"Add\";\n\n\n        _editCoursesInput.courses[0].category = 1;\n\n\n        _editCoursesInput.courses[0].fullname = \"PRUEBA curso\";\n\n\n        _editCoursesInput.courses[0].shortname = \"pruebaCurso\";\n\n\n        _editCoursesInput.courses[0].format = \"week\";\n```\n \n```text\nBut\n \nI get the following\n \nerror:\n\n\n\"\nws_missingvalue\n\"\n\n\n\n\nSpecifically\n \ngives me\n \nthis error\n \nin the line:\n\n\nthrow new\n \nException (\n_editCoursesOutput.courses\n \n[\n0].\n \nerror)\n```\n \n```text\nPlease I need\n \nyour help.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2011, 12:39 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservices Oktech Exception Error \"Add New Course\"",
          "Text": "@Nelson, Since OK Tech WS is crafted to interface Moodle with external information systems, the value of attribute idnumber is REQUIRED for entities created that way such as courses, users, cohorts ... This idnumber is likely to be the only way to later retrieve this entity since you external application does not know about Moodle internal id. So your must provide a non empty value for course's idnumber such as its id used in your university (chem 101, CS 502...). Cheers. edit : normally the error message should have been more explicit that ws_missingvalue... something like 'required value for idnumber is missing' ; so I suspect that you did not installed OK Tech WS properly (i.e. copying the language files at the appropriate location) or if not available copy at least the english version.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2011, 2:14 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices Oktech Exception Error \"Add New Course\"",
          "Text": "Brother Patrick Pollet Thanks so much for all that support, or more perfect truth that your resppuesta . Just to get solved. Important: I am new to this, and I have been gradually solved using c # . Net , when you refer me to the language files . , Where to download it? Where should I put ? I really thank you very much brother again , I expect your valuable reply ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2011, 2:47 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices Oktech Exception Error \"Add New Course\"",
          "Text": "When installing the server part of OK tech WS on your Moodle server, see the language related instructions in file INSTALL. Note that they are different under Moodle 1.9 and 2.0. Cheers. Edit : if your language is not present (ie folders wspp/lang/sp_utf8 in moodle 1.9 or local/wspp/lang/sp in Moodle 2.0), create them by cloning the french or english version  .Later on your could translate these files yourself.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 27, 2011, 7:05 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices Oktech Exception Error \"Add New Course\"",
          "Text": "Hi Patrick Pollet I hope you are well. I need your help, can you please tell me how a user is assigned a using the webservices role . I was doing this: enrolRecord enrolRecord role = new enrolRecord (); rol.userid = \" GR67 \"; rol.enrol = \" Student- Company\" ; But the user is assigned to the role. Chances are you are doing something wrong. Can you please help me ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 24, 2011, 10:01 AM",
          "AuthorName": "Nelson Gomez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337413&course=5",
          "role": [
            "Picture of Nelson Gomez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 190739,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=190739",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "\"moodle_user_get_users_by_id\" Parameters problem",
          "Text": "Hi! I'm developing an Android app and when I retrieve all the data that the webservice have sent to me, the parameter \"email\" is always null except when i retrieve the data from the admin (prety weird). Any way to solve that problem? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 22, 2011, 2:46 AM",
          "AuthorName": "Ivan Aibar Romero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1394942&course=5",
          "role": [
            "Picture of Ivan Aibar Romero"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"moodle_user_get_users_by_id\" Parameters problem",
          "Text": "Hi Ivan, the web service function matches Moodle permission . So if your user is not able to see a user email in Moodle, the web service function will not return it too. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 22, 2011, 10:24 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"moodle_user_get_users_by_id\" Parameters problem",
          "Text": "But I can see every user's email in Moodle. Even I create users with the \"moodle_user_create_users\" (email required to create a user). Maybe I do something wrong, but it's pretty weird that I can retrieve every parameter except the email.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 22, 2011, 5:59 PM",
          "AuthorName": "Ivan Aibar Romero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1394942&course=5",
          "role": [
            "Picture of Ivan Aibar Romero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"moodle_user_get_users_by_id\" Parameters problem",
          "Text": "Hi Ivan, you have to investigate the following function in moodle/user/externallib.php for return parametrers public static function get_users_by_id($userids) from line no. 382 to 290 Cheers Netram Dhakar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 22, 2011, 8:16 PM",
          "AuthorName": "Netram Dhakar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616001&course=5",
          "role": [
            "Picture of Netram Dhakar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"moodle_user_get_users_by_id\" Parameters problem",
          "Text": "Hi Ivan, for the following actions: a) see your own email b) see other course participant's email c) see other user's email a) should be no problem as in Moodle anybody can see his email (by default). If it is, you can file a bug in the tracker. b) and c) would depend of the capabilities. You most likely needs 'moodle/course:useremail' capability. But to summarize, if you can see someone else email in Moodle and not retrieve it by web service, then the web service function is buggy. In this case you can also write an issue. When you file a tracker issue explain: * what role (if you use a default one) you have * what page you see someone else's email in Moodle * what web service function is buggy (here moodle_user_get_users_by_id) More info: - an admin will always see other email's user. - try get_course_user_profiles() to see other participant's email. I just checked the code and moodle_user_get_users_by_id() doesn't request a courseid. It means that you can not retrieve a course profile with this function. In Moodle you can retrieve system progfile or course specific profile. I think the name of this function (moodle_user_get_users_by_id) is not really appropriate.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 22, 2011, 9:02 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"moodle_user_get_users_by_id\" Parameters problem",
          "Text": "Problem solved! Email was only seen by other students (not the admin xD). Need to change that permission. Thank you so much! ;)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 22, 2011, 11:53 PM",
          "AuthorName": "Ivan Aibar Romero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1394942&course=5",
          "role": [
            "Picture of Ivan Aibar Romero"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"moodle_user_get_users_by_id\" Parameters problem",
          "Text": "No worries",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, November 23, 2011, 1:29 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 190573,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=190573",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to access the user details after login",
          "Text": "Hi, I am able to login and sign up through the moodle api but when I do these, I would like to retrieve the user details like id, firstname, email etc. Is there a way to do this through the moodle api. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 18, 2011, 6:38 PM",
          "AuthorName": "john felix",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=742697&course=5",
          "role": [
            "Picture of john felix"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to access the user details after login",
          "Text": "Hi again core_webservice_get_site_info() will return the user id linked to the token, and some other info about the user. However for the user email you will need a second ws call, probably core_user_get_users_by_id().",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, November 23, 2011, 1:27 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 190505,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=190505",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to access the token after user creation.",
          "Text": "Hi, I am able to create the user and login using the moodle api. But after user creation, I am not able to see the external token. Only when I login through moodle website and click on \"Security Keys\", token is getting created. But I am accessing the moodle through an external site, so is there a way that I could create a token through moodle api? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 17, 2011, 2:06 PM",
          "AuthorName": "john felix",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=742697&course=5",
          "role": [
            "Picture of john felix"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to access the token after user creation.",
          "Text": "Hi John, at the moment this feature only exists in 2.2 with a condition. In 2.2 you can generate and retrieve user tokens with login/token.php => http://docs.moodle.org/dev/Creating_a_web_service_client#How_to_get_a_user_token The condition being that the service need a shortname. At the moment a service can have a shortname if you: * create the service as a built-in service (in db/services.php files) * add the shortname manually in the DB. Note: we'll add the admin UI for shortname later ( MDL-30229 ) Just for the info, the file login/token.php exists since 2.1 but can only generate token for the mobile service. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 17, 2011, 2:54 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to access the token after user creation.",
          "Text": "Hi Jerome, Thank you very much for your answer. I downloaded and installed the moodle 2.2 beta, When I completed the settings and tried to do role assignment, I got the following error. I believe it is a code error. \"<? xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?>\\n<EXCEPTION class=\\\"coding_exception\\\">\\n<MESSAGE>Coding error detected, it must be fixed by a programmer: PHP catchable fatal error</MESSAGE>\\n<DEBUGINFO>Argument 1 passed to external_api::clean_returnvalue() must be an instance of external_description, null given, called in /Applications/ MAMP /htdocs/moodle22/webservice/rest/locallib.php on line 88 and defined</DEBUGINFO>\\n</EXCEPTION>\\n\" I tried to assign a student role(5) to the user at the system level(1). I have changed the student role to a system level role already. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 18, 2011, 1:53 PM",
          "AuthorName": "john felix",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=742697&course=5",
          "role": [
            "Picture of john felix"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to access the token after user creation.",
          "Text": "Hi John, can you write a detailled tracker issue about that. I'll have a look. A coding exception into a web service is a bug. Thanks, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 23, 2011, 1:23 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 190049,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=190049",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Login returns 'Invalid Token - token not found'",
          "Text": "Hi, I am trying to login using the moodle api. I am using the following url to login http://localhost:8888/moodle21/login/token.php?username=user&password=password&service=new I have already created the user 'user', service 'new' with no required capability. I have also enabled web services in the plugins. But I am still the same error {\"error\":\"Invalid token - token not found\",\"stacktrace\":null,\"debuginfo\":null,\"reproductionlink\":null}. I am trying to find an answer for this question. Please help me to find the answer for this problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2011, 12:15 PM",
          "AuthorName": "john felix",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=742697&course=5",
          "role": [
            "Picture of john felix"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Login returns 'Invalid Token - token not found'",
          "Text": "See the last message in this post in 2.2, you can retrieve the token with login/token.php: http://docs.moodle.org/dev/Creating_a_web_service_client#How_to_get_a_user_token If I remember in 2.1 you can too, except that if you request a different service than the mobile one, the token needs to already exists. The script will not create a token for the user, even if the user has the capability to do it. This feature has been added since 2.2 (currently there: https://github.com/moodle/moodle/blob/master/login/token.php) .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 11, 2011, 1:01 AM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Login returns 'Invalid Token - token not found'",
          "Text": "This is a bug that I'm about to submit. If you have access to your db, you need to set the 'shortname' field in the '{db_prefix}external_services' table - it doesn't seem to be set on the creation of the webservice, or there's no way to set it in the Edit Webservice page, not at least that I can see. I just ran into the exact same issue today, after setting shortname, I was able to connect and get the proper token back. HTH . blair D.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 22, 2011, 5:21 AM",
          "AuthorName": "Blair Patterson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1355997&course=5",
          "role": [
            "Picture of Blair Patterson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Login returns 'Invalid Token - token not found'",
          "Text": "Hi Blair, there is already an issue for this: MDL-30229 Note that if you create a built-in service (db/services.php files), then you can set the shortname.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 22, 2011, 10:29 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Login returns 'Invalid Token - token not found'",
          "Text": "Thanks Jerome, good to know.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 22, 2011, 10:29 PM",
          "AuthorName": "Blair Patterson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1355997&course=5",
          "role": [
            "Picture of Blair Patterson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 190299,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=190299",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "webservice/pluginfile.php in Moodle 2.2?",
          "Text": "Hi, the current 2.2 version doesn't include the webservice/pluginfile.php Since the QA 2.2 testing starts today.. will be this file available for the 2.2 release? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 14, 2011, 7:16 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: webservice/pluginfile.php in Moodle 2.2?",
          "Text": "Yes we are currently working on it It should make it into 2.2",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, November 14, 2011, 9:24 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 190188,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=190188",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodbile project releases aditional webservices and protocols for Moodle 2.0",
          "Text": "Hi, I just posted this message announcing the release of Moodbile 0.2 beta. Since it has a lot to do with webservices thought to reference it here. I don't want to clutter the forum but let me paste the part I beliebe is relevant for this forum: Moodbile Spec is a specification of (web)services for supporting the integration of external apps with the LMS. The Moodbile Spec(web)services are not bound to a specific Webservices protocol. The Services need to be implemented in the LMS side. Moodbile Server for Moodle - Moodle 2.X plug-in that implements the Moodbile Spec. Current version Moodbile Server for Moodle v0.2 has been tested for Moodle 2.0.5 For support for other Moodle versions check the Moodbile roadmap. Moodbile server for Moodle includes some new webservices connectors (compatibles with the Moodle Webservices Architecture) JSON - AJAX , JSON-P With OAuth Authentication, JSON-RPC, JSON-RPC With OAuth Authentication, REST With Oauth Authentication. While the services sitill work with the current Moodle webservices connectors. Hope it is of interest. Ludo.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 12, 2011, 1:25 AM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 189918,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=189918",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Webservices parameters for \"moodle_user_get_users_by_courseid\" / \"moodle_enrol_get_enrolled_users\"",
          "Text": "Hi all. This is my first post. I'm trying to get the enrolled users in a course using webservices and the REST protocol. I'm programming in python and previously i have used other webservices as get_courses or create_users. The problem is that I can't put well the parameters (I think). <EXCEPTION class=\"webservice_access_exception\"> I looked at the API information, and has required arguments: course and options. Options is a list that includes name and value. 1. What is value? 2. Why must the name? Do not represented that already obtained from the id? Any suggestions ? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 9, 2011, 12:11 AM",
          "AuthorName": "Juan A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1394119&course=5",
          "role": [
            "Picture of Juan A"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservices parameters for \"moodle_user_get_users_by_courseid\" / \"moodle_enrol_get_enrolled_users\"",
          "Text": "Hi Juan, what Moodle version have you got? With the latest version + Moodle debug > NORMAL, the error message gives more clue than just the basic webservice_access_exception. Download the master branch from https://github.com/moodle/moodle . webservice_access_exception is not related to the function, it's more an issue with the user/token authentication. From memory, check: * user has the right protocol capability * ip restriction (on the token or on the restricted user) * web service advanced feature is not enabled * valid date time (on the token or on the restricted user) * service is not enabled * service doesn't contain the function * token doesn't exist Going through http://docs.moodle.org/20/en/How_to_create_and_enable_a_web_service should resolve the access error. Working with the latest web service improvement will save you a lot of time. The access exception is far easier to resolve than an error on the parameters where you really want the last improvement (Moodle tells you what parameter is wrong when Moodle DEBUG mode > NORMAL). Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 9, 2011, 10:59 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 189508,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=189508",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Webservices 2.0 parameters for course and user related functions",
          "Text": "Reviewing the code and documentation of WebServices 2.0 I can see that the only way to operate with users and courses is using the internal database id For example, for get some information about enrolments of a user I need to know him internal id. I can't find a method to obtain  the user internal id by passing him username, email, idnumber How can achieve this? Is there no way to operate with webservices using other ids like the internal id? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 2, 2011, 4:36 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservices 2.0 parameters for course and user related functions",
          "Text": "Dear Juan, I think there aren't a method to obtain user id by username or other parameter. But  you can easily create a new web service method called as example get_user_by_username and do something like this: $users = $DB->get_records('user', $username); foreach ($users as $user) { $userinfo = array(); $userinfo['userid'] = $user->id; return $userinfo; } You should follow the steps to add a new method to a web service (_parameters and _return methods) and add it to services.php. Best regards, Silvia Bastos.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 2, 2011, 7:15 PM",
          "AuthorName": "silvia bastos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337883&course=5",
          "role": [
            "Picture of silvia bastos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices 2.0 parameters for course and user related functions",
          "Text": "or install OK Tech WS in parrallel to Moodle 2.0 WS as described here https://github.com/patrickpollet/moodlews/wiki/Using-oktech-ws-with-moodle-2.0-official-web-service-infrastructure and use some of its web service methods such as get_user_byxxxx Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 2, 2011, 7:26 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices 2.0 parameters for course and user related functions",
          "Text": "Hi Juan, just few more comments, you can look at the roadmap: http://docs.moodle.org/dev/Web_services_Roadmap We'll add a new web service function that should do what you are requesting: core_user_get_users() => MDL-29938 Please vote for it, it makes us know what are the most required functions. I've improved the web service documentation, specially I tried to be less wordy: http://docs.moodle.org/dev/Web_services",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 3, 2011, 11:16 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices 2.0 parameters for course and user related functions",
          "Text": "Thanks all for your quick responses I voted the issue a few seconds ago",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 3, 2011, 4:04 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 189589,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=189589",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web services in Moodle 2.2",
          "Text": "Hi, a little update about web services in Moodle 2.2: Moodle 2.2 will come with many web service improvements. Most of them have already been integrated: MDL-29276 The major ones are: * the web service developer documentation is less wordy and more code oriented: http://docs.moodle.org/dev/Web_services * the web service user documentation has been reduced too: http://docs.moodle.org/20/en/Web_services * more code examples supporting the documentation: demo clients and thrid party web service function template * SOAP and XML -RPC servers return clear error messages when Moodle debug mode >= NORMAL * any error at the web service description level is clearly indicated => which parameter/returned value is wrong, and what was expected. * REST server can return JSON too. * Web service naming convention is clearly defined * An API Roadmap is available: http://docs.moodle.org/dev/Web_services_Roadmap",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 3, 2011, 12:52 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 189296,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=189296",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.0 Web Services",
          "Text": "Hi, I'm new to moodle, Can someone explain to me how to set up and the web services. I I need to create an app which uses as backend Moodle 2.0",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 30, 2011, 4:44 PM",
          "AuthorName": "Mohammad Noorani Bakerally",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1391054&course=5",
          "role": [
            "Picture of Mohammad Noorani Bakerally"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.0 Web Services",
          "Text": "Hi Mohammad, http://docs.moodle.org/20/en/Web_Services is the main wiki page about it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 31, 2011, 10:07 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 Web Services",
          "Text": "Dear Mohammad, Here you can also find some information: http://moodle.org/mod/forum/discuss.php?d=186409&parent=811747",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 31, 2011, 3:08 PM",
          "AuthorName": "silvia bastos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337883&course=5",
          "role": [
            "Picture of silvia bastos"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 188203,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=188203",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Integração de Aplicação .Net com Moodle.",
          "Text": "Olá pessoal. Estou pesquisando sobre formas de como enviar dados para o Moodle de uma aplicação .Net, vocês sabem me dizer se a melhor maneira de reallizar a integração é através de WebServices? Abraços, Paulo Silveira.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 17, 2011, 4:58 AM",
          "AuthorName": "Paulo Ricardo Silveira Júnior",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1385826&course=5",
          "role": [
            "Picture of Paulo Ricardo Silveira Júnior"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Integração de Aplicação .Net com Moodle.",
          "Text": "Hi Paulo, I google translated your message. There is a portuguese forum if you want some help in Portuguese: Moodle em Português For your question, I never wrote any .Net web service clients. I guess something like the JAVA - JSON or JAVA-XMLRPC demo client could be a good starting point https://github.com/moodlehq/sample-ws-clients . JAVA is pretty similar to .NET. Otherwise there are some information about how to set up Moodle for web service there: http://docs.moodle.org/20/en/Web_Services Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 17, 2011, 10:44 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Integração de Aplicação .Net com Moodle.",
          "Text": "Thanks for the feedback .",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Sunday, October 23, 2011, 2:10 AM",
          "AuthorName": "Paulo Ricardo Silveira Júnior",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1385826&course=5",
          "role": [
            "Picture of Paulo Ricardo Silveira Júnior"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 185030,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=185030",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Web service 2.X Roapmap",
          "Text": "Hi, some news about web service from HQ: We recently added an easy access to the full API documentation. You need to connect as admin and go to Block Admin > Plugins > Web services > API Documentation. All your web service functions (enabled or not) are listed. We also wrote a Web Service API Roadmap, to have an idea of the next web service functions that will be implemented: http://docs.moodle.org/dev/Web_services_Roadmap We also looked at the most common issues reported in the forum and decided to work in the next weeks on the following points: 1- new naming convention (based on the one listed in the Roadmap) - current function will still be working but just marked as deprecated. 2- Making \"Access control exception\" more explicit when debug mode is set to developer on the server . 3- Making the exception message  of \"invalid return value\" more explicit too - at least knowing which attribut of the return value is concerned. 4- Deliver  PHP - SOAP/XMLRPC demo clients in a zip that don't require Moodle to be run. Rewrite the client documentation using these clients. 5- Making the REST server return JSON values if the new \"alt\" param is set to \"json\". Otherwise the REST server still keep returning the current XML . 6- Deliver PHP/ JAVASCRIPT / JAVA - REST-JSON demo clients in a zip that don't require Moodle to be run. Rewrite the client documentation using these clients. Of course we'll also fix the current reported issues. The most important ones: MDL-28670 , MDL-28629 , MDL-28436 , MDL-28126 , MDL-25027 Finally we will start to add more of the Roadmap functions, and later we'll tackle the JAVA/.Net SOAP compatibility: MDL-28988 . Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 7, 2011, 11:15 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service 2.X Roapmap",
          "Text": "You can follow all the improvement implementation status in MDL-29276",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 8, 2011, 3:38 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service 2.X Roapmap",
          "Text": "Hi Jerome, thanks for this interesting update. I noticed you are planning as \"must be implemented\"  enrol_cohort_create() and enrol_cohort_delete(), which are really interesting. I suppose those functions will be able to create cohort enrollment plugin instances inside courses, however It would be nice to know if there are plan also to add functions for creating/deleting cohort in different contexts and add/remove users from cohorts.  There are plans about that ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 20, 2011, 10:30 PM",
          "AuthorName": "Andrea Bicciolo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=12568&course=5",
          "role": [
            "Picture of Andrea Bicciolo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service 2.X Roapmap",
          "Text": "Hi Andrea, It's probably a good idea. I don't know much about cohorts though Can you create one tracker issue per function. I will create a main issue for all API functions. I'll convert the already created API function issues as subtask. Cheers, Jerome",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, September 21, 2011, 10:48 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service 2.X Roapmap",
          "Text": "Hi Jerome, thank for your reply, I created the follwing issues in the tracker: MDL-29472 and MDL-29473 . I'll keep you informed when I'll ad more. Cheers, Andrea",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 22, 2011, 4:02 PM",
          "AuthorName": "Andrea Bicciolo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=12568&course=5",
          "role": [
            "Picture of Andrea Bicciolo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service 2.X Roapmap",
          "Text": "Thanks Andrea",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, September 22, 2011, 5:53 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service 2.X Roapmap",
          "Text": "Are there any plans to have services return friendly error messages when something goes wrong? As it stands with the calls, if you try to say, enrol a user that doesn't exist into a course, all you get is an unhelpful exception thrown back at your client. If you're doing any sort of batch call, this is very unhelpful to the system trying to make the calls. It has no idea where and what went wrong. Whereas being able to have a simple status code returned (like 'NOSUCHUSER'), or something similar, makes websvc calls much easier to use. As it stands, to use the core webservices provided, for them to actually be useful in the cases where the integrating system isn't always passing the correct data (non-existant users or courses or whatever other id), we have to wrap them with another call that will catch/filter those errors out and return a sensible response to the requestor. For example, the wrappers I use, if a call can return exceptions in certain instances, these are instead translated into an error array returned with the rest of the data (if any). 'courses' => array('field1' => 'blah', 'field2' => 'blah2), 'errors' => array(array('errormsg' => \"Thing X doesnt exist in Y\", 'errorcode' => 'NOSUCHBLAH'), array('errormsg' => \"Thing Z doesnt exist in Y\", 'errorcode' => 'NOSUCHBLAH') ); EDIT: I notice some work has been done with making the exceptions more explicit. This is great to see. One question is, when doing a batch call (like create_users) do we want to abandon the whole set of data just because one of the users couldn't be created?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 14, 2011, 7:10 AM",
          "AuthorName": "Adam Olley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1316828&course=5",
          "role": [
            "Picture of Adam Olley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service 2.X Roapmap",
          "Text": "Hi Adam, as you noticed, two issues (you can already cherry-pick them) will help you to display more information : * MDL-29435 (return debug information for SOAP/XMLRPC server) * MDL-29277 (return the path of the value being faulty when the error is about a parameters or a return value not matching the function description) I also understand you concern about bulk functions that stop the execution when one \"element\" is faulty. I've just wrote an issue for that ( MDL-29776 ) and I'll put it in the list to improve. Thanks for your report.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 14, 2011, 11:17 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 187822,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=187822",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "[Third party dev] Fix your third party web services",
          "Text": "Hi, if you created some third party web services and that you have been using a REST client only , then your web service functions could be incorrect. The REST server was till now too indulgent with the return values. The REST server will be fixed to validate return values against the web service description. It means the fix will break REST clients calling third party web service functions that return: incomplete values (missing key) Tracker issue: MDL-29459 Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2011, 2:21 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 187459,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=187459",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "HELP \"Choosing Quality Attributes\"",
          "Text": "Hello, can someone help me to choose quality attributes from our component that i have for moodle? here all the components : Interactive slot, course manager, participant manager, group access control, content manager, display controller, user preferences loader, user activity log, authorization controller, user account manager, authorization channel, user bulk loader, roles access manager The quality attributes are Security Availability Usability i need and i want to know which components need to be include in security, availability and usability.. (thats for AHP calculation) for example (i dont know this is true or false, just for example) security, components need to include are : authorization, user acc manager, etc... and why this component include in security?? can some1 help me? pleaseee",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 6, 2011, 11:41 AM",
          "AuthorName": "Fin Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1381153&course=5",
          "role": [
            "Picture of Fin Lee"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 187050,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=187050",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "How to add extra fields to a course",
          "Text": "Hi, I am creating courses using SOAP functionality, using which I can send only pre-defined parameters to soap call. But I want to add extra fields to a course like place,deadline. How to add extra fields to a category and how is possible using SOAP call. Please help. Thanks Rajesh Pabbu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2011, 4:40 PM",
          "AuthorName": "Rajesh Pabbu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1348572&course=5",
          "role": [
            "Picture of Rajesh Pabbu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to add extra fields to a course",
          "Text": "Dear Rajesh, Course formats only configure the view of the existing data.  SOAP technology is a web service, so I would recommend posting your question in the 'Web Services' forum for a more qualified answer. Cheers, Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 1, 2011, 12:57 AM",
          "AuthorName": "Gareth J Barnard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=442195&course=5",
          "role": [
            "Picture of Gareth J Barnard",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to add extra fields to a course",
          "Text": "This discussion has been moved as suggested by Gareth! atw",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 4, 2011, 1:05 AM",
          "AuthorName": "A. T. Wyatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=63444&course=5",
          "role": [
            "Picture of A. T. Wyatt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to add extra fields to a course",
          "Text": "Dear Rajesh, I think your problem has two parts: 1st one: Modify the \"course\" block to add the new fields, this include to modify the database (table mld_course) and the graphic part. 2nd one: Modify the SOAP call (web service) to add the new parameters at /course/externallib.php methods: create_courses_parametes: by adding the new fields create_courses: I think Isn't necessary to modify this method, but you must review it I aren't a moodle expert, but I think this is a hard task because this affect a lot of other modules. Good Luck, Silvia.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 4, 2011, 2:31 PM",
          "AuthorName": "silvia bastos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337883&course=5",
          "role": [
            "Picture of silvia bastos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to add extra fields to a course",
          "Text": "Dear Silvia, Thanks for your replay. The soulution given by you is correct. Thanks alot. Thanks, Rajesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 4, 2011, 7:02 PM",
          "AuthorName": "Rajesh Pabbu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1348572&course=5",
          "role": [
            "Picture of Rajesh Pabbu"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 187131,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=187131",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Looking for roadmap on implementation of assignment upload & gradebook population web services",
          "Text": "Lightwork has created their own web servicces into Moodle 1.9 to allow lecturers to download a class of assignments, mark them offline and then upload the marked assignments and feedback files and populate the gradebook. http://lightwork.massey.ac.nz/wiki/fat/Lightwork_Moodle_web_services or see http://lightworkmarking.org/screenRecordings.asp for some screen recordings I gather that similar web services will be implemented in core Moodle 2.x Does anyone know where I can start to see information on the planned functionality and timeline? Thanks in advance for any assistance, Peter Evans eMarking Assistant: helping teachers grade electronic assignments",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 2, 2011, 7:42 AM",
          "AuthorName": "Peter Evans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=812715&course=5",
          "role": [
            "Picture of Peter Evans"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Looking for roadmap on implementation of assignment upload & gradebook population web services",
          "Text": "Hi Peter, You can see this information at http://lightwork.massey.ac.nz/projects/roadmap/fat . The first version of Lightwork that can be used with Moodle 2 will be version 3.1.1. Thanks, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 3, 2011, 4:11 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 186409,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=186409",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "More API Methods ?",
          "Text": "Hi, I'm trying to use Moodle for my students that will take SCORM and SCORM 2004 courses. I have 4 methods that I need to implement from my application to comunicate with Moodle : \n```text\nRegisterUserForLMSCourse - moodle_enrol_manual_enrol_users\n\n\nCreateLMSUserFromStudent - moodle_user_create_users\n\n\nGetCourseCompletionStatus - ??? /*somethign to know if the course is incomplete, failed, complete, score ... etc */\n\n\nRemoveLMSStudentCourse - ??? /* the oposite of enroll */\n```\n Now, above is what I found and thought I could use, but what about the other 2 methods ? Their name is descriptive I think. Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 23, 2011, 7:55 PM",
          "AuthorName": "John Bailey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1374449&course=5",
          "role": [
            "Picture of John Bailey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: More API Methods ?",
          "Text": "john, i'm not sure about existing functions in the api, so someone else might be better suited to tell you if these sorts of things exist. having said that, know that if it doesnt exist, the api's capability can be extended by a programmer to access any function that moodle uses internally. to do this though, demands a bit of experience, and it should be tested before rolling it out. hope that gets you started. cheers, ray",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 24, 2011, 12:06 AM",
          "AuthorName": "Tony Hatfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1326712&course=5",
          "role": [
            "Picture of Tony Hatfield"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: More API Methods ?",
          "Text": "Dear John, The funcitons available for each module are described here. / server /moodle/lib/db/services.php Also you can see this services if you go to Site \"Administration->plugins->Web services->External services->Add\" and add a test Web service, then \"Add functions\" and you can see all available web services functions. Best regards, Silvia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 26, 2011, 2:37 PM",
          "AuthorName": "silvia bastos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337883&course=5",
          "role": [
            "Picture of silvia bastos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: More API Methods ?",
          "Text": "Well.. I don't need to find the list, as I said in my original post I already identified 2 functions that are helpfull, but I'm asking about the other 2 functions .. what can I map them to ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 27, 2011, 9:13 PM",
          "AuthorName": "John Bailey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1374449&course=5",
          "role": [
            "Picture of John Bailey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: More API Methods ?",
          "Text": "Can you point me to some documentation about how I could do that ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 27, 2011, 9:14 PM",
          "AuthorName": "John Bailey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1374449&course=5",
          "role": [
            "Picture of John Bailey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: More API Methods ?",
          "Text": "Dear John, You can find some information at: http://docs.moodle.org/dev/Creating_a_web_service_and_a_web_service_function This is the one I use when I started, but, It was hard to me, and take me some hours to make a simple function to work. Summarizing: First you must add your function to /lib/db/services.php Then you must add this function to the externallib.php file (I do it inside scorm/externallib.php but I guess exist somehow to make it in a independent way) You must create the functions for: Parameters Returns Function itself At the end (and this is important and I think the link don't explain it) you should update your moodle version at moodle/version.php and mod/scorm/version.php and click to notifications. This is the method I use. Silvia.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 27, 2011, 10:17 PM",
          "AuthorName": "silvia bastos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337883&course=5",
          "role": [
            "Picture of silvia bastos"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 186305,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=186305",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Web services demo clients",
          "Text": "Hi, I created some web service demo clients: https://github.com/moodlehq/sample-ws-clients I tried to make them very simple: * no complex design patterns * not using Moodle code * using as less external libraries as I could. You are welcome to review them, specially the Java ones. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 22, 2011, 6:03 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web services demo clients",
          "Text": "Dear Jerome, Sorry but I haven't time to test your clients, but I think this is a great job to help people who are starting with Moodle Web-Services. This was very dificult for me due to lack of examples. I'm using JAVA- XML /RPC clients and this code works for me (Repeat, I have not tried yours): String serverurl = domainName + \"/webservice/xmlrpc/ server .php\" + \"?wstoken=\" + token; The only difference with yours is that I don't use: \"&wsfunction=\" + functionName in the serverurl variable. Once more: Thanks for sharing your effort.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 22, 2011, 7:17 PM",
          "AuthorName": "silvia bastos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337883&course=5",
          "role": [
            "Picture of silvia bastos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web services demo clients",
          "Text": "Thanks Silvia",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, September 23, 2011, 11:51 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 186276,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=186276",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Opinion on validating REST-XML return values...",
          "Text": "Audience: Moodle web service developers Hi, at the moment in our web servers if these two conditions are met: * a return value is set to PARAM_XXXX * the externallib.php::methodname() return a value not matching PARAM_XXXX then: * REST- XML will return the value * all other servers will throw an exception (invalid_response_exception) If you are against validating the REST- XML (it seems we are going into the direction), you are very welcome to give your reason in MDL-29459 or here. This change could break some thirdparty clients that: a) use thirdparty web services and ... b) are only using REST and ... c) expect values not matching the description. (most likely a bug from the web service) Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 22, 2011, 1:20 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Opinion on validating REST-XML return values...",
          "Text": "I think we must be consistent between protocols, and we should validate the return value everywhere. I think the Moodle 2.x web-service framework is sufficiently new that we are unlikely to break much, and if anything does break, it is better off being detected and fixed, rather than ignored.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 23, 2011, 2:56 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Opinion on validating REST-XML return values...",
          "Text": "Thanks Tim. I think we'll go this way. I'll add the validation to the REST-XML server .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 23, 2011, 11:45 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 176405,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=176405",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Webservice for Cohorts",
          "Text": "Hi everyone We would like to assign users to cohorts by using Moodle webservices. Is there anyone out there who already wrote the externallib for that stuff and if not - is there a general interest in making that a part of Moodle? We could then provide the code for integration. Thanks for your feedback and best regards, Lorenz",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 30, 2011, 9:02 PM",
          "AuthorName": "Lorenz Ulrich",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331653&course=5",
          "role": [
            "Picture of Lorenz Ulrich"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservice for Cohorts",
          "Text": "Most of the cohorts operations are implemented in OK Tech WS that has been recently 'intregrated' to Moodle 2.0 WS infrastructure (i.e a local/oktech/externallib.php file). see http://moodle.org/mod/forum/discuss.php?d=67947#p773621 Currently operations are add_cohort affect_user_to_cohort affect_users_to_cohort delete_cohort get_all_cohorts get_cohort_byid get_cohort_byidnumber get_cohort_members get_cohorts_byname get_my_cohorts remove_user_from_cohort remove_users_from_cohort update_cohort Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 31, 2011, 6:26 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice for Cohorts",
          "Text": "Hi Patrick Thanks for your information. I just installed the OK Tech WS and will use them! Lorenz",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 6, 2011, 8:07 PM",
          "AuthorName": "Lorenz Ulrich",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331653&course=5",
          "role": [
            "Picture of Lorenz Ulrich"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice for Cohorts",
          "Text": "I'm testing the services now but got trouble accessing the functions. The code below works fine for getting stuff from the built-in Moodle webservice functions, but it doesn't work for the OK Tech services: $client = new SoapClient($moodleWebserviceUrl . '?wstoken=' . $moodleToken . '&wsdl=1'); $client = $this->moodleSoapClient->__getFunctions(); The OK Tech webservices are not showing up in the function list and cannot be called. Do I need to prefix the functions in a special way, like $client = $this->moodleSoapClient->oktech_moodle_get_version(); ? Thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 6, 2011, 10:58 PM",
          "AuthorName": "Lorenz Ulrich",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331653&course=5",
          "role": [
            "Picture of Lorenz Ulrich"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice for Cohorts",
          "Text": "Initially OK Tech was not meant to be called from Moodle 2.0 infrastructure and had (and still have) its own authentication process and wsdl emission. If you want to 'see' the oktech operations under Moodle 2.0 admins screens you must copy the content of folder wspp/moodle2integration (i.e the folder named oktech) in Moodle's local directory AND visit the Notifications link of site administration. See the README file within that folder Currently your 'call' works (and returns quite a well formed WSDL) if you comment out line 885 of webservice/lib.php that states : throw new moodle_exception('erroroptionalparamarray', 'webservice', '', $name); This is due to the fact that the structures named 'datum' declared in local/oktech/oktech_classlib.php and used in all add_xxx and update_xxxx operations are erroneously declared as optional by the lines : parent::__construct($content, $desc,VALUE_OPTIONAL,null); where they should be parent::__construct($content, $desc,VALUE_REQUIRED,null); I shall try to fix this real soon... EDIT : this has been just fixed of github see latest commit , so not need to change Moodle 2.0 official code https://github.com/patrickpollet/moodlews/commit/88dbea6d04093be5fb86efa8b17d1162d4b53075 (pick up the latest oktech_classlib.php file and copy it in your local/oktech folder... Furthermore OK Tech has its own 'standard wsdl' that can be reached at http://yourmoodle/wspp/wsdl_pp2.php, Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, June 7, 2011, 2:32 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice for Cohorts",
          "Text": "Hi Patrick Thanks a lot for your answer. After reading the README again and again I found out that I missed to copy the moodle2integration contents to local. After doing that the webservice started working for me . Still I got some problem with returns I could only solve by editing the code: In mdl_baseserver.class.php I had to change require_once ('/classes/MoodleWS.php'); to require_once ($CFG-> dirroot . '/classes/MoodleWS.php'); to make it work. And I had problems with return values of webservice requests. Shouldn't a successful request just return TRUE? It's hard doing foreach loops if I get back status messages. Thanks also for the latest commit to Github, I will check these changes out. Lorenz",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, June 9, 2011, 5:22 PM",
          "AuthorName": "Lorenz Ulrich",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331653&course=5",
          "role": [
            "Picture of Lorenz Ulrich"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice for Cohorts",
          "Text": "@Lorenz, > in mdl_baseserver.class.php I had to change  require_once ('/classes/MoodleWS.php'); Strange. Normally in mdl_baseserver this line correctly states require_once ('classes/MoodleWS.php'); with NO leading slashes If you has to change it to  require_once ($CFG-> dirroot . '/classes/MoodleWS.php'); that mean that you install is NOT correct. OKTech MUST be in a directory named wspp UNDER root of Moodle installation, so you should have require_once ($CFG-> dirroot . '/wspp/classes/MoodleWS.php'); and this absolute referencing is normally not needed... This is where the Moodle2 integration pack expects to find it.... Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 10, 2011, 4:09 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice for Cohorts",
          "Text": "Hi Patrick Thanks for you answer. You're completely right, I put some files in wrong directories because I used a ZIP from Github that had a different folder structure. Since we will move the installation to a new server anyway, I will set it up correctly then. Since I'm new to Moodle I'd be grateful for advice: ATM we're checking out the Moodle sources from the Git repository. What is the best way to include your webservices without losing the possibility to update Moodle/MoodleWS? Thanks in advance and best regards, Lorenz",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2011, 3:09 AM",
          "AuthorName": "Lorenz Ulrich",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331653&course=5",
          "role": [
            "Picture of Lorenz Ulrich"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice for Cohorts",
          "Text": "By the way, Patrick, can you confirm that the webservice fails (Invalid response value detected, execution can not continue.) if I ask for all users of a cohort (get_cohort_members) and there is no member yet? Is that the right behaviour? In my script I want to check if a user is already affected to a cohort before I try to affect him to (because affecting a user to a cohort who is already affected would throw an error, too). This way I can't.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2011, 5:40 AM",
          "AuthorName": "Lorenz Ulrich",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331653&course=5",
          "role": [
            "Picture of Lorenz Ulrich"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice for Cohorts",
          "Text": "I just have found a little but irritating bug in the wssp function \"oktech_affect_users_to_cohort\". The calling parameter \"cohortid\" and \"userids\" are reversed!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 2, 2011, 3:44 PM",
          "AuthorName": "Egli Michael",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1360783&course=5",
          "role": [
            "Picture of Egli Michael"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 184318,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=184318",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "web service role for users",
          "Text": "First, I'm very new to moodle. And, I'm using moodle 2.1. So I may be missing something obvious. I've poked around here for a couple of days and tried everything in my installation that makes sense to me.  What I'm trying to do is create a user with the ability to access the default moodle webservices. Here's what I've done so far; 1) I enabled web services for ordinary users as per http://docs.moodle.org/20/en/How_to_enable_web_services_for_ordinary_users ... I'm sure this step is wrong for what I'm trying to do. 2) I created a new role named web-service-client. And checked 'allow' for all of the \"webservice related items\". 3) Then I create a new user and assigned the web-service-client role to that user. When I check \"This user's role assignments\" , web-service-client is assigned to the user. That's where things break down. When I go to admin/roles/check.php I see that none of the webservice permissions are allowed, e.g. \"Use REST protocol\". And, of course, when I try to test any of the webservices from admin/webservice/testclient.php .. they all fail with an \"Access control exception\". I assume that's my problem. What I'm not getting is why the \"Check permissions in System\" \"Permissions for user XXX\" isn't allowing the webservices premissions which are related to the web-service-client role which the user clearly has. Any help would be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 29, 2011, 9:03 PM",
          "AuthorName": "Gary Hardy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1357751&course=5",
          "role": [
            "Picture of Gary Hardy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: web service role for users",
          "Text": "I also tried something very very simple. i.e. the steps in How to enable web services for ordinary users and simple hit the moodle_user_get_users_by_id resouces. No luck again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 29, 2011, 10:11 PM",
          "AuthorName": "Gary Hardy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1357751&course=5",
          "role": [
            "Picture of Gary Hardy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: web service role for users",
          "Text": "Hi Gary, Sorry I don't have an answer, however I'm just moving your thread to the web services forum where hopefully someone will be able to help...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2011, 1:50 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 182334,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=182334",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Web Services plugin working in Moodle 2.0.3 but not in 2.1",
          "Text": "I have created a web service function to automatically create a user when they are created on an external system. To do this, the externallib file requires various files with classes defined which, when given the external user id, give the user details. These are then used in the ws function to create a Moodle user. This is needed (rather than an authentication plugin) so that students can exist in Moodle before they log in for the first time. The trouble is that this was working without hitch in Moodle 2.0.3 but having carried it across to 2.1, calling the web service function results in errors like ' : Uncaught SoapFault exception: [SOAP-ENV: Server ] Access to undeclared static property: '. It fails to recognise that instantiated classes are inherited and therefor breaks when any self::... functions are called, but it does respond as it should when $this-> ... functions are called. Does anyone have an idea of what might cause this problem in Moodle 2.1 ? Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 1, 2011, 10:32 PM",
          "AuthorName": "Joe Cape",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1290591&course=5",
          "role": [
            "Picture of Joe Cape",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web Services plugin working in Moodle 2.0.3 but not in 2.1",
          "Text": "Hi Jos, can you set the debug mode in Moodle to Developer. Then give us the traceback displayed in the server log. In case you already know this being a core issue, you can write a tracker issue. Thank you, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 10, 2011, 10:10 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services plugin working in Moodle 2.0.3 but not in 2.1",
          "Text": "Thanks for the response. I have been using the on-screen debugging, which of course I can't see while using/testing web services. The issue was fixed by changing all of the function calls from self::... to $this->... , so making calls on the object rather than the class. I'm not sure whether the problem was with the function I am using or with Moodle's SOAP/Web Services API, so not sure if I should create a tracker for this...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 26, 2011, 9:53 PM",
          "AuthorName": "Joe Cape",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1290591&course=5",
          "role": [
            "Picture of Joe Cape",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 183663,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=183663",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "C#.NET, SOAP and WSDL Discovery?",
          "Text": "Hey, I'm a computer science student and I've been asked to \"integrate\" Moodle with RegOnline. RegOnline is currently the organizations principle method for handling event registration, and so they want to continue to use this sytem even after Moodle goes online. Historically, I understand that because of some technical limitations, even Moodle 2.0 was not capable of \"automagically\" working with .NET because the moodle web services plugin was not able to provide a fully described WSDL for .net to consume. (see issue: http://tracker.moodle.org/browse/MDL-20804 ). However, this issue appears to have been closed - so where exactly do we stand on this issue? Can I now point visual studio (add service reference) to an appropriate URI, consume a WSDL and generate a class structure? If this is not possible, what would by the suggested work-around? TIA .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 20, 2011, 7:30 AM",
          "AuthorName": "Tony Hatfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1326712&course=5",
          "role": [
            "Picture of Tony Hatfield"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: C#.NET, SOAP and WSDL Discovery?",
          "Text": "Hi Ray, MDL-20804 has been closed but it was not entirely completed. The remaining issue is in MDL-28988 , and most likely also MDL-28989 if you want web service to \"automagically\" work. Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 20, 2011, 10:31 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: C#.NET, SOAP and WSDL Discovery?",
          "Text": "Jerome, thanks for confirming this. I too noticed the additional stories but wasn't quite clear as to what extent the issues had been addressed. It seems that the best alternative right now is to use moodlews incarnation of the old webservices to generate a descript WSDL. Thanks, Ray",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 23, 2011, 1:50 AM",
          "AuthorName": "Tony Hatfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1326712&course=5",
          "role": [
            "Picture of Tony Hatfield"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 182971,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=182971",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Deploy SCORM object using API",
          "Text": "Hello, I wish to deploy a SCORM object using XML -RPC API but I cannot get a function/set of functions to do so. If done manually, steps would be: Login Open/Create a course Edit course Deploy IMS content object ( upload new or use an existing course's resource). SCORM is uploaded as s ZIP file. Does anyone know how to do these steps through API (specifically XML -RPC)? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 11, 2011, 2:01 AM",
          "AuthorName": "Javier Jerónimo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1349282&course=5",
          "role": [
            "Picture of Javier Jerónimo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 182772,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=182772",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Developing a Mobile Application for Moodle 2.1",
          "Text": "Hello! I am developing a mobile application for Moodle 2.1, as it now has mobile web services. I installed Moodle 2.1, enabled web services etc., created a test user and generated a key for it. So far so good, I managed to communicate with the service by writing a simple PHP script just to test. But before I go any further, I have a series of questions: The number of available functions looks pretty underwhelming to me. Basically I can list courses and users, and send messages to them. But not receive any (?), nor enroll to a course or download files of a course. Am I correct? As I am starting to wonder if I will be able to create anything useful at all, are there maybe some plugins that enable more functions? Or some examples somewhere that show me how to create my own remote functions? Is it correct that a user can only login via mobile app if he inserts his huge key? Is a login with username/password not possible? Please bare with me, I am using moodle as a student since one year but never administered or coded for it until basically now :P",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 8, 2011, 10:14 PM",
          "AuthorName": "Sebastian Vassiliou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1344733&course=5",
          "role": [
            "Picture of Sebastian Vassiliou"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Developing a Mobile Application for Moodle 2.1",
          "Text": "Hi Sebastian, there are only few functions available yet. At the moment you can only create small apps with the official API. If you do not have the resources to write your own web service functions, there is OKTech ( http://docs.moodle.org/20/en/Web_Services:OK_Tech_Web_Services ). Hopefully we will deliver an official roadmap of the API in the coming weeks. For retrieving the token there is a script (since 2.1) that return a token for a given username/login: /login/token.php Cheers, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2011, 5:55 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Developing a Mobile Application for Moodle 2.1",
          "Text": "Thank you very much! Since the App will be part of my Bachelor thesis, I will have to make it work with what is available now. I just installed the OKTech services and it seems they are what I was looking for. Now I am all motivated again",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, August 9, 2011, 8:40 PM",
          "AuthorName": "Sebastian Vassiliou",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1344733&course=5",
          "role": [
            "Picture of Sebastian Vassiliou"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 182314,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=182314",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "SoapUI error SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://localhost/wspp/wsdl_pp2.php",
          "Text": "I'm trying to access Moodle WS layer from SoapUI without any luck. I was able to load into SoapUI the wsdl from: http://localhost/wspp/wsdl_pp2.php and I can see all available methods.. I'm just trying the login method but I get the error: <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"> <SOAP-ENV:Body> <SOAP-ENV:Fault> <faultcode>WSDL</faultcode> <faultstring>SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://localhost/wspp/wsdl_pp2.php'</faultstring> </SOAP-ENV:Fault> </SOAP-ENV:Body> </SOAP-ENV:Envelope> Does anyone had the same problem or know how to solve it? Many thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 1, 2011, 8:00 PM",
          "AuthorName": "Hugo Hugo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1346809&course=5",
          "role": [
            "Picture of Hugo Hugo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: SoapUI error SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://localhost/wspp/wsdl_pp2.php",
          "Text": "Have you followed all of the instructions in admin/settings.php?section=webservicesoverview ? Make sure you give the role you use the SOAP capability and set this role at a site-wide level before assigning it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 1, 2011, 10:37 PM",
          "AuthorName": "Joe Cape",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1290591&course=5",
          "role": [
            "Picture of Joe Cape",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: SoapUI error SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://localhost/wspp/wsdl_pp2.php",
          "Text": "I forgot to mention I use Moodle 1.9.12 with OK Tech Webservices ( aka wspp). I checked the config settings and Web Service access is not disabled. I didn't find any place where to check that SOAP capability. In the OK Tech Webservices config section I found that If I enable/disable the last option: Use an auto generated wsdl ws_uselocalwsdl The error is slightly different: <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"> <SOAP-ENV:Body> <SOAP-ENV:Fault> <faultcode>WSDL</faultcode> <faultstring>SOAP-ERROR: Parsing WSDL: Couldn't load from ' http://moodle.agorasanitaria.com/wspp/wsdl_pp2.php'</faultstring> ; it changes to (when I activate the auto_generated wsdl: <SOAP-ENV:Envelope xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \"> <SOAP-ENV:Body> <SOAP-ENV:Fault> <faultcode>WSDL</faultcode> <faultstring>SOAP-ERROR: Parsing WSDL: Couldn't load from '/srv/htdocs/moodledata/wspp/moodlews2.wsdl'</faultstring> </SOAP-ENV:Fault> </SOAP-ENV:Body> </SOAP-ENV:Envelope> Then what I did is to copy manually the wsdl generated to the moodledata directoy and it worked!! Just in case anyone had the same problem...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 2, 2011, 4:10 PM",
          "AuthorName": "Hugo Hugo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1346809&course=5",
          "role": [
            "Picture of Hugo Hugo"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 181662,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=181662",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "web services client example does not work with SOAP",
          "Text": "the example provided here by Moodle ( XML RPC example) does not with SOAP although it's stated that I should only replace Zend_XmlRpc_Client by Zend_Soap_Client ... did anybody try this example in soap ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 21, 2011, 10:20 PM",
          "AuthorName": "Murad Jamal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=998919&course=5",
          "role": [
            "Picture of Murad Jamal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 118298,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=118298",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.0: web services API (function list)",
          "Text": "I started to write a web services API - function list document, based on our current work. This document will be updated for the following weeks: We'll add first the function specification on this document, then we'll wrote the unit tests and finally implement them. The document is here If you have got some suggestions about the specs and implementation, I suggest that we open a new topic per module. For example: Moodle 2.0: API - Forum , Moodle 2.0: API - User , Moodle 2.0: API Courses ,... Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 9, 2009, 5:29 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.0: web services API (function list)",
          "Text": "Hi Jerome, so, when can we be able to get that list.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 30, 2011, 9:33 PM",
          "AuthorName": "warlord blackwing",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=382957&course=5",
          "role": [
            "Picture of warlord blackwing"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: web services API (function list)",
          "Text": "Hi, the easiest way to see the list of available web service functions is to go to the administration, then create a service and try to add functions to this service ( http://docs.moodle.org/20/en/How_to_enable_web_services_for_ordinary_users#Creating_a_service ). You'll see all the available functions for your Moodle site there. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 20, 2011, 7:48 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 179818,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=179818",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "update_users web service password issue",
          "Text": "I am using the update_users web service and I think there is a possible bug.  Within the web services documentation it says that passing the \"password\" field to the service is Optional.  I am not passing a password when using the web service, but when I am actually running the web service it is causing my users' passwords to be empty.  I am just curious if this is the case with anyone else? If not then I guess I might need to step through my code again. FYI : I am running Moodle 2.0.1 as of right now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 1, 2011, 4:54 AM",
          "AuthorName": "Brian Ruedi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340032&course=5",
          "role": [
            "Picture of Brian Ruedi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 178771,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=178771",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "User login with web services",
          "Text": "Hello, Is it possible to make user login (begin a session) using web services? Thanks in advance, ED",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 30, 2011, 4:13 PM",
          "AuthorName": "Emanuel Delgado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=438973&course=5",
          "role": [
            "Picture of Emanuel Delgado"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: User login with web services",
          "Text": "have a look here http://moodle.org/mod/forum/discuss.php?d=176836 Session handling is done through web services, but it's not moodle's session handling but an independent one. Therefore the answer is no, if you mean using the current web service implementation (OK Tech ws/wspp). Or yes, if you mean coding a new web service for that task.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 30, 2011, 5:12 PM",
          "AuthorName": "Federico Leverato",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1320547&course=5",
          "role": [
            "Picture of Federico Leverato"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 177914,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=177914",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Is Moodle 2.0 SOA Compliant",
          "Text": "We are currently evaluating options for a Learning management system. One key technical clarification that we need for Moodle is whether Moodle 2.0 SOA Compliant and at what level of compliance. we have been able to fine a reference whitepaper available on IBM site that provides details on Services Service Integration Maturity Model. http://download.boulder.ibm.com/ibmdl/pub/software/dw/webservices/soa-compliance.pdf I would be keen to understand what is the comformation that Moodle 2.0 adhere to and at level does moodle 2.0 stand on SSIMM.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2011, 2:52 PM",
          "AuthorName": "Vijay Adyanthaya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=151925&course=5",
          "role": [
            "Picture of Vijay Adyanthaya"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is Moodle 2.0 SOA Compliant",
          "Text": "To quote from the document you link to: \"It’s easier to talk about SOA compliance if you first have a governance model defined. A governance model should allow you to: • Define overall business goals • Develop policies to achieve those goals • Define rules/micro policies that are used to enforce policies • Implement management capabilities to monitor compliance to policies • Govern the above in a lifecycle model So, once goals and policies are defined, you have a baseline of compliance criteria to which your services and composite applications can comply.\" So, if you define all that garbage, we will be able to tell you of Moodle complies with it. If you don't define all that, \"SOA compliant\" is just a meaningless buzz-word.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2011, 6:19 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 168180,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=168180",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "User authentication - need for both form based and web services",
          "Text": "I have a requirement where I want to create a user once and allow that user an access to the moodle site via both web broswer and a smart mobile client (using web services). When I switch the user's authentication method to Web Services, the user seems to be locked out of the web based access. One obvious thing that came to my mind was to see if the clientId and SessionKey generated by the web service login can be used to gain access to the browser version (like http://yourdomain/lms.....?client=<<clientid>&sesskey=<<sessionkey>>). But it does not see to work. Any help in this regards is highly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 7, 2011, 1:25 PM",
          "AuthorName": "Ramakant Kulkarni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295351&course=5",
          "role": [
            "Picture of Ramakant Kulkarni"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: User authentication - need for both form based and web services",
          "Text": "Hi, Did you figure out how to solve this problem? I trying to create a login and I need to maintain the session in some way... Please let me know if you did. -Giulio",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, March 26, 2011, 12:16 AM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: User authentication - need for both form based and web services",
          "Text": "I struggled with this very problem for some time. Had put up the question on the forum as well with no concrete help. Went ahead and modified the auth.php file to allow all users acess via webervices. Below is the code (This should work on moodle 1.9.x, am not sure if there are any structural changes in 2.x hence can't comment). I am not sure if making this change conflicts with any of moodle/Oktech licensing, Partick or other gurus can help clarify. Directory: wspp/auth/webservice Filename: auth.php Code Change (replace the user_login_webservice method as below. If you can see, all I have done is to remove the check for authType, that should allow all types of users to login with Web Service plugin. I haven't see any side effects as yet, but there could be some): function user_login_webservice($username, $password) { global $CFG, $DB; // special web service login // if ($user = $DB->get_record('user', array('username'=>$username, 'mnethostid'=>$CFG->mnet_localhost_id))) { // if ($user = get_record('user','username', $username,'mnethostid',$CFG->mnet_localhost_id)) { /*if ($user = get_complete_user_data('username', $username)) { if ($user->auth == $this->authtype) return validate_internal_user_password($user, $password); }*/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 14, 2011, 2:29 PM",
          "AuthorName": "Ramakant Kulkarni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295351&course=5",
          "role": [
            "Picture of Ramakant Kulkarni"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 134676,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=134676",
      "NoOfResponses": 15,
      "ResponsesInList": [
        {
          "Title": "Lightwork web services",
          "Text": "The Lightwork project is using the web service support available in Moodle 1.9.x to display and update data in Moodle. See our page in the Modules and Plugins database ( http://moodle.org/mod/data/view.php?d=13&rid=2743 ). We are using: The OKtech libraries with version 0.7.3 of the NuSOAP PHP toolkit Version 1.1 of Apache axis for our web services client SOAP 1.1, document style So far our experience with using these tools to integrate with Moodle has been good and in addition to database data our web services can download student submission files as attachments. We have a test Moodle site set up which you can connect to to test out our Java rich client marking tool. All the source code can be obtained from the repository on the project web site. The project is under development and we welcome feedback and questions either on this forum or on the Lightwork site ( http://lightwork.massey.ac.nz ).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 8, 2009, 7:20 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Lightwork web services",
          "Text": "I just wanted to makes sure you were aware of the web services work being done for Moodle 2.0? Development:Web_services .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 8, 2009, 2:48 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork web services",
          "Text": "Yes, we are aware of the work being done for Moodle 2.0. However, since many Moodle sites will be using 1.9.x for some time to come and there isn't a release date for 2.0 then the first release of Lightwork will be targeted at 1.9.5. In the meantime we are keeping an eye on the improvements and opportunities that 2.0 offers. A challenge for us is to ensure that our software will always be backward compatible with 1.9.x.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 9, 2009, 4:01 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork web services",
          "Text": "Hi Paul. Is any work being done in a Moodle 2.0-compatibe version of Lightwork?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 14, 2010, 12:10 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork web services",
          "Text": "Hi Olumuyiwa, Creating a Moodle 2.0 compatible version of Lightwork is high on our list of priorities. We hope to do this work in the first half of 2011 once funding is approved. You'll be able to track work on this issue by looking at http://lightwork.massey.ac.nz/issues/show/992 . Thanks, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 19, 2010, 3:35 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork web services",
          "Text": "Thanks Paul. In the meantime, there doesn't seem to be a way to report issues with the current version on the project site. We're currently evaluating Lightwork and have run into an issue with the 2.3.5 version for Mac OSX. The issue is that we are unable to connect to the Moodle site through a proxy server . The error we get is \" nested exception \", which is not very helpful.  The same version for Windows works well on PCs connecting through the said proxy server from within the same network. Any hint as to what may be going on would be appreciated. Thanks, Muyi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 23, 2010, 10:59 AM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork web services",
          "Text": "Hi Muyi, I will update our project site to allow you to create an account and add your issue. Please can you attach the log file with the \"nested exception\" error. Thanks, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 23, 2010, 12:47 PM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork web services",
          "Text": "Thanks for the prompt reply, Paul. Where (i.e. in which folder) should I look for the log file? Thanks, Muyi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 23, 2010, 2:34 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork web services",
          "Text": "Hi Muyi, This file/files are located in the lightwork user's home directory which on a MAC can be opened by going to menu go->home. The files are lightwork.log, lightwork.log.1, etc. Thanks, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 24, 2010, 3:59 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork web services",
          "Text": "Hi Paul, Please find the log file attached. Thanks, Muyi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 26, 2010, 7:06 AM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork web services",
          "Text": "We found a solution to the issue of Lightwork not being able to go through a proxy server. The problem was that Macs use a different proxy from the one used by Windows PC's, and that proxy requires authentication.  But for some reason, Lightwork was unable to authenticate with that proxy server. The solution was to install Authoxy on the Mac, and configure it with our proxy server, plus the network username and password used to authenticate with the proxy server. Lightwork's proxy setting was then set to use Authoxy, which runs by default on port 8080 on 127.0.0.1, no authentication. Setting up Authoxy is fairly straightforward, but this article may be useful. Hope this helps somebody. -- Muyi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 26, 2010, 10:12 AM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Lightwork  Moodle integration problem",
          "Text": "Dear Paul, I tried hard and long to install the moodle integration package (the client is installed in my machine), using the package you compiled here: http://lightwork.massey.ac.nz/attachments/107/lightwork-2009100600-moodle.zip but I keep getting the error: Errors found in XMLDB file: Problem loading table lw_rubric, Some FIELDS previous/next values are incorrectScroll to continue button Upgrade failed! See local/version.php when visiting the admin page. Can you help? Also, it took me ages before I could find your package. That could be more clearly signaled in the documentation in the project page.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 10, 2009, 11:21 PM",
          "AuthorName": "Paullo Abreu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=382993&course=5",
          "role": [
            "Picture of Paullo Abreu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork  Moodle integration problem",
          "Text": "Hi Paullo, Sorry for the confusion. The reason that you couldn't easily find it is that it hasn't been released yet. It is being released with Lightwork 0.1.9 this Friday 16th October. You have found a very early version of the file that was still under test and designed for a later client than the one you are using. All our software for download is on the http://lightwork.massey.ac.nz/projects/list_files/fat page. Apologies again for the time you have wasted. We will let you know when the package is added to our site this Friday and will help out if you have any problems installing and getting it to work with the client. thanks, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 12, 2009, 4:03 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork  Moodle integration problem",
          "Text": "Is there a Lightwork for Moodle 2.0 yet?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 14, 2011, 4:53 PM",
          "AuthorName": "Claire Browne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=931316&course=5",
          "role": [
            "Picture of Claire Browne"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lightwork  Moodle integration problem",
          "Text": "Version 3.1.1 of Lightwork will be compatible with Moodle 2.0. Please see the Lightwork roadmap at http://lightwork.massey.ac.nz/projects/roadmap/fat for the release date.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 14, 2011, 11:14 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 177275,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=177275",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Service access to Moodle demo system at demo.moodle.org",
          "Text": "Hello, We are looking to allow users of our system to connect to Moodle and would like to explore the Moodle web service API. Does the demo Moodle system expose web services that we can access and use to gain understanding? Otherwise, we would need to install our own Moodle. Thank you in advance. -Raheel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 13, 2011, 4:06 AM",
          "AuthorName": "Raheel Retiwalla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1335282&course=5",
          "role": [
            "Picture of Raheel Retiwalla"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 176836,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=176836",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "session information from OKTech WS",
          "Text": "Hi, I am using oktech webservices for android moodle client and I want to open a webview after a user has logged into the android app. I see that the login function returns a \"sessionkey\" (eg reponse login : loginReturn{client=91; sessionkey=6f7a209f7e4faa4341e3ec55fee82f3a).Also moodle sets a cookie with name MoodleSession.Are the two related? How do i use it to access the system without logging in again. Please suggest Thank you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, June 6, 2011, 7:20 PM",
          "AuthorName": "amol gupta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1328302&course=5",
          "role": [
            "Picture of amol gupta"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: session information from OKTech WS",
          "Text": "Well, that's easy. If you had looked at any of the other web services, you would know the anser too: you just use the two values (client=91; sessionkey=6f7a209f7e4faa4341e3ec55fee82f3a) in the following requests. Don't know about the cookie but I don't think it's useful from android. Other solution is using REST style request instead of SOAP, so the login information travels along the other parameters every time and you also avoid session timeout issues.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 6, 2011, 8:16 PM",
          "AuthorName": "Federico Leverato",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1320547&course=5",
          "role": [
            "Picture of Federico Leverato"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: session information from OKTech WS",
          "Text": "I see that each time we nee to call a function from OKTech WS, I require the sessionkey. But my question is how to send this session key to the webview so that the site does not ask for the login details again and go directly to the requested page.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 7, 2011, 6:05 PM",
          "AuthorName": "amol gupta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1328302&course=5",
          "role": [
            "Picture of amol gupta"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: session information from OKTech WS",
          "Text": "@amol, There is no relation whatsoever between the client/sessionkey pair sent by OK Tech WS at login and some Moodle cookie sent when an user logs in to Moodle using a browser. So currently, your smartphones users will have to 're-log' to Moodle  if they swap to webview. Sorry.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 7, 2011, 7:07 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 174748,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=174748",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "webservice response according to wsdl",
          "Text": "hi! is there a way to tell moodle webservice to use a specific wsdl file while generating response? moodle generates the following code whitout wsdl  (snippet) \n```text\n<ns1:mn_resultWritebackResponse>\n\n\n <return xsi:type=\"ns2:Map\">\n\n\n <item>\n\n\n <key xsi:type=\"xsd:string\">usernames</key>\n\n\n <value SOAP-ENC:arrayType=\"xsd:string[2]\" xsi:type=\"SOAP-ENC:Array\">\n\n\n <item xsi:type=\"xsd:string\">user1</item>\n\n\n <item xsi:type=\"xsd:string\">user2</item>\n\n\n </value>\n\n\n </item>\n\n\n <item>\n\n\n <key xsi:type=\"xsd:string\">secret</key>\n\n\n <value xsi:type=\"xsd:string\">hash</value>\n\n\n </item>\n```\n and do this way for any array output. but I want something like this: \n```text\n<ns1:mn_resultWritebackResponse>\n\n\n <usernames xsi:type=\"ns1:usernameList\">\n\n\n <username xsi:type=\"xsd:string\">user1</username>\n\n\n <username xsi:type=\"xsd:string\">user2</username>\n\n\n </usernames>\n\n\n <secret xsi:type=\"xsd:string\">hash</secret>\n\n\n </ns1:mn_resultWritebackResponse>\n```\n which is generated automatically if I enter wsdl file location in lib/Zend/Soap/ Server .php line 167: $wsdl='location/to/wsdl/file.wsdl'; I know that Zend_Soap_Server allow to set wsdl with it's method setWsdl(), but I cannot find any settings in moodle, or any possibility in the webservice 'external_api' and in it's methods. This option could be set somewhere in webserivce/lib.php line 698, in the public function run, where the zend_soap_server is initalized, if the function or the class (webservice_zend_server and it's derivatives) itself would have such options.e the corresponding wsdl snippet: \n```text\n...\n\n\n<xsd:complexType name=\"usernameList\">\n\n\n <xsd:sequence>\n\n\n <xsd:element name=\"username\" type=\"xsd:string\"\n\n\n maxOccurs=\"unbounded\" />\n\n\n </xsd:sequence>\n\n\n </xsd:complexType>\n\n\n...\n\n\n<wsdl:message name=\"resultWritebackResponse\">\n\n\n <wsdl:part name=\"secret\" type=\"xsd:string\" />\n\n\n <wsdl:part name=\"usernames\" type=\"tns:usernameList\" />\n\n\n </wsdl:message>\n\n\n...\n```\n and the external_api's _returns() function: \n```text\npublic static function resultWriteback_returns() {\n\n\n \n\n\n return new external_single_structure(\n\n\n array('usernames'=>\n\n\n new external_multiple_structure (\n\n\n new external_value(PARAM_TEXT,'username')),\n\n\n 'secret'=>new external_value(PARAM_TEXT,'secret')\n\n\n )\n\n\n );\n\n\n }\n```\n Any idea? thanks! Attila",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 6, 2011, 7:09 PM",
          "AuthorName": "Attila Peto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1075894&course=5",
          "role": [
            "Picture of Attila Peto"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: webservice response according to wsdl",
          "Text": "Hi Attila, I am having similar problem, as I need to output a document/literal wrapped response. I have very little experience here and it is making my head hurt. I have setup web service based on MoodleDoc: Development:Creating a web service and a web service function .  Looking at files webservice/lib.php and webservice/soap/locallib.php you will have to hack those files or write your own class and from there pass in the location of wsdl file. Unsure how entirely works but a virtual class is created and methods that you created in your externallib.php are used in that virtual class.  I will keep investigating... Regards, Troy",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sleepy"
          ],
          "Time": "Tuesday, May 31, 2011, 8:21 AM",
          "AuthorName": "Troy Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=19649&course=5",
          "role": [
            "Picture of Troy Williams"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 175938,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=175938",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "wiki functionality from android (through wspp)",
          "Text": "Hallo, to avoid double posting I'm redirecting to the wiki forum where I started: have a look",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 23, 2011, 9:27 PM",
          "AuthorName": "Federico Leverato",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1320547&course=5",
          "role": [
            "Picture of Federico Leverato"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 175324,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=175324",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Soap OkTech web services : message issue",
          "Text": "Hello Moodlers, I am using The OK tech web services to make a client application for moodle, well I am implementing a \"messages section\" where participants enrolled in the same course can exchange messages. I used the send message operation that allow a user to send an instant message, and get_messages that allow to get the unread messages, and get_message_history that returns tha already read messages. Everything is great so far . My problem is , I don't know how to change the state of the message, from \"unread\" to \"read\".  Any idea please ? Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 14, 2011, 1:18 PM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 174724,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=174724",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "php display_eror",
          "Text": "Enabling the PHP setting display_errors is not recommended on production sites because some error messages may reveal sensitive information about your server . how to disable it, in order to can hosting in moodle? please",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 6, 2011, 11:56 AM",
          "AuthorName": "Rudiansyah Alam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1324931&course=5",
          "role": [
            "Picture of Rudiansyah Alam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 174506,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=174506",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Deleted users still appear under Add New Web Token",
          "Text": "If I create a new user, in Moodle 2.02, and then immediately delete this user, he/she will still appear in the user list box when adding a new token under Web Services. Is this behaviour expected?  If so, why would we want to see deleted users still? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 3, 2011, 6:00 PM",
          "AuthorName": "cheryl ng",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=427633&course=5",
          "role": [
            "Picture of cheryl ng"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Deleted users still appear under Add New Web Token",
          "Text": "Hi, I suspect that there is a little bit of SQL missing in admin/webservice/forms.php near line 154 FROM {user} u I should better see FROM {user} u WHERE deleted=0 Cheers. Edit: You should open this as a bug report of Moodle's tracker...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 3, 2011, 8:23 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deleted users still appear under Add New Web Token",
          "Text": "Ah good catch. Thanks Cheryl and Patrick for the report and patch. I wrote an issue ( MDL-27360 ).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 3, 2011, 10:00 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 172763,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=172763",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "uploading file from java to moodle",
          "Text": "Hi I ve been trying for almost 4 days now to upload a file from a java application to a specific course in moodle server , but no luck so far ! I'am confused about the necessary modification of the php code. Is there a way to the upload task?  any ideas ? maybe a web service ? Please I need your help beceause I am out of options Best Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 6, 2011, 11:13 AM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: uploading file from java to moodle",
          "Text": "You are not providing enough information for your question to be answered.  What do you mean a file from a Java application? Is it an image, if so what type, is it something interactive if so what type. What do you want it to do when you have uploaded it. What version of Moodle are you using.  Or are you referring to causing a Java application to do the upload which is implied by your reference to web services, if so what key words have you searched on, have you looked at the following http://docs.moodle.org/en/Web_Services_API",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 6, 2011, 6:11 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 172452,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=172452",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle - HTML",
          "Text": "Hi, I have no idea where to post this...this is the closest guess.... What I am trying to do is convert some of my moodle pages to plain HTML files....without using any external files to get its info....almost, so to speak, taking a picture of the web page when it is loaded, and then saving it as HTML. I then look to further edit the page using Dreamweaver CS5, and re- upload it. I understand I have to point the code to the images of the theme, I am fine with that, I just basically want to make it into a plain HTML/PHP page. Cheers Jordan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 1, 2011, 2:45 PM",
          "AuthorName": "Jordan Floyd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1307646&course=5",
          "role": [
            "Picture of Jordan Floyd"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 154873,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=154873",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "customfields not stored when created via SOAP web services",
          "Text": "I have created a simple PHP script that utilises the Zend Soap Client to interface with Moodle's web services. I first created a user as follows, specifying preferences and custom fields. The SOAP call is successful. <code> <?php require_once('Zend/Soap/Client.php'); try { $client = new Zend_Soap_Client(\"http://< URL >/webservice/soap/ server .php?wstoken=241b0237f5fe1fdd7634cdd41750f591&wsdl=1\");",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 28, 2010, 2:17 PM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: customfields not stored when created via SOAP web services",
          "Text": "Hi Anders, I just tested on my unit tests, moodle_user_create_users creates the customfields and moodle_user_get_users_by_id returns customfields.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 28, 2010, 3:21 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: customfields not stored when created via SOAP web services",
          "Text": "Hi Jerome, Is there a particular format that I need to use for the customfieldtype for it to work (i.e. string, int, ...)? I have been using type/value pairs such as name/John. I tested these two functions (moodle_user_create_users and moodle_user_get_users_by_id) using the WS test client and it didn't return the customfield. I checked out the latest version from CVS this morning and ran these tests. I understand that your unit tests are OK, but can you please run these tests on the test client, too?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 29, 2010, 7:53 AM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: customfields not stored when created via SOAP web services",
          "Text": "It works with the test client too. Have you created the custom field type before? moodle_user_create_users doesn't create custom field type. Note: we don't have any admin custom fields web service function.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 29, 2010, 1:03 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: customfields not stored when created via SOAP web services",
          "Text": "I found the \"User profile fields\" page where I can create Checkbox, Menu of choices, Text area, Text input or \"Create a new profile category\". I guess that this is where I have to define the custom fields? Is there documentation on how these profile fields tie in with the customfields and preferences of the WS? What do you mean with \"admin custom fields\"? Does this mean that the user can view/edit the custom fields?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 29, 2010, 1:35 PM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: customfields not stored when created via SOAP web services",
          "Text": "yes it is the place For the web service documentation, go on the admin protocol page and enable the documentation, then you can access it through /webservice/wsdoc.php. If something is not clear in it, don't hesitate to suggest any better documentation text. I'll add some information about User custom fields = User profil fields. By admin custom fields, I meant that only administrator can manage the custom fields (User profile fields). Thank you.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, July 29, 2010, 5:29 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: customfields not stored when created via SOAP web services",
          "Text": "Hi, Either Jerome or Anders - could you explain how the information for custom fields needs to be past to the soap function?  Also, I have Moodle 2.0 and I can't for the life of me find out how to turn on the web service documentation.  There is nothing in the tokens section.  Could you possibly write a quick step by step on how to view this?  I have SOAP webservices all set up already and they work beautifully.  Having access to the documentation would be so helpful! Best, Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 31, 2011, 4:17 AM",
          "AuthorName": "Chris Lohman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1290766&course=5",
          "role": [
            "Picture of Chris Lohman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: customfields not stored when created via SOAP web services",
          "Text": "Hi Chris, Go to webservice/simpletest/testwebservice.php:moodle_user_create_users() You should find some examples how to pass the custom fields. The security key doc should answer your second question about the web service documentation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 31, 2011, 10:26 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 171851,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=171851",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Java Client for Android - Webservices?",
          "Text": "Hi all, I'm starting developing an open source moodle client for android for a moodle that use shibboleth for the login. But probably my first version will allow to login only the system users. After some research on the web I figure out to approach to this: 1. Using the MoodleWS java library: I have sucessfully installed the plugin, but I can't find the jar library on the net (that's frustrating). 2. Using the MoodleRest and manually implement the services I will need: I have successfully created the webservice user and I tested some function using rest with the token, but I cannot use with the user information (user and pass) since I get an Access control exception as answer. Can someone help me? Thank you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, March 25, 2011, 1:03 AM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Java Client for Android - Webservices?",
          "Text": "Hi Giulio, When I wrote the MoodleRest library I too had similar problems using username/password pairs. It was not until ﻿﻿﻿César contacted me and pointed out there was an & missing between the two parameters. This was fixed in the last update some time ago but you should check you have the most recent download http://moodlerestjava.sourceforge.net/ version 0.1.2 Another thing to watch out for is that username/password authentication does not work using server .php you have to use simpleserve.php instead. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 25, 2011, 9:19 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Java Client for Android - Webservices?",
          "Text": "Hi, thank you for your answer... The problem was about the authorized user for the webservice I created in moodle. Now it works fine with all users and I just did the first Hello Moodle on android ;) What I'm doing is to add more services that I need for client. Maybe I could extend your library for the community Maybe do you know if there are already some services that will be useful to me (like a login that maintain a session) written in php, so that I can just add the java code? Giulio",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, March 25, 2011, 10:02 AM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Java Client for Android - Webservices?",
          "Text": "Sounds good to increase the number of service functions, I'm hoping a function to retrive course context ids will be created soon, it's in the road map anyway, let me know how you get on. As for maintaining sessions across calls, currently I don't think there are any regarding web services, you will have to store any data locally. I may be wrong though, this is just a feeling. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 25, 2011, 4:07 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Java Client for Android - Webservices?",
          "Text": "My intention is to extend your library, is open source, right? Maybe we can just create a repository on googlecode and work togheter with the other people are interested in. So it will possible to offer a complete webservice library with php and java functions. Maybe do you know if there are already some implementations of additional webservices functions (php)? Let me know. -Giulio",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, March 26, 2011, 12:56 AM",
          "AuthorName": "Giulio Valente",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312606&course=5",
          "role": [
            "Picture of Giulio Valente"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 171388,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=171388",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Integration JAVA app and Moodle",
          "Text": "Hi, firstly excuse my english. I am doing on school project. I am trying to do something like extern tests generator. And I need to know, if is possible to use web services for getting questions and answers from moodle. My application will be programed in JAVA . It is possible to create anything like that ? I need to integrate my app with Moodle. Or can you tell me, which language can be the best for this ? Thanks for answers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 19, 2011, 2:55 AM",
          "AuthorName": "Lukas Latas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310492&course=5",
          "role": [
            "Picture of Lukas Latas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Integration JAVA app and Moodle",
          "Text": "No advices ? Or it is possible ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 20, 2011, 1:22 AM",
          "AuthorName": "Lukas Latas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310492&course=5",
          "role": [
            "Picture of Lukas Latas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Integration JAVA app and Moodle",
          "Text": "Web services for accessing the question bank do not currently exist. Obviously, it would make sense to have them, but no one has implemented them yet.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 21, 2011, 3:04 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 171470,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=171470",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "ok teck web services",
          "Text": "Hi I want to use ok tech web services to make them the 3rd part between android and moodle. But I don't know how to do that.I think I need to make some changes and I 'am not sure what exactly needs to be modfied. Please help me by putting in the right road to start this project. greetings",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 21, 2011, 2:10 AM",
          "AuthorName": "snadly Mohamed Amine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310332&course=5",
          "role": [
            "Picture of snadly Mohamed Amine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 171383,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=171383",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "nusoap",
          "Text": "﻿﻿Hello everyone, I have installed moodle version 1.9 and I 'm developing a new user create by webserver ( http://logosoft.us.to/ws/wspp/clients/ws-test.php ) but I get an error: ﻿Attempting to create a server connection.... Constructor error: wsdl error: HTTP ERROR: Unsopported HTTP response status 404 Not Found (soap_client -> response has contents of the response) The problem is a file  lib/soap/nusoap.php has bugs ans how I can resolve or fix this case or find nusoap.php realesed wihtout bugs. I hope your help Regards,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 19, 2011, 12:48 AM",
          "AuthorName": "Leonel Lopez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1310457&course=5",
          "role": [
            "Picture of Leonel Lopez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 151936,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=151936",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Function in moodle 2.0 web service",
          "Text": "HI, I just installed moodle 2.0 (preview 3) and started to play around with wweb services... I had no problem to setup the web service and its authentication, but when I went to add function I found only about 15 of them. It's what we got? I understood that 'all' the api will be accessible via web services... Thanks, Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 9, 2010, 11:22 PM",
          "AuthorName": "Peter Eliyahu Kornfeld",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=567589&course=5",
          "role": [
            "Picture of Peter Eliyahu Kornfeld",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Function in moodle 2.0 web service",
          "Text": "Hi Peter Did you ever get a solution to your web service requirements? I too want to do this but is it a case of using 1.9? Regards Tim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 25, 2011, 7:39 PM",
          "AuthorName": "Tim Corkerton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1302059&course=5",
          "role": [
            "Picture of Tim Corkerton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 169471,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=169471",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "moodle as client of an external application",
          "Text": "Hello,\n\nI'm creating an activity module to connect server 's lab to moodle to offer students the possibility to remote practices. To do this possible I need to moodle like consumer of the labs web service. I saw the /webservice/(protocol)/lib.php that contains the client of the different supported protocols.\n\nMy question is: In the constructor i need a token to establish the connection with the external webservice. This token is generated by the external webservice server. How can i used the token in the constructor if the connection is no established??\n\nThanks!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 22, 2011, 10:55 PM",
          "AuthorName": "Daniel Gonzalez Lareo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1250234&course=5",
          "role": [
            "Picture of Daniel Gonzalez Lareo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 164723,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=164723",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "access Web services from java",
          "Text": "Hi All, Currently  facing to find the wsdl url to access the web services from the java . so can anyone sent some code to implement this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 20, 2010, 3:38 PM",
          "AuthorName": "chirag jani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1280454&course=5",
          "role": [
            "Picture of chirag jani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: access Web services from java",
          "Text": "Hi, As far as I know the current Moodle 2.0 Web Service API is not compatible with Java or .NET . See http://docs.moodle.org/en/Web_services_FAQ#Does_the_Moodle_SOAP_server_work_with_JAVA_or_.NET.3F If you must use java for your client you should have a look to OK Tech WS that runs under Moodle 1.9 and 2.0 see http://docs.moodle.org/en/Web_Services:OK_Tech_Web_Services Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 20, 2010, 9:02 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: access Web services from java",
          "Text": "Patrick is right. The native 2.0 web-services currenlty don't work with Java, .NET (and ruby it would appear). In answer to the question you asked though you can get the wsdl pretty easily. the url is roughly the following: http://moodle-url/webservice/soap/ server .php?wstoken=--add-your-token-here--&wsdl=1 Good luck with it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 23, 2010, 6:13 AM",
          "AuthorName": "Gerwood Stewart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=971274&course=5",
          "role": [
            "Picture of Gerwood Stewart"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: access Web services from java",
          "Text": "Hi, Thanks for your answer. As per url given by you  how we get wstoken to access the wsdl & also want to know that there is some other option to access web service? Thanks Chirag",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 23, 2010, 9:29 PM",
          "AuthorName": "chirag jani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1280454&course=5",
          "role": [
            "Picture of chirag jani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: access Web services from java",
          "Text": "Hi, FYI . Got back to this project, other things got in the way. I'm currently in the process of creating a library of Java classes and methods to link into the REST web services of Moodle 2.0. So far I have all the User and Course functions working, the Group and File ones still to do. Just one observation, not a criticism, it's not very RESTful ;). I'm going to use this library and my CommandReporter Java library to sync users and classes with SIMS. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 15, 2011, 6:52 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: access Web services from java",
          "Text": "Hi, Just uploaded code to SourceForge containing the Java library and source code I have developed for accessing Moodle 2.0 REST web services from Java. Hope this helps. Does not get wsdl information but if you know what is being supported you don't need wsdl data. By the way, it currently does not support File services and does not support extended User data. Token is the only authentication at present. http://moodlerestjava.sourceforge.net Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 18, 2011, 2:13 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: access Web services from java",
          "Text": "Updated the library on sourceforge, a couple of fixes and a few changes. Note: this library uses the standard web services provided from a Moodle 2.0 install. http://moodlerestjava.sourceforge.net",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2011, 5:59 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: access Web services from java",
          "Text": "Hi, I have updated the REST Library. A bug fix for the username/password authentication. Forgot to add an & between wsusername and wspassword parameters. Thanks goes to César who pointed this out. A few other changes but not major. http://moodlerestjava.sourceforge.net I am looking into creating another library for SOAP using SAAJ. Initial testing has worked well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 16, 2011, 11:05 PM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 139578,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=139578",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Using OKTech web services to log in",
          "Text": "Hi, I'm experimenting with the OKTech web services and Moodle 1.9. I'm trying to pre-login a user via the web services before I redirect them to a certain page in Moodle. I call the login web service and successfully get a client value and sessionkey value. However, when I insert the sessionkey into the client's MoodleSession cookie I get an error stating that \"A server error in my login session was detected.\" I believe the error is occurring because the MoodleSessionTest cookie value is missing. I've modified the webservice call to generate a MoodleSessionTest value and return it, but it still throws the same error. Is there a way to take the login data obtained by the web service and transfer it to the user? Thanks for any help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 9, 2009, 4:24 AM",
          "AuthorName": "Will Fuqua",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1048185&course=5",
          "role": [
            "Picture of Will Fuqua"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using OKTech web services to log in",
          "Text": "Hi Will, The OKTech generated session value is separate to the MoodleSession value so you won't will be able to insert that into the MoodleSession cookie value directly. Usually the OKTech session is the \"id\" field value from a record inserted into the mdl_webservices_sessions table for the user, and is returned to the client in the SOAP payload, not as a Cookie as such. Dean",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 9, 2009, 6:48 AM",
          "AuthorName": "Dean Stringer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=284947&course=5",
          "role": [
            "Picture of Dean Stringer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using OKTech web services to log in",
          "Text": "Was this issue resolved?? I have the same need, will help if the solution is posted.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 10, 2011, 6:31 PM",
          "AuthorName": "Ramakant Kulkarni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295351&course=5",
          "role": [
            "Picture of Ramakant Kulkarni"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using OKTech web services to log in",
          "Text": "MooodleSession and MoodleTestSession are 2 out of the 3 cookies that Moodle login sets in the browser. Using OKTECH web services, you will get these values as part of the header (the client and sessionkey returned by the webservice cannot be used in this regards). Problem is, even if you set these cookie values correctly, you will not be able to get through, cause it seems, moodle won't allow a user whos authentication mechanism is Web Service to login via a browser based interface. Not sure why this limitation, if had got around by using the same user/password to login via Web Service and via web, please share the solution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2011, 8:43 PM",
          "AuthorName": "Ramakant Kulkarni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295351&course=5",
          "role": [
            "Picture of Ramakant Kulkarni"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using OKTech web services to log in",
          "Text": "> moodle won't allow a user whos authentication mechanism is Web Service to login via a browser based interface . Yes this is the way it should be. OKTech WS (and Moodle 2.0 official WS) have been initially designed to allow external Information Systems to access Moodle's entities (accounts, courses, activities ...) thus the account used to log in may have some capabilities that you will not give to a regular Moodle user connecting from the Web interface. Do you really want to disclose a Moodle admin username/password to developers of your University IS , so they can login in to your Moodle by Web and mess it up ??? So you can connect to Web Service in two ways : - using a regular Moodle user account (manual, ldap)  but in that case you will get no more rights that you would have with the Web interface. - using a specific Webservice account, with possibly extra rights, but in that case only via Soap calls, not Web ... Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2011, 9:55 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using OKTech web services to log in",
          "Text": "Thanks Patrick for your response. I want users to have same privileges and use their own user/password. There seems to be a bit of issue, if I use the web service with the #1 method mentioned above. Not sure if it's a setup issue with my moodle instance, a user with authentication type of Manual cannot login via the OKTECH webservice (get invalid user error). When I switch the authentication type of the user to auth_WebService, then I am able to login via the webservice, but it has a problem: if HTML topic contains images, the webservice will return the html text which includes path to the images. There seems to be no easy way to display the images using the path. If I set the MoodleSession and MoodleSessionTest cookies of my mobile client using the cookies of a user logged via web and show the HTML topic content, the images show correctly, but setting the same cookies with the data received from the login webservice header, blocks the images from showing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2011, 10:47 PM",
          "AuthorName": "Ramakant Kulkarni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295351&course=5",
          "role": [
            "Picture of Ramakant Kulkarni"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using OKTech web services to log in",
          "Text": "Sorry but I don't understand what you are trying to do and how you do it. The Web Service is not meant to login and  browse a Moodle site, but to realize operations such as get_my_courses, add_course, add_user , enrol_user, add_group, add_user_togroup ... as described in the WSDL. >if I use the web service with the #1 method mentioned above. Not sure if it's a setup issue with my moodle instance, a user with authentication type of Manual cannot login via the OKTECH webservice (get invalid user error) To login to the Web Service you must call by a Soap client the operation login(username,password) >if HTML topic contains images, the webservice will return the html text which includes path to the images. What HTML topic ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 12, 2011, 1:52 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using OKTech web services to log in",
          "Text": "Let me attempt to describe the problem in a different way. I do use the webservice login function to login and get the client and sesskey as a return. I agree with the usage of web services for getting courses, sections , users... The point I was trying to make is, courses in moodle can have topics. Topics can have resources of type HTML. And the HTML that is loaded as a topic can have images in it. You can use the \"get_sections\" function to get the topics under a course and \"get_resources\" to get the resources associated with the topics. The output of get_sections will tell you the sequence in which the resources appear. Images are loaded in moodle and will have a url of something like If I have 2 users enrolled in the same course, one (user1) with authentication type of manual and the other (user2) with authentication type of webservices. If I use user1's credentials in the web service or user2's credentials for login via browser I get an \"invalid user\" error. They have to be used in their respective authentication types to login successfully. This seems to be the how moodle authentication works. Here's the problem: The \"get_resources\" function of web services will give me the contents of the html file uploaded (as \"alltext\" tag). That html file also contains the path to the images. Now if I have to render this html on a mobile device using the data I received from the webservice, I need to render the images as well. Is there a way to get access to these images to user2 (with authentication method of web service). When user1 visits the same course via browser, he sees the content properly. If I use the MoodleSession and MoodleSessionTest cookies of user1 and hardcode them into the mobile version of my moodle client, the images show up properly as well on my mobile device. I am looking for a way where user2 can see the contents, as user1 would see in the browser. If manual and webservice authentications were treated similar in giving access to resources, the problem would be solved or if user2 could login both via browser and via webservice at the same time, this problem could be solved. Hope I was able to clearly state the problem.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://mydomain.com/lms/file.php?file=You_are_logged_in_as.png"
          ],
          "Time": "Saturday, February 12, 2011, 3:25 AM",
          "AuthorName": "Ramakant Kulkarni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295351&course=5",
          "role": [
            "Picture of Ramakant Kulkarni"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 166298,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=166298",
      "NoOfResponses": 17,
      "ResponsesInList": [
        {
          "Title": "Web Services API - User Account created, but unable to login",
          "Text": "Hello fellow Moodlers! I'm working with my programmer and we've successfully used the web services API to create User Accounts in our 1.9.9 Moodle Instance, but after the user account is created the user can't login.  User can't login after they change they request password reset on the login page. Any help on this would be great.  I imagine it is a setting somewhere, but we can't see where in the User Authentication or Security settings where this could be. Thanks for your time and knowledge in advance. Gordon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 14, 2011, 7:44 AM",
          "AuthorName": "Gordon Brooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=614239&course=5",
          "role": [
            "Picture of Gordon Brooks"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "Hi Gordon, Yes I've had this in the past, I think I solved this by setting the confirmed flag to 1 within the ???_user table directly in the database after I had created the accounts, not something which can be done via web services. Took me a while to work this one out at the time. The other problem I had was to do with email confirmation of changing the password. As I was using LDAP authentication this was a pain so I unticked the \"Email change confirmation\" on the Site Administration->Security->Site policies page. In Moodle 2.0 it seems the confirmed field defaults to 1 anyway, just looked at the users I've created this afternoon, all of which have not logged in yet. In my Moodle 1.9.7 the default value is 0. If you edit the table schema and change the default for the confirmed field to 1 then hopefully this would alleviate your problem for new users created via web services. You will still have to go back to the ones you have already created and set their confirmed field to 1 as well. Hope this helps. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 19, 2011, 1:14 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "Bill, Thanks for your response on this.  I'm not sure how to access the DB because our instance is hosted.  I'm waiting to her back from our host and will let you know what happens. Thanks again, Gordon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 19, 2011, 7:51 AM",
          "AuthorName": "Gordon Brooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=614239&course=5",
          "role": [
            "Picture of Gordon Brooks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "Hi Gordon. Just had another look at this, you could possibly use the \"Bulk user actions\" in: Site Administration->Users->Accounts->Bulk user actions On the page there is a comboBox labelled \"With selected users...\", one entry is \"Confirm\". I have not used it myself but it looks as if it may do the job you require. Regards Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 19, 2011, 8:49 AM",
          "AuthorName": "Bill Antonia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1286643&course=5",
          "role": [
            "Picture of Bill Antonia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "Hi Bill, Just tried that with no luck.  Another problem with it is that I need the enrolled participant to have immediate access. This option appears that I would need to login in and confirm once an enrollment came through (can't do this because the participant is making a payment on Paypal and needs access right away.) I'm wondering if it might not be the issue with the DB like you mentioned previously.  I'm still waiting on access to the DB. Would it be helpful to look at the script we are using? I appreciate your help very much and hopefully we'll stumble upon the correct mix of options to provide the solution. Gordon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 19, 2011, 11:24 PM",
          "AuthorName": "Gordon Brooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=614239&course=5",
          "role": [
            "Picture of Gordon Brooks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": ">Would it be helpful to look at the script we are using? Yes definitely, and also what version of the Web Service you are using (if it is OK Tech WS, version is given in script wspp/local/wspp/version.php). Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2011, 1:57 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "Patrick, Here is the script (attached as MS Word2007 so you can see formatting a little easier).  I'm not sure what version of WS are using.  How would I check that?  Remote-Learner is our provider and they turned it on.  I would imagine it is the original moodle WS. Gordon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2011, 4:27 AM",
          "AuthorName": "Gordon Brooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=614239&course=5",
          "role": [
            "Picture of Gordon Brooks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "Hi Gordon, I've had this problem in the past and managed to solve it by settting the mnethostid to a value of 3. Also, I noticed in your code that you set auth = \"1\". The auth column is a string type, so try setting it to a value of \"manual\". Good luck, Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2011, 6:18 AM",
          "AuthorName": "Ken DeVellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35793&course=5",
          "role": [
            "Picture of Ken DeVellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "Ken, Thank you for the note.  I'll give it a try and let you know what happens. Gordon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2011, 7:39 AM",
          "AuthorName": "Gordon Brooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=614239&course=5",
          "role": [
            "Picture of Gordon Brooks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login (problem solved)",
          "Text": "WE got it to work.  See attached document for the script that my programmer came up with.  Let me know if you have questions. Hope it helps! Gordon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 10, 2011, 1:04 AM",
          "AuthorName": "Gordon Brooks",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=614239&course=5",
          "role": [
            "Picture of Gordon Brooks"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "Hello, I am baffled ... A script in ' Visual Basic' calling Moodle WS ... I did not know it was possible Ken is right. With the 'old version' of OK Tech WS distribued by Remote Learner and documented in the book https://www.packtpub.com/moodle-1-9-extension-development/book you must 1) set auth value to 'manual' 2) set the value of a field named mnethostid to a proper value ( 3 is an example, you should look into Moodle's table mdl_config for the proper value (look for a record whose name is 'mnet_localhost_id' )). 3) you must also pay attention to the password. With Remote Learner 's WS it MUST be md5 encoded by you script . In the long run you should consider replacing Remote Leaner's implementation with revision 1.8, available here https://github.com/patrickpollet/moodlews Just unzip it in your Moodle's directory and change you client set up to call http://yourmoodle/wspp/wsdl_pp.php instead of http://yourmoodle/Web Service/wsdl.php Beside the fact that the  errors above are fixed ( don't set auth, mnethostid, lang, confirmed,deleted ...  and the server will adjust them to the correct default values, and the password will be md5 encoded on the server side using Moodle's internal hash, including the recently recommended 'password salt' security setting,  unless you send yourself a passwordmd5 attribute ), you will get much more operations and  Moodle's 2.0 compatibilty. For example an operation named add_user () which is simpler to use that edit_users since it requires only an UserDatum record (with no action attribute set) and not anymore an array containing one UserDatum with action set to 'Add'. see http://moodle.org/mod/forum/post.php?reply=632104 Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, January 20, 2011, 4:43 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "hi i am using php web services in .net application when i am using login function i am getting \"SoapHeaderException was Unhandled by the user \". please tell me how to solve this problem. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2011, 1:03 PM",
          "AuthorName": "gopi kishore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1288599&course=5",
          "role": [
            "Picture of gopi kishore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "@gopi, Trap that exception in a try catch statement and give us the exception message. Cheers PLZ do not cross-post everywhere !!! http://moodle.org/mod/forum/discuss.php?d=167007",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2011, 5:20 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "hi patrick, WS_errorregistersession. This is the error message. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2011, 6:07 PM",
          "AuthorName": "gopi kishore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1288599&course=5",
          "role": [
            "Picture of gopi kishore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "Hi Patrick, this is the exception: at System.Web.Services.Protocols.SoapHttpClientProtocol.ReadResponse(SoapClientMessage message, WebResponse response, Stream responseStream, Boolean asyncCall)   at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke(String methodName, Object[] parameters)   at mymoodle.MoodleWS.login(String username, String password) in c:\\WINDOWS\\Microsoft.NET\\Framework\\v2.0.50727\\Temporary ASP.NET Files\\servicecall\\5ce05a70\\74e2b3d4\\App_WebReferences.r4wf3mq1.0.cs:line 767   at _Default.Page_Load(Object sender, EventArgs e) in C:\\Documents and Settings\\vista19\\My Documents\\Visual Studio 2008\\WebSites\\servicecall\\Default.aspx.vb:line 27",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2011, 7:45 PM",
          "AuthorName": "gopi kishore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1288599&course=5",
          "role": [
            "Picture of gopi kishore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "@gopi, So you are likely aginst Moodle 2.0 and you forgot : 1) to copy the directory wspp/local/wspp to Moodle's local directory, thus the untransalted error message 2) to go to Administration / Notifications to install the required two tables in Moodle's database mdl_webservices_sessions and mdl_webservices_clients_allow If you are in Moodle 1.9, there is a big problem with your Moodle's database since these two tables should be automatically created a the first call to login operation...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2011, 7:45 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services API - User Account created, but unable to login",
          "Text": "Thank you patrick problem solved.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2011, 9:29 PM",
          "AuthorName": "gopi kishore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1288599&course=5",
          "role": [
            "Picture of gopi kishore"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 168068,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=168068",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to access files from outside moodle server",
          "Text": "Hi, how can I add a server files or course material from outside Moodle server. i.e . the files are located in other server. I am trying to add the external url but its not working. Thanks Gopi Kishore",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 5, 2011, 3:15 PM",
          "AuthorName": "gopi kishore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1288599&course=5",
          "role": [
            "Picture of gopi kishore"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 167681,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=167681",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding contents externally to Moodle",
          "Text": "Hi, I am not sure whether I am at the right place to discuss my problem. I am new to Moodle and I would like to know how can I add a course material from outside Moodle other than the repositories given in Moodle 2.0. As an example say I have a website and I want to upload a course material to Moodle from my website. Can I accomplish this with the help of webservices. If yes then can anyone provide me its details? Thanks in advance Jayakrishnan S",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 1, 2011, 11:36 AM",
          "AuthorName": "Jayakrishnan Salim",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1279366&course=5",
          "role": [
            "Picture of Jayakrishnan Salim"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 167284,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=167284",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "unexpected XML tag in JAX-WS client",
          "Text": "Hi all, I have fought today with a trully strange problem. So I am trying to consume a web service using a jax-ws client. i do not have access to the web serviceimplementation because it is a third party. My client code looks like this: OpUserServiceWebService proxy = new Users().getOpUserServiceWebServiceImplPort(); Map requestContext = ((BindingProvider) proxy).getRequestContext(); requestContext.put(BindingProvider.SESSION_MAINTAIN_PROPERTY, true); proxy.signOn(\"Administrator\", \"\"); the following error appears:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2011, 2:15 AM",
          "AuthorName": "Vlad Turian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1291310&course=5",
          "role": [
            "Picture of Vlad Turian"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 166762,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=166762",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "webservice creating new user",
          "Text": "hi, i installed wspp.php and  and edit the misp.php page then run the application but i am getting error i.e Warning : require_once(../config.php) [ function.require-once ]: failed to open stream: No such file or directory in C:\\XAMPP\\htdocs\\moodle1\\moodle\\ws\\wspp\\wsdl_pp.php on line 24. please tell me how to solve this problem. if possible please tell me step by step methods to solve this problem. Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2011, 2:54 PM",
          "AuthorName": "gopi kishore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1288599&course=5",
          "role": [
            "Picture of gopi kishore"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: webservice creating new user",
          "Text": "@gopi, As stated in this thread http://moodle.org/mod/forum/discuss.php?d=144683 you must unzip wspp_xxx.zip at the root of your Moodle installation. As as see in your error message, C:\\XAMPP\\htdocs\\moodle1\\moodle\\ws\\wspp\\wsdl_pp.php it is in a directory named ws ... so MOVE wspp directory  into C:\\XAMPP\\htdocs\\moodle1\\moodle Plz do not cross post",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, January 20, 2011, 4:23 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservice creating new user",
          "Text": "Thanks patrick problem solved.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2011, 4:49 PM",
          "AuthorName": "gopi kishore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1288599&course=5",
          "role": [
            "Picture of gopi kishore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservice creating new user",
          "Text": "Hi Patrick, Successfully i generated the web service. but when i am trying to open the xml file it shows \"inconsistent line endings\" popup window. then i click ok its open xml file with error. i cant access this web service in .net application. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 22, 2011, 1:30 PM",
          "AuthorName": "gopi kishore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1288599&course=5",
          "role": [
            "Picture of gopi kishore"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 144683,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=144683",
      "NoOfResponses": 30,
      "ResponsesInList": [
        {
          "Title": "Webservice to create new user account",
          "Text": "Hello, I need to create a webservice which will accept student details (first and last name, address, username etc) and creates a user account in Moodle. Please let me know how can i acheive this. Any help would be greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 4:01 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "I've been looking for the same sort of explanation for weeks now. There seems to be a lot of people that have questions regarding phases beyond the basic setup, so obviously it works. I just can't find a tutorial that covers all the bases.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 4:26 AM",
          "AuthorName": "Josh Marshall",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1077000&course=5",
          "role": [
            "Picture of Josh Marshall"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "I just found following thread in Webservice forum. But need to go through the post.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 4:57 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hi. Are you talking about Moodle 1.9 or Moodle 2.0. About 2.0 I don't know anything. As for 1.9. I have developed a Joomla-Moodle integration project that uses web services. In Moodle side, it is a new auth plugin that creates some new web-services to be accessed via direct XML -RPC (no mnet encryption) from Joomla. One of those services creates a new user. Details are specific to my project, but maybe looking at the code can help you get started. I looked for the docs I used when I started, but some of them are being replaced with Moodle 2.0 documentation. The project can be found at: http://joomdle.com Regards, Antonio",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 4:29 PM",
          "AuthorName": "Antonio Duran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=705036&course=5",
          "role": [
            "Picture of Antonio Duran"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hello, Create user in one of the 110 operations allowed by OK Tech WebService available on Moodle contrib's CVS http://cvs.moodle.org/contrib/patches/ws/wspp / and here http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/ . This works against Moodle prior to 2.0 Installation and usage is documented in the file INSTALL . In there you will find usage of the provided wsdl2php utility to create 'php skeletons' for all supported operations in a folder tests/ (see also http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/wsdl2php/ ) Among these the script tests/test_add_user.php \n```text\n<?php\nrequire_once ('../MoodleWS.php');\n\n$moodle=new MoodleWS();\nrequire_once ('../auth.php');\n/**test code for MoodleWS: add on course\n* @param integer $client\n* @param string $sesskey\n* @param userDatum $user\n* @return editUsersOutput\n*/\n\n$lr=$moodle->login(LOGIN,PASSWORD);\n$user= new userDatum();\n$user->setAction('');\n$user->setId(0);\n$user->setConfirmed(0);\n$user->setPolicyagreed(0);\n$user->setDeleted(0);\n$user->setUsername('');\n$user->setAuth('');\n$user->setPassword('');\n$user->setPasswordmd5('');\n$user->setIdnumber('');\n$user->setFirstname('');\n$user->setLastname('');\n$user->setEmail('');\n$user->setEmailstop(0);\n$user->setIcq('');\n$user->setSkype('');\n$user->setYahoo('');\n$user->setAim('');\n$user->setMsn('');\n$user->setPhone1('');\n$user->setPhone2('');\n$user->setInstitution('');\n$user->setDepartment('');\n$user->setAddress('');\n$user->setCity('');\n$user->setCountry('');\n$user->setLang('');\n$user->setTimezone(0);\n$user->setLastip('');\n$user->setTheme('');\n$user->setDescription('');\n$user->setMnethostid(0);\n$res=$moodle->add_user($lr->getClient(),$lr->getSessionKey(),$user);\nprint_r($res);\nprint($res->getUsers());\n\n$moodle->logout($lr->getClient(),$lr->getSessionKey());\n\n?>\n```\n So just fill the blanks (or comment out data that you do not want to send to Moodle) and enjoy... this answer is already in OKTech Ws Moodle's forum : http://moodle.org/mod/forum/post.php?reply=615268 Similary you will find test_update_user that expect also an userDatum object filled with the requested changes and a string giving which of the field of the Userdatum record is to be used to locate the target user (likely id, idnumber, username or email that are unique in Moodle DB). Finally you will find test_delete_user that expect just a unique value and an identifying string such as \n```text\n// delete by username\n```\n \n```text\n$res=$moodle->delete_user($lr->getClient(),$lr->getSessionKey(),'me','username');\n```\n or \n```text\n$res=$moodle->delete_user($lr->getClient(),$lr->getSessionKey(),'me@somewhere','email');\n```\n Alternatively you may the edit_users operation for bulk processing . It expect an array of userDatum records (each one built as above with more of less details depending of the wanted operation) plus for each an operation attribute named action (add, udpate or delete). Internally the add_user operation build the array expected by edit_users and calls it. See source code in mdl_soap_server.class.php The same goes for other entities (courses, groups, groupings, categories, section, labels, wiki, forums ...) And if you do not want to use php, sample codes are provided in java or Python on the project 's page with usage of wsdl2java or wsdl2py to create almost the same skeletons in these languages. Or install the graphical SoapUI utility that will create for you skeleton of requests based on the sent wsdl. These skeletons will help you to test the service and guess the required parameters to be used in you favorite language. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 5:07 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Yes i am also looking for some proper documentation for using web services form moodle. Initially i was told that this feature will be available in moodle 2.0 but reading posts in this forum i can see that web services are also available in prior versions. I am new to PHP and Moodle. Basically I am a .net guy and looking for integrating moolde with our existing ASP.Net application & Facebook connect. I have Moodle 1.9.7 (Build: 20091126) running. I tried to go thru different documentation but not getting on proper track. If any body can guide me or provide pointers for systematic setup of web service and their usage form ASP.Net application. Thanks in advance. - Pinal Bhatt",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 8:29 PM",
          "AuthorName": "Pinal Bhatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1080097&course=5",
          "role": [
            "Picture of Pinal Bhatt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hello Patrick, Thanks for your reply and detailed guidance. I will start working on this and will keep you posted regarding the status. Hi Pinal, I am in exactly same situation as you are ...am a .Net guy but need to create a webservice in PHP for Moodle version 1.9.7 I am going to follow the guidance that Patrick has mentioned in my post and will let you guys know how is it going. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 27, 2010, 1:38 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hey Patrick, I was working on the steps mentioned in INSTALL file but not sure how to and where to execute the following command: on the server go to wspp/clients and run the following php ../wsdl2php.php http://yourmoodle/wspp/wsdl_pp.php I am very new to PHP and so nay advice would be a great help. Thanks a lot.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 27, 2010, 6:54 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Well, this command has to be launched in a console (nix) or a Dos command shell (Windows) something like cd /var/www/html/moodle/wspp/clients or cd d:\\inetd\\ .....\\moodle\\wspp\\clients. (don't know nothing under Windows) and then the magic command above AS far as SoapUi is concerned you have a demo video on their site http://www.soapui.org/ and also (even if you do not understand French, you can follow my mouse gestures ) on my site http://cipcnet.insa-lyon.fr/moodle/file.php/1/soapui_demo.flv for an example of use against a real Moodle server ! Cheers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Saturday, February 27, 2010, 5:21 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Thanks a lot Patrick for the reply. Sorry that I did not mentioned in my previous post that my Moodle site is hosted on remote server. However I am having access to that remote server through cPanel . Can you please tell me how can I execute the above commands using cPanel? For using SOAPUi i will review the videos on their site as well as one avaiable on your site. Regards.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 1, 2010, 11:12 PM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "I am afraid that cPanel does not give you command line access to the remote server so 1) on you local machine, in some directory get only the files wspp/wsdl2php.php and wspp/clients/auth.php.dist 2) make sure php on that local machine has phpsoap extension installed 3) rename auth.php.dist to auth.php and edit it to provide an account that has access to Moodle (either admin accont ot an account using the webservice authentification méthod). 4) you should get something like ppollet@prope:/tmp/test$ ll total 28 -rw-r--r-- 1 ppollet ppollet 156 2010-03-01 17:36 auth.php -rw-r--r-- 1 ppollet ppollet 24382 2010-03-01 17:36 wsdl2php.php 5)run the command ppollet@prope:/tmp/test$ php wsdl2php.php http://yourmoodle/wspp/wsdl_pp.php you should get Writing affectRecord.php...ok Writing userRecord.php...ok Writing groupRecord.php...ok Writing groupingRecord.php...ok Writing sectionRecord.php...ok Writing courseRecord.php...ok Writing gradeRecord.php...ok Writing enrolRecord.php...ok Writing eventRecord.php...ok Writing changeRecord.php...ok Writing roleRecord.php...ok Writing categoryRecord.php...ok Writing resourceRecord.php...ok Writing activityRecord.php...ok Writing fileRecord.php...ok Writing assignmentSubmissionRecord.php...ok Writing labelRecord.php...ok Writing forumRecord.php...ok Writing assignmentRecord.php...ok Writing databaseRecord.php...ok Writing wikiRecord.php...ok Writing pageWikiRecord.php...ok Writing userDatum.php...ok Writing courseDatum.php...ok Writing labelDatum.php...ok Writing groupDatum.php...ok Writing groupingDatum.php...ok Writing categoryDatum.php...ok Writing sectionDatum.php...ok Writing forumDatum.php...ok Writing assignmentDatum.php...ok Writing databaseDatum.php...ok Writing wikiDatum.php...ok Writing pageWikiDatum.php...ok Writing loginReturn.php...ok Writing editUsersInput.php...ok Writing editUsersOutput.php...ok Writing getUsersReturn.php...ok Writing editCoursesInput.php...ok Writing editCoursesOutput.php...ok Writing getCoursesReturn.php...ok Writing getGradesReturn.php...ok Writing enrolStudentsReturn.php...ok Writing getRolesReturn.php...ok Writing getGroupsReturn.php...ok Writing getEventsReturn.php...ok Writing getLastChangesReturn.php...ok Writing getCategoriesReturn.php...ok Writing getResourcesReturn.php...ok Writing getSectionsReturn.php...ok Writing getActivitiesReturn.php...ok Writing getAssignmentSubmissionsReturn.php...ok Writing editLabelsInput.php...ok Writing editLabelsOutput.php...ok Writing editGroupsInput.php...ok Writing editGroupsOutput.php...ok Writing editGroupingsInput.php...ok Writing editGroupingsOutput.php...ok Writing editCategoriesInput.php...ok Writing editCategoriesOutput.php...ok Writing editSectionsInput.php...ok Writing editSectionsOutput.php...ok Writing editForumsInput.php...ok Writing editForumsOutput.php...ok Writing editAssignmentsInput.php...ok Writing editAssignmentsOutput.php...ok Writing editDatabasesInput.php...ok Writing editDatabasesOutput.php...ok Writing editWikisInput.php...ok Writing editWikisOutput.php...ok Writing editPagesWikiInput.php...ok Writing editPagesWikiOutput.php...ok Writing getAllForumsReturn.php...ok Writing getAllLabelsReturn.php...ok Writing getAllWikisReturn.php...ok Writing getAllPagesWikiReturn.php...ok Writing getAllAssignmentsReturn.php...ok Writing getAllDatabasesReturn.php...ok Writing getAllGroupingsReturn.php...ok Writing tests/test_login.php...ok Writing tests/test_logout.php...ok Writing tests/test_edit_users.php...ok Writing tests/test_get_users.php...ok Writing tests/test_edit_courses.php...ok Writing tests/test_get_courses.php...ok Writing tests/test_get_resources.php...ok Writing tests/test_get_version.php...ok Writing tests/test_get_sections.php...ok Writing tests/test_get_instances_bytype.php...ok Writing tests/test_get_grades.php...ok Writing tests/test_get_user_grades.php...ok Writing tests/test_get_course_grades.php...ok Writing tests/test_enrol_students.php...ok Writing tests/test_unenrol_students.php...ok Writing tests/test_get_last_changes.php...ok Writing tests/test_get_events.php...ok Writing tests/test_get_course.php...ok Writing tests/test_get_course_byid.php...ok Writing tests/test_get_course_byidnumber.php...ok Writing tests/test_get_user.php...ok Writing tests/test_get_roles.php...ok Writing tests/test_get_role_byid.php...ok Writing tests/test_get_role_byname.php...ok Writing tests/test_get_categories.php...ok Writing tests/test_get_category_byid.php...ok Writing tests/test_get_category_byname.php...ok Writing tests/test_get_my_courses.php...ok Writing tests/test_get_my_courses_byusername.php...ok Writing tests/test_get_my_courses_byidnumber.php...ok Writing tests/test_get_user_byusername.php...ok Writing tests/test_get_user_byidnumber.php...ok Writing tests/test_get_user_byid.php...ok Writing tests/test_get_users_bycourse.php...ok Writing tests/test_count_users_bycourse.php...ok Writing tests/test_get_courses_bycategory.php...ok Writing tests/test_get_groups_bycourse.php...ok Writing tests/test_get_group_byid.php...ok Writing tests/test_get_groups_byname.php...ok Writing tests/test_get_group_members.php...ok Writing tests/test_get_grouping_members.php...ok Writing tests/test_get_my_id.php...ok Writing tests/test_get_my_group.php...ok Writing tests/test_get_my_groups.php...ok Writing tests/test_get_teachers.php...ok Writing tests/test_get_students.php...ok Writing tests/test_has_role_incourse.php...ok Writing tests/test_get_primaryrole_incourse.php...ok Writing tests/test_get_activities.php...ok Writing tests/test_count_activities.php...ok Writing tests/test_get_assignment_submissions.php...ok Writing tests/test_add_user.php...ok Writing tests/test_add_course.php...ok Writing tests/test_add_group.php...ok Writing tests/test_add_grouping.php...ok Writing tests/test_add_section.php...ok Writing tests/test_add_label.php...ok Writing tests/test_add_forum.php...ok Writing tests/test_add_database.php...ok Writing tests/test_add_assignment.php...ok Writing tests/test_add_wiki.php...ok Writing tests/test_add_pagewiki.php...ok Writing tests/test_delete_user.php...ok Writing tests/test_add_category.php...ok Writing tests/test_delete_course.php...ok Writing tests/test_delete_group.php...ok Writing tests/test_delete_grouping.php...ok Writing tests/test_update_user.php...ok Writing tests/test_update_course.php...ok Writing tests/test_update_section.php...ok Writing tests/test_update_group.php...ok Writing tests/test_update_grouping.php...ok Writing tests/test_edit_labels.php...ok Writing tests/test_edit_groups.php...ok Writing tests/test_edit_assignments.php...ok Writing tests/test_edit_databases.php...ok Writing tests/test_edit_categories.php...ok Writing tests/test_edit_sections.php...ok Writing tests/test_edit_forums.php...ok Writing tests/test_edit_wikis.php...ok Writing tests/test_edit_pagesWiki.php...ok Writing tests/test_affect_course_to_category.php...ok Writing tests/test_affect_label_to_section.php...ok Writing tests/test_affect_forum_to_section.php...ok Writing tests/test_affect_section_to_course.php...ok Writing tests/test_affect_user_to_group.php...ok Writing tests/test_affect_group_to_course.php...ok Writing tests/test_affect_wiki_to_section.php...ok Writing tests/test_affect_database_to_section.php...ok Writing tests/test_affect_assignment_to_section.php...ok Writing tests/test_affect_user_to_course.php...ok Writing tests/test_affect_pageWiki_to_wiki.php...ok Writing tests/test_remove_user_from_course.php...ok Writing tests/test_get_all_groups.php...ok Writing tests/test_get_all_forums.php...ok Writing tests/test_get_all_labels.php...ok Writing tests/test_get_all_wikis.php...ok Writing tests/test_get_all_pagesWiki.php...ok Writing tests/test_get_all_assignments.php...ok Writing tests/test_get_all_databases.php...ok Writing tests/test_get_all_groupings.php...ok Writing tests/test_remove_user_from_group.php...ok Writing tests/test_edit_groupings.php...ok Writing tests/test_remove_group_from_grouping.php...ok Writing tests/test_affect_group_to_grouping.php...ok Writing MoodleWS.php...ok Writing test_MoodleWS.php...ok Generated 105 functions calls and 79 custom datatypes 6) go into the created tests directory and start playing around ppollet@prope:/tmp/test$ cd tests/ ppollet@prope:/tmp/test/tests$ php test_get_r test_get_resources.php test_get_role_byid.php test_get_role_byname.php test_get_roles.php ppollet@prope:/tmp/test/tests$ php test_get_roles.php getRolesReturn Object ( [roles] => Array ( ... [6] => stdClass Object ( [error] => [id] => 7 [name] => Utilisateur authentifié [shortname] => user [description] => Tous les utilisateurs connectés. [sortorder] => 6 ) ) )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 2, 2010, 12:42 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "I think i need to first install PHP on my machine(Windows Xp) to enable soap extension, right? Thanks so much Patrick for helping me on this project. I sincerely appeaciate your time and guidance in this regard.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://moodle.org/pix/s/smiley.gif"
          ],
          "Time": "Tuesday, March 2, 2010, 2:10 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hello Patrick, As suggested by you, I installed PHP on my local machine(with Windows Xp): 1) created a directory \"phpfiles\" with files wspp/wsdl2php.php and wspp/clients/auth.php.dist 2) phpsoap extension installed on my local machine 3) rename auth.php.dist to auth.php and edit it to provide an account that has access to Moodle (either admin accont ot an account using the webservice authentification méthod). But i am not sure how to do step 4 as mentioned by you: ppollet@prope:/tmp/test$ ll total 28 -rw-r--r-- 1 ppollet ppollet 156 2010-03-01 17:36 auth.php -rw-r--r-- 1 ppollet ppollet 24382 2010-03-01 17:36 wsdl2php.php All I am doing is going to the directory \"phpfiles\"(where I copied the two files) through the command prompt and then executing the php wsdl2pp.php command. But I am getting error screen saying \"CLI encountered a problem and needs to colse\" kindly advise.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 2, 2010, 11:55 PM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hi moodleuser, that are all linux commands. We need to do this on dos command console. I copied the two files in D:\\mt folder and renamed file accordingly. so my command will be like this: D:\\mt> php wsdl2php.php http://www.moodle1.com/moodle/wspp/wsdl_pp.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 3, 2010, 2:07 AM",
          "AuthorName": "Pinal Bhatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1080097&course=5",
          "role": [
            "Picture of Pinal Bhatt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hi Pinal, Yes I tried executing the php command using command prompt in windows after copying these two files to c:\\phpfiles directory(the temporary directory i created for these 2 files.), but getting error screen \"CLI has encountered a problem and needs to close\". Just to mention that my Moodle and database is hosted on Remote server and I am executing this command on my local machine. Is this correct way? Please advice. Thankyou so much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 3, 2010, 2:43 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "no idea for this error buddy, but that worked for me without error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 3, 2010, 4:00 AM",
          "AuthorName": "Pinal Bhatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1080097&course=5",
          "role": [
            "Picture of Pinal Bhatt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Also not sure about how to test the web service login operation as mentioned install file: 6) test the Web Service login operation. The easiest way is surely using SoapUI graphical  interface. - create a new Wsdl project with URL http://yourmoodle/wspp/wsdl_pp.php . - test login operation, and if successfull, copy the returned client number and sessionkey in the corresponding input fields of other operation It would be really helpful if someone can explain me about how to execute the above step and how to use SOAPUI graphical interface. Thanks so much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 27, 2010, 6:58 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Eureka eureka eureka .... i got moodle service running and successfully called from .net client. Here are the simple steps i did. and you can see the video of accessing moodle service from .net client at http://www.screencast.com/users/PinalBhatt/folders/Default/media/b93eb27f-eca3-4a94-861d-5c9911b54abe Steps: make sure the phpsoap extension (for php5 !) in installed unzip the wspp_xxx.zip into your main Moodle installation folder (i used wspp_1.6.2 version) copy wspp/lang/en_utf8/wspp.php into your moodledata/lang/en_utf8_local folder . edit moodle/admin/settings/misc.php and add the line require(\"$CFG-> dirroot /wspp/admin/wspp.php\"); just before this line // hidden scripts linked from elsewhere Go to your moodle site as administrator and go to \"Notifications\" under \"site Administration\" links and complete the upgrade process. (i kept default settings) Verification step: Make sure the WSDL file (that describes the offered services ) is accessible by calling in a browser 'http://yourmoodle/wspp/wsdl_pp.php ' . It should present you a file (moodlews.wsdl) to download . You may cancel the operation since this file is not needed. It that fails, then it means there are some issues. Thats it...thats all we need to do on moodle side... rest is on .net side. In Visual Studio .Net project, add web reference to http://yourmoodle/wspp/wsdl_pp.php. ( important: when you enter this link and click go it will ask to open/save the file. please select \" open \" ) You can see video at above links. And rest is accessing webservices as usual we do in .net. below is the sample code to get list of categories: Moodle.MoodleWS s = new Moodle.MoodleWS(); Moodle.loginReturn lr = s.login(\"testuser\", \"testuser\"); Moodle.getCategoriesReturn res = s.get_categories(lr.client, lr.sessionkey); Response.Write(res.categories[0].name); s.logout(lr.client, lr.sessionkey); so steps are really simple, we were just getting confused by complected steps. Thanks & Regards, Pinal Bhatt http://www.P-Bhatt.com http://lms.Learning-Leisure.com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 3, 2010, 3:51 AM",
          "AuthorName": "Pinal Bhatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1080097&course=5",
          "role": [
            "Picture of Pinal Bhatt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hi Pinal, Glad you did it Thanks for the screncast under Visual Studio. I shall reuse you step 5 and 6 that are 'clearer' and in better english in my INSTALL file. Cheers. Hi Moodle user, You have definitively an error with your php installation on your Windows, but as Pinal demontrated, you may just not need php to test the Web Service on your local machine. I gave that solution since I am not at all a Windows guy and know nothing about .net and Visual Studio.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, March 3, 2010, 3:31 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hi Pinal, I sincerely thanks for replying to my post and glad to know that you successfully did it . I have few questions though... 1) how should I pass parameters from .Net file to a function in this web service. i.e. I want to use add_user($lr->getClient(),$lr->getSessionKey(),$user) funtion which requires $user object. How should i populate this object through a .Net file? Do I need to create a similar object in .net and pass that one? 2) How can I call a .net webservice from Moodle, i.e. I need to call a web service when a student receives the completion certificate and passing values such as username, course id, score etc. Please advice. Best regards. Hello Patrick, I thank you for taking time to reply and help me out with this task. I greatly appreciate this. Best Regards.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://moodle.org/pix/s/smiley.gif"
          ],
          "Time": "Wednesday, March 3, 2010, 11:53 PM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hi Moodle User, You dont need to create any new classes, when you add a web reference Visual Studio generates proxy for the service and it creates necessary classes in .net. To pass parameters from .net to web service you can see the code i have submitted. below is the code to call create user web service: Please note that in below code \"Moodle\" is the namespace name i have given to web service reference. Moodle.MoodleWS s = new Moodle.MoodleWS(); Moodle.loginReturn lr = s.login(\"admin\", \"Ganesh123\"); Moodle.userDatum user = new Moodle.userDatum(); user.action=\"\"; user.idnumber = \"FB103\"; user.confirmed =\"1\"; user.policyagreed = \"1\"; user.deleted = \"0\"; user.username = \"testuser04\"; user.auth = \"manual\"; user.password = \"\"; user.firstname = \"test03\"; user.lastname = \"user03\"; user.email = \"pinalbhatt2@msn.com\"; user.city = \"NU\"; user.country = \"US\"; user.timezone = \"99\"; Moodle.editUsersOutput u = s.add_user(lr.client, lr.sessionkey, user); s.logout(lr.client, lr.sessionkey); - Pinal Bhatt",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 4, 2010, 12:06 AM",
          "AuthorName": "Pinal Bhatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1080097&course=5",
          "role": [
            "Picture of Pinal Bhatt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hey Pinal, A big thanks for such a prompt reply. I wil try this and let you know Any clue on how to achieve the 2nd part, calling .Net web service from Moodle? You were a great help. Thanks again. Ritu",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, March 4, 2010, 12:14 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Sounds good to me actually all 'empty' values are unneeded and are ignored by the web service, so the following lines could be removed: user.action=\"\"; user.deleted = \"0\"; user.password = \"\"; Good show Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, March 4, 2010, 1:10 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hello Guys, I have insatlled latest WSPP folder to my Moodle 1.9.7 and I am trying to call add user function froma .net client as mentioned by Pinal. But I am getting the Content Type in Response Headers as text/html instead of application/soap+xml. I did changed then header in wsdl_pp.php to header('Content-Type: application/soap+xml; charset=UTF-8'); Also my Site administration block disappeared after I enabled this Web service plug. Please advice. Thanks so much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 6, 2010, 12:48 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hi Moodle user, I am afraid that you have broken something when editing the file moodle/admin/settings/misc.php see step 4 on Pinal's message above or the INSTALL file edit moodle/admin/settings/misc.php and add the line require(\"$CFG-> dirroot /wspp/admin/wspp.php\"); just before this line // hidden scripts linked from elsewhere so it explains that the admin block has diseappared (something is broken in file misc.php) and that you get an text/html answer (likely an error message sent by Moodle), rather that the expected XML . Try to fetch the wsdl file by calling http://yourmoodle/wspp_wsdl_pp.php ... you should not change the header sent by wsdl_pp.php... Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 6, 2010, 2:59 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Thanks Patrick this did worked, my Site Admin block is back and I reverted the content type header back to original. Also when i am browsing my wsdl http://yourmoodle/ws/wspp/wsdl_pp.php it is showing me the correct Moodlewsdl.xml document. But still I am not able to access the webservice through .Net as mentioned by Pinal. Pinal, you mentioned in your post that \" You dont need to create any new classes, when you add a web reference Visual Studio generates proxy for the service and it creates necessary classes in .net \" This is not happening for me, Visual Studio is not generating the necessary classes and I am getting response header in text/html format as opposed to application/xml. What could be the reason for this.  One more thing to mention that I am having a extra directory \"ws\" from my root directory i.e ws/wspp/ and so http://mymoodle.com/ws/wspp/wspp_pp.php which is still giving me correct xml file. I have edited the path to the root config.php in wsdl_pp.php file accordingly. Any advice would be helpful. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 6, 2010, 5:12 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "> One more thing to mention that I am having a extra directory \"ws\" from my root directory i.e ws/wspp/... this IS the reason, please install it into its proper place !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 6, 2010, 2:33 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "Hi, I've created a python script to use the webservice (moodle 1.9.6) : -- from suds.client import Client import pdb import md5 url = 'http://mymoodle/wspp/wsdl_pp.php' client = Client(url) c, sk = client.service.login('admin', 'admin') u = client.factory.create('userDatum') u.username = 'user' u.firstname = 'User' u.lastname = 'FOOBAR' u.email = 'user@user.com.br' u.password = 'user' u.auth = 'manual' u.city = 'Brasilia' u.country = 'BR' u.confirmed = '1' u.timezone = '99' u.idnumber = '234' print client.service.add_user(c[1], sk[1], u) -- At first the error message was containing the missing properties, so I added those one by one : missing username, missing password etc ... But now I've this : (editUsersOutput){ users[] = (userRecord){ error = \"erreur en créant l'utilisateur 234.\" So I'm a bit lost, what am I doing wrong now ? Thanks, PS: all the get_* services are working great, so it's not an authentication problem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 22, 2010, 5:59 AM",
          "AuthorName": "loic jeannin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181483&course=5",
          "role": [
            "Picture of loic jeannin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "After a deep debug (that goes into insert_record), it appears that policyagreed and emailstop have to be set. Moodle 1.9.7 / mysql",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 22, 2010, 8:02 AM",
          "AuthorName": "loic jeannin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181483&course=5",
          "role": [
            "Picture of loic jeannin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservice to create new user account",
          "Text": "hi pinal, i follow your steps and installed wspp. but i am getting the below error Fatal error : require_once() [ function.require ]: Failed opening required '../config.php' (include_path='.;C:\\XAMPP\\php\\ PEAR ') in C:\\XAMPP\\htdocs\\moodle1\\moodle\\ws\\wspp\\wsdl_pp.php on line 24. please tell me the mistak. Thnaks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 20, 2011, 3:21 PM",
          "AuthorName": "gopi kishore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1288599&course=5",
          "role": [
            "Picture of gopi kishore"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 166480,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=166480",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Calling an ASP.net web service",
          "Text": "I would like to call an ASP.NET web service from Moodle. Can anybody offer any advice. Thanks, P.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2011, 8:01 PM",
          "AuthorName": "Paul Walsh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1127190&course=5",
          "role": [
            "Picture of Paul Walsh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Calling an ASP.net web service",
          "Text": "By definition, it shouldn't matter that it's asp.net. However, there are lots of different web service protocols so you need to understand the spec for the one you want to call. Next you need to write the Moodle client side and put it somewhere sensible. All that depends on what the web service does of course. Really - lots more information is needed to give you any sort of sensible advice.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2011, 8:05 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Calling an ASP.net web service",
          "Text": "Fair enough. I just want to call a simple ASP.NET 3.5 SOAP Version 1.1 based web service. Web service is for authenticating login id and password pair input parameters and it returns a boolean. I was hoping that there might be some samples?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2011, 9:55 PM",
          "AuthorName": "Paul Walsh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1127190&course=5",
          "role": [
            "Picture of Paul Walsh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Calling an ASP.net web service",
          "Text": "Well, you should find some examples of using SOAP in PHP. There are SOAP libraries in Moodle already. The next step is to write your own authentication plugin to do this. You can pretty much grab one of the existing ones and modify it. You don't say which version of Moodle - Moodle 2 has a lot more web service stuff than 1.9 and earlier.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2011, 9:58 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Calling an ASP.net web service",
          "Text": "Hi Howard, Thanks for getting back to me. I have to stick with Moodle 1.9 for now. I am using nusoap ( http://sourceforge.net/projects/nusoap/ ) and I am making good progress so far....It seems to work well for SOAP V1.1. Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2011, 11:51 PM",
          "AuthorName": "Paul Walsh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1127190&course=5",
          "role": [
            "Picture of Paul Walsh"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 166154,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=166154",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Huge Dataupload",
          "Text": "Hello it's me again and i need help again the question is, could a webservice function proccess a huge data amount and if so what is important then for the implementation?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, January 12, 2011, 7:49 PM",
          "AuthorName": "markus schneider",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1186608&course=5",
          "role": [
            "Picture of markus schneider"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Huge Dataupload",
          "Text": "Yes... but I'm not sure that HTTP is the best transport for 'huge' amounts of data. Depends what 'huge' means. I would have thought your upstream internet connection might be the limiting factor in reality. Alternatives might be to (say) scp the data to the remote server and then process it from a now local location using the webservice. Devil is in the detail",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, January 12, 2011, 7:54 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Huge Dataupload",
          "Text": "huge =20 MB and thanks alot for the fast answer",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, January 12, 2011, 8:04 PM",
          "AuthorName": "markus schneider",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1186608&course=5",
          "role": [
            "Picture of markus schneider"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Huge Dataupload",
          "Text": "That's not huge You can do that with an HTTP POST via a webservice without too much of a worry.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, January 12, 2011, 8:19 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Huge Dataupload",
          "Text": "Not sure if it must be mentioned, but make sure your installation restrictions allow that size of file.  By default this is set much lower than 20MB.  Though you could make that number any size you wished, it would be impractical and create more issues for yourself if you are lifting file size limits on user uploads.  This is especially troublesome when your users are not very technical. Having limits can be a good thing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 12, 2011, 9:10 PM",
          "AuthorName": "juan marin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1196050&course=5",
          "role": [
            "Picture of juan marin"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 165807,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=165807",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Getting list of courses specific to a user",
          "Text": "Hi I'm using Moddle 2.0 web services. When I call the 'moodle_courses_get_course' method, it returns all the courses in the installation.  I need to get only those courses that the user has enrolled in. I pass the user credentials through the admin generated token, the 'wstoken' request parameter.  What parameters should I be passing to retrict the courses returned to only those  that the user has enrolled in ? Regards, John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 7, 2011, 7:51 PM",
          "AuthorName": "Shunya Infinite",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1283868&course=5",
          "role": [
            "Picture of Shunya Infinite"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Getting list of courses specific to a user",
          "Text": "Hi John, I had the same problem and I'm final using the \"get_my_courses_byusername\" methode. For 'uinfo' you must pass the username. The 'sort' parameter can be empty. Bye Flo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 7, 2011, 10:35 PM",
          "AuthorName": "Florian Bernstein",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1283137&course=5",
          "role": [
            "Picture of Florian Bernstein"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting list of courses specific to a user",
          "Text": "Hi Floriana But, that function is not a webservice right?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 8, 2011, 4:09 AM",
          "AuthorName": "Jose Raul Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=292854&course=5",
          "role": [
            "Picture of Jose Raul Perez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Getting list of courses specific to a user",
          "Text": "Ah sorry, my fault. I tought this is was the thread about OKTech Web Services for Moodle. There's a \"get_my_courses_byusername\" methode in thier repository. Sorry for the missunderstanding. Bye, Florian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 8, 2011, 2:04 PM",
          "AuthorName": "Florian Bernstein",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1283137&course=5",
          "role": [
            "Picture of Florian Bernstein"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 165159,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=165159",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Installing moodle in grid type account which doesn't support Java",
          "Text": "Hello everyone, I want to ask you something about moodle and Java issue. I have a dedicated server from Godaddy and my moodle is installed on it. Now for increasing the number of connection at one time to my moodle, I have to change my account plan on Godaddy. They have a grid hosting account type. But in Grid type, Java can not work. So is it reflect my moodle? As I know without Java, my menues seem like a block. But more?Do you know that without Java environment , can my moodle continue to work?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 28, 2010, 7:30 PM",
          "AuthorName": "eda karacelebi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=943816&course=5",
          "role": [
            "Picture of eda karacelebi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 163418,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=163418",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "create a new webservice function",
          "Text": "hello i want to create a new webservice soap funtion in course/externallib.php. Everytime i call my webservise(with the parameter \n```text\narray\n\n\n  0 \n=>\n \n\n\narray\n\n\n      'username' \n=>\n  \n'test'\n \n(length=4)\n\n\n      'password' \n=>\n  \n'test'\n \n(length=4)\n```\n ) it returns null public static function user_get_all_accessable_courseids_parameters() { return new external_function_parameters( array( 'user'=> new external_multiple_structure( new external_single_structure( array( 'username' => new external_value(PARAM_RAW, 'username'), plz help fast",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, December 2, 2010, 1:00 AM",
          "AuthorName": "markus schneider",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1186608&course=5",
          "role": [
            "Picture of markus schneider"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: create a new webservice function",
          "Text": "Markus Having read the code you posted it looks like you are currently returning the params you passed in after you've validated them. Is that correct? And if so have you setup the _returns function to match that data structure? I'm just getting started with 2.0 web services myself so I wrote this tutorial yesterday to help sort out what was going on. It might give you some other hints and should allow you to make a full simple web-service that you could modify from there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 23, 2010, 6:19 AM",
          "AuthorName": "Gerwood Stewart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=971274&course=5",
          "role": [
            "Picture of Gerwood Stewart"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: create a new webservice function",
          "Text": "Very nice work on your doc You are adding a web service to the core code not to your plugin code. I'll explain how to quickly change your document to follow the recommended way (not touching core code ): * name your externallib class local_PLUGINFOLDER_external * the validate_parameters() function throws an exception if a param is missing (except if told, all params are VALUE_REQUIRED). You don't need this: \n```text\n//retrieve courses\n       if (!key_exists('courseid', $params)) { //Will probably need to chuck a narny.\n           throw new moodle_exception(get_string('nocourseid', 'webservice', $exceptionparam));\n       }\n```\n \n```text\n\n```\n * Avoid to insert data directly into the database , create /PLUGINFOLDER/db/service.php: \n```text\n\n```\n \n```text\n$functions = array(\n\n\n\t\n'PLUGINFOLDER_get_course_activities' =>\n```\n \n```text\n\t\t\narray('classname'   => 'local_PLUGINFOLDER_external',\n```\n \n```text\n\t\t\t\n'methodname'  => 'get_course_activities',\n```\n \n```text\n\t\t\t\n'classpath'   => 'local/PLUGINFOLDER/externallib.php',  '\n```\n \n```text\n\t\t\t\ndescription' => 'Get course \nactivities\n',\n```\n \n```text\n\t\t\t\n'type'        => 'read',\n```\n \n```text\n\t\t\t\n'capabilities'=> 'moodle/course:view')); //optional, useful to let the administrator know what potential capabilities the user 'could' need\n```\n Note: for your core example, we would have edited /lib/db/service.php * the Flash web service client does load automatically every core functions. I'm not sure about plugin though. But it's a bit of an hidden gem in Moodle (Administration > Development > Web service test client > Amf test client link) ;) * for unit test, your probably better having a /PLUGINFOLDER/simpletest/testexternallib.php. (Administration > Development > Unit tests) * don't forget to check capabilities into your externallib.php. Even though many core functions do check capabilities, it is recommended when writting web service to check capabilities into the external function and not depending of a core function doing it (if you call one in your external function). Good luck, and thanks for your documentation",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, December 23, 2010, 11:50 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 164849,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=164849",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Porting Web Services of Moodle 2.0 to 1.9",
          "Text": "Hey, I wanted to know if it's possible to port the web services framework of moodle 2.0 to moodle 1.9. If not, it would be really helpful if you could point me to documentation for implementing web services in moodle 1.9 Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 22, 2010, 8:30 AM",
          "AuthorName": "Gauresh Rane",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1279823&course=5",
          "role": [
            "Picture of Gauresh Rane"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Porting Web Services of Moodle 2.0 to 1.9",
          "Text": "http://docs.moodle.org/en/Web_Services:OK_Tech_Web_Services",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 22, 2010, 9:33 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 163161,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=163161",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "integrating a moodle site with another moodle site",
          "Text": "First, sorry if my english bad. I have task to create new module. This module will integerating one moodle site with another moodle site. Can anyone help me how to create this module? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 29, 2010, 12:53 PM",
          "AuthorName": "Billy Pramboro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1256840&course=5",
          "role": [
            "Picture of Billy Pramboro"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: integrating a moodle site with another moodle site",
          "Text": "Description of my module: i want to create new module that can use tointegerating one moodle site with another moodle site. Moodle, as one type of LMS can be functioning as resource material. Collection of these materials is very important for the student. In my project, i proposes a system that can present material from several moodle-based system help by web service. So student only visit one moodle site, can get material from several moodle site-that also installed this module. Example if you have access to llandrillo.ac.uk, you also can access to mit.edu site. You can download resource material from other site just with one login.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 3, 2010, 2:49 PM",
          "AuthorName": "Billy Pramboro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1256840&course=5",
          "role": [
            "Picture of Billy Pramboro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: integrating a moodle site with another moodle site",
          "Text": "You might want to take a look at MNET before creating your module: http://docs.moodle.org/en/Moodle_Network and http://docs.moodle.org/en/Development:MNET_2.0 -- Muyi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 4, 2010, 8:15 PM",
          "AuthorName": "Olumuyiwa Taiwo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=416594&course=5",
          "role": [
            "Picture of Olumuyiwa Taiwo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: integrating a moodle site with another moodle site",
          "Text": "I am still confused about making the web service. whether irtu placed in lib.php, or created as a file itself?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 7, 2010, 2:10 PM",
          "AuthorName": "Billy Pramboro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1256840&course=5",
          "role": [
            "Picture of Billy Pramboro"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 162869,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=162869",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Sharing developed external functions",
          "Text": "Hi, I've taken a deeper look into the moodle 2.0 web services in the last couple of month and developed some new external functions which I needed for a project. I would like to share this stuff with you. Maybe someone can use it!?!. I've added the new external functions to the /local directory. It works like a plugin basically. So far I've created external functions for: enrolment: manual_enrol() - allows enrolment of users into courses ret_value() - just a test external function for myself to check if web services are set up correctly courses: add_event() - allows you to add an event to an existing course edit_summary() - change the summary text of a course create_course_from_template() - Currently not working. Can't figure out why. It should basically allow you to create a new course from a backup of a course. I've also added an simple xmlrpcclient for testing the different functions. Hope you can use the stuff I've developed. Please be aware that some of the code is closely connected to the project I've been working on. BR Christian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 24, 2010, 5:28 PM",
          "AuthorName": "Christian Pfisterer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1127031&course=5",
          "role": [
            "Picture of Christian Pfisterer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Sharing developed external functions",
          "Text": "Posting here is a good start. Adding patches to the tracker probably comes next. See Development:Overview and Guidelines_for_contributed_code .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 27, 2010, 6:09 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 162856,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=162856",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Different interface for moodle with web services?",
          "Text": "Hi to all We are planning to develop a new interface for moodle, and I thought that to use web services was a good idea to get the information to my application... But we are not sure if just now, the implementation that moodle has of web services, will be enough for develop something like that.. Really we don't need absolutely all the functionalities that moodle has.. But maybe is still too much soon? Any suggestions? Regards from Barcelona !!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 24, 2010, 7:02 AM",
          "AuthorName": "Jose Raul Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=292854&course=5",
          "role": [
            "Picture of Jose Raul Perez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Different interface for moodle with web services?",
          "Text": "Hi Jose, I just wrote a FAQ about web service: http://docs.moodle.org/en/Web_services_FAQ . To summarize: nothing more planned yet. But if the Moodle admin is willing/can add some files in Moodle /local/ folder, it will be piece of cake for him to activate new web services that you would have implemented in the plugin.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 24, 2010, 10:53 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Different interface for moodle with web services?",
          "Text": "Martin updated the FAQ",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, November 24, 2010, 2:27 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Different interface for moodle with web services?",
          "Text": "Thanks Jerome, I appreciate the answer. Some experiences of someone that started an interface with webservices, but stop it cause difficulty?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 24, 2010, 4:27 PM",
          "AuthorName": "Jose Raul Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=292854&course=5",
          "role": [
            "Picture of Jose Raul Perez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 160326,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=160326",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "webservice/wsdoc.php?protocol=soap, A required parameter (sesskey) was missing",
          "Text": "Hello Experts, When I call the URL https://moodleserver/moodle20/webservice/wsdoc.php?protocol=soap I get the following error: A required parameter (sesskey) was missing I have found a number of other topics that discuss this error but only in circumstances where Moodle and an external plugin have different versions, i.e. Moodle release is newer and plugin release is old. In my case, this problem occurs with a core plugin (webservice). Anyone encountered the same problem? Regards, Anders",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2010, 10:09 AM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: webservice/wsdoc.php?protocol=soap, A required parameter (sesskey) was missing",
          "Text": "Hi Anders, for security reason, you need to be logged in Moodle, and go on your security keys page ( http://docs.moodle.org/en/How_to_get_a_security_key ) to see the web service documentation (if it was enabled by the administrator). You can not access the web service documentation page directly. Regards, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2010, 11:09 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservice/wsdoc.php?protocol=soap, A required parameter (sesskey) was missing",
          "Text": "Hi Jerome, Thanks for your reply. I followed your instructions but broke down when looking for security keys: In my profile block, I have the following tree: My profile View profile Forum posts Posts Discussions Blogs View all of my entries Add a new entry Messages My private files Notes Is this security key the web services token? Thanks. Regards, Anders",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://r6b2moodleapp1dev.latrobe.edu.au/bsusas/moodle-20-git/theme/image.php?theme=latrobe&image=i%2Fnavigationitem&rev=182",
            "http://r6b2moodleapp1dev.latrobe.edu.au/bsusas/moodle-20-git/theme/image.php?theme=latrobe&image=i%2Fnavigationitem&rev=182",
            "http://r6b2moodleapp1dev.latrobe.edu.au/bsusas/moodle-20-git/theme/image.php?theme=latrobe&image=i%2Fnavigationitem&rev=182",
            "http://r6b2moodleapp1dev.latrobe.edu.au/bsusas/moodle-20-git/theme/image.php?theme=latrobe&image=i%2Fnavigationitem&rev=182",
            "http://r6b2moodleapp1dev.latrobe.edu.au/bsusas/moodle-20-git/theme/image.php?theme=latrobe&image=i%2Fnavigationitem&rev=182",
            "http://r6b2moodleapp1dev.latrobe.edu.au/bsusas/moodle-20-git/theme/image.php?theme=latrobe&image=i%2Fnavigationitem&rev=182",
            "http://r6b2moodleapp1dev.latrobe.edu.au/bsusas/moodle-20-git/theme/image.php?theme=latrobe&image=i%2Fnavigationitem&rev=182",
            "http://r6b2moodleapp1dev.latrobe.edu.au/bsusas/moodle-20-git/theme/image.php?theme=latrobe&image=i%2Fnavigationitem&rev=182"
          ],
          "Time": "Monday, October 18, 2010, 12:22 PM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservice/wsdoc.php?protocol=soap, A required parameter (sesskey) was missing",
          "Text": "Hi again To see web service tokens in your security keys page, you need: 1- to have a role with the capability moodle/webservice:createtoken 2- not being an administrator 3- to be allowed as user on at least one service A link to your security page will be displayed in My profil menu. Note: RSS keys are also displayed on the security keys page. So you could be able to see this page, but not seeing any web service tokens if only RSS keys are enabled.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, October 18, 2010, 1:11 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservice/wsdoc.php?protocol=soap, A required parameter (sesskey) was missing",
          "Text": "Hi Jerome, Thanks for your help with this. Regards, Anders",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 19, 2010, 1:46 PM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservice/wsdoc.php?protocol=soap, A required parameter (sesskey) was missing",
          "Text": "Hi Jerome, I'm looking at using Moodle 2.0 RC2 as a way of more easily getting course details via webservices. I've followed your directions above, doing the following (let me know if I messed anything up): created new role (I called it \"webservice\") gave it all 4 Web Service Capabilities + \"Create a web service token\" (moodle/webservice:createtoken) created a new user in admin->users->accounts->browse, edit the new user under settings->roles->assign roles, choose the webservice role I've triple checked and the role is actually assigned. When I check this user's permissions, I don't see the webservice-related permissions that role was supposed to bestow. This may be more of a \"I don't know how to use Moodle problem.\" When I log in as that use, I don't see no securtiy option under my Profile menu. What could I be doing wrong here? And when you say \"3- to be allowed as user on at least one service,\" are you talking about granting permissions for 4 web service protocols ( AMF /REST/SOAP/ XML -RPC), or do you mean giving the user permission to access certain functions via the web service? If the latter, how do you do this? Thanks in advance. -=Cam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 20, 2010, 1:45 AM",
          "AuthorName": "Cam Marsollier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=982432&course=5",
          "role": [
            "Picture of Cam Marsollier"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservice/wsdoc.php?protocol=soap, A required parameter (sesskey) was missing",
          "Text": "Hi again! Okay the first bit was my misunderstanding of security. I had created the new role that graned the WS token & 4 WS type permissions but only given it USER context . I switched it to System context, assigned that role to a new user, and voila! Logging in under that user gives me the settings->my profile settings->security keys item. So now when I go in there I see a message reading \"The keys are used to access your Moodle account from external applications.The token list is empty.\" No ability to create new keys. How do I create and use keys? Thanks! -=Cam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 20, 2010, 3:04 AM",
          "AuthorName": "Cam Marsollier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=982432&course=5",
          "role": [
            "Picture of Cam Marsollier"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservice/wsdoc.php?protocol=soap, A required parameter (sesskey) was missing",
          "Text": "OKAY.. Ignore me. I just found your full (and very good, btw ) documentation on this subject that walked me through the entire thing, WITH screenshots, and answered every question I could ever have. http://docs.moodle.org/en/How_to_enable_web_services_for_an_external_system Nice work! Not sure why I didn't find this earlier. Thanks so much. -=Cam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 20, 2010, 3:28 AM",
          "AuthorName": "Cam Marsollier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=982432&course=5",
          "role": [
            "Picture of Cam Marsollier"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: webservice/wsdoc.php?protocol=soap, A required parameter (sesskey) was missing",
          "Text": "No worries Cam Don't hesitate to navigate into http://docs.moodle.org/en/Category:Web_Services . All web service related pages should be in this category.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Saturday, November 20, 2010, 12:36 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 162066,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=162066",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Web services and gradebook",
          "Text": "Am I able to use the Moodle web services to \"push\" gradebook information to an external system (via eg. xml )? In other words, can the Moodle web services expose gradebook information? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 11, 2010, 4:56 AM",
          "AuthorName": "Pedro Martins Da Torre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=678663&course=5",
          "role": [
            "Picture of Pedro Martins Da Torre"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web services and gradebook",
          "Text": "Hello, As far as I know there is not yet anything implemented in the official Moodle 2.0 Web Services API about grades. In the meantime you could have a look to OKTech Web Services that runs againt Moodle 1.9 and 2.0 and provides the following operations . see http://moodle.org/mod/forum/discuss.php?d=67947#p707949 /**\n* Find and return student grades for specified courses (moodle 1.9)\n*\n* @uses $CFG\n* @param int $client The client session ID.\n* @param string $sesskey The client session key.\n* @param string $userid The Student ID of the student.\n* @param string $useridfield the field used to identity student\n* @param string[] $courseids Array of course id number\n* @param string $courseidfield field used to identity the courses\n* @return gradeRecord[] student grades\n*\n*/ public function get_grades($client, $sesskey, $userid, $useridfield = 'idnumber', $courseids, $courseidfield = \"idnumber\") /**\n* Find and return course grades for currently enrolled students (moodle 1.9)\n*\n* @uses $CFG\n* @param int $client The client session ID.\n* @param string $sesskey The client session key.\n* @param string $courseid course id number\n* @param string $idfield field used to identity the course\n* @return gradeRecord[] student grades\n*/ public function get_course_grades($client, $sesskey, $courseid, $idfield = \"idnumber\") /**\n* Find and return student grades for currently enrolled courses (moodle 1.9)\n*\n* @uses $CFG\n* @param int $client The client session ID.\n* @param string $sesskey The client session key.\n* @param string $userid The Student ID of the student.\n* @param string $idfield the field used to identity student\n* @return gradeRecord[] student grades\n*\n*/ public function get_user_grades($client, $sesskey, $userid, $idfield = \"idnumber\") Cheers. Edit : Sorry for the strange formatting but moodle.org under Moodle 2.0 seems to still have troubles with line feeds at least with my Chrome browser ,-)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 15, 2010, 12:09 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web services and gradebook",
          "Text": "Thanks Patrick. I'll have a look at it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 16, 2010, 1:11 PM",
          "AuthorName": "Pedro Martins Da Torre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=678663&course=5",
          "role": [
            "Picture of Pedro Martins Da Torre"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web services and gradebook",
          "Text": "Thanks Patrick, I've installed it and it looks promising. Do you know if there's a full english translation anywhere? Many of the strings in the english language files are still in french, example: \\wspp\\local\\wspp\\lang\\en\\local_wspp.php.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 18, 2010, 5:07 AM",
          "AuthorName": "Pedro Martins Da Torre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=678663&course=5",
          "role": [
            "Picture of Pedro Martins Da Torre"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web services and gradebook",
          "Text": "Oups, I messed up  the last  commit... Thinks are complicated by the fact that I wanted the same code to run against Moodle 1.9 and 2.0, but the location, naming, processing and even content of the language files have changed dramatically between these two versions.  So I have to maintain two versions of the lang file for every language ;-( - For use against Moodle 1.9 the file wspp/lang/en_utf8/local_wspp.php (to be copied in moodledata/lang/en_utf8_local) is indeed in english, thanks to Stephen C. Scherer (Do not overwrite it with the attached file) - But for use against Moodle 2.0 the file wspp/local/wspp/lang/en/local_wspp.php (to be copied in Moodle's local directory) was the french version ;-( Don't forget that in Moodle 2.0 language files are cached  so after copying this english version in Moodle's local directory you must clear the caches (in Administration/Development/)   or simply delete the file local_wspp.php in moodledata/cache/lang/en/  (not sure of the exact location since on my dev machine I turned off language cachings ...). Cheers I shall try to update the zip file on cipcnet and Moodle's CVS in few hours .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 18, 2010, 4:54 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 162222,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=162222",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web Services",
          "Text": "I am sorry if I am posting in the wrong area, but I was wondering if anybody could point me to any documentation on using the Web Services for 1.9. I have found some small bits of information, but no real instructions on what needs to be activated, where to go to do it, and a full API. I am a 3rd party developer, and am hoping to write a plugin that would allow student lists, grades, and classes to be downloaded by an instructor and scores to be uploaded using Web Services and C#. Thank you so much for pointing me in the right direction.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 13, 2010, 6:04 AM",
          "AuthorName": "Tim Simon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1198244&course=5",
          "role": [
            "Picture of Tim Simon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web Services",
          "Text": "Hi Tim, Have you looked through Category:Web_Services ? Another interesting resource might be Integration FAQ . And chapter 14 of Moodle 1.9 Extension Development is all about web services. hth Frank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 13, 2010, 7:25 PM",
          "AuthorName": "Frank Ralf",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=728638&course=5",
          "role": [
            "Picture of Frank Ralf"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 86928,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=86928",
      "NoOfResponses": 19,
      "ResponsesInList": [
        {
          "Title": "Standard core functions for web services",
          "Text": "Following on from this list here: http://docs.moodle.org/en/Development:Web_services which looks reasonably good to me so far (please review it further) It seems the next step is to write all these functions in a way so that all web services can access them (as per http://docs.moodle.org/en/Development:Web_services_API ) (and after that we need to work on /mnet/soap and /mnet/rest to provide interfaces to them). Does anyone feel like tackling this? It might be a while until Moodle HQ can get onto it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 20, 2007, 1:52 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "Hi Martin, we (dfwikiteam) will get to programming this right away. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 20, 2007, 4:17 PM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "Well, we'll be continuing our work on the ones we started a while back (that do provide similar API's to the ones posted). We'll work with the way you want them to work, as defined in your links, so that we're all on the same page. mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 21, 2007, 2:47 AM",
          "AuthorName": "Mike Churchward",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9561&course=5",
          "role": [
            "Picture of Mike Churchward",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "Hey - I have some similar/related work to do for a client, so I'll be implementing some related functionality and I'll need to write some of these functions and then wrap them with the other code I need. The additional stuff I'm working on will provide a security context within which these functions will be called, so that they can be executed with the privileges for a given user. It seems like the functions outlined on the docs page: http://docs.moodle.org/en/Development:Web_services ...are being executed by an imaginary god-like user. Will that be a problem? Will that cause issues for logging and audit?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 21, 2007, 5:45 AM",
          "AuthorName": "Donal McMullan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141802&course=5",
          "role": [
            "Picture of Donal McMullan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "I think it's a good idea to force an explicit IP whitelist and log the actions to a file. The god-like \"user\" is unavoidable Reading the API, however, I think that all of those calls should be \"switched to the plural\" to make things more scalable. Each XML -RPC msg has a huge cost, if I'm going to add 10K enrolnments, or 40K users, this will fall apart, badly. For example, \"add user\" should be \"add users\", taking an multidimensional array where each element of the outer array is a \"user array\" with the elements described in the wikipage. If the caller only has one user to add, they outer array will have just one element...",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/mixed"
          ],
          "Time": "Friday, December 21, 2007, 10:17 AM",
          "AuthorName": "Martín Langhoff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13727&course=5",
          "role": [
            "Picture of Martín Langhoff"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "The god-like user is not unavoidable - what makes you think that? Pluralising the proposed functions is a good approach, but it might be better accomplished by wrapping these functions in the future. For example - add_user looks like it ought to be an atomic transaction that adds a single user, and succeeds or fails on the basis of the data supplied for that user. Adding many users as a batch (in the way that you suggest) will make this simple function less elegant. As a subscriber to this API, I won't want to have to package my user data up as an array of arrays before I can send it to the function, and I don't want to have to unpack my result set from an array either. I just want to call the damn function already. With that in mind, it would be possible to give the function a signature like: create_user(username, firstname, lastname, etc.....) Where the parameters can be either scalars (where you're adding a single user) or arrays of scalars (if you're adding a batch of users). if the consensus is that the functions should be pluralised, this signature might be preferable. The result would have to also be polymorphous; I can see this causing serious hair-tearing at some point. If MD's interested in eventually calling this work from core, I'd be keen to use something a bit more OO and maybe chained: $user = new User(); $user->userName('donal') ->firstName('Donal') ->lastName('McMullan') ->commit(); I'm not 100% sold on chaining, but it's pretty. OO code currently needs to be wrapped for export, which adds some indirection, but if the XML -RPC API gets to define how Moodle core looks, then the tail is very definitely wagging the dog.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 21, 2007, 12:13 PM",
          "AuthorName": "Donal McMullan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141802&course=5",
          "role": [
            "Picture of Donal McMullan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "What we are talking about are calls into Moodle internals - user creation, enrolment, etc, will happen under no user context. Just like they happen for current auth and enrolment plugins. In terms of passing arrays for scalability and performance, 1.7 was elegant, dealing with every record as a glorious object. V1.9 deals in SQL and multidimensional arrays. It's no joke, going forward, when we design an API we must design it scalable, even if it's not the prettiest (like heavy machinery ain't always pretty). Otherwise we'll need 2 APIs, one for \"single-record-operation\" and another one for bulk operations. When we can have just the bulk ones, and if people want to pass a single record to them, fine . As a subscriber to this API, I won't want to have\nto package my user data up as an array of arrays Why? There's no downside, just an extra pair of brackets in most languages, and in low-level terms, an extra struct and a pointer. It's trivial, specially since most modern languages support anonymous arrays: \n```text\n// from\n$params = array(username => 'bla' password => 'foo');\n// to\n$params = array(array(username => 'bla' password => 'foo'));\n/// sometime later...\n$x = xmlrpc_encode_request('adduser', $params) ;\n```\n On the server side, it's a foreach wrapping around the code you need to insert the record. The alternative function signature you propose (an array per field) would force both callers and the server side to do a lot more unpacking. Instead of being record-oriented, you are making it column oriented -- if the caller has a CSV file or a database query, they'll have thing record-oriented. And the moodle end will want to arrange things in record-oriented object-ish arrays. If you draft the code to handle that you'll see that you'll need a lot more code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 21, 2007, 2:10 PM",
          "AuthorName": "Martín Langhoff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13727&course=5",
          "role": [
            "Picture of Martín Langhoff"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "Re: scalability; it sounds like you're proposing that the 'add user' function would create a large query which inserts tens of thousands of new user records in one hit. I'd be happier about batch inserting records if we were using placeholders, etc. but with things as they are, I'm not sure that's a great approach. If you're not doing that, there's no additional cost to using a wrapper function for batch creates. Re: YAGNI; Is the batch-creation of users the use-case that this function ought to be optimised for? If that is the case, is it important enough to saddle the rest of Moodle with a fugly API? It's probably wise to defer optimisation of APIs and interfaces until we have some actual running code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 24, 2007, 7:37 AM",
          "AuthorName": "Donal McMullan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141802&course=5",
          "role": [
            "Picture of Donal McMullan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "Couple of quick comments I'm not thinking of bulk \"in-line SQL\" inserts (though they could be used for even better performance if the DB supports them). The scalability I am talking about is on the cost of each XML-RPC. Even with precompilers enabled and all the tuning, I am fairly confident that over a reasonably low-latency LAN (your best case scenario) you are going to get around 2 orders of magnitude slower performance. In other words, what I am proposing is ~100 times faster on a fast network. On a slow/high latency network, the difference will be even larger. From the POV of someone who's written several backend integrations, YADGTNI (You Are Definitely Going To Need It). It is important that we build public APIs that are scalable. What do you see as the downside? Something that would outweight 2-orders-of-magnitude higher costs?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 24, 2007, 10:07 AM",
          "AuthorName": "Martín Langhoff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13727&course=5",
          "role": [
            "Picture of Martín Langhoff"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "\"From the POV of someone who's written several backend integrations\" ...and I am? I'll get on with writing some code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 24, 2007, 1:38 PM",
          "AuthorName": "Donal McMullan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141802&course=5",
          "role": [
            "Picture of Donal McMullan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "MD: A question about these features: http://docs.moodle.org/en/Development:Web_services Do you want to create new functions for this stuff in core, that will then be called by the web services wrappers, or do you want to re-implement this functionality outside of core with a new set of functions? So - is core going to be touched by this, or is this going to be fresh new code that sits alongside (and to some extent duplicates) core?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 21, 2007, 9:12 AM",
          "AuthorName": "Donal McMullan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141802&course=5",
          "role": [
            "Picture of Donal McMullan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "Sorry, just saw this. Good question. Overall I think for long-term viability these really need to be implemented in core libraries, with the web services wrappers being really thin. Some of those \"new functions\" are going to be really similar to existing functions. Without having a real close look yet I think we might have to deprecate a few existing functions (deprecatedlib.php) and update any calls to them. Have to look at each one in turn. The bug for all this is here: MDL-12886",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 9, 2008, 4:54 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "\" Some of those \"new functions\" are going to be really similar to existing functions.\" I wonder if it would be more advisable to have tightly coupled webservers (they are inside and internal to the application), re-writing functions means that support will have to happen on a per function layer, not only with the Web services implementation but as well with the core implementation. If the Web Services are treating simply as an interface to the core functions, we then win in terms of maintenence, and sustatinability, if the function is changed in the core, then we maintain only one copy. Efficiency should happen at the core level. This would enable a thin layer of Web Services, WS essentially becomes an interface as opposed to an API, the transactions should happen using the core and the data transformation at the interface. I haven't yet taken a look at the OK Technologies WS implementation, I will check it out when I get home and take a look. We dont need to re-invent the wheel, we just need to change the tires This then begs the question, should WS be implemented as a enrolment & auth plugin? What about grades via WS?.... Just some thoughts...",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, June 12, 2008, 12:34 AM",
          "AuthorName": "Rahim Virani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=132720&course=5",
          "role": [
            "Picture of Rahim Virani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "Hello, In OK Tech WS implementation (OKTWS) the high layer (mdl_soapserver.class.php) provides a list of operations in sync with the published WSDL and relies on a low layer (server.class.php) for the Moodle API communication. In the low layer, we use API calls (get_record most of the time) and some direct SQL calls and currently we must trap all possible HTML error messages that might be emitted (using ob_start(), ob_get_content(), ob_end() ). Something which is not really clean... The idea under the \"Standard core functions for web services\" (SCFFWS) will be to take care of all this messy part and return arrays of results or false with some error messages in case of failure. Furthermore the problem of rights to do such and such operation should be also addressed by SCFFWS using Moodle's roles to which core developers are more familiar than us. To my opinion the performance penalty will be minor as compared with the overall cost of a WS operation (XML packing/unpacking, network ...) Current revision 1.5.10 do retrieve grades as per Moodle 1.7 1.8. With the advent of the new gradebook in 1.9, all this part must be rewritten. Another argument for a SCFFWS to retrieve/set grades of a student identified by its id, regardless of the gradebook format. The list of \"required operations\" may increase with the proposed fusion of the two SOAP based WS see http://tracker.moodle.org/browse/MDL-12886 Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 12, 2008, 6:20 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "Would it make sense to add a \"reset_courses\" function to the list of standard core functions? One of the requirements in our moodle implementation is to reset all courses by category at the end of a term. Since we have over 500 courses, resetting these manually would have been an administrative challenge. We use the Ok Tech WS to control enrolments and retrieve grades into our SIS and have modified some of their functions to work with collections of courses under a category.  We added a simple reset_courses() web method and since it it was a good solution for our requirements, I thought it might be a good candidate to add to the list of standard webservices core functions...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 29, 2008, 1:40 PM",
          "AuthorName": "Ken DeVellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35793&course=5",
          "role": [
            "Picture of Ken DeVellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Standard core functions for web services",
          "Text": "looks like a good idea, please add it as acomment in the tracker. best",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 29, 2008, 5:03 PM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Zoho Creator and CRM - usage of ...Re: Standard core functions for web services",
          "Text": "Hello...new to this...but from the searching I've done...I don't this has been addressed. I am keen to link Zoho Creator and/or Zoho CRM with Moodle...for real-time user creation and course enrollment. Zoho Creator seems to deal with the REST web services protocol quite well...so that seems like the logical best place to start. For those of you not familiar with Zoho Creator...it is a web-based application development environment using a scripting language called Deluge. It's part of the Zoho suite of office applications which, as best I can determine, is growing in popularity. Love to hear any thoughts/feedback on this...or if anyone is already working on this...it  would be great to hear. Regards, Liam O'Duibhir SoccerFit (Australia)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 7, 2010, 9:33 AM",
          "AuthorName": "Liam O'Duibhir",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1055709&course=5",
          "role": [
            "Picture of Liam O'Duibhir"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Zoho Creator and CRM - usage of ...Re: Standard core functions for web services",
          "Text": "Hi Liam I have been doing some research on this topic lately. You may want to take a look at this publication http://fie-conference.org/fie2010/papers/1223.pdf The paper is quite theoretical, but it addresses some important topics that deserve to be taken into account when integrating Moodle with some third-party tool. Not sure if you plan to integrate Zoho with Moodle-as-third-party, or Moodle with Zoho-as-third-party. It would be great to read any thoughts about this topic, and also some feedback about Zoho. As far as I know, Moodle provides a quite good Web Services API, so it should not be difficult to consume those Web Services from the Zoho side. I guess that integration in this direction can be fruitful: Zoho orchestrating Moodle courses and users. One other thing: have you considered to implement some kind of single-sign-on mechanism? Regards, Roberto Perez-Rodriguez University of Vigo, Spain",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 7, 2010, 11:05 AM",
          "AuthorName": "Roberto Perez-Rodriguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=300745&course=5",
          "role": [
            "Picture of Roberto Perez-Rodriguez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Zoho Creator and CRM - usage of ...Re: Standard core functions for web services",
          "Text": "Hello Roberto, Thanks for your reply. Your comments and paper are very interesting - good luck with your research work - I guess the end goal of this work is to enable a workflow controlled learning experience at university - nice idea. My idea is Zoho with Moodle-as-third-party...a Zoho client would make REST calls to a Moodle 2.0 instance and receive a reponse with an XML 'file' which can be decoded within Zoho Creator. I am not certain this may be possible, but I am interested in exploring it...it works for interactions between Zoho Creator and Zoho CRM. One problem that I think is a major issue is that Zoho creator will only allow a GET, not a POST...and I gather that Moodle 2.0 only allows a REST POST....so I don't know how one gets around that. Yes, that is correct Zoho orchestrating Moodle courses and users is the end-goal. We could make a solution available as a Zoho App. As I said, I think Zoho is rapidly gaining popularity, so hooking it into Moodle would link two great forces of the universe Regarding your comment about single-sign on. Obviously Zoho shares this with Google Apps (and Gmail too I think)...I presume it would be entirely up to the owners of Zoho, I presume, to set this up. Also, if I did want to test this...does anyone know of a 'live' Moodle 2.0 instance that has WS enabled that I could try to link up with? Thanks again, Liam.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Sunday, November 7, 2010, 12:09 PM",
          "AuthorName": "Liam O'Duibhir",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1055709&course=5",
          "role": [
            "Picture of Liam O'Duibhir"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 150511,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=150511",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "SOAP and Moodle",
          "Text": "Hey everyone, I have a fair amount of experience administering Moodle servers, but on the Web service front, I'm a bit over my head. We are currently running 1.98+, and I have two scenarios: 1) Pass parameters to an external system using SOAP when a student clicks on a link in a courses. - Student is on Web page in a course - Student clicks on a link - Students username and the course ID are passed to an external system via SOAP - External system returns properties that are displayed on a Web page in the Moodle course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 19, 2010, 11:56 PM",
          "AuthorName": "Ben Frueh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=498029&course=5",
          "role": [
            "Picture of Ben Frueh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: SOAP and Moodle",
          "Text": "Hi Ben For both scenarios I suggest you to use the NuSOAP library, which greatly simplifies consuming external Web Services from Moodle. The following code may result useful to you: 1  require_once($CFG->libdir.'/soap/nusoap.php'); 2  $wsdl = \" http://ip:port/foo/bar?wsdl \"; 3  $client = new soap_client($wsdl, 'wsdl'); 4  $param = array($section); 5  $result = $client->call('name_of_method', $param); Regards, Roberto Perez-Rodriguez University of Vigo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 4, 2010, 8:06 PM",
          "AuthorName": "Roberto Perez-Rodriguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=300745&course=5",
          "role": [
            "Picture of Roberto Perez-Rodriguez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 160419,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=160419",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Problem with moodle_course_get_courses",
          "Text": "Hello Experts, When using the Moodle WS core function moodle_course_get_courses according to the documentation: $res = $mdl_ws_client->__soapCall('moodle_course_get_courses', array(array('ids' => array(1, 2, 3)))); ... I get the following error returned: Error Message: Invalid external api parameter: options (Unexpected keys detected in parameter array.) The WS documentation for this call reads as follows: moodle_course_get_courses Return course details Arguments options (Default to \"{$a}\") options - operator OR is used General structure Default to \"{$a}\" //options - operator OR is used object { ids Optional //List of course id. If empty return all courses\nexcept front page course. list of ( int //Course id )}",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://r6b2moodleapp1dev.latrobe.edu.au/bsusas/moodle-20-git/theme/image.php?theme=latrobe&image=t/expanded&rev=182"
          ],
          "Time": "Tuesday, October 19, 2010, 1:45 PM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problem with moodle_course_get_courses",
          "Text": "Hi Anders, there is a bug with this doc, I just created an issue ( MDL-24758 ). If you find an issue, don't hesitate to create the issue in the tracker . Otherwise the call you want to do, would be something like: $params = array('options' => array('ids' => $courseids)); $courses = $client->call($functioname, $params); so I guess you just missed the key name 'options' => Let us know if it works, thanks.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, October 19, 2010, 2:48 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 160325,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=160325",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "moodle_course_create_courses, Invalid external api parameter: courses (Only arrays accepted.)",
          "Text": "Hello Experts, I have installed a Moodle 2.0 RC1 environment and am currently testing the Moodle core web services. Hereby, I am encountering the following difficulty when calling the web services function moodle_course_create_courses to create a course. The call returns: array(2) { [\"faultcode\"]=> string(8) \"Receiver\" [\"faultstring\"]=> string(63) \"Invalid external api parameter: courses (Only arrays accepted.)\" } My test program looks as follows: <?php require_once 'nusoap-0.9.5/lib/nusoap.php'; $url = 'http://moodleserver/moodle20/webservice/soap/ server .php?wstoken=kdxgjkfdihgtritrgirgk&wsdl=1'; $soap_client = new nusoap_client($url, true, false, false, false, false, 120, 120); I am using the latest release of nusoap, which we are using for other applications. Also, I have been following the web services documentation. My initial thought was that there is a problem with nusoap, but I couldn't find any reports on problems with nusoap + Moodle WS. Has anyone come across the same/similar problem? Any ideas or comments are welcome. Regards, Anders",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2010, 10:04 AM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: moodle_course_create_courses, Invalid external api parameter: courses (Only arrays accepted.)",
          "Text": "Hi Anders, there is few unit tests for webservice in /webservice/simpletest/testwebservice.php in function moodle_course_create_courses($client) { ... $course1 = new stdClass(); $course1->fullname = 'Test Data create course 1'; $course1->shortname = 'testdatacourse1'; ... $courses = array($course1, ...); $params = array('courses' => $courses); $resultcourses = $client->call($function, $params); I think this should work for you: $res = $soap_client->call('moodle_course_create_courses', array('courses' => array($course_info)));",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2010, 11:19 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: moodle_course_create_courses, Invalid external api parameter: courses (Only arrays accepted.)",
          "Text": "Hi Jerome, Thanks for your help. As you pointed out, I didn't specify the \"array('courses' => ...\" correctly. I got it to work now. Thank you. Regards, Anders",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2010, 11:47 AM",
          "AuthorName": "Anders Landberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156806&course=5",
          "role": [
            "Picture of Anders Landberg"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 144378,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=144378",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "XMLRPC method for automated posting of podcast entries",
          "Text": "At our university we have an automated videocast service in which a PC running VLC records a screencast of the computer's desktop along with video of the lecturer (composed side by side in a mosaic). After the lecture is recorded, the video is transferred via sftp to a server running a Flash Media Server, and an embedded flash player linking to the videocast shows in a wordpress \"videoblog\" automatically using XML RPC. This allows us to create a sort of \"forum\" for lectures, in which students post their comments on the lecture's videocast. Now we're interested in implementing this same functionality in moodle, automatically creating new posts in forums in which students can discuss the lecture. I'm completely new in XML -RPC programming for moodle, so I'd like to ask, would someone be willing to collaborate/guide me in implementing the XML-RPC functionality? We think it'd be a great thing to share with the moodle community. Thank you very much, Juan Herrera Universidad EAFIT Medellín, Colombia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 23, 2010, 2:53 AM",
          "AuthorName": "Juan Herrera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=921849&course=5",
          "role": [
            "Picture of Juan Herrera"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: XMLRPC method for automated posting of podcast entries",
          "Text": "Juan, I posted some code close to what you might want here: http://moodle.org/mod/forum/discuss.php?d=125867 . If you are running Moodle 1.9.9x with source since January of this year, be aware that updates to Moodle will require updates to a few of the mdl_mnet_host* and mdl_mnet_service* tables to get xml-rpc calls working. HTH , Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 15, 2010, 11:42 PM",
          "AuthorName": "Bill Hoag",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=855084&course=5",
          "role": [
            "Picture of Bill Hoag"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 159992,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=159992",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How to secure content",
          "Text": "Hello, We currently use Moodle as our LMS and currently link to content from a central but separate web server ( IIS ).  Does anyone have experience securing the content from a different web server and how does one provide a single source of authentication (Moodle)? Thank you, Joel Schaefer",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 13, 2010, 5:12 AM",
          "AuthorName": "Joel Schaefer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1115537&course=5",
          "role": [
            "Picture of Joel Schaefer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to secure content",
          "Text": "Could you explain further, I don't understand what you are trying to do.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 13, 2010, 8:26 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to secure content",
          "Text": "Further clarification: Moodle running on server 1.  Content on server 2.  We do not want content to be available except to authenticated users. Thanks, Joel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 14, 2010, 3:58 AM",
          "AuthorName": "Joel Schaefer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1115537&course=5",
          "role": [
            "Picture of Joel Schaefer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 159938,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=159938",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to debug an external function!?",
          "Text": "Hi, I've successfully added 6 new external functions but one of them is not working. Before creating an external function I always create a local script (CLI) where I try to figure out if the code works. If it does I implement it into an external function. I've created one function which restores a backup file into an existing course. This works fine in the local script but when I try to access the external function all I get is an \"unknown error\". Is there any way how you can debug web services not only on the client but also on the server side???? here is my code: /** * * Restores course content into existing course * @param int $courseid * @param string $shortname * @throws Exception */ public static function create_course_from_template($courseid, $shortname) { global $CFG,$USER; require_once($CFG-> dirroot . '/backup/util/includes/restore_includes.php'); require_once($CFG->libdir . '/filestorage/zip_packer.php');",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 12, 2010, 3:56 PM",
          "AuthorName": "Christian Pfisterer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1127031&course=5",
          "role": [
            "Picture of Christian Pfisterer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to debug an external function!?",
          "Text": "Hi Christian, instead to throw new Exception() , throw new moodle_exception() . moodle_exception are recognized by our Zend SOAP server if ever it is the one you are using (see MDL-23555 ) Otherwise to debug on the server I print into apache error log ( error_log('Adding hub info'); error_log(print_r($hubinfo, true)); ) Regards, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 12, 2010, 5:21 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 153115,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=153115",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "What kind of hosting package am I looking for?",
          "Text": "I am currently in the process of creating a Moodle site for my company but am unsure what kind of hosting package I will need. The site will have an eventual 10,000 - 20,000 users and will have several large courses on it. Any help would be greatly appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 29, 2010, 5:36 PM",
          "AuthorName": "Joseph Holliday",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1165022&course=5",
          "role": [
            "Picture of Joseph Holliday"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: What kind of hosting package am I looking for?",
          "Text": "I would (of course) recommend talking to a Moodle Partner. That's quite a lot of users and someone (or organisation) with experience of running large Moodle sites would smooth the process for you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 29, 2010, 6:02 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 158635,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=158635",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Adding new lesson using WebService",
          "Text": "Hi All, I am very new to Moodle world. I am using Moodle web service (downloaded from http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/ ) from my .net desktop (C#) application to perform some automation with our Moodle Server . First of all - this web service is a great work! Adding new lessons is a part of the automation that I am trying to do. While trying so, I couldn't find any function related to add/edit/delete lesson in the Web service. Am I missing something? Also, I am confused about how many Web services are there for Moodle? My understanding is - there are at least 3 Web Services available. Am I right? 1. One that is built into Moodle. 2. Another from OKTech. 3. Another from http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/ (this is the one that I am using)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 23, 2010, 1:35 PM",
          "AuthorName": "Techcomm Simulation",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1224266&course=5",
          "role": [
            "Picture of Techcomm Simulation"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Adding new lesson using WebService",
          "Text": "Hello, > I am confused about how many Web services are there for Moodle? >1. One that is built into Moodle. Yes but only with Moodle 2.0 and is still under developpement. Currently my understanding is that Soap clients ( such as C# or java ) are not yet operational.See http://moodle.org/mod/forum/discuss.php?d=142479 It is a very promising approach, supporting XML -RPC, REST and AMF ; it is easier to extend that the two others one (see below) but the required parameters to perform an operation are more complex to set up. This may explain why Soap clients are more difficult to write. >2. Another from OKTech. This was the original Soap based Web Service for Moodle 1.7 to 1.9, discussed at the beginning of this discussion http://moodle.org/mod/forum/discuss.php?d=67947 >3. Another from http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/ (this is the one that I am using) I 'forked' the original Ok Tech Web Services in January 2007 and announced it in May 2007. As you can see in the discussion above I took over the answers to most questions since mid 2007. See http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/release-notes/ I kept the name OK Tech WS and to avoid confusion I added somme 'pp' (my initials); thus I renamed the directory wspp instead of ws and the main entry point http://yourmoodle/wspp/wsdl_pp.php Currently I am at revision 1.6.5 available both at cipcnet and in Moodle CVS http://cvs.moodle.org/contrib/patches/ws/wspp/ . On cipcnet you will find documentations and samples codes in php, java and python. Currently I support about 110 operations described here http://prope.insa-lyon.fr/~ppollet/moodlews/java/javadoc/ In the meantime OK Tech company, now named Remote Learner http://www.remote-learner.ca/ improved internally its version (for its customers), added my wsdl2php utility to create PHP proxy classes... and recently documented it in chapter 14 of the PACKT book \"Moodle 1.9 extension development\". This documented version has far less operations than mine, but is supported by a Moodle Partner company. Something that I cannot do To be accurate, there is another fork of the original OK Tech WS for the LightWork marking tool http://lightwork.massey.ac.nz/wiki/fat >While trying so, I couldn't find any function related to add/edit/delete lesson in the Web service. Am I missing something? Currently the revision 1.6.5 dose not support lessons. This could be added (see how to extend Web Service on cipcnet) but will be quite complex due to the vast number of lesson options. I am now busy porting \"my\" OKTech version to Moodle 2.0 to provide current users with the same operations as the current 1.9 versions, thus allowing them to keep their current clients. This may take few months due to the vast change in Moodle internal API. Cheers.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Thursday, September 23, 2010, 4:21 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 157926,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=157926",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Web service testing tool",
          "Text": "Hello, i'm starting with webservices right now, and i want to make some tests. i want to use soapui as platform for my tests, but i can't find the wsdl file on the moodle folder. Can anyone give me some help to use soapui or any different tool for web services testing?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 14, 2010, 3:35 AM",
          "AuthorName": "Mateus Ventura",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1222423&course=5",
          "role": [
            "Picture of Mateus Ventura"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web service testing tool",
          "Text": "Hi Mateus, the WSDL file is generated on the fly. Have a look to the moodledocs : WS menu : http://docs.moodle.org/en/Web_Services WS client: http://docs.moodle.org/en/Development:Creating_a_web_service_client#Authentication",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 14, 2010, 9:17 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service testing tool",
          "Text": "So, i'm using moodle 2.0 and i alreadey read this, and it looks like moodle don't supporte soap clients. or anything like this, any other ways?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 15, 2010, 2:24 AM",
          "AuthorName": "Mateus Ventura",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1222423&course=5",
          "role": [
            "Picture of Mateus Ventura"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service testing tool",
          "Text": "Please, just point me a tool to test my webservices .-.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 15, 2010, 4:23 AM",
          "AuthorName": "Mateus Ventura",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1222423&course=5",
          "role": [
            "Picture of Mateus Ventura"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service testing tool",
          "Text": "If you want to test the Moodle web service functions, there is a web service test client: Site Administration > Developments > Web services test client You will be able to test some of the Moodle web service functions with the SOAP protocol. As you said Moodle generated WSDL doesn't work with Java yet. The related tracker issue is MDL-20804 . If you are creating your own web service functions I think the best way is to create your own client. It is a lot easier to create a client than a web service function.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 15, 2010, 10:56 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web service testing tool",
          "Text": "I just had a look to SOAPUI. We do something similar with unit tests. You can find them in your Moodle folder /webservice/simpletest/testwebservice.php There you can choose to test protocols and functions. Note that testing Moodle web services is very complex because: 1. the web service functions can have very complex parameter structure 2. the web service can perform complex operation related to the way Moodle is set up and the content. So I guess you will be better coding unit tests than using SOAPui that can not internally communicate with Moodle. Of course if you have not access to the code, SOAPui seems a good tool. But I don't know much about it, hopefully someone with better knowledge that me can help.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, September 15, 2010, 11:28 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 157782,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=157782",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Soap Development",
          "Text": "I am having an issue with creating the header that a remote smtp server is expecting.  How do I make adjustements to the soap.php file to allow the following for the first envelope and header in the first 9 lines of code below? \n```text\nPOST /SMTPMailBee/emailbee.asmx HTTP/1.1 Host: smtp.mydomain.local Content-Type: text/\nxml\n; charset=utf-8 Content-Length:  SOAPAction: \"\nhttp://tempuri.org/SMTPEmailMailBee\n\" <?xml version=\"1.0\" encoding=\"utf-8\"?> <soap:Envelope xmlns:xsi=\"\nhttp://www.w3.org/2001/XMLSchema-instance\n\" xmlns:xsd=\"\nhttp://www.w3.org/2001/XMLSchema\n\" xmlns:soap=\"\nhttp://schemas.xmlsoap.org/soap/envelope/\n\"> <soap:Body> <SMTPEmailMailBee xmlns=\"\nhttp://tempuri.org/\n\"> <strFrom></strFrom> <strTo></strTo> <strCC></strCC> <strSubject></strSubject> <strBodyText></strBodyText> <strBodyFormat></strBodyFormat> <strFileName></strFileName> <strFileLocation></strFileLocation> </SMTPEmailMailBee> </soap:Body> </soap:Envelope>\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 11, 2010, 5:25 AM",
          "AuthorName": "William Durivage",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1171189&course=5",
          "role": [
            "Picture of William Durivage"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 157407,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=157407",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.0 REST service called by YUI 3 DataSource.IO",
          "Text": "I am working on an application within a Moodle 2.0 instance which uses YUI 3's DataSource.IO module to consume a Moodle 2.0 REST service. The request fails with the error 'Unexpected keys detected in parameter array.' This is due to the YUI request sending the following cookies: MOODLEID_ MoodleSession which then later become part of the $_REQUEST super global in the web service handler, and the request is rejected due to unexpected keys. If I hack the web service code by adding the following to the parse_request function, then the request is processed successfully: unset($_REQUEST['MOODLEID_']);",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 6, 2010, 5:31 AM",
          "AuthorName": "Alastair Hole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100951&course=5",
          "role": [
            "Picture of Alastair Hole"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.0 REST service called by YUI 3 DataSource.IO",
          "Text": "Hi Alastair, I just had a look to the REST code, your hack seems fair. As you pointed out, the REST server checkes all GET/POST parameters and returns an exception if something is not matching the web service function description (external.php files). It is intended for security reason. For your second question, the web service could ignore any cookies, but it seems to me it's a specific case. Except if I miss something with REST and these \"YUI cookies\", I think you are in the right direction at looking to not sending extra parameters from YUI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 6, 2010, 10:14 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 REST service called by YUI 3 DataSource.IO",
          "Text": "Thanks for your quick reply, I'll have a look into getting YUI to strip the cookies from the request Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 6, 2010, 3:55 PM",
          "AuthorName": "Alastair Hole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100951&course=5",
          "role": [
            "Picture of Alastair Hole"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 154561,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=154561",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Problem with 'get_user_grades' with Oktech/WSPP Moodle 1.9",
          "Text": "Brazilian Portuguese (Native Language): Olá a todos, Estou fazendo o consumo dos webservices utilizando o Plugin Oktech webservices. Tudo tem funcionado muito bem até agora mas eis que surgiu um problema: Não consigo fazer a utilização do método 'get_user_grades' que sempre me retorna: ws_nocoursewithidnumberforuser Fiz a matrícula do usuário com id 3 no curso 2 e fiz coloquei a nota normalmente. Utilizando o método 'get_grades' passo o id do usuário e do curso e a nota é retornada normalmente.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 22, 2010, 10:49 PM",
          "AuthorName": "Gabriel Cavalcante",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181803&course=5",
          "role": [
            "Picture of Gabriel Cavalcante"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problem with 'get_user_grades' with Oktech/WSPP Moodle 1.9",
          "Text": "Hi gabriel, I'm using the webservices in python too, but I've never used that method. Is everything working with other methods ? I've taken a look at how get_user_grades works internally and it lists the courses the user is affected to, then call get_grades at each course. Maybe your user isn't affected to any course ? <pt_br> Oi Gabriel, Eu também uso os webservices em python, porem nunca usei esse método. Os outros métodos estão funcionando ? Eu dei uma olhada no codigo do get_user_grades, e internalmente ele faz uma lista dos cursos do usuário e para cada curso chama get_grades. Talvez teu usuário id=3 não está em nehum curso, o que combinaria com a mensagem de erro que esta te retornando. (não é tradução automática )",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, July 22, 2010, 11:54 PM",
          "AuthorName": "loic jeannin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181483&course=5",
          "role": [
            "Picture of loic jeannin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem with 'get_user_grades' with Oktech/WSPP Moodle 1.9",
          "Text": "<pt_br> Todo o resto está funcionando perfeitamente, o problema todo é só com esse mesmo. Consigo fazer a utilização do get_grades para pegar a nota do usuário dentro do curso (como é teste só tem uma atividade e 1 nota 10) e ele volta perfeitamente. Já no caso do get_user_grades ele retorna o erro. Você poderia testar esse método? <en_us> Everything else is working perfectly, the whole problem is only with that. I can make use of 'get_grades' to catch the grade of user within the course (as is test only the course has one activity and 100% graded on that activity) and it returns perfectly. In the case of 'get_user_grades' it returns the error. Could u test this method? Without automatic translate this time to see what happens hehe",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 23, 2010, 12:43 AM",
          "AuthorName": "Gabriel Cavalcante",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181803&course=5",
          "role": [
            "Picture of Gabriel Cavalcante"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem with 'get_user_grades' with Oktech/WSPP Moodle 1.9",
          "Text": "Hi, I'm having the same problem with 'get_user_grades'. Did you find a solution to this problem? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 20, 2010, 8:15 PM",
          "AuthorName": "Eddie Walsh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1179014&course=5",
          "role": [
            "Picture of Eddie Walsh"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 154834,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=154834",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.0 web service parameters",
          "Text": "Hi, I'm new to Moodle and trying to develop a java app that can access Moodle 2.0 using the REST web services interface. I can successfully access the moodle_user_get_users_by_id function by using these url parameters. wstoken=edb38bcba0d4e11e4322c03e29faa123&wsfunction=moodle_user_get_users_by_id&userids[0]=3 How can I specify the required parameters for some of the more complex functions such as moodle_user_create_users? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 9:02 PM",
          "AuthorName": "Eddie Walsh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1179014&course=5",
          "role": [
            "Picture of Eddie Walsh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.0 web service parameters",
          "Text": "Hi Eddie, enable the ws documentation into the Admin protocol page. Then access it through /webservice/wsdoc.php The REST params are indicated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 28, 2010, 12:04 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 web service parameters",
          "Text": "Thanks Jerome, that is exactly what I was looking for.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 28, 2010, 7:13 PM",
          "AuthorName": "Eddie Walsh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1179014&course=5",
          "role": [
            "Picture of Eddie Walsh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 web service parameters",
          "Text": "Hi Eddie, I haven't seen any sites releasing Moodle 2.0 web service functions yet. Otherwise we will commit few course related web service functions soon, but nothing else planned in a short term period.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 28, 2010, 10:13 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 web service parameters",
          "Text": "Hello Eddie I'm using Netbeans, and I can't add the Moodle 2.0 Web service to my IDE. When I use the Web service URL : http:///moodle2/webservice/rest/ server .php?wstoken= in Netbeans, I get the Message: Cannot determine if the service is of type WSDL or WADL. I think I shall give Netbeans WADL file, but I don't know how to make netbeans see this web service. Would you please help ? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 15, 2010, 10:16 PM",
          "AuthorName": "Haitham El-Ghareeb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1193945&course=5",
          "role": [
            "Picture of Haitham El-Ghareeb"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 web service parameters",
          "Text": "Hi Haitham, I'm not sure how to fully integrate the Moodle web services into Netbeans. For the moment, I am just making URL requests from java to Moodle using the various parameters. Regards, Eddie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 16, 2010, 11:52 PM",
          "AuthorName": "Eddie Walsh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1179014&course=5",
          "role": [
            "Picture of Eddie Walsh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 web service parameters",
          "Text": "Hello Eddie Thanks for your reply. I was going \"Crazy\" actually for the last three days. I have figured out the solution you mentioned here. Seems a solution to go through a situation, but actually... I have found out a better implementation in Python and JSON for Moodle 2 Web services @ MooConsole: http://sites.google.com/site/mooconsole/ Unfortunatly I'm not fluent @Python or JSON, so I'm thinking to go back to XML RPC method for now. Anyway, Best wishes with your project.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 17, 2010, 5:22 AM",
          "AuthorName": "Haitham El-Ghareeb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1193945&course=5",
          "role": [
            "Picture of Haitham El-Ghareeb"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 156032,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=156032",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Where do I put custom web services and web service functions?",
          "Text": "Real simple question...So far I've added a service to /lib/db/services.php and the function + parameter functions in /enrol/externallib.php. Works great. But of course when I update from CVS I get a big mess (using eclipse). I've read in /local/README.txt I should place all my custom stuff in there /local/xxx/db/external.php - web services and external functions descriptions So I need to create /local/enrol/db/external.php ??? And in there I comebine the stuff from services.php and externallib.php ??? Am I right or wrong?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 16, 2010, 9:10 PM",
          "AuthorName": "Christian Pfisterer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1127031&course=5",
          "role": [
            "Picture of Christian Pfisterer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Where do I put custom web services and web service functions?",
          "Text": "AFAIK , you can put them in several plugins (e.g. mod, block etc.). Personally, I put them in local. Last time I looked it didn't mention web services in the local documentation but it does work. The last place you want to put them is in lib/db/services for all the reasons you mentioned.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 16, 2010, 9:34 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Where do I put custom web services and web service functions?",
          "Text": "So here is what I did. I copied the custom services from /lib/db/services.php to /local/enrol/db/services.php and deleted them afterwards from /lib/db/services.php. Did the same with /enrol/externallib.php So now I have the following folder strcuture /local/enrol/externallib.php /local/enrol/db/services.php I changed /version.php to run the upgrade script. But my webservices are now not showing up any more (they were in the database before). What do you I have to do to make moodle discover the webservices in /local/ ????",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 16, 2010, 10:00 PM",
          "AuthorName": "Christian Pfisterer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1127031&course=5",
          "role": [
            "Picture of Christian Pfisterer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Where do I put custom web services and web service functions?",
          "Text": "OK got it myself. You need a version.php in the local/xxx folder!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 16, 2010, 10:13 PM",
          "AuthorName": "Christian Pfisterer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1127031&course=5",
          "role": [
            "Picture of Christian Pfisterer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 152722,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=152722",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Any step by step guide to create web services for adding a course in moodle?",
          "Text": "I am a newbie to moodle and I need to know how to create a web service in moodle2.0. Any step by step or pointers for the same would be of great help for me. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 23, 2010, 5:34 PM",
          "AuthorName": "Venkateshwaran Loganathan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1167446&course=5",
          "role": [
            "Picture of Venkateshwaran Loganathan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Any step by step guide to create web services for adding a course in moodle?",
          "Text": "Hi Venkateshwaran Me 2 have the same Q. Have you achieved any progress in this issue ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 15, 2010, 8:26 PM",
          "AuthorName": "Haitham El-Ghareeb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1193945&course=5",
          "role": [
            "Picture of Haitham El-Ghareeb"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Any step by step guide to create web services for adding a course in moodle?",
          "Text": "Hi, there is one moodle_create_courses function in CVS beginning of this week. It should have been integrated to the daily build ( http://download.moodle.org/download.php/moodle/moodle-latest.zip )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 15, 2010, 9:47 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 155975,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=155975",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Re: Authentication using OTP",
          "Text": "Hi, I have a project regarding authentication using an OTP such as YubiKey. For this project I will use Yubikey, Moodle and an external database . What I would like to do is as soon as students/teacher insert the Yubikey in the USB port, an authentication page loads, username and OTP are inserted and as the user presses login on the auth. page, a request is sent to the external db, checks if the user exists in the db, if it exists, the user is redierected to index page in Moodle as a logged in user. The log in page is done in PHP Till now I managed to make a login page which accesses the db and rediercts me to moodle index page but does not log the user in in Moodle. Also, Moodle is able to refer to external db as using Moodle authentication page, with an existing user stored in external db, Moodle accepts that user and logs in. What I need is 1) Can anyone help me in devising an application which accepts an OTP such as Yubikey 2) The application checks with external db if user exists, logs in user to Moodle. Any help will be appreciated. I am new to Moodle and the use of such technologies as OTP.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 15, 2010, 3:48 PM",
          "AuthorName": "Albert Muscat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1192801&course=5",
          "role": [
            "Picture of Albert Muscat"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 119349,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=119349",
      "NoOfResponses": 19,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Hi all, Have been working on a test client in Flex 3 for the web services. Right now it seems that development of web services has mainly been concerned with the first of the two use cases below : administrating your moodle web site using an external application of some type. Administering users, courses etc. using web services for client side code embedded in a web page served to the user to communicate with the server . Am not sure if it is envisaged that the new web services framework should be usable for the second use case. I would like to help make this possible. I think that to enable developers to be able to build client side dynamic code that communicates through web services we need to do two things. Enable authentication through passing a token into applet /object embedded in the web page In the case that web services are used by an external application I understand it is planned that a username and password is entered into the external app and then sent by a web service to the server as a web service call, then an authentication token is sent back as the result from the web service call. The token is then passed along with all subsequent service calls to identify the user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 21, 2009, 5:14 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Hi Jamie, thanks for this great post. if I understand, for the second use case, your main concern is to know where is embedded the client app. And so the client app can know the user, the course... I'm not sure that writing the token into the HTML would be good. The Moodle user would easily know about the token. It would probably be better than the embedded object receive a course name/user name/... by url when it's called. Then it authenticates like any other \"admin\" app (the first use case). Maybe can you give a real example of the second use case that would not work with the current WS implementation?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 23, 2009, 11:31 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Hi Jerome, We need some secure way of having the object/applet log itself in. We cannot pass the username and password to the object/applet through html, this would give away the password. We can pass a token to the client app through html. The token would be temporarily valid. A different random string token would be generated for web service 'session' started. The token would have at least an associated : userid last access time contextid might be a good idea too. I would presume actually Petr is going to somehow rewrite session handling so that Moodle can handle sessions for web services as well as for serving html pages to a web browser. I would propose that there be 2 ways to start a web services session : either a function is called on the server directly to request the token to pass into the client side embedded app through html. a web service is called with the username and password to log in with and the token is passed back to the client as the result of the web service. Jamie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 23, 2009, 5:53 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Here is a summary of a recent conversation between Jamie and me: The current Moodle WS implementation is: The client app (embedded or not) calls an authentication method with a username/password. The client app receives a token back and calls other web service functions with this token. The way it works for a client app user: The user signs up for a Moodle web service account on a Moodle site. He enters his username/password into the client app, thus giving the client app his ws rights. The client app can choose to save or not the username/password. Problem: for embedded app, everytime the page is refreshed, the authentication method needs to be called. So the embedded client app needs to save the username/password somewhere. Not easy... Jamie suggestion is: The embedded app reads a token from HTML page and gains user capabilities. In the Moodle administration panel, we'll have an embedded application manager, in order to add trusted embedded application. Client apps should use the user's capabilities then authenticate with normal user accounts. The advantage is that it is easier to retrieve information about what the user is doing, but moreover the embedded app doesn't need authentication. Jamie don't hesitate to complete this summary if I missed something.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 26, 2009, 3:04 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Hmm, a token like that in the HTML (which I presume is directly accessible from something like Flash) could easily be stolen no? (eg do quick \"view source\" on the teacher's computer when they aren't looking) And what happens if the embedded application is malicious ... eg a student got an admin to look at something they inserted ... I guess the application could run web service functions as an admin?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 26, 2009, 5:30 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Hmm, a token like that in the HTML (which I presume is directly accessible from something like Flash) could easily be stolen no? (eg do quick \"view source\" on the teacher's computer when they aren't looking) It would be temporarily valid only for that session. But this is a potential problem, I think quite a small one. What would someone do with this token? If they have the expertise to do something like that then they might also have the expertise to steal the session id from the teacher's cookies. Maybe for this reason we should use the existing cookies which we already use. Flash in a browser sends it's web service requests through the browser and I hope in 100% of cases the regular cookies are sent along with the web service requests. And what happens if the embedded application is malicious ... eg a student got an admin to look at something they inserted ... I guess the application could run web service functions as an admin? Passing a token into the Flash movie would require writing php code to call a function on the server and then output the html which embeds the Flash with a parameter passing the token. User uploaded Flash files would have no access to the token. Martin Langhoff, I and others previously discussed this method of authenticating a web service request here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 26, 2009, 5:57 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Some corrections : Jamie suggestion is: The embedded app reads a token from HTML page and gains user capabilities. In the Moodle administration panel, we'll have an embedded application manager, in order to add trusted embedded application. Client apps should use the user's capabilities then authenticate with normal user accounts. the client will authenticate with the token. The advantage is that it is easier to retrieve information about what the user is doing, but moreover the embedded app doesn't need authentication.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 26, 2009, 5:46 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "I'm going to discuss this through skype with folks from Moodle HQ in a minute. Thought I would take the time to write a summary of my thoughts here first. What I want us to do Make it easy to have embedded apps communicate with Moodle. Each time the user loads a page with an embedded Flash object / other client side code they should not have to enter their password. The embedded apps might be used in the following places for example : blocks activities quiz reports questions in quizzes admin tools etc How can we do this I think there are two options to consider : Use existing cookies advantage of this is that it is easy. PROBABLY will work with all browsers and client side code that might want to use web services. Use a token passed into the embedded client code. danger the token could be stolen by a user who views source. must put a if fork in config.php to deal with the token and ignore the usual cookies. But this must be done anyway for external apps that use web services. Actual Mechanics - step by step of a web service call and authentication for an embedded app The php page with the embedded app is called. In the php script a function is called to generate a token : this include an array of functions that the token allows access to. Eg. [0]=>'user/' => 'get_users',[1]=>'forum/' => 'get_forums', [3]=>'mod/{modname}/' => '*', we restrict the access as much as possible. Probably for an activity or block for example the token would only allow access to the services for that block. The token is passed into the clientside app through appropriate html - in the case of Flash through Flashvars. When the client calls the web service the token is passed as well as 'credentials'. Moodle recognizes the user from the token. Config.php has a fork in it and sets up the USER and SESSION variables appropriately using the token and not the cookies - tricky. Security In order to minimize security risk : we can make the tokens expire afer a certain period of inactivity of the client app. we can limit the services that the token allows access to. I would suggest that we limit by path of external.php and also to functions within the external.php file. Keeping other data on server side It is usually the case that module id and such is passed to Moodle in the url. In the case of web service calls I think it would be a good idea to store perhaps the contextid on the server side associated with the token. This would increase security. So for example for grading an activity we have a web service {activityname}_grade(). Since we have already stored the context id on the server we know the grade is passed is for such and such an activity. We do not pass the contextid as a parameter in the web service call and a web service call cannot be spoofed to pass a grade for another activity once the user has a token.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 27, 2009, 4:05 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Hi Jamie! I beliebe that embedded apps can be done with the IMS LTI 2.0 (learning technologies for interoperability) that is being released very soon. Jordi Piguillem developed a implementation of an earlier version called SimpleLTI as his google summer of code. I will be posting some documentation this week. Cheers! L.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 30, 2009, 7:32 PM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Hey, Ludo: Is there a Moodle IMS LTI consumer available anywhere to play with? Thanks, Brian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2009, 5:18 AM",
          "AuthorName": "Brian Jorgensen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=568672&course=5",
          "role": [
            "Picture of Brian Jorgensen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Are you talking about IMS Learning Tools Interoperability? I keep meaning to read that spec, but always seem to have something better to do. Can you summarise for us what LTI does, and how it would work in/with Moodle. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2009, 6:34 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Hey, Tim: Well, I was hoping Ludo or Jordi would jump in here, since they did the GSOC 2008 project; I have an offlist email pinging Ludo, but I think maybe Spain is on vacation right now. I thought IMS LTI came about as an extension of the coolness of the Rutgers Sakai linktool for visually embedding external apps right into Sakai: basically a tool that proxied basic auth credentials to an external app, and embedded the result into an iframe, but I could be wrong. (I've also emailed Chuck Sev to see if he would like to jump in here.) A recent Sakai presentation looks like IMS LTI has grown to be more than basic auth plus embedding: slideshare.net . Brian",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://moodle.org/pix/s/smiley.gif"
          ],
          "Time": "Tuesday, August 18, 2009, 5:15 AM",
          "AuthorName": "Brian Jorgensen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=568672&course=5",
          "role": [
            "Picture of Brian Jorgensen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Brian - thanks for the heads up. TIm, IMS LTI has two parts - Basic LTI and Full LTI. Basic LTI is launch-only and Full LTI does provisioning, launch, and run-time web services. Marc and Jordi are working on Basic LTI for Moodle 2.0. Basic LTI essentially allows you to author a Basic LTI resource in a Moodle course like any other resource. In a sense, it is a \"smart iFrame\". When you select the resource, instead of just putting the URL in the iFrame, Moodle will generate a form with the user and course information and then sign that request using OAuth ( www.oauth.net ) and a key/secret stored by the instructor inside Moodle and then auto-post the form, sending the user and course data to the external tool. OAuth is used by Google and Twitter to establish server-to-server identity and end-user identity. IMS LTI only is using the server-to-server part of OAuth. OAuth insures against replay attack, password guessing attack. Since OAuth is designed to pass through a user's browser, the data can be \"viewed\" without compromising security. Basic LTI allows us to build lots of simple external tools for teaching and plug them into Moodle, Sakai, Blackboard, D2L, etc with the same integration (i.e. Basic LTI). For all the LMS systems it means less need to install Moodle Modules, Sakai Tools or Building Blocks of \"unknown quality\" just to play with some tool in one class. It allows both the LMS developers and the LMS administrators to keep their systems clean and unmodified - while at the same time allowing teachers and learners far greater flexibility in the tools they can use in their courses. It is my hope that this ushers in a new era where really cool learning-focused tools can be developed and used regardless of the LMS system in use at a campus. I am hopeful that once we get Basic LTI support in all of the major LMS systems, then we can work on trading Learning Tools like trading cards. Instead of needing some PHP code installed in your system - you can add a new tool with a URL, Key, and Secret and a couple of clicks. This is made even more exciting when we can create course cartridges with Basic LTI Launches embedded in them. This makes cartridges simpler, and smaller and yet allows very rich cartridges to be produced and distributed. The status of LTI is that Basic LTI is about to be sent to the IMS Technical Advisory Board for review, approval, and release. The draft of the spec is only available to IMS members until it is approved and released as a final spec. There is a public discussion forum about IMS specs at: http://www.imsglobal.org/community/forum/index.cfm?forumid=11 Let me know if you have any questions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 18, 2009, 7:46 PM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Sounds useful. Is Basic LTI a smart enough iframe that it can report as score back to the Moodle (or whatever) gradebook too? That is required for it t be a full answer to some recent integration requests I have seen in these forums.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 19, 2009, 1:11 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Several answers (1) No - Basic LTI focuses on the launch only and does not include provisions for standardized web service call backs. We kept things simple in Basic LTI to insure that it got into the shipping versions main LMS systems in the market as quickly as possible. Admittedly, once you have launch - the immediate next requirement is returning results. (2) Maybe - If the LMS supported the IMS Learner Information Service (LIS) OutCome service - and the external tool was separately allowed to call the service, Basic LTI has a provision to include the LIS Result Identifier as part of the launch. There are no LMS systems that have LIS OutCome service on their roadmaps at this time. (3) In Full LTI - there will be an Outcome service based on the LIS and Full LTI will include a mechanism to exchange security bits so that the tool can talk to these Full LTI run-time services. Full LTI is also not on any road map as best I know. (4) Lots of LMS systems (Sakai included) slip some extension bits into the launch that provide information to call non-standard LMS specific web services. So Sakai slips a \"sakai_session\" value which is a signed session key which is used to talk to some specifically installed web services in Sakai. In the short term, Moodle should do the same (i.e. include some bits where appropriate to allow external tools to call back to Moodle when called form Moodle). The last scenario (4) allows a standard launch and non-standard call-back. Full LTI moves us to a standard launch and call-back. From a specification / standards perspective - the quickest way to get from here to the desired state is for us (IMS LTI Working Group) to get Full LTI out and ready to implement. Getting Basic LTI out early lets us all get a start on those tools that can handle a launch-only spec and inform the Full LTI development going forward.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, August 19, 2009, 3:05 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Updating this thread a bit with recent events regarding IMS Basic LTI and Moodle. - IMS Basic LTI was approved as a standard in June 2010 - There is a 1.9 module that passes the IMS Basic LTI certification test. Here is the site for that module: http://code.google.com/p/basiclti4moodle/ - Here is a video of Moodle passing the IMS Basic LTI Certification test: http://www.vimeo.com/9957979 - Marc Alier and Nikolas Galanis of UPC is porting the module to Moodle 2.0 - We are in the process of building some experimental support for Basic LTI Tools to return grades back to the Moodle Grade Book. A very early prototype of this code if here: http://code.google.com/r/drchuck-simpleoutcomes/ Perhaps we should make a separate forum for Basic LTI in Moodle to have some ongoing discussions about this as it evolves.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 13, 2010, 8:53 AM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Brian, while the spec for IMS Basic LTI is not yet available, a simple unofficial reference implementation in PHP and Java is available here: http://code.google.com/p/ims-dev/ You can download and simply run the PHP code in a PHP server to play with both the LMS and Tool aspects of Basic LTI. The PHP sample code will likely form the starting point for the Basic LTI in Moodle 2.0 as well as the Simple LTI Moodle Module.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 18, 2009, 11:10 PM",
          "AuthorName": "Charles Severance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60867&course=5",
          "role": [
            "Picture of Charles Severance"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Sorry for the long delay, I lost track of this thread for a while. We are coding the IMS BAsicLTI consumer here http://code.google.com/p/basiclti4moodle/ Cheers L.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 3, 2009, 4:06 PM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0 : some questions that need to be considered if we want to have  web services available for client side Flash / Java / js etc",
          "Text": "Thank you for the information. Then I will try SimpleLTI as my solution. Hope I can understand it soon. nice to be here ^_^",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 4, 2009, 1:29 PM",
          "AuthorName": "Lailatul Hidayah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=961049&course=5",
          "role": [
            "Picture of Lailatul Hidayah"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 155681,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=155681",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "OKTech WS Editing user (password)",
          "Text": "Hi, EDIT: Moodle 1.9.9+ installed in a WAMP environment. I am wondering if anyone can help me. I am trying to edit a user and change their password using the OKTech Web Services. I can successfully create a user, enroll them in a course, get user details etc, but I am having trouble changing the password. I am using the follow code below (C#), and I played with the action attribute of the user and while Update doesnt return an error - it does not change the password. Any help at all would be greatly appreciated. Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 10, 2010, 11:05 PM",
          "AuthorName": "dave homan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=881896&course=5",
          "role": [
            "Picture of dave homan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: OKTech WS Editing user (password)",
          "Text": "Murphys Law!!! Just after posting and doing somemore playing with the code - I got it to work... I am using update_user rather than edit_users: //Moodle.editUsersOutput res2 = moodleWS.edit_users(login.client, login.sessionkey, eui); Moodle.editUsersOutput res2 = moodleWS.update_user(login.client, login.sessionkey, user, \"idnumber\");",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 10, 2010, 11:26 PM",
          "AuthorName": "dave homan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=881896&course=5",
          "role": [
            "Picture of dave homan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech WS Editing user (password)",
          "Text": "Actually update_users is a wrapper call to the more general edit_users operation and is indeed simpler to use. edit_users requires the Moodle internal id of users to update or delete and you forgot to sent it... Update_user accepts any unique identifier for the target user (username, idnumber, id or email). You could have achieved the same by setting : Moodle.userDatum user = new Intel.PCB.Certification.Moodle.userDatum(); user.action = \"update\"; user.id = res.users[0].id; //the missing information ! user.password=\"new password\"; or user.passwordmd5=\"md5encodedpassword\"; //no need to sent other values that are not to be changed (lastname,firstname...) Moodle.editUsersInput eui = new Intel.PCB.Certification.Moodle.editUsersInput(); eui.users = new Intel.PCB.Certification.Moodle.userDatum[] {user}; Moodle.editUsersOutput res2 = moodleWS.edit_users(login.client, login.sessionkey, eui); Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 11, 2010, 12:26 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech WS Editing user (password)",
          "Text": "Thanks a lot Patrick. I missed the id alright! Thought I was OK with idnumber! Is the same true for update_user in that I do not need to send any unchanged data (i.e. firstname, lastname)? Thanks, Dave",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 11, 2010, 4:29 PM",
          "AuthorName": "dave homan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=881896&course=5",
          "role": [
            "Picture of dave homan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: OKTech WS Editing user (password)",
          "Text": "> s the same true for update_user in that I do not need to send any unchanged data (i.e. firstname, lastname)? yes I think so, both operations call internally update_record and as long as id is set, it should work. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 11, 2010, 11:48 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 155001,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=155001",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web service for activities and grades",
          "Text": "Hello, Is there any web service for activities and grades?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 30, 2010, 3:23 AM",
          "AuthorName": "Árisson Leal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1181727&course=5",
          "role": [
            "Picture of Árisson Leal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 93085,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=93085",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Using Moodle to control completely external system",
          "Text": "Ive just starting on some work (within a university) relating to connecting Moodle to an Augmented Reality system. The idea being that a teacher could use Moodle to launch a \" lesson \" in a separate Augmented Reality environment and then get a grade back. I'm planning to use XML RPC to communicate i.e. request the AR system start the lesson and later get the result back. I'm at a very early stage at the moment but I just thought i'd ask if anyone has used Moodle for similar spawning of external system and getting data back? Are there any obvious problems with Moodle and XMLRPC or anything which I should be aware of? Many thanks, Alex",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 21, 2008, 1:22 AM",
          "AuthorName": "Alex Watterson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=520270&course=5",
          "role": [
            "Picture of Alex Watterson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using Moodle to control completely external system",
          "Text": "Hi. Alex. I´m a Computer Engineer at Brazil, working with MOODLE exclusively over 4 years. I start to know AR ( Augmented reality ). Then I plan to use AR, with MOODLE.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 21, 2008, 9:05 AM",
          "AuthorName": "Marcos H.L. Carvalho",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=67353&course=5",
          "role": [
            "Picture of Marcos H.L. Carvalho"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using Moodle to control completely external system",
          "Text": "have either of you completed any work in this area?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 17, 2010, 3:26 AM",
          "AuthorName": "james ford",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1123228&course=5",
          "role": [
            "Picture of james ford"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using Moodle to control completely external system",
          "Text": "We are still waiting for valid WSDL. Nagendra",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 17, 2010, 4:53 AM",
          "AuthorName": "Nagendra Shukla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1174028&course=5",
          "role": [
            "Picture of Nagendra Shukla"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using Moodle to control completely external system",
          "Text": "We are at the same point with the Classdroid project.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 17, 2010, 6:56 AM",
          "AuthorName": "John McLear",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1174387&course=5",
          "role": [
            "Picture of John McLear"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 68794,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=68794",
      "NoOfResponses": 21,
      "ResponsesInList": [
        {
          "Title": "Are there any examples on how to use the new Web Services API?",
          "Text": "Moodle 1.8 release notes say: \"The Moodle Network code includes an XML -RPC call dispatcher that can expose the WHOLE Moodle API to trusted hosts\". Can anyone point me to some code examples how to use this XML -RPC call dispatcher? I know how to do XML-RPC in general, but need some information on the specifics of the Moodle Implementation ( URL of the dispatcher, procedure names/parameters etc.). I had a look at docs.moodle.org and the discussion threads regarding the API but did not find any real examples how to use it. Kurt",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2007, 4:48 PM",
          "AuthorName": "Kurt Rosivatz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5975&course=5",
          "role": [
            "Picture of Kurt Rosivatz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "You are right - it's not well documented, as it ended up being a bit of a side-feature. I'll ask Donal to prep a very short writeup -- maybe you can help us flesh it out?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 10, 2007, 5:37 PM",
          "AuthorName": "Martín Langhoff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13727&course=5",
          "role": [
            "Picture of Martín Langhoff"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "I'll be glad to help fleshing the docs out, but I need a skeleton to start from ... Kurt",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 11, 2007, 9:12 PM",
          "AuthorName": "Kurt Rosivatz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5975&course=5",
          "role": [
            "Picture of Kurt Rosivatz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Hi, what is the status of this doc? I'm trying to access Moodle from an ASP.NET application, so my alternative would be Web Services and XML-RPC... I would like to test them both before deciding. Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 3, 2007, 12:46 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Are there any docs out for the Web Services API yet? I would like to look into using it in Moodle 1.8, but I can't find documentation on how to do so. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 17, 2007, 1:15 AM",
          "AuthorName": "Cory B",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=53578&course=5",
          "role": [
            "Picture of Cory B"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "I would also like documentation and/or examples on using the Web Services API, and would be happy to contribute documentation if I had any information to add. I'd also like to know how to use the Moodle Network API. Specifically, the docs say: A special mode can be enabled which would allow a machine with a specified IP address to make calls to the XML-RPC layer without using either encryption or signature envelopes. How can I enable this unencrypted mode? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 27, 2007, 1:35 AM",
          "AuthorName": "Steve W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=332341&course=5",
          "role": [
            "Picture of Steve W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Start here: http://docs.moodle.org/en/Development:Web_services_API This document still needs more work, all help is welcome, but high-five to Donal for finally getting it started!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 1, 2007, 5:26 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "That's a start, but stops right when it gets to the good part. The information on encryption is helpful and appreciated. Also, system.listMethods doesn't work for me, but system/listMethods does. I believe using a \".\" as a seperator is normal XMLRPC syntax. It's at least what I see in plenty of XMLRPC examples. The section on auth seems targeted towards someone who's writing Moodle, not a third party trying to integrate with it. How would a third party verify a username/password? How does one use the services returned by the listServices method? (Apologies if this should be obvious.) A few other notes based on what I have been able to do. Maybe these would be better for bug reports? The method signature for keepalive_server seems broken, it just returns a zero. The method help for enrol/mnet/enrol.php/user_enrolments is empty.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, August 2, 2007, 12:09 AM",
          "AuthorName": "Steve W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=332341&course=5",
          "role": [
            "Picture of Steve W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Hey Steve - thanks for this. I hope you'll be able to track the page as it evolves, and keep the suggestions coming - it's really useful. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 2, 2007, 7:09 AM",
          "AuthorName": "Donal McMullan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141802&course=5",
          "role": [
            "Picture of Donal McMullan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Hi, Thanks for the info. But it's still not quite what I'm looking for. I'd prefer not to have to write any modules/addons for Moodle unless I have to do so. This is so that users don't have to do extra work. Perhaps more docs on the mnet protocol is what I want? http://docs.moodle.org/en/Development:Moodle_Network is pretty sparse too.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 2, 2007, 8:54 AM",
          "AuthorName": "Steve W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=332341&course=5",
          "role": [
            "Picture of Steve W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Hey Steve - can you give me an idea in non-programmer terms of what you'd like to achieve with the API? What application would you like to use to communicate with Moodle? What would you like it to do? What moodle functions or methods would you like to remotely access? Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 2, 2007, 10:09 AM",
          "AuthorName": "Donal McMullan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141802&course=5",
          "role": [
            "Picture of Donal McMullan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "SSO, Rostering, Gradbook info. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 2, 2007, 9:53 PM",
          "AuthorName": "Steve W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=332341&course=5",
          "role": [
            "Picture of Steve W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "On a separate note, shouldn't the content type that's used for XML have a ; in it? I see this: text/xml charset=UTF-8 shouldn't it be this: text/xml; charset=UTF-8 Then again, I think the default charset for xml is UTF-8, so specifying it may not be necessary. Steve",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 2, 2007, 11:22 PM",
          "AuthorName": "Steve W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=332341&course=5",
          "role": [
            "Picture of Steve W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Hey guys. Sorry this has taken so long to get started. \"Spare time\" has been a little sparse this year. I'm finding some bugs in the system as I write the docs, which is good and bad. They're related to exporting functions from modules, so they don't affect the auth and enrol stuff that was our focus during the development, but they're likely to bite anyone that's trying to export functions from a module. I'll try to make some commits to MOODLE_18_STABLE and head to fix these issues, and put together a patch for anyone who's unable to track the latest CVS . I think the delta will be fairly small. I appreciate criticisms/comments on the doco, because when you've written the code yourself, lots of things seem obvious and not worth mentioning that are actually really critical.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 2, 2007, 7:07 AM",
          "AuthorName": "Donal McMullan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141802&course=5",
          "role": [
            "Picture of Donal McMullan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Hi folks, A quick question about APIs. Why the separation between the Moodle Network API and the Web Services API? Is that purely related to the encryption? Or is there some other reason? The reason I ask is I'm wondering, if a third party wants to interact with Moodle as though it were another Moodle (even though it's not), using the Moodle Network API, is that kosher? This assumes of course that the encryption is done, etc. But right now, that seems to be the only way to do the things I want to be able to do, so that seems my only route. Thanks, Steve",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 6, 2007, 9:53 PM",
          "AuthorName": "Steve W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=332341&course=5",
          "role": [
            "Picture of Steve W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Hi Steve The Moodle Network API was intended to be a secure transport layer over which people could run web services securely. There are probably a few places in the API where we assume that the app communicating with us is also a Moodle, but we should be able to resolve that if people start wanting to use the transport for other stuff. We recently did some work at Catalyst to implement the Moodle Network transport layer into Mahara , so a proof of concept that other apps can use this feature already exists. Mahara implements most of the xmlrpc-auth methods; enough to provide bi-directional SSO with Moodle. Mahara is free (GPL) and our repo is here: http://git.catalyst.net.nz/gitweb?p=mahara.git;a=summary The Moodle Network and SSO code is in Master, which will become Mahara 0.8 sometime this week. You can get a tarball of the Mahara code at any time by clcking on 'master' from the list of heads at the bottom of the screen, and clicking on 'Snapshot'. Cheers Donal",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 7, 2007, 6:23 AM",
          "AuthorName": "Donal McMullan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141802&course=5",
          "role": [
            "Picture of Donal McMullan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Hi Donal, Thanks for the info! I do have a bit of a snag though, the application I'm writing isn't GPL'd and won't be, so I'm trying to avoid my code being 'based on' GPL code. Unfortunately, this means reading the GPL'd example code and the Moodle source code is out. So instead I've been working from tcpdump output between two Moodle instances I've setup and from the documentation. Which is why I was asking about the protocol docs. Does this change the answer to any of my previous questions? Thanks, Steve",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 7, 2007, 10:44 PM",
          "AuthorName": "Steve W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=332341&course=5",
          "role": [
            "Picture of Steve W"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Hi Kurt, I have posted some documentation of an example on the related documentation thread in this forum at http://moodle.org/mod/forum/discuss.php?d=70908#p346424 I hope this helps",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, August 15, 2007, 6:03 PM",
          "AuthorName": "Colin Chambers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=239770&course=5",
          "role": [
            "Picture of Colin Chambers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "Still not seen any good links to any solid examples of what XML data each API wants and/or URLS for any exposed API paths and the functions. Tried a few moodle partners to get more info, very disappointed in their willingness to help on this. Partner status isn't a quality assurance mark? Ideally I would like to see an example someone has written, I need it so I can post images from classdroid to moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2010, 9:59 PM",
          "AuthorName": "John McLear",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1174387&course=5",
          "role": [
            "Picture of John McLear"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "John, Tried a few Moodle Partners to get more info, very disappointed in their willingness to help on this. Partner status isn't a quality assurance mark? Moodle is open source software, which means you are free to look at everything and to figure things out on your own; that is, assuming you are a developer and have taken the time to look at the wealth of Moodle documentation that's available. Both web service API's in Moodle were contributed by Moodle partners, work very well and have been used in a number of novel ways by lots of people in the community. Why would your problem be the fault of Moodle partners?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 9, 2010, 12:38 AM",
          "AuthorName": "Bryan Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10226&course=5",
          "role": [
            "Picture of Bryan Williams"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are there any examples on how to use the new Web Services API?",
          "Text": "You have to declare the external functions you need and then make a normal call from a client. You need to specify the authentication for example for soap server http://192.168.1.121/workspace/moodle/webservice/soap/server.php?wstoken=89bf91d2f1f855c5a95fa521c1af8875 it is the same for XML_RPC. IF you create the external functions then it is trivial.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2010, 11:46 PM",
          "AuthorName": "Spyridon Karavanis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1147777&course=5",
          "role": [
            "Picture of Spyridon Karavanis"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 152891,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=152891",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle integration",
          "Text": "Hi everybody. I'm trying to integrate Moodle with Liferay (a J2EE CMS). It's working fine with REST, but it would be much better if I could use SOAP instead (Liferay is written in Java ). Anybody knows if the WSDL definitions will be ready on July 20th? Is there any plan in that way? Thank you very much.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, June 25, 2010, 4:14 PM",
          "AuthorName": "Salvador Aznar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=643193&course=5",
          "role": [
            "Picture of Salvador Aznar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle integration",
          "Text": "Hi Salavador, it is sad to say but SOAP with WSDL in 2.0 is not supported yet and there is no defined date yet (nobody is assigned to it). You can vote on the issue to make thing move: http://tracker.moodle.org/browse/MDL-20804 Thank you, Jerome",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2010, 6:58 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle integration",
          "Text": "Hi Guys, I am new to this forum, just want to let you know that we have a framework ready that can create client libs from WSDL for java, objC, NokiaQt. we support both SOAP and REST, please let me know if we could help in anyway, we will be glad to make these libs open to every on in this community. Nagedra ( nshukla@hotmail.com )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2010, 5:01 AM",
          "AuthorName": "Nagendra Shukla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1174028&course=5",
          "role": [
            "Picture of Nagendra Shukla"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 152584,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=152584",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Can a Web service invoke moodle web services to collect some data???",
          "Text": "Hi all I am new in web service technology and I am working in project that has web service to be interfaced with moodle to collect some data about students progress of learning activities (e.g. quiz, assignments, etc..)  . The question is: Is it possiable for a web service to invoke the web services in moodle , particularly those whcih are requsted by students to do some activities in  the course , to trace student progress in that activity and collect  tracking data directly from web srvice on-time!! and how!!? Thanks guys for this brilliant discussion. TTA",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 21, 2010, 9:26 PM",
          "AuthorName": "TT Algh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1111916&course=5",
          "role": [
            "Picture of TT Algh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can a Web service invoke moodle web services to collect some data???",
          "Text": "Moodle 2 does not expose quiz information (e.g. quiz grades) via the new web services. Unfortunately, this hasn't been implemented (yet?). But, as Tim explains here , maybe you could do some of what you want using XML .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 23, 2010, 11:44 PM",
          "AuthorName": "Luis de Vasconcelos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=396446&course=5",
          "role": [
            "Picture of Luis de Vasconcelos",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can a Web service invoke moodle web services to collect some data???",
          "Text": "Thanks Luis.I will check that as Tim explained.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2010, 2:44 AM",
          "AuthorName": "TT Algh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1111916&course=5",
          "role": [
            "Picture of TT Algh"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 151078,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=151078",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle desktop client",
          "Text": "Hi, I've created a multiplatform desktop webservices client, (REST protocol) Nowadays is quite limited because the webservices in Moodle 2.0 have some limitations I.e, to update an user you must know his userid and there is no way to get a list of users (via webservices) with a username, idnumber, etc... You can download the client here: http://sites.google.com/site/mooconsole/ The app is pluggable, you can create a XML file describing a webservice required data in order to add your custom webservices in Moodle and test it in this app. I've created this app in my spare time so the code (python) doesn't look so good Best.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/sad"
          ],
          "Time": "Thursday, May 27, 2010, 11:57 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 150892,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=150892",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Need some help in maintaining new web-service",
          "Text": "Our small company has developed free online XML converters for quiz and glossary. You can test them here - moodle.heroku.com We need some help in writing user documentation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 26, 2010, 3:43 AM",
          "AuthorName": "Yulia I",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=918702&course=5",
          "role": [
            "Picture of Yulia I"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 150214,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=150214",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Course-related web services",
          "Text": "Are there plans to incorporate course-related web services (e.g., updating course attributes/settings) into Moodle? That is to say, are some web service functions planned for /course/externallib.php, much as there are already for both users & groups? This will be a very important and useful feature for us and our clients, as we already use web services extensively to update our LMS instances from our SIS ones, and we are migrating them from our custom web service interface to use Moodle 2.0's built-in web services. It seems like we're covered for user- and group-related changes, but I don't find, in the current code we have for 2.0, any course-related ones. Thanks in advance for anyone that can share some information on this!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 15, 2010, 12:34 AM",
          "AuthorName": "Basil Gohar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=73191&course=5",
          "role": [
            "Picture of Basil Gohar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course-related web services",
          "Text": "I've discovered various issues in the Moodle Tracker related to the web service functions, including course functions: http://tracker.moodle.org/browse/MDL-20806 http://tracker.moodle.org/browse/MDL-21523 So, I guess that answers my question. :D",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 15, 2010, 12:46 AM",
          "AuthorName": "Basil Gohar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=73191&course=5",
          "role": [
            "Picture of Basil Gohar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 149038,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=149038",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Webdav_setup",
          "Text": "We would like to set up Webdav in our Moodle 1.9.8 instance. Is it available in version 1.9.8? One of the reasons we want to use the Webdav feature is because the native upload in our Moodle instance has a limitation of file size ( 16 Mb)... How do I set it up in our Moodle 1.9.8 instance?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 28, 2010, 10:07 PM",
          "AuthorName": "Ray Casey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1124673&course=5",
          "role": [
            "Picture of Ray Casey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 148415,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=148415",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problem with nil value in JAVA",
          "Text": "Hi! For the last days we've had some problems with the library used to connect via xml -rpc from a java client with Moodle 2.0. The library returns an error like this: org.apache.xmlrpc.client.XmlRpcClientException: Failed to parse server 's response: Unknown type: nil We are using a library downloaded from the xmlrpc web site ( http://www.xmlrpc.com ) (but we found that this problem happened in more libraries) and I would like to share the solution in case it can be solved from the server side. We found it here but it works fine for other libraries, it's only necessary to add some code in the library or extend a class of it and it will work fine. The problem is that JAVA doesn't recognise nil value and throws an exception. This piece of code parses this nil value in order to avoid the problem. I hope it helps somebody. Cheers. Pozo.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 20, 2010, 5:39 PM",
          "AuthorName": "Alberto del Pozo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821913&course=5",
          "role": [
            "Picture of Alberto del Pozo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 147250,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=147250",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Needs some guidance",
          "Text": "Hello all, I'm completely new to Moodle. Our client has a Moodle 1.9.2 site hosted by some hosting service. We have a system that needs to manage enrolments in that Moodle. It appears to me that my option is to use the XML -RPC that is documented here: http://docs.moodle.org/en/Development:Web_services_API . However I'm having a hard time figuring out what I need to do to even perform the simplest test from looking at the document. Our system is written in Java . Does anyone have a test Java client that they can share with me? One that uses any of the available functions would be good, especially enrolment functions. I'm assuming that I won't need to write any PHP to use the available enrolment functions. Is that correct? As for encryption, we will be doing this over SSL from our system to their webserver. So we shouldn't require encryption in the Moodle itself as their webserver will be handling encryption. So from the document I gather that all we need to do in the Moodle is add our system host as a trusted host. Is that right?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 2, 2010, 7:35 PM",
          "AuthorName": "Jerome Jacobsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=922001&course=5",
          "role": [
            "Picture of Jerome Jacobsen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 143297,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=143297",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Web services REST",
          "Text": "Hello, I need comunicate moodle with an aplication in tv. I should use https (similar REST) because it's the standard for MHP, but i don't know how I can start or any module or method I can use in moodle. Please anyone could help me? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 8, 2010, 7:32 PM",
          "AuthorName": "marta marta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=983245&course=5",
          "role": [
            "Picture of marta marta"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web services REST",
          "Text": "sam problem new whit rest in PHP. Confuse how to begin with REST in moodle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 23, 2010, 8:02 PM",
          "AuthorName": "Nickson Suryono",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1056563&course=5",
          "role": [
            "Picture of Nickson Suryono"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 142711,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=142711",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Trouble with WebServices (XMLRPC)",
          "Text": "Greetings, After following a mixup of instructions from across the web, I've finally gotten Curl and openssl extensions working in moodle. I've enabled networking and registered all hosts. According to the instructions found here: http://www.linuxbox.com/tiki/tiki-index.php?page=moodle_xmlrpc I should be able to load test_xmlrpc.php. However, all I get is a blank page. Any ideas? Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 30, 2010, 6:05 AM",
          "AuthorName": "Josh Marshall",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1077000&course=5",
          "role": [
            "Picture of Josh Marshall"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Trouble with WebServices (XMLRPC)",
          "Text": "Try going into the admin menu and turn on debugging to show error messages. May be that the page is aborting because of an error but the error is not been shown??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 31, 2010, 7:55 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with WebServices (XMLRPC)",
          "Text": "Thank you for your suggestion, however after enabling debugging I receive no indication as to what the source of the problem is. I should also point out that the \"xmlrpc.php\" page displays the following: The website cannot display the page HTTP 500 Most likely causes: The website is under maintenance. The website has a programming error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 1, 2010, 11:23 PM",
          "AuthorName": "Josh Marshall",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1077000&course=5",
          "role": [
            "Picture of Josh Marshall"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with WebServices (XMLRPC)",
          "Text": "Internal Server errors with PHP are often due to incorrect file permissions. For some tips, see http://support.lunarpages.com/knowledge_bases/article/324 http://www.getnetgoing.com/HTTP-500.html",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 15, 2010, 4:44 AM",
          "AuthorName": "Max Foo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1088483&course=5",
          "role": [
            "Picture of Max Foo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with WebServices (XMLRPC)",
          "Text": "Thank you for your response to this issue. I'm not receiving an internal server error page. The page that displays is completely blank (white space). Some brief server specs: Windows 2003 Server PHP 5 IIS 6",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 15, 2010, 10:28 PM",
          "AuthorName": "Josh Marshall",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1077000&course=5",
          "role": [
            "Picture of Josh Marshall"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with WebServices (XMLRPC)",
          "Text": "I should elaborate: It is the HTTP 500 code that indicates an internal server error. The The website cannot display the page and blank display are merely symptoms of that underlying error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 16, 2010, 6:48 AM",
          "AuthorName": "Max Foo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1088483&course=5",
          "role": [
            "Picture of Max Foo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with WebServices (XMLRPC)",
          "Text": "I am unable to locate the permissions conflict. Out of sheer desperation I've granted read access to \"Everyone\" on all moodle files. No change. I am running moodle via PHP/Windows IIS6/ MSSQL",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 4:29 AM",
          "AuthorName": "Josh Marshall",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1077000&course=5",
          "role": [
            "Picture of Josh Marshall"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with WebServices (XMLRPC)",
          "Text": "Do you have xmlrpc.php extension working? maybe that's the problem (I'm not sure if I had to enable it when started to work with web services, or it was enabled by default) Cheers. Pozo.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 15, 2010, 4:16 PM",
          "AuthorName": "Alberto del Pozo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821913&course=5",
          "role": [
            "Picture of Alberto del Pozo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with WebServices (XMLRPC)",
          "Text": "I did have to enable that extension during the setup of PHP. Something interesting I found while troubleshooting is I get different results when I move the xmlrpc folder from the install folder. http://moodle.leveldatainc.com/install/xmlrpc/test_xmlrpc.php <--- Blank page http://moodle.leveldatainc.com/install/test_xmlrpc.php <--- Results in.... Notice : Undefined variable: m_user in D:\\Websites\\moodle\\install\\test_xmlrpc.php on line 60 opening socket to host : ldi-dev sql , port: 80, uri: http://moodle.leveldatainc.com/xmlrpc/xmlrpc.php sending http request: <br>POST http://moodle.leveldatainc.com/xmlrpc/xmlrpc.php HTTP/1.0<br>User-Agent: xmlrpc-epi-php/0.2 (PHP)<br>Host: ldi-devsql:80<br>Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=<br>Content-Type: text/ xml <br>Content-Length: 111<br><br>&amp;lt;?xml version=\"1.0\" encoding=\"iso-8859-1\"?&amp;gt;<br>&amp;lt;methodCall&amp;gt;<br>&amp;lt;methodName&amp;gt;Ping&amp;lt;/methodName&amp;gt;<br>&amp;lt;params/&amp;gt;<br>&amp;lt;/methodCall&amp;gt;<br><br> receiving response... got header - HTTP/1.1 404 Not Found got header - Content-Length: 1635 got header - Content-Type: text/html got header - Server: Microsoft-IIS/6.0 got header - X-Powered-By: ASP.NET got header - Date: Mon, 15 Feb 2010 14:32:09 GMT got header - Connection: close got header - got response: . &amp;lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&amp;gt; &amp;lt;HTML&amp;gt;&amp;lt;HEAD&amp;gt;&amp;lt;TITLE&amp;gt;The page cannot be found&amp;lt;/TITLE&amp;gt; &amp;lt;META HTTP-EQUIV=\"Content-Type\" Content=\"text/html; charset=Windows-1252\"&amp;gt; &amp;lt;STYLE type=\"text/ css \"&amp;gt; BODY { font: 8pt/12pt verdana } H1 { font: 13pt/15pt verdana } H2 { font: 8pt/12pt verdana } A:link { color: red } A:visited { color: maroon } &amp;lt;/STYLE&amp;gt; &amp;lt;/HEAD&amp;gt;&amp;lt;BODY&amp;gt;&amp;lt;TABLE width=500 border=0 cellspacing=10&amp;gt;&amp;lt;TR&amp;gt;&amp;lt;TD&amp;gt; &amp;lt;h1&amp;gt;The page cannot be found&amp;lt;/h1&amp;gt; The page you are looking for might have been removed, had its name changed, or is temporarily unavailable. &amp;lt;hr&amp;gt; &amp;lt;p&amp;gt;Please try the following:&amp;lt;/p&amp;gt; &amp;lt;ul&amp;gt; &amp;lt;li&amp;gt;Make sure that the Web site address displayed in the address bar of your browser is spelled and formatted correctly.&amp;lt;/li&amp;gt; &amp;lt;li&amp;gt;If you reached this page by clicking a link, contact the Web site administrator to alert them that the link is incorrectly formatted. &amp;lt;/li&amp;gt; &amp;lt;li&amp;gt;Click the &amp;lt;a href=\" javascript :history.back(1)\"&amp;gt;Back&amp;lt;/a&amp;gt; button to try another link.&amp;lt;/li&amp;gt; &amp;lt;/ul&amp;gt; &amp;lt;h2&amp;gt;HTTP Error 404 - File or directory not found.&amp;lt;br&amp;gt;Internet Information Services (IIS)&amp;lt;/h2&amp;gt; &amp;lt;hr&amp;gt; &amp;lt;p&amp;gt;Technical Information (for support personnel)&amp;lt;/p&amp;gt; &amp;lt;ul&amp;gt; &amp;lt;li&amp;gt;Go to &amp;lt;a href=\"http://go.microsoft.com/fwlink/?linkid=8180\"&amp;gt;Microsoft Product Support Services&amp;lt;/a&amp;gt; and perform a title search for the words &amp;lt;b&amp;gt;HTTP&amp;lt;/b&amp;gt; and &amp;lt;b&amp;gt;404&amp;lt;/b&amp;gt;.&amp;lt;/li&amp;gt; &amp;lt;li&amp;gt;Open &amp;lt;b&amp;gt;IIS Help&amp;lt;/b&amp;gt;, which is accessible in IIS Manager (inetmgr), and search for topics titled &amp;lt;b&amp;gt;Web Site Setup&amp;lt;/b&amp;gt;, &amp;lt;b&amp;gt;Common Administrative Tasks&amp;lt;/b&amp;gt;, and &amp;lt;b&amp;gt;About Custom Error Messages&amp;lt;/b&amp;gt;.&amp;lt;/li&amp;gt; &amp;lt;/ul&amp;gt; &amp;lt;/TD&amp;gt;&amp;lt;/TR&amp;gt;&amp;lt;/TABLE&amp;gt;&amp;lt;/BODY&amp;gt;&amp;lt;/HTML&amp;gt;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 15, 2010, 10:32 PM",
          "AuthorName": "Josh Marshall",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1077000&course=5",
          "role": [
            "Picture of Josh Marshall"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with WebServices (XMLRPC)",
          "Text": "Did you got his working? can you please assist me in how can I integrate XMLRPC to create a webservice for adding new accounts in Moodle. Thanks a lot for any direction.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 5:10 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1061021&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with WebServices (XMLRPC)",
          "Text": "I have not gotten this working yet.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 6:06 AM",
          "AuthorName": "Josh Marshall",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1077000&course=5",
          "role": [
            "Picture of Josh Marshall"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 144224,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=144224",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle web services for ASP.Net Client",
          "Text": "Hi community, I am new to PHP and Moodle. Basically I am a .net guy and looking for integrating moolde with our existing ASP.Net application & Facebook connect. I know that some webservices features are coming up along with moodle 2.0, I have downloaded pre release of Moodle 2 [Moodle 2.0 dev (Build: 20100219)] and installed it in my dev environment. I tried to go thru different documentation but not getting on proper track. If any body can guide me or provide pointers for systematic setup of web service and their usage form ASP.Net application. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 20, 2010, 2:42 AM",
          "AuthorName": "Pinal Bhatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1080097&course=5",
          "role": [
            "Picture of Pinal Bhatt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle web services for ASP.Net Client",
          "Text": "Hi Moodle Community, Any body any help. Thanks in advance. Thanks & Regards, Pinal Bhatt http://www.P-Bhatt.com http://lms.learning-leisure.com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 25, 2010, 7:43 PM",
          "AuthorName": "Pinal Bhatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1080097&course=5",
          "role": [
            "Picture of Pinal Bhatt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 143482,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=143482",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Backoffice tool for testing Web Services",
          "Text": "Hi! First of all sorry for my bad English. I work for a Spanish enterprise called Clay Formación Internacional ( http://www.clayformacion.com/clayweb/home.html ) and I have created a backoffice tool (it does some basic actions like manage users, courses, roles, logs, grades, etc. in a simple way) to test Moodle 2.0 web services. This tool is part of my diploma project and it was created to find the needs that the web services layer could have, because this enterprise collaborate with DFWikiLABS, and I work in the Moodle web services project ( http://potato.lsi.upc.edu/projects/moodlewebservices ). This tool was created to test the connection with Moodle and find the problems that could appear when creating a client. For this reason it only works with a special Moodle 2.0 version that has some functions added to the external.php files (The Moodle version is from August). These functions added solve some of the problems that were found, such as retrieve all the courses in the platform, all the users in a course and stuff. It works too with a Moodle 1.9 that uses the same web services but backported to this version. It can connect with Moodle using XML -RPC and SOAp protocols, but have some problems when connecting via REST. In addition to this, it was added a java applet that connect with Moodle via XML -RPC. This applet is part of a visualization tool (created by Diego Alonso Gómez) which is still a beta, but proves that a java tool can connect via web services with Moodle. I share it just in case it could be useful for the web services development, and if somebody is interested in it I will update the code of the tool and the two Moodles necessaries to test it (Moodle 2.0 and Moodle 1.9).",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/626547/List_of_enrolments.jpg?forcedownload=1"
          ],
          "Time": "Wednesday, February 10, 2010, 8:11 PM",
          "AuthorName": "Alberto del Pozo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821913&course=5",
          "role": [
            "Picture of Alberto del Pozo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backoffice tool for testing Web Services",
          "Text": "There is anyway that i can test that? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 10, 2010, 10:53 PM",
          "AuthorName": "Daniel Cruz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=94553&course=5",
          "role": [
            "Picture of Daniel Cruz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backoffice tool for testing Web Services",
          "Text": "Hi Daniel Right now I'm working in order to connect this tool via REST with a Moodle version downloaded yesterday. I think next week I'll have managed to do this, so the code I will upload will only be some KB because (I think) you will be able to test it with a moodle you can download here, adding only some externallib.php files more. If you want to test the current tool version I'll have to send you about 60 MB (two fully moodles), so maybe you prefer waiting Thanks for being interested. Cheers. Pozo.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 12, 2010, 8:22 PM",
          "AuthorName": "Alberto del Pozo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821913&course=5",
          "role": [
            "Picture of Alberto del Pozo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backoffice tool for testing Web Services",
          "Text": "Hi! I have changed the tool in order to work with newest moodle version. I have just tested it with a today moodle version and it works. By now, I can only manage to connect via xmlrpc because I've some problems parsing the xml data that REST connector gives back (I've tried with simplexml and DOM functions, but I don't get the data how I want). In this post and in the next three I attach the code of the web services that needs to be added to moodle and the tool. If anybody know how I can attach more than 100 kb per post please tell me. Now the steps that need to be followed to use the web services: - Download and install today moodle version - Create a user with username=wsuser and password=wspassword (need to to this directly in the DB, using md5). - Give wsuser the administrator rol - Run the moodle20/webservice/functions.php script that inserts all the ws functions in the mdl_external_functions table in the DB - Enable web services with all the steps that appears in plugin->webservices->overview (add all the functions to the service created, although most of them are not going to be used) - Enable web service authentication and turn debug display off Now copy the tool folder in the localhost folder (if changed the location or the name of the folder you need to edit config.php file) and it should work correctly The only problem is that I've haven't found how to get the user token, so all the connections are done sending username and password, so if there is some fail when logging in to the tool, all the tool is going to fail because It won't have saved the data Finally, the externallib.php can be found in the DFWikiLABS repository, in the moodle web services project, although for using this tool I've added some functions that were necessary but are not in the repository. Cheers. Pozo.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 17, 2010, 8:26 PM",
          "AuthorName": "Alberto del Pozo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821913&course=5",
          "role": [
            "Picture of Alberto del Pozo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backoffice tool for testing Web Services",
          "Text": "Code part 2",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 17, 2010, 8:28 PM",
          "AuthorName": "Alberto del Pozo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821913&course=5",
          "role": [
            "Picture of Alberto del Pozo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backoffice tool for testing Web Services",
          "Text": "Code part 3",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 17, 2010, 8:28 PM",
          "AuthorName": "Alberto del Pozo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821913&course=5",
          "role": [
            "Picture of Alberto del Pozo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backoffice tool for testing Web Services",
          "Text": "Code part 4",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 17, 2010, 8:29 PM",
          "AuthorName": "Alberto del Pozo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821913&course=5",
          "role": [
            "Picture of Alberto del Pozo"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 143717,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=143717",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Exposing Moodle data as REstful services",
          "Text": "I suggest orestE project ( http://www.redaelli.org/matteo/blog/projects/oreste-erlang-odbc-rest-services ) if you need to expose moodle data as web REST services...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 13, 2010, 8:36 PM",
          "AuthorName": "Matteo Redaelli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=609793&course=5",
          "role": [
            "Picture of Matteo Redaelli"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 143686,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=143686",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle web services for .Net Client",
          "Text": "Hi community, I am new to PHP and Moodle. Basically I am a .net guy and looking for integrating moolde with our existing ASP.Net application & Facebook connect. Our current version of moodle is 1.9.3. Its Windows based installation on MySQL db. Are Moodle web services build into the basic moodle installation or we need to install them as separate module or patch. Please guide me on this, i can see lot of documentation on moodle web services but nowhere i can find how to start with. Do we have readymade web services in moodle which a .net client can access? Any body, any help in this regards or any pointers will be helpful. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 13, 2010, 3:51 AM",
          "AuthorName": "Pinal Bhatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1080097&course=5",
          "role": [
            "Picture of Pinal Bhatt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 143428,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=143428",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "domain hosting for academic institution",
          "Text": "Hie there I am looking for someone who does .ac. domains?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 10, 2010, 5:31 AM",
          "AuthorName": "Isabella Nyambayo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1068858&course=5",
          "role": [
            "Picture of Isabella Nyambayo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 142440,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=142440",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Webservices Client .NET",
          "Text": "Necesito ayuda para crear una aplicación en .NET usando OKTech Web Services. 1.- Que función me recupera los profesores que tienen cursos registrados o bien cursos asignados. 2.- Que función me recupera los estudiantes que se encuentran registrado en un curso. 3.- Como puedo obtener los errores, un ejemplo: Realice un Login lo cual funciona pero cuando doy un usuario o un Password incorrecto me marca el siguiente error: ws_invaliduser, donde este error me lo trae del siguiente archivo wspp/lang/en_utf8/wspp.php. de igualmente personalizar el error en caso de haberlo. 4.- Como puedo obtener los roles de solamente los profesores, necesito saber esta parte ya que requiero validar que solo entren profesores al sistema así como también el administrador. Espero de su ayuda, gracias. Saludos.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 27, 2010, 2:00 PM",
          "AuthorName": "Alonso Uribe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912554&course=5",
          "role": [
            "Picture of Alonso Uribe"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservices Client .NET",
          "Text": "hello, I guess you got no answers to your previous messages due to the spanish language... I almost understood this one ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 28, 2010, 3:48 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices Client .NET",
          "Text": "Alonso, El proyecto Lightwork tiene funciones que sirven como ejemplos para lo que quieres hacer ( http://lightwork.massey.ac.nz/wiki/fat/Lightwork_Moodle_web_services ) por ejemplo, getCourseParticipants recupera los estudiantes y los profesores de un curso. Se puede bajar El WSDL y todo el codigo. Se puede probar las funciones utilizando soapUI. Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2010, 3:32 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices Client .NETn",
          "Text": "Paul, Me podría ayudar a configurar lightwork, ya realice una prueba añadiendolo como servicio web en .NET pero no logré que se conectará por falta de conocimiento en configuraciones. Cuáles serían los archivos que se deben modificar para que pueda conectarse con .NET? gracias y un fuerte abrazo. saludos.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2010, 2:50 PM",
          "AuthorName": "Alonso Uribe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912554&course=5",
          "role": [
            "Picture of Alonso Uribe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices Client .NET",
          "Text": "Hi. I have several questions: 1. I work with Moodle local so I want to know which files should I modify to work on Lightwork . 2. How can I generate the tables of Lightwork ? examples: lw_marking_history lwid-marker-student-activity-rubric webservices_clients_allow webservices_sessions etc. Note: Use the instructions but did not work 3. I have an application in C # where I call the web service and then I can using . Also I have a form for login 2 fields (username, password) //Add Web References using appTest.Lightwork; //Create WebService MoodleWS MyWebServices = new MoodleWS(); // Create open session loginReturn _loginreturn = MyWebServices.mdl_soapserverlogin(this.txtUsuario.Text, this.txtContrasena.Text); All this is right?, I'm fine? . 4. Is there any application that uses LightWork ? Thanks .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 5, 2010, 9:43 AM",
          "AuthorName": "Alonso Uribe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912554&course=5",
          "role": [
            "Picture of Alonso Uribe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices Client .NET",
          "Text": "Hello... I checked the links above but still can not resolve my doubts. Please, if you have others solutions, i would like that you publish its Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 6, 2010, 8:13 AM",
          "AuthorName": "Alonso Uribe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=912554&course=5",
          "role": [
            "Picture of Alonso Uribe"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 117791,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=117791",
      "NoOfResponses": 20,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.0: AMF server",
          "Text": "Zend framework and Adobe offer a nice solution (Zend_Amf) to make Flex communicate with PHP using AMF protocol. In order to make it works, the developer needs to create value objects on the PHP server side and on the Flex server side. I'd like to implement a solution for Moodle and generate these PHP value objects for the PHP server side. It will be an optional work once SOAP and REST servers will be fully working. Any suggestion is welcome here. If you have a look into the CVS Head you'll find an alpha AMF implementation that works with primary type (string, integer).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 3, 2009, 11:03 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Hi Jerome, I am interested in working with the web services and particularly with the amf support in Moodle 2. I have some questions : In order to try it out I'm guessing I can use some of the test clients in contrib/patches/dfws/client/ with the web service servers in Moodle HEAD?? Is the stuff in the contrib/patches/dfws/webservices all integrated into Moodle HEAD? I can't see any test Flash client there, is there a client available to test the web services using amf? Thanks for your time and this exciting contribution to Moodle! Jamie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 9, 2009, 10:23 AM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Hi Jamie, you're welcome to work on the Amf server contrib/patches/dfws/client is outdated now. All is in the 'webservice' folder into HEAD. I didn't commit my Flex client, because it is just a connection test: I didn't implement any authentication, the web service url is hard coded into the services-config. xml , and it doesn't support object. I used Flex Builder to create the client. Here is my connection client code, if it can help to start: main.mxml <?xml version=\"1.0\" encoding=\"utf-8\"?> <mx:Application xmlns:mx=\" http://www.adobe.com/2006/mxml \" layout=\"absolute\"> <mx:RemoteObject id=\"myservice\" showBusyCursor=\"true\" source=\"Moodle CLient\" destination=\"zend\" result=\"Alert.show(event.result.toString())\"> </mx:RemoteObject> <mx:Script> <![CDATA[ import mx.controls.Alert; var oneArray:Array = new Array(\"admin\"); ]]> </mx:Script> <mx:Button label=\"Call service\" click=\"myservice.tmp_get_users(oneArray).toString\"/> </mx:Application> Note: to test it, you'll have to change the tmp_get_users() function into user/external.php on the PHP side in order to return a string. Add return \"Hello\", at the beginning of this function. services-config.xml <?xml version=\"1.0\" encoding=\"UTF-8\"?> <services-config> <services> <service id=\"zend-service\" class=\"flex.messaging.services.RemotingService\" messageTypes=\"flex.messaging.messages.RemotingMessage\"> <destination id=\"zend\"> <channels> <channel ref=\"zend-endpoint\"/> </channels> <properties> <source>*</source> </properties> </destination> </service> </services> <channels> <channel-definition id=\"zend-endpoint\" class=\"mx.messaging.channels.AMFChannel\"> <endpoint uri=\" http://jerome.moodle.com/Moodle_HEAD/moodle/webservice/amf/server.php \" class=\"flex.messaging.endpoints.AMFEndpoint\"/> </channel-definition> </channels> </services-config> What I think we need to do: 1- we need to implement authentication call: it's about the same code than above, we call a method returning a generated Token (string). We just need to implement a mock authentication method on the PHP side. Petr will write all the authentication system for web services. 2- The web service URL needs to be moved from the services-config.xml into the main.mxml. We need to generate this URL with specific GET parameter (token + function location). 3- we need to support object communication. Object description should be into the webservice function docblock. I already wrote a function extracting the information. We would just need to generate the \"Value object\". That's it",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, March 9, 2009, 12:14 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Hi Jerome, Thanks for your quick reply! I am interested in helping out with the amf server implementation. Will have a play with the web services servers on my local test server today. Jamie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 9, 2009, 3:29 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "This would be great Jamie We have very few feedback on them.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, March 9, 2009, 5:22 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Hi Jerome, Have been playing with the amf server and it seems that it supports more than just the integer and string types, object and arrays are correctly passed. I modified your code above and wrote this in moodleclient.mxml : \n```text\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n```\n \n```text\n<mx:Application xmlns:mx=\"\nhttp://www.adobe.com/2006/mxml\n\" layout=\"absolute\">\n```\n \n```text\n<mx:RemoteObject id=\"myservice\"\n```\n \n```text\nshowBusyCursor=\"true\"\n```\n \n```text\nsource=\"Moodle CLient\"\n```\n \n```text\ndestination=\"zend\"\n```\n \n```text\nresult=\"respondToResult(event.result);\">\n```\n \n```text\n</mx:RemoteObject>\n```\n \n```text\n<mx:Script>\n```\n \n```text\n<![CDATA[\n```\n \n```text\nimport mx.controls.Alert;\n```\n \n```text\nvar oneArray:Array = new Array(\"admin\");\n```\n \n```text\nfunction respondToResult(result:Object){\n```\n \n```text\n textarea1.text = describeType(result);\n```\n \n```text\n for (var els:String in result){\n```\n \n```text\n for (var props:String in result[els]){\n```\n \n```text\n textarea1.text += \"result[\"+els+\"][\"+props+\"] = \"+result[els][props]+\"(\"+typeof(result[els][props])+\")\"+\"\\n\";\n```\n \n```text\n }\n```\n \n```text\n }\n```\n \n```text\n}\n```\n \n```text\n]]>\n```\n \n```text\n</mx:Script>\n```\n \n```text\n<mx:Button label=\"Call service\" click=\"myservice.tmp_get_users(oneArray).toString\"/>\n```\n \n```text\n<mx:TextArea id=\"textarea1\" width=\"600\" height=\"400\" x=\"0\" y=\"30\"/>\n```\n \n```text\n</mx:Application>\n```\n This correctly was able to access the properties of the returned object within the array and output the following : \n```text\n<type name=\"Array\" base=\"Object\" isDynamic=\"true\" isFinal=\"false\" isStatic=\"false\">\n```\n \n```text\n <extendsClass type=\"Object\"/>\n```\n \n```text\n <accessor name=\"length\" access=\"readwrite\" type=\"uint\" declaredBy=\"Array\"/>\n```\n \n```text\n</type>result[0][confirmed] = 1(string)\n```\n \n```text\nresult[0][description] = (string)\n```\n \n```text\nresult[0][theme] = (string)\n```\n \n```text\nresult[0][email] = me@nospam.org(string)\n```\n \n```text\nresult[0][auth] = manual(string)\n```\n \n```text\nresult[0][country] = TH(string)\n```\n \n```text\nresult[0][timezone] = 99(string)\n```\n \n```text\nresult[0][mailformat] = 1(string)\n```\n \n```text\nresult[0][id] = 2(string)\n```\n \n```text\nresult[0][firstname] = Admin(string)\n```\n \n```text\nresult[0][lang] = en_utf8(string)\n```\n \n```text\nresult[0][city] = Chiang Mai(string)\n```\n \n```text\nresult[0][username] = admin(string)\n```\n \n```text\nresult[0][idnumber] = (string)\n```\n \n```text\nresult[0][lastname] = User(string)\n```\n \n```text\nresult[0][emailstop] = 0(string)\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 12, 2009, 1:06 AM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Hi Jamie, That's a really great news! Can you write a test Flex/Flash client using all the current web service functions into user_external class (get/create/update/delete) in HEAD? If you can call bulk operations for each of them it would be a cool test.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://moodle.org/pix/s/cool.gif"
          ],
          "Time": "Thursday, March 12, 2009, 10:03 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Hi Jerome, Found that the following patch was needed in order to get the amf server to return error messages to the client : \n```text\nIndex: webservice/amf/lib.php\n```\n \n```text\n===================================================================\n```\n \n```text\nRCS file: /cvsroot/moodle/moodle/webservice/amf/lib.php,v\n```\n \n```text\nretrieving revision 1.3\n```\n \n```text\ndiff -u -r1.3 lib.php\n```\n \n```text\n--- webservice/amf/lib.php 12 Mar 2009 09:03:47 -0000 1.3\n```\n \n```text\n+++ webservice/amf/lib.php 21 Mar 2009 08:22:55 -0000\n```\n \n```text\n@@ -54,6 +54,7 @@\n```\n \n```text\n\n```\n \n```text\n /// run the Zend AMF server\n```\n \n```text\n $server = new Zend_Amf_Server();\n```\n \n```text\n+ $server->setProduction(false);\n```\n \n```text\n $server->setClass($classpath.\"_external\");\n```\n \n```text\n $response = $server->handle();\n```\n \n```text\n echo $response;\n```\n Wonder if we could include a switch so that we could turn the debug output on or off to the admin interface? Would other servers need this functionality as well? Servers could be off, on with debug messages returned to client or on in production mode. Jamie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 21, 2009, 5:29 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "No problem, I'll add a settings for the AMF server into the admin interface.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 24, 2009, 6:00 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "I committed a test client for batch operations exposed by user/external.php You can try it out by checking out the latest version of Moodle HEAD and going to {rooturl}/webservice/amf/testclient/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 24, 2009, 6:19 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Awesome Jamie. I tested, it works fine. That's great to see it running How long did it take you to do it?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, March 25, 2009, 10:02 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "It took more than a day actually. This is my first Flex app so it took me some time to find my way around. I think though that potentially some very powerful user interfaces could be built very quickly using Flex to connect to Moodle web services. There are loads of great interactive charting facilities available and things like forms, data grids and tree views are very easy to create.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 25, 2009, 10:52 AM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Good to know. One day sounds very good for this first client user interface. It took me half a day to make the client speaks with the server. We would need to integrate some authentication to your client. We could first call tmp_get_token($params) from the ws_authentication class. Then we add the token to the url + the ws function location (user in this case). I'm not sure how to do it, but I know we can declare the server url into the mxml file (not in the service config file). I had a quick look I think it's what your client do. The swf file should first call the authentication function then construct dynamically the amfurl (passing token + function location as GET param). What do you think about that?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 25, 2009, 1:08 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "As I said here \" Moodle 2.0 : some questions that need to be considered if we want to have web services available for client side Flash / Java / js etc \" actually the web services are already authenticating themselves using regular http cookies - the same session data is available as for other Moodle scripts. probably we should use the 'token' you refer to instead of cookies. but I think that we need to call a function in php when we generate the page that embeds the Flash and then pass the token into the client side app through the html Flashvars tag just as we have passed in the url to the amf server. The client app should not have to log in as the user is logged in already.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 25, 2009, 5:46 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "I don't think an embedded client app should behave differently than a not embedded client app. I mean when an app uses web services, this app is an external app. It should not bypass the \"usual\" ws authentication scheme even if it's embedded into Moodle. Let's have other opinion I think you can contact Petr about that. Or maybe give an example of something we can not do without some information into the HTML. I can't see one.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, March 26, 2009, 10:49 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Hi Jerome, To summarize my thinking : if (!every time a user loads a page with an embedded Flash movie or other code that uses web services you want the user to have to enter their username and password again){ we must have some other way to authenticate the user. if (we don't use cookies){ we must use another type of token. We can pass this into the Flash movie using html. } } else { every Flash object that uses web services is going to be a pain. } Jamie",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, March 26, 2009, 2:17 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Hey Jerome I had to implement AMF for a project here... it's on top of 1.9 of course, but it uses Zend AMF. Anyway, I wrote a small Introspection class, that reads in from $CFG a list of directories that have AMF blessed service files in them. Each class that wants its methods exposed as AMF services must implement a simple Interface (no contract methods, just so the Introspection stuff can differentiate which ones to use). For each of the services it finds, it uses php5's Reflection stuff to find the public methods and their arguments, and returns them. Then, my awesome colleague Jordi wrote a flash client (which he's releasing under the WTFPL) which connects to local/amf/server.php and by default calls the getMethods method on the Introspection class, and then offers an interface to make simple method calls and prints the result. You can check this out here: http://git.penny.liip.ch/?p=moodle.git;a=tree;f=local/amf;hb=refs/heads/mdl19-common which wants to go inside local/ in a normal moodle 1.9 checkout. At the moment I am using this successfully to connect to a custom build question type that just records scores and state from a flash game. Since the flash client runs in the browser, when it makes AMF connections, it sends the same cookies as the normal request, so it runs as the logged in user. You could use it to test some of the Moodle 2.0 stuff you're doing, except that it must use class methods of course, you can't use it to test functions (but you're free to modify it of course). You just have to: make a amfservices/ directory somewhere and set $CFG->amf_servicepaths (this can be an array) Eg: mine looks like: $CFG->amf_introspection = true; $CFG->amf_servicepaths = $CFG-> dirroot . '/question/type/externalflash/services/'; make a file in that directory and create a new class class something implements AmfService { public method someService() { } public method someotherService($foo, $bar) { } } The only gotchas are that class state doesn't really get kept, and constructors can't take arguments.... essentially method calls are treated like static - so make sure they take all the arguments they need and don't expect state to be kept between calls.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 24, 2009, 9:46 PM",
          "AuthorName": "Penny Leach",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=17383&course=5",
          "role": [
            "Picture of Penny Leach"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Just an update - the flash side has been pushed into its own git repository, publicly available here: http://git.penny.liip.ch/?p=amftester.git;a=summary which can be cloned like git clone http://git.penny.liip.ch/git/amftester.git",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 28, 2009, 7:39 PM",
          "AuthorName": "Penny Leach",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=17383&course=5",
          "role": [
            "Picture of Penny Leach"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "thanks Penny. I have a look at it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 4, 2009, 4:57 PM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.0: AMF server",
          "Text": "Hi, Have modified Jordi's AMF web service browser to use as a test client. Quoting from what I wrote here on the tracker where you can find a patch to get the service browser working in Moodle HEAD: \"Have created a new amf service browser client. You can use a user's token or a username and password to log in to the client. A patch that applies to the latest version of Moodle HEAD is attached. I have modified the zend server so that it supplies details of all the available methods for the logged in user. It interprets the data in the class dynamically generated by Moodle and passes all the data to Flash through an extra remote service method. The client displays form entry fields for each argument and arguments for the method can be entered using JSON syntax ie. use {} to enclose an object and [] to enclose an array.\" Jamie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 30, 2010, 10:49 PM",
          "AuthorName": "Jamie Pratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22721&course=5",
          "role": [
            "Picture of Jamie Pratt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 141291,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=141291",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Creating Moodle Users & Courses",
          "Text": "Hi, I was wondering if it is possible to: - check for the existence of a Moodle user (indexed by e-mail address...so, \"does bob@foo.com have an account\") - if the user doesn't exist, create the user and add them to the \"course creators\" group - check for the existence of a Moodle course (indexed by course ID and quarter, so \"is there an ABC101 course for Winter 2010\") - if the course doesn't exist, create the course using some sort of web service or other API. I tried reading through the documentation on moodle.org and have found that it appears that this sort of integration is planned for Moodle 2.0, but perhaps not available in version 1.9.7?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 12, 2010, 2:58 AM",
          "AuthorName": "Tim Gustafson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=743438&course=5",
          "role": [
            "Picture of Tim Gustafson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Creating Moodle Users & Courses",
          "Text": "No. This sort of thing does not exist out-of-the-box in Moodle 1.9. It is very easy to knock up a script like local/myws/addcourescreator.php that acts as a REST web service, and which 1. Does some sort of security check that the request is valid. (IP address of the caller in a whitelist, and password check would probably do.) 2. Checks whether the user exists. 3. If not, adds them, and gives them the course creator role in the system context . It is probably about a dozen lines of code. For creating courses, you might be able to do it using the the database enrolment plugin. That can automatically create courses if they exist in another database and do not exist in Moodle. Also, there are various third-party web services plugins for Moodle 1.9 that might do what you want, but I don't know.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 12, 2010, 6:39 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 140382,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=140382",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Plain XML-RPC behaviour changed in recent versions",
          "Text": "Hi all. I am developing some extensions to integrate Moodle with Joomla ( http://extensions.joomla.org/extensions/vertical-markets/education/10021 ) They use simple XML -RPC services (no encryption). Until recently it all worked well. I recently tried with Moodle latest stable version, and found out that something changed, and the extensions stopped working. Moodle gave \"No such function or function prohibited for RPC\" errors. After looking at the new code, I found out that it worked again by adding a row in the mnet_host2service, like this: insert into mdl_mnet_host2service (hostid, serviceid, publish) values (1, 4, 1); What I would like to know is wheter I should wrrite that row to the database at install time, or there is another recommended way to do it, because this is quite hardcoded. Or maybe I am missing something here... Thanks in advance for any insight. Best regards,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 22, 2009, 6:08 PM",
          "AuthorName": "Antonio Duran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=705036&course=5",
          "role": [
            "Picture of Antonio Duran"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 139594,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=139594",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Request on Web Services, SoapUI and Soa",
          "Text": "Hi all, I recently moved south to Bangalore and I am working for a large software integrator mainly testing. My project team is working on web service project. We plan to use an open source software like soapUI and web services now. Are you able to point me to online and offline resources/trainings that can help me and friends get up to speed with this technology. All the help group members can provide in this regard is much appreciated. Thanks, Rajesh Ahuja",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 9, 2009, 2:00 PM",
          "AuthorName": "Rajesh Ahuja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1048437&course=5",
          "role": [
            "Picture of Rajesh Ahuja"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Request on Web Services, SoapUI and Soa",
          "Text": "Hello Rajesh, There are several online resources available for these technologies. Just google for it. I also suggest that you look up some of the quality indormation on www.soapui.org that cover it in detail. Also recommend your attending Introduction to soapUI Training course on how to thoroughly test Web and REST services because it has a lot of hands-on lab work. When I spoke to Schnieder in Bangalore for Saltmarch BT Summit, he said the training covers how to use soapUI to test SOA, Web and REST services for scalability, performance and reliability.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 11, 2009, 5:25 PM",
          "AuthorName": "Dheeraj Goel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1049800&course=5",
          "role": [
            "Picture of Dheeraj Goel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 138517,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=138517",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "SIMS / Sharepoint / Moodle",
          "Text": "Hi, I'm working with a hand full of schools who are going into a BSF managed ICT service contract.  They all have Moodle but the new IT provider is wanting them to use sharepoint instead of Moodle. So i know that it is possible to integrate: 1.  SIMS Data into Moodle 2.  Moodle Data into Sharepoint But the ideal would be to launch sharepoint with the Moodle and SIMS data on the same screen??? I was just wondering if anyone has managed to do any of these things and if they would be willing for me to have a visit to ask a few queries to put the staffs mind at ease? Thanks, Ben Sewell",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 23, 2009, 9:59 AM",
          "AuthorName": "Ben Sewell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1039817&course=5",
          "role": [
            "Picture of Ben Sewell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 137378,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=137378",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Using Moodle: help me fix error when i run ws-test.php",
          "Text": "Hi, i am using Moodle OKTech web services, when i try to run ws-test.php i get the folowing error: Request: POST /wspp/service_pp.php HTTP/1.0 Host: 127.0.0.1 User-Agent: NuSOAP/0.7.2 (1.1) Content-Type: text/ xml ; charset=ISO-8859-1 SOAPAction: \" http://127.0.0.1/wspp/wsdl#login \" Content-Length: 593 <?xml version=\"1.0\" encoding=\"ISO-8859-1\"?><SOAP-ENV:Envelope SOAP-ENV:encodingStyle=\" http://schemas.xmlsoap.org/soap/encoding/ \" xmlns:SOAP-ENV=\" http://schemas.xmlsoap.org/soap/envelope/ \" xmlns:xsd=\" http://www.w3.org/2001/XMLSchema \" xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xmlns:SOAP-ENC=\" http://schemas.xmlsoap.org/soap/encoding/ \" xmlns:tns=\" http://127.0.0.1/wspp/wsdl \"><SOAP-ENV:Body><tns:login xmlns:tns=\" http://127.0.0.1/wspp/wsdl \"><username xsi:type=\"xsd:string\">admin</username><password xsi:type=\"xsd:string\">test</password></tns:login></SOAP-ENV:Body></SOAP-ENV:Envelope> Response: HTTP/1.1 200 OK Date: Sun, 08 Nov 2009 09:28:59 GMT Server : Apache /2.2.8 (Win32) mod_ssl/2.2.8 OpenSSL/0.9.8g mod_autoindex_color PHP/5.2.5 X-Powered-By: PHP/5.2.5 Set-Cookie: MoodleSession=6c5f5c339f196c591a07b77a94f61fe4; path=/ Expires: Thu, 19 Nov 1981 08:52:00 GMT Cache -Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0 Pragma: no-cache Set-Cookie: MoodleSessionTest=v8IHOGAOEx; path=/ Content-Length: 0 Connection: close Content-Type: text/html ....... 2009-11-08 10:06:05.311380 soap_proxy_8952: endpoint= http://127.0.0.1/wspp/service_pp.php , soapAction= http://127.0.0.1/wspp/wsdl#login , namespace= http://127.0.0.1/wspp/wsdl , style=rpc, use=encoded, encodingStyle= http://schemas.xmlsoap.org/soap/encoding/ ....... 2009-11-08 10:28:59.537853 soap_transport_http: read line of 25 bytes: Content-Type: text/html 2009-11-08 10:28:59.538089 soap_transport_http: read line of 2 bytes: 2009-11-08 10:28:59.538455 soap_transport_http: found end of headers after length 488 2009-11-08 10:28:59.538789 soap_transport_http: found cookie: MoodleSession = 6c5f5c339f196c591a07b77a94f61fe4 2009-11-08 10:28:59.539092 soap_transport_http: found cookie: MoodleSessionTest = v8IHOGAOEx ........... 2009-11-08 10:28:59.541640 soap_proxy_1461: Error: HTTP Error: no data present after HTTP headers Error: HTTP Error: no data present after HTTP headers thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 8, 2009, 5:24 PM",
          "AuthorName": "abdelaziz ouadah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1019053&course=5",
          "role": [
            "Picture of abdelaziz ouadah"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 136618,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=136618",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Need clear clarification about Webservices in moodle",
          "Text": "Hi, I don't know how to use webservice in moodle.I have referred moodle forums.In that they suggested some webservices.I have referred this link http://moodle.org/mod/forum/discuss.php?d=126195 . From that link ,I don't know which method i have to use.Am in dilemma bcoz they gave the disadvantages also if  i use OKwebservices & XML -RPC methods..Anyone can  guide me which method i have to use for webservice? My task is i have to integrate moodle with other application through webservice.Now am start using the OKwebservice method.What i did was i have copied the ws folder under the directory C:\\MoodleWindowsInstaller-latest-19\\ server \\moodle\\ws..After that i don't know how to proceed.I have referred lot in moodle foums.I didn't understand anything.Anyone can clearly explain step by step procedure for me? Thanks in Advance.....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2009, 2:23 PM",
          "AuthorName": "Jay J",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=976356&course=5",
          "role": [
            "Picture of Jay J"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Need clear clarification about Webservices in moodle",
          "Text": "check out the INSTALL file annexed to this post from OK Tech WS main thread http://moodle.org/mod/forum/post.php?reply=595387",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2009, 3:03 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Need clear clarification about Webservices in moodle",
          "Text": "Thanks a lot patrick..................... Can u give me the step by step procedure for XML -RPC method?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2009, 5:29 PM",
          "AuthorName": "Jay J",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=976356&course=5",
          "role": [
            "Picture of Jay J"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Need clear clarification about Webservices in moodle",
          "Text": "No ideas... OK Tech WS uses SOAP protocol, not XML-RPC XML-RPC is for MNET , see http://docs.moodle.org/en/Moodle_Network or http://www.linuxbox.com/tiki/tiki-index.php?page=moodle_xmlrpc for a \"non official\" implementation... Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2009, 6:09 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 135311,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=135311",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Implementation and composition of web services in moodle",
          "Text": "Hi all, I'm new here. My diploma project is about secure elearning and my goal is create some web services, which functionality should be like digital xml signature of various documents, tests and so on. For my bad i'm newbie in PHP but i I'm experienced in C, C# and Java . I dont know how to start and where i can find some guides for implementing some web services with needed functionality. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 15, 2009, 10:34 PM",
          "AuthorName": "Michal Hruby",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1007583&course=5",
          "role": [
            "Picture of Michal Hruby"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 135063,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=135063",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Webservices in Moodle 2.0",
          "Text": "Hi there, I would like to test the in Moodle 2.0 integrated SOAP interface, but I didn't get it to work jet. When I call the url my _moodle/webservice/wsdoc.php?protocol=soap it's said the following: Web services enable: OK soap protocol enable: FAIL and when I navigate to Site Administration -> Security -> Web services I get an empty page with this error : \" Error reading from database Unknown column 'custom' in 'where clause' (...) \". So did I something wrong or is it still under construction? I apologize if I overlooked something in the documentation or elsewhere. Best Regards Malte Kastner",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 13, 2009, 4:35 PM",
          "AuthorName": "Malte K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686573&course=5",
          "role": [
            "Picture of Malte K"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservices in Moodle 2.0",
          "Text": "Hi Malte. First of all, sorry for my bad English. The problem is that it´s still under construction (if the last moodle version this problem has been solved), so you´ll have to insert four rows (one for each protocol) in the mdl_config_plugins table (in moodle db) manually. In plugin, write soap, rest, xmlrpc or amf . In name, write enable, and in value write 1. If you do this, the four protocols will be activate. But I think that in the last moodle versions the webservices don´t work because there have been some changes. Cheers. Pozo.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 13, 2009, 5:17 PM",
          "AuthorName": "Alberto del Pozo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821913&course=5",
          "role": [
            "Picture of Alberto del Pozo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Webservices in Moodle 2.0",
          "Text": "Hi Alberto, Thank you for your fast and extensive answer. I will test this. Malte Kastner",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 13, 2009, 6:06 PM",
          "AuthorName": "Malte K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686573&course=5",
          "role": [
            "Picture of Malte K"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 129138,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=129138",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "WebServices or API's",
          "Text": "I am brand spanking new to moodle.  A customer of ours has course content in moodle and they'd like our tracking system to integrate into their moddle site. In essense, we need to be able to: 1) Determine if a user in our system has an account in Moodle and create it, if not. 2) Determine if a user in our system is registered in a particular course.  If not, enroll them. 3) Retrieve a users course grade. We've integrated using IMS and AICC and I was hoping that there were some other intrinsic interfaces we could tap into. I'm sorry to say that I'm a little overwhelmed with the acronyms and other resources within the moodle site.  We have a windows based infrastructure and code in c# and/or .asp. I assume that there are several ways we can tend to this, but I was hoping to get a little insight from others that have already done this sort of integration. Many thanks for any info. Mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 29, 2009, 1:02 AM",
          "AuthorName": "Michael Murphy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=863395&course=5",
          "role": [
            "Picture of Michael Murphy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: WebServices or API's",
          "Text": "The next major release of Moodle, Moodle2 is due to have a web services API and looking at how they are going to do that may give you some insight. However this version is still in active development and there is no firm release date.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 29, 2009, 4:34 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WebServices or API's",
          "Text": "I would have a look at coding a custom authentication plugin (which live in 'auth') and/or a custom enrollment plugin (which live in 'enrol'). Both have reasonably well defined interfaces and plenty of existing examples. You'll need to get your hands dirty with PHP but a bit of time away from Microsoft will be good for you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Wednesday, July 29, 2009, 4:39 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WebServices or API's",
          "Text": "I've just finished an integration project between DotNetNuke and Moodle. I had similar issues and I used OkTech webservice. Now the system is up and running and it is working very well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 29, 2009, 7:42 PM",
          "AuthorName": "Oscar Peli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=387770&course=5",
          "role": [
            "Picture of Oscar Peli"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WebServices or API's",
          "Text": "Thank you all for the insight.  Very helpful. Given that we don't have an infrastructure to support php development, I'm probably going to look into the OkTech webservice . . .  .or . .  perhaps I'll just wait a bit and see what comes out.  I guess it all depends on our customer's thoughts on the matter. Thanks again. Mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 29, 2009, 8:54 PM",
          "AuthorName": "Michael Murphy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=863395&course=5",
          "role": [
            "Picture of Michael Murphy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WebServices or API's",
          "Text": "Could you please tell me more about this integration with DNN? I need to evaluate a similar project. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 28, 2009, 2:47 AM",
          "AuthorName": "Tom Workman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=43817&course=5",
          "role": [
            "Picture of Tom Workman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WebServices or API's",
          "Text": "Well, I builded up a SSO mechanism and a sync process to align users between DNN and Moodle. DNN is the master site, so users join the system via DNN. I developed a schedulable module that creates the same user (username and password) inside Moodle and, to do so, I used OKTech WS. This module is scheduled to run every 5 mins and syncs only newer users (those who signed up \"today\"); of course I created another similar module to sync users in a batch way (sync all users that doesn't exist inside Moodle). Hope this help but feel free to ask again if you need more help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 28, 2009, 3:36 PM",
          "AuthorName": "Oscar Peli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=387770&course=5",
          "role": [
            "Picture of Oscar Peli"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 130722,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=130722",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to convert from Local (LAN ) IP to Public IP",
          "Text": "Hi We are running moodle site in LAN and we are accessing through local Ip and We want to convert into public IP and we want to access from out side (globally ) how to chage the settings in moodle from local IP to Public IP and what are the changes to be made in moodle 1.8",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 20, 2009, 2:05 PM",
          "AuthorName": "Bhasker E",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=933634&course=5",
          "role": [
            "Picture of Bhasker E"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 130674,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=130674",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Communication Moodle and Mahara",
          "Text": "Hi, (first, sorry for my bad english jeje) I'm working in a communication of Mahara and Moodle. I know that these two programs already have funcionalities for identify the users, for exemple, if you loggin with moodle you can enter to mahara without re-signing. Well, i'm programming a basic model of resume in Moodle, and i want import the information that one user have in resume of Mahara to the Moodle, and the opposite, export the information of the user's resume in Moodle to Mahara. These two programs have the XMLRPC to communicate and in version 2.0 there is the class Portfolio to do so (i think), but i don't know very well how it works. I suppose that i have to create a function in Mahara, for exemple import_information (user, array_with_resume_information), that this function call the functions that Mahara use to update the resume's information of a use. Later, in Moodle i should call the function import_information that have Mahara??? But how i do that? I have to create a instance of portfolio_plugin_mahara?? How it works the files client.php and server .php that have moodle in mnet and mahara in api/xmlrpc?? Thanks",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, August 20, 2009, 12:43 AM",
          "AuthorName": "Daniel Valles Martinez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=834996&course=5",
          "role": [
            "Picture of Daniel Valles Martinez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Communication Moodle and Mahara",
          "Text": "Hi Daniel, The portfolio API in Moodle 2.0 is about pushing data *from* Moodle to external systems (eg Mahara). If you put to push data from Mahara to Moodle, you'll need to look at the Repository API, which is about pulling content into Moodle from an external system (the opposite of the Portfolio API). There's more documentation about the Portfolio API here: http://docs.moodle.org/en/Development:Portfolio_API",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 20, 2009, 1:35 PM",
          "AuthorName": "Penny Leach",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=17383&course=5",
          "role": [
            "Picture of Penny Leach"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 130109,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=130109",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "shortest path to 2.0 web services",
          "Text": "Hey, All: AU will be staying on moodle 1.9 for some time, and would appreciate advice on which 1.9 web service implementation is the \"closest\" to (or is the actual ancestor of) the upcoming 2.0 web services: OKTech, DFWiki or one of the french derivatives? I see from the DFWiki blog that another option would be for AU to help backport the Moodle 2.0 web services to 1.9. Any advice is greatly appreciated. Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 12, 2009, 1:25 AM",
          "AuthorName": "Brian Jorgensen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=568672&course=5",
          "role": [
            "Picture of Brian Jorgensen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 130022,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=130022",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Save Username and Password",
          "Text": "How to save the username and password used in the implementation of site also in moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 11, 2009, 12:32 AM",
          "AuthorName": "Silvio Castro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=935649&course=5",
          "role": [
            "Picture of Silvio Castro"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 126195,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=126195",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "WEB SERVICES options in Moodle 1.9",
          "Text": "We are building a Java Rich client Marking tools application. We are considering the possible options for exchanging data with Moodle 1.9. So far we are considering the following possibilities: Use the OKTech Web services module (the main disadvantage seems to be that it is still in development) Use the NUSoap libraries Use the PHP extensions that come with PHP5 Use the existing XML -RPC support (the main disadvantage is that it appears to be designed for trusted server to server communication so we'd have to build a separate Java Server process to act as an intermediary between our clients and Moodle) Use REST - but this seems to have no support until the release of Moodle 2.0 We'd be very gratefully for any opinions about these options. Also for any other alternatives.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 19, 2009, 9:44 AM",
          "AuthorName": "Paul Charsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=890654&course=5",
          "role": [
            "Picture of Paul Charsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: WEB SERVICES options in Moodle 1.9",
          "Text": "Hi Paul, Here's a description of a successful integration project using the OKTech Webservices: http://www.globalnetu.com/gnulms/course/view.php?id=15 Hope you find this info useful... Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 19, 2009, 5:52 PM",
          "AuthorName": "Ken DeVellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35793&course=5",
          "role": [
            "Picture of Ken DeVellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WEB SERVICES options in Moodle 1.9",
          "Text": "OKTech Web Services is widely used, and fairly stable, so there should be no problems with using it. The \"existing XML -RPC support\" is part of the Moodle Networks has extra security layers on top of plain XML-RPC. Yes, it is meant for server-to-server communication -- it wouldn't work for client-to-server communication. As well, the extra security layers mean that you need to handle those on top of standard XML-RPC.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 19, 2009, 11:10 PM",
          "AuthorName": "Hubert Chathi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=706541&course=5",
          "role": [
            "Picture of Hubert Chathi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WEB SERVICES options in Moodle 1.9",
          "Text": "Hello, A bunch of students at University of Lille, France, under the direction of Frédéric Hoogstoel  has done a fantastic work on expanding current version 1.5.16 of OK Tech WS with many operations that write to Moodle (whereas current version was mainly aimed to get data from Moodle). see http://moodle.org/mod/forum/discuss.php?d=67947 Code and documentation is now available at http://efidiles.plil.net/ and shall be merged into CVS http://cvs.moodle.org/contrib/patches/ws/?pathrev=MAIN after the 5th French Moodlemoot that consumes all my time till end of June.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 20, 2009, 1:36 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: WEB SERVICES options in Moodle 1.9",
          "Text": "Patrick, This sounds interesting. I need to do some web services work that will update grades, but I can't find any mention of set functions in the documentation that I downloaded, and the efidiles.plil.net link doesn't seem to be working. On another note, I'd like to find a service that supports REST, but that's not as important as the set functions. Thanks for any feedback, Nate Baxley",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 5, 2009, 1:14 PM",
          "AuthorName": "Nate Baxley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=525031&course=5",
          "role": [
            "Picture of Nate Baxley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 123066,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=123066",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "how to use the application in internet",
          "Text": "Hi. I have moodle application in my local machine. and i can access the application in the intranet it works fine. And I want to give the access to my friend . so i am using router address tranfer (RAT). But my friend is not able to access the application. Only the front page is not opening. but none of the images are displaying.. and when you do the view sourse its showing local system IP address/ Help me how to resolve this Problem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 11, 2009, 8:56 PM",
          "AuthorName": "priya r",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=822520&course=5",
          "role": [
            "Picture of priya r"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: how to use the application in internet",
          "Text": "Hi hope the issue might have been solved now.. if not try this... in config.php u must be identifying your server as \"localhost\" .. change that to your ip address...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 25, 2009, 3:18 PM",
          "AuthorName": "sathish kamaraj",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=145508&course=5",
          "role": [
            "Picture of sathish kamaraj"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 102511,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=102511",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "A Moodle-SIS Integration Project via Webservices",
          "Text": "Hello All, We have developed some functions for our Student Information System (SIS) to use the Ok Tech WS to control enrolments and retrieve grades from our Moodle 1.9.2+ implementation.  Some of the existing OK Tech webservice methods needed to be modified (to work with collections of courses under a category) and a few new methods needed to be created as well.  I have attached the modifed Ok Tech webservices code used as well a a brief description of the project for those who may be interested in taking a look. The attached zip file contains the following 5 files: atilib.php ok_mdl_soapserver.class.1.5.9.modified.php ok_server.class.1.5.9.modified.php ok_wsdl_pp.1.5.9.modified.php Webservices_mods_desc.doc If you are already familiar with the OK Tech webservices functions, hopefully you will find this code helpful (and maybe amusing ).  For those new to their webservice implementation, this code can be used as an example of how the OK Tech webservices implementation can be extended. Cheers...",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Friday, August 1, 2008, 11:58 AM",
          "AuthorName": "Ken DeVellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35793&course=5",
          "role": [
            "Picture of Ken DeVellis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: A Moodle-SIS Integration Project via Webservices",
          "Text": "Here's a further description of this project: http://www.globalnetu.com/gnulms/course/view.php?id=15 Login as guest...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 19, 2009, 6:02 PM",
          "AuthorName": "Ken DeVellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35793&course=5",
          "role": [
            "Picture of Ken DeVellis"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 117893,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=117893",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.0: PHPdoc format",
          "Text": "We describe web service function parameters into the phpdoc. Every web service function is coded with one parameter only. It's an associative array $params containing all the \"real\" parameters. Because a \"real\" parameter can be an array of (array of...) primary type, we represent an array by the character ':' or '->'. The colon character represents a non associative array/list (it can have multiple values). The arrow chatacter represents an object (associative array). Here are few examples how to write a docblock for a web service function All \"real\" parameters are primary types: /** * @param array|struct $params - this line is mandatory for every web service function * @subparam string $params->username - the username * @subparam integer $params->age optional - the user age * @return boolean result",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 4, 2009, 10:07 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.0: PHPdoc format",
          "Text": "Tim wrote a more clear docs here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 4, 2009, 11:04 AM",
          "AuthorName": "Jérôme Mouneyrac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=542994&course=5",
          "role": [
            "Picture of Jérôme Mouneyrac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 70908,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=70908",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "Web Services documentation",
          "Text": "Hi, all. Can we please have some help documenting the current web services in Moodle 1.8? If Catalyst can start with a rough outline at least then I'm sure there are many of us willing to flesh it out. I've blanked an old page to use here: http://docs.moodle.org/en/Development:Web_services_API Please! Information about what is currently MISSING from the Moodle 1.8 web services would be good too.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, May 7, 2007, 5:01 AM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "Is there any particular reason that you blanked the page? It seems that now there is less information than before. Also, by \"If Catalyst can start with a rough outline at least then I'm sure there are many of us willing to flesh it out.\" did you mean that they have already provided the outline? If so where can we find it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 30, 2007, 2:27 AM",
          "AuthorName": "Alexander Honda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=270308&course=5",
          "role": [
            "Picture of Alexander Honda"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "There's a WS framework in place in 1.8, based on the Moodle Network code. It doesn't look like what was being discussed before. Sadly, we haven't had time to document it yet. Coming...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 30, 2007, 4:48 AM",
          "AuthorName": "Martín Langhoff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13727&course=5",
          "role": [
            "Picture of Martín Langhoff"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "That sounds great. I look forward to it. I know documentation is a really time consuming and boring thing to write so I appreciate your efforts. Could I suggest one thing though? If some one could jot a few notes in the \"Things you can do\" section I would really appreciate it. It would help me to plan around \"things I should be able to do soon with the WS framework\" and \"where I need to come up with an alternative solution\". Many thanks for your work, --Stuart.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 31, 2007, 5:20 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=134840&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "Hi, I want to ask if the this documentation (which i need..desperately!) would be available any time soon. I'm going to upgrade to 1.8.1 just to be able to use WS and it would save me a lot of time and effort if I could get a short description on how I can make use of them. Thanx",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 13, 2007, 11:39 PM",
          "AuthorName": "Maram Meccawy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45725&course=5",
          "role": [
            "Picture of Maram Meccawy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "I agree, at the moment there is no documentation that I can find that even starts the ball rolling on WS development.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 14, 2007, 7:32 PM",
          "AuthorName": "Ben Steeples",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=216825&course=5",
          "role": [
            "Picture of Ben Steeples"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "Hi Ben, So I'm not the only one who is suffering here Any way, until moodle provides us with the information (hopefully soon), this is what I have got after an extensive search all over the web, thought might be useful having it here: - Student Web Services in Moodle Presentation at moodlemoot conference: Presenter: Kristian Thornley http://moodlemoot.org.nz/moodle/course/view.php?id=12 Nice short presentation + some code to try, didn't work for me though, maybe because I don't have PHP 5 and SOAP extensions installed. - How Does Moodle Implement Web Services? Contributors: Mike Franks, Devon Rifkin http://kb.ucla.edu/articles/how-does-moodle-implement-web-services Not much really but it has only been added last week, so maybe in the future it would have more information. Ta, Maram",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, June 14, 2007, 9:43 PM",
          "AuthorName": "Maram Meccawy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45725&course=5",
          "role": [
            "Picture of Maram Meccawy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "Fantastic, thank you",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, June 20, 2007, 5:27 PM",
          "AuthorName": "Ben Steeples",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=216825&course=5",
          "role": [
            "Picture of Ben Steeples"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "I've filed a bug to help keep Martin and Donal on this problem. MDL-10283 These guys really have to start the ball rolling for us here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 28, 2007, 4:17 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "Hi all, Like everyone else I've found this a challenge due to lack of documentation. What's there I've actually found to be good, so well done guys, unfortunately a lot is missing. Anyway we really need web services to support the synchronisation feature we're building at the OU , see our post , so I've spent a little time getting two Moodles to talk to each other via a new web services created through mNet. To help out I thought I would document what we have done and post it here as an attachment both for everyone's reference in case it helps, and also for analysis in case we have taken the wrong path some where. The notes are written for developers but I've tried to explain each step clearly. If any one wants to contribute to our project then either get posting in our thread or visit the Mobile Moodle course we are using to coordinate the effort. It is hosted by our friends at East Carolina University who are helping with development.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 15, 2007, 6:01 PM",
          "AuthorName": "Colin Chambers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=239770&course=5",
          "role": [
            "Picture of Colin Chambers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "hi all, this API is not very usefull for me. Is it possible to get an WSDL file or any detailed description? I am searching for a possibility to import/export LOs in SCORM via Webservices. thanks, Viktor",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 11, 2007, 7:50 PM",
          "AuthorName": "Viktor Dite",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=356078&course=5",
          "role": [
            "Picture of Viktor Dite"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Web Services documentation",
          "Text": "Hello, the documentation you are talking is about implementing functions to be used with xmlrpc, but how can I use these functions? Now I'm trying to enrol a user to a course. I have Moodle 1.9.4+ and an external application that manages users. I need to manage moodle from this app. Enrol users, Asign roles... How can I enrol an user to a course using web services? Any tutorial or documentation? Thank you. P.S. I'm new in Moodle, I hope this questions are not very stupid",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, February 9, 2009, 7:51 PM",
          "AuthorName": "Adrián Ribao",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=787824&course=5",
          "role": [
            "Picture of Adrián Ribao"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 113736,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=113736",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Any web E-book solutions?",
          "Text": "Is there any web ebook solution showing pdf/doc/ etc? How do you think like this Flipviewer Xpress? Demo: http://digitalflip.de/a4/drupa07/drupa07fvx/drupa07_0108.html",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 12, 2009, 7:53 AM",
          "AuthorName": "Xinghua Chen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=553148&course=5",
          "role": [
            "Picture of Xinghua Chen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 105491,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=105491",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How?",
          "Text": "Hi, I have read around in this forum and became confused... I understood that there is a xml -rpc based web service inside moodle that enables the external execution of some (all?) functionality inside it. And that what I exatly want (add users/courses from external DB based on triggers). However I was totally unable to understand what I have to do to connect to this web service and call the proper functions. What the url inside the moodle installation, What the exact function names/params? There is any document with the proper specifications? Thanks, Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 10, 2008, 5:17 PM",
          "AuthorName": "Peter Eliyahu Kornfeld",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=567589&course=5",
          "role": [
            "Picture of Peter Eliyahu Kornfeld",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 104665,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=104665",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Web Services on the other way",
          "Text": "Hi, I read around the web services issues here, and in the documentation pages. I learned the moodle exposes a nice group of possibilites to access it thru web services. However I'm looking for using web services on the other way. Tell moodle to do some actions (login/enroll/create course...) based on data retrived for ma web services... There is any clue about this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 1, 2008, 4:04 PM",
          "AuthorName": "Peter Eliyahu Kornfeld",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=567589&course=5",
          "role": [
            "Picture of Peter Eliyahu Kornfeld",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 104510,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=104510",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "WEB SERVICES",
          "Text": "How can I add my own web services to module?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 29, 2008, 7:48 PM",
          "AuthorName": "ermias atnafu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=636763&course=5",
          "role": [
            "Picture of ermias atnafu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 102625,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=102625",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Webservice track in which page the user is",
          "Text": "Hi, I need to develop a web service that tracks in which page of Moodle course the student is in (Quiz, Lesson , Forum, ...). The name of the student current page will be returned back as text into another web service I'm working on integrating with Moodle. Any help please. Iyad",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 3, 2008, 7:13 AM",
          "AuthorName": "Iyad Doush",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=474376&course=5",
          "role": [
            "Picture of Iyad Doush"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 102624,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=102624",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Integrating a Highlighting System into Moodle as a Webservice",
          "Text": "Hi, I have developed a web highlighting system with semantic web capabilities. I need to integrate my system with Moodle (enable students to highlight online course pages, and later on any student can ask questions using the system witha help from the ontology). The system is built using Servlets on the server side and Javascript on the client side. I used Tomcat as the server for my work. Any help please on how I can do that. Iyad",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 3, 2008, 7:09 AM",
          "AuthorName": "Iyad Doush",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=474376&course=5",
          "role": [
            "Picture of Iyad Doush"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 96716,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=96716",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Currently available functions versus API",
          "Text": "I was reading the documentation on the API, and looks like it's supposed to be implemented for Moodle 2.0. I need to write some custom code and was wondering which functions are available for me to use now? I found the following: create_user_record() in moodle/lib/moodlelib.php - This will create a new user, but only adds the username and password. I can't find another function that updates the other fields (firstname, lastname, country, etc). Any suggestions on where to look? enrol_into_course() in moodle/lib/accesslib.php - This looks like it will enrol a student in a course. I'm assuming that $course->id is the course id number of the course (as opposed to the shortname). Is there any problem with using these functions? Also, are there any functions that will: (1) check to see if a username or email are already in use  (2) update a user record (city, country, phone, etc)  (3) check to see if a course exists Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 8, 2008, 4:37 AM",
          "AuthorName": "Deleted user",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=210521&course=5",
          "role": [
            "Picture of Deleted user"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Currently available functions versus API",
          "Text": "Hi Jeff, Did you ever work this out? We are also keen to do the same. David.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 17, 2008, 4:57 AM",
          "AuthorName": "David Savill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=174465&course=5",
          "role": [
            "Picture of David Savill"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 97452,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=97452",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Interlink Moodle LDAP with a IMAP email system",
          "Text": "To All I'm after any information on Interlinking a Moodle LDAP with a IMAP email system we have running. Is this possible or is there another email solution I can use that allows single signon Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 19, 2008, 4:41 PM",
          "AuthorName": "Paul Garratt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=548581&course=5",
          "role": [
            "Picture of Paul Garratt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 95286,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=95286",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "DFWebservices... comming up",
          "Text": "Its not very polite in netiquete to double post, but in this case I'm doing it. I posted in General dev forum, cause I want to provoque a litle architecture debate there. But this definitivelly affects here... Said these, here comes the cut&paste L. Hi there, is not anywhere in the roadmap, but I've got an assignment in the tracker to develop some functions than will be useful to build a interoperability features. We (pigui, david, ferran, me, Maria José... dfwikiteam) have been thinking about a way to build an architecture of interoperability on top of it. We commited some code and I wrote some lines of documentation ... we are revising the whole thing but we will come with something usefull soon. So ... your insights will be are most welcome. Thanks Ludo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 19, 2008, 2:53 AM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 94830,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=94830",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Error on dynamically changing the WS URL",
          "Text": "Hello, We have built one Moodle site for each of our faculties. Also, we have deployed a .NET Portal (DotNetNuke) where every teacher and student may login and see various resources. One of this resources are the courses from Moodle (one for each faculty). Since a teacher may teach to several faculties we tried via WS/login to get his/her courses from Moodle via Web Services. For achieving this we should change the Web Service URL dinamically, at runtime to the URL of the faculty one teaches. The proxy for the WS is generated for one Moodle platform and, since all the platforms are exactly the same, changing the Web Service URL dynamically should work.... but it does not! meaning that I can change the proxy URL but invoking a method that is on a different platform that the original (the one the proxy was generated from) fails. The Web services URL behavior in Visual Studio 2008 is set to \"dynamic\". All the platforms have the exact same web services version and they are on the same version of Moodle. Help ? System.InvalidOperationException: There is an error in XML document (2, 559). ---> System.InvalidCastException: Cannot assign object of type System.Xml.XmlNode[] to an object of type AGSISPortal.MoodleWS.fr.loginReturn. at Microsoft.Xml.Serialization.GeneratedAssembly.XmlSerializationReaderMoodleWS.Read46_loginResponse() at Microsoft.Xml.Serialization.GeneratedAssembly.ArrayOfObjectSerializer26.Deserialize(XmlSerializationReader reader) at System.Xml.Serialization.XmlSerializer.Deserialize(XmlReader xmlReader, String encodingStyle, XmlDeserializationEvents events) --- End of inner exception stack trace --- at System.Xml.Serialization.XmlSerializer.Deserialize(XmlReader xmlReader, String encodingStyle, XmlDeserializationEvents events) at System.Xml.Serialization.XmlSerializer.Deserialize(XmlReader xmlReader, String encodingStyle) at System.Web.Services.Protocols.SoapHttpClientProtocol.ReadResponse(SoapClientMessage message, WebResponse response, Stream responseStream, Boolean asyncCall) at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke(String methodName, Object[] parameters) at AGSISPortal.MoodleWS.fr.MoodleWS.login(String username, String password) in e:\\dnn_48\\desktopmodules\\agsisportal\\agsisportal\\web references\\moodlews.fr\\reference.cs:line 297 at AGSIS.E_Learning.Moodle_MyCourses_Profesor.gvFacultati_RowDataBound(Object sender, GridViewRowEventArgs e) in E:\\dnn_48\\DesktopModules\\AGSISPortal\\AGSISPortal\\Moodle_MyCourses_Profesor.ascx.cs:line 107",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 14, 2008, 4:08 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error on dynamically changing the WS URL",
          "Text": "Hi, I've found a solution - changing the targetNamespace to targetNamespace=\" http://tempuri.org/wspp/wsdl \" and replacing all the \". $CFG-> wwwroot .\" from the wsdl_pp.php to http://tempuri.org . I have left the same only the location, at the bottom of the file (location=\"' . $CFG->wwwroot . '/wspp/service_pp.php\") so that this URL might be changed dinamically at runtime, as in the attached file Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 14, 2008, 2:39 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 90447,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=90447",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Using web service for applet-moodle communication",
          "Text": "Hi, Are there any examples out there of people using or creating a web service with moodle for communication with an external application or applet . For example, tracking or logging how students use a simulation or game applet, or embedding an applet in a moodle quiz, etc. Thanks, -Doug",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 15, 2008, 4:44 AM",
          "AuthorName": "Doug Holton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=392328&course=5",
          "role": [
            "Picture of Doug Holton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using web service for applet-moodle communication",
          "Text": "http://docs.moodle.org/en/Development:Opaque which is used by both http://stack.bham.ac.uk/ and http://www.open.ac.uk/openmarkexamples/ .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 15, 2008, 6:12 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using web service for applet-moodle communication",
          "Text": "(this post is a copy of a comment of issue MDL-12886 ) Hi, we have developped for two years web services for Moodle 1.8.2, under PHP5.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 8, 2008, 5:34 PM",
          "AuthorName": "Frédéric Hoogstoel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=196940&course=5",
          "role": [
            "Picture of Frédéric Hoogstoel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using web service for applet-moodle communication",
          "Text": "Hi, nice work in research. I have taken a look at the methods in the web service for Moodle 1.8.2 at http://svn2.assembla.com/svn/MoodleWSPourGenDep/Moodle1.8.2-PHP5/ Is it possible to _edit_ a user/course/etc. ? Thank you, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 8, 2008, 7:44 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using web service for applet-moodle communication",
          "Text": "Up to now, our web services don't allow to edit a \"Moodle object\" (course, user, activity ...), except rename a category and rename a course. Our WS are designed to be used by GenDep (or another deployement application) to deploy a learning arrangement, not to adapt an existing one. This may evolve in the future. Currently, these WS are also designed to contextualize the learning arrangement, by using moodle objects that already exist on the server , without modifying it. Exemple given, when the learning arrangement model includes users, you can import existing users from the moodle server when you deploy the model.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 8, 2008, 10:05 PM",
          "AuthorName": "Frédéric Hoogstoel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=196940&course=5",
          "role": [
            "Picture of Frédéric Hoogstoel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 92889,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=92889",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Firing a client to an external service in moodle",
          "Text": "Hi, I'm not sure if this is the right place to ask this question but couldn't think if any where else! I know it's more of a development problem than any thing else. I have written three clients which I store in /moodle/) that makes a call to some external services and communicates with moodle's DB tables. (security & authentication is not an issue here).. I need to activate those scripts (clients) in three places: 1- after a student takes a Quiz, so ideally in: mod /quiz/review.php ( the client needs the user's grade for this quiz, hence I didn't know where else should I place the call 2- When the user picks a lesson : mod/Lesson/view.php",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, March 18, 2008, 11:36 PM",
          "AuthorName": "Maram Meccawy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45725&course=5",
          "role": [
            "Picture of Maram Meccawy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Firing a client to an external service in moodle",
          "Text": "A blank page is often the result of a fatal error. What do you get if you turn on the display of errors in Admin -> Server -> Debugging?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2008, 1:22 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Firing a client to an external service in moodle",
          "Text": "Thanks for mentioning this useful tool, I think I'm starting to get there! However, when I turned the developers option on, I could not see the \" Attempt this Quiz\" button any more! I had to set the debugging to minimal to see it again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 22, 2008, 3:31 AM",
          "AuthorName": "Maram Meccawy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45725&course=5",
          "role": [
            "Picture of Maram Meccawy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Firing a client to an external service in moodle",
          "Text": "In Moodle 1.8, setting debug to DEVELOPER meant that pages were served as XHMTL strict and application/ xhtml + xml , which is very good for finding invalid HTML, but breaks some legacy javascript . In Moodle 1.9, debug level, and whether to serve as XHTML are separate settings. Anyway, you should be able to use debug 'ALL' safely. (Or hack print_header to stop it setting the mime type to application/xhtml+xml in developer debug mode.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 22, 2008, 5:00 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 91836,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=91836",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Webservices with asp.net C# and Visual Studio 2008",
          "Text": "I'm trying to work on a project for a client of ours using the moodle webservices and a .net 2.0 web application in Visual Studio 2008. I've successfully added http://domain.com/ws/service.php?type=soap&wsdl as a web reference to my project. I'm able to view the methods for MoodleWS class and some of the other classes from the web service. However, my problem is that some of the objects are missing. There is no userRecord, userDatum, courseRecord, courseDatum, gradeRecord, gradeStatsRecord, studentRecord. I do have (not listing them all) courseData, userData, userRecords, etc. I finally figured this out after looking at the .wsdl file and seeing those objects that I'm missing. I'm attaching a screen shot of VS hoping that might help. Our client told me he is using version 1.8.4.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/405551/screenshot.gif?forcedownload=1"
          ],
          "Time": "Wednesday, March 5, 2008, 6:41 AM",
          "AuthorName": "Josh Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=507286&course=5",
          "role": [
            "Picture of Josh Smith"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Webservices with asp.net C# and Visual Studio 2008",
          "Text": "Hi, take a look at the Patrick Pollet's version of Web Services at http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/ . Currently there is a fully functional 1.5.9 version, but he promised some time ago a 1.6 version with some fixes. Also, that a look at http://www.codeplex.com/Moodle2003WP - SharePoint Web Parts for Moodle. Inside the release you can find some code needed to access the Moodle database directly - but be worry of the changes that might occur in this database on upgrade...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 6, 2008, 3:18 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 90872,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=90872",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Alfresco and Moodle",
          "Text": "Hello all, I've seen the Alfresco and Moodle integration post. I want a more alfresco push rather than moodle pull method. I had envisaged a custom action (an action is something that can be scheduled to happen due to a particular event) that would push a document from alfresco into moodle for a particular course. Most of the work would be on the Alfresco side but I would need web service access to moodle to publish content to a particular course. I need to be able to do this with moodle 1.9 (and nothing later) as this is the version that we'll be going live with (although it would be useful to know if it will work with 1.8). I've looked at the XMLRPC API but am unsure if it will do what I need. I'd prefer to use REST but it doesn't look like this is in 1.9? Thanks for any help, Rob",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 21, 2008, 7:07 PM",
          "AuthorName": "Rob Hudson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=495794&course=5",
          "role": [
            "Picture of Rob Hudson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 87906,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=87906",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Incoming SOAP Connection",
          "Text": "I am in the process of trying to get data into Moodle 1.8 from the Salesforce API utilizing a SOAP connection. We have already gotten the work done in salesforce and I am in the process of setting up an endpoint in Moodle. I have looked through the moodle libraries and found that there is a soaplib.php, but it does not look like there is functionality to handle incoming SOAP connections. Does Moodle support incoming SOAP connections or will I have to write a library and code it myself? Has anyone attempted an incoming SOAP connection and been successful? And if so, what did you do? Thanks for the help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 11, 2008, 11:22 AM",
          "AuthorName": "Douglas Dixon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=104559&course=5",
          "role": [
            "Picture of Douglas Dixon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Incoming SOAP Connection",
          "Text": "Hello, Official Moodle core does not have a SOAP server waiting for your connexions. However you can peek into this discussion OKTech Web Services http://moodle.org/mod/forum/discuss.php?d=67947 about a Web Service using SOAP. More details on http://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews/ to get current server code, client examples (php, java , python, C#...) and some docs. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 12, 2008, 3:52 AM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 87431,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=87431",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Help about Online courses in LMS sistem Moodle",
          "Text": "Hi everyone! I am as i may called myself a newcomer in the world of moodle, and as such i desperately need your help. my problem is following: I have to wright an assigment (40-50 pages) about online courses in LMS sistem Moodle. If anyone of you could be so kind to send me some links regrarding this topic i would be very grateful... i have to write about the courses that already exit, not to write my one. it would be extremely helpful if you could also send me some links regrading e-books about this topic. thank you all for the help I hope I will receive from you. Best regards",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley",
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Thursday, January 3, 2008, 9:21 PM",
          "AuthorName": "Dusan Stojanovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=456120&course=5",
          "role": [
            "Picture of Dusan Stojanovic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Svar: Help about Online courses in LMS sistem Moodle",
          "Text": "OpenLearn offers some free courses to examine. The book Using Moodle - second edition has some material on practical application.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 4, 2008, 2:48 AM",
          "AuthorName": "Anders Berggren",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3753&course=5",
          "role": [
            "Picture of Anders Berggren"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 86600,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=86600",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle as a general CMS",
          "Text": "Hi I am in the process of specifying a new site for a client and and aware of Moodle as one of many cms open source systems available. Can/should Moodle be used a cms system for a general site - such as Furniture manufacturer - or would I really be better at looking at solutions such Drupal, Joomla etc because of their more commercial orientation? Thanks for any help out there",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 15, 2007, 1:25 AM",
          "AuthorName": "Martin Judd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=448010&course=5",
          "role": [
            "Picture of Martin Judd"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle as a general CMS",
          "Text": "I think you're confusing Moodle CMS (Course Management System) with Joomla, Drupal, etc (Content Management System). Moodle would be a great option if you wanted to provide courses (or sections ) where users would collaborate in a teacher/student environment), but I doubt you're looking for this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 28, 2007, 6:29 AM",
          "AuthorName": "Greg Rodenhiser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61585&course=5",
          "role": [
            "Picture of Greg Rodenhiser"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 84920,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=84920",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "help me fix error when i run ws-test.php",
          "Text": "when i run ws-test.php, I get the following error: ========================================================== Attempting to create a server connection... Client connected... Login: Sent server call... Error: HTTP Error: no data present after HTTP headers Logout: Sent server call... Error: HTTP Error: no data present after HTTP headers ========================================================== Thank!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 20, 2007, 9:36 PM",
          "AuthorName": "Nguyễn Trung Dũng",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=268072&course=5",
          "role": [
            "Picture of Nguyễn Trung Dũng"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 82322,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=82322",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Moodle's next web services",
          "Text": "Hi, I have a will to export some of the moodle's functionalities to web services. For now, i have only used OKTech Web Services, and i like their work. I have extended this WS and added functions for operating on question categories and on quizes. Most of this code is taken directly from moodle.. And it works on 1.6.5. Now i see that there is a new approach in moodle 1.8 that will make it easy to export some functions directly to Web services. But for now i didn't see any of moodle functions exported, just some test examples in mnet folder. I was wondering what should i base my further developing on? Extending OkTech or learning this new way ( which is official as i see it, but much undocumented )?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 14, 2007, 7:44 PM",
          "AuthorName": "Marko Novakovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=268028&course=5",
          "role": [
            "Picture of Marko Novakovic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle's next web services",
          "Text": "As the main developper of current version of OK Tech WS (rev 1.5.9), I think that these two approaches should converge. the \"API export business\" should be the \"low level protocol\" and the SOAP layer (with the current 50 available operations) be build atop of it, the same way Moodle 1.8 use XML -RPC. This would require rewriting the current low layer of SOAP Web Service (i.e. the server .class script) to use Mnet call's instead of direct Moodle API calls. The penalty hit might be an issue, since in production servers, any SOAP based implementation is notoriously slow, unless caching of queries is activated on the client side. As far as the \"new official way\" is concerned it reminds me some practices of major software companies that announce new features just to keep away concurrent offers ... F.U.D. as they call it ))",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Monday, October 15, 2007, 3:04 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle's next web services",
          "Text": "Hi Patrick, I saw your version of the web services. I thought that it was something on your own, but it is ql if you are official descendant of the OK Tech WS thing. Yap, i am using 1.4 version... I can see that it has included checking of the Moodle versions (1.7 or lower) for checking of the permissions. Basically, what i have done in this my extension is that i had MOSTLY tracked down Quizzes and Questions code for operations i needed and copied code that was needed and grouped it in my classes. It is very bad practice i guess, but BIG PROBLEM was that there is not low-lewel api for those operations. There are functions doing what i need (i liked this, not bad architecture of moodle), but if there comes to an error, if does not returns false, but rather call error() or notice() which was a problem, so i had to be \"dirty\". So i would like to talk to you about this my extension, and i would really like to contribute, so we can discuss the best way to do it if you like. Cheers, Marco",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 16, 2007, 3:14 AM",
          "AuthorName": "Marko Novakovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=268028&course=5",
          "role": [
            "Picture of Marko Novakovic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle's next web services",
          "Text": "I *totally* want all this stuff to converge into just one API of agreed standard core functions which are served over various protocols. That was always the requirement (and why the OK tech web services never made it into core). Meanwhile, lots of discussions have been happening. Can we all please try to converge on this list and come up with a standard list? I think we can get this done quite quickly if we work together. http://docs.moodle.org/en/Development:Web_services",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 13, 2007, 4:10 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle's next web services",
          "Text": "Hi, I've got a project where we plan to create courses, assign roles, and add some content into it (course objectives, summary, bibliography, etc.) based on a CDM* description of our educational program. But I have to admit that i am a bit lost after reading the documentation . The link, you give Martin is very interesting, but when can we expect to be able to use these core functions ? Or how should i begin if i want to implement for example a function to create course using XML -RPC with the current API ? In the same way, we have a project to edit a whole course using a publishing chain realised using a french open source project : SCENARI and use web service to add the course into Moodle. A first try was made based on the XML backup schema of Moodle. It works quite well but there were too many limitations. * CDM is an XML data format for educational data (program and course descriptions)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 19, 2007, 11:49 PM",
          "AuthorName": "Eric Loubignac",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=114277&course=5",
          "role": [
            "Picture of Eric Loubignac"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 83922,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=83922",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Use of moodle user account in Plone as members.",
          "Text": "Hi. Hope I adress this discussion in the right place, else pls. move it. We would like to use plone objects in moodle courses by links. Are there any way to use/export user account from moodle as members in plone, so that the user do not need to login to both a moodle course and plone site. /Sven-Erik Tiberg. Lulea Univ. of Techn. / Sweden.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 7, 2007, 5:54 AM",
          "AuthorName": "Sven Tiberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7629&course=5",
          "role": [
            "Picture of Sven Tiberg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Use of moodle user account in Plone as members.",
          "Text": "Will have a look at OpenLDAP as a LDAP server beween Plone and Moodle. Knock...knock.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 8, 2007, 12:38 AM",
          "AuthorName": "Sven Tiberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7629&course=5",
          "role": [
            "Picture of Sven Tiberg"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 83329,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=83329",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Incompatibilities Moodle pack and Windows Vista",
          "Text": "Dear all, I have tried to install the Moodle pack 1.8 + (MoodleWindowsInstaller-latest-18) in a local PC running under Windows Vista. At some point, executing the xampp_start file stopped the process. By the other hand, I had installed flawlessly the same package in another PC running under Windows XP. This prompted me to ask if anyone has had the same type of problem, or if this is just a conflict in my computer. Thank you, Joaquim Pérez",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 29, 2007, 5:05 PM",
          "AuthorName": "Joaquim Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=333366&course=5",
          "role": [
            "Picture of Joaquim Perez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Incompatibilities Moodle pack and Windows Vista",
          "Text": "Hi, this may be a conflict between your rights on Windows Vista. Try it again with admin rights on vista. An other reason can be a port conflict. Try the port check at xampp. Further help for the xampp system at the apachefrieds-forums .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 29, 2007, 9:40 PM",
          "AuthorName": "Ralf Hilgenstock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5382&course=5",
          "role": [
            "Picture of Ralf Hilgenstock",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Incompatibilities Moodle pack and Windows Vista",
          "Text": "Hi, thank you for your fast response. It seems that there is a port conflict. I will look at the xampp forum, as you suggested. Many thanks Joaquim Pérez",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 30, 2007, 5:14 PM",
          "AuthorName": "Joaquim Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=333366&course=5",
          "role": [
            "Picture of Joaquim Perez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 82881,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=82881",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Intriguing qüestion about autentication in web services...",
          "Text": "Hi there, my team in UPC Barcelona is working in a crusade of implementing a contrib webservices layer implementing some OKI OSID's ... this is for a research project that may lead to somewhere sometime. I believe that our work can be useful as a starting point to implement a specific webservices layer for moodle, as we are discussing here . I've got an intriguing question about autentication. Shall an external client be allowed to autenticate a user? For example a cell phone moodle client (we have a prototype of those) should not send username nor passowords over the net to autenticate its holder. How do we deal with this ? To make this kind of things work in our OKI adventure we needed to implement a installation process of the client application (involving the administrator) were the client application and the moodle server set up the rights and grade of trust that the client application should credit for. Any insights ? Ludo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 22, 2007, 7:09 PM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 82195,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=82195",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Q. about edit_course and assigning a role within a course ?",
          "Text": "```text\nHello,\n\nI have several questions about Patrick's version (\nhttp://cipcnet.insa-lyon.fr/Members/ppollet/public/moodlews\n) of web services:\n1. in the \"edit_course\" method I have seen that one may specify various parameters for creating a course. How can I set the teachers ? Using the \"teacher\" and \"teachers\" properties - do I set here the users that should be teachers ? If so, how can I specify the type/role of the teacher (creator, teacher, non-editing teacher) ? Or maybe, a \"set_teacher\"/assign method would do the trick ?\n\n2. how can a role be specified/assigned for a user ?\n\n3. how can I create a \"group\" and add users in it ?\n\nThanks,\nCatalin\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 12, 2007, 2:19 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Q. about edit_course and assigning a role within a course ?",
          "Text": "Hello, I am glad you still use my version . Hope it behave well in your place Question 1: No The \"teacher\"/\"teachers\" properties are simple strings that were used by Moodle to display the \"proper\" definition of a teacher in various places. It could be \"animator\", \"coordinator\" or whatever. The same goes for \"student\"/\"students\" that could be \"attendant\",\"member\" ... and were set in course parameters. This is a \"left-over\" of Moodle pre-1.7 since I did not find these settings in Moodle 1.7 . (I still have not migrated to 1.8). Question 2: The only thing you can currently do is \"enrol_students\" that should assign the \"legacy\" student's role to a list of users. Other roles are not supported. Question 3: not yet supported in rev 1.5.9. As you can see in the \"list of supported operations\", my purpose in that Web Service was to focus in get_xxx operations to be able to export Moodle's entities in my other SIS (Zope/Plone , Drupal and French eSup portal).",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, October 12, 2007, 4:54 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Q. about edit_course and assigning a role within a course ?",
          "Text": "Hello Patrick, Thank you for answering. What is the complexity of adding a \"set_role\" for a specific course? I suppose that Moodle exposes some functions for this... Would it be better to implement it using direct sql in the methods that I need ? I'm interested only in setting a role for a user in a course and adding/editing a group and group users. I didn't work with XML -RPC before and I'll look on the Internet for some .NET libraries. Is in the current release of Moodle the \"WHOLE\" API exposed, as said in the link you gave me? Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 12, 2007, 5:58 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Q. about edit_course and assigning a role within a course ?",
          "Text": ">Would it be better to implement it using direct sql in the methods that I need ? Oh no, Moodle's API does have the proper functions to do that. A good place to look is the directory enrol/flatfile/ in your Moodle's implementation. the question is : Is it worth the effort since Moodle DO have a very nice \"enrolment by flat file\" feature that can be activated in the cron and is supported in any version : See http://yourmoodle/moodle/admin/enrol_config.php?enrol=flatfile and the doc at http://docs.moodle.org/fr/enrol/flatfile We do use it here quite a lot. You just have to put the proper enrolments.txt file in moodledata/1 and wait for 30 minutes. You will get a mail with the status of the enrolment ) The same goes for creating a group in a course and adding users to it. API does have all needed calls. (ismember($gid,$uid), add_user_to_group($gid,$uid)... Problem is that groups seem to change in every version . They now are talking about \"groups grouping \" (?) and global groups ... I just can't follow unless I keep up with the latest Moodle, something I cannot afford to do. A good place to search it the phpxref output of current Moodle's code at http://xref.moodle.org (see the directory group at the top level). As far as XML-RPC is concerned, I have no experience on it. I guess that the whole Moodle API will be exposed in a very near future, thus making my efforts obsolete ... Cheers",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Friday, October 12, 2007, 6:21 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Q. about edit_course and assigning a role within a course ?",
          "Text": "Thank you for letting me know about the flatfile...I hope it will be enough. Also, I've seen that there are other options for enrolling our students.. Regarding the add_role method I'll give you a message here with it when/if it will be done. Thanks again, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 12, 2007, 6:35 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 80528,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=80528",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Yikes! eaccelertor error.",
          "Text": "I've just crashed my production moodle server while trying to fix problems with horribly slow file uploads. I enabled eaccelerator and changed one of the other settings under performance. Now I cannot login to set it back and get the following error message: Fatal error : Call to undefined function: _rm() in /home/adulted/public_html/moodle/lib/eaccelerator.class.php on line 65 C an anyone advise how I can get into my admin area to reverse the settings? Please HELP!!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://moodle.org/pix/s/surprise.gif"
          ],
          "Time": "Thursday, September 20, 2007, 5:36 AM",
          "AuthorName": "David Le Blanc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5336&course=5",
          "role": [
            "Picture of David Le Blanc"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Yikes! eaccelertor error.",
          "Text": "I'm rescued. I found the following thread with suggestions by Martin Langhoff: http://moodle.org/mod/forum/discuss.php?d=75689&parent=355891 Thank you Martin.",
          "HasImageInpost": true,
          "ImagesInPost": [
            "../../pix/s/wideeyes.gif"
          ],
          "Time": "Thursday, September 20, 2007, 7:13 AM",
          "AuthorName": "David Le Blanc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5336&course=5",
          "role": [
            "Picture of David Le Blanc"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 75829,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=75829",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Custom Web Application Development Solutions",
          "Text": "Offers Services for E Business Solutions, E Commerce solutions, CRM Solutions, SCM Solutions, Intranet Application Solutions, Web Portal Solutions, Enterprise Portal, Web Enabling Legacy System by Radix, Ahmedabad, Gujarat, India. For more details please view http://rndinfo.com",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/pluginfile.php/71946/mod_forum/attachment/337534/industry_new.jpg?forcedownload=1"
          ],
          "Time": "Thursday, July 12, 2007, 2:59 PM",
          "AuthorName": "Dharmesh Acharya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=327824&course=5",
          "role": [
            "Picture of Dharmesh Acharya"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 73330,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=73330",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Single Sign On with TYPO3: do web services for adding users exist?",
          "Text": "Hi together, I am quite new in using moodle. One of my first tasks was to implement a Single Sign On (SSO) module for TYPO 3. I found such a module on www.single-signon.com . This works perfectly with Moodle 1.5.2... but thats too outdated for me. Now I would like to adapt this SSO Adapter to new Moodle versions. Rather than doing a bad hack that might not work in future Moodle Versions I would like to implement something stable, something based on a Web Service or a stable API. So I need your help. Can you tell me whether there is a Web Service or API exisiting which I can use to create new users or to update user information? Is there also something where I can find out the version of moodle? Please help me in this matter. May be you can even redirect me to a place where I can start reading or digging for more information. Or you have even an Code example perferably in PHP. Greetings, Tobias",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 7, 2007, 5:23 PM",
          "AuthorName": "Tobias Krais",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=305464&course=5",
          "role": [
            "Picture of Tobias Krais"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Single Sign On with TYPO3: do web services for adding users exist?",
          "Text": "Hi together again,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 14, 2007, 8:43 PM",
          "AuthorName": "Tobias Krais",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=305464&course=5",
          "role": [
            "Picture of Tobias Krais"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Single Sign On with TYPO3: do web services for adding users exist?",
          "Text": "Can you tell us more about your solution: I want to connect typo3 with 1.6.x (and next year with 1.9)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 14, 2007, 10:59 PM",
          "AuthorName": "Ger Tielemans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2675&course=5",
          "role": [
            "Picture of Ger Tielemans"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 72573,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=72573",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "cron.php bug moodle 1.8",
          "Text": "Hi I have php5 sql 5, i found bug in cron.php for delete log. = bad (not work) = DELETE FROM mdl_log WHERE time<'1148890561' Bug is: time! time is sql function, sql return error (TRY ACTIVE PHP error_reporting() function) = true = DELETE FROM `mdl_log` WHERE `time` < '1148890561' I add sql syntax!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 29, 2007, 4:38 PM",
          "AuthorName": "peter m",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=266494&course=5",
          "role": [
            "Picture of peter m"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 51752,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=51752",
      "NoOfResponses": 42,
      "ResponsesInList": [
        {
          "Title": "Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "I have been working (very slowly) on a simple web services framework mostly (to start with) for remote administration (new user, new course etc.) and recovery of data from blocks etc. That's my starting point anyway. The big problem/opportunity I am running into is that a lot of the operations required are not available as any kind of library function. For example even though the code is trivial, new categories are created by a database call in course/index.php. Much more complicated a new course is created or edited (and a mass of checks on the entry data) is all performed 'in-line' in the course folder too. So it goes on... What I would like to do is to refactor these functions into a library. I am supposing moodlelib.php, but possibly other developers have a different/better opinion on that, as maybe this will be the remote control api talked about in the roadmap - that always seemed *very* closely related to web services to me. So perhaps a new library file (moodleapi.php or somesuch) is better. The blocks situation is slightly nastier and makes me want to growl about separating business logic and the view The class provides a method 'get_content' which regrettably gets the data (we want for web services) and generates all the output intertwined. I really need to split this up, but my proposal is to provide two new methods - probably get_data() and view_data() to split the functionality. The default method for get_content() then becomes a call to the above two functions, ie, all existing blocks still work fine (but not with web services) until we get around to refactoring them. I would like to get on with some of this urgently. I am hoping to for 1.7, but some of it is obviously a bit drastic from a testing point of view. As ever, comments and/or abuse appreciated!",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/tongueout"
          ],
          "Time": "Tuesday, August 15, 2006, 6:03 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Totally do not even consider any such refactoring in 1.7. 1.9 perhaps! For now just a very simple and secure interface for:",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Tuesday, August 15, 2006, 11:18 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi Martin, Understood, but, in most cases there is no standard library function (unless I am missing something), no library function for creating a user, no library function for creating a new course.... etc., etc., Without these basic functions, the web services api would be nowhere near as useful. It is no problem to reproduce this functionality (which in many cases is going to be lengthy with all the necessary checks), but it does seem a bit wasteful. Either way, does it make sense to make these into some sort of api library, which would simplify the path to refactor these functions once they have had some time to be used and tested? Two birds with one stone as it were. The blocks thing is more of a showstopper and I know that you are keen to expose that data - I was trying to think of a low risk way of extending the functionality. What happened to 1.8?",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/tongueout"
          ],
          "Time": "Tuesday, August 15, 2006, 11:26 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi Howard, The existence of library with standard functions is a must especially when dealing with large data, and it's importance is out of question according to my humble opinion. For the purpose of the web service - how about more object approach: I suggest creation of class – this class will has data properties filled by the existent functions (or it’s own wrapper methods on later stage), than the data holded in the class could easily be serialized with SOAP (if the object is executed remotely and of course in case that a transportation of the result set is needed) by the web service. Recently I've coded generic data helper class (which is useful when dealing with hierarchical data) available at here . In addition - for the block case it could be an elegant solution to implement 2 interfaces: IData - for data retrieval from various data sources (db, xml , custom data objects, etc.). IRender - for rendering data to various targets - like xml, html, etc. I hope some of this to get in work… Regards Petar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2006, 3:52 PM",
          "AuthorName": "Petar Atanasov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=134833&course=5",
          "role": [
            "Picture of Petar Atanasov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "I agree that refactoring is attractive (isn't it always?) BUT it's a really bad time to break Moodle 100% (I'm trying to get 1.7 out on time with roles and xml schema and then a 1.8 with accessibility ). What I meant by a standard external request processing function like forum_external(), moodle_external(), block_external() in relevant libraries. These could accept some sort of standard object as a parameter (produced by the web services API), and then put it through basically a big switch statement which calls relevant old and sometimes new local functions to do the work. A layer if you like. This sort of approach doesn't impact the current API at all, and can possibly be migrated later to a more thorough refactoring.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2006, 8:46 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "+1 from here on \"no big refactor please\". However, - If you think you can abstract a few things into functions, without breaking anything, in small well tested patches, I think we can fold them in. - In terms of secure WebServices, one of the outcomes of the moodle network / community hub project is a messaging layer based on WS, with optional encryption/signing. This messaging layer can probably do what you want. Cheers!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 17, 2006, 2:32 AM",
          "AuthorName": "Martín Langhoff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13727&course=5",
          "role": [
            "Picture of Martín Langhoff"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi Howard, What I would like to do is to refactor these functions into a library. I'm all for moving major functionalities of Moodle into a library (or multiple libraries) so that everyone's code can make use of it.  Also, by building a more overarching API, more technologies and possibilities become available like Hijax . Cheers, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2006, 3:59 AM",
          "AuthorName": "Mark Nielsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13075&course=5",
          "role": [
            "Picture of Mark Nielsen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Most of the major functionalities are already in libraries ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2006, 8:48 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "I'd have found functions for creating users and courses really useful for the work I did on IMS Enterprise Services, though adding in these functions wouldn't mean that existing code would need to be changed to use them for the next release. They could just be used by new code for the time being so that there's no danger of anything existing breaking and to give a chance for any bugs to be weeded out first.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2006, 10:53 PM",
          "AuthorName": "Juliette Culver",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=57045&course=5",
          "role": [
            "Picture of Juliette Culver"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Yes, I agree. When I started the IMS Enterprise importer I was absolutely stunned to discover there were no generic functions for create_user(), create_course(), etc - presumably because when Moodle started, there was only ever one script which needed to do these things. Very good idea to start implementing some such functions, in the cautious way that Juliette (hi!) suggests.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2006, 11:17 PM",
          "AuthorName": "Dan Stowell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7172&course=5",
          "role": [
            "Picture of Dan Stowell"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Ok... it's just that when I start to see reproducing significantly large chunks of code then alarm bells start to ring, however.... Modified proposal... * Build an external api library.. completely new, nothing (yet) depends on it, with stuff like 'create a user', 'create a course', 'create a catregory'.... * This can be called directly as an api for this sort of stuff and/or by the myriad of web services projects that seem to be going on. * Aiming for the hard-core basics of this to be in place for 1.7? Question: should this be a completely new library file (which no existing code will require/include anyway), or should it be in an existing library. My inclination, is to go for new library - lib/moodleapi.php - as if it gets broken, nothing else does. Seems like the low risk route, and refactoring of these functions can be done later. PS: I'd like an opinion on my small alteration to the blocks parent class to enable the business logic and view to be separated. Again, note that this would not affect existing blocks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 17, 2006, 5:46 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi! I fully support the idea of a central \"core api\". So this API could not only be used for remoting, but would in general allow for a clear separation of business logic and presentation layer. I talk about kind of a (business) delegate pattern here. For those of us not too deep into software engineering: the (business) delegate pattern in short is a way to structure an application or system to loosely couple presentation and logic. That way parts of the application can easily be exchanged or extended/refactored without the need to \"touch\" lots of modules. When applying a delegate pattern you have one (or at least a limited number) of central apis containing functions which can be called by presentation layer (or remoting services). The logic for these functions is not contained in the API itself, it just \"delegates\" the call and afterwards returns the result to the initial caller. What would this mean for Moodle? The hundreds of functions now spread all over Moodle stay where they are. This way existing legacy code remains compatible. We only introduce a \"delegator\" - an API containing only the most relevant core functions I would suggest. The functions contained in the delegator would have to be clearly defined in means of input and output parameters. They should STRICTLY NOT fire any presentation layer code or raise errors, print messages or any stuff like that. They should ALWAYS return silently indicating errors etc. via return parameters (or exceptions if we once fully switch to PHP5). These functions in the central API could then be safely used by any remoting architecture (like SOAP, XML -RPC etc) or simply by any developer just looking for \"standard tasks\". That way we would open Moodle up a lot, allowing for easier and faster development cycles! I can only talk for myself, but when I was starting to work with Moodle I was kind of struck. For my thesis I developed a mobile rich client which should access Moodle functionality. For a newbie developer it is kind of horror finding the correct \"core\" functions spread all over the libraries. Not to mention that not all of them are documented too clear. And what was worse for me - a large number does not seperate logic from presentation. So the only way for me for the moment was to \"reproduce\" the business logic to meet my requirements. Regards, Andreas",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 4, 2006, 7:12 PM",
          "AuthorName": "Andreas Forstinger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=124646&course=5",
          "role": [
            "Picture of Andreas Forstinger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi Martin, Most of the major functionalities are already in libraries ... Yes of course, sorry.  I was referring to ones that were not already in the standard libraries like the ones Howard was mentioning. Cheers, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 17, 2006, 3:46 AM",
          "AuthorName": "Mark Nielsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13075&course=5",
          "role": [
            "Picture of Mark Nielsen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "This sounds ideal, I have a need for this already too. My recent efforts have been trying to weed out the code necessary for creating a user (so we can create users from our network account creation / enrolment kiosk script rather than doing a batch from ldap evey x minutes) - not as simple as I first thought! I would be happy to help test anything, and potentially help develop as I have a few years of PHP under my belt but however am still quite new to the Moodle Way.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2006, 5:21 PM",
          "AuthorName": "Alastair Hole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100951&course=5",
          "role": [
            "Picture of Alastair Hole"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Have you looked at auth/enrolment plugings?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2006, 8:59 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "We are currently using the ldap authentication plugin (with AD/ActiveDirectory). The ldap enrolment is too restrictive for us unfortunately (and our MIS data is virtually useless for direct relationships of users/groups/membership) I know we can sync the ldap directory periodically but it has been requested that we avoid this approach to avoid problems we've had in the past with other systems/VLEs whereby the userlist would always be at least 'n' minutes behind the 'authoritative' source - AD/Active Directory. I manually added a record to the user table (matching an existing user from AD) and that seemed to work fine. Obviously I need to be able to do this programatically, and would prefer to use higher level moodle code than just attacking the database directly. So far I have taken two approaches: First I started looking at the ldap auth code to see if it was possible to add a single user by username, but it appears i can only do this from Moodle> LDAP rather than LDAP>Moodle (without syncing the whole DN). Currently, I am scanning /user/edit.php for the necessary code but have got very very lost and can't even find where it creates the db record. (Roll on Moodle API!) Any advice gratefully accepted",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Wednesday, August 16, 2006, 9:42 PM",
          "AuthorName": "Alastair Hole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100951&course=5",
          "role": [
            "Picture of Alastair Hole"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi,<?xml:namespace prefix = o ns = \"urn:schemas-microsoft-com:office:office\" /> I too am developing a standard API for calling Moodle functions, which will then be called from various places including a web service.  I am focussing specifically on  creating courses and resources rather than users, and am developing functions that will “wrap” the existing functions, in order to make the job of the calling program simpler. Unfortunately I will not be able to post my code in the public domain in its entirety, as it is interwoven with code that was developed for internal use only, and I do not have sufficient time to write a completely generic API class to post to moodle.org.  However, I can advise and assist with the development of a library of generic functions, that could appear in a future Moodle release. Here is a very rough list of the sort of functions I am developing and their functionality – these will be methods of a library class. init_generic_course Creates a course and fixes sort order. i. Passed an object representing a course record (with properties representing the required fields). ii. Validates that the required properties are present, defaults certain values (timecreated, timemodified). iii. Defaults sortorder field prior to record insertion and calls fix_course_sortorder before and after insert to ensure that sortorder field contains valid values. iv. Calls addslashes on the database fields and inserts record into the course table. v. Returns the ID of the new course. add_resource_html Provides a simple method to create an HTML resource, and links it to a specified section in the course page. i. Passed as arguments:  course, section (section number within page rather than unique ID), name, alltext (the HTML to display), summary, windowpopup, windowpage (these last two govern whether new window should be opened or display in same page). ii. Looks up the section number.  Can also create a new section with the next consecutive section number if a dummy section number is passed. iii. Calls resource_add_instance from mod/resource/lib.php iv. Calls add_module_to_section (see below). v. Returns the new resource ID number. add_resource_file Provides a simple method to commit a file to Moodle, and links it to a specified section in the course page. i. Passed as arguments:  course, section (section number within page rather than unique ID), name, sourcefile (the name and path of the resource file), summary, windowpopup, windowpage (these last two govern whether new window should be opened or display in same page).. ii. Internal operation is similar to add_resource_html except that it also copies the file to the correct location within the moodledata file store. iii. Returns the new resource ID number. add_label Provides a simple method to add a label to a section in a Moodle course. i. Passed as arguments:  course, section (section number within page), content, headingfont    (governs whether label should be in bold font as for a heading or normal text format). ii. Calls label_add_instance from lib.php. iii. Calls add_module_to_section. iv. Returns the label ID number. add_module_to_section This function is called from the add_resource_html, add_resource_file and add_label functions to add a label, file link or html page to the correct section on a page. i. Passed as arguments:  course, module type, module instance no. (unique ID), section (section number within course), summary text, visible (if a new section is to be generated, governs whether or not it will be visible to students). ii. Ensures that the course exists (otherwise throws exception). iii. If passed a dummy value for section, (-1) it  calls Create_Section to create a new section, after the highest-numbered existing one within the specified course, and add the module link or label to that section (this feature is merely a time-saver). iv. It calls Moodle library functions add_course_module and add_mod_to_section to create the module record and link it to the correct section. v. It also sets the module’s visible status, dependant upon that of the overall section.  (Note that an option to override this could be added to the parameters). vi. It calls rebuild_course_cache. create_section i. Passed as arguments:  course, section (i.e.section number within course), summary, visible (whether or not visible to students). ii. Inserts a record into course_sections with the correct details. iii. Returns the new section’s unique ID number. check_section_valid i. Passed as arguments:  course, section (i.e.section number within course), noexception (boolean – whether to throw exception). ii. If the section exists, it returns the section ID number (the unique ID). iii. If section does not exist, it either returns -1 or throws an exception dependant upon value of noexception. Where data is inserted into the database, addslashes() is called as a matter of course, but clean_param() is not used, as it is assumed that these functions will always be called from other code which will determine whether or not the inbound data requires sweeping for scripts etc. It would also be desirable to develop “update” versions of these functions to allow the courses and objects within them to be updated without deleting them completely, but that is less of a priority for myself at the moment. Thanks, Gareth Morgan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 17, 2006, 5:57 PM",
          "AuthorName": "Gareth Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=148995&course=5",
          "role": [
            "Picture of Gareth Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "This idea of a generic function library for moodle is a darn good one. I just finished a custom access->moodle migration utility that had to go off and create users and courses and categories for a 1.7 install (not as much fun as you'd imagine). Having to add users by writing sql to directly add rows to the moodle database is not good practise. This is the second bespoke project I've done where I'm accessing moodle data from outside the moodle framework and the lack of such a generic library is a very painful thing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 7, 2007, 7:55 PM",
          "AuthorName": "Mark Dennehy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=186478&course=5",
          "role": [
            "Picture of Mark Dennehy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi Mark, while I'm all for Web Services, I can't figure out why you would insert data directly into the database rather than using on of the built in methods for importing users, enrollments, auto-creating courses, etc. (batch, External db, IMS Enterprise, or LDAP)? For live, automatic import of authentication and authorization data, course set up, etc, wouldn't LDAP be a good way to access user and course data from outside Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 7, 2007, 10:28 PM",
          "AuthorName": "Michael Penney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3432&course=5",
          "role": [
            "Picture of Michael Penney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi Mark, while I'm all for Web Services , I can't figure out why you would insert data directly into the database rather than using on of the built in methods for importing users, enrollments, auto-creating courses, etc. (batch, External db, IMS Enterprise, or LDAP)? Because we were taking a large existing Access database in a wholly different format and inserting it into a Moodle setup. And we couldn't use LDAP as this setup didn't have (and couldn't have, because of its configuration) LDAP. And while there were functions, particularly in terms of defining roles, that I found just after writing direct sql inserts, there's no one place to look them up and see what they do, nor in fact do they all work without munging the includes (see MDL-8278 in the tracker for example).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 8, 2007, 1:11 AM",
          "AuthorName": "Mark Dennehy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=186478&course=5",
          "role": [
            "Picture of Mark Dennehy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Can I hijack this thread to plug the recent code we've released to provide an inter-Moodle communication layer? As part of the Community Hub project, the code allows for encrypted communication between Moodles, using good healthy protocols like XML-RPC, XMLDSIG (for digital signatures) and XMLENC (for encapsulation of encryption, keys, etc). I've created a forum for discussion, support and flames: http://moodle.org/mod/forum/discuss.php?d=57228 We'd greatly appreciate feedback from all interested Moodle developers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 27, 2006, 11:09 AM",
          "AuthorName": "Donal McMullan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141802&course=5",
          "role": [
            "Picture of Donal McMullan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hello - I have just checked in our work on Web Services to contrib. This is a working implementation using SOAP. We also utilize WSDL to make it easier for clients to access the API. The release is in 'contrib/ws' and contains a document describing the API, and how to use it. It contains methods for managing users, courses and grades. We welcome any comments. mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 3, 2006, 12:15 AM",
          "AuthorName": "Mike Churchward",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9561&course=5",
          "role": [
            "Picture of Mike Churchward",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hello Mike, As I've mentioned before , we've also developed a web service, using xml-rpc. Our development focused on quizzes and questions. We've been using this in production for quite a while on 1.4 and 1.5 moodles. There was some hesitation expressed at integrating our library, because of possible licensing issues based on the PEAR library classes used. For a new project, we're going to need to do quite a bit with web services for Moodle 1.7+ - again focusing on quizzes and questions, but not limited to that. Are you open to our adding code to your web services code? With the idea that we begin to build a library of functionality? Brian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 15, 2006, 11:34 PM",
          "AuthorName": "Brian King",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24809&course=5",
          "role": [
            "Picture of Brian King"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi Brian, We would definitely be open to adding code. In fact the design of our code is such that adding another transport type (like XML-RPC) is relatively easy because the core functionality of the service calls (i.e. get_course()) is extensible into a server sub class that contains any transport implementation details. Our example uses SOAP via the NuSOAP library included with Moodle but it would be fairly easy to A) extend what we have to use XML-RPC and B) add new functionality to the core service class which could then be specially handled (if necessary) in any extended transport classes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 17, 2006, 12:05 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi Justin, The project planning is still being done, so we're not touching any code yet. Probably in January/February we'll get seriously into coding. Currently we're leaning towards SOAP. Some of the services that look like they will need to be implemented: quizzes (export imsmanifest & receive answers) export a collection of learning resources ( activities , resources: again with ims) glossary logging of activities reporting (who did what when etc.) ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 27, 2006, 7:30 PM",
          "AuthorName": "Brian King",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24809&course=5",
          "role": [
            "Picture of Brian King"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi Brian! Have you had a look at the Web Services layer that we are building into Moodle as part of the Moodle Network development? I certainly do hope that it's useful for stuff like this. Having the plumbing in place frees you up to implement the services",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/wink"
          ],
          "Time": "Tuesday, November 28, 2006, 3:11 AM",
          "AuthorName": "Martín Langhoff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13727&course=5",
          "role": [
            "Picture of Martín Langhoff"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "I'm posting here an email exchange between Martin Langhoff and myself; Martin rightly suggested that this should better be posted in the developer forum. Hi Martin and Justin, I'm wondering what the status of contrib/ws is. We're working on a large project now, and part of that will require us to expose a good deal of Moodle actions ( login, logout, create/edit question, create/edit quiz, create forum, etc.) as web services. So, is anybody actively working on this code? It seems that the current version is not made for 1.7; there are errors when trying to run the database update code; the error message says that one should be using the new xml-db stuff. Anyway, we would like to use it as a basis for our development, and to offer our code back to the community. And we'd of course like to work in close collaboration with whoever else is working on it, so that nobody goes around reinventing wheels. Personally, I'm leaning towards using rest instead of soap, because of speed and ease issues. It would seem to me to be a good idea to break the actual calls to the moodle code out from the server classes; there's no need for soap and xmlrpc and rest implementation to all duplicate code. It would also make sense to me to create library files to group the code that's actually accessing moodle (e.g. wslib.php for general things, wsuserlib.php, wsforum.php, wsquestion.php, etc.). ### and then a little bug report: I tried running the test code, but I see that the service url (/ws/service.php?type=soap) fails when I call it directly: *Fatal error*: Cannot redeclare class soapserver in */var/www/ host /html/m17/ws/soapserver.class.php* on line *38* This is because we're running php5 with it's native soap extenstion, which has a SoapServer class. An idea would be to use a naming convention like moodleserver instead of server. This would result in names like moodlesoapserver, moodlexmlrpcserver, moodlerestserver for posts service.php?type=soap, service.php?type=xmlrpc, service.php?type=rest ### Thanks for your time! Best regards, Brian \n```text\nHi Brian,\n\nI have \n_\nno\n_\n idea where contrib/ws is or who is working on the code. A\nquick check of the \ncvs\n history should give you a bit more info on the\nvitality of the code, and who's involved.\n\nAs part of moodle network [coming to 1.8] there is good XML-RPC\ntransport mechanism that can optionally expose the moodle internals to\nspecific hosts. This is exactly as dangerous (and as useful) as it\nsounds \n ;-) \n\n\nNot all moodle operations have a good API call for them. Surprisingly,\ncreate user, update user, create/update course and a few central ops are\nnot consolidated into function calls. Before you get too nervous, there\nare good reasons -- and abstracting them into well designed function\ncalls would take quite a bit of careful work to get things like error\nhandling right.\n\nAlso, bear in mind that WS is \n_\nnot\n_\n a good vehicle to try to do\nlogin/logout. You should write an auth plugin for that.\n```\n \n```text\n> \nusing rest instead of soap, because of speed and ease issues.\n```\n \n```text\nThe code in 1.8 uses XML-RPC because (a) PHP includes a C implementation\nof XML-RPC that is fast and solid, (b) everthing under the sun can do\nXML-RPC, not just the fancy chic languages, and (c) it is a lot more\ndebuggable than REST, SOAP and \nJSON\n.\n\nHOWEVER, you can implement additional transports. Have a look \n ;-) \n\nIt is not 100% perfectly abstracted, but it is 95% abstracted. Adding\nadditional protocols should be trivial. But I doubt rest/soap or json\nare different enough to warrant the effort. We put the abstraction in\nplace to make sure we support really different protocols when we need it \n ;-)\n```\n \n```text\n> \nthat's actually accessing moodle (e.g. wslib.php for general things,\n\n> \nwsuserlib.php, wsforum.php, wsquestion.php, etc.).\n```\n \n```text\nThere is a bit of that in the 1.8 code -- but the separation is for\nsecurity purposes. The coder of a function or a class \n_\nmust\n_\n declare the\nfunction as callable via Moodle Network facilities. It cannot happen by\naccident. The \"promiscuous\" XML-RPC mode, however, doesn't have those\nchecks.\n```\n \n```text\n> \nThanks for your time!\n```\n \n```text\nNo problem -- but I'd like to make this thread public and so all the\nMoodle WS stuff gets automagically documented and people can get\ninvolved. I get about 200 private emails per day about FAQs and it\ndoesn't make any sense to reply to them in private. WS and MNET are FAQs\nfor me lately, it's much smarter to have this in the General Dev Forum.\n\ncheers\n\n\nm\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 6, 2007, 9:44 PM",
          "AuthorName": "Brian King",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24809&course=5",
          "role": [
            "Picture of Brian King"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hello Mike, we have installed your scripts on our test system, but I think we have made something wrong. We have made the following steps: - copy /ws under http://mydomain/moodle/ws - create tables webservices_clients_allow webservices_sessions - insert values for webservices_clients_allow - modify username and password in ws-test.php I insert a username and password from a moodle user there. Is this correct ? When I start my browser with http://mydomain/ws/ws-test.php, I get the following error: Attempting to create a server connection... Client connected... Login: Sent server call... Error: HTTP Error: no data present after HTTP headers That means for me, I cann't get a login. Any idea ? Thanks, André",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 19, 2006, 12:32 AM",
          "AuthorName": "André Krüger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=8850&course=5",
          "role": [
            "Picture of André Krüger",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "I am also having this problem. I am new to SOAP, so I'm not too sure about how all this stuff works, but I took a look at the debugging info and I appears that wsdl is not properly parsing the username and password. Here's the output that makes me think that is the case: \n```text\n2006-12-21 10:26:34.700723 wsdl: have 2 part(s) to serialize\n2006-12-21 10:26:34.701364 wsdl: have 2 parameter(s) provided as arrayStruct to serialize\n2006-12-21 10:26:34.701512 wsdl: serializing part \"username\" of type \"\nhttp://www.w3.org/2001/XMLSchema:string\n\"\n2006-12-21 10:26:34.701641 wsdl: calling serializeType w/named param\n2006-12-21 10:26:34.701779 wsdl: in serializeType: name=username, type=\nhttp://www.w3.org/2001/XMLSchema:string\n, use=encoded, encodingStyle=, unqualified=qualified\nvalue=string(8) \"username\"\n2006-12-21 10:26:34.701945 wsdl: in serializeType: got a prefixed type: string, \nhttp://www.w3.org/2001/XMLSchema\n\n2006-12-21 10:26:34.702075 wsdl: in serializeType: type namespace indicates XML Schema or SOAP Encoding type\n2006-12-21 10:26:34.702244 wsdl: in getTypeDef: type=string, ns=\nhttp://www.w3.org/2001/XMLSchema\n\n2006-12-21 10:26:34.702382 wsdl: in getTypeDef: do not have schema for namespace \nhttp://www.w3.org/2001/XMLSchema\n\n\n2006-12-21 10:26:34.702523 wsdl: in serializeType: returning: \nusername\n2006-12-21 10:26:34.702652 wsdl: serializing part \"password\" of type \"\nhttp://www.w3.org/2001/XMLSchema:string\n\"\n2006-12-21 10:26:34.702774 wsdl: calling serializeType w/named param\n2006-12-21 10:26:34.702910 wsdl: in serializeType: name=password, type=\nhttp://www.w3.org/2001/XMLSchema:string\n, use=encoded, encodingStyle=, unqualified=qualified\nvalue=string(8) \"password\"\n2006-12-21 10:26:34.703057 wsdl: in serializeType: got a prefixed type: string, \nhttp://www.w3.org/2001/XMLSchema\n\n2006-12-21 10:26:34.703182 wsdl: in serializeType: type namespace indicates XML Schema or SOAP Encoding type\n2006-12-21 10:26:34.703326 wsdl: in getTypeDef: type=string, ns=\nhttp://www.w3.org/2001/XMLSchema\n\n2006-12-21 10:26:34.703458 wsdl: in getTypeDef: do not have schema for namespace \nhttp://www.w3.org/2001/XMLSchema\n\n\n2006-12-21 10:26:34.703595 wsdl: in serializeType: returning: \npassword\n\n2006-12-21 10:26:34.703722 wsdl: serializeRPCParameters returning: \nusernamepassword\n2006-12-21 10:26:34.703880 soap_proxy_1547403706: wrapping RPC request with encoded method element\n2006-12-21 10:26:34.704039 soap_proxy_1547403706: In serializeEnvelope length=190 body (max 1000 characters)=usernamepassword style=rpc use=encoded encodingStyle=\nhttp://schemas.xmlsoap.org/soap/encoding/\n\n2006-12-21 10:26:34.704161 soap_proxy_1547403706: headers:\nbool(false)\n2006-12-21 10:26:34.704293 soap_proxy_1547403706: namespaces:\n```\n The username and password are not being parsed into XML properly. Any help with this issue would be greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 22, 2006, 1:33 AM",
          "AuthorName": "Jason Noble",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=209439&course=5",
          "role": [
            "Picture of Jason Noble"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi André, I tried running this also under moodle 1.7.1, using php5. I had these problems: - our php5 is compiled with the soap extension, so theres a conflict with the built-into-php SoapServer class. - changing the naming convention so that the nusoap server and everything that references it is named moodlesoapserver instead of soapserver gets around that. - the database update code is not working; it needs to be rewritten in xml-db style for moodle 1.7+",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 6, 2007, 10:42 PM",
          "AuthorName": "Brian King",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24809&course=5",
          "role": [
            "Picture of Brian King"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "This code was initially written under Moodle 1.5 and I'm aware of it's PHP5 incompatibilities. The code that exists in Contrib is pretty old and has since been quite modified but hasn't been accordingly updated there. One of the updates is that everything is being defined within a WSDL file to make writing a client for this service very easy. However the PHP5 issue probably still exists in the latest code as it stands. I've had zero success using the wrapper library for SOAP that exists in Moodle (as of 1.6?), /lib/soaplib.php. It's supposed to easily support using NuSOAP on PHP4 and the built-in class in PHP5. I've got an easy fix for this and supporting both PHP4 and 5 within the code I have so that's not a huge problem. Right now I can't access Contrib for some reason so I need to get that problem solved before I can make any of this new code readily available to anyone here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 8, 2007, 12:28 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "If anyone is still looking for a solution for this problem, my company has published our XML-RPC module. It provides the ability to create and delete accounts, enroll and unenroll students, enter quiz answers and get quiz feedback and several others. These seem to be the most useful functions to call remotely. The module is released under the GNU license so you are free to modify it. The Moodle page for it is here: http://moodle.org/mod/data/view.php?d=13&rid=708 or you can go directly to the download page here: https://secure.linuxbox.com/tiki/tiki-index.php?page=moodle_xmlrpc If anyone finds this useful, please send us some feedback.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 1, 2007, 2:33 AM",
          "AuthorName": "Jason Noble",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=209439&course=5",
          "role": [
            "Picture of Jason Noble"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi, I have downloaded the zip and am a bit confused how to use it. I get to step for but not sure how to setup authentication.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 1, 2007, 7:45 AM",
          "AuthorName": "Mel Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=215992&course=5",
          "role": [
            "Picture of Mel Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "As the readme says, authentication and encryption are expected to be handled by the webserver. If you are using Apache , the documentation on configuring BasicAuth can be found here: http://httpd.apache.org/docs/2.0/howto/auth.html However, if you want to get up and running quick here's what you need to do: Create a password file. The supplied .htaccess expects to find this file at /etc/htpass To create a password file, use the following command `htpasswd -c /etc/htpass username` Rename the file htaccess to .htaccess The xmlrpc directory should now be restricted by Apache. Test this by trying to access http://hostname/moodle/xmlrpc/test_xmlrpc.php You should get a Forbidden error. If you do, BasicAuth is setup correctly and working. If not, you will need to troubleshoot your Apache configuration. I hope that helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 8, 2007, 5:53 AM",
          "AuthorName": "Jason Noble",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=209439&course=5",
          "role": [
            "Picture of Jason Noble"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi I am trying to use a Java client to consume the Moodle Web Service, creating stubs and classes with WSDL2Java , from the Axis Library. I have a problem with the generation of complex types as GetUserInput, GetCourseInput, GetGradesInput and EnrolStudentInputs, that are normally arrays of string. But WSDL2Java generate some classes that extends java.lang.Object[], which is a weird syntax, and I can't create or use those complex types to invoque the corresponding web service methods. Am I the only one who had this problem ? If someone has an answer or a piece of answer, it would be very helpful...",
          "HasImageInpost": true,
          "ImagesInPost": [
            "http://moodle.org/pix/s/smiley.gif"
          ],
          "Time": "Thursday, March 22, 2007, 10:28 PM",
          "AuthorName": "Frédéric Mathiot",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261126&course=5",
          "role": [
            "Picture of Frédéric Mathiot"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "The problem could be related to the object-oriented structure of the service end in Moodle. It was designed to be extensible so that you could extend the base methods (like get_grades()) to use another transport protocol (i.e. XML-RPC or REST). There were some compatibility issues using the built-in PHP5 SOAP functions so I ended up forcing the use of NuSOAP. Because the methods being exposed in the WSDL are class methods they must all be prefixed with the class name to be properly executed after being received. The names that NuSOAP exposes have conflicts with .NET (or some MS *Studio thing), I think. I do have a non-OO service structure that doesn't require the method names to be prefixed with the class name. I'll e-mail a zip file to you containing this which you can try and see if it solves your problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 26, 2007, 3:17 AM",
          "AuthorName": "Justin Filip",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88030&course=5",
          "role": [
            "Picture of Justin Filip"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hmmm, it didn't solve the problem. I think the problem comes froms the WSDL, because Java classes are builded from it. That is the weird point, there are no mistakes in the WSDL syntax (I suppose ).",
          "HasImageInpost": true,
          "ImagesInPost": [
            "https://moodle.org/theme/image.php/moodleorg/core/1763488129/s/smiley"
          ],
          "Time": "Monday, March 26, 2007, 9:48 PM",
          "AuthorName": "Frédéric Mathiot",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261126&course=5",
          "role": [
            "Picture of Frédéric Mathiot"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi, Could I also have the code? It might be related to this post . Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 27, 2007, 3:44 PM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "I may have fixed a part of the probleme. Adding \"[]\" to 'xsd:string' complex type specification (line 528, of soapserver.class.php). For the moment, I work on getuser method. The complex type si now managed by WSDL2Java (specifying an array of string). Now I have a numberFormatException, occuring while calling the method with an array of string in parameter.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 28, 2007, 3:34 PM",
          "AuthorName": "Frédéric Mathiot",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261126&course=5",
          "role": [
            "Picture of Frédéric Mathiot"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hello, The proposed 1.5 version is now accepted by many clients written in languages such as Java with WSDL2Java, PHP5 with WSDL2php, php4 with nusoap, python, .NET (Visual Studio) and even soapUI. Current restriction is that Moodle's server MUST be running php5+php_soap See this discussion http://moodle.org/mod/forum/discuss.php?d=67947 Enjoy .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 6, 2007, 7:01 PM",
          "AuthorName": "Patrick Pollet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69061&course=5",
          "role": [
            "Picture of Patrick Pollet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Jason Noble wrote \"If anyone is still looking for a solution for this problem, my company has published our XML-RPC module .\" Jason, I have a couple of question about the SML-RPC module... QUESTION #1 If I use CreateAccount, I receive SUCCESS, and if I try CreateAccount again (with same info), I get FAIL: USER ALREADY EXISTS, which is what I should get. If I login to Moodle, I can confirm as well that the new user has been created. But if I try DisableAccount, I get the following error: FAIL: USER DOES NOT EXIST. Since the user does exist, I'm not sure why I'm getting this error: Here is the code I'm using for CREATE (which works fine), based on the test file provided: <?php include(\"../config.php\"); include(\"xmlrpcutils/utils.php\"); $host = $CFG->dbhost; $port = 80; $uri = $CFG-> wwwroot .\"/xmlrpc/xmlrpc.php\"; $method = \"CreateAccount\"; $m_user['username']='testuser'; $m_user['firstname']='John'; $m_user['lastname']='Doe'; $m_user['email']='johndoe@mydomain.com'; $m_user['timemodified'] = time(); $m_user['password'] = md5('password'); $m_user['confirmed']=1; $callspec = array( 'method' => $method, 'host' => $host, 'port' => $port, 'uri' => $uri, 'user' => 'username', 'pass' => 'password', 'secure' => false, 'debug' => true, 'args' => $m_user); $result = xu_rpc_http_concise($callspec); print_r($result); ?> Here is the code I'm using for DISABLE. All I've done is change the METHOD to DisableAccount, and removed all $m_user variables except for the USERNAME. <?php include(\"../config.php\"); include(\"xmlrpcutils/utils.php\"); $host = $CFG->dbhost; $port = 80; $uri = $CFG->wwwroot.\"/xmlrpc/xmlrpc.php\"; $method = \"DisableAccount\"; $m_user['username']='testuser'; $callspec = array( 'method' => $method, 'host' => $host, 'port' => $port, 'uri' => $uri, 'user' => 'username', 'pass' => 'password', 'secure' => false, 'debug' => true, 'args' => $m_user); $result = xu_rpc_http_concise($callspec); print_r($result); ?> Any idea why it's not working? Do I need to pass other variables along besides the username? QUESTION #2 Looking at the code in the XMLRPC.php file, it appears that the DisableAccountById does the same thing Moodle would do if you selected Delete User within User Admin. By that I mean it sets DELETED=1 , Changes the USERNAME=EMAIL ADDRESS, and sets the EMAIL=\"\" When looking at the code for DisableAccount, it does not appear to do all that. It only appears to set DELETED=1, but not perform the other changes. I am not an expert in php, so I might be missing something obvious, but just thought I'd mention it. THanks EDIT: I'm using Moodle 1.6.4",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 14, 2007, 12:46 AM",
          "AuthorName": "Deleted user",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=210521&course=5",
          "role": [
            "Picture of Deleted user"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Proposal: Web Services / API / Refactoring Opportunity",
          "Text": "Hi, I'm trying to use your module with a 1.8 beta installation of Moodle on a Win2003/IIS6/SQL Server 2005 box... however... I get an empty/blank screen, even on the test method... if it matters, the Moodle instance is not installed in a \"/moodle\" virtual directory. Thanks, Catalin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 24, 2007, 12:37 AM",
          "AuthorName": "Catalin Maican",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=261336&course=5",
          "role": [
            "Picture of Catalin Maican"
          ],
          "IsInitialPost": false
        }
      ]
    }
  ],
  "updated_no_of_posts": 857,
  "original_no_of_posts": 1487,
  "removed_no_of_posts": 630
}