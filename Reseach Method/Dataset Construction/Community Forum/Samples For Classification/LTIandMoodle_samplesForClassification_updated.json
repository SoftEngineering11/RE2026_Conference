{
  "forumKey": "LTIandMoodle",
  "forumName": "LTIandMoodle",
  "sourceFile": "LTIandMoodle_831_1_updated.json",
  "sampleSize": 500,
  "filteredOutWithImages": 264,
  "posts": [
    {
      "PostID": 463863,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463863",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI in Moodle 4.4 and Beyond - Outcomes",
          "Text": "Hi Everyone, I hope all is well. Following on from the pinned topic about the upcoming changes to LTI: Moodle in English: Announcement: Changes to LTI in Moodle 4.4 and beyond | Moodle.org In order to prepare, I would like to find out how the new LTI update would work with Moodle's outcomes. The main reason why we use the Turnitin Direct plugin at Further Education (FE) level is so that we can use Moodle's assignment system for grading, primarily due to Moodle's outcomes facility which is especially useful for FE criteria such as Ps, Ms and Ds. The outcomes facility enables us to provide absolutely clarity about progress to students instead of one singular grade. In the majority of cases. The originality scores and AI tool are reviewed along with the coursework submission. Would the new changes to the LTI system have additional table entries to accommodate Moodle's outcomes? Thanks Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 19, 2024, 9:53 PM",
          "AuthorName": "Andrew C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1419857&course=5",
          "role": [
            "Picture of Andrew C"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI in Moodle 4.4 and Beyond - Outcomes",
          "Text": "At this point its a lift and shift of the current LTI implementation and some cleanup to get it into core, so no significant additional functionality should be expected in Moodle 5.0. There will be some new placements to support the assett processor, which is the work that TII is doing. The assett processor will allow the TII LTI integration to be used with Moodle assignments.That said as far as I am aware LTI doesn't support compentencies/outcomes directly and any additional data would need to be passed back outside that standard, although Jake may understand this better as he is the expert on the standard.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 20, 2024, 6:50 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle 4.4 and Beyond - Outcomes",
          "Text": "Thanks Brett, that is really interesting information about the assett processor, especially because the Moodle Assignment system is an area that has very usable Moodle Outcomes . If the LTI assett processor can enable the Moodle Assignment to work in a similar fashion to the Turnitin Direct plugin but via LTI, that would be fantastic. I look forward to hearing from Jake.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 20, 2024, 11:48 PM",
          "AuthorName": "Andrew C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1419857&course=5",
          "role": [
            "Picture of Andrew C"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI in Moodle 4.4 and Beyond - Outcomes",
          "Text": "The migration work is being done to facilitate other placements, like AP, which is one being developed largely by Turnitin. I believe their goal is to move away from using (and importantly, from maintaining) Moodle plugins . So I'd say you're correct in that the eventual AP work will replace that plugin. I even says so on their plugin page: https://moodle.org/plugins/mod_turnitintooltwo With respect to outcomes: As Brett said, nothing in the migration project deals with anything outcomes related. However, once AP lands (eventually) and you're able to use Moodle's native assignment module + AP (if that setup works for you), then of course outcomes can be used.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 29, 2024, 11:14 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 340833,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=340833",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI tool not displaying on full screen",
          "Text": "I have added an LTI tool into my moodle account but when i click on the LTI tool  the page scroll stops working and the LTI page is displayed only on the visible part of the screen rather than the full screen. Not able to scroll down and see the full page and the menu items. Kindly suggest what is the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 4, 2016, 2:51 PM",
          "AuthorName": "ranu jaiswal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2098981&course=5",
          "role": [
            "Picture of ranu jaiswal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI tool not displaying on full screen",
          "Text": "Hello Ranu, Can't really help you on this, but I've had this issue too, and not on all of my moodle instances.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 29, 2016, 3:10 AM",
          "AuthorName": "David Ligne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1832944&course=5",
          "role": [
            "Picture of David Ligne"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 207626,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207626",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Maximum Grade in External Tool",
          "Text": "I'm writing an external tool I want to integrate with moodle.  When I add it in, I don't see a way to have the maximum grade be anything but 100.  There seems to have been some discussion about this in MDL-20534 , but as near as I can understand it Chris Scribner decided to leave the maximum as something that can't be set by the user.  Have I understood the conversation correctly? If the max grade can't be set in the activity, is there some other way to do it?  I can't change it in the gradebook directly and I can't seem to find any other way to do it either.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 23, 2012, 10:50 PM",
          "AuthorName": "Steve Turley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=560921&course=5",
          "role": [
            "Picture of Steve Turley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Maximum Grade in External Tool",
          "Text": "Did you ever see any progress in this? I'm running into a similar situation. Our external tool doesn't define max value for grades",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 29, 2012, 1:17 AM",
          "AuthorName": "Dan Rapoza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1390828&course=5",
          "role": [
            "Picture of Dan Rapoza"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Maximum Grade in External Tool",
          "Text": "This is an old post, but I have the same situation and can't find a solution now either. Any new ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 8, 2014, 5:54 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Maximum Grade in External Tool",
          "Text": "I have the same problem with the external tool Atomic Learning.  There doesn't seem to be a way to set a grade other than 100.  Any help with this would be most appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 21, 2014, 6:32 AM",
          "AuthorName": "Edwinna Lucyk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=556399&course=5",
          "role": [
            "Picture of Edwinna Lucyk"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Maximum Grade in External Tool",
          "Text": "I submitted this to the tracker. If you agree this should be addressed you can vote for it here: https://tracker.moodle.org/browse/MDL-49161 This is a major hurdle for our institution. With the large adoption of LTI of vendors the inability for Moodle to adapt easily (or at all) is amazingly cumbersome.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 12, 2015, 11:06 PM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 467009,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467009",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Grade sync not sending grades for some students",
          "Text": "Kia ora! (hello!) We've noticed that some grades for completed quizzes are not being sent to Blackboard via the grade sync LTI feature. The grade sync log for these specific users states \"Skipping - Invalid grade for the user '####' in the tool '274' for the course '32'.\" which we are used to seeing for our students who do not attempt a quiz. However, the two impacted students (for this course - possibly more in other courses (TBC)), do not appear to have any differences from other students with regards to their work/workflows. Both students submitted well before the due date Other students have submitted before and after these students and their grades have synced as expected Other students have the same grades (100 & 91.18) that have synced as expected Prior quiz grades for the current impacted two students have synced as expected Any suggestions on what could be causing an issue that is isolated to these two students would be fantastic. Thanks, Caleb",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 24, 2025, 8:03 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade sync not sending grades for some students",
          "Text": "I've never encountered this issue, and the only way that can happen is if grade_get_grades() returns an empty grade for that module instance and userid . Not for lack of trying, I can't come up with a scenario that would explain particular students getting picked on. I assume you checked that there's no grade override or anything teacher-controlled preventing these students' grades from being delivered. Were I in your shoes, I'd temporarily log $grade and $user->getlocalid() values to file for a run of the sync_tool_grades task for this resource and work backwards from there. If their grades are in the gradebook correctly, but not being retrieved by that grade_get_grades call, then it would have to be some corruption betwixt the row for this resource in mdl_enrol_lti_resource_link to mdl_enrol_lti_user_resource_link to mdl_enrol_lti_users such that the ltiuserid being resolved isn't this student's correct userid. I've never seen such a corruption occur before, and the entity/repository design pattern Jake used for ltiadvantage classes protects against it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 27, 2025, 1:20 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade sync not sending grades for some students",
          "Text": "Morning Liam! Thanks for your response - sorry, I forgot to provide a further update here after posting this. Further investigation has allowed us to identify that the issue is not related to the grade sync tool. Looking through the grade history in the paper for the impacted users and the particular quiz, we see that after completion they have a revised grade , the row immediately afterwards contains an original grade but no revised grade. Then all rows following this (some have 5+ pages of rows after this) all contain no value in the revised or original grade columns, so it would appear their grade has been automatically (and ultimately instantly) overriden with NULL, which is why we're seeing \"Skipping - Invalid grade for the user '####' in the tool '274' for the course '32'.\" in the grade sync, and therefore no grade in their Blackboard grade book. This appears to be a long standing issue in Moodle, with a forum post about this dating back to 2010 ( https://moodle.org/mod/forum/discuss.php?d=146812 ) and a more recent post in 2018 ( https://moodle.org/mod/forum/discuss.php?d=377928 ), and also has an active tracker from 2021 which hasn't gained much traction ( https://tracker.moodle.org/browse/MDL-70825 ). So, this therefore likely needs moving across to the Gradebook section of Moodle forums, if possible. Thanks for your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 27, 2025, 4:15 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 412674,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=412674",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Make Moodle v3.9 as LTI Provider using LTI 1.3",
          "Text": "Pls anyone who would help us, about any documentation on how to make Moodle v3.9 as an LTI Provider using LTI 1.3. I really need the documentation so we can update our school capability using LTI 1.3. Moodle can only create a LTI PUBLISH tool and gave only the Tool url, secret key which is for the setup of LTI 1.1. But LTI 1.3 needs more than that. Please help me find a documentation on how Moodle v3.9 can be an LTI Provider using LTI 1.3. Thank you so much",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 23, 2020, 3:49 PM",
          "AuthorName": "IRVIN BAHAN",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3677358&course=5",
          "role": [
            "Picture of IRVIN BAHAN"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Make Moodle v3.9 as LTI Provider using LTI 1.3",
          "Text": "LTI consumer (External Tool) has been updated to accept 1.3, however the Publish to LTI Tool has not. There is a plan to do this, but no one is currently assigned to work on it. We would like it as well, so please check it out here, and PLEASE UPVOTE IT: https://tracker.moodle.org/browse/MDL-64780",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2020, 5:55 AM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Make Moodle v3.9 as LTI Provider using LTI 1.3",
          "Text": "I plan to have the provider code updated to support LTI 1.3 for Moodle 4.0. This update will support LTI 1.3 launches, deep linking content selection, grade sync using Assignment and Grade Services 2.0 and member sync using the Names and Role Provisioning Service 2.0. You can check the progress in MDL-69542 . This will not be backported. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 20, 2021, 8:55 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 324091,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=324091",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External Tool & Mind Tools",
          "Text": "Hi Team We have a 2.9 instance of Moodle and have attempted numerous times to use the External Tool plugin to access the Mind Tools site based on information provided by the site. We seem to constantly have issues and lose the connection that allows the automatic password validation. I have contacted the site but would love some in put from anyone who maybe successfully using the external tool with Mind Tools ( http://www.mindtools.com/community/index.php ) The following are the instructions provided by Mind Tools: LTI integration – Learning Tools Interoperability About LTI LTI is a standard for integrating Learning Management Systems with other secure learning content platforms, such as Mind Tools. LTI may be installed natively within your LMS, which makes integration with Mind Tools Connect quick and easy. A list of compatible systems can be found here, and you can find more information about LTI here. LTI Setup: Step-by-Step This guide is based on the Moodle system of LTI setup. Although the concept will be the same, the wording may vary depending on which personalized version you are using. This document will explain how to: ● Set up a new link from your LMS to Mind Tools resources. ● Configure the connection. ● Add additional links. ● Deep link (choose a specific page for your users to be directed to). ● Edit links. There is a small amount of extra information that you will need during the integration process. For security reasons, we will send this to you by email. Once you have completed the steps below, you will be able to access Mind Tools resources from your LMS. Before your customized pages are ready, you will be temporarily directed to our trial product. If you have any questions, please don’t hesitate to contact us. Setting up Your First Link/Configuration Step 1: Login to your LMS, and select “Edit Mode.” Step 2: Select the page where you would like the Mind Tools link to appear. Step 3: To create a link, click “Add an Activity or Resource” and select “External Tool.” Step 4: Decide what you would like the link text to be. For example, “Mind Tools Learning.” Type this in the “Activity Name” field. Step 5: Click (+) in the “External Tool Type” field to add an external tool configuration. This will open a new window. Note: you will only need to do this once, as this configures the connection to Mind Tools. Step 6: In the “Tool Name” field, enter “Mind Tools.” Step 7: In the “Tool Based URL ” field, enter: https://www.mindtools.com/connect/LTI/basic/tool.php Step 8: In the “Consumer Key” and “Shared Secret” fields, enter the information that has been emailed to you separately. Step 9: Click “Save Changes” to complete your configuration setup. You won’t need to do this again. Step 10: In the “External Tool Type” field, select “Mind Tools,” then click “Save and Return to Course.” Mind Tools should now appear within your page setup. Click “Mind Tools Welcome Page” – if this launches Mind Tools as a page, it means that your configuration is correct. You can now move on to use the system and add further links. Adding Additional Links Step 1: Select the page where you would like the link to appear. Step 2: Click “Add an Activity or Resource,” and select “External Resource.” Step 3: Add the activity name (this is what the user will see). For example, “Leadership Skills From Mind Tools.” Step 4: In the “External Tool Type” field select “Mind Tools.” Step 5: Click “Save Changes.” Repeat these five steps to add as many links as necessary. Note: As a default setting, additional links will direct your users to the Mind Tools homepage. To link to specific content pages, you will need to Deep Link (see below). Deep Linking Step 1: Select the page where you would like the link to appear. Step 2: In the “Custom Parameters” field, type: “url=” followed by the URL of the page that you’d like to link to. For example: “url= http://www.mindtools.com/community/pages/main/newMN_LDR.php ”. Step 3: Click “Save Changes.” Editing a Link to Mind Tools Step 1: Make sure “Edit Mode” is selected, and click the “Update” icon. Step 2: Amend the information as necessary. You can also choose how the content is launched in your LMS in the “Launch Container” drop-down menu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 2, 2015, 1:27 PM",
          "AuthorName": "Marie Weatherford - archived",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=328565&course=5",
          "role": [
            "Picture of Marie Weatherford - archived"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 272682,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=272682",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI item gone from gradebook",
          "Text": "Hi all We are on 2.6.5. I have one course that had a graded LTI item. Last week It was visible in the course and in the gradebook and scores were being sent by the the LTI host . Today, that item is still in course, but the LTI item is no longer in the gradebook. I don't see a way to delete an LTI item from the gradebook so I looked at the settings in the course for the LTI item and everything looks as it should. I had made an export of the gradebook last week and can see it was there. I enrolled a test student in the course, had that student complete the LTI quiz, they received a grade in the LTI, but again nothing displayed in the gradebook for them or the teacher. How might this had been removed and how might I go about getting it back?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 15, 2014, 12:07 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI item gone from gradebook",
          "Text": "I figured out the cause of this, but I can't determine how to fix it. 1. I have an LTI activity in the course. 2. Change the name of the activity using either quick name change or by editing the LTI activity. 3. Save the new name change. 4. The Item is now gone from the gradebook. 5. Revert the name back to the original name. Still missing from the gradebook. My questions are: 1. How do I change the name of an LTI activity while allowing it to remain in the gradebook? 2. How do I returned previously removed LTI activity items to the gradebook? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 8, 2014, 5:39 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 396327,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396327",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "no login vs LTI auth",
          "Text": "Hello Moodlers et LTIers, On Moodle 3.6 linking two Moodle sites. On the provider site, LTI authentication is enabled, but new LTI created users have the no login auth method instead of LTI. And with no login auth method, users lose their sessions after awhile. Am I missing a setting somwhere? François",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 29, 2020, 1:15 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: no login vs LTI auth",
          "Text": "OMG! Sorry, I just found it. There is a setting for auth method in LTI provider general settings. /admin/settings.php?section=local_ltiprovider",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 29, 2020, 1:30 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435807,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435807",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Cannot create more than ~20 deep links at a time",
          "Text": "Cannot create more than ~20 deep links at a time when using a deep link response in LTI Advantage/LTI 1.3. We need to create 100+ content item links at a time from our tool provider. At present we are limiting the teachers to 20 content items at a time, however, after creating 60 content items, the time required to create the content items increases dramatically sometimes an hour+ if you have patience to wait that long - it is looping on modedit.php redirects. Is 20 to 30 a limit on Moodle for creating content items? Is there a way to increase this limit? Is this a bug? What is the limit on the maximum number of content item links for a course? None of the other LMS' (Canvas, Blackboard, Brightspace have been tested) have any sort of limit",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 25, 2022, 5:01 AM",
          "AuthorName": "Anirudha Shimpi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4973362&course=5",
          "role": [
            "Picture of Anirudha Shimpi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cannot create more than ~20 deep links at a time",
          "Text": "It's very possible that this feature wasn't tested with that many content items at once. In fact, probable. Can you tell me: Do you see the interim screen listing all the content items prior to their creation? Or, does the delay happen before this? I suspect we'll need to create a tracker issue to improve this in cases like yours. Thanks in advance, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 29, 2022, 4:38 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463598,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463598",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI Tool Devlopment",
          "Text": "Hi, a little Background, Currently trying to learn more about development for Moodle. Previously, I set up a Moodle 4.2.1 Site hosted on a Server for the company I am working at. This is my first time every trying a project like this. Currently, I have been tasked with building a tool that will send the students to a webpage that allows them an amount of time to do an activity. From my research, I am thinking that using LTI would be the way of doing this. I need to pass information back into moodle after the time is over/once completed about the task to be stored somewhere inside of moodle. Is an External tool the direction I should be going? And if so, are there any resources to learn how to implement this? Thank you, Joel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 9, 2024, 3:05 AM",
          "AuthorName": "Joel Oram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6958968&course=5",
          "role": [
            "Picture of Joel Oram"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Tool Devlopment",
          "Text": "It will largely depends on the information you need to pass back. If it's simple grades then yes.  If it's other information that might be a different answer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 11, 2024, 1:38 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Devlopment",
          "Text": "It would be nice to have additional information, but if not possible, mostly Moodle just needs to know that it's completed, so the student can keep going forward with the course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 12, 2024, 9:33 PM",
          "AuthorName": "Joel Oram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6958968&course=5",
          "role": [
            "Picture of Joel Oram"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Devlopment",
          "Text": "Hi Joel, One thing worth pointing out, since you mention completion (and which might not be obvious) is that the activity completion status sent from the tool during score post (it's called activityProgress in that score post payload), isn't used by Moodle as a completion indicator. LTI services don't hook into completion like that currently. You'll need to set up completion rules on the activities in the consumer course to achieve this kind of thing. E.g. \"receive a grade\" criteria. Then, when the score is posted, Moodle's local completion rules trigger the activity completion. Worth mentioning, since it's a common post on this forum, and seems to be a common misconception about Moodle's LTI implementation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 13, 2024, 8:39 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Devlopment",
          "Text": "Thank You! Might have got stuck on that for a bit. Let say I wanted to pass custom information that's not part of the LTI post payload. Would I use another type of activity? Or maybe that would be heading into a custom plugin? Mostly looking for what option's there are. If you have any recommend starting points to look into, that would be great. Thank You again",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 14, 2024, 2:10 AM",
          "AuthorName": "Joel Oram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6958968&course=5",
          "role": [
            "Picture of Joel Oram"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 233986,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233986",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "License Management using (LTI) Moodle",
          "Text": "I have configured LTI Plugin in x & y moodle application and  suppose i add 30 user of y application in x moodle application for course details show purpose.so it cannot show 31 user to display course content of y application this is a totally license management kind of think suppose i provide license of two user but it cannot display screen third no user. so i want to know moodle is manage license management kind of think. Please help me for this problem as soon as possible.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2013, 8:35 PM",
          "AuthorName": "Ashish Panchiwala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1491358&course=5",
          "role": [
            "Picture of Ashish Panchiwala"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 276290,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=276290",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle integration with Alfresco",
          "Text": "Hi All, Actually, I was trying to integrate the external repository of Alfresco with Moodle. The problem I am facing is once I have provided my local url(port) followed by /alfresco/api and then the ui asks to put in un and pwd. Once I enter the un and pwd its just reloads and nothing happens. Please help. I do not have the afresco installed in local so no question of port conflict. I would really appreciate some help. Thanks in advance Deb",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 5, 2014, 7:51 PM",
          "AuthorName": "Debjyati Seth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1816374&course=5",
          "role": [
            "Picture of Debjyati Seth"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 378744,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=378744",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LibGuides",
          "Text": "Has anyone here configured the LibGuides LTI tool. What are the steps involved? At the moment, I'm getting an: OAuth verification failed message although I have definitely used the correct Secret Key. Is there anything, I need to enable on the LibGuides server ? cheers, Brad",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 19, 2018, 8:32 PM",
          "AuthorName": "Brad Nielsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2522606&course=5",
          "role": [
            "Picture of Brad Nielsen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 458051,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458051",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Retrieve group membership via LTI Names and Roles",
          "Text": "Hi, Is there a way to get group membership via LTI Names and Roles? There is an IMS standard to do so, and I have seen an open issue to implement the standard. I am assuming it has not been released yet. But, is there any other way? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 1, 2024, 9:08 PM",
          "AuthorName": "Eduardo Gomes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6433582&course=5",
          "role": [
            "Picture of Eduardo Gomes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Retrieve group membership via LTI Names and Roles",
          "Text": "Hi Eduardo, There is the course groups service, which is almost ready for inclusion in core Moodle, but stalled due to a lack of testing, iirc. See: MDL-69233 for details on that. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 2, 2024, 9:01 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 410184,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410184",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI and Ability for Students to Create Assignments with Techsmith",
          "Text": "We currently use LTI with Techsmith Relay recently rebranded as Techsmith Knowmia and would like to: a. have the faculty create an LTI project for students where they will develop a presentation using the Techsmith platform. b. other students should be able to view peer presentations. c. the instructor should be able to grade the assignment. This feature is available in Canvas for Techsmith but not in Moodle and we are told that it is a Moodle limitation. Is there a consideration for such a feature in the future? Any ideas for any workarounds? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 10, 2020, 1:58 AM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 364628,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=364628",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Enable LTI logs for debug",
          "Text": "Hey guys, I'm developing a Tool Provider with LTI 2.0 and I'm stuck in Tool Proxy registration process (like I said in this discussion: https://moodle.org/mod/forum/discuss.php?d=364420 ). I read in this discussion ( https://moodle.org/mod/forum/discuss.php?d=333441 ) that Moodle can log LTI requests errors, like bad json format. Is that true? If so, how can I do this? I tried some approaches but none gave me any error messages. I'm using Moodle 3.4, installed following this tutorial (I changed from 3.2 to 3.4): https://websiteforstudents.com/installing-moodle-ubuntu-17-04-nginx-support/ I attached the config files from my nginx, php-fpm and moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 26, 2018, 5:10 AM",
          "AuthorName": "Wallison de Oliveira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2374807&course=5",
          "role": [
            "Picture of Wallison de Oliveira"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 462441,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462441",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to get Google Workspace LTI setup?",
          "Text": "We have been using the Assignments LTI in our Moodle for years, and suddenly this week it's stopped working. Anyone who attempts to use it gets an error that says the Workspace LTI is not configured correctly. However, I cannot find any info on how to configure it correctly.  I've been trying to find info from Google, and all they reference are Schoology and Canvas applications.  They reference 'other LMSs', but any time I try to find specifics, I get nothing. When I search their pages, I get results that seem promising but when I attempt to open these posts and help pages, I get a Page Not Found. Is anyone else having this issue?  How did you resolve it?  Is Assignments LTI just dead to us now? We are on Moodle 4.2.10",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 27, 2024, 9:47 PM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to get Google Workspace LTI setup?",
          "Text": "Well, I think I figured it out, no thanks to Google. I found that the Tool URL had unceremoniously changed to https://assignments.google.com/lti/a . Thanks to D2L for publicly posting this tidbit!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 28, 2024, 1:33 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 348218,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348218",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI and Curatr3 - Invalidrequest",
          "Text": "L.s. LTI is working between moodle sites. Providing it to Curatr3  gave the error: Debug info: Error code: invalidrequest Stack trace: line 496 of /lib/setuplib.php: moodle_exception thrown line 73 of /enrol/lti/proxy.php: call to print_error() What could be wrong?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 26, 2017, 3:10 PM",
          "AuthorName": "Bert van der Hooft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1612564&course=5",
          "role": [
            "Picture of Bert van der Hooft"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 439252,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439252",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 External tool - request to 'auth.php' returns 404",
          "Text": "Hi there, (This issue seems to be exactly the same as this one but I couldn't find a solution in that other issue) I'm getting a 404 not found in the request from the tool to my moodle instance, I'm using https://lti-ri.imsglobal.org/ to test, you can see my test tool here . The issue seems to indeed be with cookie, more specifically the 'MoodleSession' key . I have pasted the request that is sent below. When I import the request in Postman, I see the 404 as well, but if I don't send the Cookies as part of the request, then I get a 200 OK. How do I fix this? Is this a configuration error on the side of Moodle? (I see the same issue when testing with a local tool and with a local Moodle). Sorry for the repeated question and thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 10, 2022, 4:23 PM",
          "AuthorName": "Manuel Manso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5196221&course=5",
          "role": [
            "Picture of Manuel Manso"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 External tool - request to 'auth.php' returns 404",
          "Text": "Hi Manuel, What redirect URIs do you have set up in the Moodle tool configuration? The problem in the linked thread was down to a URI mismatch, so it's probably worth checking that. In your case, looking at that request, you'd need to have a redirect URI set to: https://lti-ri.imsglobal.org/lti/tools/3247/launches . It may also help to debug your Moodle site's mod/lti/auth.php code (adding breakpoints), so you can see exactly where the invalid request error is being thrown. Not sure if that'll help, but it gives you a few things to check. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2022, 11:07 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External tool - request to 'auth.php' returns 404",
          "Text": "Hi Jake, Indeed the issue was the redirect URI, I had misunderstood its meaning. But now it means I have configured both the Tool URL and the Redirect Uri(s) both to https://lti-ri.imsglobal.org/lti/tools/3247/launches so I don't currently understand what is/should be their difference. Thanks for the help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2022, 1:37 PM",
          "AuthorName": "Manuel Manso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5196221&course=5",
          "role": [
            "Picture of Manuel Manso"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External tool - request to 'auth.php' returns 404",
          "Text": "OpenId requires the redirect URIs be set up prior. If, during an auth request, the platform sees one that isn't set up (i.e. it isn't currently set in the tool configuration), then it'll error like you've seen. It's possible to have the tool url and redirect URI contain the same thing (in fact when using Moodle-to-Moodle LTI , this is the case, as is the case with some other tools too ). This is considered normal. It's also possible to have a redirect URI that is different to the tool url, and that's fine too (also normal).  Depending on how the tool decides to handle different deployments, clients, etc, it may wish for the platform to redirect to something other than the tool/launch URL , and that's ok. As long as it's a registered before the launch. Here's an example tool. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2022, 3:31 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 External tool - request to 'auth.php' returns 404",
          "Text": "I have the same problem. You can see the detail here .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2023, 5:03 PM",
          "AuthorName": "wz z",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=250778&course=5",
          "role": [
            "Picture of wz z"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 356795,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356795",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "upgrade to Moodle 3.1 LTI not showing results in GradeBook",
          "Text": "Hi all, After upgrading from Moodle 2.7 to 3.1 our LTI connection from our AMS (assessment management system) no longer records the results in the Moodle gradebook but records the results fine in the AMS. Any ideas? Cheers Wes",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2017, 12:13 AM",
          "AuthorName": "Wesley Eccles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2172087&course=5",
          "role": [
            "Picture of Wesley Eccles"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: upgrade to Moodle 3.1 LTI not showing results in GradeBook",
          "Text": "Hi Wes were you able to get this one sorted? Cheers S",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 20, 2017, 1:05 PM",
          "AuthorName": "Surej Cherian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2306456&course=5",
          "role": [
            "Picture of Surej Cherian"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: upgrade to Moodle 3.1 LTI not showing results in GradeBook",
          "Text": "Havin the same issue. Did you find a solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 24, 2018, 3:26 AM",
          "AuthorName": "Shiv R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2249552&course=5",
          "role": [
            "Picture of Shiv R"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 360205,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360205",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "An LTI plugin to use as an observation grid for students ?",
          "Text": "Hello, we are exploring solutions to give the possibility to teachers to add an activity in a course, which would allow students to collect data, under for form of an observation grid. This grid could take many forms. We already explored the database option, but for some technical reasons, it may not be possible to use that activity type. So, do you know a plugin that would allow to create such a fillable webform, in which students could insert values and files (as pictures), exactly as the Database activity allows to do so ? Thank you, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2017, 10:40 PM",
          "AuthorName": "Eric Breton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2328260&course=5",
          "role": [
            "Picture of Eric Breton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 348017,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348017",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External Tool Integration & LTI Outcomes Management 2 service",
          "Text": "I want to integrate a LTI complaint to tool to moodle. Since the launch is LTI1.1 compatible I'm\nplanning on using the \"External Tool\" option to integrate this tool with\nmoodle. The tool will be integrated at Course Level ( link to\nlaunch the external tool at course level) and once the tool is launched,\nin the tool side Instructors are able to create many assignments. Similarly\nfor students the tool will be launch-able again in course level, once\nthe tool is launched in the tool side the student can attempt any\nassignment the instructor has created. I'll need to create Grade\nColumns in moodle when instructor create & publishes the assignment\nin the tool side. And once a student attempts an assignment and finishes\nthe assignment I should be able to send back the grade to moodle, for\nthat specific assignment and for student. I have gone through the LTI Outcomes2 Services and that would seem to cater this requirement, but it looks like it's still not supported in moodle. When or which release is this service planned to be implemented in moodle? What other options are there to cater this requirement? Thank You.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 22, 2017, 5:05 PM",
          "AuthorName": "Chamila Liyanage",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2198535&course=5",
          "role": [
            "Picture of Chamila Liyanage"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 395225,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395225",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "currently unable to handle this request. HTTP ERROR 500",
          "Text": "Hi all, I'm testing out the LTI function and I've got two instances of moodle i'm testing on. I've followed the instructions here: https://docs.moodle.org/38/en/Publish_as_LTI_tool On the provider side, I've enabled embedding of iframes and have a URL and key for the course. When i add the resource to the consumer site however the activity does not appear. When I select the launch container as embed i receive a blank box where the content should be and when  I set the launch container to open in a new window, I receive the error message: This page isn’t working xxxx is currently unable to handle this request. HTTP ERROR 500 Can anyone give me any pointers on what to check on either consumer or provider site? Thank you! Shiran",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 4, 2020, 1:47 AM",
          "AuthorName": "Shiran Juttla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2331482&course=5",
          "role": [
            "Picture of Shiran Juttla"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 403790,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403790",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI questions",
          "Text": "I set up Moodle as an LTI tool provider with my SIS/LMS (Populi). I'm trying to better understand LTI and what exactly gets passed. A student logging into the course from Populi clicks the Moodle link and can now access the course in Moodle. I would also like the ability for the student to be able to login to Moodle directly at a future time (and not just through the LTI link in Populi). Is this possible? I have noticed if we manually enroll students into Moodle and later the student access Moodle using the LTI link from a specific course in Populi that it creates a new user and doesn't know to match the user with the one manually entered. Is there a way to get Moodle to match the user? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 21, 2020, 11:13 PM",
          "AuthorName": "Rob Frank",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2578419&course=5",
          "role": [
            "Picture of Rob Frank"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 330058,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=330058",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding External Tool (LTI) link in Pioneer Icons",
          "Text": "Hi Is is possible to add and External Tool (LTI) link in the Pioneer Theme Icons? Thanks, Kirk",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 18, 2016, 3:32 AM",
          "AuthorName": "Kirk Benningfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2068364&course=5",
          "role": [
            "Picture of Kirk Benningfield"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 432351,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432351",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 auth fails when already authenticated in the same session",
          "Text": "Hi, I'm currently linking our external tool to moodle using LTI1.3. I've managed to get this working, but I have the following problem: I can only successfully start/login once. The first request to mod/lti/auth.php successfully redirects me to the tool (with the correct claims and all), but after that, whenever I try to login again (e.g. when I try to launch the tool with the \"Select content\" button) I get the following error: Undefined property: stdClass::$lti_message_hint in <b>/bitnami/moodle/mod/lti/auth.php</b> on line <b>58</b> The reason is that there is no cookie being sent for the first request, but there is a one being sent for the next requests (with the name MoodleSession). It seems that, because this cookie is being sent, I get an error because the lti_message_hint is not a property of the session. What am I doing wrong?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 28, 2022, 8:59 PM",
          "AuthorName": "Ruben Lagatie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4810014&course=5",
          "role": [
            "Picture of Ruben Lagatie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 auth fails when already authenticated in the same session",
          "Text": "Hi Ruben, Can you tell us what version of Moodle you're running? Browsers have started getting strict on cross site cookies and, as a result, older versions of Moodle won't work with newer browsers. This behaviour was patched in MDL-71887 and you can see the versions that it was landed on in the 'fixversion' field there. You need to be running at least one of those. We can troubleshoot further once we rule out what seems to be the likely cause of this 95% of the time. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2022, 11:18 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 389442,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389442",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course kit from google - Grades not synching with moodle",
          "Text": "Hi guys, I post this in hope is of help if anyone is having the problem of synchronization with moodle and course kit regarding grades, the problem we encounter was that the timestamp of the server was off by 30 min, this made our moodle to reject the post from course kit, you only have to update this and you are ready to go! Here is the link to the google forum, it explains in better detail: https://support.google.com/edu/coursekit/thread/10788250?hl=en I know it is already in google, but I share here because I looked here first and I hope it can help someone else Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2019, 3:40 AM",
          "AuthorName": "Kenia Delgado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2549301&course=5",
          "role": [
            "Picture of Kenia Delgado"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 363767,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=363767",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Secret key - urgent request please",
          "Text": "I just upgraded to Moodle 3.4 from 3.1. In 3.1, there was a secret key that had to be entered so that when users from another program clicked on the external link, they would be LTI enrolled in the right course in Moodle. But, I cannot find anywhere to enter that secret key in 3.4. I read all the Moodle docs , and they are very vague, and even inaccurate. Can someone walk me through it please and tell me exactly what screens to go to and how to get there? I have the keys, but students are arriving this morning and won't be able to access Moodle through LTI, so it is rather urgent. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 9, 2018, 8:18 PM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Secret key - urgent request please",
          "Text": "In Site Admin > Plugins > Activities > Manage Activities, you will see a link for External Tool > Settings. yourmoodle.com/admin/settings.php?section=modsettinglti You’ll then be able to edit any existing tools and configure the shared secret.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2018, 6:54 AM",
          "AuthorName": "Jon Bolton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5514&course=5",
          "role": [
            "Picture of Jon Bolton",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446429,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446429",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Is it possible to selection content items for different topics in one session ?",
          "Text": "We used to be able to do this with LTI1.1 and a Moodle plugin. Now as we are migrating to LTI 1.3, we found that in the deep linking response we cannot specify what selected content should be added to which topic. So we have to select multiple times for different topics. Does anybody have any idea about what to do for this scenario ? Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 1:46 PM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is it possible to selection content items for different topics in one session ?",
          "Text": "The support for multiple content items was really an afterthought and, as such, is limited. Currently, it will create the external tool activity instances (the resource links for each content item) in the section you first started the creation process in. It's then up to the instructor to move these to the right location in the course. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 2:59 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Is it possible to selection content items for different topics in one session ?",
          "Text": "Thanks Jake. We will consider what we can do. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 8, 2023, 2:19 PM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 229102,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229102",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Missing LTI custom parameter when restore Common Cartridge",
          "Text": "Hi all, I have successfully imported Common Cartridge v1.1 into Moodle v2.3. The cartridge consists of a number of LTI links. The links to the Tool Provider import correctly but the TP requires a custom parameter. The LTI markup is as follows: [see lti_snippet.txt attached] If I use Chrome Developer Tools I can see the POST data sent to the Tool Provider and there is no custom parameter. If I look at the LTI link in Moodle, there is no custom parameter and none in the database either. The value is \"0\". If I create the LTI link manually in Moodle, it works perfectly. If I then backup the course as Common Cartridge v1.1 it exports everything except the custom parameter. Looking at the PHP code, it appears that the <blti:custom> element is ignored during backup/restore. Is this true? Does the CC backup/restore in Moodle ignore the LTI <blti:custom> element ? Thanks in advance for any confirmation or advice. Regards, Derek.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 22, 2013, 11:48 PM",
          "AuthorName": "Derek Humphreys",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1604406&course=5",
          "role": [
            "Picture of Derek Humphreys"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Missing LTI custom parameter when restore Common Cartridge",
          "Text": "Having done some more research, this is a bug. See MDL-38430 for more details. Regards, Derek.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2013, 4:21 PM",
          "AuthorName": "Derek Humphreys",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1604406&course=5",
          "role": [
            "Picture of Derek Humphreys"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 413185,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=413185",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External tool automatically gets started when user is sent to launch_presentation_return_url",
          "Text": "I have a \"single activity\" course where the activity is \"external tool\". When user launches the course, the tool is launched as expected. When the user ends their session, the tool sends user back to Moodle and Moodle automatically launches the activity again. Is there a way to make Moodle stop doing this? I'm using Moodle 3.9.2. The tool's \"end session\" sends the user to launch_presentation_return_url provided by Moodle via LTI launch . What I see in the Chrome dev tools: https://<Our Moodle>/mod/lti/return.php?course=2&launch_container=5&instanceid=1&sesskey=Lug3Gp814h https:// <Our Moodle> /course/view.php?id=2 https:// <Our Moodle> /mod/lti/view.php?id=1 https:// <Our Moodle> /mod/lti/launch.php?id=1 https://<Our LTI tool>/<LTI launch endpoint> I've learnt that if I manually go to any of these: https://<Our Moodle>/course/view.php?id=2 https://<Our Moodle>/mod/lti/view.php?id=1 I will always end up being sent to the external tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 3, 2020, 12:12 AM",
          "AuthorName": "Andrey Agibalov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3795606&course=5",
          "role": [
            "Picture of Andrey Agibalov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External tool automatically gets started when user is sent to launch_presentation_return_url",
          "Text": "I guess no-one thought of that particualr set-up before. I think you should create a bug report in the Moodle issue tracker ( https://docs.moodle.org/dev/Tracker_introduction ) then hopefully this will get fixed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 3, 2020, 11:27 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 226617,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=226617",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Builtin support for edu-apps.org LTI catalog",
          "Text": "I wonder if we could support the config files for each LTI tool on the Instructure's LTI catalog web site: http://www.edu-apps.org/index.html ? I could be very helpful to have a listbox with all the LTI tools on the catalog, inside the LTI setting page. From which the teacher could pickup a tool and have its setting automatically apear on the page setting, directly from the config file that is on the web site. What do you think?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 13, 2013, 4:26 PM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Builtin support for edu-apps.org LTI catalog",
          "Text": "Also: http://www.informationweek.com/education/instructional-it/canvas-lms-maker-launches-open-education/240152738",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 19, 2013, 5:14 AM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Builtin support for edu-apps.org LTI catalog",
          "Text": "I keep getting spam -blocked, but I was working on something related to this earlier this week. I'll try to post a link in another post and see if that works... basically it's a Chrome extension that adds a link to more easily drop in apps listed on edu-apps.org into your external tools config.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 26, 2013, 6:41 AM",
          "AuthorName": "Brian Whitmer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558930&course=5",
          "role": [
            "Picture of Brian Whitmer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Builtin support for edu-apps.org LTI catalog",
          "Text": "I think maybe the spam filter hates github or something. If you go to github then the url is www.github.com/whitmer/chrome_edu_apps . It's a Chrome extension so it won't work in FF or Safari or IE . There's directions on the site for how to install the extension. Please let me know (@whitmer) if it's not working or if it needs tweaks. I've only been able to test it on a couple Moodle sites so far..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 26, 2013, 6:43 AM",
          "AuthorName": "Brian Whitmer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558930&course=5",
          "role": [
            "Picture of Brian Whitmer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Builtin support for edu-apps.org LTI catalog",
          "Text": "Cool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 22, 2016, 8:29 PM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 361028,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361028",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "sharing activities between courses using LTI",
          "Text": "hi guys, i'm trying to share activity between courses on same moodle site. is someone done that before? i see the activity but, my SESSION keep confused when i get into the activity.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 5, 2017, 3:34 PM",
          "AuthorName": "meir ifrach",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2169612&course=5",
          "role": [
            "Picture of meir ifrach"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 199633,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=199633",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Unable to install MPlayer plugin in moodle 2.2.1",
          "Text": "I hvae tried to install mplayer plugin in 2.2.1 but no success. Anyone knows any other media player is avaliable for moodle 2.2.1 which will support MP4 video. Thanks in advance for help.. Regards Mahesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 31, 2012, 6:40 PM",
          "AuthorName": "Mahesh Patil",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1441365&course=5",
          "role": [
            "Picture of Mahesh Patil"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unable to install MPlayer plugin in moodle 2.2.1",
          "Text": "Hi Mahesh, Have also tried Mplayer as looked like would work after upgrade too but it has not been made to work for 2.2 as far as I know. This Thread mentions the 1.9 version and a 2.0 version beta, but not seen any mention so far of a 2.2 version to try. Have you tried uploading the MP4 video file within a Page or label using the Moodle media button?                 MoodlePlays it back once linked to.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 6, 2012, 6:03 PM",
          "AuthorName": "Richard Price",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=449592&course=5",
          "role": [
            "Picture of Richard Price"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470587,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470587",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Advantage External Tool setup failing",
          "Text": "Using Moodle 5.0.3.  Trying to create and external tool pointing to another Moodle at 5.0.3. I go the \"site administration/plugins/external tool/manage tools\" and enter the Registration URL supplied by the provider site in then click \"Add LTI Advantage\".  The screen returns without displaying an error but without a tool created.  An error of \"A required parameter (openid_configuration) was missing\" is loggedl Where do I start to look for a solution.  I am able to connect to the provider site with a legacy tool using an tool url but not with an LTI advantage registration to the provider. All insights are appreciated, Frank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2025, 5:49 AM",
          "AuthorName": "Frank Vierling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399964&course=5",
          "role": [
            "Picture of Frank Vierling"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "LTI Advantage External Tool setup failing",
          "Text": "Hi Frank... I took the liberty of moving your post to the LTI forum. -Thom, HQ Moderator",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2025, 10:08 AM",
          "AuthorName": "Thom Rawson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=821225&course=5",
          "role": [
            "Picture of Thom Rawson",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Advantage External Tool setup failing",
          "Text": "Thanks, Sorry I miss posted",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2025, 6:10 PM",
          "AuthorName": "Frank Vierling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399964&course=5",
          "role": [
            "Picture of Frank Vierling"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI Advantage External Tool setup failing",
          "Text": "Hi Frank, Sorry for the late reply. I've been away on leave. Are you running debugging mode in the consumer site by any chance? I recall there being an issue in which a warning is escalated to an error during dynamic registration, and turning off debugging resolves this. MDL-80674 It could also be due to the default \"HTTP Security\" settings (via Site admin). When testing locally, localhost is blocked, so this could be a factor if you're running two local sites for testing purposes. When we do this, we need to remove the localhost entries from the HTTP security \"Blocked hosts\" setting on both the tool and platform (tool and consumer) sites. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 3, 2025, 1:29 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 415406,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415406",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Allow Teachers to Unenroll LTI Students",
          "Text": "In the Teacher Role, Under Publish as LTI Tool, I have set the Capability for Teachers to Allow for Unenrol Users from the Course (enrol/lti:unenrol) however there doesn't appear to be a way to let Teachers to delete a Participant as Admin can. Anyone know why this isn't working or have I got the wrong capability set?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 15, 2020, 6:48 AM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 446425,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446425",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Zoom meeting attendance for activity completion",
          "Text": "Checking to see if anyone has figured out a way to automatically mark the Zoom LTI activity as \"complete\" if they launch/attend a zoom meeting with it?  Or maybe there is another work around to automate this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 11:16 AM",
          "AuthorName": "Tay Moss",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4728050&course=5",
          "role": [
            "Picture of Tay Moss"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Zoom meeting attendance for activity completion",
          "Text": "Hi Tay, I'm guessing that setting up completion on view on the external tool instance isn't an option? That way, any student who launches the activity (whether zoom loads a meeting or not is another story), will end up with that activity marked complete. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 12:08 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Zoom meeting attendance for activity completion",
          "Text": "In theory (per documentation) Moodle Zoom LTI should be able to pass back attendance data to Moodle, but in fact we haven't been able to figure out how to actually do this. Has anyone been successful?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 1:58 PM",
          "AuthorName": "Tay Moss",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4728050&course=5",
          "role": [
            "Picture of Tay Moss"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Zoom meeting attendance for activity completion",
          "Text": "Can you post a link to the relevant docs? I only know the pure LTI details and what Moodle can/can't do with respect to that (and we don't deal with clients directly at HQ, so I'm not sure if others have had any success with Zoom, I'm afraid). I'd need to see the details of what they claim to send, and via what mechanism, before I can really comment further. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2023, 2:56 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 427954,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427954",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3(LTI Advantage) Course List",
          "Text": "Hi, Is there any chances for me to get all the course list from Moodle using LTIAdvantage? As what I google in LTI before, lineItem is used to get single/multiple course that user are enrolled with. I avoiding from using Moodle API since our application will support different LMS platform(Moodle/Blackboard/Canvas).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 13, 2021, 7:49 AM",
          "AuthorName": "Nurul Ain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4545797&course=5",
          "role": [
            "Picture of Nurul Ain"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3(LTI Advantage) Course List",
          "Text": "Hi Nurul, Both the main LTI Advantage services exposed by Moodle (Names and Roles being the first, Assignment and Grades being the second) are designed to deal with information for the context from which the tool is launched. So either the course, or the module (in cases where a resource link level option is supported). Perhaps you can elaborate on your use case? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2021, 1:32 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 229889,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229889",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Call for LTI app submissions",
          "Text": "Not sure if this got shared or not, but there's an LTI app submission bounty running now through June 10th offering a $250 prize for any new LTI integrations. The call is being run with judges from Remote-Learner, Instructure, Blackboard and Desire2Learn. If you know of an existing LTI integration, please share: http://instructure.github.io/lti_bounty",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 4, 2013, 2:14 AM",
          "AuthorName": "Brian Whitmer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558930&course=5",
          "role": [
            "Picture of Brian Whitmer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 363423,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=363423",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI and embedding on IOS",
          "Text": "L.s Whatever I try, I’m not able to embed a moodle activity from another site with LTI. On IOS it opens a new page with the source site name on top (which is pretty bad). The same when accessing with the moodle app Am I expecting to much? Is embedding only possible on desktops? Who can help? Bert",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 28, 2017, 5:27 AM",
          "AuthorName": "Bert van der Hooft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1612564&course=5",
          "role": [
            "Picture of Bert van der Hooft"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 226790,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=226790",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "permissions on LTI tool",
          "Text": "Is there a way to restrict users from accessing the LTI tool link in a Moodle course either by roles or some other way? we are using moodle 2.2.1.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 17, 2013, 12:45 AM",
          "AuthorName": "Mr. Marc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119727&course=5",
          "role": [
            "Picture of Mr. Marc"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: permissions on LTI tool",
          "Text": "Hi, AFAIK , the management of the LTI tool permissions is the same that the permission management for a standard tool. Have a look to the management tool permissions. No new mechanism is specific for LTI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 17, 2013, 4:04 PM",
          "AuthorName": "Carlos Ors",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1589527&course=5",
          "role": [
            "Picture of Carlos Ors"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: permissions on LTI tool",
          "Text": "thank you carlos for the reply, I have created a clone of studernt role and prohbited the new role to anything to do with LTI tool and assigned that role to a user and the user can still access the link for the tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 18, 2013, 2:33 AM",
          "AuthorName": "Mr. Marc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119727&course=5",
          "role": [
            "Picture of Mr. Marc"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: permissions on LTI tool",
          "Text": "Hi again. I'm not an expert in moodle permission but afaik, the permission management of an activity should be managed regardless it is a normal tool or an external tool.  In fact, if you don't have access to a tool due to a permission issue, its link shouldn't be accessible either. So, review the case of restricting access with a normal tool and repeat the same procedure with the external tool. If the behaviour was different, that would mean there is a bug in the external tool permission management. Pherhaps you can find information in other Moodle forum section. I don't know. Good luck.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 18, 2013, 4:56 PM",
          "AuthorName": "Carlos Ors",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1589527&course=5",
          "role": [
            "Picture of Carlos Ors"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: permissions on LTI tool",
          "Text": "Hello, i'm facing the same problem can anyone share the answer plz. thks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 7:05 PM",
          "AuthorName": "Majda Majda23",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1620450&course=5",
          "role": [
            "Picture of Majda Majda23"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: permissions on LTI tool",
          "Text": "I was just looking at this. There are two options: http://docs.moodle.org/25/en/Available_for_group_members_only - this way works. http://docs.moodle.org/25/en/Capabilities/mod/lti:view - this currently does nothing. MDL-40854",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 8:52 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 376884,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376884",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Debug error: Expired timestamp, yours 1538688602, ours 1538681402",
          "Text": "LTI has been working fine, suddenly it has stopped working and the following message appeared Debug error: Expired timestamp, yours 1538688602, ours 1538681402 I have seen  that there is an issue at Moodle Tracker MDL-60935 But not answer for the moment",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 5, 2018, 5:44 AM",
          "AuthorName": "Bernat Martinez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=92175&course=5",
          "role": [
            "Picture of Bernat Martinez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Debug error: Expired timestamp, yours 1538688602, ours 1538681402",
          "Text": "I had the same problem with a lti tool, in my case I checked the time difference by converting the timestamp and updating the server time to the same time as the external tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 25, 2018, 1:45 AM",
          "AuthorName": "Rafael Guzzo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2468848&course=5",
          "role": [
            "Picture of Rafael Guzzo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Debug error: Expired timestamp, yours 1538688602, ours 1538681402",
          "Text": "I have the same issue.  We are an LTI consumer...Moodle 3.6 to Moodle 3.5 connection.... The error message we receive is: An error occurred when launching the external tool:Debug error: Expired timestamp, yours 1551448244, ours 1551447910 This has to be an error, updating our server time to match the LTI publisher's server time doesn't make any sense....as it would cause confusion and errors with our learner. Does anyone have a solution for this issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 1, 2019, 9:46 PM",
          "AuthorName": "Ken Kavanagh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2576708&course=5",
          "role": [
            "Picture of Ken Kavanagh"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 334133,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=334133",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Immediate LTI Provider grading",
          "Text": "I do development on a very large LTI provider project using Moodle and the LTI provider plugin that just got merged in to core. By large, think 600k+ tools, 8k+ courses, and we're only to the pilot stage of the project. In a year we'll have tens of millions of tools and over 100k courses. Given the existing setup for the LTI provider cron which hasn't changed since it was merged with core, it could easily take an hour to run the cron with all of the queries it would be running, and talking to other systems. We needed to be able to send grades back much more quickly than that, and came up with modifying core a tiny bit to get it done. Since the plugin is now part of core I've submitted what I used in the tracker so other people can make use of it, and possibly it will find it's way in to core at some point. If you would find it helpful you can see it on the tracker here: https://tracker.moodle.org/browse/MDL-54809 If you want to see it in core don't forget to vote. If you're on 3.0.3+ (Build: 20160317) feel free to use the attached version of lib/gradelib.php to get these changes. Only do this if you are only using Moodle as an LTI provider though, because any grade that gets updated will try to send back an LTI grade.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 3, 2016, 3:54 AM",
          "AuthorName": "Doyle Lewis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1964985&course=5",
          "role": [
            "Picture of Doyle Lewis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 339871,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339871",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "What  exactly is passed through LTI?",
          "Text": "I am new to LTI, but I have successfully set it up in Moodle such that when a user from another LTI compliant Learning Management System (called HAIKU) accesses Moodle in a link, then Moodle logs in that student and the student is then presented with Moodle pages. However, I am not sure what happens with certain data types from Moodle. For example, I want the scores from quizzes in Moodle to be passed back to HAIKU. Is that possible? If so, how? Unsure what to ask, since, as I said, I am new to LTI. Any advice is appreciated. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 15, 2016, 9:16 PM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 317752,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=317752",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Support for LTI Outcomes Management 2 services",
          "Text": "Vital Source Technologies funded the addition of LTI 2 support to Moodle 2.8.  It is now\nproposing to do the same to add support for the new Outcomes Management 2 (rich outcomes) services (see http://www.imsglobal.org/lti/ for details) which overcome the limitations of resource links having only a single gradebook column. A project page describing the work to be undertaken is being set up at https://docs.moodle.org/dev/LTI_Outcomes2_Services .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 1:11 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "In designing an implementation of the LineItem services, I need to find a way of creating records in the grade_items table.  It appears that, without making other changes to the core code, I cannot  create them with an itemtype of \"mod\", an itemmodule of \"lti\" and an iteminstance of null or \"0\".  If I do the gradebook interface tries to locate the associated LTI instance, which does not exist.  Since the columns exist independently of any specific resource link, they cannot be associated with an actual instance. My current proposal, for which I would appreciate feedback as I am probably not aware of the wider implications of doing this, is as follows: courseid would be the context to which the line item belongs (as currently used in Moodle) itemtype would be set to \"external\" or other similar constant string itemmodule would be null iteminstance would be the ID of the proxy tool instance which created it itemnumber would be incremented for each line item (starting at 0) iteminfo would record any ActivityId for the line item gradetype would be 1 (value) grademax would be set by the service grademin would be 0 My tests so far suggest that this works.  It does allow instructors to edit some of these values, but the specification does not prevent this.  (As probably the first implementation of this specification for a tool consumer there may be some best practice issues to decide along the way.)  The main issue which is not clear to me is the current vocabulary used to populate the itemtype field. Does this sound like a workable and sensible approach to others, or can you suggest a better one? TIA .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 1:40 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "\" Since the columns exist independently of any specific resource link\" - why? Even if you cannot naturally associate each LineItem, can't you find some arbitrary make the association, so that it fits the Moodle API? (Sorry, I have not read the Outcomes service spec, and I am not going to. If you can give, or link to, a one-page summary, then I might be able to help more. I guess the key thing to understand is the data model.) The one example of this in standard Moodle activity with multiple grade items is mod_workshop, where each workshop activity contributes two grade items. See https://github.com/moodle/moodle/blob/032a4fe51ccf41cbd3c310d52ca5b7777ffb5123/mod/workshop/lib.php#L1076",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 3:28 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "OK, I have now read your wiki page. That is a good summary. (Sorry, I should have done that before.) I note that the spec is still a draft. Perhaps this aspect of it deserves more discussion. Perhaps each LineItem should have to belong to one particular LTI activity in the course? If they don't re-consider that part of the spec, then i would suggest that the grade_items you create should not be linked to mod_lti at all. I can think of two ways you might handle it: 1) Create a special activity mod_ltioutcomeservice which cannot be added manually, but on any course where the outcome service is used, an instance of that module gets automatically added to the course (hidden from students) and manages all the grade items. 2) Alternatively, implement this services as a local plugin instead of a mod, and use standard custom grade-items, such as a user would create using the gradebook UI. (Or, extend the gradebook UI so the local plugins can own grade-items in a course.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 4, 2015, 3:49 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "Thanks for your helpfui responses, Tim.  I left responding for a while in case anyone else wanted to contribute to the discussion, but I had not meant to leave it quite this long. My feeling about your second suggestions is that it seems to be contrary to the way in which LTI services have defined as sub-plugins which can be automatically discovered and offered to tool providers.  Your first suggestion has the disadvantage of requiring an additional install which, to me, is not ideal.  It would be nice for a service to be self-contained within a single sub-plugin. I have, however, heeded your advice about not abusing the content of the grade_items table.  My current proposal is to create the lineitems as manual items.  This involves a couple of database changes: 1.  The lti_submissions table has two new fields: courseid and gradeitemid which allow a submission to be associated with a grade item since this is no longer possible via the LTI instance ID.  The course ID is useful when a grade item has been deleted. 2.  A new table named ltiservice_outcomes2 is created with the following fields: id (auto number) toolproxyid gradeitemid activityid This table allows grade items created by the service to be associated with a tooi proxy and as a place to record any activity IDs defined by the tool provider.  At present I have not added any referential inegrity constraints so records will remain in this table after a tool proxy or grade item has been deleted.  Would a maintenance script to tidy up this table be sensible? Does this sound like an acceptable solution or should I be revisiting one of the other suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 15, 2015, 9:16 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "That sounds plausible, though as you say, it would be nice to get some input from other people. I don't know what the coding style rules say about digits in database table names. You may need to call it mod_lti_outcomes_two. (Table names must start with the plugin name.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 15, 2015, 2:19 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support for LTI Outcomes Management 2 services",
          "Text": "Thanks Tim.  I cannot find any definitive documentation on the naming of plugins/subplugsin, apart from being lower case.  However, I have also not found any other examples which include digits in their name and I did find mod_turnitintooltwo which suggests that I should rename my subplugin to ltiservice_outcomestwo (named because it is an implementation of the Outcomes Management 2 specification).  In which case this would also mean a similar change to the database table name.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 15, 2015, 6:22 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459514,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459514",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 Link Opens in New Window on Mobile Instead of Within Moodle",
          "Text": "Sure, here's how you can explain your issue on the Moodle forum: Hello, I am encountering an issue where LTI links open in a new window on mobile devices instead of opening within the Moodle environment, which happens correctly on desktops. This causes a problem as it doesn't allow mobile users to navigate back to the Moodle course easily. I've tried looking for settings that might influence this behavior but haven't found a solution yet. Does anyone know how to configure the LTI tool to open links within Moodle on mobile devices instead of in a new window? Any help would be greatly appreciated. Thank you! Alan Sodenkamp",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 19, 2024, 3:44 PM",
          "AuthorName": "Alan Sodenkamp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3834436&course=5",
          "role": [
            "Picture of Alan Sodenkamp"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.1 Link Opens in New Window on Mobile Instead of Within Moodle",
          "Text": "That's expected behaviour, LTI tools are difficult to get to work within a mobile app because of the way it passes tokens etc. it's common practice in most LMS apps, not just moodle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 20, 2024, 9:21 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 Link Opens in New Window on Mobile Instead of Within Moodle",
          "Text": "Ok, so it is what it is then. Thank you for your effort and time.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 23, 2024, 2:55 PM",
          "AuthorName": "Alan Sodenkamp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3834436&course=5",
          "role": [
            "Picture of Alan Sodenkamp"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 380776,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=380776",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Publish Course with all Activity Grades",
          "Text": "I have a course with several SCORM packages. When I publish as LTI, I only have the option to publish the whole course or one individual activity. When I publish the whole course, the grades from each activity are not showing within the external LMS (in this case Schoology), but rather as a percentage of the whole course. Is it possible to publish the course, while retaining each activity within, so that the grades for each activity are shown in the external LMS?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 10, 2019, 10:08 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 262039,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262039",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Ideas on getting video into Moodle from LTI tool?",
          "Text": "I develop & maintain a tool that connects to custom software running on students' devices that acquires videos of them performing tasks using training instruments. They are currently accessible to the instructors via the LTI tool. Ideally, I would like some mechanism where the videos (or, rather their AWS S3 link for which Moodle has the proper credentials) would be automatically submitted for grading to the appropriate Moodle assignment. I'm not familiar enough with Moodle's architecture to know what the best approach would be. I'm assuming I'll be writing a plugin of some sort. Additionally, is assignment something that the upcoming LTI 2.0 (or 1.2) support would enable? If not, could it? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 13, 2014, 2:30 AM",
          "AuthorName": "Benjamin Riggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1771863&course=5",
          "role": [
            "Picture of Benjamin Riggs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 437060,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437060",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Pass Course ID Number to Perusall through custom LTI parameter",
          "Text": "Here is the situation. Our institution sets up a new Moodle instance each year and keeps the previous four years to allow faculty to reuse course material. So, we have five active Moodle instances each year. Our naming convention is moodle-academicyear.tld.edu. This year's is moodle-2223.tld.edu. The courses in each year have a unique course id number following the convention DEPT-coursenumber-sectionnumber-academicyearterm, e.g., ENGL-10000-01-2223FA. However, since we set up a new server each year the id for each course ( database unique key) that is passed in the URL will represent different courses each year. This is not a problem for Moodle but it is a problem with some LTI tools which expect an institution to have one Moodle instance forever. Perusall seems to be one such LTI tool provider. Perusall is using the id sent through the URL to identify the course in their system. This was no problem until this year when a faculty member went to set up their course for Perusall and was taken to a previous year's course in Perusall because their Moodle id matched a previous year's Moodle id where the faculty member had used Perusall. Perusall does say they have a custom parameter \"custom_perusall_course_id\" that could solve the issue. The question is what to put to pass the Course ID Number? From my poking around the Course ID Number is in the global course variable, $COURSE, as idnumber and the id passed in the URL is in $COURSE as id. So, what goes on the right side of the equals to pass idnumber to Perusall? custom_perusall_course_id=idnumber? custom_perusall_course_id=$COURSE->idnumber? custom_perusall_course_id=somethingelse? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2022, 1:11 AM",
          "AuthorName": "Jon Breitenbucher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=118798&course=5",
          "role": [
            "Picture of Jon Breitenbucher"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Pass Course ID Number to Perusall through custom LTI parameter",
          "Text": "Solution is to enter the following for a custom parameter perusall_course_id=$CourseSection.sourcedId",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 10, 2022, 10:51 PM",
          "AuthorName": "Jon Breitenbucher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=118798&course=5",
          "role": [
            "Picture of Jon Breitenbucher"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422481,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422481",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How accurate is enrolment via lti on a course?",
          "Text": "Hello, I have a moodle course allowing enrolment through LTI (for various schools). I wanted to take a look at the usage of the course by the schools without having to contact them all (as there are over 100). So far, in participants, I have been filtering the schools name to see how many users are enrolled and when they last accessed the course. I wanted to ask how accurate is this reporting? Many schools use different VLEs such as blackboard and canvas, will it still capture those users? Also, is there an easier way of doing this? Essentially I wanted to see how many of the schools have added the moodle course to their vle (through LTI/ external tool). I believe a lot of the schools may be signing up for it and not end up using it, so I wanted to capture how many have put it on their VLE. I have moodle v3.8.1(build: 20200221). Thanks, Kathryn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 20, 2021, 6:32 PM",
          "AuthorName": "Kathryn Woodhead",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4232397&course=5",
          "role": [
            "Picture of Kathryn Woodhead"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How accurate is enrolment via lti on a course?",
          "Text": "Hi Kathryn, A couple of questions: Are you using more than one enrolment method for the course in question? One per school for example? When you say that you're filtering by the school's name, how exactly are you doing this? Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 3:06 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 351058,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351058",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Workflow to migrate MNet users to LTI users",
          "Text": "Hi, Martin Dougiamas mentioned in the tracker ( https://tracker.moodle.org/browse/MDL-40905 ), that MNet could be replaced with LTI authentication. Is there a workflow to migrate all users on a remote peer to LTI users? The basic idea is, that users do not even know, that authentication works different in the background and they keep their user credentials formerly authenticated through MNET. An MNet user is identified through the following columns in the user table: mnethostid auth Is it possible to migrate those users to LTI authentication and to match the user accounts to the same user on the identity provider, that was used for MNet authentication? Would be cool, if someone already has experience with migrating form MNet to LTI otherwise I am going to find out myself. Kind regards, David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 1:00 AM",
          "AuthorName": "David Bogner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=110156&course=5",
          "role": [
            "Picture of David Bogner",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Workflow to migrate MNet users to LTI users",
          "Text": "To replace MNET authentication fully, the best way would be: On the site you want the users to log into (what used to be your MNET auth subscriber - now LTI provider) Create a new course Share the whole course via LTI Use course meta enrolment on course you want the users from the other moodle to have access to. On the site you want the users to come from (what used to be your MNET auth publisher - now LTI consumer) Create a course with all users enrolled in it Add an instance of LTI and add the provided course. On the LTI provider site, run the \\enrol_lti\\sync_members scheduled task Users log in on their own moodle site and get to the other site by going to that new course and clicking on the LTI instance. (or we could use single activity course format to simplify it) As you have no doubt guessed from reading that, LTI is not a full replacement for MNET yet. There is still some more work to be done. However, if you only want users to enrol and use certain courses or activities , LTI will work really well and in fact may work better than MNET. It depends on your use case.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 9:10 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Workflow to migrate MNet users to LTI users",
          "Text": "Hi John, that is an interesting approach, but I think it won't solve our problem. We use MNet primarily as SSO solution because we do not have access to other SSO technologies. So we have a Moodle platform, that acts as Identity provider for several other Moodle platforms. Have a look at: http://onlinecampus-profil.virtuelle-ph.at/ With you approach, I assume that we would create new user accounts, which are different from the actual MNet accounts. But our goal is, that users keep their accounts and all roles, course subscription and other stuff associated to their accounts. Current Situation: User Richards logs in to Moodle IDP (Identity Provider) -> and is then transferred to Moodle Remote. On Moodle Remote, the user is logged in via MNet authentication. He is teacher in several courses on Moodle Remote and has the Manager Role site wide on Moodle Remote . Future desired situation: User Richard logs in to Moodle IDP and is then transferred to Moodle Remote but this time, via LTI . On Moodle Remote Richard should still have the same Moodle account as before, when he used to login via MNet. He is still manager for the whole site and subscribed to the same courses. Following your instruction will create a new user for Richard on Moodle Remote , which will be totally different from Richards previous account on Moodle Remote . In fact Richard has now a LTI and a MNET identity on Moodle Remote. There are thousands of users with the same problem as Richard. So we are really looking for solution to merge LTI accounts with MNET accounts. Thanks for your help. Kind regards, David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 9:34 PM",
          "AuthorName": "David Bogner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=110156&course=5",
          "role": [
            "Picture of David Bogner",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Workflow to migrate MNet users to LTI users",
          "Text": "LTI is not yet a full replacement for MNET. It doesn't work as an IDP. Because of this there's no point in converting MNET users to LTI users yet. And as such there's no feature to do it in moodle. You are correct LTI would create new accounts. To stop this, the auth type of all the MNET users on Moodle Remote could be changed to LTI and the username of each account set to create_username($consumerkey, $ltiuserid) from \\enrol_lti\\helper Using the consumer key of Moodle IDP . And $ltiuserid being the id of the user account on Moodle IDP . But again, I'm saying all this to say - this is too complicated I don't think LTI is ready yet. We could create a admin tool to do this, but there's no point IMO until LTI works as a proper IDP. In some cases LTI works better than MNET (when access to certain courses is all that's needed, with no continuity of users required etc). By the sounds of it, your use case (SSO) is one that is still better done in MNET. CAS is always another option for SSO",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2017, 8:54 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 413599,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=413599",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI -- Restricted access for Consumer site Managers, Admins to the Provider Site.",
          "Text": "Hi All, I really hope someone can assist me or give me suggestions. I have set up a consumer site and a provider site and everything works well. I understand we can map Student to Student and Teacher to Teacher through the Enrolment tool. But I would like to somehow restrict the Consumer Site Managers, Site admins, Course creators to be restricted as well. Are there any workarounds to achieve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 10, 2020, 4:18 PM",
          "AuthorName": "P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3790833&course=5",
          "role": [
            "Picture of P S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 463157,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463157",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Can we pass a user's api-token as custom-parameter in an lti-launch",
          "Text": "We are developing a module that requires the use of the Rest-api's in Moodle, but we really don't want to store any user-credentials in our system, as the user is passed in via a regular LtiResourceLinkRequest-launch.  So passing a fresh token in this laucnh will enable us to call the rest-api's in Moodle using the current user's token rather than calling a new login at Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2024, 8:35 PM",
          "AuthorName": "Frode Halvorsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3972581&course=5",
          "role": [
            "Picture of Frode Halvorsen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can we pass a user's api-token as custom-parameter in an lti-launch",
          "Text": "Hi Frode, Unfortunately, not right now. You can see the substitution params list here: https://github.com/snake/moodle/blob/777d00ef37e8588a2ba74cea302e9553c2f0e85d/mod/lti/locallib.php#L3868 We definitely need to consider how we want to achieve this kind of thing in future though. I recall a few similar requests in the past.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 24, 2024, 11:36 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Svar: Re: Can we pass a user's api-token as custom-parameter in an lti-launch",
          "Text": "Ok - is there any url that can be used for a logged in user to get an api-token ? Because if there is, we can use that instead, since the user doing the lti-launch has a valid UI-session in Moodle, than then can be used to obtain the token.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 24, 2024, 5:28 PM",
          "AuthorName": "Frode Halvorsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3972581&course=5",
          "role": [
            "Picture of Frode Halvorsen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464489,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464489",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Clarification on external tool launch flow",
          "Text": "We're implementing an LTI-compliant tool. We don't have any experience with Moodle or LTI, but do know about various OIDC authentication flows. Does the Moodle external tool launch flow look like Figure 7 in the LTI security spec? The end user (who has presumably authenticated with Moodle) will be prompted again to login at the tool using Moodle as the OIDC provider. Then Moodle will construct an id_token with complete launch parameters and send to the tool. If this isn't right, can you describe the flow in some technical detail? Or point to any Moodle technical documentation describing the LTI integration.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 14, 2024, 5:26 AM",
          "AuthorName": "Paul Tyson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7051748&course=5",
          "role": [
            "Picture of Paul Tyson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Clarification on external tool launch flow",
          "Text": "Note that LTI is a standard that can be used to launch a tool from any LMS. So, you should not ask \"Does Moodle ...\", you should ask \"Does the tool consumer ...\". Of course, Moodle is free, so I guess it is a useful option to test the tool you are developing with. The whole point of LTI is that the user will not be prompted again to log in. I should appear seamless. My suggestion to help you understand this is to find a existing (free) LTI tool, and connect it to a test Moodle install (you could use the test site at https://sandbox.moodledemo.net/ ). Then go in as a student and launch the tool, while watching the Network tab in the web browser developer tools. That will show you what then launch is. I don't know of a good free LTI tool to recommend for testing this, but while I was searching for one, I fould this, which might be helpful: https://github.com/SanDiegoCodeSchool/lti-node-example",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 14, 2024, 9:47 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Clarification on external tool launch flow",
          "Text": "Building on Tim's tips: Yes, Moodle follows the auth flow in the spec you referenced Yes, the user is typically already authenticated/logged-in on the Moodle/platform side when using an LTI tool (external tool) and it isn't common for the user to manually login to the tool separately as part of the LTI 1.3/OIDC flow The tool still controls what's required after successful LTI auth in order to interact with the requested tool resources/content/etc. Example: the LTI resource request sent after the LTI auth will include user data. This data can be used to create a user account on the tool side, lookup/find an existing user, assign the right role/capabilities to a user, etc. But perhaps something else is required, like tool-specific profile info or a tool-specific code to access a resource, before the resource can be served. The tool would handle these situations with direct user interaction. Even with the public standard/specs, tool can't assume every standard LTI 1.3 request or situation will be handled perfectly by every platform, even when intent is there. Sometimes there's a tool issue, sometimes a platform issue. Suggestion: Test the tool on multiple platforms before a prod launch - or at least test it on the platform(s) your customers/prospects will be using most frequently - Moodle, Canvas cloud or community, D2l/Brightspace, Schoology, Blackboard,etc. Any mention above of platform = LTI tool consumer, but not oAuth/OIDC consumer.  LTI 1.1 uses tool consumer, 1.3 uses  platform to avoid conflict with the oAuth/OIDC consumer - more info here Hope it goes well!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 15, 2024, 4:46 AM",
          "AuthorName": "John Doyle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2150656&course=5",
          "role": [
            "Picture of John Doyle"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Clarification on external tool launch flow",
          "Text": "Tim and John, thanks for the helpful replies. We use Spring Security framework to implement authentication. In our use cases so far we haven't needed the OIDC implicit flow , and it looks like Spring6 has removed support for it . It seems like supplying a bearer token in the Authorization header of the tool launch request would be the cleanest way to do this, but the LTI specs don't mention this (that I've found).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 16, 2024, 10:57 PM",
          "AuthorName": "Paul Tyson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7051748&course=5",
          "role": [
            "Picture of Paul Tyson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 269407,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=269407",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle integration with Unity3D",
          "Text": "Hi !!! I'm starting an educational game project with Unity3D which is necessary make an integration with Moodle! I just know that in some way is possible do it with SCORM , but i have tried without any success... I wanna know if is also possible by Moodle Web Services... Have someone already tried it or something similar?? I'll be grateful for any help!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 12, 2014, 3:57 AM",
          "AuthorName": "Eider Carlos Paulino Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1845636&course=5",
          "role": [
            "Picture of Eider Carlos Paulino Silva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 389677,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389677",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Custom Parameters to identify user information",
          "Text": "We are using Moodle as an LTI provider - would it be possible to save where a particular User enrolment is coming from using Custom parameters? e.g. On School Site 1, would it be possible to add something like institution=schoolSite1 in Custom Parameters to ensure that we can track where a particular LTI enrolment is coming from?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 15, 2019, 5:00 PM",
          "AuthorName": "Rex Wallen Tan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2709316&course=5",
          "role": [
            "Picture of Rex Wallen Tan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 351423,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351423",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "external tool does't support LTI",
          "Text": "Hello Moodle-Users, how can I make a connection between Moodle and an external tool, if the external tool does not support LTI? In my case the external tool would be Jenkins or DOORS or PTC. What I want to realize is following scenario: A Moodle participant has chosen the course about Jenkins and is reading the introduction slides in moodle and watching some exercises. Now he has to do a task in Jenkins, the external tool. Problem is: how does moodle know that the task in the external tool is done? I would like to have a tick mark in moodle if the task is done. Is that possible? If yes, how?? Through Plugins? Web Services? I'm thankfull for every help. Greetings",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2017, 9:26 PM",
          "AuthorName": "Jülide Dursun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2230151&course=5",
          "role": [
            "Picture of Jülide Dursun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: external tool does't support LTI",
          "Text": "This could be done using web services, yes, but you will need to modify Jenkins to call the web service (perhaps they allow plugins?). This will require development work. External tool is only designed to work with LTI. A simpler solution would be to have a URL resource linking to Jenkins with \"Students can manually mark the activity as completed\" selected.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2017, 8:54 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: external tool does't support LTI",
          "Text": "Thank you for your help. But could you give me some advices how to do this? For the two suggestions, do you have some tips? Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 5, 2017, 4:34 PM",
          "AuthorName": "Jülide Dursun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2230151&course=5",
          "role": [
            "Picture of Jülide Dursun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: external tool does't support LTI",
          "Text": "You can start by reading https://docs.moodle.org/dev/Web_services and https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 8, 2017, 9:16 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 239699,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=239699",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Provider not sending email notifications",
          "Text": "Hello, We run several Moodles on the same server . We created a course on one Moodle for all teachers (like a hub) using LTI provider. We mostly use forums and they all get there fine. The problem is that none of them seem to receive email notifications of forum posts. We have their emails sent through, they are subscribed, but no notification. As admin, I roam through Mnet and I receive them no problem. I run the cron manually and I can see that they are processed. Any idea? Moodle 2.4.3 Lti Provider 2011121706",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 24, 2013, 9:39 PM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider not sending email notifications",
          "Text": "Self-reply We found it. Since LTI users have the nologin auth method, email notification don't get sent. This patch should fix it: https://github.com/jleyva/moodle-local_ltiprovider/pull/14/files",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 10, 2013, 4:27 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 348068,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348068",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI Producer and Canvas - Need Help",
          "Text": "Has anyone successfully used Moodle 3.2 as an LTI producer and the Canvas LMS as the consumer?  If so, which \"configuration type\" did you use in the Canvas App setting. Were you able to share the entire course, or just certain resources. I've tried sharing the course as a whole and also just a quiz...No Joy.  Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 23, 2017, 2:34 AM",
          "AuthorName": "Bill Frey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=840891&course=5",
          "role": [
            "Picture of Bill Frey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "Unfortunately this does not seem to be working. Please vote and watch this issue: https://tracker.moodle.org/browse/MDL-57703 It's a shame that it's not working as moodle is complying with all the most basic aspects yet it is not working in canvas. I'm not sure where the cause of the problem is. I am keen to work on the bug but it's not a priority until more people vote and comment.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 10:23 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "I have it working in 3.1 - shared as a course. Is this a new issue in 3.2? In Canvas, after adding the App (Settings/Apps) to the course, I create an Assignment, External Tool, then input my launch URL and Shared Secret.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 20, 2017, 6:06 AM",
          "AuthorName": "Michael Penney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3432&course=5",
          "role": [
            "Picture of Michael Penney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "Thanks for commenting. I wouldn't have thought anything would have changed between 3.1 and 3.2 to affect this. If you get time and can try it on a 3.2 instance with the same settings that would help a lot. Is there anything else you had to do besides the steps you mentioned?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 22, 2017, 8:53 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "I just set up an LTI-handshake between Canvas ( https://mitt.uib.no ; my University's LMS) and Moodle ( https://nukit.ihelse.net ) using Moodle 3.3. The reason: I wanted to use Moodle's anonymous Feedback activity in a canvas course (see our recent publication doi: 10.1177/2058460117720858 ) To set up LTI, The documentation http://docs.moodle.org/33/en/Publish_as_LTI_tool worked pretty much as expected. However: You MUST enable the \"Publish as LTI tool\" plugin under Site/Plugins/Enrolmens/Publish as LTI tool BEFORE you create the LTI configuration for your moodle course. There were some minor glitches getting things to work in Canvas. Go to Settings/Apps and press \"+ App\". Choose the configuration type \"Paste XML \". In Moodle, go to Course administration/Published at LTI tools. Navigate to the page under \"Cartridge URL\" and paste the XML code into the dialog box in Canvas. Make sure it is pure XML without formatting codes inserted by Internet Explorer etc. The \"user key\" in Canvas is the name of your LTI object in Moodle, the \"shared secret\" is the secret in Moodle. Once the app is saved in Canvas, you can embed it in any Canvas module like any static page etc. However, the external Moodle page did not come up at once. I had to edit the module and the properties of the app and check \"open in a separate tab\". From that point onward, things worked like a charm.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 3, 2017, 1:13 AM",
          "AuthorName": "Martin Biermann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1994544&course=5",
          "role": [
            "Picture of Martin Biermann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "Martin, I just tried to follow your instructions and Canvas is tell me that the Cartridge XML from my Moodle 3.3 is an \"Invalid XML Configuration\".  So it won't let me save the app.  Do you have any other suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 14, 2017, 12:51 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI Producer and Canvas - Need Help",
          "Text": "I just imported 2 Moodle activities (anonymous survey via the Moodle \"Feedback\" activity) into two of my Canvas courses at https://mitt.uib.no via the same mechanism. My instructions are still valid, the only change in Canvas is that the user key is now called \"Consumer key\". I advise you to paste in the xml WITHOUT any formatting characters as described. You may want to copy the screen contents of the cartridge.xml into a plain text editor (such as notepad++) first, so that you can be sure that is is pure xml. The opening tag is <cartridge_basiclti_link>, the closing tag is <cartridge_basiclti_link> and there should be NO characters (not even a white space) outside these tags. Hope that helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 14, 2018, 3:57 PM",
          "AuthorName": "Martin Biermann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1994544&course=5",
          "role": [
            "Picture of Martin Biermann"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 463570,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=463570",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Teams Assignment LTI v1.3 Advantage",
          "Text": "Hi everyone, Just checking if the Microsoft Teams Assignment LTI v1.3 Advantage has been implemented in Moodle? The overview article is here https://learn.microsoft.com/en-us/microsoft-365/lti/?view=o365-worldwide#teams-assignments-lti . It mentions Canvas and Schoology, but not specifically Moodle. We are keen to connect our Microsoft Teams classroom assignments with Moodle. Thanks! Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 8, 2024, 8:43 AM",
          "AuthorName": "Michael Woods",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=285779&course=5",
          "role": [
            "Picture of Michael Woods",
            "Picture of Core developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Teams Assignment LTI v1.3 Advantage",
          "Text": "For reference LTI integrations generally dont require any implementation in an LMS. That said the MS Teams assignment LTI uses some non-standard extensions provided by Canvas and Schoolology to achieve the way their assignments LTI works.  I dont believe it will work with Moodle because of this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 8, 2024, 9:25 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 398080,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=398080",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Whitelabel Error Page",
          "Text": "Im getting a this error when I add to the external tool. We wanted to partner up with elsevier and they gave us a url for the lti tool to work however Im getting this message: Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback. Mon Mar 09 16:44:40 GMT 2020 There was an unexpected error (type=Method Not Allowed, status=405). Request method 'GET' not supported Elsevier support can't also find the problem. I tried doing it on moodle versions 3.2 up to 3.5.10 but the error still persists. Hope I can get help with this problem thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 10, 2020, 12:49 AM",
          "AuthorName": "J Doe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2936385&course=5",
          "role": [
            "Picture of J Doe"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 204394,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=204394",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External task with no authentication required.",
          "Text": "We have a developed a Flash hazard identification tool that we would like to link into a course. Before now we used to link our tool to Moodle through adding a URL resource, though there was never any way to know if the student had found all of the hazards within the environment. The tool we have created displays a congratulations button once all hazards have been found, so I'm curious if this could tell Moodle that the task was completed, maybe that continue button just links to an exam. The tool look like this: http://www.clients.tourvista.co.uk/vt/elearning/domestic/kitchen/ Any ideas how I could achieve this? Cheers Tom",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 8, 2012, 10:38 PM",
          "AuthorName": "Thomas Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1460072&course=5",
          "role": [
            "Picture of Thomas Williams"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 343850,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=343850",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Posting ToolProxy after registration request",
          "Text": "Hi all, I'm currently developing a lti provider for moodle. Whenever I'm posting a ToolProxy (after getting a registration request), I'm getting bad request from moodle. As I understand, the json I'm sending doesn't have all the properties needed for the ToolProxy, and that's why I'm getting this error from moodle. The problem is, I don't know what I'm missing (I won't copy it here because it VERY long). Is there any why I can get the logs from moodle server to check what the problem is (I'm running moodle on localhost)? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 3, 2016, 5:46 PM",
          "AuthorName": "Yonathan b",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2167605&course=5",
          "role": [
            "Picture of Yonathan b"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 462551,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462551",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle support for LTI postmessage",
          "Text": "We have build a cookieless LTI using the LTI postmessage spec. https://www.imsglobal.org/spec/lti-pm-s/v0p1 We use this for LTI authentication when users use Safari or do not accept 3rd party cookies. This works fine in Brightspace, but it doesnt seem to work out of the box in Moodle. After some digging I found https://tracker.moodle.org/browse/MDL-72022 . So apparently Moodle does not support this yet. Is there an estimation when this is coming? This might become problematic quite soon when Chrome decides to stop just warning and start enforcing 3rd party cookie limitations.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 2, 2024, 8:57 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle support for LTI postmessage",
          "Text": "There is currently a large piece of work to migrate the LTI implementation into a core subsystem from being a module.  This is targeted for Moodle 5.0. The cookie shim work can't be done until this is complete but given the move toward blocking cookies for a number of browsers it will likely be looked at mid next year.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 3, 2024, 8:46 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle support for LTI postmessage",
          "Text": "Hi Tom, I'd just like to point out that, right now, that's not strictly a blocker to tool use in Safari. Of course if you've built the tool around that spec, then it is. Ideally, you'd be able to support the Storage Access API ( https://developer.mozilla.org/en-US/docs/Web/API/Storage_Access_API ) to include users in the process and allow them to opt in to the cookie storage, and you'd be fine without the need for any optional specs like this. Also, the Google/Chrome situation is a bit of a mess, yes, but also not a blocker at present. They've recently changed tack and left behind their original plans but haven't yet, afaik, provided any clear path forward. Right now, however, CHIPS works fine and allows embedded tools.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 3, 2024, 9:05 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle support for LTI postmessage",
          "Text": "Hi Brett, Jake, I understand that there are different options for chrome, but the reason for the LTI spec existing is of course that you can implement the spec and that it then works safely in all platforms that support it. So we're not really keen to create a separate implementation for Moodle. I think for now we'll need to accept that safari is not support on moodle for the time being.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 3, 2024, 3:18 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458450,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458450",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Error \"The param 'clientid' is required. Calling code ...\"",
          "Text": "Hello, I have to open a moodle course from an external application. I publish the course as LTI tool and get this launch url : https://my-moodle.com/enrol/lti/launch.php ?id=b4f49ad4-de0b-426c-a8a8-4b53ba5944d1 I created a plateform on moodle plateformId : https://c481-2a01-cb10-9640-b400-1b4-29d8-1bb3-c599.ngrok-free.app clientId: test_client_id authent request : /lti/auth public key set : /lti/certs acces_token_uri : /lti/token I made a deployement on this plateform I sent a login request like that : curl -- location ' https://my-moodle.com/enrol/lti/login.php?id=56023cc78e5651cf34f1440a70831aed7b2e98313b975bb68cabb593cf03' \\ -- header 'Content-Type: application/x-www-form-urlencoded' \\ -- data-urlencode 'iss= https://c481-2a01-cb10-9640-b400-1b4-29d8-1bb3-c599.ngrok-free.app ' \\ -- data-urlencode 'client_id=test_client_id' \\ -- data-urlencode 'login_hint=2' \\ -- data-urlencode 'lti_message_hint=' \\ -- data-urlencode 'target_link_uri= https://my-moodle.com/enrol/lti/launch.php' I'm receiving a good callback request and I'm creating an id_token : { nonce: request.query.nonce , sub: '6' , // an existing uer iat: Math.floor(Date.now() / 1000 ), exp: Math.floor(Date.now() / 1000 ) + 60 * 60 , iss: ' https://c481-2a01-cb10-9640-b400-1b4-29d8-1bb3-c594.ngrok-free.app ' , aud: 'test_client_id' , ' https://purl.imsglobal.org/spec/lti/claim/deployment_id' : '2' , // this id is the last application deploiement ' https://purl.imsglobal.org/spec/lti/claim/message_type' : 'LtiResourceLinkRequest' , ' https://purl.imsglobal.org/spec/lti/claim/roles' : [ ' http://purl.imsglobal.org/vocab/lis/v2/membership#Learner ' // the existing user is a learner ], \" https://purl.imsglobal.org/spec/lti/claim/version \" : \"1.3.0\" , \" https://purl.imsglobal.org/spec/lti/claim/resource_link \" : { id: 'b4f49ad4-de0b-426c-a8a8-4b53ba5944d1' , }, \" https://purl.imsglobal.org/spec/lti/claim/custom \" : { id: 'b4f49ad4-de0b-426c-a8a8-4b53ba5944d1' , }, \" https://purl.imsglobal.org/spec/lti/claim/target_link_uri \" :' https://my-moodle.com/enrol/lti/launch.php ?id=b4f49ad4-de0b-426c-a8a8-4b53ba5944d1' } I sign the token with the private links to the jwks exposed I send the post request : POST ' https://my-moodle.com/enrol/lti/launch.php ?id=b4f49ad4-de0b-426c-a8a8-4b53ba5944d1' --headers : 'Cookies : session, state' --headers : 'Content-Type : application/x-www-form-urlencoded' --data-urlencode : 'id_token=token' --data-urlencode : 'state=state' --data-urlencode : 'launchid= b4f49ad4-de0b-426c-a8a8-4b53ba5944d1' --data-urlencode : 'client_id=test_client_id' Moodle seems to validate the sinature But the clientId disapear in the operation I get this error : The param 'clientid' is required. Calling code must either pass in 'client_id' (generated by the platform during registration) or 'id' (found in the initiate login URI created by the tool) to identify the client. I try to play with id, launchid, send client_id on url querystring but the error is the same. I will really appreciate any kind of support Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 14, 2024, 4:19 PM",
          "AuthorName": "Thomas Dupont",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6256688&course=5",
          "role": [
            "Picture of Thomas Dupont"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error \"The param 'clientid' is required. Calling code ...\"",
          "Text": "Is there an 'aud' parameter included your token? And the cookies you're sending on that last request are good? The error is thrown at lib/lti1p3/src/LtiMessageLaunch.php if that helps your diagnosis.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 15, 2024, 1:37 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error \"The param 'clientid' is required. Calling code ...\"",
          "Text": "Hello, Thanks I solved my issue, the problem here is that we have to pass through the browser to proceed, not on server side",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 16, 2024, 12:37 AM",
          "AuthorName": "Thomas Dupont",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6256688&course=5",
          "role": [
            "Picture of Thomas Dupont"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429020,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429020",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Multiple grade back to External LMS through LTI",
          "Text": "Hi everyone, We have published a course and integrated it to external LMS. For grade sync, we have enabled required scheduled tasks. Through this we are able to fetch aggregate score for the course. We are now trying to achieve multiple grades to be sent back to external LMS. Not knowing how to move this posting this for new ideas to be implemented. Thanks much, Janvi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 12, 2021, 6:14 PM",
          "AuthorName": "Janvi MDL",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4158814&course=5",
          "role": [
            "Picture of Janvi MDL"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Multiple grade back to External LMS through LTI",
          "Text": "Hi Janvi, At present, Moodle can't pass back multiple grades for individual line items when a course is published. This could perhaps be implemented as an improvement in 4.1, on top of the LTI 1.3 work which is due to land in 4.0. I'd imagine it would be nice to be able to configure whether or not you'd like a published course to create line items for each activity/resource (and post associated scores), or whether just the course total is sufficient. Create an issue in our tracker with the \"LTI provider\" component set on it and link it here if you like! Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 16, 2021, 11:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 225436,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=225436",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Using Moodle as an LTI provider issues",
          "Text": "Hi all I am developing a third party application that will use Moodle as an LTI provider.  I have installed Moodle 2.2 and the associated LTI plugin.  I have created a course and the \"LTI Provider\" option appears in the Course menu as expected.  I have created a forum and made it available through LTI.  I have an ID and a \"Shared Secret\".  These are as follows: Shared secret = 93eeb5a58b6cec0994efd87d2c56201b and Launch URL =http://localhost:8888/moodle22/local/ltiprovider/tool.php?id=3 Now using the test lms.php which comes with the LTI plugin  I configure the Launch URL as above and the \"Key\" to the \"Shared Secret\" above. I actually set the \"Secret\" to nothing.  When I launch I get the following error: \"Access to the tool is disabled\" Can anyone please shed some light on what I am doing wrong or share an example LTI client that works? Thnakyou in advance David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 26, 2013, 9:54 AM",
          "AuthorName": "David Miron",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1582900&course=5",
          "role": [
            "Picture of David Miron"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using Moodle as an LTI provider issues",
          "Text": "Hi David, I have not used the lms.php test script but we have a python app that uses moodle as an lti provider. We set secret to a value we came up with on the consumer side. As of now, the secret can be anything as long as it isn't empty. As long as you provide the correct shared secret the consumer secret contents does not matter as long as it has something in it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 1, 2013, 10:37 PM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 314563,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314563",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Is it possible to use LTI Provider tool to create content in LTI Consumer tool?",
          "Text": "Hi everyone! I am looking at LTI specification and cannot find the answer for my question. (maybe I missed something) Is it possible to pass created content (for instance learning courses) from LTI Provider to LTI Consumer tool? For example if provider tool allows to create learning courses, is there defined by the specification way to pass created course to LTI Consumer tool (moodle)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 2, 2015, 9:40 PM",
          "AuthorName": "ntl ntl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1960248&course=5",
          "role": [
            "Picture of ntl ntl"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is it possible to use LTI Provider tool to create content in LTI Consumer tool?",
          "Text": "Hi ntl, did you found the answer to your question? I'm trying to do the same, I have 2 instances of Moodle and I want to use the created content in one to the other. Please let me know if you know how to do it with the LTI provider plugin. Thanks in advance! Paula.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 21, 2015, 8:58 PM",
          "AuthorName": "Paula Ardanza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1770946&course=5",
          "role": [
            "Picture of Paula Ardanza"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429772,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429772",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI on Moodle 3.11.4 (Build: 20211108)",
          "Text": "Hi guy I am trying to set up my moodle as LTI provider and another identical installation as LTI consumer. I followed all the steps and on the moodle provider platform I enabled LTI under Site administration> Plugins> Authentication> Manage authentication and enable LTI and also Site administration> Plugins> Enrolments> Manage enrol plugins and enable 'Publish as LTI tool'. Created a course on my LTI provider platform, added LTI authentication, generated URL cartridge and secret key to access the entire course. On the Moodle LTI consumer platform I entered the external Tool resource and configured the URL and the secret key ..... But when I launch the external tool I get the error \"An error occurred when launching the external tool:\" Sorry, there was an error connecting you to the application. \" I tried to do it both in iframe (I had also enabled the Allow frame embedding item) but it gives the same error. If I edit the external tool I see that it has recognized the launch links of the type https: //...../enrol/lti/tool.php? Id = 2 It all seems correct, but there is no way to make it work. Some idea? I've tried them all or almost evidently. Thank you all",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 7, 2021, 9:07 PM",
          "AuthorName": "Francesco S.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1900026&course=5",
          "role": [
            "Picture of Francesco S."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI on Moodle 3.11.4 (Build: 20211108)",
          "Text": "Hi Francesco, Sorry to hear you're having trouble. Please see this post: https://moodle.org/mod/forum/discuss.php?d=429430 where a similar issue is being reported by Eugen, albeit in a different version of Moodle. I am so far unable to replicate the issue reported there. I'd also suggest making sure you've tried launching in a new window/tab (just to rule it out) and also making sure your 'blockedhosts' setting isn't preventing the connection (I don't think this is the case here, but worth ruling out nonetheless). If you control both sites, and have the skills to debug, I'd recommend stepping through a launch in the tool code (xdebug with breakpoints in enrol/lti/tool.php) and working out where the launch failure is happening. Without that, it's tricky to guess which part of the launch is causing the issue. The error is likely generated in ToolProvider->result() but that is just a summary of an earlier failure, perhaps something in the onLaunch method of the tool_provider class. Hopefully some others have run into this before and are able to provide some assistance. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 8, 2021, 10:13 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: LTI on Moodle 3.11.4 (Build: 20211108)",
          "Text": "HI Jake, unfortunately I can't do hard debugging because the installation is not local but on hosting. But I can enable debugging and check for errors from the server log (the few that I am allowed to see). I have already done the rest of the tests .. I had already read Eugen's post and it didn't give me any solution. If I find any logs on the hosting service I try to post them.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 10, 2021, 12:01 AM",
          "AuthorName": "Francesco S.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1900026&course=5",
          "role": [
            "Picture of Francesco S."
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 232306,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232306",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Where do you set allowinstructorcustom?",
          "Text": "I need to send custom LTI parameters and it looks like this tracker item addresses it: https://tracker.moodle.org/browse/MDL-32301?page=com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:dvcs-commits-tabpanel The code looks like it checks the value but there is nowhere in moodle to enable/disable this flag.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 11, 2013, 4:24 AM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 389886,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389886",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Provider: Publish course as LTI by WebService",
          "Text": "I need to Publish As LTI by using Web Service. Cannot figure it out. Could anyone get me the direction for the research? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 20, 2019, 9:15 PM",
          "AuthorName": "Tatiana Minina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2433322&course=5",
          "role": [
            "Picture of Tatiana Minina"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider: Publish course as LTI by WebService",
          "Text": "Wrote the custom external functions, just in case anyone needs... /* GENERATE LTI CODE FOR THE COURSE */ public static function add_lti_course_code_parameters() { return new external_function_parameters( array( 'schoolname' => new external_value(PARAM_TEXT, 'The School Name', VALUE_REQUIRED), 'courseid' => new external_value(PARAM_INT, 'The ID of the Course', VALUE_REQUIRED), 'startdate' => new external_value(PARAM_INT, 'The startdate (timestamp) of the new Course', VALUE_REQUIRED),",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 23, 2019, 3:03 AM",
          "AuthorName": "Tatiana Minina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2433322&course=5",
          "role": [
            "Picture of Tatiana Minina"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 275989,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=275989",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Two moodle platforms do not exchange grades",
          "Text": "Hi, I'm trying to connect two instances of Moodle 2.6 through the use of LTI External tool. LTI consumer can launch quiz on the provider. However, grades are not passed to the consumer. I tried everything I found on the other discussions that might be related to the issue. Web services are enabled on both platforms. Consumer is set to accept grades from the tool. I tried to turn on Debugging to Developer, but it doesn't show any error. Does anyone have idea what else could be the problem. Thanks, Zoran",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 1, 2014, 9:43 AM",
          "AuthorName": "Zoran Jeremic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1758822&course=5",
          "role": [
            "Picture of Zoran Jeremic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 460534,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460534",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle as a tool: Using LTI 1.1 and 1.3 at the same time",
          "Text": "Hi, We use \"moodle as a Tool\" to use moodle quizzes in our LMS platform where the moodle quizzes provide a specialised question type we don't otherwise have (specifically the mathematical STACK question type). We currently use Blackboard as the platform with an LTI 1.1 integration to moodle (quizzes) as a tool. We are in the process of migrating our LMS to Canvas and will set up an LTI 1.3 integration from Canvas as the platform to the same moodle environment as the tool. My question is can we use moodle as a tool with both LTI 1.1 and LTI 1.3 integrations running at the same time to two different LMS platforms without there being any impact on either LMS integration? My expectation is that as a taught course is moved from Blackboard to Canvas, teaching staff will stop using LTI 1.1 on Blackboard and then setup new LTI 1.3 integrations on Canvas. Are we best to delete/disable the Legacy LTI (1.1) published tool integrations in moodle as the new LTI 1.3 integrations are setup in the new Canvas platform or does this not matter? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2024, 8:01 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle as a tool: Using LTI 1.1 and 1.3 at the same time",
          "Text": "Hi Stuart, Yes, it's absolutely possible to consume the same resource (course or activity) over both 1.1 and 1.3 at the same time. You'll just end up with two enrolment methods in that course, both of which will facilitate access to the same quiz. Ideally, you'd want to either time box or remove the legacy instances, but that's more about keeping things tidy rather than for any technical reason. There's no reason they can't co-exist side by side like this. In fact, it was designed like this to allow progressive adoption without impacting existing uses. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 9:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle as a tool: Using LTI 1.1 and 1.3 at the same time",
          "Text": "It does help, thank you. Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 3:55 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 309306,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=309306",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Consumersite (not Moodle) not able to provide required Moodle fields",
          "Text": "Hi, I am using Moodle 2.6 as LTI provider (through the LTI provider plugin). The consumer site is another LMS where they implemented LTI. This consumersite does only have Fullname and no separated fields for Firstname + Lastname. On launching the link from the consumer you end up on the Moodle profile page requiring to add your Lastname. Once added you can save your profile and can find your course. The data is stored in the Moodle database on provider end. However if you launch the link from the consumer again Lastname is empty again and requires you to add this again. This keeps occuring every you launch from consumer end. I assume this is because firstname, lastname, email are required fields for Moodle? What can be done on either consumer or provider end to prevent this behaviour?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 18, 2015, 7:02 PM",
          "AuthorName": "Peter Jonker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=851251&course=5",
          "role": [
            "Picture of Peter Jonker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 359015,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359015",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI subplugin questions",
          "Text": "Hi! I've been trying to create an LTI subplugin in order to send the LTI provider some additional information that is not sent by default in Moodle's LTI activity (in particular, the system context role of a user). I understand I can do this by implementing the ltisource_pluginname_before_launch() callback. Is there a better way to do this rather than creating an LTI subplugin? Also, I want to display this as a new activity in the activity chooser. Till recently, this was done using the get_types() callback. This function allowed to display new LTI activities in the file chooser while leaving the default or original one intact and still present and visible in the activity chooser. However, get_types() is deprecated and now we should use get_shortcuts(). This function seems to only allow replacing the original LTI activity by the one defined by the subplugin. This looks bad because in a typical scenario people would like (I do, at least) to have the sub-plugin modified LTI activity while the original, default LTI activity is still available for use. Is there a way to do this with get_shortcuts()?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 25, 2017, 7:39 PM",
          "AuthorName": "Luis de la Torre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1291642&course=5",
          "role": [
            "Picture of Luis de la Torre"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI subplugin questions",
          "Text": "By the way, regarding the problem adding LTI subplugins in the activity chooser, you can also follow this: https://tracker.moodle.org/browse/MDL-60223",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 26, 2017, 3:46 PM",
          "AuthorName": "Luis de la Torre",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1291642&course=5",
          "role": [
            "Picture of Luis de la Torre"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 359411,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359411",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.2 fails to accept grade on first submission of assignment",
          "Text": "I use Moodle 3.2 as a Tool consumer and use it to open an external Tool provider to do an exercise and get back the grade. The Tool provider uses LTI library from IMS Global ( https://github.com/IMSGlobal/LTI-Tool-Provider-Library-PHP ). The submission of grade back to Moodle always fail upon the first submission (no matter who the student is), but successful for other submissions afterwards. When it fails I can find some error logs below: PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 89 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 90 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 90 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 91 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 91 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 92 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 92 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 93 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 136 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/locallib.php on line 1689 PHP Notice:  Trying to get property of non-object in .../htdocs/moodle/mod/lti/servicelib.php on line 144 Is it that moodle fails to setup something upon the first receipt of grades? Adrian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2017, 4:23 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 461948,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461948",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle and CeLTIc score sending",
          "Text": "I am using Moodle as platform and my tool is in Laravel. I use the CeLTIc framework to communicate. I am trying to send back the scores of my tool to the platform. Using ltiMessage, I store the resourceLinkId and userResultId in session. I then retrieve that in the scoring function at the end of the use of my tool. \n```text\n                $score = 100;\n\n\n                $pointsPossible = 100;\n\n\n                $activityProgress = 'Submitted';\n\n\n                $gradingProgress = 'FullyGraded';\n\n\n                $outcome = new Outcome($score, $pointsPossible, $activityProgress, $gradingProgress);\n\n\n                $outcome->comment = '';\n\n\n                $ok = $tool->resourceLink->doOutcomesService(ServiceAction::Write, $outcome, $tool->userResult);\n\n\n                Log::info('doOutcomesService');\n\n\n                if ($ok) {\n\n\n                    Log::info('Result sent to LMS: ' . json_encode($outcome));\n\n\n                    return Helper::SUCCESS;\n\n\n                } else {\n\n\n                    Log::info('Result failed to sent to LMS: ' . json_encode($outcome));\n```\n However, the doOutcomesService function returns false, due to doScoreService returning false (ResourceLink.php). This is because `$http = $scoreService->getHttpMessage();` returns false with this error message: `{\"ok\":false,\"request\":null,\"requestHeaders\":[],\"response\":null,\"responseHeaders\":[],\"relativeLinks\":[],\"status\":0,\"error\":\"Unable to obtain an access token for scope: https:\\/\\/purl.imsglobal.org\\/spec\\/lti-ags\\/scope\\/score\"}` I understood that this token was automagically retrieved using the jwks funtionality. Additionally, I have set the required_scopes in the config/lti.php file to match the above required scope (score). In Moodle, I see that the client (the owner of the platform) has set the public keyset of the tool to: [his own site]/mod/lti/certs.php and Public Key type to keyset URL . Maybe that setting is incorrect?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 12, 2024, 5:00 AM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle and CeLTIc score sending",
          "Text": "I'd check the scopes being send by the platform, to the tool, in the launch JWT (id_token). These are the scopes available for the respective services and will live inside the service claims (e.g. the AGS claim). It's possible you've configured the tool incorrectly in the platform (e.g. without AGS service support), and you're just not able to post scores (thus get that error when trying to get a token to post scores) - but that's just a guess of course. And of course, I've no experience with that tool library; the problem could be there too.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 10:35 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421440,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421440",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Cannot translate preconfigured tool name and description",
          "Text": "When I try to add multilang spans to my tool name and description, these are not working. They are not even shown in strings. How can I obtain name and description in different languages for my preconfigured tool? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 26, 2021, 11:45 PM",
          "AuthorName": "Chiara Di Terlizzi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4053279&course=5",
          "role": [
            "Picture of Chiara Di Terlizzi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cannot translate preconfigured tool name and description",
          "Text": "Hi Chiara, We would like for this to support multilang, however, the issue that proposed this ( https://tracker.moodle.org/browse/MDL-60595 ) needed more work, and was reopened. Please feel free to add your +1 to that issue in hope Luca will pick it up again and get it over the line. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 3:59 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Cannot translate preconfigured tool name and description",
          "Text": "I voted, thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 5:15 PM",
          "AuthorName": "Chiara Di Terlizzi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4053279&course=5",
          "role": [
            "Picture of Chiara Di Terlizzi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454675,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454675",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Removal of LTI from Courses",
          "Text": "Hi, I am hoping somebody might be able to help me out here. We have a number of preconfigured tools which can be added to courses using the external tool dropdown menu. However we now wish to remove one completely from our site. If I just remove the configured LTI from the list of external tools any instance of this tool on a course shows an error. I would like to know how best to remove these from our site. I have a list of all instances of where the tool is used and I could manually delete them however there is over 500 instances. I know I can also remove these from the MDL_LTI table however I am unsure if this would cause any other issues. Would anybody be able to suggest the best way of removing multiple instances of an LTI. Currently our site is on 4.1.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2024, 7:26 PM",
          "AuthorName": "Michael Clark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6059522&course=5",
          "role": [
            "Picture of Michael Clark",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Removal of LTI from Courses",
          "Text": "Hi Michael, Unfortunately, this kind of thing doesn't exist yet. You can see the number of tool uses on the tool card in \"site admin > manage tools\", but that's just a number; it won't take you anywhere that lets you do things with those usages in bulk (like delete them, for example). You can just hide the tool, so that it is no longer visible in the activity chooser, but this won't prevent existing resource links from working. If that suits your needs, you can just set the \"Tool configuration usage\" to \"Do not show; use only when a matching tool URL is entered\" via the tool settings at site admin. Of course this doesn't deal with removing all the links, which I think is more what you were after. If you feel up to creating a tracker issue for this, I'm sure it would be welcomed. Many thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 9:51 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Removal of LTI from Courses",
          "Text": "Hi Jake, Thank you for your reply, I thought that would be the case as I couldn't find anything. Like I said I could remove these from the Database but that seems to be slightly to destructive for me at this time. I will create a tracker for this, as I think this would be a great addition and may save me in the future if I need to remove one of my LTI tools that have over 1000 instances. Do you have any advice or documentation for creating a new tracker issue? As this would be my first. Thanks, Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 25, 2024, 5:23 PM",
          "AuthorName": "Michael Clark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6059522&course=5",
          "role": [
            "Picture of Michael Clark",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Removal of LTI from Courses",
          "Text": "Hi Michael, I'd suggest taking a look at https://moodledev.io/general/development/tracker . Make the issue type \"Improvement\", and set the component to \"LTI External tool\" and try to explain the problem clearly. Then we'll find it and triage it shortly. Many thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 29, 2024, 10:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Removal of LTI from Courses",
          "Text": "Hi Michael, Could you share the tracker link here once it is created? I'd like to follow it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 9, 2024, 12:45 AM",
          "AuthorName": "Melissa Fuller-Killgore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2749144&course=5",
          "role": [
            "Picture of Melissa Fuller-Killgore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Removal of LTI from Courses",
          "Text": "Hi Melissa, Whoops! I forgot to link it back here during triage. Thanks for the bump. See MDL-80801 Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 9, 2024, 9:16 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352491,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352491",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "lti provider \"you cannot enrol yourself in this course\"",
          "Text": "Hello, I have this really, really weird problem, of which I can't seem to find an answer. hopefully you can help me: I have 3 different Moodle environments, of which 2 have the plugin \" local LTIprovider \". lets call these provider A & provider B . The third site is the consumer , so lets call it like that. Both provider sites are on the same server . Both provider sites were Moodle 2.9 , consumer site is 3.1.5. Both provider sites have the same course, and I created a LTI link with exactly the same settings for the both of them. When I put them in the consumersite, I can enter the courses with a student account. So far so good.. Now here comes the weird part: After upgrading both provider sites to Moodle 3.1.5, when trying to enter the LTI course on provider A, I get the message \"you cannot enrol yourself in this course\". When trying to enter the same course on provider B, it enters the course normally. So I have a problem on provider A. Steps taken to solve the matter myself: Reset all roles to their standard: no change Install \"block_admin_preset\" on both sites, export on provider B & import on provider A: no change On the server (I have SSH access to the server) deleted the code from provider A (except the config.php) and copied the code from provider B to the folder of provider A: no change Manually checked all settings in the course on both provider sites: the were all the same checked the links from local_ltiprovider on privder A and provider B: all settings are 100% the same. As you might understand I'm kinda confused about this issue.. Do you have any ideas how to solve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 11:06 PM",
          "AuthorName": "Daniel Dubbeldam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1719465&course=5",
          "role": [
            "Picture of Daniel Dubbeldam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: lti provider \"you cannot enrol yourself in this course\"",
          "Text": "so I did some research myself again today, and I have found the solution. apparently someone had bumped the version of the local_ltiprovider to 2014080103. in the update code from the local_ltiprovider it says this: \n```text\nif ($oldversion < 2014080103) {\n\n\n        $table = new xmldb_table('local_ltiprovider');\n\n\n        $field = new xmldb_field('enrolinst', XMLDB_TYPE_INTEGER, 2, XMLDB_UNSIGNED, XMLDB_NOTNULL, null, 1, 'requirecompletion');\n\n\n        if (!$dbman->field_exists($table, $field)) {\n\n\n            $dbman->add_field($table, $field);\n\n\n        }\n\n\n        $field = new xmldb_field('enrollearn', XMLDB_TYPE_INTEGER, 2, XMLDB_UNSIGNED, XMLDB_NOTNULL, null, 1, 'enrolinst');\n\n\n        if (!$dbman->field_exists($table, $field)) {\n```\n This means that, since our version was 2014080103, the columns \"enrollearn\"  and \"enrolinst\" were not created. This caused the site to not allow users to enter the course. Solution was to revert the version.php of the old local_ltiprovider back to 2014080102, and change the version in mdl_config_plugins also back to 2014080102. this way, we could upgrade the site with the new code, and since the ltiprovider is now below 2014080103, it was upgraded the right way, with the creatoion of \"enrollearn\"  and \"enrolinst\".",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 23, 2017, 4:55 PM",
          "AuthorName": "Daniel Dubbeldam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1719465&course=5",
          "role": [
            "Picture of Daniel Dubbeldam"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: lti provider \"you cannot enrol yourself in this course\" [Solved]",
          "Text": "Daniel, good to hear you figured out the solution. Thanks for sharing it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 23, 2017, 4:58 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453577,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453577",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 and Elecdute",
          "Text": "Hi, \n```text\nDoes anyone use Elecdute program with LTI 1.3 connection to Moodle.\nHow to get information about each Elecdute module for the assessment book. How do I edit the Moodle assessment book so that this is successful?\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 14, 2023, 10:43 PM",
          "AuthorName": "Tapio Varis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=479490&course=5",
          "role": [
            "Picture of Tapio Varis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 318532,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318532",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI provider & Launch course from external website",
          "Text": "Hi All I have installed LTI provider plugin in my moodle website. I have different courses with SCORM content. Can anybody tell me how can i launch my course on external website? I want to run course on external website so user can attempt course without moodle interface and login into moodle. Thanking in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 19, 2015, 3:35 PM",
          "AuthorName": "pratik patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1974563&course=5",
          "role": [
            "Picture of pratik patel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 229118,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229118",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI Plugin between Moodle 2.4",
          "Text": "Hi every one, I just started to work with Moodle 2.4.3 as a LTI  provider, and also Moodle 2.4.3 as client, I followed the instructions to install and setup the LTI provider plugin, however i have two problems: 1. when i created an activity \"external tool\" in the moodle client from the course with the link http://mymoodleltiprovider/local/ltiprovider/tool.php?id=1 and the shared secret i got the message: \"Invalid signature ours= JOxr4h7Io61VMnChj0dEWqQT+Mo= yours=cWs+r9tV6J+7dnK5n8GGbDLEif4=\" and both strings changes every time that i reload the page. 2. When i created an activity \"external tool\" just using one activity from my moodle provider y got: \" Firefox has detected that the server is redirecting the request for this address in a way that will never complete\" redirecting to \"http://mymoodleltiprovider/enrol/index.php?id=2\" There is something that i miss?, i followed the instructions in the pugin rewiew on http://www.somerandomthoughts.com/blog/2012/01/08/review-lti-provider-for-moodle-2-2/ , using in the consumer key the same value of the shared secret, some random characters and a empty string. thanks for your help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2013, 5:47 AM",
          "AuthorName": "Jairo Andrés Franco",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=758117&course=5",
          "role": [
            "Picture of Jairo Andrés Franco"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Plugin between Moodle 2.4",
          "Text": "Maybe I'm mis-understanding, but it sounds like you are trying to use the LTI External Tool to the Provider on the same server.  Is that correct? Might not be able to use External tool and link to the Provider on the same server. Here's one to 'play with': http://elearn.tcea.org/local/ltiprovider/tool.php?id=1 Consumer key: e00f6c053bfd358d29fc3738baf53474 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2013, 7:39 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Plugin between Moodle 2.4",
          "Text": "Thank you Ken, the example to play works perfectly. Right now my LTI prvider is on a different server; i don't know if i miss some configuration or the fact that i am also using mi LTI provider as a HUB Regards,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2013, 12:30 AM",
          "AuthorName": "Jairo Andrés Franco",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=758117&course=5",
          "role": [
            "Picture of Jairo Andrés Franco"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Plugin between Moodle 2.4",
          "Text": "'using mi LTI provider as a HUB' ... like a true Moodle 2 HUB? I've noticed this ... LTI link from Moodle A to Moodle B.  Am the Administrator of both Moodles.  If I've been tinkering with the LTI External link tool on Moodle A, and then see I'd like to change something on Moodle B (the LTI provider), browser has gotten cookies or something that affects my direct interaction with Moodle B in a new browser window.  Only way to do that is logout, clear browser cache if using same browser OR use a different browser. Haven't tried to combine the HUB I run with courses that also have LTI Provider.  So you may have stumbled upon a combo that conflicts but maybe only for admin users who might be into both systems using the same browser. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2013, 1:28 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Plugin between Moodle 2.4",
          "Text": "One of the first errors that i got was that i was using the same browser for both installations and logged as administrator, but as soon as i changed that i got the responses that i wrote in the first comment. Finally i got access to the LTI provider and i set the option of display all the errors and i have this: \" textlib_get_instance() is deprecated. Please use static calling textlib::functioname() instead.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2013, 3:27 AM",
          "AuthorName": "Jairo Andrés Franco",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=758117&course=5",
          "role": [
            "Picture of Jairo Andrés Franco"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Plugin between Moodle 2.4",
          "Text": "Hmmm ... judging from the errors show appears to be Windows.  And did you obscure the URL http://myltiprovider/? Is a Windows type shortcut URL and the other systems/browsers on different networks might have some issues with that. And ... 'some random characters and a empty string' ... when I setup an LTI provider thang, there is a shared key generated.  Maybe that's the issue ... in the first posting ... ie one of those 'invalid signatures' the 'random characters' you created? It wouldn't hurt to check the plugins out to see if there is an updated version of LTI Provider. Current version: 2.2 (2011121706) for Moodle 2.0, 2.1, 2.2, 2.3, 2.4 https://moodle.org/plugins/pluginversions.php?plugin=local_ltiprovider 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2013, 4:16 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421351,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421351",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI authentication not working when embedded; allow frame embedding enabled",
          "Text": "Hi All, I'm facing this problem regularly and still cannot find a solution; also not in https://moodle.org/mod/forum/discuss.php?d=345828 . We are running 2 Moodle 3.9 websites; both HTTPS. The LTI provider published a whole course. This website used a normal moodle theme (boost) (so no probem with favicons) All settings are done as decribed in moodle docs : Enable LTI authentication plugin Enable Publish as LTI tool Allow frame embedding = On In the LTI consumer: Add external tool use cartridge URL and secret key use some text as consumer key launch container default or embed When I click on the external tool as a student, the login page of the LTI provider is shown. When I change the launch container to new window, I can directly access the content as expected. I tried the Saltire tool platform with my own LTI provider and the launch container embed. When I click on connect, this message is sent out: \n```text\nGET /tc-profile.php/sdd40c1026ba45a96721f49d3eb16ad24 HTTP/1.1\nAccept: application/vnd.ims.lti.v2.toolconsumerprofile+json\nHost: saltire.lti.app\n```\n Response: \n```text\nHTTP/1.1 400 Bad Request\nDate: Fri, 23 Apr 2021 08:24:18 +0000\n\nServer\n: \nApache\n\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\n\nCache\n-Control: no-store, no-cache, must-revalidate\nPragma: no-cache\n```\n Although it seems to work when opening in new window, we would like to use the content embedded. Is there anyone who could help?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 23, 2021, 4:34 PM",
          "AuthorName": "Jorine Koenderman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2705416&course=5",
          "role": [
            "Picture of Jorine Koenderman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI authentication not working when embedded; allow frame embedding enabled",
          "Text": "Hi Jorine, This seems related to another report - https://moodle.org/mod/forum/discuss.php?d=418339 . Can you add what browser you're using, whether you're running in incognito mode or not and whether this is a problem in other browsers? Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 18, 2021, 1:22 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 424647,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424647",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Integration question regarding Practice Labs",
          "Text": "Hi Perry, I've just realised that our docs perhaps don't clearly explain the process for manually setting up an external tool over LTI Advantage. It's basically a manual exchange of URLS between tool (Practice Labs) and platform (Moodle). The tool gives us some URLS (they will send these to you, or provide a means for you to access them within the tool site). You then create a tool definition in Moodle, at which point a client id (and, in Moodle's case, a deployment id) is generated. Finally, you update the tool with the platform information. See below for required steps: You'll need some information from Practice Labs first. They will provide you with: Tool URL Public Keyset URL (or a public key string, but likely the URL) Initiate Login URL Redirection URIs (there may be several) Content Selection URL (may not be provided) Once you've got that you'll go to Admin > Plugins > Activities > External tool > Manage tools and click \"Configure a tool manually\" Enter the information above into the relevant fields and save. You'll now see a tool entry listed on the resulting page. Click 'View configuration details' in the tool's tile. You will see a popup that contains the information you're looking for. You need to take this information and use it in the tool to complete the registration process. This is a cumbersome process, and that's why dynamic registration exists. I'd ask the tool provider if they support that too. Hope that helps. Let me know if anything is unclear. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 16, 2021, 8:42 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422136,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422136",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "\"guid\" parameter is missing from the LtiDeepLinking request payload in Moodle v3.8",
          "Text": "Moodle v3.8 LtiDeepLinking request payload is missing the LTI parameter called \"guid\" from \" https://purl.imsglobal.org/spec/lti/claim/tool_platform \" object. However, under the LTI 1.3 general payload, the parameter is available. In LtiDeepLinking request Payload: \" https://purl.imsglobal.org/spec/lti/claim/tool_platform \": { \"family_code\": \"moodle\", \"version\": \"2019111801.09\", \"name\": \"Moodle38PHP72PROD\", \"description\": \"moodle3.8 php7.2 prod\" } In LTI 1.3 general payload: \" https://purl.imsglobal.org/spec/lti/claim/tool_platform\": { \"family_code\": \"moodle\", \"version\": \"2019111801.09\", \"guid\": \"3plcgmoodleprd.prd-prsn.com\", \"name\": \"Moodle38PHP72PROD\", } Any idea why the parameter is not being passed? Is the \"guid\" parameter not considered as mandatory?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 12, 2021, 5:57 PM",
          "AuthorName": "Shanushika Iswera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4230448&course=5",
          "role": [
            "Picture of Shanushika Iswera"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"guid\" parameter is missing from the LtiDeepLinking request payload in Moodle v3.8",
          "Text": "Hi Shanushika, You're right in that 'guid' should be included if that claim is included (the claim is optional, however, the property is required if the claim is sent). The examples in Deep Linking 2.0 spec don't include this, which could be part of the reason why this was originally omitted (a guess). In any case, 3.8 is now out of support and this problem has been fixed in 3.9 onwards (see MDL-67612 ). Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 3:56 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449075,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449075",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 connection to External Tool cannot create Lineitem",
          "Text": "Hello, I am running Moodle 4.1 and trying to configure Turnitin as an external tool using LTI 1.3.  Everything seems to be configured correctly.  The handshake between Turnitin and my Moodle site worked, but when I try to create an assignment I get an error from Turnitin \"Unable to create lineitem container\". I checked the http request and I'm getting the following: \n```text\nHTTP/2 401 \n\nserver\n: nginx\ndate: Tue, 01 Aug 2023 15:29:50 GMT\ncontent-type: application/json; charset=utf-8\nx-httpd: 1\n\nhost\n-header: 8441280b0c35cbc1147f8ba998a563a7\nx-proxy-cache-info: DT:1\n\n{\n    \"status\": 401,\n    \"reason\": \"Unauthorized\",\n    \"request\": {\n        \"method\": \"POST\",\n        \"url\": \"/mod/lti/services.php/2/lineitems?type_id=6\",\n        \"accept\": \"*/*\",\n        \"contentType\": \"application/vnd.ims.lis.v2.lineitem+json\"\n    }\n}\n```\n In the tool configuration I have given the tool permission to manage grades and columns and accept grades from the tool.  I just can't seem to figure out what the problem is.  Any ideas? Brian Tittl \n```text\n\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 12:38 AM",
          "AuthorName": "Brian Tittl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2600825&course=5",
          "role": [
            "Picture of Brian Tittl"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 connection to External Tool cannot create Lineitem",
          "Text": "Hi Brian, Can you confirm whether the mod_lti instance settings (the activity settings, not the site-level tool configuration) has been setup to accept grades from the tool also? There is an option whereby this can be delegated to the teacher, so it's possible the instance has overridden this value. Worth checking before diving into this further, as the debugging in mod_lti is lacking. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 10:55 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 connection to External Tool cannot create Lineitem",
          "Text": "The instance settings are set up to accept grades from the tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 11:39 AM",
          "AuthorName": "Brian Tittl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2600825&course=5",
          "role": [
            "Picture of Brian Tittl"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 connection to External Tool cannot create Lineitem",
          "Text": "Thanks, Brian. Unfortunately, at this point, the only sure-fire way to know what's causing this is to debug the code handling the creation of lineitems, which requires stepping through the code. The point where the 401 is thrown is almost certainly this piece of code , however, there are a good number of checks being conducted inside that 'check_tool' method, any of which could result in the 401. Perhaps Turnitin would have an idea of what's causing the problem. Presumably they've verified their tool works with Moodle installs. Sorry I can't be of more help. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 12:48 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 373636,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373636",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "registration via LTI tool",
          "Text": "Hi, When, from a Moodle A, I visit a course in a Moodle B via the external LTI tool I then have access to all the courses (free access) of the Moodle B by clicking on the Home button. Do you know how to confine the student to the only Moodle B course? Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 21, 2018, 4:16 PM",
          "AuthorName": "Jean-Marc Doucet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=843142&course=5",
          "role": [
            "Picture of Jean-Marc Doucet",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 445921,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445921",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI grade sync not working",
          "Text": "I have a Moodle course published as LTI tool.  I have successfully launched and completed the course from the consumer application a few times.  Yet when the grade sync scheduled task runs, it does not send any results, and I see this in the log: Starting - Grade sync for shared tool '6' for the course '66'. Skipping - Empty sourceid for the user '378' in the tool '6' for the course '66'. Skipping - Empty sourceid for the user '376' in the tool '6' for the course '66'. Skipping - Empty sourceid for the user '375' in the tool '6' for the course '66'. Skipping - Empty sourceid for the user '374' in the tool '6' for the course '66'. Completed - Synced grades for tool '6' in the course '66'. Processed 4 users; sent 0 grades. I don't understand how sourceid can be empty.  Is it not populated from lis_person_sourcedid in the request?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 3:52 AM",
          "AuthorName": "Darin Stelting",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5571683&course=5",
          "role": [
            "Picture of Darin Stelting"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI grade sync not working",
          "Text": "Hi Darin, That param (lis_result_sourcedid) is an optional param in the basic outcomes launch, so it very well may not be sent by the launching application. Moodle handles this accordingly, by not setting it on the enrol_lti_user record. Grades can't be synced in this case, as you're seeing. Also, just pointing out that 1.1 and outcomes is deprecated now, so I'd strongly recommend moving over to LTI 1.3 when you can. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 10:20 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI grade sync not working",
          "Text": "Apologies, you seem to have misunderstood.  Moodle is complaining of \"Empty sourceid\".  I am asking how Moodle populates sourceid. These are the values in my request: name= ext_basiclti_submit value= Something name= ext_user_username value= user name= launch_presentation_document_target value= iframe name= launch_presentation_return_url value= foo.url name= lis_outcome_service_url value= https://eoljidknqpe0mkg.m.pipedream.net name= lis_person_contact_email_primary value= user2113@example.com name= lis_person_name_family value= Darwin name= lis_person_name_given value= Charles name= lis_person_sourcedid value= 1123511 name= lti_message_type value= basic-lti-launch-request name= lti_version value= LTI-1p0 name= oauth_callback value= about:blank name= oauth_consumer_key value= somevalue123 name= oauth_nonce value= 3924215557000 name= oauth_signature value= l9BF5Y935VlIyG5v2m+dleOIN18= name= oauth_signature_method value= HMAC-SHA1 name= oauth_timestamp value= 1681915848 name= oauth_version value= 1.0 name= resource_link_id value= 1 name= roles value= Student name= tool_consumer_instance_description value= description name= tool_consumer_instance_guid value= put your site url here name= tool_consumer_instance_name value= My glorious platform name= user_id value= 1123511",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 10:10 PM",
          "AuthorName": "Darin Stelting",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5571683&course=5",
          "role": [
            "Picture of Darin Stelting"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI grade sync not working",
          "Text": "I guess it was I who misunderstood - you're saying that lis_result_sourcedid populates sourceid?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 10:49 PM",
          "AuthorName": "Darin Stelting",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5571683&course=5",
          "role": [
            "Picture of Darin Stelting"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI grade sync not working",
          "Text": "Thanks Jake, Now I am receiving the grade sync. One other question, is resultScore always either 1 or 0? I was expecting a double value.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2023, 11:09 PM",
          "AuthorName": "Darin Stelting",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5571683&course=5",
          "role": [
            "Picture of Darin Stelting"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI grade sync not working",
          "Text": "Hi Darin, Glad you got it working. Re: above: Yes, lis_result_sourcedid populates the sourceid, but seems you're past that part now anyway. The grade value will be a fractional value between 0 and 1, representing the percentage grade. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2023, 9:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458954,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458954",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI AGS Grade Synchronization Issue",
          "Text": "Hi everyone, We are currently integrating an LTI tool (from a third-party provider) with our Moodle LMS (v4.2.1) using LTI 1.3, and we’re encountering an issue with grade synchronization. Here are the specifics: Issue Details Functionality : The LTI tool launches correctly, and authentication is successful (the content is set up to open in a new window). Grade Submission : Grades are being calculated on the third-party side, but they are not being passed back to Moodle. Grade Report : The activity appears in the Moodle grade report but shows no grade. Actions Taken Scheduled Tasks : Both \"Publish as LTI tool grade sync\" scheduled tasks are enabled and running. Logs indicate 1 Read and 0 Writes. Configuration : Verified that the LTI tool and activity are correctly set up to accept grades. User Roles : Tested with both student and admin roles to ensure proper role-based access and permissions. Observations It appears that while the tool is launching and authenticating correctly, the grade passback using LTI AGS is not occurring. We suspect that the outbound request for the grade is not being logged or sent from the third-party tool. They are currently debugging on their end. Request for Assistance We would appreciate any insights or suggestions on the following: Configuration Checks : Are there any specific configurations or settings within Moodle that we might have missed which could affect grade passback? Debugging Tools : Recommendations for tools or methods to track and verify LTI AGS calls within Moodle. Known Issues : Any known issues with LTI AGS grade synchronization that we should be aware of? Thank you for your support and assistance in resolving this issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 31, 2024, 1:08 AM",
          "AuthorName": "Memo Monge",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6487486&course=5",
          "role": [
            "Picture of Memo Monge"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI AGS Grade Synchronization Issue",
          "Text": "The scheduled tasks are unrelated, those are for Moodle sending grades if configured as an LTI Tool in another LMS, not receiving them from an LTI Tool. The next diagnostic step I'd do is to confirm that Moodle is getting AGS requests from the LTI tool by searching the web server logs. The AGS service is accessed at requests to endpoints like: /mod/lti/services.php/{courseid}/lineitems or /mod/lti/services.php/{courseid}/lineitems/{gradeitem_id}/lineitem/scores You may also see a ?type_id param at the end that makes it very easy to confirm that you're seeing requests for that service. If you do see those requests, then you know that the Tool is trying to access Moodle's grade service and can continue diagnostics on the Moodle end: those logs may give a hint if an error was thrown. I suspect your observations are correct, though, and that the tool is simply misconfigured to send grades. Since authentication is working, there should be no problem with their servers accessing yours, so if the requests are being sent, you should be able to see them in the logs. Where those logs are located would depend on the setup of your server, but typically, they'd be in a subfolder named by your web server in /var/logs",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 3, 2024, 7:54 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 383150,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=383150",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Passing data from LTI tool back to Moodle 3.5.4",
          "Text": "Dear All, I am completely new to moodle. I am working as an LTI tool integrator in moodle. I had a query regarding the communication of LTI tool back to the moodle. That is, I had an LTI tool for examinations and need to save the exam result against the user in moodle database . How can I do that? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 28, 2019, 4:20 PM",
          "AuthorName": "Rahul R L",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2612433&course=5",
          "role": [
            "Picture of Rahul R L"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing data from LTI tool back to Moodle 3.5.4",
          "Text": "Dear Rahul, I suggest you have a look at the external tool activity, which is the name for the LTI consumer module in Moodle: https://docs.moodle.org/36/en/External_tool Hope this helps! Cheers, Max",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 4, 2019, 4:43 PM",
          "AuthorName": "Maxime Taisne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1100855&course=5",
          "role": [
            "Picture of Maxime Taisne"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing data from LTI tool back to Moodle 3.5.4",
          "Text": "Dear Max, Thanks for the reply. I gone through the link you provided. It helps me to configure the LTI tool in my moodle, thanks. Actually my LTI tool is intended for conducting an exam and I need that exam result back to moodle. How it is possible to do that? Hope its not an invalid question. Sorry if it is. Regards, Rahul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 27, 2019, 4:12 PM",
          "AuthorName": "Rahul R L",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2612433&course=5",
          "role": [
            "Picture of Rahul R L"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing data from LTI tool back to Moodle 3.5.4",
          "Text": "Dear Rahul, Sorry for this late reply. Your LTI should send the results back to Moodle if the feature has been developed within the tool. This is why LTI was conceived in the first place. Just try and let us know how it goes. Best, Max",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 10:29 PM",
          "AuthorName": "Maxime Taisne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1100855&course=5",
          "role": [
            "Picture of Maxime Taisne"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 404643,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=404643",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Instructions for LibGuides LTI from Springshare",
          "Text": "Hi all, does anyone have any instructions or experience for integrating Moodle (for us - 3.5) with Springshare's LibGuides (LibCal and LibAnswers)? The company are refusing to provide step by step instructions for Moodle (but they have for other VLE's). Note - I'm sure it would be an easy things to work out, but that takes resource and time, which we unfortunately don't have right this minute.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 4, 2020, 2:06 AM",
          "AuthorName": "Jessica Comber-Chaney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2887276&course=5",
          "role": [
            "Picture of Jessica Comber-Chaney"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 454515,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454515",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "contentitem_return endpoint required jwt",
          "Text": "I'm working on integrating a new course item using an LTI connection. When this course item is created, specific information is sent back to the platform via a particular endpoint. My goal is to add a custom parameter to this data exchange process. Specifically, when Moodle initiates a resource link request, I want it to include this custom parameter in its JWT token. However, I'm encountering difficulties in implementing this feature. I'm not sure if the issue lies in how I'm sending data to the `contentitem_return` endpoint or if there's another configuration step I'm missing. I'd greatly appreciate any assistance or advice from someone with experience in this area",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 18, 2024, 9:39 PM",
          "AuthorName": "ser vet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6204667&course=5",
          "role": [
            "Picture of ser vet"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: contentitem_return endpoint required jwt",
          "Text": "Hi, What you want to do is definitely supported. Basically, in the deep linking response ( https://www.imsglobal.org/spec/lti-dl/v2p0#deep-linking-response-message ) you include the custom params within each content_item. These custom params will then be parsed and stored against the resource link that's created in Moodle, meaning they'll be included in launches. This is a key mechanism used by tools to determine the content to display during a launch. Here's an example of the JSON payload we receive from our own tool during deep linking. You can see the id=xxx custom param is included: {\"iss\":\"YW8azRMnFqeTdZj\",\"aud\":[\"http://localhost/ltiplatform\"],\"exp\":1705631982,\"iat\":1705631382,\"nonce\":\"nonce-45ff12bbc46322e2bf9665152240fecd3aa4d78cbc72ce467d073d1519747ae2\",\" https://purl.imsglobal.org/spec/lti/claim/deployment_id \":\"1\",\" https://purl.imsglobal.org/spec/lti/claim/message_type \":\"LtiDeepLinkingResponse\",\" https://purl.imsglobal.org/spec/lti/claim/version \":\"1.3.0\",\" https://purl.imsglobal.org/spec/lti-dl/claim/content_items \":[{\"type\":\"ltiResourceLink\",\"title\":\"assignment 1\",\"url\":\"http://localhost/master/enrol/lti/launch.php\",\"custom\":{\"id\":\"eab7d550-6b11-48e1-8e09-44adc609af76\"},\"lineItem\":{\"scoreMaximum\":100,\"label\":null},\"presentation\":{\"documentTarget\":\"iframe\"}}]} See also the example in the Deep Linking spec: https://www.imsglobal.org/spec/lti-dl/v2p0#deep-linking-response-example Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 19, 2024, 10:35 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: contentitem_return endpoint required jwt",
          "Text": "Thank you for your reply. I have inspected the JSON payload you sent, and it has the same structure that I use. However, there's an issue: when Moodle sends a ResourceLinkRequest, it does not include any information about the content_items. Do I need to configure something to receive this data in the ResourceLinkRequest token? For example, in the payload you shared, there is an ID with the value \"eab7d550-6b11-48e1-8e09-44adc609af76\". Do you receive this ID back with the ResourceLinkRequest? Because I don't",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 19, 2024, 5:55 PM",
          "AuthorName": "ser vet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6204667&course=5",
          "role": [
            "Picture of ser vet"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: contentitem_return endpoint required jwt",
          "Text": "Yes, that id must be saved and included in the resource link requests. it's essential, otherwise the tool can't identify the resource. If you're using Moodle as the platform, then this will be automatic; when the user click \"Select content\" in Moodle and picks something, then the contentitem is processed and the activity instance is created. At this point, the custom params will also be stored as instance data. If this isn't happening, then that's the source of your problem. Am I right in assuming you're writing the tool and want to integrate it with Moodle? If so, what Moodle version are you testing with?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2024, 9:59 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 340588,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=340588",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Publish as LTI Tools vs LTI Provider",
          "Text": "Hi All, I am using Moodle 3.1 and want to use as provider. In Course configuration by default I saw \"Publish as LTI Tools\". Also I installed \"LTI Provider\" plugin. { https://moodle.org/plugins/local_ltiprovider } I am not sure the difference between these 2. Which one to use and when? I remember moodle doc 3.0 talks about LTI Provider and provision new course using template.  { https://docs.moodle.org/30/en/LTI_Provider } My requirement is to create/provision new LTI course in moodle if not available? Also as part of next implementation, use Content-item which will be part of moodle 3.2. - Thanks Abhishek",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2016, 9:18 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Publish as LTI Tools vs LTI Provider",
          "Text": "Hi Abhishek, Publish as LTI tool is included as standard in Moodle 3.1, so there is no need for you to install the LTI provider plugin. (The LTI provider plugin is only for use in sites using Moodle 3.0 or older.) Please see the documentation Publish as LTI tool for details.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 29, 2016, 5:25 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as LTI Tools vs LTI Provider",
          "Text": "Hi Helen, Thanks for your reply. With this standard \" Publish as LTI tool \" in 3.1, Can you please let me know how can we provision a new Course if that course is not there in Moodle (LTI Provider)? Is this possible with standard \" Publish as LTI tool \"? -- Thanks in advance Abhishek Chouhan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 3, 2016, 9:35 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as LTI Tools vs LTI Provider",
          "Text": "I don't think the Publish as LTI tool can create courses automatically, sorry.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 3, 2016, 3:02 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as LTI Tools vs LTI Provider",
          "Text": "Hi Helen, Thanks for the update.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 5, 2016, 8:27 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458513,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458513",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "I have created a LTI bridge to our survey tool Qualtrics. I am using the external tool activity  and have created a config file  for the bridge  so  details can be set  e.g. url to pass and some account details  like     lis_result_sourcedid i would like to set some custom parameters  e.g the survey id  in the  instructorcustomparameters feild and this to  be populated in the file I was look for some help on doing this if I set the survey id in the config file i can add it using $this->launchParams[\"survey_id\"] i have  created a function  below to build the url need public function launch() { // Any parameters that have been specified by the Tool Consumer can be passed to Qualtrics to allow for customization. $urlParams = array( \"SID\" => $this->launchParams[\"survey_id\"] ); foreach ($this->launchParams as $key => $val) { if (Config::get(\"custom_pass_all\") || in_array($key, Config::get(\"custom_pass_params\"))) $urlParams[$key] = $val; } // Build the request to the Qualtrics endpoint. $url = $this->launchParams[\"custom_qualtrics_url\"]; $query = http_build_query($urlParams); // Perform the redirect. header(\"Location: \" . $url . \"?\" . $query); } Any help or advice would be great",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 15, 2024, 10:58 PM",
          "AuthorName": "Mark Lapsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2456824&course=5",
          "role": [
            "Picture of Mark Lapsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "Hi Mark, I'm not 100% clear on the specific bit you're asking for help with, so I'll try to get this clear first. Apologies if I've missed something obvious. First up, Moodle definitely supports setting custom params, as it seems you're aware. These will be sent in the launch data as you'd expect. Then, it sounds like you're doing something on the tool side (or whatever part of this bridge is receiving the LTI launch), to kind of juggle these params into a meaningful internal URL (i.e. take custom params a,b,c and make a URL like qualtrics.test?a=x&b=y&c=z), presumably because Qualtrics doesn't provide an LTI implementation. Am I right so far? It's really then this bit that I'm then confused about: I would like to set some custom parameters  e.g the survey id  in the  instructorcustomparameters feild and this to  be populated in the file What file are you referring to? A file that lives on the tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 16, 2024, 3:23 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "HI Jake you are definitely right with Qualtrics there is no plugin or LTI integration with Moodle, i manged to resolve the issue by changing it to bult the query in the custom parameter so now in the custom parameter is survey_id=SV_9ugh7IxBRCndy33 instead of SV_9ugh7IxBRCndy33 but thanks for you help we now can use Qualtrics with Moodle always appreciate you help Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 16, 2024, 5:22 PM",
          "AuthorName": "Mark Lapsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2456824&course=5",
          "role": [
            "Picture of Mark Lapsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "Hello Mark, we are trying to get Qualtrics to work.  Would you be willing to provide some guidance.  We are also looking at the custom parameters and I’m at a lose as to what I need for those parameters. thanks for any help, Dave",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 8:55 AM",
          "AuthorName": "David Siemens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=169343&course=5",
          "role": [
            "Picture of David Siemens"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "If Qualtrics doesn't provide an endpoint for LTI authentication by Moodle and instead has unauthenticated survey urls, you can accomplish what you want with a URL Resource activity as said above. Create your link to the survey with a URL activity instead of an LTI activity, including any fixed url-encoded parameters like survey_id=xx_xxxxxx, then expand the URL variables submenu to enter any student-specific parameter names in the text field and select the field you want sent for that parameter under the User section of the \"Choose a variable...\"  selector. That lets you generate individualized links for students like https://example.com/survey?id=foo&user=bar&course=ItsAllGreekToMe where user expects a student's username and course expects some identifier for a course like a Moodle internal UID or a course short name. LTI isn't needed for this use case, if indeed what you want to do is simply to generate links specific to individuals. (And those URL activities can be linked to from within other course activities or notification emails via autolinking).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 8:43 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Custom Parameters ( instructorcustomparameters )  Passing",
          "Text": "Hi Dave Yes  happy to help   what are you using to  link to  Qualtrics?  Iam using  LTI   script that i customised to work with moodle  what the issue you are having ? Thnaks nark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 11, 2024, 4:56 PM",
          "AuthorName": "Mark Lapsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2456824&course=5",
          "role": [
            "Picture of Mark Lapsley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 232020,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232020",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Consumer Payload",
          "Text": "Hi All -- Sorry if this question has been answered already but I could not find a topic that covered this. Using Moodle 2.5 (Build: 20130514) and I am trying to debug the payload of the LTI consumer talking to my provider.   A couple of questions: 1)  Is there a sample output from the LTI consumer to the provider somewhere that I can use as a reference? 2)  Is it possible to turn on a print out of that is being sent to the provider prior to injection to the provider, similar to Sakai? 3)  Are parameters like course ID, short name, and other course specific information configurable to specify what is sent in the payload or through custom parameters? I appreciate any insight I can glean from the group. Wes",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 5, 2013, 7:59 PM",
          "AuthorName": "Wes Barnes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=161395&course=5",
          "role": [
            "Picture of Wes Barnes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 420066,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=420066",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course restoration from moodle 3.5 integrated with LTI and canvas to satnd alone moodle 3.10",
          "Text": "Hi, I have a moodle 3.5 site integrated with LTI and canvas which is to be migrated to stand alone moodle 3.10 . I am trying to restore the course for the same. The earlier site had custom plugins which were used in course. While course restoration, am facing lot of dependency due to integration. Here, I would like to ask you people what would be the better to restore course in new stand alone moodle 3.10. can some one help me with this? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 24, 2021, 4:15 PM",
          "AuthorName": "Janvi MDL",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4158814&course=5",
          "role": [
            "Picture of Janvi MDL"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 440379,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440379",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI custom_force_embed| removes SCORM stop button",
          "Text": "i have an question on the use of the custom_force_embed with LTI. One of the LTI consumers is using custom_force_embed, which works great to ensure that no Moodle menu's are showing etc. But we are using the SCORM + show in current window player and the custom_force_embed seems to be removing the SCORM stop button. The strangest thing is that the client claims that this is recent change, while I cannot find any changes on the Moodle site and the LTI consumer tells nothing been changed on their site. Does anyone know: if there been a recent change in Moodle core of custom_force_embed in the LTI indeed impacts the Moodle Scorm player page? Is the custom_force_embed theme dependend? where I can find more information on what custom_force_embed actually does? if there are other custom_force that could be usefull in this case? we are using Moodle 3.9.17 + Foundation theme Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 9, 2022, 9:35 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI custom_force_embed| removes SCORM stop button",
          "Text": "Hi Gemma, 1. Nothing recent, no (at least not in LTI land). 2. Using force_embed=1 just tells Moodle to run the launch using the 'embedded' page layout (the same as what students would see). Page layouts are theme dependent, yes. See https://docs.moodle.org/dev/Page_API#Page_layout 3. You can see a small summary here: https://docs.moodle.org/400/en/Publish_as_LTI_tool#Custom_launch_parameters . All that really says is what I've said above though. 4. No. This is currently the only layout-centric custom launch param. It would be good to see what exact control is missing from the page. I'm not a SCORM expert, but as far as I can see (using a basic test package), we render an \"Exit activity\" button at the top right of the SCORM page, and the rest of the page content is the SCORM package itself. Is it this button you're referring to perhaps? TIA , Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 3:04 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI custom_force_embed| removes SCORM stop button",
          "Text": "Hi Jake Thank you, especially for the links. And yes, the Exit Activity is the one I mean. It is showing in the #page-header. I will run some test with Boost, but I am pretty sure it will show the same behavior. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 3:38 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI custom_force_embed| removes SCORM stop button",
          "Text": "Bingo. That's exactly what I see on 3.9 and 3.11 (it's in the header, so isn't available over LTI where we don't have that). 400 moved this into the page, so that's why I wasn't seeing that there or on master. You can see this issue that changed this from the header to the page here: https://tracker.moodle.org/browse/MDL-73448",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 4:40 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI custom_force_embed| removes SCORM stop button",
          "Text": "Jake, in M3.9 Boost is behaving the same way. But.... it seems that in M4.0 boost this is different which could be explained that it is not longer placed in the page-header class but activity-header",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 4:48 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI custom_force_embed| removes SCORM stop button",
          "Text": "Yep, it's different from 4.0 onwards (it's a navigation project change). 3.11 and earlier will have the scorm element in the page header (for reasons unbeknownst to me). Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2022, 5:21 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 456477,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456477",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Which user profile fields are synced during launch",
          "Text": "I have someone asking about user profile fields and LTI account creation. Which standard user profile fields get carried over, and is it possible or planned for non core (custom) user profile fields to be carried over?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 12, 2024, 12:26 AM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Which user profile fields are synced during launch",
          "Text": "Hi Marcus, I've split this into a new discussion, since it wasn't related to the pinned announcement post. There is only a set mapping right now, and not for custom user profile fields. User email, firstname, lastname is synced, and the profile picture, if sent. See MDL-75114 for the issue that proposes adding something like this. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 12, 2024, 9:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 376883,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376883",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Send grade back to Cloud Moodle problem",
          "Text": "Hi guys, Recently all my external tools stopped to accept grades from my assessment plugin. I constantly received the message \"imsx_description:Tool does not accept grades\". I've been looking around and I could not be able to find a reason why this is happening. I am attaching both the request and response I've been receiving and some scenarios I tried and failed to send the grade back.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 5, 2018, 4:13 AM",
          "AuthorName": "Diego Mendes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2527661&course=5",
          "role": [
            "Picture of Diego Mendes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 253173,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=253173",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to access Moodle courses with 3rd Party any non-Moodle site?",
          "Text": "Hello, I would like to know how to get all the Moodle courses from 3rd party any non-Moodle site. As I am using the \"LTI provider\" plugin, but unclear about the use of this plugin. Can anybody please guide with full details or demo example step by step how to use this plugin & External tool in Moodle? I looked out many forums but could not get any expected result yet. Somehow at one stage, I got this message \"Sorry, this activity is currently hidden\". What does it mean? How to make visible the activity through External tool? Please help. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 30, 2014, 6:46 PM",
          "AuthorName": "Sharad Garach",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1712254&course=5",
          "role": [
            "Picture of Sharad Garach"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 351179,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351179",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "sharing activities within a single Moodle using LTI",
          "Text": "Hi Is it possible to have a single Moodle be both the provider and consumer of an activity? This would allow the sharing of a single activity between multiple courses. Thanks Killian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2017, 11:21 PM",
          "AuthorName": "Killian Holmes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1430815&course=5",
          "role": [
            "Picture of Killian Holmes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: sharing activities within a single Moodle using LTI",
          "Text": "It can be done, but because of the way LTI works it will create a new account on the Moodle and log the user out of their old account. So it may cause confusion. We want to eventually auto-detect this situation and just use the original account. This will be done in https://tracker.moodle.org/browse/MDL-57345 . Please vote and comment there so it can be picked up sooner.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2017, 8:17 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: sharing activities within a single Moodle using LTI",
          "Text": "Thanks for sharing the JIRA ticket. I've commented and voted for it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 26, 2017, 4:02 PM",
          "AuthorName": "Killian Holmes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1430815&course=5",
          "role": [
            "Picture of Killian Holmes"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454653,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454653",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "\"Forum\" activity grade syncing supported? Invalid grade",
          "Text": "Hello! We have a few setups using LTI Advantage connections to other LMS systems (Canvas/Blackboard). We've been testing grade syncing and it's been working for activity types with the exception of \"Forum\" types. When we add a forum activity in Moodle, publish as external tool, add into other LMS - we're able to access it from other LMS and grade it in Moodle, however we notice grades aren't syncing over. The sync_tool_grades adhoc task shows it found a resource link, processes it, and then always shows \"Invalid grade for the user...\". We've tested with multiple courses, users, activities , etc. and only \"Forum\" activities are having this issue. Are forums not supported for grade syncing? Has this been reported before? Thanks! Starting - LTI Advantage grade sync for shared resource '320' in course '33'. Found 1 resource link(s) for the user '10', for the resource '320' and the course '33'. Attempting to sync grades for all. Processing resource link '6e0901ce-01d7-4a03-b861-423bc6c5d6db'. Skipping - Invalid grade for the user '10', for the resource '320' and the course '33'.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2024, 8:11 AM",
          "AuthorName": "Skylar V",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6214754&course=5",
          "role": [
            "Picture of Skylar V"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"Forum\" activity grade syncing supported? Invalid grade",
          "Text": "Thanks for the report, Skylar. To be honest, forum isn't one of the activities I usually test with. I know we have a tracker issue dealing with how to handle multiple grades (for activities like workshop that support that), but suspect this isn't the case for forum. Can you share your specific grade setup for forum? E.g. is whole forum grading set to point, or something else? I'll take a look on my end and report back.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2024, 9:37 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Forum\" activity grade syncing supported? Invalid grade",
          "Text": "Ok, I've tested this in the main branch, and here are my observations thus far: 1. If using a forum set to use ONLY ratings-based grading, and when that grading is a simple point grade, the grades will be sent. E.g. I can set aggregation type to \"Average of ratings\" and the resulting value will be sent over. There is one gotcha, though: - If a given student doesn't have a rating, then \"invalid grade\" is seen in the task logs. This is outside the control of enrol_lti code however, since the sync code is just asking for the grade and sending it if it's not null/empty. In this case, when a rating hasn't yet been given, then it's empty or null and so we end up seeing the 'invalid' notice. 2. Forum supports multiple grade items so it's likely also subject to the problem reported (and fixed) in MDL-78066 . That fix is basically a stop-gap, preventing failures during deep linking related to multiple grade items by excluding activities having more than one grade item (for the time being. there are issues dealing with adding proper, decoupled multi-grade-item support). Assuming you've created the resource link to the forum using deep linking, then this may not be the issue. 3. Deep linking is currently broken when using ONLY whole forum grading (i.e. not forum ratings as well). I'll create a fix for this, but basically it's down to a simple array index issue in this code: https://github.com/moodle/moodle/blob/b42e47fb4afe240c11251806399f6b5cd21cd2e5/enrol/lti/classes/local/ltiadvantage/repository/published_resource_repository.php#L111 That task code assumes the items indexes start at 0, but that's not always the case. In this particular case, where whole forum grading is the only method used in forum, the only index in gradinginfo->items is index 1 - an index which gets set based on this code: https://github.com/moodle/moodle/blob/92b229c5f404a04750b779fc98ae817d160aba29/mod/forum/classes/grades/gradeitems.php#L49 . That's an easy fix and again not something that's likely impacting you since you've been able to get past the deep linking part of this. I've created MDL-80699 to deal with this bug. 4. If I have a manually configured resource link using custom param (pre-4.3, and getting around the bug in 3 above) then it's possible to point to a forum that's using \"Whole forum grading\". If I do that, I see another issue with the forum this time. It's grading interface isn't aware of the context -specific role override that's granting the platform user (the student) access to the forum. Hence, we're unable to grade the LTI users at all. This needs fixing in forum and is a fairly major issue preventing whole forum grading in LTI. I've created MDL-80698 to address this forum bug. If you wouldn't mind sharing how you forum is configured - at least in terms of the aforementioned ratings, whole forum grading, whether or not you're using simple point grades, etc. it would likely be helpful indeed! There are surely other cases to cover - I just didn't have time to go beyond the point grade / multi-grade stuff for today. Many thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2024, 4:50 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 358662,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=358662",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI and Grade Privacy - VoiceThread and eReserve",
          "Text": "We are using Boost in 3.2 and when creating an LTI with eReserve and VoiceThread, the activities are still going into the gradebook despite the \"do not accept grades\" being selected. Our fix is to edit settings and select accept grades, then return to course and edit setting again and select do not accept grades. Is this a known issue with other users? Thanks. Shawn",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 2:27 AM",
          "AuthorName": "Shawn Trueman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046278&course=5",
          "role": [
            "Picture of Shawn Trueman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re:  LTI and Grade Privacy - VoiceThread and eReserve",
          "Text": "I believe this is a known issue with a fix just awaiting review. https://tracker.moodle.org/browse/MDL-59789",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 8:56 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  LTI and Grade Privacy - VoiceThread and eReserve",
          "Text": "Thank you John.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 9:34 AM",
          "AuthorName": "Shawn Trueman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046278&course=5",
          "role": [
            "Picture of Shawn Trueman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  LTI and Grade Privacy - VoiceThread and eReserve",
          "Text": "John - One other question. How will I know when this bug is fixed? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2017, 9:32 PM",
          "AuthorName": "Shawn Trueman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2046278&course=5",
          "role": [
            "Picture of Shawn Trueman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  LTI and Grade Privacy - VoiceThread and eReserve",
          "Text": "If you add yourself as a watcher on the issue, you will be emailed when it is fixed",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 20, 2017, 9:11 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454313,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454313",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle and SabaCloud",
          "Text": "Hi I'm trying to set up SabaCloud with Moodle LTI 1.3 but still no success. Can you see what's wrong in my configuration? Vendor set up in SabaCloud SabaCloud Moodle Comment LTI_1_P3 1.3 LTI Version Client ID Client ID Set in Sabacloud (Made up value or can I find this in Moodle) OIDC Login URL Initiate login URL OAuth2 Authentication Method Vendor JWKS URL JWKS URL Vendor Redirect URL Tool URL Content set up in SabaCloud SabaCloud Moodle Comment Url Launch URL LTI Additional Attributes Custom properties Like id=2651a8f5-5853-4feb-aa59... Error:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 12, 2024, 9:20 PM",
          "AuthorName": "Daniel Johansson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6189983&course=5",
          "role": [
            "Picture of Daniel Johansson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle and SabaCloud",
          "Text": "Hi Daniel, I'm assuming Sabacloud is acting as the platform here, and that you want to consumer Moodle resources, is that right? If so, it'll help to see screenshots of your Moodle tool registration views (you can obscure any sensitive information if you wish). Mainly, I'd like to see the \"Platform details\" section and the \"Deployments\" section. Both of those sections need to include information from Sabacloud for the integration to work. I.e. it's a two-way exchange of endpoint information. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 18, 2024, 3:11 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and SabaCloud",
          "Text": "Hi and thanks for the reply! I found a link that pointed in the wrong direction. After change I think it might work. The customer testing it right now. I get back if I have more questions. Thanks Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 18, 2024, 10:46 PM",
          "AuthorName": "Daniel Johansson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6189983&course=5",
          "role": [
            "Picture of Daniel Johansson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and SabaCloud",
          "Text": "No problem. Glad you got that part of it sorted out. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2024, 10:00 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 242538,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=242538",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle and PressBooks = Collaborative ePublishing Tool",
          "Text": "Just found this great plugin for wordpress multisite called Pressbooks.  Transforms wordpress into a epublishing tool where multiple people can add chapters and author a book. Using wordpress and Moodle LTI you can sync up your students and teachers via Moodle and have them automatically added as authors over on the Pressbook install with each new instance of the external tool creating a brand new book. http://webmaster.dearbornschools.org/2013/10/15/open-source-collaborative-ebook-authoring-tool-based-on-wordpress/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2013, 3:59 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 293571,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=293571",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Support for LTI Content-Item message",
          "Text": "Vital Source Technologies funded the addition of LTI 2 support to Moodle 2.8.  It is now proposing to do the same to add support for the new Content-Item message type (see http://www.imsglobal.org/lti/ for details) which improves the workflow for adding links to external tools. A project page describing the work to be undertaken is being set up at https://docs.moodle.org/dev/LTI_Content_Item .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 9, 2015, 2:50 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Support for LTI Content-Item message",
          "Text": "Exciting! Look forward to seeing this! Looks like it'll do something similar to what I was hoping would happen when suggesting this - https://tracker.moodle.org/browse/MDL-39134",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2015, 10:21 PM",
          "AuthorName": "Alistair Spark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1434260&course=5",
          "role": [
            "Picture of Alistair Spark",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 432584,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=432584",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Resync/playback of gradebook sync events",
          "Text": "Folks, Just wondering if there is a simple way to playback grade sync events.  For example if a consumer site doesn't have it's gradebook enabled.  Playback to do a catch up. kenwrick",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2022, 7:17 AM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Resync/playback of gradebook sync events",
          "Text": "Hi Kenwrick, It sounds like you're asking whether there's a way to force sync the grades, perhaps as a way to handle the case where they've been marked as sent already in the tool (despite the platform not storing them anywhere). Is that about right? If not, please feel free to clarify. Perhaps understanding how the grade sync works will give you an answer. The grade sync tasks are only going to mark the grade as 'sent' (by setting 'lastgrade' on the respective lti user) if they receive a success message from the platform. This success message varies depending on version of LTI; It's either looking for an http code (1.3) or a specific 'success' message in the response (legacy). If it doesn't get this, then the next run of the task will attempt to send that same grade again. If it's received the success message, then it's likely the platform/consumer has stored the grade, though I can't be certain that is in fact the case for all platforms. When the grade is marked as 'sent', there's currently no way to replay the sync unless you change the grade. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2022, 10:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434807,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434807",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "I can help update Moodle demo LTI plugin",
          "Text": "The Mount Orange School demo site currently has a Science and Mathematics course (Revision: Chemistry) with a LTI 1.1 connection to ChemVantage. This connection will be broken June 30, 2022 as ChemVantage transitions to the LTI Advantage specification. I am happy to work with Moodle to replace this with an equivalent LTI Advantage connection that can be accessed at no charge. Please contact me, or simply visit https://www.chemvantage.org/lti/registration to complete the Dynamic Registration process. Thanks. Chuck Wight, Manager ChemVantage LLC",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 24, 2022, 8:56 PM",
          "AuthorName": "Chuck Wight",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1924161&course=5",
          "role": [
            "Picture of Chuck Wight"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: I can help update Moodle demo LTI plugin",
          "Text": "Hello Chuck! I will get in touch with you - thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 24, 2022, 9:40 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421235,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421235",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Manage Tools option is not showing under the Plugins tab",
          "Text": "Hello, The Manage Tools option is not showing under the Plugins tab in my Moodle account. Site administration > Plugins > Activity modules > External tool> Manage tools https://www.screencast.com/t/miecHuJih How can I enable the Manage Tools option?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 21, 2021, 1:26 PM",
          "AuthorName": "Shashank Gupta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2511128&course=5",
          "role": [
            "Picture of Shashank Gupta"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Manage Tools option is not showing under the Plugins tab",
          "Text": "Hi Shashank, You need to enable the \"External Tool\" module, which you can do via \"Manage Activities \" (the first entry under \"Activity Modules\" in your screenshot). Just click the eye. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 3:58 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446258,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446258",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "LTI provider - Extra parameters",
          "Text": "Hi I am wondering if someone can tell me if we save in the database the extra parameters that a consumer / platform is sending ? To be complete, I received from the LTI consumer party the message: We send you the url through the custom_xxx_url paramater, so you should be able to see this. But I am not finding this information in the mdl_enrol_lti_users table ? Thank you! Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 29, 2023, 9:41 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Gemma, Firstly, the tool dictates what custom params it supports, not the platform. A platform may send anything in these params, but unless the tool understands it, it's superfluous information (i.e. the tool isn't going to make it available anywhere if it doesn't understand it). In the legacy provider, we only supported a few cases\n(custom_user_image, custom_force_embed). We did save the custom params in the enrol_lti_lti2_resource_link table, under 'settings' (serialized). Saving this information was really a byproduct of the now-unsupported library we we used at that time, which required that applications provide a way to save this information (despite likely not using it). In the LTI Adv. provider, we support custom_force_embed. We don't save the custom params because we don't have the need; we get all we need by reading the force_embed param during each launch. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 1, 2023, 9:03 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Jake Thank you for your time, I indeed found the custom_ paramater in the enrol_lti_lti2_resource_link link table. In this case we need the information to provide an url back to the LMS. As well I had once that they used this to provide extra information for the user profile. So I do think it would be great if db technical this information is being stored differently then it is now. But If I understand you correctly in case of the LTI Adv. Provider extra information send by a custom_ is not stored anywhere. I do understand that we just 'need' the force_embed, but as stateted above these paramaters are also used to provided extra information by example for profile fields. Gem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 1, 2023, 4:51 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Gemma, I think we need to explore your (expected) use cases a little more. Let's take the return URL first. There is already a means to provide this to tools via the return_url in the launch_presentation claim ( https://www.imsglobal.org/spec/lti/v1p3#launch-presentation-claim ). Of course our Moodle tool doesn't use this anywhere. However, the main point is that I don't think custom params is the correct way to achieve that kind of functionality when the spec already provides a mechanism for that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 2, 2023, 9:13 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Jake, The usercases are: 1. As a student I want to be able to return to my own LMS by clicking on a button, so I don't have to use the move back in the webbrowsers To clairify our target group is not use to work with computers, and from an accessibiility point of view we have been asked if we can add a 'back' button to the LTI course. BUT we have 1 course for multiple goverment LMS systems which each their own URL. Their LMS provider gave us the solution to use the custom paramater they send, to pass into a moodle custom profile field so we can create an uniek url button per student. 2. As an organisation I want to receive the studentnumber, so we can easier find an user when we dont receive information like name or emailaddress. Due to GDPR rules more and more organisations are not sending student information towards our Moodle installation, but still expect us to answer questions on those students (like how many attempts they had with the quiz). As a solutions the LMS provider offered to use a custom parameter that we can pass into a Moodle profile field.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 2, 2023, 4:33 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Gemma, Thanks for clarifying those two. Specifically on the part \"pass into a Moodle profile field\": How are you planning to achieve that? I don't believe the current system in place (auth_lti) supports allocation of custom profile fields during the user creation. Are you talking about custom development in your Moodle site, or is there another mechanism I'm not aware of? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 2, 2023, 5:33 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Hi Jake, Right now I have no idea, since as you stated that in 1.3 it is not showing anymore in the enrol_lti_lti2_resource_link link table and not planning on developing a local plugin for LTI1.1/1.2 to pick up the right fields. But if you are talking about my ideal world: I think it would be great if it works in a similar way as you can map user fields when you by example create an OAUTH2 service for Office365 or Google. Where the code understands that each value that comes in should be part of custom_[value] and as an admin you can say: okay when we receive Value \"URL\" I want this in custom profile field \"LTI url\" or when value = studentnumber I want this to be mapped to the Moodle standard userfield idnumber. For me it makes sense to do it this way in LTI1.3 as part of your tool registration. But not sure if this is possible. Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 9, 2023, 2:32 AM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI provider - Extra parameters",
          "Text": "Gemma, we have such a need for this kind of functionality ourselves. After looking at the current table for \"mdl_enrol_lti_resource_link\" I can see the table is storing additional data. In our case we want to retrieve the ORGUNIT information https://mydomain.com.com/d2l/api/lti/ags/2.0/deployment/86ea1cc8-1633-46f4-b90d-1babb4ec90a2/orgunit/2040342/lineitems Would you be interested in talking further about sharing development costs on adding this feature? Jeff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 22, 2023, 2:00 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470366,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470366",
      "NoOfResponses": 17,
      "ResponsesInList": [
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "We have a problem which we don't fully understand. We have for many years used moodle as a Tool to provide specialised quiz services to Blackboard using LTI 1.1. This year we moved our main LMS over to Canvas and have changed the integration to moodle to LTI 1.3 Advantage . All was seeming looking good but now all our students have returned and we are scaled up, we are seeing worrying problems with our course membership synchronisation. Our users are being synced from Canvas course spaces to moodle course Spaces. However, it seems like only the first 50 are being processed per resource. Moodle logs show this type of action happening: \n```text\nRequesting names and roles for the resource link '181' for the resource '1641'\nMaking resource-link-level memberships request\n50 members received.\n```\n And then it moves on to the next resource And so on.... Further, when students access and complete a Moodle quiz using the canvas assignment, they are not automatically  enrolled in the moodle space, even though their attempts are counted by Moodle and synced back to Canvas as part of the Grades sync. I can see that on the Canvas/Platform side, membership data is paginated with a default of 50 NamesAndRoleMemberships returned in a page ( https://developerdocs.instructure.com/get_started#pagination-and-large-data ). The \"limit\" parameter is in the IMS spec for LTI Advantage ( https://www.imsglobal.org/spec/lti-nrps/v2p0#limit-query-parameter ). I've tried wading through the moodle source code for the implementation of this, but it's proving tricky to see what is going on. We are self-hosting and currently running moodle v4.1.11+ BUT we know we are behind on our patching and will be moving to moodle 4.5.x LTS release in the next few weeks. Can someone please confirm if pagination limits are handled in the moodle NRPS membership sync and if these has always been handled e.g. is our older version of moodle missing a patch which would fix this problem? Are there any other possible places to look for the cause (and fix) of this problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 13, 2025, 9:44 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "I've traced the latest moodle code through to where the pagination is handled: https://github.com/moodle/moodle/blob/main/public/enrol/lti/classes/local/ltiadvantage/task/sync_members.php#L114 https://github.com/moodle/moodle/blob/main/public/lib/lti1p3/src/ServiceRequest.php https://github.com/moodle/moodle/blob/main/public/lib/lti1p3/src/LtiNamesRolesProvisioningService.php The actual handling of the next page of data is handled here: https://github.com/moodle/moodle/blob/main/public/lib/lti1p3/src/LtiServiceConnector.php#L152 I can see the handling is there and looks all fine in this version of moodle. Have there been any historical issues with pagination handling of membership in past versions of moode?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 14, 2025, 3:41 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "I ran into this way back when I started working on LTI 1.3 into Canvas and forgot all about it until now. This is specific to Moodle 4.1, so the problem will go away when you upgrade. The bug is in the getNextUrl class method of LtiServiceConnector. Although RFC 8288 always uses \"Link \" for that header field name, RFC 9112 says header field names should be processed case-insensitively , so I would have preferred getResponseHeaders would have normalized the field names to upper or lower with array_change_key_case (and that was my fix until upgrading to 4.5). This works for the RFC 8288 and Canvas cases, though, so will get your full rosters synchronized.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 15, 2025, 8:31 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Many thanks for your reply Liam, everything in it makes 100% sense for what we are seeing. Canvas APIs do indeed send \"link\" instead of \"Link\", therefore the fix sounds perfectly sensible. I got approval from our Change Authority Board to apply this change which I had to do to our live environment directly - our test moodle instance cannot currently integrate with our test Canvas instance for reasons I won't go into. Nothing untoward happened as the change is quite simple. However, I'm not seeing any change to the membership sync behaviour. I suspect that the previous version of the script is being cached somewhere but I'm not au fait with how moodle handles caching of moodle PHP/Opcode. Do you happen to know if caching of the PHP is likely to be a cause of why we aren't seeing the impact of the change? Will a restart of the PHP service solve any caching issues? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 15, 2025, 9:39 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Restarting php services likely would not purge the cache depending on which cache method you're using, but the admin/cli/purge_cache.php command line script or the page at /admin/purgecaches.php would. I always refresh a moodle page a few times after purging cache since the theme js and scss has to be re-loaded into cache and try to suffer that myself wherever possible.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 15, 2025, 10:27 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "I think I was wrong about your purge cache question, but don't know enough about your environment to say. I do have opcache enabled in php-fpm, but just tested adding some debugging lines on a test server in a /lib/lti1p3 file and was able to see the message printed to file without doing anything to purge cache, so at least in my environments, those files aren't being cached.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 16, 2025, 12:17 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Thanks. Whilst I can't repeat your test in a /lib/lti1p3 file because I don't have an LTI integration in my firewalled test environment, I can do a similar test on CLI tasks else where and I see the change within a couple of minutes. I also have opcache running though my settings may be different to yours. Frustratingly the \"$subject = $headers['Link'] ?? $headers['link'] ?? '';\" fix isn't translating to any changed behaviour which doesn't make sense unless something else is preventing this change from having an effect (caching) or it isn't all of the fix. Unfortunately I can only \"test/fix\" direct to our live server which has ~1000 uses potentially accessing it. I'll ponder some more...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 16, 2025, 4:23 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "I'm equally baffled: I checked my commit history from that time and the only change I made to get pagination working was properly handling the casing of that header field name. Are you certain that the node or nodes performing cron tasks were patched and not the web workers? The only other thing I can think of is that the enrol_lti plugin does allow a maximum number of enrolled users like self enrollment does, but the default is 0 (unlimited), so it would have taken effort to set it 50 for all courses, which coincidentally happens to be the page size in Canvas' NRPS membership responses.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 16, 2025, 8:27 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "The change makes perfect sense, it really does. We only have the one moodle node/code base, we aren't quite ready for a cluster setup as we use moodle just for one Department for specialist mathematical tests using the STACK plugin. I'm going to do an out of hours reboot tonight so see if there are any unforeseen caching issues. Hopefully that fixes things, please God let it! Not sure where you mean by the \"enrol_lti plugin\". We are using the \"Publish as LTI tool\" setup to publish quizzes only (not entire courses) and I can't see any settings to limit enrolments in there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 16, 2025, 9:56 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Well, my reboot changed nothing. Still limited to 50 users when fetching the membership. I found the setting you were referring to - the enrol_lti plugin settings for an individual published activity. Nothing odd there either. So frustrating. We upgrade in a couple of weeks so I hope that resolves it all.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 17, 2025, 12:23 AM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "That is disappointing and perplexing. Synchronization for rosters larger than 50 definitely works out of the box in Moodle 4.5 with Canvas, but it's a bizarre shame that this change didn't get you in business like it did for me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 17, 2025, 1:00 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Thanks for your help anyway. Just one more question. I desperately need to set up a test integration so I can explore these things when they occur. My current moodle TEST instance is firewalled on security/policy grounds and prevents me from integrating moodle with anything outside the firewall such as our Instructure hosted Canvas instances. My options are either to beg for a security exception OR look at spinning up a self-hosted Canvas instance behind our firewall (maybe via Docker). Can you briefly tell me what your moodle->Canvas test setup looks like and if there were any challenges e.g. it occurred to me that the Canvas beta instance refresh data weekly which must mess up LTI integrations.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 17, 2025, 3:28 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "This is a big question. The easiest dev setup would be using a containerized Canvas instance , but you'd need to do the tool registration dance every time you spin up the container. What I currently do: we have a completely separate dev Moodle server environment that's integrated with a testing subaccount on the same production Canvas instance, but using its own lti keys and integration setup. The dev Moodle and Testing Canvas subaccount have representative courses in them that are adequate for testing release candidates but this setup doesn't allow for comprehensive testing since the real courses are on the production Moodle and the live subaccount in Canvas. What I'd like to do, and that I have set up for my dev subaccount and dev instance, is to be able to do comprehensive testing like you suggest at the end of your question by using the beta instance of Canvas that syncs from the production instance on a weekly schedule and runs the next release candidate of Canvas. But it's complicated... The setup is that I have a load balancer node that runs nginx with an upstream configuration for a Moodle production backend and another for the beta Moodle backend, plus a bunch of map directives. The most conceptually important map checks for the referer when the /enrol/lti/login.php is hit (this is the first request during a launch). If the referer is the beta Canvas instance, it sets a cookie to indicate this session originates from the beta Canvas instance and routes it to the beta Moodle backend; if the referer is not beta Canvas, it doesn't set that cookie and routes the request to the \"production\" Moodle backend. For any other requests to the load balancer, it checks for the cookie to determine which upstream to route the request to. When I sync the beta Moodle environment to the production Moodle, I run some sql commands on beta's db that updates the mdl_enrol_lti_resource_link.{lineitemservice,contextmembershipsurl} and the mdl_enrol_lti_app_registration.{platformid,authenticationrequesturl,jwksurl,accesstokenurl,platformclienthash} to make launches and sync members and grades tasks work correctly with the beta Canvas platform and to ensure tasks don't try to send beta data to the production Canvas. Those are mostly just fqdn replacement commands, and the value for platformclienthash is computed here . This works fine for me since I use several different browsers for specialized tasks, like this sort of testing; but some of the directives to unset the beta and session cookies don't seem to work reliably for a few of my colleagues and they get stuck routing to the wrong backend and report false errors. I haven't built that out for our production environment since I don't have approval to duplicate the file hosting backend, but hope to build it out using a weekly automatic refresh that matches Canvas's refresh period and ZFS clone on the file hosting partition so the only additional storage needed is the delta from the last refresh.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 17, 2025, 8:29 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "This is a pretty comprehensive answer so thanks for taking the time to write all that. After talking with colleagues about the problem I think we'll try to get beta/test Canvas integrated with our beta moodle environment so that we are as close to the Canvas Production setup as possible. I have no doubt it will be painful to setup and get working, but I need to do something! Thanks again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 21, 2025, 8:34 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Hi Liam, I just wanted to post a short follow-up message to thank you again for your support. Last Monday I upgraded our moodle instance to version 4.5 and our membership synchronisation time increased from ~15 mins to ~2 hours - the logs clearly showing that enrolment synchronisation was no longer capped at 50 users. I've also carefully checked grade synchronisation behaviour today too, as some of our staff had concerns over this. This all looks good too with the highest grade always being the one to sync back to Canvas. We have some clearing up to do from problems created pre-upgrade, but for now all looks good going forwards. Best wishes, Stuart Anderson User Attempt # Score on moodle Time of moodle attempt Score on Canvas Time Canvas received grade Time to sync (hh:mm) Comments ATTEMPT #1 Test-130 1 10.00 05/11/2025 16:20 10.0 05/11/2025 16:38 00:18 Test-131 1 7.50 06/11/2025 08:37 7.5 06/11/2025 08:39 00:02 Test-132 1 5.00 06/11/2025 08:41 5.0 06/11/2025 09:08 00:27 Test-133 1 2.50 06/11/2025 08:44 2.5 06/11/2025 09:08 00:24 Test-134 1 0.00 06/11/2025 08:46 - - - Zero marked attempt not sent Test-135 1 0.00 06/11/2025 08:48 - - - Zero marked attempt not sent Test-136 1 5.00 06/11/2025 08:50 5.0 06/11/2025 09:08 00:18 Test-137 1 10.00 06/11/2025 08:57 10.0 06/11/2025 09:08 00:11 ATTEMPT #2 Test-130 2 ↓ 7.50 06/11/2025 09:53 = 10.0 05/11/2025 16:38 Not updated Highest scored attempt kept Test-131 2 ↓ 5.00 06/11/2025 09:55 = 7.5 06/11/2025 08:39 Not updated Highest scored attempt kept Test-132 2 ↑ 10.00 06/11/2025 09:58 ↑ 10.00 06/11/2025 10:09 00:11 New high score attempt received Test-133 2 ↑ 5.00 06/11/2025 10:05 ↑ 5.00 06/11/2025 10:09 00:04 New high score attempt received Test-134 2 = 0.00 06/11/2025 10:07 - - - Zero marked attempt not sent Test-135 2 ↑ 2.50 06/11/2025 10:10 ↑ 2.50 06/11/2025 10:41 00:31 New high score attempt received Test-136 2 = 5.00 06/11/2025 10:13 = 5.0 06/11/2025 09:08 Not updated Not updated as no change to score Test-137 2 = 10.00 06/11/2025 10:16 = 10.00 06/11/2025 09:08 Not updated Not updated as no change to score ATTEMPT #3 Test-130 3 ↓ 5.00 06/11/2025 11:54 = 10.0 05/11/2025 16:38 Not updated Highest scored attempt kept Test-131 3 ↓ 0.00 06/11/2025 11:56 = 7.5 06/11/2025 08:39 Not updated Highest scored attempt kept Test-132 3 ↓ 5.00 06/11/2025 11:58 = 10.0 06/11/2025 10:09 Not updated Highest scored attempt kept Test-133 3 ↑ 7.50 06/11/2025 12:03 ↑ 7.50 06/11/2025 12:12 00:09 New high score attempt received Test-134 3 ↑ 2.50 06/11/2025 12:05 ↑ 2.50 06/11/2025 12:12 00:07 New high score attempt received Test-135 3 ↑ 5.00 06/11/2025 12:08 ↑ 5.00 06/11/2025 12:12 00:04 New high score attempt received Test-136 3 ↓ 2.50 06/11/2025 12:10 = 5.0 06/11/2025 09:08 Not updated Highest scored attempt kept Test-137 3 ↓ 0.00 06/11/2025 12:12 = 10.00 06/11/2025 09:08 Not updated Highest scored attempt kept",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 6, 2025, 10:05 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "Thanks for that update, I am relieved the upgrade fixed it but still baffled why backporting the fix didn't do the trick. Something to keep an eye on, the NRPS specification includes an optional link header value with the \"differences\" relation that only returns changes from some timestamp specified in the URL . This isn't implemented in Canvas or Moodle (but possibly in D2L) and would dramatically improve the efficiency of periodic roster synchronization updates. In my instance, I'm using a platform-optimized sync memberships task inspired by the improvements to the sync_grades task introduced in Moodle 4.2 where the  primary efficiency improvement is having the actual syncing work done concurrently in ad hoc tasks spawned by the scheduled task. That way, the high enrollment courses don't block all the smaller courses from syncing on the expected schedule and the task overall gets done much, much more quickly than synchronizing each roster one at a time. The task as I wrote it is over-optimized for generic platform use, though. Hopefully the \"differences\" NRPS api call gets broadly implemented so efficiency optimization work moves from tool to platform instead.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 6, 2025, 11:02 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "LTI NRPS limit issues where moodle used as a tool",
          "Text": "That's good to know, thanks, I'll look out for it. At the moment, the 2 hours of time to sync memberships isn't going to be a problem for me because our upstream Canvas <-> Student Information System integration only pushes Canvas course enrolments once a day late at night. I plan to change the moodle membership Task sync time to once a day early in the morning. Very, very occasionally there might be some off schedule student enrolments in Canvas which ideally should be synced quicker, but generally I think it is unlikely to be anything too urgent. That said, it definitely would nice if it were more efficient so I will keep an eye out for only \"differences\" being implemented in the future.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 6, 2025, 11:59 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 396898,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396898",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Does anyone have a working LTI connect based upon the Boost theme (or a child of Boost) ? At the moment the LTI provider appears to ignore the consumer \"embed\" or \"embed without blocks\" setting and provides a full page. How should Moodle (3.7) know it is embedded and present the correct embedded layout in Boost?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 11, 2020, 7:05 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "It doesn't seem to be theme related. I am guessing some extra parameters are need to say \"use embed format\" even though I selected embed in the consumer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 11, 2020, 10:50 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Hi Brian, Are you trying to embed a course or activity on a Moodle provider. The setting in the external tool configuration on the consumer only affects blocks the consumer system might add not the ones on the provider. If you want to remove blocks added by the provider that should be configured on the provider system with the correct layout or theme there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 13, 2020, 10:08 PM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Hi Daniel The provider is a different Moodle 3.7 server that I control. However, when trying to configure the provider to go into \"embed\" mode, I keep getting the full menus and navigation duplicated - one from the provider and one on the consumer. I have hacked core Moodle lti to always present embedded, but any help in doing this in the provider settings would be appreciated.  I am sure I am just missing something. I don't see anything in the provider settings that says how to present a course.  Just which tool to publish (course), secret code, and syncronisation settings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 14, 2020, 7:10 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "OK, newbie error (I haven't done LTI before) On the consumer site, I had to set custom paramenter \"force_embed = 1\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 14, 2020, 7:54 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "I think that setting changes the default for the external tool configuration form. Again if the is on the consumer, this may not have anything to do with the blocks you are seeing if they are added by the provider. They would need to be removed by the provided site. A Moodle LTI provider by default uses a embedded format when individual activity is shared, but not when a course is.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 15, 2020, 12:24 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Thanks Daniel What would be nice is if the embedded format for a course was available as an option on Moodle LTI provider. Ah well, I can get the consumer to request the course to be in embedded format, so that will do for now :D",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 16, 2020, 9:55 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Brian, That setting does not \"request\" anything of the provider. It just causes embedded layout to be used on the consumer. You can change the theme on the provider to use an embedded layout for the course, but that is a configuration question for the provider site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 4:22 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Actually, I stated that incorrectly earlier. The embed setting actually adds the blocks on the consumer site. It is essentially saying that you believe the provider has an embedded layout so it is okay to embed it within a full page layout. Setting this to something else open the provider in a page by itself.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 8:19 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI with Boost Theme doesn't detect \"embedded\" and sends headers, blocks etc",
          "Text": "Cool and thanks for your help Daniel As we are trying to publish central static content on a core Moodle server (moodle.kent.ac.uk/core) to each Moodle academic year (moodle.kent.ac.uk/2020) the overhead of LTI proves to be unnecessary.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 6:19 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 367616,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=367616",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI launch ever only shows .xml file",
          "Text": "Hi, I'm trying to get it to work that another site is set up as LTI consumer and Moodle as LTI provider. Setting up Moodle as LTI Provider is done as explained in the documentation. However when I try to login with a different site (I'm using http://lti.tools/test/tc.php for testing purposes) and click on \"Launch TP\" it only shows the . xml file. It looks the same if I enter the cartridge URL in the address bar of the browser, it will just show the content of the .xml file. What's wrong? (Moodle version is 3.4) Thanks for reading",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 21, 2018, 6:49 AM",
          "AuthorName": "Lexi K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2256834&course=5",
          "role": [
            "Picture of Lexi K"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI launch ever only shows .xml file",
          "Text": "It does work from Moodle to Moodle. The problem seems to be that these xml cartridges (is that the right name?) are not supported by every LTI consumer, in my case this test website and Ilias, but Moodle requires them (at least for LTI version 1, which is the only option in my case). Found this here: https://moodle.org/mod/forum/discuss.php?d=345828#p1396326",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 21, 2018, 7:42 AM",
          "AuthorName": "Lexi K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2256834&course=5",
          "role": [
            "Picture of Lexi K"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465400,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465400",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "ALEKS McGraw Hill LTI",
          "Text": "Hi all, We have had a request to have ALEKS LTI integration and our semester just started today (We are on 4.1, moving to 4.5 after semester). I am new to this process and have only done one other integration in between semesters where traffic was very low. I am looking for some input as to anyone's experiences with this process - recommendations on whether this should be done ideally not during peak times or if it shouldn't really have too much of an impact during high traffic periods. Any other experiences you might have with this particular ALEKS integration are appreciated. Sounds like they'd like to set up deep linking to assignments and sync the grades with the Moodle gradebook. MJK",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 22, 2025, 5:44 AM",
          "AuthorName": "Marybeth Koon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6511068&course=5",
          "role": [
            "Picture of Marybeth Koon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: ALEKS McGraw Hill LTI",
          "Text": "Implementing an LT integration is generally considered very low risk and I've done this on both Moodle and other LMS at peak usage times with no issues. Its always best to test on a test system so you properly understand how the configuration works and all the implications of its usage but even if you dont do this if a small number of users are starting to use it in production straight out of the gate the risk is still low.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 22, 2025, 4:24 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: ALEKS McGraw Hill LTI",
          "Text": "Thank you Brett. I 've been a little cautious since in this last LTI integration, we needed to also uninstall a previous version which resulted in 'breaking' a users ability to create new activities . It was resolved fairly quickly but even so, was concerning in the moment! Take care, Marybeth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 22, 2025, 11:32 PM",
          "AuthorName": "Marybeth Koon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6511068&course=5",
          "role": [
            "Picture of Marybeth Koon"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434214,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434214",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Limiting Course Level LTI creation",
          "Text": "Hello Fellow Moodle Admins, If anyone has any insight they can share, I would very much appreciate it. I am in the process of trying to get all of our \"External Tool\" activities upgraded from LTI 1.0/1.1 to LTI 1.3. As part of this, I would like to lock down the ability for teachers to add new LTI instances without them being configured at the site level. I know there are several LTI permissions and I have played with them. My gut says that I should be able to remove mod/lti:addmanualinstance My thought being they would then be able to go to External Tool and ONLY have the preconfigured tool in the drop down, but that they could still use the Select Item button. However, removing this permission removes \"External Tool\" from the activity chooser all together. I then tried removing mod/lti:addcoursetool which seemed to kind of do what I wanted, but then the \"Select Content\" would tell the teacher's that they did not have permission to select the specific content at that preconfigured tool. I did some research and found these two Tracker items: https://tracker.moodle.org/browse/MDL-62815 https://tracker.moodle.org/browse/MDL-68328 A similar previous discussion took place here ( https://moodle.org/mod/forum/discuss.php?d=423730 ), but seemed to have a different goal. And as best I can gather from the discussion, the expectation is that we... 1. remove mod/lti:addmanualinstance 2. ensure that on each external tool setup that we choose for \"Tool configuration usage\" to \"Show in activity choose and as a preconfigured tool\" This would show the preconfigured tool item in the activity choose, but not show the external tool item. Is this the only (or best) way to accomplish my goal? (I am on Moodle 3.11, hosted on OpenLMS) Thanks, Scott",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 5, 2022, 4:18 AM",
          "AuthorName": "Scott Hardwick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120802&course=5",
          "role": [
            "Picture of Scott Hardwick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Limiting Course Level LTI creation",
          "Text": "Hi Scott, You've touched on an interesting area and may have highlighted a problem we've overlooked for years. After looking at the capability docs and the revision history (some of which goes back a long way), my take is as follows: The mod/lti:addcoursetool capability ( https://docs.moodle.org/400/en/Capabilities/mod/lti:addcoursetool ) was introduced well before LTI Advantage support was added, and in fact even before content selection (deep linking) support was added. Back then, it was added to control access to instructor_edit_tool_type.php. Back then, this was controlling the ability to add a full tool configuration to a specific course. Because we only supported 1.1 back then, a teacher was able create a course tool without the need to involve system admins, so this capability made sense as a way to control this. if users didn't have this, they couldn't create course-level tools. They could still use them, however. Content item selection (deep linking) support was then added in MDL-49609 . That issue added the capability check (mod/lti:adcoursetool) to contentitem ( Source code here ) flows, but never tested that as far as I can see. There appears to be no discussion around this on the issue either, aside from \"Add capability checks for contentitem and contentitem_return pages\". I think the content item message issue (2) incorrectly added that capability check (perhaps copy and paste from prior LTI code - I don't really know). There should be no reason a teacher can't use an existing preconfigured tool by selecting it from the list and then clicking \"Select content\" to pick a specific content item(s). This isn't creating a course level tool, it's just using an existing tool. Controlling it with this capability isn't right. So, it certainly looks like we have an annoying bug there, but that doesn't help you right now. And as best I can gather from the discussion, the expectation is that we...\n\n1. remove mod/lti:addmanualinstance\n\n2. ensure that on each external tool setup that we choose for \"Tool configuration usage\" to \"Show in activity choose and as a preconfigured tool\"\n\nThis would show the preconfigured tool item in the activity choose, but not show the external tool item.\n\nIs this the only (or best) way to accomplish my goal? I think this is indeed the only way to achieve what you want until the bug is fixed. I'll link a tracker issue here shortly dealing with addressing that. Edit: See MDL-74797 dealing with the bug described above. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 19, 2022, 11:16 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435983,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435983",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Can LTI 1.3 ...",
          "Text": "Hello, I have been going over the spec and what examples I could find for LTI 1.3 for a bit now.   What I'm trying to do - have the ability to send lineitem grades without a launch.  Basically we have teachers grade assessments and I then need to send the grade to moodle via LTI 1.3.  Preferably I can query moodle for the student data via their email address.   The best option would be if the teachers didn't need to link the resources ahead of time, but I'm not sure that's possible. So is it possible for the external tool to initiate these transactions, and if so what would I need to have stored to accomplish that? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 1, 2022, 4:53 AM",
          "AuthorName": "ted brace",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4979081&course=5",
          "role": [
            "Picture of ted brace"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can LTI 1.3 ...",
          "Text": "Hi Ted, That's an interesting question. There are basically two endpoints which facilitate score posting by the tool. The 'lineitems' URL and the 'lineitem' URL. You can read more about these in the spec if you wish: https://www.imsglobal.org/spec/lti-ags/v2p0#assignment-and-grade-service-claim . When/if each is included in launches is a little different in Moodle. I'll explain below. The plural 'lineitems' is sent during both deep linking launches (content selection) and resource link launches (user launches the tool). Importantly, we're able to include this during deep linking launches because, at the point of selecting content, we know we're in a course and can provide that information to the tool. The singular 'lineitem' however refers to a specific grade item and can't be sent during deep linking launches because Moodle hasn't yet created the grade item for the activity instance. We'll only know the specific 'lineitem' endpoint once Moodle saves the activity instance - provided a grade item is set up there. Only then will the tool see the 'lineitem' endpoint during a resource link launch (I.e. when a user launches into the tool). The reason I make the distinction above is important. Tools may wish to fully control their own line items via the 'lineitems' endpoint. Provided the relevant scopes are included in the deep linking launch message (scopes allowing the tool to create line items - again see the spec: https://www.imsglobal.org/spec/lti-ags/v2p0#line-item-service-scope-and-allowed-http-methods ), tools are able to create line items and post scores without having ever seen a resource link launch by a user. We do, of course, still need to have the id of the platform user (not email) to post the score for a given lineitem. This is normally something that comes from the resource link launch data, but we can certainly also get this from the names and role provisioning service first. So, the general process would be: 1. Teacher sets up resource link using content selection (deep linking) flow. The tool receives the lineitems endpoint as well as the NRPS endpoint as part of the request from Moodle) 2. Tool makes call to NRPS endpoint, fetching all users from the platform context . The tool now has access to the platform user ids needed to make score posts. 3. Tool creates line items using the lineitems endpoint it got during deep linking. This will result in lineitem endpoints being returned, which the tool can store. 4. Tool posts a score for a specific user using their user id and a specific lineitem endpoint. At no point did students need to launch into the tool for this to happen. So, I think something like this is possible, but it requires the Moodle instructor to set up resource links which aren't really expected to be used for launches by the students. They're only there to provide the lineitems endpoint to receive scores. Whether these links are available to students is another story (probably not). Food for thought anway. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 1, 2022, 11:06 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can LTI 1.3 ...",
          "Text": "Thank you for the information.  I have been trying, and failing to initiate a connection from the tool to the platform.  I stored all the necessary data to recreate the launch, but the id token comes up expired. So let me simplify my question.   Can a tool initiate a connection to the platform without a user being involved, or am I trying to do something that isn't possible? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 8, 2022, 12:59 AM",
          "AuthorName": "ted brace",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4979081&course=5",
          "role": [
            "Picture of ted brace"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can LTI 1.3 ...",
          "Text": "Hi Ted, At an absolute minimum, the tool needs to know the platform endpoints. It'll use these to communicate with the platform. The way it gets these is either as above - the content selection flow where the teacher uses deep linking to set up links to resources - or via a 'normal' (resource link) launch. So there's always a user involved but it could just be the teacher setting up the link in the case of the former. Then, the tool just communicates using the standard method described in the spec: https://www.imsglobal.org/spec/security/v1p1#using-oauth-2-0-client-credentials-grant . Pretty much any decent LTI library will provide this kind of thing out of the box. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 8, 2022, 9:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449015,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449015",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Expectation of error response with grade passback",
          "Text": "Hi, I've successfully integrated a tool that I've created with Moodle and would like more information about error handling.  My successful response was: array:3 [ \"headers\" => array:10 [ \"Age\" => \"0\" \"Content-Type\" => \"application/vnd.ims.lis.v1.score+json; charset=utf-8\" \"Date\" => \"Sun, 30 Jul 2023 15:00:58 GMT\" \" Server \" => \"Moodle\" \"Strict-Transport-Security\" => \"max-age=300; includeSubdomains\" \"X- Cache \" => \"MISS\" \"X-Clacks-Overhead\" => \"GNU Terry Pratchett\" \"X-Powered-By\" => \"Moodle Ninjas\" \"Content-Length\" => \"0\" \"Connection\" => \"keep-alive\" ] \"body\" => null \"status\" => 200 ] If there was some sort of error (user not enrolled in course? etc.), how will this message change? Thanks so much, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 30, 2023, 11:05 PM",
          "AuthorName": "Eric Kean",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5704798&course=5",
          "role": [
            "Picture of Eric Kean"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Expectation of error response with grade passback",
          "Text": "Hi Eric, There are a range of HTTP status codes used to denote different outcomes when posting a score. The specific case you mentioned above is handled with a 400, as you can see in the score handling code . If you take a look further up in that same file, you'll see a range of other status codes used for other scenarios. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 12:41 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Expectation of error response with grade passback",
          "Text": "Hi Jake, This is super helpful.  Thanks so much! From this code I can see that the body will either be null or a string with associated error code. Thanks so much, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2023, 2:19 PM",
          "AuthorName": "Eric Kean",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5704798&course=5",
          "role": [
            "Picture of Eric Kean"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462620,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462620",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 tool (McGraw Hill) does not display grade item if feedback is entered",
          "Text": "Environment:  Moodle 4.1.13 Using LTI 1.3, added McGraw-Hill Connect.  Professor successfully created an External Tool and deployed an activity (Chapter 1 HW).  Then, synched grades from McGraw-Hill system. Grades successfully deployed.  Professor went into Gradebook, edited grade item for one student, added a comment to \"Feedback\".  In User View, the assignment grade is now not visible - the whole row for that assignment is not visible - but the category grade accurately reflects the student's grade. Hiding the grade item, then making it visible did not change this behavior.  Deleting the feedback comment (including all the hidden HTML) did not change this behavior.  Multiple attempts to make the grade item visible in the User Report failed.  Ultimately, the professor deleted the activity and recreated it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 5, 2024, 12:55 AM",
          "AuthorName": "Joe Kennedy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1525097&course=5",
          "role": [
            "Picture of Joe Kennedy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 446775,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446775",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Passing group name to LTI 1.3 tools",
          "Text": "Is there a way to pass a users's group name to an external tool via custom parameters in LTI 1.3? Something like group_name=$Group.name (That doesn't work.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2023, 7:51 AM",
          "AuthorName": "Ryan Koopmans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5606658&course=5",
          "role": [
            "Picture of Ryan Koopmans"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing group name to LTI 1.3 tools",
          "Text": "Hi Ryan, Group name isn't one of the supported substitution params . There are plans to support the course groups service in future though - see MDL-69233 . Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2023, 9:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group name to LTI 1.3 tools",
          "Text": "Thank you for the speedy response.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 17, 2023, 1:24 AM",
          "AuthorName": "Ryan Koopmans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5606658&course=5",
          "role": [
            "Picture of Ryan Koopmans"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 256616,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=256616",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Minimise LTI bandwidth",
          "Text": "Hi, We want to connect a course on our MOODLE to another moodle using LTI. I am worried about the bandwith this might take up Is there any way of storing/caching a copy of the course on the other moodle so they don't keep on taking up bandwidth, but they get the course updates? rgds Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2014, 1:27 PM",
          "AuthorName": "Paul Wakelam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1607568&course=5",
          "role": [
            "Picture of Paul Wakelam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 426230,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426230",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Publish as LTI: Course or activity not accessible",
          "Text": "Folks, I have Moodle activity published as LTI.  It was working well but now when I access it via LTI regardless of moodle/LMS role I'm getting \"Course or activity not accessible\".    No restrict access set.  No start/end date for the Publish as LTI bit. Any suggestions?  Would the logic of the status be in some log?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 31, 2021, 3:26 AM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Publish as LTI: Course or activity not accessible",
          "Text": "Okay, so apparently completion tracking is enabled by default ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 31, 2021, 7:44 AM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as LTI: Course or activity not accessible",
          "Text": "Hi Kenwrick, Did you get to the bottom of this one? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 1, 2021, 10:00 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 390247,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390247",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI published quizzes error if timer used",
          "Text": "When I embed a moodle quiz insider a consumer (in my case Blackboard), if the quiz has a timer enabled, a javascript error is thrown and aspects of the quiz break.  Having dug deeper I can see from the javascript error this is directly related to the quiz timer.  However, it is worth noting that when quizzes are embedded in a consumer, the side blocks are hidden/not included and this includes the quiz navigation block where the timer would normally display. The issue here (I believe) is that embedded quizzes don't display the quiz navigation block so when the javascript makes a call to update it, there is a setContent() function call which throws a null object error (I see this in the error message) - there literally is no timer component to update on screen. Is this an error anyone else can reproduce and do you know of any known work arounds? Thanks, Stuart.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 28, 2019, 10:59 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI published quizzes error if timer used",
          "Text": "I found this related post which discusses a similar problem (although without the javascript error being mentioned). I still don't have a solution though: https://moodle.org/mod/forum/discuss.php?d=371681 Any help/advice from the community appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 28, 2019, 11:50 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI published quizzes error if timer used",
          "Text": "I can now expland on this a bit more. The problem I am seeing breaks the display of MathJax rendered content within the quiz question which for my purposes essentially breaks the quiz question. I've raised a bug and added a lot more detail to the problem which others might find useful to note. Bug https://tracker.moodle.org/browse/MDL-66544",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 14, 2019, 7:49 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457519,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457519",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.11 as LTI 1.1 Provider",
          "Text": "Hi, I am trying to configure one of our Moodle courses to act an as LTI 1.1 provider on a second system. I have provided what I believe are all the relevant details - the Launch URL and the Shared Secret - and they have been unable to get it to work. The other system's admin is asking me what to put in for 'Custom Parameters', which is a mandatory field on their system. I am under the impression that there are no custom parameters to send - certainly I haven't seen anything in the provider config that looks like custom parameters to be sent. Is there something that needs to be sent back as Custom Parameters to the provider?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 10:14 AM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "I will add that I have tested this Moodle 4.1 LTI 1.1 Provider by setting up a Consumer activity on a separate Moodle 3.11 site, which appears to be working - users on the 3.11 site are able to access the course through the LIT connection, and their results are successfully passed back to the provider.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 10:23 AM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "Further to the above, when trying to open the course on the consumer side, the URL of the resultant error page is the following: https://... .../Authentication/LMSReturn.aspx?lti_errormsg=Sorry%2C+there+was+an+error+connecting+you+to+the+application.&lti_errorlog=Debug+error%3A+OAuth+signature+check+failed+-+perhaps+an+incorrect+secret+or+timestamp.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 11:11 AM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "A new development. The admin I was talking to had put the launch details in the wrong spots - after correcting this we are now able to connect to the provider course from the consumer system. However results are not being sent back. The following error appeared in the provider Moodle's 'sync_grades' task log: Failed - The grade '1' for the user '15' in the tool '1' for the course '2' failed to send.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 11:53 AM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "Hi Keenan, First up, a note about versions: Use something current. We shouldn't be using LTI 1.1 any more. This is a deprecated specification and any major platform will support LTI 1.3 (it's replacement) these days. Moodle supports LTI 1.3 in its tool provider in 4.0+ and has supported it in the consumer for even longer. v3.11 is now out of support, so I'd strongly suggest you upgrade that site. Now, to clarify the custom params part: You're absolutely right, those aren't needed when using the legacy (LTI 1.1) provider. The id which identifies the specific activity/course is included in the launch URL. Custom params are, however, used (and required) when using the LTI 1.3 provider. So, if the consumer application is saying custom params are mandatory, then that sounds like a problem with the 1.1 setup on their end. Our 1.1 provider doesn't need them and they aren't required by the spec. Hope that helps",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 11:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "Thanks for your prompt response Jake, First off - using a newer version of LTI is not an option because the consumer only supports LTI 1.1. Regarding the custom params, I suggested putting 'force_embed = 1' in the field just to have something in there. Now that we've gotten the connection and user sync working, my focus moves to getting results sent back to the consumer system. I am almost certain that the problem is on their end, but is there anything on our end that could be causing the grade-sync to fail?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 12:17 PM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "No problem, Keenan. I suspect that's often the case for people still using 1.1 - it's out of necessity rather than preference. Sending basically anything in custom params as a workaround seems like a good idea to me. The output of the grade sync task looks okay to me, other than the fact it's not accepted. There's not a lot to go on there either unfortunately. I'd also check that you're running at least 3.11.11 because of some major issues with grade sync in versions prior to that: https://moodle.org/mod/forum/discuss.php?d=440491 . You could try to debug the grade sync task, but you could also go down the path of checking logs on the consumer - which might provide more info (or might not). Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 12:51 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 3.11 as LTI 1.1 Provider",
          "Text": "Thanks Jake, I'll see what I can find out debugging the grade sync task. If I can establish that the problem is on their end and their responsibility to fix, that is progress of a kind.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 1:24 PM",
          "AuthorName": "Keenan Nunes-Vaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3246636&course=5",
          "role": [
            "Picture of Keenan Nunes-Vaz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 240565,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=240565",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External Tool ignores lti_types_config.launchcontainer",
          "Text": "When adding a new External Tool to a course that is based off of a site-configured External Tool Type, the activity module tool ignores the parent tool's launchcontainer setting from lti_types_config.launchcontainer. Is this a bug?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2013, 1:28 AM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool ignores lti_types_config.launchcontainer",
          "Text": "Looks like it is a bug so I created a tracker issue and attached a fix MDL-42067",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2013, 2:40 AM",
          "AuthorName": "Joshua Johnston",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1540167&course=5",
          "role": [
            "Picture of Joshua Johnston"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 410266,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410266",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle, LTI and Schoology",
          "Text": "At our school we use the Moodle LTI tool to send user information from Schoology to Moodle and allow the completion of quizzes and the push of grades back to Schoology. (User starts in Schoology, follows link to Moodle and finishes quiz, and a grade gets passed back to Schoology) Everything works great with the passback of information between Schoology and Moodle. However, for 1 out of every 50 students they get stuck with being asked for Moodle log in information when trying to open the LTI. They appear under our Moodle course participants with a last login as \"never\" with their name, email and IP address... This means some information is being sent from Schoology to Moodle, but not enough to get them into the course without entering login information. Are there any common trouble-shooting tips for students for when this happens. We have seen this problem occur on the schoology app for IOS and in Safari on IOS)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2020, 2:32 AM",
          "AuthorName": "Mark Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3563727&course=5",
          "role": [
            "Picture of Mark Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle, LTI and Schoology",
          "Text": "I am working with XYZHomework. When your problem occurs with them, it is because the student logged in via XYZHomework, NOT by clicking through via the Moodle class. So the connection is not properly established. How to solve? Best to talk with Schoology. Bill",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2020, 9:39 PM",
          "AuthorName": "William Boyke",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3567564&course=5",
          "role": [
            "Picture of William Boyke"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle, LTI and Schoology",
          "Text": "I received a reply from my contact at XYZ. I am not including his contact Info. Hope this may help you. Bill B. There are two ways to enroll in a course, and it is one or\nthe other, not both. *  Scenario 1 - The course is not integrated.  The\nstudent goes to XYZ Homework website, logs in, enters Course ID to enroll \n(you could put a link to XYZ Homework in your Moodle course, and list the\nCourse ID to mimic \"single sign-on,\" as they would still go through\nMoodle, the grades just wouldn't auto-transfer) *  Scenario 2 - The course is integrated.  Students\nare not given the course ID.  Students enroll by clicking on the Moodle\nlink, which prompts them to log into their XYZ Homework course.  Grades\nauto-transfer If a student enrolls with Scenario 1, and then you want to\nintegrate your course into Moodle two weeks into the course, you would want to\nmake a record of that student's grades (by downloading the gradebook in XYZ\nHomework), then unenroll that student (unenrolling deletes all work, thus you\nwant to have a record of the grades before you unenroll the student), then\nhave the student enroll again by clicking on the Moodle link.  We suggest\nmaking all of your course edits, set all of your due dates, etc before\nintegrating, ideally, and never giving out the Course ID if you plan to\nintegrate (surprisingly, a number of Instructors miss this important fact,\nintegrate, and also give out the Course ID, which causes half of the class to\nnot enroll properly). With Scenario 2, the student needs to click on the Moodle\nlinks for the automatic grade transfer to work.  For example, let's say a\nmonth into a class that is integrated, a student wants to complete 3 homework\nassignments, 2.1, 2.2, and 2.3.  For 2.1, the student clicks on the Moodle\nlink, but for 2.2 & 2.3, the student does not click on the Moodle link, and\njust goes directly to XYZ Homework.  In this example, 2.1 would\nautomatically transfer grades, while 2.2 & 2.3 would not transfer (this is\na VERY common occurrence per my experience at Cengage, WebAssign, MobyMax, and\nhere). I think you both already have this video I put in the Zoom\nchat, but I will put it here as well.  The 6:09 mark of this video is\nwhere the hurdle is, with the blank screen: https://www.youtube.com/watch?v=ejb69sQ72dI&feature=youtu.be .  Best case scenario, we get this working either today or Monday, you\nstill may have to occasionally manually transfer grades, per the paragraphs\nabove. Lastly, if you use scenario 1, and never integrate, you can\nalways get the grades over to Moodle by exporting the gradebook, and importing\ninto Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2020, 10:18 PM",
          "AuthorName": "William Boyke",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3567564&course=5",
          "role": [
            "Picture of William Boyke"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 374510,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374510",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Not Permitting VoiceThread to Record Video/Audio in iframe",
          "Text": "We have a VoiceThread LTI that, after we upgraded from 3.1 to 3.5, stopped allowing students and instructors to record video or audio in the Moodle window. Instead, we get this error message generated by VoiceThread: https://www.screencast.com/t/ryLkZl6Tk1L VoiceThread tells us that it's a setting in Moodle, and that the iframe where the VoiceThread is embedded\ndoes not contain the correct parameters to allow microphone and webcam access\nto the tool embedded there. So my question is, where can I get to the setting to allow the mic and camera access?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 12, 2018, 3:41 AM",
          "AuthorName": "Benjamin Moser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2475875&course=5",
          "role": [
            "Picture of Benjamin Moser"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 449270,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449270",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.1 External Tool not working",
          "Text": "Hello, Long time listener first time caller. I'm running into an issue where my LTI 1.3 does not seem to be connecting to the third party provider. I have set up the external tool configuration system wide and registered the details with the third party provider and continue to get the same result. What happens is when I add the External Tool Activity in a course and select the Preconfigured Tool the Select Content button is \"greyed out\" and when clicked on does nothing. I've put the site in debug mode to see if I can get any errors to appear but no errors are given. Running up against a deadline her pretty quickly so any help is greatly appreciated. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 8, 2023, 11:42 PM",
          "AuthorName": "Rich SCI",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3402176&course=5",
          "role": [
            "Picture of Rich SCI"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4.1 External Tool not working",
          "Text": "Additional information: on “Inspect”ing the “Select content” button – it shows as “Disabled”. So for some reason that button is not “clickable” after selecting the \"Third Party Provider\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 9, 2023, 12:02 AM",
          "AuthorName": "Rich SCI",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3402176&course=5",
          "role": [
            "Picture of Rich SCI"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.1 External Tool not working",
          "Text": "Hi Rich, Have you checked the box \"Supports Deep Linking (Content-Item Message)\" in the tool's configuration? You'll also need to provide a URL for the deep linking endpoint when you do this. Once that's done, the button should be enabled when creating an instance of the tool. Hope that helps,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 9, 2023, 9:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 362388,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=362388",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle and LTI integration how to Clone the master course",
          "Text": "In Moodle through LTI integration anyone have any idea about how to Clone the master course and send the user to his private cloned course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 1, 2017, 7:07 PM",
          "AuthorName": "ItsMe Rajan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2339915&course=5",
          "role": [
            "Picture of ItsMe Rajan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 228096,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=228096",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Open Source LMS for LTI 1.1 enable IMS Common cartridges import",
          "Text": "Hi All, I'm thinking to have an open source LMS to import LTI 1.1 enable IMS Common cartridges, can I get this done with Moodle or any other LMS? If Moodle deals this below are few queries I would like to get clarified: 1.    Which version of Moodle can help in my requirement? 2.    Do I need to enable any LTI based controls/plug-in to get this imported? Thanks Santhosh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 8, 2013, 8:33 PM",
          "AuthorName": "Santhosh Suresh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1599539&course=5",
          "role": [
            "Picture of Santhosh Suresh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 446168,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446168",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "can't sync grade LTI betwen 2 moodle site",
          "Text": "I have successfully published the course as LTI on moodle site provider (moodle version 3.11) and moodle site consumer (moodle 4.1). I was able to open the course on the moodle customer site, but when syncing the grade it always failed and I got an error like this Starting - Grade sync for shared tool '2' for the course '77'. Failed - The grade '1' for the user '565' in the tool '2' for the course '77' failed to send. Completed - Synced grades for tool '2' in the course '77'. Processed 1 users; sent 0 grades. I have checked as follows 1. enable LTI authentication method and publish LTI enrollment 2. enable frame embedding on site security 3. check the cron is running 4. The user had grade on the moodle provider site Please advise, are there any steps wrong or missing?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 12:21 PM",
          "AuthorName": "Rizal Masandiansyah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5058395&course=5",
          "role": [
            "Picture of Rizal Masandiansyah"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: can't sync grade LTI betwen 2 moodle site",
          "Text": "Hi Rizal, First up, I'd encourage you to move on from 3.11 and use 4.0+ as newer versions provide LTI Advantage publication of activities and courses. 3.11 still uses LTI 1.1 which has been deprecated by 1EdTech for quite some time now. Disclaimer aside, the ability to accept grade into the platform/consumer is a privacy setting, so I'd suggest checking that. In the activity setting (the external tool instance settings), check 'Privacy' and make sure 'Accept grades from the tool' is selected. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 2:14 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: can't sync grade LTI betwen 2 moodle site",
          "Text": "Hello Jake, Thanks a lot, we try moodle provider using moodle version 3.11 dan moodle consumer using moodle version 3.11. and working great.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 4:57 PM",
          "AuthorName": "Rizal Masandiansyah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5058395&course=5",
          "role": [
            "Picture of Rizal Masandiansyah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: can't sync grade LTI betwen 2 moodle site",
          "Text": "Hi Rizal, You can certainly use different version of Moodle for the consumer and provider. The LTI version is what really matters, as this dictates the way the launch process (and other processes) work in the background. If you're using 3.11, please also see the pinned message in this forum. There were a number of major bugs in grade sync fixed in 3.11.11 which, prior to fixing, resulted in the error you're seeing. So, you really must be on at least 3.11.11 if you're stuck using 3.11. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 28, 2023, 8:55 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 384874,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=384874",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Strange User IDs when Using Moodle as an LTI Tool",
          "Text": "I use Schoology as an LMS.  For homework for my students, I have a Moodle site running and I publish the Moodle quizzes as an LTI tool.  Students access the Moodle quizzes through Schoology's External Tool function.  The whole process seems to work well, including the correct grade passback from Moodle to Schoology.  However, the students' exact user name is not getting passed correctly from Schoology to Moodle.  If I want to login to Moodle to view the attempt, I see something like \"42753849::9e8a7c781f5c80a02a0cded932865849\" for a user name for the student.  It would be helpful if I could see the actual user name that should be passed to Moodle from Schoology.  Any idea what might be going on here so I can try to diagnose this problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 6, 2019, 9:40 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Strange User IDs when Using Moodle as an LTI Tool",
          "Text": "Hi MIke, I've just encountered this same issue when testing LTI with Schoology and the solution is to add Moodle as an LTI tool on the Course Level and not on the Material/Resource Level. You can follow the steps from the link below: https://support.schoology.com/hc/en-us/articles/206401048-Course-Materials-External-Tools Go to the ﻿ \"Setting Up LTI External Tool Providers in Schoology\" section. Hope this helps!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 11, 2019, 8:15 AM",
          "AuthorName": "Paolo Curray",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1896128&course=5",
          "role": [
            "Picture of Paolo Curray"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Strange User IDs when Using Moodle as an LTI Tool",
          "Text": "I noticed something similar with Canvas....when you add the LTI , there is a Privacy drop down box. If you pick \"Anonymous\", then you get the weird user names generated, but if you pick something else like \"Public\" or \"Name Only\", then the student names should show up properly. Hope that helps!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 19, 2019, 2:05 AM",
          "AuthorName": "Joseph Liaw",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=284918&course=5",
          "role": [
            "Picture of Joseph Liaw"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Strange User IDs when Using Moodle as an LTI Tool",
          "Text": "Hello Joseph, I am having the same problem with the Canvas-Moodle integration, but I do not have access to the Canvas settings and have to ask the administrators to change settings. Is the Privacy Drop-Down located in Canvas or Moodle? Thank You, Stan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 5, 2020, 5:41 AM",
          "AuthorName": "Stanislav Shap",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2533615&course=5",
          "role": [
            "Picture of Stanislav Shap"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Strange User IDs when Using Moodle as an LTI Tool",
          "Text": "Thanks for the help.  This does work well.  It appears that Schooogy is only prepared to send user info to Moodle if you have it configured at the course level in addition to at the activity level.  If only you didn't have to add each activity twice....oh well, at least it works.  Thanks again!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 28, 2020, 2:30 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 408639,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=408639",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 got an access token but getting list of members still fails, any reason why?",
          "Text": "Using postman, I am able to get an access token from a platforms Access Token URL , but when I try and then get a list of memberships from the platform, I get this: \n```text\n{\n\n\n    \"status\": 401,\n\n\n    \"reason\": \"Unauthorized\",\n\n\n    \"request\": {\n\n\n        \"method\": \"GET\",\n\n\n        \"url\": \"/moodle/mod/lti/services.php/CourseSection/1082/bindings/4/memberships\",\n\n\n        \"accept\": \"application/vnd.ims.lti-nrps.v2.membershipcontainer+json\"\n\n\n    }\n\n\n}\n```\n This only happens with a single users (schools) platform, running Moodle 3.9. Our other users, as well as our 3.9.1 sandbox on Moodlecloud work fine. Is there a setting or option that could be turned off that might cause this issue? We have tried everything I can think of to no avail. --Tom O'Connor Lead Developer - Hawkes Learning",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 12, 2020, 8:23 PM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 got an access token but getting list of members still fails, any reason why?",
          "Text": "Any idea what could be the cause? Was there a recent change to the Moodle LTI 1.3 code? Versions previous to 3.9 seem to work fine, but now we have a couple of users who are using 3.9 and later who all have the above issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 17, 2020, 9:01 PM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 got an access token but getting list of members still fails, any reason why?",
          "Text": "Hey Thomas, Were you able to get a resolution on this? We are experiencing the same issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2020, 3:38 AM",
          "AuthorName": "Roy Burgos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3563998&course=5",
          "role": [
            "Picture of Roy Burgos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 got an access token but getting list of members still fails, any reason why?",
          "Text": "No, we are still having the same problem. As mentioned it works with a number of other schools we work with, but there are a couple where it does not. Maybe its something to do with the plugins or themes they are using. Do you know if the moodle you are having an issue with is stock or has been customized?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 14, 2020, 1:31 AM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 262421,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262421",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "external database enrollment",
          "Text": "hiii is there any suggestions for auto grouping when using external database enrollment plugin ??? any ideas will be highly appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 19, 2014, 3:40 PM",
          "AuthorName": "Ahmed Nobani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1736295&course=5",
          "role": [
            "Picture of Ahmed Nobani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 216386,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=216386",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "external quiz",
          "Text": "Hello, I'm trying to do the following: Create an external website with a quiz but it can upload to moodle the results, even make this application work on an iPad. I'm looking for information to ge started to develop the idea, but I'm a bit lost in the moodle world. A greeting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 22, 2012, 5:41 PM",
          "AuthorName": "cesar irnan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1528000&course=5",
          "role": [
            "Picture of cesar irnan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: external quiz",
          "Text": "just find this: https://moodle.org/mod/forum/discuss.php?d=198180 I'll have a look",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 22, 2012, 5:43 PM",
          "AuthorName": "cesar irnan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1528000&course=5",
          "role": [
            "Picture of cesar irnan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 218277,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=218277",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Accept grades from the tool: Always",
          "Text": "As far as I can tell this option is not working when selected in the site administration options.  Although individual activities are displayed with the checkbox checked (and greyed out) no item is created in the gradebook and no grades are returned. The workaround seems to be to delegate this decision to the teacher, then the option appears in each activity and it can be checked and grades do return OK. I'm running Moodle 2.2.3 (build 20120615) Is this a known issue?  I searched JIRA and couldn't see any mention of it. Similarly, you don't seem to be able to get open in New Window to work when it is set as the site-wide policy (but it can be overridden more easily in the activity).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 18, 2012, 10:01 PM",
          "AuthorName": "Steve Lay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=314223&course=5",
          "role": [
            "Picture of Steve Lay"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Accept grades from the tool: Always",
          "Text": "Thank you for posting this. I don't think I would have figured out this setup if it were not for this post.  I was having the same issue and found that I needed to select the Accept grades from this tool checkbox from the activity setup in the course vs. the external tool configuration.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 6, 2014, 4:55 AM",
          "AuthorName": "Monica Defendorf",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1765175&course=5",
          "role": [
            "Picture of Monica Defendorf"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 314397,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314397",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Is it possible to integrate an external content provider with LTI?",
          "Text": "Hi, Is it possible to integrate an external content provider with LTI? For example, course users should have (3 month) access to http://journals.lww.com/pages/default.aspx ? Do we have an example for that? Thanks, Vjeko",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 29, 2015, 11:43 PM",
          "AuthorName": "Vjekoslav Hlede",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=556706&course=5",
          "role": [
            "Picture of Vjekoslav Hlede"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is it possible to integrate an external content provider with LTI?",
          "Text": "Provided the external content provider supports LTI then this should be eminently possible.  It is, for example, one of the options used by Vitalsource to connect to their eTextbook reader.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 31, 2015, 12:24 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 411803,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=411803",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI connection (External tool) sharing personal data",
          "Text": "Good morning everyone! Our Moodle (A) is connected to another Moodle platform (B) and we share information from A to B via the External Tool resource. \"B\" has notified us that t hey are seeing personal data from the students that take the course in \"A\", while in our system \"B\" students are encrypted. Is this normal and we can be sure that only those with manager/teaching roles can access said personal data or, on the other hand, personal data should not be shared at all between A and B? It seems they also had some issues with the grades at some point, so may it be related to a wrong setting that we have overlooked? Thank you very much for your support!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 7, 2020, 5:17 PM",
          "AuthorName": "Maria José E.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2190759&course=5",
          "role": [
            "Picture of Maria José E."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 374244,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374244",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Availability dates in External LTI Tool settings?",
          "Text": "LTI tool tasks do not make it into the Dashboard notifications. I wonder if it would be possible to add the Availability section to the setttings for LTI tools added within course pages by teachers, and to the report these dates to the Dashboard? I'm directing this probing question to this forum first, I haven't yet trawled the Tracker. Thanks, Przemek",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 5, 2018, 11:06 PM",
          "AuthorName": "Przemek Kaszubski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109067&course=5",
          "role": [
            "Picture of Przemek Kaszubski",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Availability dates in External LTI Tool settings?",
          "Text": "I am replying to myself. Only now spoted this point in the Forum FAQ: https://docs.moodle.org/35/en/Forum_FAQ#How_can_I_get_my_forum_to_display_in_the_Course_overview_block.3F which says: \"Set an 'Expect completed by' date in the Activity completion section of your forum.\" I have just tested this for an LTI tool, and it also works - for the end date at least. (In fact this (workaround) method works with most other modules that have problems communicating their deadlines and opening dates to the Course overview, or those that don't have Availability / Timing setings.) Good to have a solution for external tools on the Moodle side ! Przemek",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 6, 2018, 6:05 AM",
          "AuthorName": "Przemek Kaszubski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=109067&course=5",
          "role": [
            "Picture of Przemek Kaszubski",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 419449,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=419449",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Google Assignment LTI logging teachers out",
          "Text": "Hi there, Bit of a strange one which I am not too sure how to go about debugging... We have the Google Assignments LTI tool setup in our Moodle as per the instructions here: External_tool_settings and here: https://support.google.com/edu/assignments/thread/62671405 The first time you set up the external tool in Moodle, you go through all of the Google Assignment screens, selecting the file etc. and then when you click close / save, You are logged out of Moodle and are then presented with this error message: A required parameter (oauth_consumer_key) was missing More information about this error Even stranger, is that if you then log back in and repeat the above process it works perfectly. It does this every single time (i.e. you have to do the process twice) that you try and use the Google Assignments LTI tool in Moodle... This is understandably a little bit annoying! Any ideas about how to debug this gratefully received! Jon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 10, 2021, 12:57 AM",
          "AuthorName": "Jon Witts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=89775&course=5",
          "role": [
            "Picture of Jon Witts",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 426498,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426498",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI not working showing - Exception - Return value of lti_get_instance_type() must be an object or null, bool returned",
          "Text": "Hello I have upgraded moodle 3.10 to 3.11 after upgradation LTI not working showing - Exception - Return value of lti_get_instance_type() must be an object or null, bool returned. Debug info: Error code: generalexceptionmessage s tack trace: line 521 of /mod/lti/locallib.php: TypeError thrown line 535 of /mod/lti/locallib.php: call to lti_get_instance_type() line 714 of /mod/lti/locallib.php: call to lti_get_launch_data() line 88 of /mod/lti/launch.php: call to lti_launch_tool() Output buffer: <br /> <b>Notice</b>: Trying to get property 'name' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2609</b><br /> <br /> <b>Notice</b>: Trying to get property 'id' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2611</b><br /> <br /> <b>Notice</b>: Trying to get property 'toolproxyid' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2613</b><br /> <br /> <b>Notice</b>: Trying to get property 'baseurl' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2615</b><br /> <br /> <b>Notice</b>: Trying to get property 'ltiversion' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2617</b><br /> <br /> <b>Notice</b>: Trying to get property 'clientid' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2619</b><br /> <br /> <b>Notice</b>: Trying to get property 'description' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2622</b><br /> <br /> <b>Notice</b>: Trying to get property 'parameter' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2624</b><br /> <br /> <b>Notice</b>: Trying to get property 'icon' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2626</b><br /> <br /> <b>Notice</b>: Trying to get property 'secureicon' of non-object in <b>/var/www/html/mod/lti/locallib.php</b> on line <b>2628</b><br /> Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 6, 2021, 8:13 PM",
          "AuthorName": "Shailesh Todkari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2060862&course=5",
          "role": [
            "Picture of Shailesh Todkari"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI not working showing - Exception - Return value of lti_get_instance_type() must be an object or null, bool returned",
          "Text": "What version of PHP is your site running? 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 6, 2021, 9:41 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not working showing - Exception - Return value of lti_get_instance_type() must be an object or null, bool returned",
          "Text": "Hi Ken PHP version - 7.4.12 Thanks Shailesh",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 7, 2021, 12:45 PM",
          "AuthorName": "Shailesh Todkari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2060862&course=5",
          "role": [
            "Picture of Shailesh Todkari"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459548,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459548",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI and Moodle External Tool",
          "Text": "I'm new to Moodle and I want to implement simple ASP.NET Core MVC app as Moodle External Tool. I'm interested in what LTI can do and how to return some data to Moodle from the Moodle External Tool? What would you recommend me to implement, to be a learning scenario.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 20, 2024, 6:06 AM",
          "AuthorName": "Gordana Tasic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5636002&course=5",
          "role": [
            "Picture of Gordana Tasic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 424213,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424213",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Common Cartridge: What version(s) are supported?",
          "Text": "Good evening everyone, Could someone tell me or point me in the direction of what version Common Cartridge or Thin Common Cartridge is supported by Moodle 3.11 and MoodleCloud? I have found these resources: https://docs.moodle.org/311/en/External_tool_FAQ#What_version_of_LTI_is_supported_by_the_external_tool.3F https://site.imsglobal.org/certifications/moodle Thank you for your time on this, Thomas E. Bennett",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 3, 2021, 5:57 AM",
          "AuthorName": "Thomas Bennett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4006654&course=5",
          "role": [
            "Picture of Thomas Bennett"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Common Cartridge: What version(s) are supported?",
          "Text": "Hi Thomas, This might be of some help to you: https://tracker.moodle.org/browse/MDL-60803",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 12:33 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Common Cartridge: What version(s) are supported?",
          "Text": "Thank you, Jake. This is exactly what I needed. Have a great day, Thomas",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 8:22 PM",
          "AuthorName": "Thomas Bennett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4006654&course=5",
          "role": [
            "Picture of Thomas Bennett"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 395951,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395951",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "I can't see external tool page",
          "Text": "Hi community, I can't see the page \"manage tools >>external tool\" any body help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 20, 2020, 11:36 AM",
          "AuthorName": "Ezz Tech",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2880104&course=5",
          "role": [
            "Picture of Ezz Tech"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: I can't see external tool page",
          "Text": "Go to Site Administrator, Plugins and select manage enrollment plugins and make the LTI External Tool visible (enable the plugin)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 6:34 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391942,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391942",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI to view course from other sites in our Moodle",
          "Text": "Hi all, I am new to LTI and am wondering if it is easy and possible to port /link in a course from another LMS into our Moodle system? I have read about connections to have others view our courses but am wondering how difficult it is to go the other way. Any information would be greatly appreciated. We are using Moodle 3.6. Kind Regards, Leticia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 7, 2019, 11:08 AM",
          "AuthorName": "Leticia Dark-rose",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1881713&course=5",
          "role": [
            "Picture of Leticia Dark-rose"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 276465,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=276465",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "obtain the authentication token and print it",
          "Text": "Hello! I'm starting to develop an app that needs LTI . I have already installed LTI . This works perfectly , and I managed to share files on a moodle to another. To further develop the application , I need to : Once installed my webService , it receives from Moodle , the request of use. then Moodle, sends the token . ** I need my webService print this token into a html file. ??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 9, 2014, 5:53 PM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 397858,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397858",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI External Tool and completion",
          "Text": "Only viewing and grading are currently supported as completion criteria for the External Tool plugin. Since LTI external tools often provide tests, quizzes, assignments, etc. where completion (e.g. based on a passing grade) is determined provider side, this leads to awkward constructions to handle course completions. Are there plans to add a completion criterion based on e.g. the Result.state? How do you guys handle this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 4, 2020, 9:21 PM",
          "AuthorName": "W Roes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1258805&course=5",
          "role": [
            "Picture of W Roes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 428457,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=428457",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "'External Tool Link' on 'Site Home' doesn't show for students",
          "Text": "Hello - I'm able to add an 'external tool' activity to my 'site home' and the link appears to work fine when I'm signed in as an admin - but if I sign in with a student account, I don't see the external tool link. I've double checked the \"availability\" setting for the link and that seems fine. Does anyone have any ideas for getting this to work? Thanks so much!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 27, 2021, 3:54 AM",
          "AuthorName": "Veronica Skudlarczyk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4565265&course=5",
          "role": [
            "Picture of Veronica Skudlarczyk"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "'External Tool Link' on 'Site Home' doesn't show for students",
          "Text": "There are no students on the home page, so you'll need to check permissions for the 'authenticated user, role",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 27, 2021, 7:08 PM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 'External Tool Link' on 'Site Home' doesn't show for students",
          "Text": "Thanks for the help! We got it to work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 28, 2021, 12:18 AM",
          "AuthorName": "Veronica Skudlarczyk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4565265&course=5",
          "role": [
            "Picture of Veronica Skudlarczyk"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 347030,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=347030",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "External Tool Integration & LTI Outcomes Management 2 service",
          "Text": "I want to integrate a LTI complaint to tool to moodle. Since the launch is LTI1.1 compatible I'm planning on using the \"External Tool\" option to integrate this tool with moodle. The tool will be integrated at Course Level ( link to launch the external tool at course level) and once the tool is launched, in the tool side Instructors are able to create many assignments. Similarly for students the tool will be launch-able again in course level, once the tool is launched in the tool side the student can attempt any assignment the instructor has created. I'll need to create Grade Columns in moodle when instructor create & publishes the assignment in the tool side. And once a student attempts an assignment and finishes the assignment I should be able to send back the grade to moodle, for that specific assignment and for student. I have gone through the LTI Outcomes2 Services and that would seem to cater this requirement, but it looks like it's still not supported in moodle. When or which release is this service planned to be implemented in moodle? What other options are there to cater this requirement? Thank You.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 6, 2017, 9:16 PM",
          "AuthorName": "Chamila Liyanage",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2198535&course=5",
          "role": [
            "Picture of Chamila Liyanage"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool Integration & LTI Outcomes Management 2 service",
          "Text": "It's supported since 2.8, at least according to the release notes https://docs.moodle.org/dev/Moodle_2.8_release_notes#External_tool Also, please do not cross post. https://moodle.org/mod/page/view.php?id=7080",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 22, 2017, 6:00 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool Integration & LTI Outcomes Management 2 service",
          "Text": "Thanks Tim. I went through that but in supported services the Outcome Management Service 2.0 is not included. I found this forum post that's why I thought you might have more information about this feature.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 22, 2017, 6:50 PM",
          "AuthorName": "Chamila Liyanage",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2198535&course=5",
          "role": [
            "Picture of Chamila Liyanage"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool Integration & LTI Outcomes Management 2 service",
          "Text": "Note that while LTI2 is supported by moodle, Outcomes 2 is it's own thing and is not part of LTI2 Also note that outcomes 2 is still only a public draft, having not been finalised yet. https://www.imsglobal.org/specs/ltiomv2p0/specification-about However despite it being still in draft, work on it has been started. You can watch and vote for the issue here: https://tracker.moodle.org/browse/MDL-55644 If you are technically inclined or have someone at your disposal who is they can continue the work. As far as I know it's not a priority for current development (although definitely a very useful feature).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 10:01 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 370437,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=370437",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Requests to Moodle's Outcome Service failing",
          "Text": "Hello, everyone; I am currently developing a quiz game to work as an external tool within Moodle. I am following the IMS LTI specification and using OAuth for authentication, as it requires. I recently managed to authenticate the launch POST request from Moodle, and am now trying to send grades back to Moodle from my tool by using LTI Basic Outcome Service. Here is where I have encountered a problem: I build POX messages, sign the request, and send it, but for some reason they are succeeding just once every several attempts (30% of the time, more or less). For the rest of them, Moodle responds with a failure POX message that includes \"Message signature not valid\" as its description. Obviously, I want to trust my requests will succeed whenever I need them to. Any ideas on the reason this could be happening? Any suggestions on how to find out? Thank you all in advance for your help! For illustration purposes, I show you here below an example of a successful request and a failed one, along with each one's Base String (the one signed with the OAuth protocol): ################################## ##########Successful request########### ################################## Body hash : hPssgohenJEvtKta2so7Y27p3kU= Base String (line breaks are for display purposes only) : POST&http%3A%2F%2F127.0.0.1%2Fmoodle%2Fmod%2Flti%2Fservice.php&oauth_body_hash%3DhPssgohenJEvtKta2so7Y27p3kU%253D %26oauth_callback%3Dabout%253Ablank%26oauth_consumer_key%3Dkey%26oauth_nonce%3D63cc0764c4cc4701abe28fa5fd406378 %26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1525940779%26oauth_version%3D1.0 Body: <? xml version=\"1.0\" encoding=\"UTF-8\"?> <imsx_POXEnvelopeResponse xmlns=\" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXResponseHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>1602471533</imsx_messageIdentifier> <imsx_statusInfo> <imsx_codeMajor>success</imsx_codeMajor> <imsx_severity>status</imsx_severity> <imsx_description>Result read</imsx_description> <imsx_messageRefIdentifier>961216995</imsx_messageRefIdentifier> <imsx_operationRefIdentifier>readResultRequest</imsx_operationRefIdentifier> </imsx_statusInfo> </imsx_POXResponseHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <readResultResponse> <result> ﻿ ﻿ <resultScore> <language>en</language> <textString>0.5</textString> </resultScore> </result> </readResultResponse> </imsx_POXBody> </imsx_POXEnvelopeResponse> ############################### ##########Failed request########### ############################### Body hash = YLigJE+8wr7rCwOITqdc1IP3zFs= Base String : POST&http%3A%2F%2F127.0.0.1%2Fmoodle%2Fmod%2Flti%2Fservice.php&oauth_body_hash%3DYLigJE%252B8wr7rCwOITqdc1IP3zFs%253D %26oauth_callback%3Dabout%253Ablank%26oauth_consumer_key%3Dkey%26oauth_nonce%3D6de4380ce2ab4d9a90e3fe1723dc5141 %26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1525940816%26oauth_version%3D1.0 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <imsx_POXEnvelopeResponse xmlns=\" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXResponseHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>1688463600</imsx_messageIdentifier> <imsx_statusInfo> <imsx_codeMajor>failure</imsx_codeMajor> <imsx_severity>status</verity> <imsx_description>Message signature not valid</imsx_description> <imsx_messageRefIdentifier/> <imsx_operationRefIdentifier>unknownRequest</imsx_operationRefIdentifier> </imsx_statusInfo> </imsx_POXResponseHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <unknownResponse/> </imsx_POXBody> </imsx_POXEnvelopeResponse>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 10, 2018, 5:49 PM",
          "AuthorName": "Pablo Garcia de los Salmones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2407052&course=5",
          "role": [
            "Picture of Pablo Garcia de los Salmones"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 329905,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=329905",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Outcome shared by all course members",
          "Text": "Hi, I'm implementing an external chat room as an LTI provider. Is there a way to send back the chat log of each session to moodle? It will be nice to have  a list of all chat sessions in moodle on the course. Clicking on a row will show the log of chat messages in this session. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 15, 2016, 9:53 PM",
          "AuthorName": "Pablo Platt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1585505&course=5",
          "role": [
            "Picture of Pablo Platt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 396157,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396157",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Add a Description field to External Tool activity",
          "Text": "There is no place for an instructor to add assignment instructions inside of the External Tool activity. It would be great to have a Description field with the option to show on the course page, just like we have available in the Moodle Assignment and Forum activities , for example. Otherwise, instructors have to create a label or page with specific directions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 24, 2020, 1:48 AM",
          "AuthorName": "Christy Mattingly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1732826&course=5",
          "role": [
            "Picture of Christy Mattingly"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 421042,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421042",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Sync Grades isn't working moodle > blackboard",
          "Text": "I'm using moodle 3.5.3+ (Build: 20181113) as LTI provider. and i'm trying to Launch the moodle course from Blackboard \" LTI consumer\" When i try to run the cron \"Publish as LTI tool grade sync\" i get this message --------------------------------- \n```text\nExecute scheduled task: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades)\n... started 15:46:19. Current memory use 8.5MB.\nStarting - Grade sync for shared tool '2' for the course '33'.\nCompleted - Synced grades for tool '2' in the course '33'. Processed 0 users; sent 0 grades.\n\nStarting - Grade sync for shared tool '4' for the course '80'.\nSkipping - Empty serviceurl for the user '6138' in the tool '4' for the course '80'.\nSkipping - Empty serviceurl for the user '6141' in the tool '4' for the course '80'.\nCompleted - Synced grades for tool '4' in the course '80'. Processed 2 users; sent 0 grades.\n\n... used 4 dbqueries\n... used 0.0018918514251709 seconds\nScheduled task complete: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades)\n```\n --------------------------------- I already added my domain to the trusted list of providers on blackboard and allowed access to membership service Also to check if there could be any interruptions i ran a cURL on my moodle server to blackboard site and i'm getting a reply Any ideas about what my next steps could be ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 15, 2021, 10:52 PM",
          "AuthorName": "Waleed Kotb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2158515&course=5",
          "role": [
            "Picture of Waleed Kotb"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Sync Grades isn't working moodle > blackboard",
          "Text": "Hi Waleed, The fact that you have an empty serviceurl appears to be the issue. The grade sync task is running but doesn't know what endpoint to call to return the grades. This is a field on the enrol_lti_users table. This serviceurl is set for each user when the (consumer) user launches the tool activity. I suspect this isn't being sent, perhaps due to a configuration issue in Blackboard. Maybe the tool definition there isn't set up to allow gradesync, and so doesn't send the lis_outcome_service_url field - but that's just a guess. I don't have access to Blackboard and can't confirm. You'd ideally need to troubleshoot the launch data and work out why the serviceurl isn't being sent. Hope that gives you something to go on. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 12:46 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462024,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462024",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Successfully fetched tool configuration from the selected content.",
          "Text": "I am doing a deep integration between Moodle 4.2 and Pearson's My Math Lab. When I select the content from My Math Lab, Moodle opens a new tab with the following message highlighted in green.\n\"Successfully fetched tool configuration from the selected content.\" but no content is added and my Pearson's External Tool still has \"This tool has not yet been used\" in the Manage Tools window.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 13, 2024, 11:02 PM",
          "AuthorName": "Frank Szatkowski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4269&course=5",
          "role": [
            "Picture of Frank Szatkowski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Successfully fetched tool configuration from the selected content.",
          "Text": "Hi Frank, What should happen is that during deep linking, you'll see a modal dialog, where you can select content from the tool. When the content it sent back (when you're done selecting it), that message \"Successfully fetched...\" is only very briefly displayed (in the modal, not a new browser tab), before the modal is closed and the original form updated. At this point, you'd just save the activity instance and you'd be able to launch. It sounds like that's not what's happening in your case, but it's a bit hard to know why without seeing it. Any chance you can upload a screen recording of what you're doing? Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 10:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 318928,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318928",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Link to a LTI provider from an external source",
          "Text": "I apologize if I have missed this somewhere but what is the process that one would use to link to an LTI provider from an external source? Specifically, this is our situation. We have an external tool setup, on occasion that external tool generates an email with a link and sends it to an user. That user clicks on that link and goes directly to the LTI providers website. The provider sees that the user has not been authenticated and redirects back to our Moodle install. (We can tell the provider where and what parameters to send us.) That is where we are stuck, not sure what url and parameters to tell the LTI provider to use for us. It seems like there would be something in place already to handle this and I know that the provider has this workflow working with D2L. Any direction on this issue would be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 26, 2015, 11:00 PM",
          "AuthorName": "Steve Prater",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=48507&course=5",
          "role": [
            "Picture of Steve Prater"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Link to a LTI provider from an external source",
          "Text": "I ended up with a partial solution anyway. I created a custom page to keep in the moodle/local/ directory that solves the issue for Firefox and chrome. IE is misbehaving though. The solution involves IFrames and re-directions and is far from elegant. If you are in need of something like this, I'll attach it to this post. If you know of something better, please let me know! Have a nice day!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 3, 2015, 4:56 AM",
          "AuthorName": "Steve Prater",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=48507&course=5",
          "role": [
            "Picture of Steve Prater"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 466758,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=466758",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI sync score error",
          "Text": "Hi, I am attempting to sync scores from the external tool, but the tool side encountered this error: LtiServiceException: HTTP response [ https://xxx.moodlecloud.com/mod/lti/services.php/44/lineitems/168/lineitem/scores?type_id=1 ]: 400 However, I received a different error yesterday, which was 502. We are able to create and view line items at the line item endpoint, but we are unable to assign a grade to them. Could someone tell me what we are doing wrong? Regards, Jun",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 13, 2025, 10:37 AM",
          "AuthorName": "Jun Tu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2253299&course=5",
          "role": [
            "Picture of Jun Tu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 470872,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470872",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.1 as LTI 1.3 Tool - no AGS token request and no /scores POST",
          "Text": "I’m integrating Moodle 4.1 as an LTI 1.3 Tool with our LMS Platform . OIDC login (resource launch) and Deep Linking both work. However, when a grade should be sent, Moodle never requests an OAuth token from our IdP and doesn’t POST to the AGS line item. IdP / issuer (from ID token): idp[dot]example/auth/realms/<realm> OAuth client_id (Moodle at IdP): <moodle-tool-client-id> Resource launch (AGS claim) sent by the Platform: scope: …/lti-ags/scope/score (score-only) lineitem: platform[dot]example/.../lineitems/<lineitem-id> (concrete URL ) Expected Tool behavior (Moodle): Discover token endpoint from issuer (iss). Request access token via client_credentials + private_key_jwt client_id = <moodle-tool-client-id> scope = …/lti-ags/scope/score POST {lineitem}/scores to the Platform’s AGS endpoint. Actual behavior: No call to the IdP token endpoint when grades change. No POST to the line item. Moodle configuration (as Tool): Publish as LTI tool: Enabled Tool registration: OIDC discovered; Platform JWKS set Services (per published tool): “Use this service for grade synchronization only” (to match score-only scope) Accept grades from the tool: Never (Moodle is the Tool) IdP setup: Client: <moodle-tool-client-id> Auth: private_key_jwt enabled; service accounts enabled (supports client_credentials) Tool public key/JWKS registered; small clock skew allowed Questions: With Moodle 4.1 as Tool and score-only scope + “grade synchronization only”, should Moodle request a token and POST `/scores` on grade change (without needing lineitem or result.readonly scopes)? Are there known 4.1 issues or extra switches that block the AGS token request unless “grade synchronization and column management” is selected? Which logs/components (or cron tasks) in 4.1 definitively show the outbound client_credentials request for AGS? I can share redacted ID tokens, screenshots of the Publish-as-Tool Services settings, and the IdP client config if helpful. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 12, 2025, 2:43 PM",
          "AuthorName": "Manoj Chaurasiya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5642785&course=5",
          "role": [
            "Picture of Manoj Chaurasiya"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Moodle 4.1 as LTI 1.3 Tool - no AGS token request and no /scores POST",
          "Text": "Hi Manoj, I just re-certified recently for 4.1, and can confirm AGS is definitely working both ways (Moodle as the tool can push grades and line items, Moodle as the platform can receive them). I suspect there's a configuration issue at play here. I notice that you mention LMS Platform but don't say that you're using Moodle. Is the platform you're using Moodle, or something else? I only ask because you mention things like \" Accept grades from the tool: Never \", which is a platform -side setting and isn't anything to do with using Moodle as an LTI tool . It would be good to clarify this. If you're using another platform, you shouldn't even be in this form on the Moodle tool site. The docs for setting up and using Moodle as an LTI tool might prove helpful. There is some mention of the Moodle platform side in there, but that's only one example. If it's another platform, then you'd need to check the specific docs for that platform.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 13, 2025, 8:51 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423298,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423298",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI version",
          "Text": "Hi, Sorry I am new to Moodle. We are on 3.9 and is planning to up for 3.10.4. How do I check what LTI version is running in 3.9 and when we upgrade to 3.10.4. Is there a LTI plugin we need to install or it comes as the 3.10.4 package? Any help would be appreciated. Thanks Joyce",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 6:07 PM",
          "AuthorName": "Joyce Lam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=945950&course=5",
          "role": [
            "Picture of Joyce Lam"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI version",
          "Text": "Hi Joyce, Both 3.9 and 3.10 are certified for both 1.1 and 1.3. You can view Moodle's IMS certifications here: https://site.imsglobal.org/certifications/moodle/moodle . You don't need any extra plugins to consume tools over either 1.1 or 1.3. This functionality comes as part of the standard Moodle install. You can see the docs on that here: https://docs.moodle.org/311/en/External_tool_settings#Adding_a_tool_site-wide . Currently, LTI Advantage (1.3) is the recommended means to consume tools. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 12:30 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI version",
          "Text": "Great! Thanks Jake. Joyce",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 2:09 PM",
          "AuthorName": "Joyce Lam",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=945950&course=5",
          "role": [
            "Picture of Joyce Lam"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 397978,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397978",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding resultData url to grade passback XML",
          "Text": "For the past couple of years I've been using Moodle as an LTI provider for quizzes embedded inside Canvas. Moodle quizzes just do so much more than Canvas quizzes that it's worth it to me to jump through a few hoops. Is there a way to add the resultData field to the XML that's sent back to the LTI TC? I'm looking specifically to add a url to resultData for quizzes, but possibly for other assignment types in the future. The idea is that the speed grader in Canvas would be able to post to that URL to get information about the quiz so kids and teachers don't need to go back to the Moodle launch. Yes, I know there's security to think about there as well. But that's for another post. First thought was to filter the XML that's sent back. But it appears that there isn't a spot to do that. I found where it's created in the create_service_body function, but that only takes a grade as parameter and doesn't appear to have a way to add additional data to the XML. Found where that method is called, but appears that the value is sent to create an OAuth launch immediately. My current thought is to write a task plugin that basically overrides the existing grade passback task. And I've written plugins for Moodle and LTI tools both on the consumer and provider side. So I'm not worried about the actual coding. I'm just trying to work out a way to make this work without having to edit the core code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 6, 2020, 10:45 PM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 194811,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=194811",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Using Google Docs as an External Tool",
          "Text": "Does anyone have an idea how to use (plug in) Google Docs as an External Tool, directly? without using a \"middle man\" java server like : http://code.google.com/p/gdocs-task/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 28, 2012, 2:08 AM",
          "AuthorName": "Nadav Kavalerchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383231&course=5",
          "role": [
            "Picture of Nadav Kavalerchik",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 465135,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465135",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Change from deployment_id to lti_deployment_id",
          "Text": "Canvas will be updating the Deployment ID Naming for LTI Compliance. Deployment_id will be named lti_deployment_id after this change. Here's the link of this announcement for reference. Please advise if this is a change that you will be implementing as well in the future. If yes, do you have any timeframe that you can share with us?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 10, 2025, 11:17 PM",
          "AuthorName": "Janrae Valencia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7095691&course=5",
          "role": [
            "Picture of Janrae Valencia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Change from deployment_id to lti_deployment_id",
          "Text": "For posterity, that Canvas breaking change announcement reads: \"Updated Deployment ID Naming for LTI Compliance To ensure compliance with the IMS LTI specification, the naming convention for the deployment ID in LTI login requests is changed to lti_deployment_id. Previously, the deployment ID was sent as deployment_id. \" Moodle was already compliant in its use of lti_deployment_id, so no changes are planned. See the code here: https://github.com/moodle/moodle/blob/e8ec0979dc01291c15392946e4ada4c225b1ab1f/mod/lti/locallib.php#L3671",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 9:44 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431985,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431985",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Image URLs from Dynamic Client Registration not Accepted",
          "Text": "When using an URL with non-English characters during the registration process of an external tool, Moodle breaks (doesn't show all the external tools) and returns an invalidresponse exception. Am I doing something wrong, or is this a bug?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 16, 2022, 6:50 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Image URLs from Dynamic Client Registration not Accepted",
          "Text": "Never mind, this is resolved. Turns out I thought a URL can handle a non-English character due to it working on Firefox . Fixed by encoding it to be URL safe.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 16, 2022, 9:35 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462136,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462136",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Issues creating a basic launch external learning tool and a deep linking tool",
          "Text": "Hello, We are running into an issue trying to create two LTI 1.3 external learning tools (one for a basic LTI launch, and one for a deep linking LTI link.) Our users previously used one configured tool for both a basic LTI launch, and for a deep linking LTI link. When they selected it from the dropdown, they had the option to NOT select content when adding the tool their content module, so it would just launch our tool (without any content linked). Or, if they wanted to, they could deep link to an assignment. Now, when I select the tool directly from the activity chooser(instead of external tool --> choosing from dropdown) I am required to select content when I am adding the tool to the content module or I can't save. I know this is due to an interface change. We are trying to resolve this issue by creating two tools, so the user can have a basic launch link to connect the tool, and then if they want to add deep links, they can do so with the second tool. The problem is that we are getting errors with the deep linking tool. We took a look and it looks like the the launch payload does not include the Names and Roles Service property, which is causing the error. We have that enabled in the tool settings. Is there a reason that having a second tool going to the same URL would not work? Thanks so much for any help! Carrie Bishop Digication",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 12:25 AM",
          "AuthorName": "Carrie Bishop",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2423033&course=5",
          "role": [
            "Picture of Carrie Bishop"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Issues creating a basic launch external learning tool and a deep linking tool",
          "Text": "Hi Carrie, The short answer: Update your site. This was fixed in MDL-82344 . This shouldn't have been forced when we didn't yet have the proper mechanism to support both launch types within the same tool (a longer term goal). it's been reverted accordingly. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 10:25 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Issues creating a basic launch external learning tool and a deep linking tool",
          "Text": "Thanks, Jake! That's great news.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 9:49 PM",
          "AuthorName": "Carrie Bishop",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2423033&course=5",
          "role": [
            "Picture of Carrie Bishop"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 215775,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215775",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Java LTI Tool",
          "Text": "I have a Java applet that I'd like to launch from Moodle using the External Tool/LTI feature.  I'd like to post scores, and any other training data I'm allowed) recorded at the applet up to the External Tool course in Moodle. I'm looking for any help I can get regarding implementing a Java LTI Tool in general or, specifically, interfacing to a Moodle External Tool course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 13, 2012, 4:10 AM",
          "AuthorName": "Timothy Flynn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1524647&course=5",
          "role": [
            "Picture of Timothy Flynn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 460545,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460545",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: IIS - Moodle LTI does not work for two way communications with LTI providers on IIS",
          "Text": "Hi Perry, Great post. You're 100% right that we need the slashargs to be present in exactly the format that we advertise, to the tool, during the launch. There have been many, many posts about this over the years but I can't say how many were using IIS . I haven't used IIS with Moodle, so can't speak to a solution, but I will note we have specific docs on this subject here: https://docs.moodle.org/404/en/Internet_Information_Services#IIS_configuration_steps . I'm not sure how up-to-date these are though. One thing that does seem odd with your example above is the presence of the '/file' part in the URL . That's not something we're expecting. Even if slashargs was working properly, that wouldn't match a service handler. Not sure if that was just part of the example though, or was a real URL. Hopefully others can clarify the setup needed for IIS. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 9:12 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: IIS - Moodle LTI does not work for two way communications with LTI providers on IIS",
          "Text": "That rewrite rule looks to be doing exactly what you attest: /mod/lti/services.php/file=/8612/lineitems&type_id=2709",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 7, 2024, 1:42 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: IIS - Moodle LTI does not work for two way communications with LTI providers on IIS",
          "Text": "I hit \"Post to forum\" prematurely. I'm pretty sure the url you want is going to be: /mod/lti/services.php/8216/lineitems?type_id=2709 That's not what the rewrite rules I suggested would get you, but given what IIS is getting, I think you can rewrite to that and see if this works. (I'm jumping into meetings for the rest of the day) My hunch is that the rewrite rule needs to be prevented from running on this path, for sure, and putting one that gets what you want in front of it is the way I'd attack the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 7, 2024, 2:29 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: IIS - Moodle LTI does not work for two way communications with LTI providers on IIS",
          "Text": "I took a look at my logs and see grade service api calls like: /mod/lti/services.php/{course['id']}/lineitems/?type_id={lti_types['id']} and: /mod/lti/services.php/{course['id']}/lineitems/{grade_items['id']}/lineitem/scores?type_id={lti_types['id']} You can use Failed Request Tracing to figure out what IIS is getting from the tools to rewrite to those formats before the other .php/stuff rule is run to get things working.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 7, 2024, 4:34 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 388893,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=388893",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Mutliple user accounts with same name and email address",
          "Text": "We are using our Moodle 3.4 site as an LTI provider to various other organizations to consume Scorm packages from us. I think what I see is an anomaly where there are multiple users with different enrol_ltixxxxx usernames enrolled on the different scorm courses they have been given access to ( not the courses but the scorm packages individually ) . So , say for example you have a User : User01 LastName user01@website.com -- enrolled on Course01 userid = 100 User01 LastName user01@website.com -- enrolled on Course02 userid = 101 User01 LastName user01@website.com -- enrolled on Course03 userid = 103 and so on.... Is this expected behavior and if so how can we avoid this in the future?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2019, 8:15 PM",
          "AuthorName": "Hittesh Ahuja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1436697&course=5",
          "role": [
            "Picture of Hittesh Ahuja"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Mutliple user accounts with same name and email address",
          "Text": "Found a related Moodle Tracker issue : https://tracker.moodle.org/browse/MDL-55905",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2019, 8:28 PM",
          "AuthorName": "Hittesh Ahuja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1436697&course=5",
          "role": [
            "Picture of Hittesh Ahuja"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422614,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422614",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI error \"(site.com) refused to connect\"",
          "Text": "Moodle 3.9 External Tool consumer gets error \"(site.com) refused to connect\" after creating user and enrollment on Moodle 3.5 LTI Tool.  Consumer using cartridge URL , both sites are https. What does the \"Force SSL\" setting in the consumer privacy setting impact, it is not checked in the existing consumer. TIA , Frank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 24, 2021, 10:28 PM",
          "AuthorName": "Frank Vierling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399964&course=5",
          "role": [
            "Picture of Frank Vierling"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 409859,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409859",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Does core Moodle 3.9 support LTI1.3 Core and Advantage both as Tool Consumer and Provider?",
          "Text": "Hi Could somebody please confirm if core Moodle 3.9 currently supports LTI1.3 Core and Advantage both as Tool Consumer and Provider? My search hasn't been able to find a definitive answer. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 4, 2020, 7:32 AM",
          "AuthorName": "Karsten Sommer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156068&course=5",
          "role": [
            "Picture of Karsten Sommer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Does core Moodle 3.9 support LTI1.3 Core and Advantage both as Tool Consumer and Provider?",
          "Text": "I would like to know this as well, I am running 3.7 and it looks like it supports LTI 1.3 as a consumer but not as a provider. I am looking for provider functionality either as plugin or as core.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 9, 2020, 11:17 PM",
          "AuthorName": "Kim Curic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3719725&course=5",
          "role": [
            "Picture of Kim Curic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Does core Moodle 3.9 support LTI1.3 Core and Advantage both as Tool Consumer and Provider?",
          "Text": "Hi Kim FYI just posted the following comment in Moodle Tracker : https://tracker.moodle.org/browse/MDL-40761 +++ Hi all My latest testing on MoodleCloud (currently running v3.9.2) reveals that this issue still persists in core i.e. MoodleCloud default staff roles such \"Non-editing teacher\"(\"Role Short Name\" = \"teacher\") and \"Teacher\" (\"Role Short Name\" = editingteacher), in both cases is still sending in the Consumer LTI payload \"roles\" = \"Instructor\". Therefore, no granular staff roles are being sent by the Tool Consumer, thus preventing meaningful role assignment in the Tool Provider. Is this correct? Thanks, Karsten +++",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 12, 2020, 12:12 PM",
          "AuthorName": "Karsten Sommer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1156068&course=5",
          "role": [
            "Picture of Karsten Sommer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Does core Moodle 3.9 support LTI1.3 Core and Advantage both as Tool Consumer and Provider?",
          "Text": "I am actually stuck one step behind this one. REferring to the documentation on https://docs.moodle.org/39/en/Publish_as_LTI_tool , the options available, I think are only to publish as LTI 1 or LTI 2 but no option to publish as 1.3? I could consider upgrading to 3.9 if the option is there",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 13, 2020, 8:37 AM",
          "AuthorName": "Kim Curic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3719725&course=5",
          "role": [
            "Picture of Kim Curic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Does core Moodle 3.9 support LTI1.3 Core and Advantage both as Tool Consumer and Provider?",
          "Text": "Hi Karsten Moodle currently does not support LTI 1.3 as a provider. It's in the pipeline as we know it's important, so as soon as we find the time we will be moving forward with this. Here is the epic that will be used for this work: https://tracker.moodle.org/browse/MDL-69542",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 13, 2020, 5:01 PM",
          "AuthorName": "Sander Bangma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2356736&course=5",
          "role": [
            "Picture of Sander Bangma"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459249,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459249",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Multiple Publish as LTI -instances on a course which one users are enrolled through?",
          "Text": "Hello, Let's imagine I have: Moodle1, Moodle2 and Moodle3 with LTI 1.3 connection established. The setup In Moodle1 I have a course A Inside Moodle1 course A I have created two \"publish as LTI\" instances; Moodle2 with \"tool to be published\" and \"course\" Moodle3 with \"tool to be published\" and \"course\" I add this course as external tool on a course to Moodle2 I add this course as external tool on a course to Moodle3 When user from Moodle2 access the course through external tool-activity how it is decided under which \"tool to be published\" -registration method he/she is added to? At first there seemed to be some invisible logic that Moodle somehow knows which user is from which Moodle but with further testing I have found out that is not the case.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 10, 2024, 6:47 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Multiple Publish as LTI -instances on a course which one users are enrolled through?",
          "Text": "I believe what you're seeing is exactly the issue reported here: MDL-81971 According to the report (I haven't run into this), for multiple full-course published activites, only the most recently published one appears in the Published Resource Repository that, in this scenario, you would use in Moodle2 and Moodle3 to add the course as an external tool. For course modules, you would be able to see both of the published resources listed and which one you choose would determine which of the two available enrolments would be used.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 10, 2024, 8:03 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 419616,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=419616",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI and language learning",
          "Text": "Can anyone provide and LTI-compliant site for language learners that our site can use in the External Tool activity? https://gloss.dliflc.edu/ has tons of stuff but is not LTI-compliant. I'm looking for a use case of the External Tool activity for language learners.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 13, 2021, 8:34 PM",
          "AuthorName": "Greg Rudl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1827973&course=5",
          "role": [
            "Picture of Greg Rudl"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 422667,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422667",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to get all the files from the Moodle assignment in a course?",
          "Text": "I want to get all the files from an assignment in Moodle. Is there a way to get all the files? When I call core_course_get_contents from my local Moodle instance as http://localhost:8077/webservice/rest/ server .php?wstoken=11e2d8b7f8e21ca1804e41e9cac5a816&wsfunction=core_course_get_contents&courseid=4&moodlewsrestformat=json I receive the response as: \n```text\n[\n    {\n        \"id\": 22,\n        \"name\": \"General\",\n        \"visible\": 1,\n        \"summary\": \"\",\n        \"summaryformat\": 1,\n        \"section\": 0,\n        \"hiddenbynumsections\": 0,\n        \"uservisible\": true,\n        \"modules\": []\n    },\n    {\n        \"id\": 23,\n        \"name\": \"Introduction\",\n        \"visible\": 1,\n        \"summary\": \"\",\n        \"summaryformat\": 1,\n        \"section\": 1,\n        \"hiddenbynumsections\": 0,\n        \"uservisible\": true,\n        \"modules\": [\n            {\n                \"id\": 44,\n                \"url\": \"http://localhost:8077/mod/assign/view.php?id=44\",\n                \"name\": \"Assignment\",\n                \"instance\": 3,\n                \"contextid\": 99,\n                \"visible\": 1,\n                \"uservisible\": true,\n                \"visibleoncoursepage\": 1,\n                \"modicon\": \"http://localhost:8077/theme/image.php/boost/assign/1613571924/icon\",\n                \"modname\": \"assign\",\n                \"modplural\": \"Assignments\",\n                \"indent\": 0,\n                \"onclick\": \"\",\n                \"afterlink\": null,\n                \"customdata\": \"\\\"\\\"\",\n                \"noviewlink\": false,\n                \"completion\": 1,\n                \"completiondata\": {\n                    \"state\": 0,\n                    \"timecompleted\": 0,\n                    \"overrideby\": null,\n                    \"valueused\": false\n                }\n            },\n            {\n                \"id\": 46,\n                \"url\": \"http://localhost:8077/mod/resource/view.php?id=46\",\n                \"name\": \"test(.txt)\",\n                \"instance\": 24,\n                \"contextid\": 102,\n                \"visible\": 1,\n                \"uservisible\": true,\n                \"visibleoncoursepage\": 1,\n                \"modicon\": \"http://localhost:8077/theme/image.php/boost/core/1613571924/f/text-24\",\n                \"modname\": \"resource\",\n                \"modplural\": \"Files\",\n                \"indent\": 0,\n                \"onclick\": \"\",\n                \"afterlink\": null,\n                \"customdata\": \"\\\"a:1:{s:10:\\\\\\\"printintro\\\\\\\";i:1;}\\\"\",\n                \"noviewlink\": false,\n                \"completion\": 1,\n                \"completiondata\": {\n                    \"state\": 0,\n                    \"timecompleted\": 0,\n                    \"overrideby\": null,\n                    \"valueused\": false\n                },\n                \"contents\": [\n                    {\n                        \"type\": \"file\",\n                        \"filename\": \"test.txt\",\n                        \"filepath\": \"/\",\n                        \"filesize\": 935,\n                        \"fileurl\": \"http://localhost:8077/webservice/pluginfile.php/102/mod_resource/content/1/test.txt?forcedownload=1\",\n                        \"timecreated\": 1621949734,\n                        \"timemodified\": 1621949744,\n                        \"sortorder\": 1,\n                        \"mimetype\": \"text/plain\",\n                        \"isexternalfile\": false,\n                        \"userid\": 2,\n                        \"author\": \"ABC\",\n                        \"license\": \"unknown\"\n                    }\n                ],\n                \"contentsinfo\": {\n                    \"filescount\": 1,\n                    \"filessize\": 935,\n                    \"lastmodified\": 1621949744,\n                    \"mimetypes\": [\n                        \"text/plain\"\n                    ],\n                    \"repositorytype\": \"\"\n                }\n            }\n        ]\n    }\n]\n```\n I want to get the files from the assignment. Is there a way to achieve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 25, 2021, 11:17 PM",
          "AuthorName": "DP Bhatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2718877&course=5",
          "role": [
            "Picture of DP Bhatt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to get all the files from the Moodle assignment in a course?",
          "Text": "Hi DP, You've posted this in the LTI forum. I'd suggest asking this over in the general developer forum here: https://moodle.org/mod/forum/view.php?id=55 Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 11, 2021, 3:51 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 409525,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409525",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Leganto link and extarnal tomanol",
          "Text": "Dear all, I'm working on the integration of Leganto and Moodle. We use the exterlan tool to creat the link of Leganto in Moodle. But the creation of this link it is possible only manually after creating a course. I wonder if it is possible to add a link to Leganto for every course created automatically. Thanks Best regards Massimiliano",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 28, 2020, 10:35 PM",
          "AuthorName": "Massimiliano Cilurzo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3497784&course=5",
          "role": [
            "Picture of Massimiliano Cilurzo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 251336,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=251336",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Debugging LTI",
          "Text": "Hi, I'm trying to understand what Moodle is passing to an external provider. Any suggestions to understand (see) what data is being passed? Many thanks & happy new year! rtb",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 4, 2014, 12:28 AM",
          "AuthorName": "R.T. Brown",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=452553&course=5",
          "role": [
            "Picture of R.T. Brown"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Debugging LTI",
          "Text": "Everything goes via the user's web browser, so a tool like Firebug , or Chrome developer tools Network tab will show you all the data.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2014, 9:07 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433009,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433009",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 integration client needs custom ID?",
          "Text": "We completed an lti 1.3 integration for a client, and the client needs a custom ID to be able to test the course. Where do they get this ID?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 22, 2022, 10:30 PM",
          "AuthorName": "Kera Macfarlane",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4405175&course=5",
          "role": [
            "Picture of Kera Macfarlane"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 integration client needs custom ID?",
          "Text": "Hi Kera, We're definitely going to need more information from you about what you're trying to achieve and how you're setting Moodle up. Are you setting up a preconfigured tool in Moodle? If so, what tool? Generally speaking, if the tool requires extra information during a launch, you can achieve this by setting 'Custom parameters'. You can this in both the preconfigured tool settings, or in the individual tool instances. This may be what you want but without more information, I'm just guessing. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 25, 2022, 10:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 231507,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=231507",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Posting Grades from External Module to Moodle",
          "Text": "As the title suggests, I would like for the external module I developed to send pass back grade data to Moodle. I already have single sign-on working, so I know I set up the 2-leg Oauth correctly. I pass grade information to Moodle following IMS Global's LTI specification (part 6.1), which says to use the replaceResult XML . However, I don't know what values to use for sourceid and messageidentifier. Also, can I send the XML without computing an Oauth body hash and signature, or must I have both?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 27, 2013, 5:19 AM",
          "AuthorName": "Justin Sung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1615917&course=5",
          "role": [
            "Picture of Justin Sung"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 446831,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446831",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Possibility of multiple grades on 1 LTI module of a user",
          "Text": "Hi there! As a supplier of an LMS, we link up with several e-learning suppliers who use Moodle. Both through LTI 1.1 and 1.3. A common scenario in an LMS is that employees must pass modules periodically to be compliant. With suppliers who use Moodle, we run into the problem that this is not possible because a user can only do a certain module once. The grade is not reset, this causes us and our customers a lot of problems. Such as not being able to pass a module again and therefore not being able to extend certification. We do not experience these problems with other LTI providers, is there a way to solve the above problem? We appreciate your help in this!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 17, 2023, 4:52 PM",
          "AuthorName": "Lidia Defacto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5614873&course=5",
          "role": [
            "Picture of Lidia Defacto"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "+ 1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 17, 2023, 6:03 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "This has been raised before, but I'm not sure how much was done about it (nor am I sure if any tracker issues were created). I believe MUA raised it, but I could be mistaken there - it's been a while. It was discussed under the broad term of \"Course reuse\"  a few years back. It's not something specific to Moodle's LTI; it's a limitation in the the wider LMS. There might be some posts about this in the general developer forum. It would be great to be able to use courses for certifications like this, but it's not a change that will likely sit within the LTI plugins. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 18, 2023, 9:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "Thanks for your quick response! I understand your concern about the limitations of LTI. The lis_result_souredid in LTI 1.1 and the line_item in LTI 1.3 allow the tool provider to distinguish different enrollments on the same LTI module by the same user.  Wouldn’t this imply we are dealing with a limitation in Moodle’s data model here? At the moment we see that Moodle is used by smaller content\nproviders who deliver modules via LTI on high-risk topics, such as\ncompany emergency response. It would be great if suppliers who work with\nMoodle could also offer repetition modules.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 23, 2023, 3:32 PM",
          "AuthorName": "Lidia Defacto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5614873&course=5",
          "role": [
            "Picture of Lidia Defacto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "hi Lidia, As Jake stated it is a limit withing in the wider LMS, so yes : the data model but also functionality. @jake we have in moodle a functionality called Reset Course ( https://docs.moodle.org/402/en/Reset_course ) this is a functionality that the teacher / manager can activate and clears the tables. Plugins can add this functionality as well. I believe the 'last grade' from LTI is not being cleared using this setting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 23, 2023, 4:29 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "All valid points, Gemma. I just think it needs to be raised with the right people to get traction (same as a million other features, right?!). Last I checked, the wider notion of course reuse wasn't a polished thing (and your comment about the local plugin above seems to confirm this). It would be great if we had that concept mapped out a bit (and there's quite a lot to that concept!) and then LTI could \"just use\" it in some way.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 5:09 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "It's somewhere on my todo list to map the concept out. If I have done this I think best start would be a tracker right?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 8, 2023, 12:50 AM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "Yeah, I would say so. There are likely a few related tracker issues around already. I know course relative dates related to reuse, for example. Maybe there's an epic, I'm not sure. It's a shame that project lost momentum tbh.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 8, 2023, 9:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Possibility of multiple grades on 1 LTI module of a user",
          "Text": "We have developed two LTI tools that can deal with recurring LTI enrollments by persisting these as separate records in our database , and associating those with a user - to support this exact scenario. If I understand this correctly , this is a limitation of Moodle's datamodel?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2023, 10:41 PM",
          "AuthorName": "Lidia Defacto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5614873&course=5",
          "role": [
            "Picture of Lidia Defacto"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 353428,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=353428",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Programming an LTI Provider in C# for Moodle as Consumer",
          "Text": "Hi everybody, I'm currently trying hard to extend an existing learning on-line learning application for Latin vocabulary into an LTI Provider for Moodle. The existing app is coded in C#, and this is the only language that I really master, so I would like to stick to it. I have found a project named LtiLibrary which seems to offer a lot of functionality for Lti and C#. However, there is virtually no documentation and the project maintainer is not easily available. So I hope that someone here has already done a similar project or can point me to resources. One more thing, the latest version of the mentioned LtiLibrary relies on MVC. My existing app is a rather old-fashioned ASP.NET app, and I don't want to refactor it. All I want is the ability to single-sign on to it from Moodle (which I have actually managed), and to post back grades for a single user (which I seem unable to accomplish). Any help would be dearly appreciated, Tobias",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 3, 2017, 5:06 PM",
          "AuthorName": "Tobias Schliebitz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2245610&course=5",
          "role": [
            "Picture of Tobias Schliebitz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Programming an LTI Provider in C# for Moodle as Consumer",
          "Text": "Hi Tobias, I see you asked this question a while back. Have you managed to find a solution. I am in the same situation now. I have setup LMS system in Moodle and would like to use LTI to auto authenticate from my ASP.Net websites writtedn C# code. Can you help me with your findings please. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 28, 2018, 11:03 AM",
          "AuthorName": "Synchro Admin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2443478&course=5",
          "role": [
            "Picture of Synchro Admin"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 312023,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=312023",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "User cannot Enrol in course when moodle is LTI Provider",
          "Text": "G'Day, I am working in a testing environment on D2L's Brightspace platform. We are trying to setup our courses in their system using IMS LTI. I have the LTI Provider plugin installed on my test moodle installation (LTI Provider) and have created the link and shared secret. I have entered this information into D2L's Brightspace (LTI Consumer). It then gives me the option to preview the connection. When it accesses the course from my moodle installation, instead of giving me access it takes me to an enroll options page instead, and states at the bottom 'You can not enrol yourself in this course' Is there something I need to setup in the LTI Provider plugin settings (not much info on those settings) to allow auto enrollment when acting as a tool provider? or do I need to set something in D2L's Brightspace who is the LTI Consumer in this case? P.S. - I am very new too both Moodle and Brightspace.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 17, 2015, 3:04 AM",
          "AuthorName": "Gary Collins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=85797&course=5",
          "role": [
            "Picture of Gary Collins"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 422970,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422970",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Zoom LTPPro Setup - Moodle 3.10",
          "Text": "Hi All, Following the Zoom site's instructions on setting up LTIPro for Moodle. I enter the LTI Credentials and end up with a 403 error:  \"access is forbidden to  my_moodle_site.com/cp_errordocument.shtml (port 443)\" That page doesn't actually exist so unsure what is happening. I've tried both the Moodle plugin and the LTI approach and struggling to get Zoom Active. Any help and advice appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 2, 2021, 5:48 PM",
          "AuthorName": "Dave Emsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=95338&course=5",
          "role": [
            "Picture of Dave Emsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Zoom LTPPro Setup - Moodle 3.10",
          "Text": "Hi Dave, I have successfully integrated Zoom LTI Pro with our Moodle 3.10. You might find the following video useful for configuring the Zoom LTI Pro connections for your Moodle. While\nconfiguring the Zoom LTI Pro external tool manually on Moodle, I have picked up  the option\n'Show in activity chooser and as preconfigured tool' under 'Tool\nconfiguration usage' so Zoom live sessions can be added from the\n'Activity Chooser'. We ( Icfai Business School )\nschedule the Zoom meetings on the course page so that our Faculty Members\nand students can join the Zoom live sessions from within their Moodle course. Indira",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 28, 2021, 1:07 AM",
          "AuthorName": "Dr. Indira Koneru",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1062113&course=5",
          "role": [
            "Picture of Dr. Indira Koneru"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 434441,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434441",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Can I use LTI to set the user language ?",
          "Text": "Hi, I am a newbie using moodle. I am using the LTI pluggin too. I wonder if it is possible to set the user preferred language  with a lti parameter. I have read here http://www.imsglobal.org/specs/ltiv1p0/implementation-guide about a parameter called launch_presentation_locale, but it does not seems to work. Any help ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 12, 2022, 5:45 PM",
          "AuthorName": "Miguel Ángel Posadas Arraez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4919705&course=5",
          "role": [
            "Picture of Miguel Ángel Posadas Arraez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can I use LTI to set the user language ?",
          "Text": "Hi Miguel, The Moodle platform/consumer (mod_lti) supports this. If you launch into a tool from Moodle, this information will be passed over in the launch data. Then, it just depends on how the tool handles that. That will certainly differ across tools. The Moodle tool/provider (enrol_lti) currently doesn't support this. The language used by the user will be the language defined on the enrolment instance. Edit the instance settings and look for \"User default values > Preferred language\". Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 19, 2022, 11:39 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 330654,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=330654",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How do you add an external tool to all courses?",
          "Text": "Hi All, I am not a Moodle admin by trade but I need to be able to add an external tool to all courses on a site. I would like students are about to see it regardless of which courses they are going to. Is this something possible in Moodle 2.8-3.0? Please advise Thank you. JP",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 30, 2016, 8:53 AM",
          "AuthorName": "JP Dal Gobbo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2072168&course=5",
          "role": [
            "Picture of JP Dal Gobbo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How do you add an external tool to all courses?",
          "Text": "You can add an external tool that allows you to add content from that external toll to any course. This is done at the site level under plugins > activities > external tools. This just lets teachers add content from the external tool to the course. There isn't a way to add a specific activity to every Moodle course. The best method I know is to create a master course with the resource and then create all courses from that course. You will have to manually import the activity into existing courses.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 2, 2016, 1:12 AM",
          "AuthorName": "Jason Hardin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=265574&course=5",
          "role": [
            "Picture of Jason Hardin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How do you add an external tool to all courses?",
          "Text": "Thank you for your reply Jason. I will try this approach and see how it works for us.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 5, 2016, 1:48 AM",
          "AuthorName": "JP Dal Gobbo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2072168&course=5",
          "role": [
            "Picture of JP Dal Gobbo"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 344463,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=344463",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Error writing database",
          "Text": "Hey guys I just wanted to share my experience with an LTI error I got, maybe someone runs into the same error. We used a test moodle instance as an LTI provider (3.2) and used an existing one as an LTI consumer (3.1). After setting up the \"External Tool\" activity, I got the following error message: \"Error writing database \" . Enabling the Developer Mode, it gets a little a bit clearer: \"Data to long for column 'name' at row 1\" In my case our Moodle Platform shortname was just way to long, so I had to shorten it: http://yourmoodle.com/admin/settings.php?section=frontpagesettings Cheers, Joël",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2016, 10:05 PM",
          "AuthorName": "Joël Schmid",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815947&course=5",
          "role": [
            "Picture of Joël Schmid"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 322234,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=322234",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Auto Group Creation",
          "Text": "Hi We are currently running two instances of Moodle. Students are enrolled\non one iteration and connected to our second iteration via LTI. We are\nlooking for a way for any groups created on the first iteration to be\nautomatically create and enroll students on the second iteration over the LTI connection.\nAccording to MDL-50658 it is possible to allow for roster syncing with other programs (e.g. WebPA), but I'm not sure if Moodle itself supports it. I must admit I am new to LTI, so any information would be tremendously helpful. Thanks! Julian Enright",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2015, 10:18 PM",
          "AuthorName": "Julian Enright",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1972613&course=5",
          "role": [
            "Picture of Julian Enright"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Auto Group Creation",
          "Text": "Hi Julian, According to that Tracker item this will only be available in Moodle 3.0 and was not back-ported into 2.9 or 2.8 so unless you are running the development branch on your Moodle site (which you shouldn't) then you'l have to wait until you upgrade to 3.0 to do this Thanks Alistair",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2015, 11:21 PM",
          "AuthorName": "Alistair Spark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1434260&course=5",
          "role": [
            "Picture of Alistair Spark",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457822,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457822",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI & Quizzes",
          "Text": "Is it possible to deliver quizzes from a Master Course via LTI to another course? For example History 10 master course has all of the assessments delivered to child courses via LTI.  I really don't know what I'm talking about.  I have connected an LTI page before; however I have never done anything with quizzes.  Thank you. Jeff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 24, 2024, 11:17 PM",
          "AuthorName": "Jeff Boulton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=295845&course=5",
          "role": [
            "Picture of Jeff Boulton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI & Quizzes",
          "Text": "Hi Jeff, This should be possible, but there are likely other ways of sharing the quiz content too. Are the main/consumer courses all on the same site? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 29, 2024, 9:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI & Quizzes",
          "Text": "The courses are on the same server . I want to share quizz content to multiple courses; however have it restricted so that Teacher's can not edit the shared quizes. Do you have another suggestion? Jeff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 29, 2024, 11:04 AM",
          "AuthorName": "Jeff Boulton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=295845&course=5",
          "role": [
            "Picture of Jeff Boulton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 362214,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=362214",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI links not appearing on initial page load in Chrome",
          "Text": "I am curious if any one is having a similar problem. In Google Chrome (currently running Version 62.0.3202.94) my LTI links in the course I teach often don't appear on initial load, or sometimes appear and then quickly disappear.  Pressing F5 to reload the page brings them all back. See this in action: https://www.screencast.com/t/3jONKYv6z Other teachers here are having the same problem utilizing different LTI providers in Moodle than the one I use. Not sure how best to solve this. Any advice is appreciated! Scott",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 28, 2017, 11:51 PM",
          "AuthorName": "Scott Hardwick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120802&course=5",
          "role": [
            "Picture of Scott Hardwick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 449353,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449353",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Use LTI to access moodle course content from an external website",
          "Text": "Im trying to develop a tool where you can manage learning resources as students. And this tool should have access to the course content on moodle. Ideal case would be to be able to click on a link on moodle and get redirected to my tool. To be able to access all moodle course content as well as student and lecturers user details, can i use LTI for this? My tool would be the LTI provider and moodle would be the LTI consumer. But i dont want to add this as an external tool activity on moodle because it is not. i simply want access to the course content of all courses and user details for the authentication. Is this not possible to do with LTI? are there any better approaches for this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 11, 2023, 7:14 PM",
          "AuthorName": "Kalsha Samarajeewa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5722659&course=5",
          "role": [
            "Picture of Kalsha Samarajeewa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Use LTI to access moodle course content from an external website",
          "Text": "Hi Kalsha, Generally speaking, the Tool (formerly known as provider) is not going to be able to access all the course content in the Platform (formerly known as consumer) via LTI. The relevant service just doesn't exist within the services provided by 1.3 core and it's official extensions ( https://www.imsglobal.org/activity/learning-tools-interoperability ). There are services for fetching enrolments and groups for the course in which the launch took place, but there isn't a service for fetching all course content. Depending on what your goal is, LTI still may be suitable, but you'd need to explain that goal in more detail first. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2023, 9:54 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 435563,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=435563",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Invalid signature on JWT id_token",
          "Text": "Hi, I am getting below jwt id_token from moodle as payload in redirection url, eyJub25jZSI6Im5vbmNlLTYyYWIwOWJmNjRlYWE4Ljk5NjMzODY3IiwiaWF0IjoxNjU1Mzc2MzE5LCJleHAiOjE2NTUzNzYzNzksImlzcyI6Imh0dHBzOi8vc2FuZGJveC5tb29kbGVkZW1vLm5ldCIsImF1ZCI6Ikdsckl6TEhvTWdFVzduaSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2RlcGxveW1lbnRfaWQiOiIxIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vdGFyZ2V0X2xpbmtfdXJpIjoiaHR0cHM6Ly92ZWVyYzI0NTA3LmlsbHVtaW5hdGVlZC5pby9xYTI0NTA3L2x0aWFkdmFudGFnZS9hc3Nlc3NtZW50LyIsInN1YiI6IjMiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9saXMiOnsicGVyc29uX3NvdXJjZWRpZCI6IiIsImNvdXJzZV9zZWN0aW9uX3NvdXJjZWRpZCI6IiJ9LCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9yb2xlcyI6WyJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9tZW1iZXJzaGlwI0luc3RydWN0b3IiXSwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vY29udGV4dCI6eyJpZCI6IjIiLCJsYWJlbCI6Ik15IGZpcnN0IGNvdXJzZSIsInRpdGxlIjoiTXkgZmlyc3QgY291cnNlIiwidHlwZSI6WyJDb3Vyc2VTZWN0aW9uIl19LCJnaXZlbl9uYW1lIjoiVGVycmkiLCJmYW1pbHlfbmFtZSI6IlRlYWNoZXIiLCJuYW1lIjoiVGVycmkgVGVhY2hlciIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2V4dCI6eyJ1c2VyX3VzZXJuYW1lIjoidGVhY2hlciIsImxtcyI6Im1vb2RsZS0yIn0sImVtYWlsIjoidGVhY2hlckBtb29kbGUuYSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2xhdW5jaF9wcmVzZW50YXRpb24iOnsibG9jYWxlIjoiZW4ifSwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vdG9vbF9wbGF0Zm9ybSI6eyJwcm9kdWN0X2ZhbWlseV9jb2RlIjoibW9vZGxlIiwidmVyc2lvbiI6IjIwMjIwNDE5MDEiLCJndWlkIjoiMWY2MGFhZjY5OTFmNTU4MTg0NjVlNTJmM2QyODc5YjciLCJuYW1lIjoiU2FuZGJveCIsImRlc2NyaXB0aW9uIjoiTW9vZGxlIHNhbmRib3ggZGVtbyJ9LCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS92ZXJzaW9uIjoiMS4zLjAiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9tZXNzYWdlX3R5cGUiOiJMdGlEZWVwTGlua2luZ1JlcXVlc3QiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS1hZ3MvY2xhaW0vZW5kcG9pbnQiOnsic2NvcGUiOlsiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGktYWdzL3Njb3BlL2xpbmVpdGVtIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGktYWdzL3Njb3BlL2xpbmVpdGVtLnJlYWRvbmx5IiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGktYWdzL3Njb3BlL3Jlc3VsdC5yZWFkb25seSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9zY29yZSJdLCJsaW5laXRlbXMiOiJodHRwczovL3NhbmRib3gubW9vZGxlZGVtby5uZXQvbW9kL2x0aS9zZXJ2aWNlcy5waHAvMi9saW5laXRlbXM_dHlwZV9pZD0xIn0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWRsL2NsYWltL2RlZXBfbGlua2luZ19zZXR0aW5ncyI6eyJhY2NlcHRfdHlwZXMiOlsibHRpUmVzb3VyY2VMaW5rIl0sImFjY2VwdF9wcmVzZW50YXRpb25fZG9jdW1lbnRfdGFyZ2V0cyI6WyJmcmFtZSIsImlmcmFtZSIsIndpbmRvdyJdLCJhY2NlcHRfY29weV9hZHZpY2UiOmZhbHNlLCJhY2NlcHRfbXVsdGlwbGUiOnRydWUsImFjY2VwdF91bnNpZ25lZCI6ZmFsc2UsImF1dG9fY3JlYXRlIjpmYWxzZSwiY2FuX2NvbmZpcm0iOmZhbHNlLCJkZWVwX2xpbmtfcmV0dXJuX3VybCI6Imh0dHBzOi8vc2FuZGJveC5tb29kbGVkZW1vLm5ldC9tb2QvbHRpL2NvbnRlbnRpdGVtX3JldHVybi5waHA_Y291cnNlPTImaWQ9MSZzZXNza2V5PWVhODJHanF4cUUiLCJ0aXRsZSI6InRlc3QgdG9vbCIsInRleHQiOiIifX0 when i see this JWT in jwt.io, it shows invalid signature . Please help in this. Related query: https://moodle.org/mod/forum/discuss.php?d=435135",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2022, 11:52 AM",
          "AuthorName": "Sachin Veer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4948975&course=5",
          "role": [
            "Picture of Sachin Veer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Invalid signature on JWT id_token",
          "Text": "This is resolved. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2022, 2:22 PM",
          "AuthorName": "Sachin Veer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4948975&course=5",
          "role": [
            "Picture of Sachin Veer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid signature on JWT id_token",
          "Text": "Hi Sachin, You need to paste in your public key to verify the signature - using jwt.io or otherwise. I've just grabbed the public key from sandbox.moodledemo.net (where your tool is configured) and tried it against the JWT above and the signature verified successfully. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2022, 2:26 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid signature on JWT id_token",
          "Text": "Hi Jake, Thanks for your reply. This is issue is resolved. Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 20, 2022, 12:28 PM",
          "AuthorName": "Sachin Veer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4948975&course=5",
          "role": [
            "Picture of Sachin Veer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 321894,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=321894",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "user_image via LTI",
          "Text": "Hi, I am creating an LTI plugin and I have a test instance of moodle via gnomio.com. I am trying to retrieve the user's avatar/profile image, but it seems that Moodle does not pass the user_image parameter (optional, not required in LTI 1.1 spec) Is there a way to turn on passing this parameter or a different way to retrieve this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 21, 2015, 5:37 AM",
          "AuthorName": "Michael Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2014238&course=5",
          "role": [
            "Picture of Michael Lee"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 466880,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=466880",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "issue with dynamic url - platform creation",
          "Text": "Hi, I've followed the official documentation but as I reach this point I got stuck. Basically my instance does not create the platform after I've added a new LTI via the Manage Tools page. I see the tool but there's not platform in the Enrolment > Publish as LTI section. Is there a manual way to create that? Thanks! F.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 18, 2025, 5:37 PM",
          "AuthorName": "Filippo Carnevali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2238231&course=5",
          "role": [
            "Picture of Filippo Carnevali"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: issue with dynamic url - platform creation",
          "Text": "To clarify: Are you doing an integration with Moodle as the platform LMS (as well as the Tool), using Dynamic Registration?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 18, 2025, 11:21 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: issue with dynamic url - platform creation",
          "Text": "Sorry, yes, I was very brief. I'm trying to configure two Moodle instances to communicate with each other via LTI. I've created a platform in Moodle 1, pasted the URL into the tool in Moodle 2, and if I understand correctly, a platform should automatically be created in Enrolment > Publish as LTI in Moodle 2.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2025, 1:13 AM",
          "AuthorName": "Filippo Carnevali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2238231&course=5",
          "role": [
            "Picture of Filippo Carnevali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ri: Re: issue with dynamic url - platform creation",
          "Text": "So if you navigate to (replace MOODLE-2 with your Moodle 2 domain name): https://MOODLE-2/admin/settings.php?section=enrolsettingslti_registrations There is no row listing for Moodle 1 as a registered platform. If I'm understanding you, I'd turn debug massages up to DEVELOPER on Moodle 2 (/admin/settings.php?section=debugging) and go through the steps of \"In Moodle (for Moodle-to-Moodle LTI):\" again. Dynamic registration is a really impressive piece of technology that Moodle-to-Moodle allows, so my guess is there's a network blockage between the two servers or something that you should see in an error when carefully stepping through those five instructions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2025, 5:26 AM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Ri: Re: issue with dynamic url - platform creation",
          "Text": "Hi!! I'll try it out! Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2025, 10:29 PM",
          "AuthorName": "Filippo Carnevali",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2238231&course=5",
          "role": [
            "Picture of Filippo Carnevali"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: issue with dynamic url - platform creation",
          "Text": "Try these docs here, which are specific to Moodle-to-Moodle. https://docs.moodle.org/405/en/LTI_Moodle_to_Moodle Those docs you're reading, while good, really are focussed on the tool side (Publish as LTI tool). HTH , Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 19, 2025, 9:57 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 373252,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373252",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle integration with angular application",
          "Text": "hi , I am new to moodle ,just started now. i am trying to integrate moodle with my application (angular 4) . my basic idea is to use moodel as content source and i have separate application through user can launch the course . and i have to get the response from moodle web service (course progress) . i just stated the documentation .using LTI  i done some poc to launch the course externally(silent url).but unfortunately it logging the moodle application too. i don't want to login moodle application . i just want to launch course from my another app . Please share your thoughts for above approach",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 12, 2018, 9:10 PM",
          "AuthorName": "Mr Techie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2464391&course=5",
          "role": [
            "Picture of Mr Techie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 452944,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452944",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cookie troubles",
          "Text": "Hi Cédric, Can you explain specifically what you were doing when this (presumably) failed? E.g. Were you using the content selection (deep linking) to create the link to the course in the platform? Or, had you already created the links in the platform and were just doing a regular resource link launch into the course? As you've noted, this will only be an issue if you're using an iframe, meaning you're dealing with 3rd party cookies. If you're just launching into the course using a new window, you won't see this problem. Also, are you using HTTPS on both sites? This is required in order to be able to properly set samesite cookies on Chrome (which is what we need). I assume you would be. If you can attach a browser network trace (HAR file) from Chrome, that would be even better. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 28, 2023, 1:00 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cookie troubles",
          "Text": "Thanks for the trace, Cédric. That's quite helpful. It's allowed me to pinpoint where the likely issue is and may help you to track it down further on your end too. I'll do my best to explain where I think the issue might be: If you filter the trace to show only 'Doc' type requests/responses, this will show the requests for the LTI launch handshake (actually an OpenId connect flow). Of particular note are the two consecutive requests made to launch.php (the 6th item down once you've filtered to 'Doc') and view.php?id=xx (the 7th item down when filtered on 'Doc'). During a working launch, we expect the RESPONSE from launch.php to contain a \"Set-Cookie\" header with \"MoodleSession=xxxxx; path=xxx; secure; SameSite=None\". This is the correct MoodleSession cookie which we need the browser to include in subsequent requests, and which we'll use to identify the session. In Chrome, for this to work in 3rd party contexts, we need the 'SameSite=None' and 'secure' (which means we need HTTPS). I see this response header in your network trace, so that's a good sign. So then, in the request to view.php (the course/view page), we expect to see this same cookie being included in the REQUEST via the \"Cookie: MoodleSession=xxxx;\" header. This let's view find the session and continue. What we don't expect to see is a RESPONSE from view.php which contains a \"Set-Cookie\" header. This indicates there was a problem matching the session and a new session cookie is being created and returned to the browser. This is where I'd focus my attention as that shouldn't be happening. At this point in the launch flow, since we've redirected to view.php, we know that we've validated everything we need to validate in the LTI launch itself (nonce, etc, etc.), so that is very unlikely to be the issue. We only redirect to the final tool URL (in this case course/view.php) when we've: Validated the LTI 1.3 launch and Authenticated the user using auth_lti So, at this point, it seems everything has worked as expected thus far. It's the next step where we've redirected to view and see view's Response headers contain a Set-Cookie that we have a problem. Somewhere along the line we've been unable to match a session and have decided the user isn't authenticated and we redirect them to login.php (this is part of require_login()). I'd be debugging view.php and the session logic (require_login, etc) if it was me, but not sure how easy that is for you to do on your sites. I've just run through this myself on Chrome and Firefox using public, HTTPS domains and am unable to replicate what you're seeing on your sites (using current versions of Moodle). I get the appropriate MoodleSession cookie and it's passed along as expected to course/view.php and the tool launch works okay. This is unfortunate, but might hint at a local issue on your sites, maybe even something to do with the way CAS is integrated into the auth flow - I can't be sure without understanding that - and I don't. As a side note: The warning you originally reported above, is showing that a non-Moodle cookie is being set without SameSite=None; secure; (the ROUTEMOODLE cookie). I'm not sure what that cookie is or whether it plays into this. You can see the cookie above that (The MoodleSession cookie) is properly being set with SameSite and secure. Hopefully that gives you something to go on. At the very least, you'll be able to trace a launch in firefox and correlate what I've said is the 'expected' launch behaviour and see what I'm talking about. It might take a bit more digging to work out why that session cookie isn't being properly matched to a session in view.php though. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 29, 2023, 11:50 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cookie troubles",
          "Text": "Glad you got to the bottom of it. Yes! That custom cookie was exactly what the error reported and what I suspected the problem would be related to.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 5, 2023, 12:35 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 381826,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381826",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle to Moodle LTI Issues (3.5 to 3.3.2 and 3.5 to 3.6)",
          "Text": "Ok, here's the deal.  LTI Publisher is on Moodle 3.5, the LTI Consumer (me) was on Moodle 3.3.2 using Lambda Theme. Setting up the course using LTI cartridge and secret was easy.  Consumer key used on the Consumer side was my company name (Orion).  Got green check marks, everything looked good.  Saved the entry.  Clicked on the course to launch it and got the following message: An error occurred when launching the external tool:Sorry, there was an error connecting you to the application. After much troubleshooting, retesting - including testing the cartridge and secret using the https://ltiapps.net/test/tc.php emulator - we determined that the cartridge and secret worked perfectly, so we decided to change both moodle versions to 'Clean' and retest the LTI links again.  Still the same response received, as above. The LTI publisher suggested that maybe we should upgrade to the latest version of Moodle, which is currently 3.6 Stable, so we did and retested the LTI cartridge again and we achieved the same result. We are using LTI1, both the publisher and consumer are HTTPS, nothing seems wrong with the cartridge and secret so what's standing in our way? We have a workaround by using Scorm Cloud Dispatch but this breaks the course into multiple sections and it a pain for the learner...we'd rather have the LTI solution.  Can anyone help us? H-E-L-P Ken Kavanagh Orion Learning 416-992-5158 e: ken.kavanagh@orionelearning.com",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 31, 2019, 8:55 PM",
          "AuthorName": "Ken Kavanagh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2576708&course=5",
          "role": [
            "Picture of Ken Kavanagh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 391441,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391441",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI \"Refused to Connect\" Moodle to Moodlecloud. Tool configuration not found for this URL.",
          "Text": "I have a Moodle provider course set up, and am trying to consume it my MoodleCloud instance, but it only displays a \"Refused to connect error\" Provider Cartridge URL : https://sampledomain.com/enrol/lti/cartridge.php/1/1f8828ae716171f0a7bb5afc15e05974/cartridge.xml Secret: 0451fliTuagzDeXfDMHA3UUGdiWBqUeX Registration URL https://sampledomain.com/enrol/lti/proxy.php/1/4dce7c3b4af221ce330ccad999e0fbf4/ I've put in the Tool URL (trying both Cartridge and Registration, in case there was a difference) and it still returned an error \"sampledomain.com Refused to Connect\" In the settings in the consumer - the tool URL has been changed to \" https://sampledomain.com/enrol/lti/tool.php?id=1 \" and displays \"Tool Configuration not found for this URL\". I assume this might be causing the issue, but I don't know how to stop the URL from being changed. I have succesfully set up LTI in the other direction - Moodlecloud instance provider, Moodle consuming. Any help appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2019, 1:56 AM",
          "AuthorName": "Fazzi Associates",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2460880&course=5",
          "role": [
            "Picture of Fazzi Associates"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 393393,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=393393",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External Tool Custom Icon",
          "Text": "We have added a LTI External Tool and set the custom icon URL , which works great on the course page; however the icon in the activity picker is still the default external tool icon. Is there any way to get the custom icon for our external tool to show everywhere the tool icon is used, not just on the course page? I found this tracker entry but it looks like it is quite old and I am not sure if it is trying to address my problem or not... https://tracker.moodle.org/browse/MDL-45105 Jon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 13, 2019, 6:14 AM",
          "AuthorName": "Jon Witts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=89775&course=5",
          "role": [
            "Picture of Jon Witts",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool Custom Icon",
          "Text": "Did you select the option to \"display in activity picker as a preconfigured tool\" - I do see my custom icon there when I choose this settinG when initially setting up the LTI activity at the site level.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 14, 2019, 1:41 AM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 232060,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232060",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Wordpress LTI Provider found (hard to google)",
          "Text": "Wordpress LTI Provider Hey, after reading a lot of articles and trying many tutorials, I finally found a great plugin which works beautifully. To avoid any future pain, I share it here: http://www.spvsoftwareproducts.com/php/wordpress-lti/ Now I'm ready to use wordpress with moodle next term. Hope to find a good LTI plugin for mediawiki soon. Jeremy@Victoria, Asutralia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 6, 2013, 7:46 AM",
          "AuthorName": "jeremy chen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=39562&course=5",
          "role": [
            "Picture of jeremy chen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Wordpress LTI Provider found (hard to google)",
          "Text": "http://sourceforge.net/apps/mediawiki/learningapps/index.php?title=LTI4Wordpress I use this one.  ANd I posted step sheets on how to install and use it. http://webmaster.dearbornschools.org/2012/10/25/wordpress-and-moodle-lti-stepsheet-and-tutorial-for-setup/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2013, 8:32 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Wordpress LTI Provider found (hard to google)",
          "Text": "I was just reviewing the plugin you posted and I think it works well too.  Nice find.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2013, 10:42 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 244089,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=244089",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Call for External Tool with specific parameters",
          "Text": "Hi All, When a new Activity (with External Tool) is created and I trying to launch, I get some errors related with LTI/OAuth parameters (signature, lti_version, etc). I tried two things: 1) Set my LTI/OAuth parameters in \"Custom parameters\" textarea (when I creating/editing External Tool) 2) Set my LTI/OAuth parameters with \"Launch URL \" (as query string) After each of those, I capture the network traffic via Firebug and: 1) If I set my LTI/OAuth parameters in \"Custom parameters\" textarea (when I creating/editing External Tool) my parameters appear with a \"custom_\" prefix (and all LTI/OAuth parameters are created by moodle instead use my values). 2) In other case, If I set my LTI parameters with \"Launch URL\" my parameters override the moodle values (as I expected/need - without \"custom_\" prefix as expected) but these parameters goes through query string (GET) Questions: - How I can override those Moodle \"default\" values using mines and send through Form Data (not query string) ? - Is that possible, or I need change my approach to solve this ? - Some recommendation in that case? Thanks in advance DS.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 20, 2013, 2:20 AM",
          "AuthorName": "debo sotnas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1724979&course=5",
          "role": [
            "Picture of debo sotnas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 467671,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467671",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "No transmission of custom claim during launch",
          "Text": "Hello, I think I have a problem with Moodle. Moodle seems to accept my LtiDeepLinkingResponse but at Launch time with LtiResourceLinkRequest, the “custom” content_items fields returned during the Deep Linking response are never transmitted in the message payload. Do you have any idea why?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 23, 2025, 11:52 PM",
          "AuthorName": "Florentin Botton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6944026&course=5",
          "role": [
            "Picture of Florentin Botton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "No transmission of custom claim during launch",
          "Text": "Hi Florentin, Link custom params are definitely supported, so we need to know a bit more about your case. What version of Moodle are you using? When the content item(s) are returned and you see the activity settings form, can you see \"custom parameters\" form field? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 24, 2025, 9:01 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "No transmission of custom claim during launch",
          "Text": "Hello, thank you for your reply. I'm on Moodle 4.5 which I installed via XAMPP. Moodle runs locally on my computer. What I want is to receive in the LtiResourceLinkRequest message these custom parameters that I define in the LtiDeepLinkingResponse message to allow me to display the resource I want to show to users. In fact, when the content is selected, I do see the “custom parameters” field in the activity settings form, but I don't want the user to enter custom fields manually. If I do this, the “custom” fields will appear in the LtiResourceLinkRequest, but that's not what I want.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 25, 2025, 10:22 PM",
          "AuthorName": "Florentin Botton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6944026&course=5",
          "role": [
            "Picture of Florentin Botton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "No transmission of custom claim during launch",
          "Text": "Hi Florentin, As I say, custom params are definitely supported and working. I can't speak for your specific problem of course, but we use custom params via deep linking to launch into specific resources in our Moodle Tool implementation (A certified tool implementation). Note: the custom parameters field will always be visible in the form, even if it's set during deep linking, because we need to support the non-deep-linking use case too. See MDL-80914 for details. Content creators can either use deep linking, or set manually. When you say you see the custom parameters form field, can I confirm that you see values there too? If you don't see any values there, then is either with the response payload, or with the parsing of said payload. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 28, 2025, 11:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460382,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460382",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "How to set-up Moodle as LTI provider and Laravel as Consumer",
          "Text": "Hi, We have created a course in Moodle that we want to integrate with our Laravel platform using LTI 1.3. We have two separate site instances: one in Laravel and one in Moodle. Our goal is to use the Moodle quiz and display it to users on the Laravel platform, users will attempt and grade will be sent to moodle. so that users will remain within Laravel. How can we achieve this integration using LTI?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2024, 5:30 PM",
          "AuthorName": "Dipti Gajjar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4967712&course=5",
          "role": [
            "Picture of Dipti Gajjar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to set-up Moodle as LTI provider and Laravel as Consumer",
          "Text": "Does Laraval come with LTI support?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 20, 2024, 4:39 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to set-up Moodle as LTI provider and Laravel as Consumer",
          "Text": "There are plenty of PHP LTI libraries around, Celtic being one of the more well known ones. there is this project that is a Laravel wrapper for Celtic. https://github.com/longhornopen/laravel-celtic-lti",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 22, 2024, 9:14 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to set-up Moodle as LTI provider and Laravel as Consumer",
          "Text": "We have APP as well that consumes the laravel api's. We want to integrate same quiz in mobile as well, can it be done with LTI?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2024, 12:07 PM",
          "AuthorName": "Dipti Gajjar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4967712&course=5",
          "role": [
            "Picture of Dipti Gajjar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to set-up Moodle as LTI provider and Laravel as Consumer",
          "Text": "Yes, LTI via mobile is possible. In fact, the Moodle Mobile app makes that work already. I can't explain the specifics of that, since that's developed by another team, but they make it work. I believe one important thing to be aware of is the fact that you may need to consider if/when to launch the mobile browser from the app, in order to perform launches (not sure if possible in webview and the like), and you'll definitely need to be mindful of cookie handling given the current state of browser cookie handling. And just to add another library into the mix: This one's quite popular and is certified and fairly widely used afaik: https://github.com/oat-sa/lib-lti1p3-core",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 10:28 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 441082,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=441082",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI-Error: Tool url opens in new window and same window as well",
          "Text": "I have added the External tool configuration with the Default launch container as a new window. I have added a new course which is linked to this tool URL . But when I click on the new course it opens in a new window correctly but it also tries open in an iframe(same box window) saying refused to connect. I have to refresh a page to get back to clicking the new course link again. What I am doing wrong here",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 29, 2022, 7:50 PM",
          "AuthorName": "Mangala Melkunde",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5056677&course=5",
          "role": [
            "Picture of Mangala Melkunde"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI-Error: Tool url opens in new window and same window as well",
          "Text": "Hi Mangala, When you say \"I have added a new course which is linked to this tool URL.\", what exactly do you mean? Can you unpack that a bit? Are you using a single activity format course? Something else? If you can provide specific steps describing how you've set this up, it'll be helpful too. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 5:02 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 335327,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335327",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Difference between ADDING an external Tool and REGISTERING an external tool",
          "Text": "Im having some issues with integrating Zaption to passback grades to Moodle. I have enabled grades to be passed back globally in the privacy settings of the the LTI however this was done in \"adding an external tool\" After later testing and failing to get the grade successfully back I fumbled upon this \"external tool registration\" a separate LTI something or other in the admin section I have looked in this documentation and I see what moodle states about the two but I am confused. Does this need configured for Zaption to possibly pass back grades effectively? Meaning, do I need to register the LTI as well as adding it??? Confused by the whole process. Would love some direction. Thank you Moodle 3.0",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 25, 2016, 10:24 AM",
          "AuthorName": "Billy Zwiener",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1168989&course=5",
          "role": [
            "Picture of Billy Zwiener"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 448168,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=448168",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle Oauth Provider",
          "Text": "Hi, I'm working on an LTI project that requires an API token to send requests to the Moodle API. The case is that I need a token provided by Moodle to authenticate my users and grant them the necessary scopes to make the requests. I cannot use the services of YouTube, Facebook, etc. Instead, I need Moodle to be the provider of OAuth tokens. How can I achieve this? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 29, 2023, 5:48 PM",
          "AuthorName": "Juan Manuel Rubiales de la Cruz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5673244&course=5",
          "role": [
            "Picture of Juan Manuel Rubiales de la Cruz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle Oauth Provider",
          "Text": "Hi Juan, It's not 100% clear what you're trying to achieve, so it's a little hard to answer this one. Are you building an LTI tool? Something else?  Either way, a few of things to point out, since you mention LTI. Moodle's LTI consumer (when Moodle act at the platform), will naturally provide id tokens during launch (to authenticate the user), and tools can request access tokens to call those LTI services supported by Moodle. All of this is restricted to the mod_lti space and only LTI scopes are used. I.e. these tokens are only for use with LTI and LTI services and not for any of Moodle's other web services. If you're building an LTI tool, these are exactly the tokens you want to use. Generally speaking, Moodle is not an identity provider. There is no support for that outside of LTI. Hope that helps. If not, please include more information about what it is you're aiming to do. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 30, 2023, 10:04 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 443350,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=443350",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI 1.1 as consumer invalid signature",
          "Text": "Hey, I'm running into an issue where Moodle seems to generate invalid signatures signing LTI 1.1 launches, and I can't figure out what might be causing this or a pattern to the issue. I have two moodle instances: one running locally, and one in a test server . I am building an LTI provider, and I started seeing errors of LTI 1.1 launches with invalid signatures. First, I thought the issue was in my implementation of the signature validation. But then I tested both Moodle instances against a reference LTI implementation https://saltire.lti.app/tool . What I now see is that the local Moodle always gives an invalid signature error when launching to the saLTIre tool, and always works with my own LTI provider. On the other hand, the moodle on th test server always works with the saLTIre tool, yet always has an invalid signature when launching to my own LTI provider. I have uploaded a video showing the problem here: https://streamable.com/ninfb9 . I first show that for both moodle instances I simply configure an external tool with the correct URL , the key and the secret, and then launch to the saLTIre tool. For the local instance it fails, for the one on the test server it works. For reference, the local moodle is running 4.0.4+ Build 20221111 and the instance on a test server is running 4.1 upwards Build 2022112. And I have also tested locally with another version, 4.0.4 Build 20220912, with which I never get the invalid signature issue. Could this be a bug in Moodle? Or am I missing something? Thanks for the help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 26, 2023, 8:41 AM",
          "AuthorName": "Manuel Manso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5196221&course=5",
          "role": [
            "Picture of Manuel Manso"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI 1.1 as consumer invalid signature",
          "Text": "Hi Manuel, Tracking this down is perhaps something only you can do via debugging. You should be able to see the signing string on both ends. In Moodle, you'll need to step through the code to see what's being signed. In the test tool, you can see the string (it's reported there in the screencast). There surely must be some difference either with the string, or with something like the timestamp. For reference, this isn't something I see when using that tool with my local sites, whether they be on 4.0, or 4.1, so it isn't a widespread issue. Aside from that, just pointing out that 1.1 has been deprecated for a long time now. New tools should be built using LTI 1.3/LTI Advantage. Sorry I can't be of more help. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 31, 2023, 8:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 191590,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=191590",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Database of external tools that can be integrated in Moodle",
          "Text": "I think that a database activity in this course (contrib section) for keeping a list of external tools that supports IMS LTI will be a good idea Gavin has pointed out some tools http://www.somerandomthoughts.com/blog/2011/11/28/moodle-2-supports-connecting-to-ims-lti-tools/ Any chance to be created?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 3, 2011, 7:31 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Database of external tools that can be integrated in Moodle",
          "Text": "This is a good mod.  Thank you Juan.  Now the question of some docs for it. Seeing as Moodle can be a supporter as well as a client.  Different servers. How does one set up a moodle to be a provider? I installed the mod and it registered OK.  I did config and it never blew up.  But when I embed from a to the provider (B) no resource. I love the idea we can have one source of share standard objects, rather than having to import and muck around at course level.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 19, 2012, 3:54 PM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Database of external tools that can be integrated in Moodle",
          "Text": "Juan, thanks for your suggestion of collecting info on external tools supporting IMS LTI. How about starting by making a list in the docs here: Using External tool .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 19, 2012, 7:02 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Database of external tools that can be integrated in Moodle",
          "Text": "My colleagues at Instructure set up an LTI tools example index https://lti-examples.heroku.com I haven't tested these all in Moodle 2, but they are definitely worth checking out. This might help feed a database in this course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 9, 2012, 9:15 AM",
          "AuthorName": "Jared Stein",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=121093&course=5",
          "role": [
            "Picture of Jared Stein"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465126,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465126",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Advantage passing lesson status and time back to consumer",
          "Text": "Hi there I am investigating LTI as a possible replacement for our existing AICC implementation for sharing elearning courses. We are replacing a rather long in the tooth bespoke LMS with a new LMS powered by Moodle 4.5 I have set up a couple of Moodle 4.5 instances online and have managed to access content from the Provider (Tool) instance from the Consumer (Platform) instance. On the Provider instance I can see the Report for my test user that includes the Status, Time and Score. I am unable to see the same information on the Comsumer instance. I am trying to determine if this is the expected behaviour or is there a setting I am missing to retrieve/show this data on the consumer instance. If the data is only available on the Provider instance, then it feels onerous for a teacher on a consumer instance to need to retrieve data for their students from multiple LTI providers assuming they have included LTI elearning from multiple LTI sources. Any clarification on this would be really helpful. Thanks Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 10, 2025, 8:35 PM",
          "AuthorName": "Paul Steven",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6406758&course=5",
          "role": [
            "Picture of Paul Steven"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Advantage passing lesson status and time back to consumer",
          "Text": "Hi Paul, It's probably worth also including some information about what activity you're using. Is it a lesson ? An assignment? Something else? I see you've mentioned Status, Time and Score. Maybe you can expand on that. LTI won't automatically send back anything to the platform (consumer), but it can be configured to post back grades ('scores', though only numeric scores are supported by LTI). This happens via a scheduled task on the tool (provider) site, and needs both tool and platform to be configured correctly. I.e. the tool configuration in the platform must be set to allow grade posting and the use of the AGS service. In the tool, this is configured out of the box, but does require cron to be running regularly as it's done via a scheduled + adhoc task. Let me know if you need anything above clarified Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 9:52 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Advantage passing lesson status and time back to consumer",
          "Text": "Hi Jake Thank you for your reply. The activities are mainly SCORM 1.2 learning resources. With AICC the third party LMS can see the lesson status, score and time spent for all the users using the AICC content that is hosted on the \"provider\" LMS. My tests with LTI have allowed me to access the SCORM content from the consumer LMS but I do not see any data for lesson status, or time spent or indeed score though it does appear to cater for a grade. We have several hundred LMS systems accessing our AICC content so a replacement with LTI would need to be as simple as possible for the consumer LMS admins and ideally they would be able to access the same data (lesson status, score and time). I can see that the \"teacher\" can login to the provider LMS and see this data so the data is at least captured somewhere. At this stage I am just trying to identify what is possible out of the box without the need for the consumer LMS admins needing to do any complex configuration. The LTI Advantage seems really straightforward to allow the access to the provider content. Your mention of a cron job does seem to imply whatever data comes back will not be instantaneous. Many thanks Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 17, 2025, 3:48 PM",
          "AuthorName": "Paul Steven",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6406758&course=5",
          "role": [
            "Picture of Paul Steven"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Advantage passing lesson status and time back to consumer",
          "Text": "Yep, you've pretty much got your head around it there, Paul. Really, the grade sync is a very simple service call, and pushes numeric grades only. There is no way LTI (and indeed our Moodle tool implementation) will handle the other bits and pieces since those are specific to the activity being published (SCORM, etc) and is not a generic thing able to be pushed via LTI services.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 20, 2025, 10:05 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 389469,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389469",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Grade synch not working on some clients",
          "Text": "We are trying to connect activities from an external LTI-provider with a moodle course. Grades are supposed to be synched. The LTI-provider showed us a moodle class of thei own in a 3.4 Moodle with grade synch working. They could not achieve to get synch working in our demo Moodle 3.2.2+, we ourselves tried everything we could think of as well. I also checked the server -timestamp - it is not off. A student completes an LTI- lesson , he is recognized with his name given by Moodle there, his points are shown in the lesson, but not synched back to Moodle. Also there is no structure in the gradebook indicating that any kind of data flows back to Moodle from the LTI-provider. e.g. about lessons. (the lessons are available in separate activities imported via an IMSCC-file) Another test I made was to set up the external tool in my own development Moodle 3.6.4 where the settings for the services are available in the tool configuration. But the grade synch does not work there as well. In the end the whole structure may need to be implemented in a Moodle 2.9 with LTI as a plugin. But no tests were made in an older Moodle yet. Since the Moodle 3.4 where it works is \"in between\" the two versions where it does not work, I suppose the version of Moodle is not really the source of the problem. What could be, though, that we have not tried yet? A server setting? Some Moodle setting? Both the 3.2.2 and the 3.6.4 Moodle are mostly \"out of the box\" with no special settings or exotic plugins.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2019, 11:20 PM",
          "AuthorName": "Andreas Giesen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340154&course=5",
          "role": [
            "Picture of Andreas Giesen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade synch not working on some clients",
          "Text": "Swift help with this would be really appreciated. This could be a paid effort, if someone has expertise to make this work. Please contact me for details.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 20, 2019, 6:44 PM",
          "AuthorName": "Andreas Giesen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340154&course=5",
          "role": [
            "Picture of Andreas Giesen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade synch not working on some clients",
          "Text": "Hi Andreas, I am suffering exactly same issue as yours. My current Moodle instance is 3.6.3, and both External Tools (Poll Everywhere and Wiley Plus) grade sync back stop working. They were working with our previous Moodle 3.1.12. We are an Oracle shop, so there is a syntax issue in lti_get_shared_secrets_by_key(). After I fixed that syntax issue, I got this error in the server log. Debugging: LTI message verification failed: OAuth signature failed: In call to debugging()\\n* line 63 of /mod/lti/service.php: call to lti_verify_message()\\n No luck so far to find out why OAuth signature failed. Hope some expert out there can shred some lights for us.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 26, 2019, 11:16 PM",
          "AuthorName": "Bei Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1264773&course=5",
          "role": [
            "Picture of Bei Chapman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade synch not working on some clients",
          "Text": "For those who might be in the same boat as me, read on coz I find the root cause with a simple solution. We are an Oracle shop with Moodle 3.6.3 and the root cause is an Oracle syntax issue in one SQL query in mod/lti/locallib.php. Basically we need to address the datatype inconsistency and also specify the select column using the same alias name “value”. Otherwise the function call following the SQL query to map the values from the array will return nothing. That is why the oauth signature verification fails, because there is no shared secret returned. And therefore no grade sync is happening. See the code snippet below for more details. $query = \" SELECT to_char(t2.value) AS value FROM {lti_types_config} t1 JOIN {lti_types_config} t2 ON t1.typeid = t2.typeid JOIN {lti_types} type ON t2.typeid = type.id WHERE t1.name = 'resourcekey' AND DBMS_LOB.COMPARE(t1.value , :key1) =0 AND t2.name = 'password' AND type.state = :configured1 UNION SELECT tp.secret AS value FROM {lti_tool_proxies} tp JOIN {lti_types} t ON tp.id = t.toolproxyid WHERE tp.guid = :key2 AND t.state = :configured2 UNION SELECT password AS value FROM {lti} WHERE resourcekey = :key3\"; $sharedsecrets = $DB->get_records_sql($query, array('configured1' => LTI_TOOL_STATE_CONFIGURED, 'configured2' => LTI_TOOL_STATE_CONFIGURED, 'key1' => $key, 'key2' => $key, 'key3' => $key)); $values = array_map(function($item) { return $item->value; }, $sharedsecrets); If you find it helpful, that would be great. If you are interested in getting more info from me, please feel free to contact me. Cheers, Bei",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 3, 2019, 9:48 PM",
          "AuthorName": "Bei Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1264773&course=5",
          "role": [
            "Picture of Bei Chapman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 396825,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396825",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 content creation",
          "Text": "Hello, When I am trying to create a single resource using External tool then it working properly using LTI. Process:Course->add a resource->select content->external tool Then using LTI 1.1 it creates single content properly. But when I am sending multiple content requests using LTI then content not created. Can you please help me with this? How to create multiple resources at a time using LTI 1.1 in moodle, Is there any different setting? Please find below my LTI 1.1 JSON content item sample for 2 content item request and single item request: \n```text\n{\n```\n \"@ context \": \"http://purl.imsglobal.org/ctx/lti/v1/ContentItem\" , \"@graph\" : [ { \"@type\": \"LtiLinkItem\", \"@id\": \"test123 - Lesson 02 Quiz\", \"text\": \"test123 - Lesson 02 Quiz\", \"mediaType\": \"application/vnd.ims.lti.v1.ltilink\", \"title\": \"test123 - Lesson 02 Quiz\", \"lineItem\" : { \"@type\": \"LineItem\", \"label\": \"test123 - Lesson 02 Quiz\", \"reportingMethod\": \"res:totalScore\", \"scoreConstraints\" : { \"@type\": \"NumericLimits\", \"totalMaximum\": 100 } }, \"custom\" : { \"lti_app_resource_id\": 3988 } }, { \"@type\": \"LtiLinkItem\", \"@id\": \"test123 - Lesson 03 Quiz\", \"text\": \"test123 - Lesson 03 Quiz\", \"mediaType\": \"application/vnd.ims.lti.v1.ltilink\", \"title\": \"test123 - Lesson 03 Quiz\", \"lineItem\" : { \"@type\": \"LineItem\", \"label\": \"test123 - Lesson 03 Quiz\", \"reportingMethod\": \"res:totalScore\", \"scoreConstraints\" : { \"@type\": \"NumericLimits\", \"totalMaximum\": 100 } }, \"custom\" : { \"lti_app_resource_id\": 3989 } } ] } ======================================== Single request, its working properly \n```text\n{\n```\n \"@context\": \"http://purl.imsglobal.org/ctx/lti/v1/ContentItem\" , \"@graph\" : [ { \"@type\": \"LtiLinkItem\", \"@id\": \"quiz123 - ECS01 Quiz\", \"text\": \"quiz123 - ECS01 Quiz\", \"mediaType\": \"application/vnd.ims.lti.v1.ltilink\", \"title\": \"quiz123 - ECS01 Quiz\", \"lineItem\" : { \"@type\": \"LineItem\", \"label\": \"quiz123 - ECS01 Quiz\", \"reportingMethod\": \"res:totalScore\", \"scoreConstraints\" : { \"@type\": \"NumericLimits\", \"totalMaximum\": 100 } }, \"custom\" : { \"lti_app_resource_id\": 3997 } } ] }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 9, 2020, 1:02 PM",
          "AuthorName": "Rohit Shirsath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2907005&course=5",
          "role": [
            "Picture of Rohit Shirsath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 460940,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460940",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Can i-Ready be integrated into Moodle?",
          "Text": "One of the administrators for our high school would like i-Ready to integrate into our Moodle, so students just log into a Moodle course to complete their i-Ready content and for the grades to automatically appear in the Moodle gradebook. Has anyone tried this? https://chatgpt.com/share/e5f30312-43a4-4491-8f30-387c80e37722 Thanks, -Matt",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2024, 10:09 PM",
          "AuthorName": "Matt Ladwig",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789929&course=5",
          "role": [
            "Picture of Matt Ladwig"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can i-Ready be integrated into Moodle?",
          "Text": "Hi Matt, Can you find any docs that suggest i-Ready is LTI compatible? A quick Google myself returned nothing. If not, then the answer will be \"Not via LTI\" and you'd need to explore other avenues. Might be worth reaching out to i-Ready directly to discuss, since that's their domain . Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 9, 2024, 8:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 444541,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444541",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI provider (1.3)| feature request notification when Empty service url",
          "Text": "Moodle versions: 4.x LTI Provider: 1.3/advantage Background: In 2021 I posted an issue with LTI 1.1/1.2 Empty service url ( https://moodle.org/mod/forum/discuss.php?d=430048 ) . Cause: We found out that this is due to a reset option on the LTI consumer side. This particular LMS implemented that the LIS_result_sourced_ids will be send without a the serviceurl because they don't expect a result back. Moodle vs Moodle As posted in https://moodle.org/mod/forum/discuss.php?d=430048 I could not replicate this issue from Moodle - Moodle. The problem we see: is that when the LMS consumer is wrongly configured this is the reason why a grade is not being received. What we suggest: that when the serviceurl is empty, when the student goes into the course a notification will appear. That due to configuration, there will be no result send back. and they should contact their organisation. -- Are you having this issue as well? please vote on my tracker ( https://tracker.moodle.org/browse/MDL-77476 ) . Do you think there is a better solutions, please let  me know!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 3, 2023, 8:03 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI provider (1.3)| feature request notification when Empty service url",
          "Text": "I think something like this would be very handy. We'll probably have to keep track of that (the mismatch between tool configuration and launchdata claims) and then present the relevant notice to the user in the activity itself, once the enrolment code redirects there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2023, 2:54 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 456531,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456531",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Upgrading from 3.11 to 4",
          "Text": "Hi I have a site that is currently 3.11.16+ that we are soon to upgrade to a version of 4. (actual version to be determined) We use LTI 1.3 to open an external program and pass a custom parameter and the user name and email address only. Is there anything we need to be aware of as far as known issues are concerned? Many thanks Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 13, 2024, 6:14 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Upgrading from 3.11 to 4",
          "Text": "Hi Gareth, There were a number of changes to LTI External tool (mod_lti) in 4.3, but nothing really that noteworthy before that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2024, 9:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Upgrading from 3.11 to 4",
          "Text": "Thanks for the information Jake that's really helpful Regards Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 19, 2024, 4:58 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 374662,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374662",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Managing enrollments in external application",
          "Text": "Hello, someone must have run into this issue before and I am hoping can provide some direction.  We are connecting via LTI to an external service.  The user is provisioned in the external service when the LTI link in moodle is clicked.  Initially, the teacher, who creates the LTI link to the service will also provision the course in the external system when they first click on their LTI link. The question What happens when a student drops the course in moodle?  In theory, they should not have access to the service any longer.  Is there a best practices method to keep the enrolments in sync from moodle to the remote system? Any suggestions would be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 15, 2018, 8:58 PM",
          "AuthorName": "Eric Katchan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555818&course=5",
          "role": [
            "Picture of Eric Katchan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 258414,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258414",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI  Source plugins",
          "Text": "Can someone either explain what the purpose of the LTI Source plugins directory is and how to use it (preferably an example source plugin to look at), or point me to somewhere that this is already explained? Still trying to wrap my brain around the plugin system in general, so this subplugin business is even more confusing to me. Thanks! Dominic",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 15, 2014, 10:43 PM",
          "AuthorName": "Dominic Hanzely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1714851&course=5",
          "role": [
            "Picture of Dominic Hanzely"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI  Source plugins",
          "Text": "For anybody who is also curious about this: https://moodle.org/mod/forum/discuss.php?d=258003#p1120408",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 19, 2014, 2:55 AM",
          "AuthorName": "Dominic Hanzely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1714851&course=5",
          "role": [
            "Picture of Dominic Hanzely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458966,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458966",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Grade Sync to Blackboard",
          "Text": "It's come to our attention that our STACKmoodle users utilising Grade Sync (Grade synchronisation) in Publish as LTI Tools to feed grades into Blackboard (our core LMS) have had encounters whereby grades in Blackboard have been multiplied by 5x of what they should be. Grades in STACKmoodle are out of 10, and when feeding into Blackboard, they're out of 100%, i.e., 10/10 = 100% and so on. However, ~50 days after students last accessed this particular STACKmoodle quiz, all grades in Blackboard have automatically been multiplied by 5, and this hasn't been done by administrators in Blackboard. I'm wondering whether any other users have encountered such behaviour before, regardless of whether their LMS is Blackboard, or something else. STACKmoodle details: Moodle 4.4+ (Build: 20240524) | Version 2024042200.05 Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 31, 2024, 12:36 PM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade Sync to Blackboard",
          "Text": "The grades are sent as score given and grade maximum (so you'd expect nothing higher than 10 for score given and 10 for grade maximum, and aren't re-sent unless the percentage value of that grade on Moodle changes, so you wouldn't expect Moodle to have made that change. If you have access to your moodle database , you can look at the mdl_enrol_lti_users table (the mdl_ prefix might be different for your setup) and that will show you what the percentage was when the grade was last sent and the time that it was last sent, so you could definitively rule out Moodle having made the mistaken multiplication. The closest I've seen to something like this was caused by grade maximums for the grade items being changed: Moodle doesn't check whether a grade maximum has changed, just whether the percentage of the score and the maximum has changed. I suspect that's vestigial logic from LTI 1.1, where grades are reported as percentages. My guess (despite your assertion that Blackboard wasn't changed) is that the grade on Blackboard's gradebook was originally set to be 50/50, grades were sent and scaled like that, and then the grade maximum was changed to 10 but the scores weren't renormalized. The grades on Blackboard can be fixed by setting the 'lastgrade' fields for all rows with that toolid in mdl_enrol_lti_users to 0.00, which forces the sync_grades task to re-send the grades for all non-zero scores. (Since it thinks the last time it sent the grade, it was 0.00 and now it is something higher than that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 3, 2024, 8:19 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade Sync to Blackboard",
          "Text": "Thanks for the update, Liam. I'll touch base with our developers regarding our database and see if they can find anything to confirm/deny modifications coming from moodle's end.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 4, 2024, 6:03 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431144,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431144",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Engaging External Tools for Moodle",
          "Text": "Hi Everyone! I am trying to make Moodle more exciting for my students/participants (mostly adults), so I am searching for external tools which would make it more engaging. What do you use? What do you suggest? I am collecting the ideas on this Padlet. Feel free to post is there or here in the forum. https://padlet.com/bogitoth83/m3i9qodm9l Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 25, 2022, 4:50 PM",
          "AuthorName": "Boglárka Tóth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4738508&course=5",
          "role": [
            "Picture of Boglárka Tóth"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 390867,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390867",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restrict LTI User to specific course",
          "Text": "Hi All, I have created the LTI user course activity and LTI user is able to logged in to consumer site and able to complete the course activities . But when LTI user is viewing other course by changing course ID, he is able to view the other courses too which should not take place. Any idea / clue on how can I stop LTI user to view other courses which he is not enrolled for? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 12, 2019, 10:46 AM",
          "AuthorName": "Yogi Mishra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2705340&course=5",
          "role": [
            "Picture of Yogi Mishra"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 350691,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350691",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI-Tool-Provider-Library-PHP tutorial and documentation",
          "Text": "Does anyone know there is any further tutorial and documentation for the LTI library https://github.com/IMSGlobal/LTI-Tool-Provider-Library-PHP/ recommended by IMS Global, which seems to be only LTI 2.0 library so far? I tried a lot to register a tool on the moodle (moodle as tool consumer) and found out that some sort of product info (name, description) is required in the tool proxy profile. I cannot find whether this is a requirement of moodle or LTI standard. The wiki of the library seems too simple and lots of things left unexplained.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 4:08 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "回應: LTI-Tool-Provider-Library-PHP tutorial and documentation",
          "Text": "I also got the following js error in the External tool registration result page, no matter registration is success or not: Uncaught TypeError: window.parent.triggerExternalRegistrationComplete is not a function at Object.init (first.js:87) at externalregistrationreturn.php?id=21&sesskey=fhTwJKfhoD&lti_errormsg=Sorry%2C+there+was+an+error+co…:147 at Object.execCb (require.min.js:1) at b.check (require.min.js:1) at b.enable (require.min.js:1) at b.init (require.min.js:1) at require.min.js:1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 5:42 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI-Tool-Provider-Library-PHP tutorial and documentation",
          "Text": "The IMS forums would be a better place to ask about that. This is outside the scope of moodle. Yes it is LTI 2.0, however by manually creating the Consumer in the database you can use it with a consumer that only supports 1.0 As for finding out what's required and what isn't I'd go to https://www.imsglobal.org/specs/ltiv2p0/implementation-guide or other documents on the IMS site",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 9:09 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453307,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453307",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "enrollment through LTI is interrupted",
          "Text": "Hello everyone, we are in the process of setting up an integration between our in house developed system (as platform) and moodle as LTI tool to offer courses to our user base. by managing all the required configurations at both ends, we are able to start the course from our system on moodle, however there are couple one issue that no matter what configurations we tried, we are not able to go around it. when a student starts a course in our system, moodle opens and asks the user to fill in more profile details \"user registration\" however after completing that and accepting the terms and conditions, the student ends up on the profile dashboard and the student is not enrolled into the course \"clicking on my courses shows an empty list\", it is on the second attempt that the student lands on the course \"enrollment happens on the second attempt, since the first attempt is interrupted by student registration and terms and conditions\" are we missing something somewhere to enroll the user after registration ? thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 6, 2023, 5:26 PM",
          "AuthorName": "Fahd Helwani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6008505&course=5",
          "role": [
            "Picture of Fahd Helwani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: enrollment through LTI is interrupted",
          "Text": "Hi Fahd, See MDL-61591 . I believe this isn't a problem specific to enrol_lti, but to the profile update process in general. It would be great to see that issue moving again. Looks like it stalled a little since last reviewing it. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 7, 2023, 9:09 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: enrollment through LTI is interrupted",
          "Text": "Hi all, I added MDL-80343 for a quick solution. The issue is closed due duplicated issue. Nethertheless, MDL-80343 provides a patch and the git sources for Moodle 4.x. All the best Tina",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 8, 2023, 11:05 PM",
          "AuthorName": "Tina John",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4581652&course=5",
          "role": [
            "Picture of Tina John"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 356570,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356570",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 454231,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454231",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Placing an External tool (LTI) in a Moodle Quiz Activity Question",
          "Text": "In my use case, I want the user while reading a question stem, launch a LTI product in a popup menu. I don't see an option to call out LTI link/External tools in Moodle Question Editors. Any suggestions on how to approach this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 10, 2024, 3:23 PM",
          "AuthorName": "Rishiraj Gera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4098811&course=5",
          "role": [
            "Picture of Rishiraj Gera"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Placing an External tool (LTI) in a Moodle Quiz Activity Question",
          "Text": "At this point its not possible. However HQ is in the process of refactoring the LTI subsystem to make use cases like this potentially possible in the future. I expect we should be seeing this initial work completed in the second half of 2024, however a quizzes placement wont be part of that initial work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 11, 2024, 6:51 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 338227,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=338227",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Grade Recording",
          "Text": "I am new to the LTI Provider in Moodle 3.1 and plan to allow access to courses from other LTI systems.  My question is does Moodle record activity completion when the criteria is met within the system? For example, if they completed the quiz with 80% does that score get recorded in Moodle and sent to the LTI consumer, and the activity completion criteria is flagged as completed? Hopefully the answer is yes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 20, 2016, 10:19 PM",
          "AuthorName": "David Boggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1590647&course=5",
          "role": [
            "Picture of David Boggs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 379570,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=379570",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Quiz navigation block when embedded",
          "Text": "We use Canvas in our district, but I've used Moodle in the past. I've found that the quiz system and the way that Moodle handles question banks are just better than Canvas. But it's mandated that we use Canvas so that all students' course calendars show up together. This year I've been embedding quizzes from Moodle into Canvas using Moodle as an LTI provider so that I get to use Moodle but still stay within Canvas for the students. Works perfectly except for one catch. When a quiz is embedded no blocks are shown. Course navigation blocks are hidden, which makes perfect sense. But the block that allows students to jump between questions is also hidden. Is there a way to have just the quiz navigation block show when students take a quiz through an LTI consumer? My students tend to like to jump around between questions, and that's tough without the quiz navigation block.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 7, 2018, 9:51 PM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Quiz navigation block when embedded",
          "Text": "Hi Ryan, Did you ever find a solution to this and do you know if in the latest version of moodle if this is still an issue i.e. will upgrading provide a solution. I read something in the release notes for more recent moodle versions about the quiz navigation block being set to float, but I was unclear if this meant it wouldn't be hidden when embedded with LTI . Thanks, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 24, 2019, 5:08 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453228,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453228",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Invalid HTML generated by /mod/lti/launch.php",
          "Text": "Hi all, I am writing on behalf of one of our customers who is having a problem launching our LTI tool from their Moodle instance.  With some debugging I think we have traced the issue back to some invalid HTML around the \"lti_message_hint\" property on /mod/lti/launch.php <!-- customer example --> <input type=\"hidden\" name=\"lti_message_hint\" value=\"{\"cmid\":XXXXXXX,\"launchid\":\"ltilaunchXXXX_XXXXXXXXXX\"}\"/> <!-- school.moodledemo.net test site example --> <input type=\"hidden\" name=\"lti_message_hint\" value=\"{&quot;cmid&quot;:XXXXXXX,&quot;launchid&quot;:&quot;ltilaunchXXXX_XXXXXXXXXX&quot;}\"/> Note that in the customer example the value prop contains unencoded quote characters resulting in (what appears to be) invalid, or at least unintended, HTML.  On the hosted Moodle test site the quotes are encoded. When the customer launches the tool, I believe we are only receiving part of the \"lti_message_hint\" value due to the quote issue.  Our tool then sends the partial value back to Moodle at /mod/lti/auth.php and an error is thrown because our partial value does not match the expected value.  This whole sequence works properly on the test system, and AFAIK none of our other customers are experiencing the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 4, 2023, 11:13 PM",
          "AuthorName": "Marc Springshare",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6124070&course=5",
          "role": [
            "Picture of Marc Springshare"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Invalid HTML generated by /mod/lti/launch.php",
          "Text": "Hi Marc, I've just checked 4.1.3 and that version shouldn't have the problem. Suspect something local to that customer but obviously can't be sure. You're 100% right that we definitely need to get the full string over to the tool, and back from the tool. Here's the login initiation request code, where you can see the params are all encoded per ENT_COMPAT, which will convert double quotes (as you're seeing in the test site): https://github.com/moodle/moodle/blob/67f739499b3840ffc4cfae5a5a04c8dcd33bf3ab/mod/lti/locallib.php#L3589-L3590 . 4.1.3 has this same code. See also: https://www.php.net/manual/en/function.htmlspecialchars.php There's nothing configuration-wise that comes to mind. The only way I can trigger this kind of thing is if I set ENT_NOQUOTES on those lines of code, which isn't something we ship, nor provide config for. Also, just for clarity, am I right in assuming you're seeing the \"Invalid request\" error in mod/lti/auth.php, line ~90? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 5, 2023, 12:32 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid HTML generated by /mod/lti/launch.php",
          "Text": "Thx for the response. I don't have direct access to the customer site unfortunately, but from the screenshots we received auth.php looks to be returning a 404. The full request (with purged domains and identifying info) is as follows: https://[MOODLE_DOMAIN]/mod/lti/auth.php?scope=openid&response_type=id_token&response_mode=form_post&prompt=none&client_id=[CLIENT_ID]&redirect_uri=[ENCODED_TOOL_LAUNCH_URL]&state=state-[XXX]&nonce=nonce-[XXX]&login_hint=[XXX]&lti_message_hint=%7B%22cmid%22%3A[XXX]%2C%22launchid%22%3A%22ltilaunch[XXX]%22%7D Hmm - so in this example the call to auth.php does contain the encoded \"lti_message_hint\" value, which means our tool must have received the full value from the form POST generated on launch.php. That is not what I was expecting to see. I may have to go back to the customer to see if I can get patron access to the course, so I can see this first hand. Something is not adding up here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 5, 2023, 11:16 PM",
          "AuthorName": "Marc Springshare",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6124070&course=5",
          "role": [
            "Picture of Marc Springshare"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 391538,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391538",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Grade passback error",
          "Text": "Hello, We are a higher ed content provider and we are connecting to Moodle via LTI 1.3 and receiving the following error. Can anyone help? Thank you! \"body\": { \"status\": 400, \"reason\": \"No handler found for /8/lineitems/33/lineitem  application/vnd.ims.lis.v1.score+json\", \"request\": { \"method\": \"POST\", \"url\": \"/mdl371/mod/lti/services.php/8/lineitems/33/lineitem?type_id=5/scores\", \"accept\": \"application/json\", \"contentType\": \"application/vnd.ims.lis.v1.score+json\" } }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 26, 2019, 11:15 PM",
          "AuthorName": "Lorraina Morrison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2783689&course=5",
          "role": [
            "Picture of Lorraina Morrison"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "Hi, I am facing the same issue.....Do you get any solution for this?... Please guide me for this issue",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 9, 2020, 6:46 PM",
          "AuthorName": "Rohit Shirsath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2907005&course=5",
          "role": [
            "Picture of Rohit Shirsath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "The endpoint has to be \"/mdl371/mod/lti/services.php/8/lineitems/33/lineitem/scores?type_id=5\" instead of \"/mdl371/mod/lti/services.php/8/lineitems/33/lineitem?type_id=5/scores\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 13, 2020, 12:45 AM",
          "AuthorName": "Kousel Mathi Chandrashekaran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2953318&course=5",
          "role": [
            "Picture of Kousel Mathi Chandrashekaran"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "Changing the endpoint in that way results in effectively the same error:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 28, 2020, 1:00 AM",
          "AuthorName": "Ken Champeon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3046300&course=5",
          "role": [
            "Picture of Ken Champeon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "Does anyone know what the type_id parameter means? It does not seem to be part of the IMS spec for LTI 1.3, so maybe its specific to Moodle but it would be nice to know what it means. I played around in Postman and tried changing it to different numbers and it didnt appear to make any change. Many thanks, Tom",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 22, 2020, 8:38 PM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "This solution worked for me. When my previous url was: \" /mod/lti/services.php/5/lineitems/8/lineitem?type_id=3/scores \"...this was the error I was getting: \n```text\n{\"status\"=>400, \"reason\"=>\"No handler found for /5/lineitems/8/lineitem  application/vnd.ims.lis.v1.score+json\", \"request\"=>{\"method\"=>\"POST\", \"url\"=>\"/mod/lti/services.php/5/lineitems/8/lineitem?type_id=3%2Fscores\", \"accept\"=>\"*/*\", \"contentType\"=>\"application/vnd.ims.lis.v1.score+json\"}}\n```\n Then I changed the url to \" /mod/lti/services.php/5/lineitems/8/lineitem/scores?type_id=3 \" and everything works fine now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 26, 2020, 3:55 AM",
          "AuthorName": "Karen Ling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3410832&course=5",
          "role": [
            "Picture of Karen Ling"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "Hello @Karen I applied your solution and got a 401 Unauthorized error, it seems to me that I am missing a token? where can i find it? thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2021, 5:14 PM",
          "AuthorName": "Youness Madhoun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4272230&course=5",
          "role": [
            "Picture of Youness Madhoun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade passback error",
          "Text": "Youness, see my reply here: https://moodle.org/mod/forum/discuss.php?d=423618#p1707467",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 9:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452112,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452112",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Is the LTI 1.3 context ID equal to the course id?",
          "Text": "I have not encountered an LTI 1.3 custom parameter in Moodle for the course ID (similar to Canvas's \"Canvas.course.id\"), but I noticed that the value within the id field of the \" https://purl.imsglobal.org/spec/lti/claim/context \" claim of the LTI 1.3 launch appears to equal the id value in my course URL (\"/course/view.php?id=2#section-0\"). Is this always guaranteed to be the case? Does Moodle have a course ID custom parameter? For additional info, I'm wanting to use the course ID with the API webservice /webservice/rest/ server .php with wsfunction=mod_resource_get_resources_by_courses for my courseids[0] body value. Does anyone know if the LTI context ID is guaranteed to equal the id that's expected by this API webservice?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 2, 2023, 6:08 AM",
          "AuthorName": "Mary Gwozdz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5382766&course=5",
          "role": [
            "Picture of Mary Gwozdz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is the LTI 1.3 context ID equal to the course id?",
          "Text": "Hi Mary, Yep, you've got it right. The context claim you mention contains the course id. You can also pass a custom param of your choosing, using the substitution param $Context.id (so something like 'courseid=$Context.id'), which will produce the same value albeit in a custom claim. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 2, 2023, 9:11 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 313719,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313719",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to link a resource from an external tool?",
          "Text": "In Moodle I'd like to create an external tool where a teacher can pre-configure the resource their students actually see. For example, it is possible to do this in the Canvas LMS. I've created a GIF below that demonstrates this process: http://recordit.co/OwARpYZjKN Is it possible to do this with Moodle? The ideal process is that an Administrator sets up an external tool sitewide and then when a teacher chooses to use this external tool within a course they can select a resource to use from the external tool. At the moment it seems like the only way to achieve something similar in Moodle is for a teacher to set up a new external tool each time and enter the launch url for the resource they want to link to. Alternatively they could use an external tool that has been set up sitewide and then provide some custom parameters. However, neither of these options are a particularly good user experience.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2015, 7:38 PM",
          "AuthorName": "Stephen Young",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1955751&course=5",
          "role": [
            "Picture of Stephen Young"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to link a resource from an external tool?",
          "Text": "It sounds to me as though what you are looking for is an implementation of the LTI Content-Item message.  This is under development for Moodle but was not complete in time to make the 2.9 release - see this forum post for more details",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2015, 8:23 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to link a resource from an external tool?",
          "Text": "Ok thanks for that Stephen. Do you know for which version of Moodle this will be completed?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2015, 9:51 PM",
          "AuthorName": "Stephen Young",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1955751&course=5",
          "role": [
            "Picture of Stephen Young"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to link a resource from an external tool?",
          "Text": "There is working code available from the Tracker item which anyone is able to use.  Having missed the deadline for 2.9, I am now planning to improve the code before the next release.  But I have still to make enquiries about how the move to Moodle 3 will affect such plans.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 18, 2015, 10:29 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 439687,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439687",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "[3.11] 401 Unauthorized on grade sync",
          "Text": "We are getting the following error when we try to sync our grades back to Moodle \n```text\n1.  \n{\n```\n \n```text\n2.  \n    \"status\": 401,\n```\n \n```text\n3.  \n    \"reason\": \"Unauthorized\",\n```\n \n```text\n4.  \n    \"request\": {\n```\n \n```text\n5.  \n        \"method\": \"POST\",\n```\n \n```text\n6.  \n        \"url\": \"/mod/lti/services.php/23630/lineitems/110203/lineitem/scores?type_id=43\",\n```\n \n```text\n7.  \n        \"accept\": \"application/json\",\n```\n \n```text\n8.  \n        \"contentType\": \"application/vnd.ims.lis.v1.score+json\"\n```\n \n```text\n9.  \n    }\n```\n \n```text\n10.\n}\n```\n I have seen some threats about this on the forums, but no solutions. Does anyone have a solution for this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 19, 2022, 4:38 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: [3.11] 401 Unauthorized on grade sync",
          "Text": "Hi Richard, That error is likely going to be tricky to pin down, without actually debugging the service call in real time. I suspect it's occurring here: https://github.com/moodle/moodle/blob/27cbb5965ea34dc142a519cfa72be8cdab353156/mod/lti/service/gradebookservices/classes/local/resources/scores.php#L88 but would definitely need to step through service call to see what's causing that. Can you add more information on how you've set up the tool/platform (which version of LTI you're using, what settings you're using on the activity in Moodle)? Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 20, 2022, 11:46 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [3.11] 401 Unauthorized on grade sync",
          "Text": "We fixed this by adding this to /etc/apache2/conf.d/userdata/ssl/2_4/moodle/authmod.conf SetEnvIf Authorization \"(.*)\" HTTP_AUTHORIZATION=$1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 21, 2022, 6:13 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [3.11] 401 Unauthorized on grade sync",
          "Text": "Good to hear you resolve the issue, Richard. PHP needs to be able to read the HTTP Authorization header for the OAuth 2.0 service requests to work. That directive just makes sure that Apache sends the header to PHP so the request can be verified. It seems like a widely adopted solution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 24, 2022, 1:02 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 418560,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=418560",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Turnitin Integration",
          "Text": "Hi, This is in relation to Turnitin integration with Moodle. Can you please confirm there is no effect if they following is done? - Changing Moodle config from Primary to Sub Account Does any info get lost when changing ID in Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 19, 2021, 9:17 AM",
          "AuthorName": "MoodleKittyCat .",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404085&course=5",
          "role": [
            "Picture of MoodleKittyCat ."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Turnitin Integration",
          "Text": "Hi, It’s Maryna, Community Manager from Turnitin. I highly recommend getting in touch with our Support or Sales Team to get the answers to your integration-related questions. They could be of great benefit to you. Sales Team: https://www.turnitin.com/contact Support Team: https://supportcenter.turnitin.com/s/ or tiisupport@turnitin.com Below you can also find some useful resources to learn more about integrating Turnitin into Moodle: https://help.turnitin.com/feedback-studio/moodle/moodle-home.htm If you still have any questions or lack any information, please let me know. I am always happy to assist you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 1, 2021, 8:50 PM",
          "AuthorName": "Marina Dibrova",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3957128&course=5",
          "role": [
            "Picture of Marina Dibrova"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 233985,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233985",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course wise Display",
          "Text": "Hi, I have configured LTI plugin in Moodle x And y application.now i configure y moodle application in x application(Using shared key and consumer key) and i want to display only course part of y application not hall screen of y application in x application frame(Body Part) so what should i do for that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2013, 8:24 PM",
          "AuthorName": "Ashish Panchiwala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1491358&course=5",
          "role": [
            "Picture of Ashish Panchiwala"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360630,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360630",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Account duplicated",
          "Text": "We are using a LTI from one Moodle  providing content to two different Moodle sites. We have found that some LTI created accounts (e.g. enrol_lti7fd2da98ce6b2900d58d6b201db8df1bd971a4ce)  are duplicated, that's to say two students from the two different sites have the same account. Maybe the reason is because we have used the same LTI instance for both sites, but we are surprised as the accounts are randomly constructed. Has this happened to anyone else?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 27, 2017, 4:37 AM",
          "AuthorName": "Bernat Martinez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=92175&course=5",
          "role": [
            "Picture of Bernat Martinez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 246044,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=246044",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "oauth_problem: signature_invalid",
          "Text": "Hi All, I have installed moodle locally,I have configured external tool with proper shared secret and consumer key as a LTI provider,In my application ,I am using Oauth validation ,It is working fine.One of our client is using moodle rooms their ,I have configured same thing but in our application we are getting exception like oauth_problem: signature_invalid oauth_signature_method: HMAC-SHA1 Please suggest me why our application is getting this exception ? Thanks in advance Gajendra S V",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 18, 2013, 9:43 PM",
          "AuthorName": "Gajendra S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1690164&course=5",
          "role": [
            "Picture of Gajendra S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 209056,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=209056",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "User friendliness of External Tool config UI",
          "Text": "Hi, I'm curious as to the status of basic LTI consumer support in Moodle. There are two consumers, the 'core' one which I think was written by Moodle Rooms after being forked from basiclti4moodle and basiclti4moodle itself. I've been experimenting with adding lti tools into Moodle using both consumers and the experience from a course teacher's perspective seems far better with basiclti4moodle. When a LTI tool is configured using blti4m it just appears as any other Moodle activity, whereas the core consumer requires a teacher to know the launch URL - how likely is that? With the core consumer it's also blatantly obvious that the activity is an 'External Tool', which, IMHO just seems pointless. Are there any plans to merge the two projects? It seems odd to have two different projects doing LTI, especially when the non 'core' one appears to offer a more user friendly experience. Cheers, Adrian.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 15, 2012, 6:42 PM",
          "AuthorName": "Adrian Fish",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1477061&course=5",
          "role": [
            "Picture of Adrian Fish"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 342023,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=342023",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI  Lynda stopped working",
          "Text": "Hello, I have en external tool configured for Lynda.com, as per the instruction from Lynda. It was working fine up until recently , however now when a a user clicks on the navigation link to lynda they receive  the error \" sorry this activity is currently hidden\". This seems like an permission issue, but i cant see where any permissions exist  for the external tool? i Have moodle 2.8.7",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2016, 6:12 AM",
          "AuthorName": "Martin Mitchell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2155041&course=5",
          "role": [
            "Picture of Martin Mitchell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI  Lynda stopped working",
          "Text": "Can you confirm that you havent hidden with the eye the LTI link in your course? Have you perhaps copied the link to it and pasted it as a text link somewhere, and hidden the original external tool URL ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2016, 1:48 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI  Lynda stopped working",
          "Text": "Hi Mary, I found the issue. A teacher had changed the enrolment method from guest to manual enrolment , on the course where the external tool was set. Hope that makes sense",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2016, 5:12 PM",
          "AuthorName": "Martin Mitchell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2155041&course=5",
          "role": [
            "Picture of Martin Mitchell"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI  Lynda stopped working",
          "Text": "Thanks for coming back and letting us know, so others can benefit from your experience!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 26, 2016, 5:14 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 327346,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=327346",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Launching a Google Drive Sheet through LTI activity",
          "Text": "Dear all, I am using Moodle 3.0 and although I did in older versions I am blocked trying to launch a Google Drive Sheet through a LTI activity. I configured the privacy of the drive document in order to be public, but it can not be launched successfully. Any idea? Thanks in advance. Cheers, RD",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 2, 2016, 6:25 PM",
          "AuthorName": "Roger Domínguez Argemí",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1027397&course=5",
          "role": [
            "Picture of Roger Domínguez Argemí"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 368464,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=368464",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Students can enrol Learning Plans for himself",
          "Text": "Hi All, Students can enrol Learning Plans for himself  ??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2018, 10:32 PM",
          "AuthorName": "Nilesh Pathade",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255217&course=5",
          "role": [
            "Picture of Nilesh Pathade"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 430048,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430048",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "LTI Tool Provider: Empty service url",
          "Text": "Hello, I bumped into an issue I have not had before. And wondering if someone recalls a simalar issue. Moodle 3.9.x  LTI Tool Provider CAPP12 LTI Tool Consumer Case: Student enters course, in the enrol_lti_user column serviceurl, the url is placed. Student receive a grade, grade is send through the services , LTI tool consumer confirms that grade is visable. Student re-enters course to improve grade, grade is not being send. Cron log shows error: skipping - empty serviceurl for the user xxx in the tool xx for the course xxx We check the database , and confirm that the service url has \"dissapeared\". We enter the service url manually in the database and grade is being send again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 15, 2021, 8:21 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Gemma, Thanks for the very detailed description. That certainly helps in tracking stuff like this down. I'm not sure I quite follow their response, though. beside the normal way to start a new attempt, students have - when set - the possibility to see a result that been send before. Conform LTI we send an earlier used lis_result_source_id without the service url. We don't send the service url because we don't expect a result back. Assuming you do, could you perhaps clarify what they're trying to say there? It sounds like they're talking about a mechanism to allow grade history to be shown in the Consumer, which can result in a launch with an old lis_result_sourcedid being sent, without an accompanying lis_outcome_service_url . Is that about right? In any case: I have no idea how they do it, but could it be that because they don't send the service url again this is being cleaned in the Moodle database? This seems to align itself with what the tool provider code does. It grabs the service URL and, if different to the currently stored value, it sets the new value. https://github.com/moodle/moodle/blob/master/enrol/lti/classes/tool_provider.php#L344-L346 I guess this is to handle cases where the service URL changes from one valid URL to another, rather than cases where it's being omitted. If you have a look at the Basic Outcomes 1.0 documentation ( https://www.imsglobal.org/specs/ltiomv1p0/specification ), specifically section 2 there, you'll see this part: A typical implementation pattern is for the Outcomes Service Provider to only accept outcomes for launches with a role of \"Learner\". If this were the case, the TC would only provide lis_result_sourcedid values on launches with a \"Learner\" role. If the TC is configured to accept outcomes on a particular launch, the TC is required to include lis_outcome_service_url regardless of the role in the launch and regardless of whether or not a lis_result_sourcedid is included in the launch. Whilst not exactly the same situation, that, to me, suggests that omitting the service URL isn't something that's permitted when we expect results in any of the launches. Regardless of whether a result is expected on a particular launch, if we expect it at some point, for some role, it seems that the service URL must be sent on every launch. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 16, 2021, 8:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Jake, Assuming you do, could you perhaps clarify what they're trying to say there? It sounds like they're talking about a mechanism to allow grade history to be shown in the Consumer, which can result in a launch with an old lis_result_sourcedid being sent, without an accompanying lis_outcome_service_url . Is that about right? I have translate their full reply for you. But as I understand it, you are right they are talking about a mechanisme to allow grade history to be shown in the consumer, which can result in a launch with an old lis_result_sourced_id being send. Their reply fully translated:\" The supplier indicates that the service url is sometimes lost. The only explanation I have for this is that in addition to the 'normal' start-up of an attempt, there is also the possibility to view previously acquired results if this is checked (as a check mark at the device) in our LMS. The form in which previously achieved results in accordance with LTI standard can be viewed is by sending previously used lis_result_sourced_id to the supplier of the content, but WITHOUT a service url. After all, no result is expected in return from this review of a previous attempt. On the part of the supplier, the attempt can then be looked up and the results (possibly provided with feedback) can be shown to the user. It seems to me that what you descibe on the Basic Outcome 1.0 documentatie, section 2 -is exactly what they are reffering to. I will double check with them if this is the case. But do I understand you correctly that Moodle's current code, cannot handle this behavior that the LMS consumer is asking of Moodle as a provider? And if so, does that mean looking at the Basic Outcome 1.0 documentation that this behavior in Moodle should be adapted, or in other words: should a tracker be made for this, and if so is this an improvement or considered as a bug? I am also wondering if this effects the changes in Moodle 4.0 looking at the new 1.3 LTI provider set up? (Sorry too many questions)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 16, 2021, 4:47 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Gemma, I'm wondering whether that type of use case is actually supported by the BO 1.0 standard. I will add the disclaimer that I'm more versed in the 1.3 standards than the legacy ones though. I'd be interested to see the specific part of the spec that deals with launching into past results using different lis_result_sourcedid values. You're right when you say Moodle's BO code cannot handle this . It will update the service URL on every launch. If it's being omitted on the most recent launch, then Moodle removes that data from the table. Another way to think about it is that Moodle is designed to support changing service URLs (which is a valid, albeit rare use case according to the spec) but wasn't designed to handle the use case being discussed here. In any case, Moodle is moving away from 1.1/2.0 and related services since these are deprecated. We're unlikely to accept any changes to this code because of this, so I wouldn't recommend creating a tracker issue. Presumably, the platform also supports 1.3 and Advantage. Currently, the LTI Advantage code in enrol_lti (a dev branch) won't delete the Line items endpoint, even it it's omitted from a given launch. If the tool (formerly provider, aka Moodle) doesn't have permission to post/update the score (i.e. cannot get an access token for the required scope), that operation just won't happen. LTI Advantage also has a spec called Submission Review, which may handle situations like \"Student launches to review their existing work\" - which seems to be what's being discussed here. That spec is not final, however, and there is no support for it yet in Moodle in either the Platform (consumer) or Tool (provider) code. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 20, 2021, 10:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Jake, Sorry for the delay. They confirm that the BO 1.0 section you refered to describes what they are doing, but since they implemented it awhile ago they are not sure if this is the only section that referens to the working. They do test through https://saltire.lti.app/tool (or https://ltiapps.net/test/tp.php ) to ensure that they work according to the standard. And confirmed through these test that a module can be started without the lis_outcome_service_url . In any case, Moodle is moving away from 1.1/2.0 and related services since these are deprecated. We're unlikely to accept any changes to this code because of this, so I wouldn't recommend creating a tracker issue. Does this mean that Moodle 4.0 will only support 1.3 / LTI Advantage? Because I can imagine that there a multiple suppliers that have not moved away from the deprecated standard. And would be good to inform them on time. If Moodle still support 1.1/2.0 in Moodle 4.0, I can imagine that creating a tracker (and providing a patch) would be still usefull (?) Currently, the LTI Advantage code in enrol_lti (a dev branch) won't delete the Line items endpoint, even it it's omitted from a given launch. Do I understand you correctly that the current discussed scenario won't be happening from Moodle 4.0 forward? Gemma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 5, 2022, 6:15 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "@Jake - Following up on the yes/no tracker . It seems to be a setting in this specific LMS (CAPP) that can be turn on / off per LTI tool url. So a patch won't be necessary. But I do wondering if in M4.x LTI 1.1 / 1.2 will still be available even though it will deprecate this year. Because I fear that - similar to by example SCORM - that this \"old\" standard even though deprecated will take some time to be replaced by 1.3 in other LMS systems.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 13, 2022, 10:47 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Jake, If LTI 1.1 and 1.2 are no longer supported, this will have a major impact on a number of our customers. I hope you can clarify this soon. Best regards, Arnout (Avetica, Premium Moodle Partner)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 13, 2022, 11:17 PM",
          "AuthorName": "Arnout Vree",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36449&course=5",
          "role": [
            "Picture of Arnout Vree"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Arnout, 1.1 and 2.0 will certainly be present in 4.0 - both in the consumer code (mod/lti) and in the provider code (enrol/lti). In the case of the latter (the provider code), we simply highlight, via the UI, that the method of publication is deprecated. There are no plans to remove this yet. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:14 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Gemma, That's good news. With cases like this, in which the proposed code change may end up being non-trivial and may change the way Moodle stores data about the launch, I'd be reluctant to push forward with too much vigor, given we can't certify again with said changes in place.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:18 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Thank you for your time to answer Jake!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 4:38 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool Provider: Empty service url",
          "Text": "Hi Gemma, A few things to address here: I'm not sure those test tools are 100% IMS compliant. While we've used these in the past ourselves too, they may not accurately test things like the edge cases we're talking about here. In any case, they aren't something to rely on as a single source of truth. Moodle 4.0 only adds resource publishing over LTI 1.3 (enrol/lti). It doesn't remove any of the publishing capabilities for 1.1/2.0, nor does it change any of the Moodle consumer code (mod/lti). We just make it clear, via the UI, that the 1.1/2.0 method of publishing is deprecated but it's still possible to do this. Because, like you say, many consumers will not be able to support 1.3 (despite it being the only recommended standard right now), there are no plans to remove publication or consumption of resources over these legacy standards. I expect we'll be stuck with these for some time yet. What you see now in 3.11 will continue to work the same way in 4.0. We can no longer certify legacy LTI with IMS - this is the important point driving the need to be very careful about what changes we do accept. Normally, we'd certify our LMS releases (as a consumer of 1.1/2.0/1.3 LTI resources) during the release period. We can no longer certify for 1.1 or 2.0 at all with IMS, meaning the current codebase (which is certified) is the last time we can be sure that the code passes the certification suite and works as intended. As such, we'll be very careful about what code changes we'll land for legacy version like 1.1/2.0 in future. Major changes will likely be rejected, but minor changes may be ok - on a case by case review. Regarding my comment about the 4.0 changes and the endpoint: Yes, the issue being discussed here won't be a problem for consumption of resources published over LTI 1.3 in Moodle 4.0. You will of course need to wait for 4.0 and then republish the resource over 1.3 (and have a 1.3 capable consumer platform). Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:12 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 217115,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=217115",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle and Wordpress",
          "Text": "Hi all, I want to find a way to integration moodle in wordpress not integrating wordpress in moodle. i hope can't receive reply!! Thanks!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 3, 2012, 3:25 PM",
          "AuthorName": "Van Tam Tran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1514363&course=5",
          "role": [
            "Picture of Van Tam Tran"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 364420,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=364420",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Need some help with LTI 2.0 registration process",
          "Text": "Hey guys, I'm developing a Java Tool Provider using LTI 2.0. Using IMS LTI Tool Consumer emulator I can made my Tool Proxy pass the registration process with 201 code, but when trying it on Moodle or Canvas I can't. I'm using this Vagrant Box with canvas: Vagrant box supersoftware/canvas-lms - Vagrant Cloud And create a second Moodle vm using this tutorial: How to install Moodle 3.2 on Ubuntu 16.04 but it gave me 400 Bad Request when trying to get ToolConsumerProfile (the tc_profile_url is https://192.168.1.7/mod/lti/services.php/profile/?lti_version=LTI-2p0 ) The first Moodle VM gives me 400 Bad Request when trying to post the tool proxy. Canvas gives me 401 Unauthorized or 500 Internal Server Error Canvas gives me 401 if I use this to get oauth_body_hash public static String signBodyHash(String requestBody) throws NoSuchAlgorithmException, UnsupportedEncodingException { MessageDigest md = MessageDigest.getInstance(\"SHA1\"); byte[] output = Base64.encodeBase64(md.digest(requestBody.getBytes())); String bodyHash = new String(output); return URLEncoder.encode(bodyHash, \"UTF-8\"); } And 500 if I use this code: public static String signBodyHash(String requestBody) throws NoSuchAlgorithmException, UnsupportedEncodingException { MessageDigest md = MessageDigest.getInstance(\"SHA1\"); byte[] output = Base64.encodeBase64(md.digest(requestBody.getBytes())); String bodyHash = new String(output); return bodyHash; } I attached the Tool Consumer Profile, the registration request parameters (reg_key and reg_password), Tool Proxy and the OAuth headers. If someone could give some tip or clarify what I'm doing wrong I'll be very grateful!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2018, 3:41 AM",
          "AuthorName": "Wallison de Oliveira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2374807&course=5",
          "role": [
            "Picture of Wallison de Oliveira"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 377142,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=377142",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restrict LTI to preconfigured tools only",
          "Text": "It appears that anyone with a teaching role may add a new External tool instance in a course as long as they know the provider URL and any authentication details. However, I'd like to limit the addition of External tools to only those configured globally by the admin. I've played with the permissions, logged in as other users, but if the option to add a new instance is there, it can be configured to connect to any working LTI connector. I've tried setting Add course-specific tool configurations to not set. But this doesn't seem to prevent a manually configured LTI connector. I also tried setting Add new external tool activities to not set, but this just prevents adding any LTI tool. Am I missing something, or is this the only behaviour? Cheers, Adam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 11, 2018, 1:20 PM",
          "AuthorName": "Adam Barbary",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=939137&course=5",
          "role": [
            "Picture of Adam Barbary"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restrict LTI to preconfigured tools only",
          "Text": "Hi Adam I don't have a solution but thought I'd just say I feel your pain on this.  We're now using 3 preconfigured LTI tools in our Moodle instance and I have them set to show as discrete items in the activity chooser.  What's missing is the ability to make these available to only the roles I want to see them.  What I ideally want is the ability to set permissions on each tool, in the way you can for any other activity or resource type. As it is (and you describe) its only possible to set permission on the external tool, remove it and all the preconfigured ones go with it too. this is what I've done and I'm giving out External Tool capabilities to certain users on a needs basis. Not ideal. What I might end up doing is hiding the External Tool in the chooser via code, but only if I can;t find another solution. Have you looked for a tracker for this at all? If I get time I'll do a trawl and see what I can find.  One of use should probably raise a tracker issue for it. Best Neil",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 11, 2019, 9:17 PM",
          "AuthorName": "Neil Stapleton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1946885&course=5",
          "role": [
            "Picture of Neil Stapleton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 470668,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=470668",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "openid indentity provider needed",
          "Text": "I need to choose an openid identity provider for my LTI Advantage implementation.  Have anyone found one easier to use than others? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 30, 2025, 5:19 AM",
          "AuthorName": "Frank Vierling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3399964&course=5",
          "role": [
            "Picture of Frank Vierling"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "openid indentity provider needed",
          "Text": "Hi Frank, We probably need some more detail on this post to properly understand what it is you're trying to do. With LTI 1.3 and LTI Advantage, since it's built on OpenId Connect, the platform IS the identity provider (e.g. Moodle, Canvas, Blackboard, D2L are the IdPs). If you're doing something else, you might need to add some more info. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 3, 2025, 1:32 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451707,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451707",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI tool token request",
          "Text": "Hello everyone, I am currently looking at LTI tool in Moodle and the possibility of integrating that with lti platform on our locally developed solution. for that I use a trial account on MoodleCloud (v4.2.2) I followed the tutorial explaining how to configure LTI on moodle side, and I was able to start a moodle course published over LTI advantage from the lti platform, however the challenge that I am currently facing is with completion and grades. basically by looking at the logs I see that Moodle is reaching out to the lti platform access token url using a get method, trying to get a token which I assume is used then to authenticate to the platform's endpoint related to pushing completion and grades. on my platform's side, the endpoint accepts only POST, and I think having a POST to acquire a token is more secure in such a context . is that the case with acquiring a token from lti platform by using GET? and if yes is it possible to use POST instead? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 20, 2023, 5:26 PM",
          "AuthorName": "Fahd Helwani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6008505&course=5",
          "role": [
            "Picture of Fahd Helwani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI tool token request",
          "Text": "Hi Fahd, The IMS Security Framework specification is clear that all token requests must be made over POST, and the LTI Advantage portion of the tool provider code abides by this; all token requests are made via POST. Where are you seeing this request being made via GET? What logs? Are you using LTI Advantage? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 23, 2023, 8:48 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI tool token request",
          "Text": "Hi Jake,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 23, 2023, 8:33 PM",
          "AuthorName": "Fahd Helwani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6008505&course=5",
          "role": [
            "Picture of Fahd Helwani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI tool token request",
          "Text": "Hi Fahd, You'll need to make sure Moodle's cron is running first, and that the scheduled task is set to run every so often. There's also an adhoc task responsible for sending the grades for an individual resource/course, which will be run as part of the main cron run too (this is automatic). So, I'd be looking at the site's cron settings if I were you and make sure that's running. If that's running already, then it's a matter of checking that the ltiadvantage sync task is running. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 24, 2023, 9:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI tool token request",
          "Text": "Hi Jake, yes it looks like tasks are not running, unfortunately I have no control over these on MoodleCloud, cron is enabled by default. anyway, thank you for your support. Regards Fahd",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 24, 2023, 3:42 PM",
          "AuthorName": "Fahd Helwani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6008505&course=5",
          "role": [
            "Picture of Fahd Helwani"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI tool token request",
          "Text": "Hi Fahd, One of the cloud guys just linked me this policy doc: https://support.moodle.com/support/solutions/articles/80000836687-moodlecloud-lti-support Looks like there is no provider support there at present, so what you're seeing is normal. Hope that helps (at least you know it's not something you've missed) jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 24, 2023, 4:26 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 423486,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=423486",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Sending additonal information to an external tool with LTI",
          "Text": "Hey guys, i'm new to LTI and am yet to configure LTI functionality in my external tool, which I assume will be a time consuming process on my part. Before I start, I wanted to figure out if the following scenario is possible. I am trying to achieve personalised gamification in moodle and for that, I've created an adaptation engine as a web app written in python and flask, which I'd connect as an external tool to a course in moodle. I know for a fact that I can configure my external tool as such, so that username will be forwarded from moodle to my engine and at the end a result will be returned in the form of \"you are X\". My adaptation engine currently expects manual inputs from a student. The inputs are, for example, position on leaderboard, how manx XPs, no. of badges earned, current level, etc. Goal is that this manual input can be converted into something automatic, such that, when a student goes to the external tool and clicks on start, the required information is automatically forwarded to the engine. Is this possible with LTI? I'd appreciate it, if somebody can help me out. Regards, Akshay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 15, 2021, 11:00 PM",
          "AuthorName": "Akshay Nayyar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4279285&course=5",
          "role": [
            "Picture of Akshay Nayyar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Sending additonal information to an external tool with LTI",
          "Text": "Hi Akshay, Yes, LTI does support sending custom data to the tool during launch. For LTI 1.3 (which I assume you're working with, since the older versions are not currently recommended by IMS), the process is as simple as including user-specific data in the 'custom' claim during launch ( http://www.imsglobal.org/spec/lti/v1p3/#custom-properties-and-variable-substitution ). But how is this done in Moodle? Moodle provides an LTI subplugin type called 'ltisource'. Among other things, source plugins can augment the data included in launches, by implementing a component callback 'ltisource_PLUGINNAME_before_launch'. This is called when building the launch data to be sent. Given the standard means of including 'extra' data in LTI 1.3 is via the custom claim, you can simple return an item indexed by the name 'custom_YOURFIELDNAME', and this will automatically be added to the claim, and will be available to your tool during launch. Here's a link to some source plugins (I find reading code easier that reading a forum post!): https://moodle.org/plugins/browse.php?list=category&id=64 You'll can check out the source code for each plugin on it's plugin listing page. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 18, 2021, 12:53 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending additonal information to an external tool with LTI",
          "Text": "Hey Jake, thank you for the detailed response. I'm clear on how it works on the LTI side. All I need to do is get the information in the custom claim und get the information from the claim to where it is needed. I've successfully received the name and launchid among the other generic information from moodle to my tool. Now, I'm actively working towards getting the required information automatically instead of a student filling it manually. However, I'm not sure how to go about it on moodle side. I'm a student working on my bachelor thesis, thus I have no administrative rights on moodle. If anything needs to be installed in the background, I'd need to get in touch with the people responsible for maintaining moodle at my university. The link you provided, I see 2 plug-ins but they don't seem to be what I need. We're you aiming for something specific which has been removed since then? Also, let's say that I want the current leaderboard position of a student from Moodle. I'm using the level up plugin to implement leaderboards in my moodle course. Do I simply name course.custom_YOURFIELDNAME as course.custom_leaderboard or do I look for something specific to correctly name the attribute? I'd be grateful if you could guide me a little bit more. Or if you have some spare time, a quick online meeting. I'm relatively new to LTI and Moodle, so it could be that my questions are a little silly. Thank you for your time and patience. Regards, Akshay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2021, 6:08 AM",
          "AuthorName": "Akshay Nayyar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4279285&course=5",
          "role": [
            "Picture of Akshay Nayyar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending additonal information to an external tool with LTI",
          "Text": "Hi Akshay, Firstly, there are no silly questions when it comes to either Moodle or LTI . it's great that you're exploring the capabilities of the system. It sounds like you're across the LTI specs, which is great too. The link I provided was to the source plugins listing on the Moodle plugins database . From there, you can click a plugin (e.g. EcoHub LTI Source), then follow the \"Source control URL \" link to view the source. This was just an attempt at helping you see what sort of plugin code you'd need to write (i.e. what callback needs implementing, plugin structure etc.). Regarding the naming of the custom params, it sounds like you're perhaps talking about the tool setting \"Custom parameters\" (a UI field found in the external tool editing form). This can be used to send custom data in the launch, but only if the data is either static (defined in that field as something like 'id=abc123'), or uses one of the predefined substitution variables supported by Moodle. Moodle doesn't provide substitution variables for plugins. Substitution variables are things like 'uname=$User.username', which will pass the username of the user across in a custom 'uname' field. There is also support for things like Course and Context fields. In order for you to be able to send anything else (like leaderboard results, etc), you will need to create and install an lti source plugin. This is the only way to extend what can be sent in this custom data. Hope that helps. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2021, 10:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending additonal information to an external tool with LTI",
          "Text": "Hey Jake, thank you for getting back to me so fast. Please tell me, if i've got this right - Moodle is currently the limiting factor and not LTI. I'll have to create a plugin for moodle which then will be installed and added to moodle. With help of this plugin, on the external tool setting page, i can add custom parameters such as course.custom_leaderboard or course.custom_level among others to the field custom parameters. As soon as moodle goes to the external tool, the custom information will also be sent to the tool along with the generic information that is always sent. Is this correct? Also, what will be the aim of the plugin - adding more predefined substitution variables for leaderboards, levels, etc, to the already existing variables or something else? Regards, Akshay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2021, 9:59 PM",
          "AuthorName": "Akshay Nayyar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4279285&course=5",
          "role": [
            "Picture of Akshay Nayyar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Sending additonal information to an external tool with LTI",
          "Text": "Hi Akshay, You're right in that Moodle is the limiting factor for you right now. You're also right in that you need to create a plugin, however, implementing the before_launch() callback in the plugin won't allow you to add new substitution vars for use in the Moodle form; it allows you to programatically set custom_xxxx values based on, well, whatever you like (you can fetch this data however you like during the before_launch callback), and include these in tool launches. You'll likely also want to ensure that whatever custom_xxx properties you need are only being added to launches of your specific tool too - perhaps by inspection/comparison of the tool url in that callback function. The way that plugin callback is designed makes it a global callback that will be called before ALL tool launches. If the logic to fetch your leaderboard data is heavy, you really want to make sure you're only doing it when the appropriate tool URL is seen. The callback receives a few things: https://github.com/moodle/moodle/blob/master/mod/lti/locallib.php#L671 1. The tool type (a record from the PREFIX_enrol_lti_tools table) 2. The tool URL 3. The request params You should be able to make the relevant decision on whether to add leaderboard information based on the tool url here. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 25, 2021, 9:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 386320,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=386320",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Provider: sending back grade discussion with LTI Consumer party",
          "Text": "Hello, I am having a discussion with an LTI Consumer Party about the value/grade that moodle is sending back as LTI Provider. And maybe I am missing something in Moodle that could help me moving forward. Any advice is welcome. Situation: Moodle 3.1 LTI provider standard Course with quize, 60% or higher is considered as passed with activity setting quiz is passed when grade is sufficient Coursecompletion: when quize is completed the course completes LTI provider setting: grade sync when course / activity completion is met I can see in the cron that this goes as I setted it up. The LTI Consumer receives any value higher then 60% (value 0.60000). The discussion is that the LTI Consumer claims that we should not send the value of the quiz but should send only value 1 because the course is completed. When I send the quiz value they will registrated this as progress and not completion. I have no idea how to get Moodle to make it 100%, well maybe I can by setting up the grade book differently (?). But I really wonder if they have implemeted the LTI consumer tool as it should. Is value 1 always the value that need to be sended. I have no issues with other implementation while running these settings, only this LTI consumer claims I have to change the code/value to always 1. Hope that anyone has some thoughts on this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 14, 2019, 2:07 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider: sending back grade discussion with LTI Consumer party",
          "Text": "Gemma, sorry for taking so long to get to this. What is the tool in question? I think you should be able to send the value of the quiz back, but of course each tool can define the parameters of the grade that they choose. maybe they only support pass/fail in their tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 28, 2019, 10:52 PM",
          "AuthorName": "Nick Thompson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=807505&course=5",
          "role": [
            "Picture of Nick Thompson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re: LTI Provider: sending back grade discussion with LTI Consumer party",
          "Text": "Hi Nick, The issue is/was that they only supported Pass (1), they did not even support fail (0) in their case. They have solved the issue on their side, by creating in their tool a table where they say, when value x is higher then value 1, then it is value 1. But my question is more if Moodle should not just send the value 1 when completed instead of the quiz grade? And/ or how do people handel a case like this, by example do they know an option where I can say in the Moodle gradebook: when a student has a grade a boven x then note value 1 and when they have grade below Y then note value 0? Gem Because then I would had probably solved it in a way they wanted",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 28, 2019, 11:32 PM",
          "AuthorName": "Gemma Lesterhuis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1575644&course=5",
          "role": [
            "Picture of Gemma Lesterhuis",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re: Re: LTI Provider: sending back grade discussion with LTI Consumer party",
          "Text": "It's not appropriate for Moodle to sanitize results from the tool. I would say that this sounds like it's the fault of the tool not using the spec properly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 29, 2019, 12:10 AM",
          "AuthorName": "Nick Thompson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=807505&course=5",
          "role": [
            "Picture of Nick Thompson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 425456,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425456",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "WebWorK and Moodle SSO/SSI behaviour?",
          "Text": "Hello. We have moodle 3.9.x running on ubuntu with php 7.3.x and mysql 5.7.x Our webwork server is running the latest build I created the webwork cours; set up the secret \"password\" in webwork and configured the authen_LTI.conf file in WebWork.. I created a test moodle course and added students to them. I created the external tool to the WebWork class and when users click on that LTI LINK, it shows them the login page of their webwork course. Shouldn't they be SSO'd in there? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 7, 2021, 6:02 AM",
          "AuthorName": "Jerry Lau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1324621&course=5",
          "role": [
            "Picture of Jerry Lau",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 429103,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429103",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI Tool GradeSync - technical details",
          "Text": "We're looking to integrate our webapp as an LTI Tool Consumer to Moodle in LTI Tool mode.  I have a couple of questions about the GradeSync task that posts grades back that need to be answered so that I can create the endpoint for the task. 1. What is the format of the grade data sent back?  Does it post each individual's grades separately or all together? 2. What kind of authentication can I use in my service endpoint?  I'm using LTI 1.1 for the SSO crossover - posting an authentication hash that's calculated using Oauth 1.0.  Can I expect the same method (Oauth 1 authentication hash using the same shared secret as SSO)  for the grades being posted to my endpoint? Let me know if this question needs to be split up into two different ones.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 15, 2021, 11:41 PM",
          "AuthorName": "Ram Kelath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4329039&course=5",
          "role": [
            "Picture of Ram Kelath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Tool GradeSync - technical details",
          "Text": "Hi Ram, I would strongly recommend waiting for Moodle 4.0, which can act as an LTI 1.3 tool. LTI 1.1 is deprecated. Regarding your questions: 1. Moodle 4.0 will send back individual grades, per user. You can see the format of a score post in the AGS 2.0 Spec on IMS ( https://www.imsglobal.org/spec/lti-ags/v2p0#score-publish-service ) 2. Again, with LTI 1.3, authentication has changed drastically from 1.0/1.1. It is defined by a spec which you can check out here ( http://www.imsglobal.org/spec/security/v1p0 ) Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 16, 2021, 11:26 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool GradeSync - technical details",
          "Text": "Hi Jake, Thanks for your quick response! For my current project I think I want to get started with 1.0/1.1 to solve the design issues in my webapp around the integration - this is the more substantial part of the effort. Then when Moodle 4.0 becomes available we can look at implementing 1.3.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 16, 2021, 11:21 PM",
          "AuthorName": "Ram Kelath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4329039&course=5",
          "role": [
            "Picture of Ram Kelath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool GradeSync - technical details",
          "Text": "One thing I couldn't find anywhere but seems implicit in your reply - is it the case that with Moodle 3.x you can only use LTI 1.0/LTI 1.1 authentication (Oauth 1) ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 16, 2021, 11:29 PM",
          "AuthorName": "Ram Kelath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4329039&course=5",
          "role": [
            "Picture of Ram Kelath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Tool GradeSync - technical details",
          "Text": "Yes, that's right. Moodle 3.x only supports posting grades via the old Basic Outcomes service, which uses OAuth 1 signatures. You can see in the task that there's a call to : \\enrol_lti\\helper::create_service_body() which creates the pox envelope (for a single user and grade btw , since you asked) and then a call to : sendOAuthBodyPOST() which will sign that body and make the request - Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 17, 2021, 8:12 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452721,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452721",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Setting up Moodle as an LTI Tool",
          "Text": "Hi, Our school uses an LMS which is LTI 1.3\ncapable ( https://site.imsglobal.org/certifications/corefour/edsby )\nwhich we wish to continue to use. However, its built-in assessment/assignment capabilities\nare missing some key features we want to make use of: a lockdown browser mode and plagiarism/ChatGPT detection . Moodle appears to handle both of these features with\nease. We are therefore looking into using Moodle as an LTI Tool for\nassessments/assignments ( https://docs.moodle.org/403/en/Publish_as_LTI_tool ) while keeping our existing LMS as the LTI Platform . This would then be a limited\nMoodle installation, used strictly as an occasional tool by the LMS. I am an experienced Linux/ Apache / MariaDB system admin, but not very familiar with Moodle (or LTI) though I am learning.\nI am hoping to get some advice on how to configure it optimally (and perhaps\nminimally) for my environment. Would this be a rough outline for a recipe\nfor getting my Moodle install going: Install Moodle 4.3+. Enable the ‘Publish as LTI Tool’\nfeature ( https://docs.moodle.org/403/en/Publish_as_LTI_tool ) Manually register the Platform with\nLTI (our LMS does not have dynamic registration) in Site Administration/\nPlugins/Enrollments/Publish as LTI Tool/Tool registration Now what? The section on the instruction page\ncalled ‘Sharing access to a course or activity’ is a little sparse. If I want one of our\nteachers to create, say, quizzes in Moodle which can be gotten to via LTI, should\nI first be creating courses and teachers in Moodle? Then, in order for the\nstudent to access the quiz from the LMS, the teacher would create a link in the\nLMS to the Moodle Quiz? I realize that last part is platform specific but I am\nfeeling a little lost at this point. Any pointers you can provide me would be appreciated. Thanks, ...Bruce",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 18, 2023, 9:42 PM",
          "AuthorName": "Bruce Vrieling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6087494&course=5",
          "role": [
            "Picture of Bruce Vrieling"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Setting up Moodle as an LTI Tool",
          "Text": "Hi Bruce, For the first bit, yes. The LTI tool feature needs either a course or an activity within a course. You don't necessarily need to create teacher accounts in the tool, depending on how you plan to create the links and how you plan to create/bind accounts during an LTI launch. I'll explain below. Links: You're right in that once you've published, you need to create the links in the platform, which can be done one of two ways: Manually: You create a link in the platform manually and enter the custom param 'id=xxxxxxxx', which you'll find on the published as LTI tools page for each published course/activity. This method doesn't require you to have teacher accounts set up in the tool in order to create the link. This isn't the preferred means of creating a link. Via a deep linking launch (content selection). Basically, in the platform, you'll launch into the tool and pick which activity/course you want a link to and the tool returns that to the platform, at which point the link is created. This is the more modern means of link creation. This requires that the teacher has an account in the tool, since they'll launch into the tool to pick an item to create a link to. To view published items during content selection, we need to know who the user is, so we can do access control and present only courses and activities they have access to. Account binding: This one is a setting on the published course/activity. If you want to use deep linking for link creation (2 above), you need teacher accounts in the tool. Then, during first launch, the teacher will bind their platform account to their tool account and we'll be able to identify them in any launch from their on out. This is the default mode for teacher roles in published activities. They'll always be prompted to link an account. If you don't need deep linking and don't want to create teacher accounts in the tool, you can change the setting to automatically create teacher accounts during the launch, but of course then you're going to need to manually create links in the platform since you can't use deep linking. Manual link creation isn't as nice. Hope that give you something to start with. Let me know if you need more info Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 21, 2023, 9:50 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 211435,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=211435",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Adding External Tool to all courses",
          "Text": "Is there a way to add an external tool to all the courses at once? Right now, I'd have to go to Site administration->Courses->Add/Edit courses, select the course category, select a course then add the external tool. This becomes time consuming with hundreds of courses.. Is there no other way?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 15, 2012, 2:22 AM",
          "AuthorName": "Shi Qiao Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1489458&course=5",
          "role": [
            "Picture of Shi Qiao Yu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Adding External Tool to all courses",
          "Text": "This would be the same for any tool being added to 100's of courses... I don't think it is possible except to manually add it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 19, 2012, 3:11 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding External Tool to all courses",
          "Text": "It is possible to register a external tool for global use. The but is, you have to do it manually. Check out this as admin Site administration / ► Plugins / ► Activity modules / ► External Tool Hope it helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 19, 2012, 5:24 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 376820,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376820",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Copying LTI tool links / Parent IDs via custom parameters?",
          "Text": "We're need a way to copy courses with LTI tool links, while still preserving the LTI tool links' information (ie. something like this: https://www.imsglobal.org/lti-course-copy-road-nowhere ). We have courses with a lot of external tools, and remapping each one manually is extremely resource-intensive. From the link above, I don't think that $ Context .id.history and $ResourceLink.id.history custom parameters are currently supported by Moodle, but I do know that Moodle has a complete backup/restore course process that copies over some portion of the external tool. Is there any way right now to get the parent context ID and resource ID after a course is copied? On another note, is there a more thorough breakthrough of what custom parameters are available? The documentation I can see only provides: Custom parameters - most times you can leave this blank. The tool provider might use this to allow you to display a specific resource. And I'm looking for more of a detailed breakdown of what exactly Moodle can provide from the custom parameter endpoint. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 4, 2018, 6:41 AM",
          "AuthorName": "Anson Li",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2526881&course=5",
          "role": [
            "Picture of Anson Li"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 336570,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336570",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding 3.1 LTI tool to 3.0.3+ Moodle",
          "Text": "Hi, We've just upgraded our instance of Moodle to 3.0.3, due to ~4 month upgrade process from DEV - LIVE. Therefor we have just missed out on the new functionality which comes with the new 3.1 version of the LTI tool, which would solve some issues for us. I've added the v3.1 tool to a local instance of Moodle v3.03 to do some testing, modifying a few 'version.php' files later to make them think our version of moodle is the required one, and hey presto it just seems to work, without breaking anything. Has much changed, other than the new UI and ability to add links to activity menu, in the new version which would likely break an older version of moodle? Thanks, Mark.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 16, 2016, 2:44 AM",
          "AuthorName": "Mark Findlay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1548313&course=5",
          "role": [
            "Picture of Mark Findlay"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 464429,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464429",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Security settings for Publish as an LTI tool",
          "Text": "Dear Community, In the context of a larger project, we have just received a request to make our Moodle available as an LTI tool for a third-party system. This is technically feasible so far with LTI 1.3 on our Moodle 4.3.8 instance. However, the Moodle Docs recommend allowing the embedding of frames, which is prohibited by default, as otherwise errors may occur. This is exactly what happens on the other side. We only have little experience with LTI and we're a bit hesitating if changing that security setting is a good thing. So if anyone here with more experience could explain why that is needed and how we can avoid security risks in this connection and maybe in other parts of the system that would be very helpful. Kind regards Harald",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 11, 2024, 5:14 PM",
          "AuthorName": "Harald Schnurbusch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1031191&course=5",
          "role": [
            "Picture of Harald Schnurbusch"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Security settings for Publish as an LTI tool",
          "Text": "Hi Harald, Firstly, you'll still be able to use LTI with or without that setting checked, but it'll be a fairly limited experience. You'll NEED to launch in new windows in the platform (hopefully that's configurable there), and the same goes for deep linking/content selection; if the platform uses embed for that, it'll error. This issue with our (dated, it would seem) implementation of this (at least to my knowledge and after having just had a look at the underlying code), is that we're allowing embedding wholesale, permitting embedding by anyone, not JUST a specific third party/set of third parties. Then, of course, you can Google why that's potentially unwanted and you'll find things like click-jacking or the like mentioned. We're using the \"X-Frame-Options: sameorigin\" header normally, but this is omitted when \" allowframembedding\" is checked. That information might be useful for you. So, that header appears to be the biggest issue with enabling it; we don't have a mechanism which sets a \"Content-Security-Policy:\" header allowing embedding by certain trusted parties. You could of course make a modification to set this header for your site and you'd likely be able to make this work. I believe the \"Content-Security-Policy\" header will override the \"X-Frame-Options:\" header. That might be something worth looking into and which could work better for your site. Edit: Not sure what I was doing, but my original post was in fact almost entirely incorrect, so I've clarified what really happens in the first paragraph above - my apologies. You will see an error if trying to embed, or if your deep linking workflow uses an embed. New window/tab launches will be fine, however. YMMV depending on platform settings basically. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 12, 2024, 10:52 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Security settings for Publish as an LTI tool",
          "Text": "Hi Jake, thank you very much for your answer. It surely helps to understand things better. Two things about the \"open in new tab\" option: Would this option also work for deep linking to certain materials (if implemented correctly in the third party system)? Or does it only work for a whole course? If I open the course (or the material) in a new tab, is the user that is coming from the third party platform free to move around in our moodle instance, i.e. can he go to other courses on the platform and - if activated - self-enrol in courses? If it is like that our data privacy guys do not like that a lot. And if it is like that, is there any - preferably easy, built-in way without using additional plugins - to keep such a user from self-enrolling in other courses? We really want to find a way to support the project I mentioned in my original post. That's why I'm trying to find a way to make it happen. But right now the whole thing seems to have crucial disadvantages. But maybe you have the golden idea that points us towards something we can live with. Thanks again and kind regards Harald",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 17, 2024, 2:05 AM",
          "AuthorName": "Harald Schnurbusch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1031191&course=5",
          "role": [
            "Picture of Harald Schnurbusch"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Security settings for Publish as an LTI tool",
          "Text": "I'm not Jake, but I have been running a production Moodle environment optimized as an LTI tool for a while now. Opening the LTI window via deep linking to a module activity works exactly the same as launching to a whole course. Once the user is authenticated via LTI, they would be able to access anything else on the Moodle instance that their session allows them to access. The LTI launch does suppress some of the page content, but we modified our theme to get rid of almost all of the Moodle navigation, since we predicted it would be confusing if students opened a course activity from one course and then navigated to one of their other courses from there to do work. It doesn't break anything if they do that, but it does defy expectation. We don't allow self-enrollment: the LTI Launch can create the enrollment for the course launched into but not other courses; asynchronously, a scheduled task reconciles the platform course roster with the Moodle course roster periodically. There's considerable nuance to 2 and Moodle is, of course, highly configurable so you can make it do whatever you need it to with adequate motivation. The most notable nuance I would share is that if you're launching students into specific activities instead of courses, they are enrolled at the activity context level and NOT the course context level. This means that if students attempt to navigate around after launching into an activity, they would be denied access to the course the activity is contained within (unless the course was also published as an LTI resource on the Moodle LTI Tool). The same is true for teachers, although I modified my production Moodle branch to enroll teachers at the course context level so that they can manage the course to add new activities or whatever else they might want to do.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 17, 2024, 11:43 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Security settings for Publish as an LTI tool",
          "Text": "Hi Liam, thank you for for valuable input. This has helped us a lot! Best Harald",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 11:40 PM",
          "AuthorName": "Harald Schnurbusch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1031191&course=5",
          "role": [
            "Picture of Harald Schnurbusch"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 351124,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351124",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Trying to use LTI 2.0 Membership service",
          "Text": "I am trying to develop an LTI 2.0 tool provider. I have Moodle running locally on my machine and have opened it up to the world via ngrok. (This also allows me to inspect the HTTP requests.) I can get Moodle to configure the external tool, add it to a site, and do a BLTI launch successfully. I'm am trying to then use the credentials to access Moodle's membership service to get a course roster list. Whenever I try to access it, I'm getting a 401 error. However, if I go to http://lti.tools/test/tp.php , set up the OAuth credentials in the \"Consumer\" tab then go to the \"Membership\" tab and issue the request to my server , it works. Looking at the raw HTTP request in ngrok, everything looks like it should work for my request. I've verified that the steps taken to generate the OAuth signature produce the same signature as the working request, so they should create a good signature for my request too. Example of the HTTP Requests: Good request from lti.tools — receives a 200 response with the data: \n```text\nGET /mod/lti/services.php/links/1/memberships?limit=25 HTTP/1.1\nHost: 6aecef01.ngrok.io\nAuthorization: OAuth oauth_version=\"1.0\",oauth_nonce=\"8ff57ef6c3069d9a00c4880b719d3587\",oauth_timestamp=\"1492697465\",oauth_consumer_key=\"PwU3QQ5su9p3FJe\",oauth_body_hash=\"2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D\",oauth_signature_method=\"HMAC-SHA1\",oauth_signature=\"fy7ik8IeKE9Fo%2BFNVb6cwPmsSz8%3D\"\nAccept: application/vnd.ims.lis.v2.membershipcontainer+json\nX-Forwarded-For: 50.28.38.70\n```\n Bad request from my tool provider — receives a 401 response: \n```text\nGET /mod/lti/services.php/links/1/memberships?limit=25 HTTP/1.1\nAccept: application/vnd.ims.lis.v2.membershipcontainer+json\nHost: 6aecef01.ngrok.io\nAuthorization: OAuth oauth_version=\"1.0\",oauth_nonce=\"88a937b722722ad6056751bb1948819c\",oauth_timestamp=\"1492697466\",oauth_consumer_key=\"PwU3QQ5su9p3FJe\",oauth_body_hash=\"2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D\",oauth_signature_method=\"\",oauth_signature=\"ffP9X937aSmmgJrNr%2B%2BtdFRwbpw%3D\"\nX-Forwarded-For: 2601:845:c200:d227:bd16:9504:5ced:6dd3\n```\n Does anyone have any insight on what I may be missing, or know if the source code for lti.tools is available somewhere?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 21, 2017, 2:26 AM",
          "AuthorName": "Brad Lindsay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2229931&course=5",
          "role": [
            "Picture of Brad Lindsay"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Trying to use LTI 2.0 Membership service",
          "Text": "I figured it out. I was sending an empty value for oauth_signtature_method. Can't believe I didn't see that after checking it several times.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 23, 2017, 8:46 PM",
          "AuthorName": "Brad Lindsay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2229931&course=5",
          "role": [
            "Picture of Brad Lindsay"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447752,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447752",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Changing Moodle LTI URLs",
          "Text": "I am wondering if is it possible to change the well know LTI URLs ( or just the paths ) for Moodle. I referring to: Public keyset URL : i.e. https://moodle.website.com/ mod/lit/certs.php Access token URL: i.e. https://moodle.website.com/ mod/lit/token.php Authentication request URL: i.e. https://moodle.website.com/ mod/lit/auth.php Maybe there is a way that an admin can change these default values or the paths under Moodle installation and the LTI Tool needs to store these new values.  Asking because my tool generates these URLs based on the LTI payload so if there is a chance for new values on these URLs, that will break my tool. Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 16, 2023, 2:22 AM",
          "AuthorName": "Javier Galarza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5628762&course=5",
          "role": [
            "Picture of Javier Galarza"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Changing Moodle LTI URLs",
          "Text": "Hi Javier, These won't change, otherwise, like you say, tools will break. There is no way in the UI to do this, nor are there plans to make any change to these in the near future. If your tool is generating these URLs, presumably to make it easier to configure for Moodle, you don't have anything to worry about for the time being. If we ever did decide to change one of these endpoints, we would have to provide a lot of advance notice both in community forums, and within the application itself (on the LTI pages) because of course all configured tools would be impacted. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 16, 2023, 10:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 349707,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=349707",
      "NoOfResponses": 19,
      "ResponsesInList": [
        {
          "Title": "Grades to External LMS",
          "Text": "i am trying to configure Grading functionality to send grades to external LMS via LTI. I am configuring Canvas and Moodle, as well as Moodle and Moodle. I have local Moodle and I also use trial Moodle on website. I am able to make LTI connection, and users successfully move from one LMS to another using LTI link. However, I cannot send grades. I am not sure if I configure it correctly, and even if I configure grades in correct place. Is there any instruction, screenshots, video or at least comments how I can configure grades sending to external LMS. I am using Moodle 3.1 Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 23, 2017, 11:14 PM",
          "AuthorName": "Sergii Alexandrov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2219741&course=5",
          "role": [
            "Picture of Sergii Alexandrov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "To double check, are you using Canvas (provider) in Moodle (consumer), or Moodle (provider) in Canvas (consumer)? If you are using Moodle as a provider, run \n```text\nphp admin/tool/task/cli/schedule_task.php --execute=\"\\enrol_lti\\task\\sync_grades\"\n```\n And see if it works, if it doesn't perhaps copy the output here and we can see what the problem might be. What version of canvas are you using?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 24, 2017, 10:18 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "Thank you for reply. The result is: Execute scheduled task: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades) Starting - Grade sync for shared tool '1' for the course '3'. Skipping - Empty serviceurl for the user '8' in the tool '1' for the course '3'. Completed - Synced grades for tool '1' in the course '3'. Processed 1 users; sent 0 grades. Starting - Grade sync for shared tool '2' for the course '3'. Skipping - Empty serviceurl for the user '14' in the tool '2' for the course '3'. Skipping - Empty serviceurl for the user '13' in the tool '2' for the course '3'. Failed - The grade '0.0055426395348837' for the user '11' in the tool '2' for the course '3' failed to send. Skipping - Empty serviceurl for the user '9' in the tool '2' for the course '3'. Skipping - Empty serviceurl for the user '8' in the tool '2' for the course '3'. Completed - Synced grades for tool '2' in the course '3'. Processed 5 users; sent 0 grades. Starting - Grade sync for shared tool '3' for the course '3'. Skipping - Empty serviceurl for the user '12' in the tool '3' for the course '3'. Skipping - Invalid grade for the user '11' in the tool '3' for the course '3'. Skipping - Empty serviceurl for the user '10' in the tool '3' for the course '3'. Completed - Synced grades for tool '3' in the course '3'. Processed 3 users; sent 0 grades. Starting - Grade sync for shared tool '4' for the course '3'. Failed - The grade '0.476667' for the user '11' in the tool '4' for the course '3' failed to send. Completed - Synced grades for tool '4' in the course '3'. Processed 1 users; sent 0 grades.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 24, 2017, 10:42 PM",
          "AuthorName": "Sergii Alexandrov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2219741&course=5",
          "role": [
            "Picture of Sergii Alexandrov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "Do you know which id the tool you are working on has? Are you using launch URLs or proxy/registration URLs?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2017, 9:46 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "as i understand i am using tools 1-4 i am not sure i understand your second question. I am using Enrollment Method key and url to create LTI connection. i made more tests and received 'Duplicate nonce detected' error. Please see the details below Execute scheduled task: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades) Starting - Grade sync for shared tool '5' for the course '5'. Header: ( [0] => Authorization: OAuth realm=\"\",oauth_version=\"1.0\",oauth_nonce=\"2a5ccc62b43224448f4a70877efbf6d8\",oauth_timestamp=\"1490797698\",oauth_consumer_key=\"123\",oauth_body_hash=\"U0HsJipsIPyQi%2Fc7yb2o7Cu%2FOwI%3D\",oauth_signature_method=\"HMAC-SHA1\",oauth_signature=\"TeZa76Ml7%2B6IJHyBxbcTX%2FAhNqA%3D\" [1] => Content-type: application/ xml ) Body: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <imsx_POXEnvelopeRequest xmlns=\" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXRequestHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>1490797698</imsx_messageIdentifier> </imsx_POXRequestHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <replaceResultRequest> <resultRecord> <sourcedGUID> <sourcedId>5-2-7-6-18dc7ca3a05a44f1924650645707e006eda35662</sourcedId> </sourcedGUID> <result> <resultScore> <language>en-us</language> <textString>0.57</textString> </resultScore> </result> </resultRecord> </replaceResultRequest> </imsx_POXBody> </imsx_POXEnvelopeRequest>Array Error Response from http://canvas.org.com/api/lti/v1/tools/5/grade_passback {\"errors\":[{\"message\":\"Duplicate nonce detected\"}],\"error_report_id\":1136} Failed - The grade '0.57' for the user '16' in the tool '5' for the course '5' failed to send. Completed - Synced grades for tool '5' in the course '5'. Processed 1 users; sent 0 grades.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 29, 2017, 10:41 PM",
          "AuthorName": "Sergii Alexandrov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2219741&course=5",
          "role": [
            "Picture of Sergii Alexandrov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "seems 'Duplicate nonce detected' is a Canvas issue. I managed grading passing between 2 Moodles. Can you please review and consider the following scenario I have a Course with many modules. Each module has its own Quiz and Test. For example Module 1 has Quiz 1 and Test 1 Module 2 has Quiz 2 and Test 2 and so on Can I make LTI link to a course, so that user comes from external LMS, passes Quiz 1, Test 1, Quiz 2 and Test 2. After that I move all 4 grades to external LMS gradebook? or I need to make separate LTI link for each Quiz and Test for passing all grades to external LMS gradebook?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2017, 9:59 PM",
          "AuthorName": "Sergii Alexandrov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2219741&course=5",
          "role": [
            "Picture of Sergii Alexandrov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "Unfortunately it's not yet possible for LTI provider to report back multiple gradebook items to the consumer. To vote for this feature to be added, vote at https://tracker.moodle.org/browse/MDL-55644 Unfortunately if individual grades need to be shared, each will need to be shared via LTI separately. If you share the whole cause it will report back the course grade instead (based on the individual items)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 31, 2017, 2:58 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "Thank you John. Your assistance is highly appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 31, 2017, 5:31 PM",
          "AuthorName": "Sergii Alexandrov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2219741&course=5",
          "role": [
            "Picture of Sergii Alexandrov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "Hello Sergii and John, Can you explain how you solved the\nproblem of passing grades between two moodle? Both my provider and consumer are moodle\nwith versions 3.3.6+ and 3.3.5+ respectively. In\nthe provider side a quiz is published as LTI tool (with ID 12) and added as an\nexternal resource in the consumer part. When\nthe user logins to LTI Consumer Moodle and opens the activity, accessing the\nquiz has no problem, and all questions are answered and user submits the\nanswers, view his grade and closes the window. In the consumer side, the grade is not\nlisted. In the provider side,  the grade is\nalso not listed, from the logs, it is possible to track when the user started\nthe activity and submitted, but there is no grade. In\nthe database , in \"mdl_quiz_grades\" table, I can view the grade from\nthe activity. When\nI run below code: \n```text\nphp admin/tool/task/cli/schedule_task.php --execute=\"\\enrol_lti\\task\\sync_grades\"\n```\n The outcome is like this: Starting - Grade sync for shared tool\n'12' for the course '98'. Failed - The grade '0.85714285714286'\nfor the user '756' in the tool '12' for the course '98' failed to send. Do you have any suggestions to analyze\nthe problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 26, 2018, 10:34 PM",
          "AuthorName": "Tansu PANCAR",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2429676&course=5",
          "role": [
            "Picture of Tansu PANCAR"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "I have 'Skipping - Empty serviceurl', too. Did you manage to fix that? I connected BB's CourseSites as LTI Consumer to Moodle as LTI Provider, and serviceurl and sourceid fields in table enrol_lti_users are empty . How they're filled? Thank you, appreciate help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 14, 2017, 1:21 AM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS",
          "Text": "These are given by the consumer so it's possible that blackboard is not providing them. We can check by reviewing the request sent to moodle from blackboard when the tool is first used by a new user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 18, 2017, 8:17 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS John Okely",
          "Text": "Have you set up the shared activities /courses on your LTI consumer yet? (This needs to be done first) If so, it should sync the grades when you run that command",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 28, 2017, 8:06 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS John Okely",
          "Text": "Wait are you using moodle as the consumer or provider? Grades should be synced from that test tool back to moodle instantly (go to \" Outcomes 1\" and click update and type a number from 0-1) The script I mentioned is for the opposite, when moodle is the LTI provider.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 3, 2017, 11:34 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades to External LMS John Okely",
          "Text": "I noticed your site is https. Can you try with https://lti.tools/test/tp.php instead?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 3, 2017, 3:58 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 328149,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=328149",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Display history of External tool pages back on Moodle",
          "Text": "I have added an External tool to my course, and I would like that the students to be able to see on their Moodle page (on one of the blocks) the pages they visited on that external tool as links, and be able to go direct on one of them without using \"go back\" button on the web browser. It is a way to implement that as Moodle administrator in the HTML block for example?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 16, 2016, 7:56 AM",
          "AuthorName": "Remus Orha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2054533&course=5",
          "role": [
            "Picture of Remus Orha"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 382042,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382042",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 for Moodle Tool Provider",
          "Text": "Work is underway to add LTI 1.3 support for Moodle as a Tool Consumer (see MDL-62599 ).  The project at https://docs.moodle.org/dev/index.php?title=LTI_1.3_support seeks to scope out the requirements to make similar updates for the LTI Tool Provider functionality in Moodle.   It also highlights some issues with the current implementation.  If you are using this feature of Moodle your feedback would be appreciated. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 5, 2019, 8:21 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 374086,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374086",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "calling LTI provider outside Moodle",
          "Text": "I have a question if it's possible to connect to a Moodle LTI provider outside Moodle (in our situation in a portal environment that goes to a Moodle course). Is this possible? From Moodle consumer to Moodle provider works fine, but I don't manage to get this working in the portal environment with a php script that sends a request via OAuth authentication to the Moodle LTI provider. I get this error: Sorry, there was an error connecting you to the application. The course I want to open without login on the Moodle provider is published as an LTI tool. The php script is included that calls the Moodle LTI provider (I changed some parameters inside)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 1, 2018, 3:27 PM",
          "AuthorName": "Alain Raap",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2249010&course=5",
          "role": [
            "Picture of Alain Raap",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 445216,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445216",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Support LTI 1.3 in a mobile app",
          "Text": "Hello everyone, I recently discovered LTI and found it a bit challenging to get started, especially regarding the Launch Flow. Here is my use case. I am developing a mobile app, where the user can play certain games and unlock educational content. So, the user launches the app, from his phone, logs in using his moodle credentials and plays the game. My understanding of Moodle (or LMS platforms in general) is that the preferred way is to create an External Tool and communicate using LTI 1.3. So, as I imagine, the app would have a \"Login with Moodle\" button that starts the oAUTH dance to authenticate the user and the app receives the JWT. Then, the app would be able to retrieve user information, updates grades, etc. However, since the app still needs a custom backend (e.g. for analytics, and other game related data). The JWT token would be sent to the server with each request, who will then perform LTI specific API calls. When researching about LTI, it seems that the most common use case is that the user launches the external tool from the LMS itself (LTI Launch Flow?). Here, however, I need that the flow gets initiated from a third-party, since it is a mobile app, which would be via oAUTH 2 or OpenID. Do I understand the specification correctly or is the \"launch from third-party directly\" something that is not supported when using LTI? Ralph",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 24, 2023, 5:50 PM",
          "AuthorName": "Raoul Johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5528193&course=5",
          "role": [
            "Picture of Raoul Johnson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Support LTI 1.3 in a mobile app",
          "Text": "Hi Ralph, That is indeed the most common use case; the user begins in an education platform, like Moodle, and launches into an external tool (or views embedded content - but the same launch process applies here). That process is already a third party initiated login in the OpenId sense, since the tool depends on the identity provided by the platform. Here, the platform (the OP ) is the third party where login is initiated, and it redirects to the the tool's (the RP) login initiation endpoint to kick off the process. You can read more about this in the 1EdTech security framework spec spec at https://imsglobal.org/spec/security/v1p1#openid_connect_launch_flow . i know that's not exactly what you're talking about when you say \"third party\" of course, but it does lay out the launch process and technology quite nicely in that documentation (in case you hadn't seen that yet). I've not seen a mobile app which depends on a platform / LMS quite like you're describing, but it stands to reason that it's possible. It sounds like you only want people to launch the app via, well, the app itself. You'd perhaps use the same launch process, albeit without the first step, (the one where the platform calls the RP's login initiation endpoint). This is no longer third party now, at least in the OIDC sense. Instead - and I speculate here as I've not encountered this in the wild - you'd just make the authentication request directly to the Platform/OP from your app (like you say, via something like \"Login with Moodle\" or the like). Tapping this this would basically do the OIDC auth using the registered  auth endpoint for the platform (of course the user would need to be auth'd with Moodle in this case) and once the id_token is returned from Moodle to the registered redirect URI, you're then good to go. You're going to have to link your tool to the LMS via a series of web endpoints per OAuth2/OIDC specs anyway (as would any other tool) so of course all these endpoints will be known ahead of time. It's certainly an interesting case. I know LTI 1.3 documentation has always said it's mobile ready (e.g. https://imsglobal.org/why-platforms-and-tools-should-adopt-lti-13 ), but this is the first time I'm seeing something like this personally. Of course there may be many others out there... Anyway, hope some of that helps. Let us know if you find any other information on the topic. I'll be interested to see how this progresses. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2023, 4:29 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support LTI 1.3 in a mobile app",
          "Text": "Out of curiosity, I raised the native mobile problem with a colleague who is a member of the LTI working group and who works on standards, etc. and he raised a very good point: Without a normal resource link launch (from the LMS), we don't have the context information we need (i.e. the location of the course, grades, etc). Essentially, we need that so we can talk to the platform/LMS via the services. So, while he was keen to see something like this supported, his opinion was that it still needs work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 29, 2023, 8:49 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support LTI 1.3 in a mobile app",
          "Text": "Hi Jake, Thanks a lot for your answer. It makes all sense. I think for the moment, the easiest solution will be to interface with the Moodle REST API directly, similarly to what the Moodle mobile app is doing.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2023, 12:03 AM",
          "AuthorName": "Raoul Johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5528193&course=5",
          "role": [
            "Picture of Raoul Johnson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Support LTI 1.3 in a mobile app",
          "Text": "Yes, I think that's the most pragmatic approach for now. Hopefully, someday soon, we'll see something formal from 1EdTech around this use case.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 30, 2023, 9:06 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 418142,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=418142",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Grade passback failing in LTI 1.1 and 1.3",
          "Text": "Hello, We (tool provider) have been partnering with a university client to troubleshoot grade passbook.  This investigation began in February 2020 when the response from Moodle was “Consumer key is missing” in LTI 1.1.  Historically that has indicated that authorization headers are being stripped.  More info here: https://moodle.org/mod/forum/discuss.php?d=323197#p1320091 This issue was never resolved and we opted to give up because the grading feature was not in high demand at the university at the time. This year we moved to LTI 1.3 in the same Moodle instance.  Grade passbook is still failing, but now with a 500 at: /moodle2020/mod/lti/services.php/6/lineitems/44349/lineitem/scores?type_id=2 The client’s Moodle logs contain the following: 2021-01-19T04:03:06-06:00 atticus http: - 52.6.76.55 - - [19/Jan/2021:04:03:06 -0600] \"POST /moodle2020/mod/lti/services.php/2305/lineitems/43377/lineitem/scores?type_id=2 HTTP/1.1\" - 2 \"-\" \"-\" - 0 27133 2021-01-19T04:03:07-06:00 atticus http: - 52.6.76.55 - - [19/Jan/2021:04:03:07 -0600] \"POST /moodle2020/mod/lti/services.php/2305/lineitems/43377/lineitem/scores?type_id=2 HTTP/1.1\" - 2 \"-\" \"-\" - 0 24925 Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 11, 2021, 6:19 AM",
          "AuthorName": "Sadie Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4061967&course=5",
          "role": [
            "Picture of Sadie Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade passback failing in LTI 1.1 and 1.3",
          "Text": "We'd love help from the community to get this issue resolved. Thanks to anyone who can provide any tips. Looking at developer tools we see this come up, right after submission/grading. ============================================================ Request URL : https://______.voicethread.com/api/rest/gradebook/22870530 Request Method: PATCH Status Code: 500 Internal Server Error Remote Address: 3.222.26.73:443 Referrer Policy: strict-origin-when-cross-origin ============================================================",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 13, 2021, 4:12 AM",
          "AuthorName": "Nathan Lind",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=773422&course=5",
          "role": [
            "Picture of Nathan Lind"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 442237,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=442237",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Error on signature of ContentItemSelectionRequest",
          "Text": "Hi, I'm trying to develop an LTI app and I have almost everything set up to publish with an external tool, but when I call to content item return url Moodle returns an error saying \"Exception - OAuth signature failed: Invalid signature ours= LeDuZRIV2w/OZ+HRPkUBQ+1n0qE= yours=xwXtczMGJxBG4I3uwxFgFxgHXb4=\". I'm using the following content item definition \n```text\n        $contentItem = [\n            '@\ncontext\n' => '\nhttp://purl.imsglobal.org/ctx/lti/v1/ContentItem'\n,\n            '@graph' => [\n                [\n                    '@type' => 'LtiLinkItem',\n                    'url' => $link,\n                    'title' => $title,\n                    'text' => $instructions ?? '',\n                    'mediaType' => 'application/vnd.ims.lti.v1.ltilink',\n                    'placementAdvice' => ['presentationDocumentTarget' => 'frame'],\n                    'thumbnail' => [\n                        '@id' => $thumbnail,\n                        'width' => 500,\n                        'height' => 707\n                    ],\n                ],\n            ],\n        ];\n```\n And I'm signing it using the content item return url sent by Moodle at the launch, a new timestamp and nonce and the consumer secret. The method of signing is working (as far as I know) because the signature validation works on the launch request, so it must be something with the parameters, but I don't know what's going on. The parameters I send are \n```text\n            [\n                'oauth_consumer_key' => $consumerKey,\n                'oauth_nonce' => $newNonce,\n                'oauth_signature_method' => 'HHMAC-SHA1',\n                'oauth_timestamp' => (new DateTime('now', new DateTimeZone('UTC')))->getTimestamp(),\n                'oauth_version' => '1.0',\n                'content_items' => json_encode($contentItem),\n                'lti_message_type' => 'ContentItemSelection',\n                'lti_version' => 'LTI-1p0',\n            ],\n```\n Maybe someone has already done this and can shed some light on what's going on. Thanks a lot",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 23, 2022, 5:45 PM",
          "AuthorName": "Chris F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5351010&course=5",
          "role": [
            "Picture of Chris F"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error on signature of ContentItemSelectionRequest",
          "Text": "I found the solution. Moodle was sending me a URL with query parameters and I was using the full URL, including the query parameters, to generate the oAuth signature. To generate the signature the URL must be without any query parameters, at least in this case. I hope this helps someone.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 27, 2022, 10:13 PM",
          "AuthorName": "Chris F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5351010&course=5",
          "role": [
            "Picture of Chris F"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on signature of ContentItemSelectionRequest",
          "Text": "Glad you got it sorted, Chris. Worth also pointing out (in case you're not aware) that the LTI 1.1 standard has been deprecated for some time now in favor of LTI 1.3 and LTI Advantage. I'd strongly recommend building any new tools using this standard. At some stage in the future, LTI 1.1 support may be dropped from consumers. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 12:19 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on signature of ContentItemSelectionRequest",
          "Text": "I'm new to Moodle, but I downloaded the last version from the official downloads page and the request to the LTI tool I'm building came with a LTI-1p0 value. Is that LTI 1.1, 1.3 or anything 1,x?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 3:56 PM",
          "AuthorName": "Chris F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5351010&course=5",
          "role": [
            "Picture of Chris F"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on signature of ContentItemSelectionRequest",
          "Text": "When you're configuring the tool in the Moodle LMS (via Site admin > Plugins > Activity Modules > External tool > Manage tools), you'll see an \"LTI Version\" field on the edit form. That should be set to LTI 1.3 if you want to use 1.3, or 1.0/1.1 if you want to use legacy. We support launching into both of course - it's just that I wouldn't recommend building a tool using the legacy specs in 2023, that's all. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 4:31 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error on signature of ContentItemSelectionRequest",
          "Text": "I'll check it out and I'll try to migrate the tool to LTI 1.3. But, I must say, the main problem is that the LTI documentation is already very difficult to find and to understand. Only lists of parameters, specification pages without much explanation and of course few or no examples. But I'll give it a try",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 5:09 PM",
          "AuthorName": "Chris F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5351010&course=5",
          "role": [
            "Picture of Chris F"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 394915,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=394915",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Grade Sync Error",
          "Text": "I'm using a Moodle Quiz with Moodle being the Provider. I did all the LTI setup. From the remote system, the student is taken to the Moodle quiz , the attempt shows in Moodle, but the grade is not passed back. I get the following message when using the Publish as LTI tool grade sync: \n```text\nStarting - Grade sync for shared tool '20' for the course '250'.\nFailed - The grade '0.3857143' for the user '7079' in the tool '20' for the course '250' failed to send.\nCompleted - Synced grades for tool '20' in the course '250'. Processed 1 users; sent 0 grades.\n\n... used 35 dbqueries\n... used 0.65261793136597 seconds\nScheduled task complete: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades)\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 19, 2019, 11:23 PM",
          "AuthorName": "Rob Frank",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2578419&course=5",
          "role": [
            "Picture of Rob Frank"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Grade Sync Error",
          "Text": "I also noticed an interesting aspect when sharing a Quiz vs. a Course the Student role from the consumer doesn't pass to Moodle. However, when I share the Course the Student role passes to Moodle. Anyone else experience this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 23, 2019, 11:40 PM",
          "AuthorName": "Rob Frank",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2578419&course=5",
          "role": [
            "Picture of Rob Frank"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Grade Sync Error",
          "Text": "I want to better explain and document what I am experiencing: Using Moodle 3.8 as LTI Tool Provider. 1- When I set the LTI to a specific activity and click the link from the LTI Consumer (Populi) the student is taken to the moodle activity but no role is passed and no grades are passed back. 2- When I set the LTI to a course and click the link from the LTI Consumer (Populi) the student is taken to the moodle course , the student role is passed and no grades are passed back once the student completes the activity or course. Any idea on how to troubleshoot this? Is this an issue on the Moodle side or from the consumer side?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 30, 2019, 11:32 AM",
          "AuthorName": "Rob Frank",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2578419&course=5",
          "role": [
            "Picture of Rob Frank"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Grade Sync Error",
          "Text": "Hi Rob, Did you ever fix this issue? I am having a similar experience in Moodle 3.9 to Moodle 3.9 LTI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 9, 2020, 2:28 AM",
          "AuthorName": "L B",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3423287&course=5",
          "role": [
            "Picture of L B"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 346731,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=346731",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI to reuse course material between courses on same site",
          "Text": "Suppose you have course material in three courses on the same site, maintained by three different people in three different departments or at three different locations around the country, and each of them would like to include some activity from the other two courses into their own course, while not being responsible for the maintenance of the included material. Can all three publish their course or those activities that are to be reused with Publish as LTI, and then the other two can add an External tool activity to their courses to include the external material, or is it required to be located at another site?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 31, 2017, 9:07 PM",
          "AuthorName": "KS Læring",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2085808&course=5",
          "role": [
            "Picture of KS Læring"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI to reuse course material between courses on same site",
          "Text": "It can be done via LTI, but users will need to log out after using the shared tool and there may be unforseen problems. This is because the way the Publish as LTI tool works is by creating accounts based on the information given from LTI. And logging into that account automatically. There is an issue about improving this to use existing accounts when a moodle site includes its own tool. But that's out of scope of the LTI specification. So it may not be coming soon. Here is the issue, please vote and watch and comment on it if you can https://tracker.moodle.org/browse/MDL-57345 In the mean time, you may find it easier to create a course with course meta enrolment so that users from all three courses can access it. And then linking using the URL resource.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 1, 2017, 11:50 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Svar: Re: LTI to reuse course material between courses on same site",
          "Text": "Thanks, John.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 2, 2017, 4:53 AM",
          "AuthorName": "KS Læring",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2085808&course=5",
          "role": [
            "Picture of KS Læring"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 389496,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389496",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI users can see everyone's grades.",
          "Text": "I am using separate LTI links (Publish to LTI Tool) to connect different teachers in different institutions to a single course. However, when the grade book is made available, all teachers can see every student's grade (even those from other institutions). Students can still only see their own grade. Is there a way to restrict users (teachers) to just seeing their own students' grades? Thank you in advance for any assistance with this!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 10, 2019, 9:34 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 339019,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339019",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Provider in Moodle 3.1 - Do not share blocks?",
          "Text": "Hi, I'm just trying out the new LTI Provider feature in Moodle 3.1, and I love it with one exception. Is there a way to prevent the the headers and blocks from the providing course from showing up in the consuming course? I'd like to just have the content pane appear if that's at all possible.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2016, 1:53 AM",
          "AuthorName": "Jason Fehr",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=938619&course=5",
          "role": [
            "Picture of Jason Fehr"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider in Moodle 3.1 - Do not share blocks?",
          "Text": "It possibly depends on your theme. The LTI iframe forces an \"embedded\" layout - and your theme should provide a separate layout for \"embedded\" which does not contain blocks or a header.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2016, 10:05 AM",
          "AuthorName": "Damyon Wiese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1337843&course=5",
          "role": [
            "Picture of Damyon Wiese"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 340023,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=340023",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Allow frame embedding not working",
          "Text": "Hi, I am trying to embed moodle course in another website using \"LTI Provider\" plugin. On the browser getting error. Refused to display 'http://XXXXXXXXXXXXX/login/index.php' in a frame because it set 'X-Frame-Options' to 'SAMEORIGIN'. I have already enabled the option Home / > Site administration / > Security / > HTTP security Allow frame embedding Even though getting error. Any pointer on this will be helpful. -- Thanks in advance Abhishek Chouhan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 19, 2016, 4:24 PM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Allow frame embedding not working",
          "Text": "It is working as expected now. I was using the bitnami instance of moodle. In httpd.conf there was a check if X-Frame-Options is empty then set to SAMEORIGIN. This was the issue. commented that configuration.. All Good Now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 20, 2016, 11:22 AM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 313740,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313740",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "LTI 2.0 Implementation",
          "Text": "Hi everybody I'm a newbie on LTI and Moodle in general. We are trying to write an external tool interface to our existing application. Ideally our app will be called by Moodle with the Lesson we want the student to take and the student will see it and at the end, upon completion the grade will be sent back to Moodle. Please bear with me, your wisdom and knowledge will be greatly appreciated. We are using Moodle 2.8, LTI 2.0 built in. We enabled Web services across the site, JSON , XML -RPC. We have been doing this off of the LTI documentation but we can't find ANY example using LTI 2.0 so this is the flow we put together so far: We go to the administration > Plugins > Activity Modules > LTI > Manage External Tool registrations and register our plugin, or try to. External tool registration Enter a name, URL , Capabilities and services then we try to register it. Moddle sends this: launch_presentation_retur... `https://moodle.oursite.com/mod/lti/registrationreturn.php?id=13&sesskey=OdACc0zCJy` lti_message_type `ToolProxyRegistrationRequest` lti_version `LTI-2p0` reg_key `jVKFt0vjGfbynE3` reg_password `kln9fCRMcL19Y58` tc_profile_url `https://moodle.oursite.com/mod/lti/services.php/profile/jVKFt0vjGfbynE3?lti_version=LTI-2p0` Then the code in the provider side calls the tc_profile_url and gets back a json with tons of information, including: Context , product_instance, capability_offered, service_offered. Our code looks for the ToolProxy.collection service and when it finds it, starts building our JSON representation for the proxy. Under the security_contract the only accepted tool service is \"ToolProxy.collection.\" Whenever we try adding  \"ToolProxy.item\" or \"Result.item\" to the tool_service or end_user_service, we end up with a bad request 400. If we omit those items, we get a 201 response as expected. But those The question is: What are we doing wrong? What are we missing? Attached are the JSONs for the Tool Consumer Profile and Proxy Representation",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2015, 12:19 AM",
          "AuthorName": "Andres Montoya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=175934&course=5",
          "role": [
            "Picture of Andres Montoya"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "I can see a couple of issues here: Only services which you have been offered in the tool consumer profile can be requested in the tool proxy. The service element in the tool proxy should be the @id value for the service being requested (the documentation appears to be in error here). For an example of an LTI 2.0 tool provider try sending a registration request to http://lti.tools/test/tp.php .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2015, 1:26 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "Thanks for your response Stephen! Got some more questions. 1. So where in Moodle can we add the Result service to the Tool Consumer Profile? The only services that we can choose when adding an external tool registration are Tool Consumer Profile, Tool Proxy, and Tool Settings. I can add the Result.autocreate and Result.sourcedId capabilities, but not the actual service itself. Do we need to create a custom service for handling grades? I assumed this was a builtin service in Moodle 2.8. If we need to, is there any helpful documentation on how to accomplish this. 2. So in the Proxy JSON, for the Proxy service... line 163 for example. I would change: \"service\": \" https://moodle.oursite.com/mod/lti/services.php/profile/jVKFt0vjGfbynE3#ToolProxy.collection \", to simply \"service\": \"tcp:ToolProxy.collection\"? Thanks again for all the help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2015, 3:19 AM",
          "AuthorName": "Andres Montoya",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=175934&course=5",
          "role": [
            "Picture of Andres Montoya"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "The LTI 2 Result service has not been implemented for Moodle.  You can still send use the LTI 1.1 Basic Outcomes service by selecting it when configuring the tool.  You are right that, technically, this service should also have been declared in the tool consumer profile as being available. Yes, but if you do not use the fully qualified URI you should also declare the prefix (\"res\", or whatever you choose to use) in the @contexts section.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2015, 4:17 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "Just a quick correction to my previous message... An LTI 2 tool will automatically have support added for the Basic Outcomes Service if you offer the Result.sourcedid and Result.autocreate capabilities and these are enabled in the Tool Proxy.  As an old-fashioned LTI 1 service, it is not declared in the Tool Consumer Profile, though probably should be.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 19, 2015, 5:00 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "Thanks Stephen, we got it all working with your advice. The LTI 1 service did the trick. You wouldn't happen to know when the Result service may be implemented into Moodle would you?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 20, 2015, 10:33 AM",
          "AuthorName": "Dustin Binge",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1942428&course=5",
          "role": [
            "Picture of Dustin Binge"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "I do not know of any plans for anyone to add it to Moodle, but I can raise it with our generous Moodle/LTI 2 benefactors, Vitalsource.  Do you have a specific need for this service?  It does little more than the existing Basic Outcomes service and to some extent less.  For example, according to the spec \"each Learner is permitted at\nmost one attempt for each link\"; that is, once they have a score recorded for an LTI link they should not be allowed to launch it again, unless their score is reset.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 20, 2015, 11:15 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "No real need currently, was just interested. The Outcomes service works just fine for what we need right now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 20, 2015, 8:42 PM",
          "AuthorName": "Dustin Binge",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1942428&course=5",
          "role": [
            "Picture of Dustin Binge"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 Implementation",
          "Text": "I may be adding this functionality. Stephen, ping me when you are available.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 22, 2015, 3:16 AM",
          "AuthorName": "Michael Aumock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1956830&course=5",
          "role": [
            "Picture of Michael Aumock"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433941,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433941",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.0 as LTI 1.3 provider throwing scope error",
          "Text": "I am stumped. I successfully, or so I thought, setup Moodle 4.0 as an LTI provider in Canvas.  I can add Moodle activities as external tools within Canvas, making use of deep linking.  The activity selection process works seamlessly. However, when the user attempts to use the activity, a scope error is generated: \n```text\n2022/04/26 14:58:04 [error] 599#599: *8759 FastCGI sent in stderr: \"PHP message: Default exception handler: Coding error detected, it must be fixed by a programmer: Scope '\nhttps://canvas.instructure.com/lti-ags/progress/scope/show'\n is invalid. Debug: \n\n\nError code: codingerror\n\n\n* line 101 of /enrol/lti/classes/local/ltiadvantage/entity/ags_info.php: coding_exception thrown\n\n\n* line 66 of /enrol/lti/classes/local/ltiadvantage/entity/ags_info.php: call to enrol_lti\\local\\ltiadvantage\\entity\\ags_info->validate_scopes()\n\n\n* line 79 of /enrol/lti/classes/local/ltiadvantage/entity/ags_info.php: call to enrol_lti\\local\\ltiadvantage\\entity\\ags_info->__construct()\n\n\n* line 171 of /enrol/lti/classes/local/ltiadvantage/entity/resource_link.php: call to enrol_lti\\local\\ltiadvantage\\entity\\ags_info::create()\n\n\n* line 170 of /enrol/lti/classes/local/ltiadvantage/service/tool_launch_service.php: call to enrol_lti\\local\\ltiadvantage\\entity\\resource_link->add_grade_service()\n\n\n* line 352 of /enrol/lti/classes/local/ltiadvantage/service/tool_launch_service.php: call to enrol_lti\\local\\ltiadvant\" while reading response header from upstream, client: REDACTED, \nserver\n: devedu.somewhere.ac, request: \"POST /enrol/lti/launch.php HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php7.4-fpm.sock:\", \nhost\n: \"devedu.somewhere.ac\", referrer: \"\nhttps://mydomain.instructure.com/api/lti/authorize?client_id=*****0000000000111&login_hint=************522cf3bc2774a8012a35177f4&lti_message_hint=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXJpZmllciI6IjBiNzAyYTI1MmM4NzBjZDBlZjIyMzhkZTQxYTRhM2VkOTMxNzFjYWNmNDFmM2MxNmIzOTZhNjUyYWRlMmU1Y2Y4NjM2ODcxNzQwNjY5Zjg1OGE0OWFhMWE5MWY1ZmNkMmQ5MjFlYWY2ZTk0OTVkNTkyMmY0ODgxYjA1YTI1YmUzIiwiY2FudmFzX2RvbWFpbiI6InNhdHMuaW5zdHJ1Y3R1cmUuY29tIiwiY29udGV4dF90eXBlIjoiQ291cnNlIiwiY29udGV4dF9pZCI6MTU3NDEwMDAwMDAwMDAwMjM3LCJjYW52YXNfbG9jYWxlIjoiZW4tR0IiLCJleHAiOjE2NTA5NzgxNzF9.VWUlIPUU1ndF7B02fXWVuDNHBvnUpYNuDXPva1jrbEc&nonce=nonce-67f020ab816d58df6fa9b4be9c6ed689dfa4886676eaeeea904fc3a05371d2f9&prompt=none&redirect_uri=https%3A%2F%2Fdevedu.somewhere.ac\n```\n I cannot for the life of me figure out why I am getting this error, nor have I been able to find suitable information about this error anywhere in the documentation. Any help would be greatly appreciated! Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 26, 2022, 9:16 PM",
          "AuthorName": "Mathieu Pelletier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=904671&course=5",
          "role": [
            "Picture of Mathieu Pelletier"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 provider throwing scope error",
          "Text": "Hi Mathieu, Thanks for the report. You're seeing that error because that scope (' https://canvas.instructure.com/lti-ags/progress/scope/show' ) isn't one of the scopes included in AGS spec (and is not a scope Moodle knows about). I didn't see this in my testing and I'm not aware of the specific spec (or section thereof) which permits platforms to send non-standard scopes, however, it does seem feasible that it could be extended this way. Perhaps section 5.4.7 of the core 1.3 spec - Vendor specific extension claims -  hints at this, I'm not 100% sure. Given Moodle is certainly not aware of what these scopes mean, perhaps the best course of action is to ignore these instead of blocking the launch like this. I've created MDL-74576 to address this. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 27, 2022, 12:18 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 provider throwing scope error",
          "Text": "Brilliant! Thanks for the suggested workaround, Jake. I have commented out line 101 in enrol/lti/classes/local/ltiadvantage/entity/ags_info.php and it worked like a charm. I realise https://tracker.moodle.org/browse/MDL-74576 hasn't been triaged yet, but it seems like a relatively easy fix. Do you suppose we will see the proper patch in 4.0.1?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 3:52 PM",
          "AuthorName": "Mathieu Pelletier",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=904671&course=5",
          "role": [
            "Picture of Mathieu Pelletier"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.0 as LTI 1.3 provider throwing scope error",
          "Text": "You bet. That's clearly an oversight on my part in the 4.0 work and I'm working on making that class less strict as we speak. Will definitely push it through for 4.0.1 given the apparent severity.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 4:29 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 385037,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=385037",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Sending Scores back to moodle",
          "Text": "Is there any possibilities to save scores of more than one Students at a time. ie, First we are saving scores only in the external tool (an examination tool) database , after attending all students ,the result of all students will send back to moodle. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 10, 2019, 6:28 PM",
          "AuthorName": "Sayana Sudhir",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2640320&course=5",
          "role": [
            "Picture of Sayana Sudhir"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 445748,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445748",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 External tool - grade pass to Moodle",
          "Text": "Hello. I am trying to figure out how the grades are supposed to be passed from Tool Provider to Modole Platform. I found one wirking instruction instruction but I am not sure if this instruction is complete or even the one supposed to be used. According to it one must make a POST request to eg http://example-moodle-instant.com/mod/lti/services.php/{courseid}/lineitems/{gradeitemid}/lineitem/scores/?type_id=19 } with access token in headers and some grade info in the body. I had no problem in retrieving token (aka authentification with JWT). But I want to understand how Provider is supposed to get course id and grade item id parameters (which are more or less internal Moodle data) used in the request link. I figured, that using standard Moodle API it is possible to get both course id and grade item id for userid and cmid, which Provider recieves among other parameters when Moodle user opens External tool. But this way seems to be too hard? as there must also be a user for api for each tool provider and in total it takes 4 requests to set a grade. What am I missing? Is there some more adequate way?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2023, 9:00 PM",
          "AuthorName": "Daniil Globa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4630650&course=5",
          "role": [
            "Picture of Daniil Globa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 External tool - grade pass to Moodle",
          "Text": "Hi Daniil, You will get access to the necessary information from the lti-ags claim. You can see more information about that in the 1EdTech spec docs (which I recommend reading anyway if you're building a tool - login required to view). You'll find that here: https://www.imsglobal.org/spec/lti-ags/v2p0#assignment-and-grade-service-claim Essentially, on every launch (assuming 'accept grades from the tool' is checked in the tool settings) Moodle will pass the claim to the tool. The tool can then just use the relevant URLs to make service calls. At no point do you need to figure out any of the internal Moodle data, or call any non-lti APIs; it's all included in the launch data. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 17, 2023, 11:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 346149,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=346149",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI error : XML with no associated style.",
          "Text": "Hi, I am using Moodle 3.2. Upon publishing a course as an LTI provider, I was given LTI 1 connection URL and secret, and LTI 2 URL. The LTI1 connection URL is a URL with a . XML ending. Is this what is supposed to happen? Using LTI1 connection URL provided resulted in the following error from the LTI consumer side : \"This XML file does not appear to have any style information associated with it. The document tree is shown below.\" When I used LTI2 URL, all i get is the error \"Invalid Response\". Please help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2017, 5:22 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI error : XML with no associated style.",
          "Text": "I found what may be the issue. The tool URL created by Moodle is *not* preceded with www. So instead of http://www.somedomain.com/asdajhasdh , it was http://somedomain.com After adding www to the tool URL, the site is now loading. A new problem has popped up which I will start a new thread. I hope this helps anyone who may be having the same issue. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 20, 2017, 5:37 AM",
          "AuthorName": "philipp lesmana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2088601&course=5",
          "role": [
            "Picture of philipp lesmana"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 359782,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359782",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Error message with lti cartidge file",
          "Text": "I have created a set of LTI inks on one Moodle site, at a course level and used them to establish links on another Moodle site. After adding the URL and the secret I get a tick and a message saying Using tool cartridge. Then I save it and I get this error. Error reading file \" http://landbasedlearningltd.com/enrol/lti/cartridge.php/1369/e86e34a9f82948f2c654088d96a815d7/cartridge.xml \" Interestingly I have already added this same link on the same course, on another external link and it works fine. If however when I make a duplicate of the external resource link the link fails to work.  It links to the site but gives this error. A required parameter (oauth_consumer_key) was missing. In fact, I can not get any other link to work on this site. Why do I get this error? Another interesting point is that on another Moodle test site I operate I have used the same URL to establish a number of different external links and they all work perfectly. Has anyone got any ideas about this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 10, 2017, 11:21 PM",
          "AuthorName": "Patrick McDaniel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2322873&course=5",
          "role": [
            "Picture of Patrick McDaniel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error message with lti cartidge file",
          "Text": "Found my own solution, may be obvious to you professional but thought I would share it. There appears to be a huge inconsistency in the way that the different LTI links work, on the different versions of Moodle.  Some versions of Moodle, will accept the links as we created them in Moodle 3.3.1 as the cartridge Plugin.   We have discovered that some versions of Moodle will not accept these cartridge links and they will only accept a more basic link, based on a simple URL So if the cartridge link,  fails then to manually add the enrolement url and secret. If you do use this method you must open the 'see more' link and add a word to the consumer key. Without this key, the link will not work. Hope this helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 11, 2017, 8:53 PM",
          "AuthorName": "Patrick McDaniel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2322873&course=5",
          "role": [
            "Picture of Patrick McDaniel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 371536,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371536",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Custom parameter sending twice",
          "Text": "Product Owner with limited Moodle interaction... We've successfully established a connection (SSO only) with older versions of Moodle, however a client of ours is now on 3.5 and we're running into a bit of a wall. Part of our authentication process is tied to a school key (our internal unique identifier to each school/client) that we enter as a custom parameter. For whatever reason, our debugging process is noting that the key is being sent twice, generating a \"Validation not passed\" error. I don't see anywhere where the field is entered twice, so I'm at a bit of a loss as to why this would happen (or how to prevent it). Any help would be greatly appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 1, 2018, 10:58 PM",
          "AuthorName": "Luke Courtright",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2448784&course=5",
          "role": [
            "Picture of Luke Courtright"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360145,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360145",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Grade passback using LTI tools stopped working",
          "Text": "I have published a series of quizzes from a Moodle course as\nLTI tools, and my students have been accessing them through the university’s\nproprietory course management system called “Learning Suite” (LS).  I’ve created activities in LS that use the\nLTI “secrets” and URLs from Moodle quizzes, so that when students click on the activity in\nLS, they’re taken to the Moodle quiz, and then their grade is passed back from\nMoodle to LS. At least, that’s what was happening until about a week ago, when\nthe grade passback feature stopped working. Students are still taken to the\nMoodle quizzes from LS, and they can still complete the quizzes, but their\ngrades no longer get passed back to LS. The university’s tech support says they\nhaven’t made any changes to LS, so some change must have been made in Moodle.\nThe only change I’ve made was to grant another individual guess access to the\nMoodle course; I think I may have changed some setting under “Enrollment\nmethods” as I was trying to do this. There are Could this have caused the\nproblem? If so, how do I fix it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2017, 5:19 AM",
          "AuthorName": "Blair Bateman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2183066&course=5",
          "role": [
            "Picture of Blair Bateman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 462520,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462520",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Adding a basic launch item for teachers only",
          "Text": "Our LTI tool can be used to add deeplinks to a course to add a specific assignment and the setup for that is pretty straightforward. In addition to this I want to have a basic launch where a teacher can login to the tool and manage his content using the LTI authentication. In Brightspace I could create a separate 'activity' or link and add it to the course menu where only teachers could use this link. I figured out I can create a basic launch by creating an activity and not select content, but this is not quite what I am looking for since this would also make it available to students and a teacher has to add this themselves Is it possible to add a basic launch item in the course menu somewhere whit which a teacher could access the tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2024, 8:16 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Adding a basic launch item for teachers only",
          "Text": "Tom, its not possible at this time. However the current work we are doing as part of bringing LTI into core aims to make use cases like this easy to achieve in the future. The aim is for this to land in Moodle 5.0 at this point. In the mean time you could add an activity to the timeline for the teachers and have that activity hidden from students or set to unavailable. I understand this is far from ideal but until we implement the new changes its about the only option.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 2, 2024, 9:21 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding a basic launch item for teachers only",
          "Text": "Is there a way for an admin to add this to all or a group of lessons? Or this only possible by adding this item manually to every course..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 2, 2024, 2:58 PM",
          "AuthorName": "Tom Doesburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6801556&course=5",
          "role": [
            "Picture of Tom Doesburg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Adding a basic launch item for teachers only",
          "Text": "Right now, tools must be added to every course they are used in, yes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 3, 2024, 8:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 397521,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397521",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "CENGAGE LTI Grade synch update not working",
          "Text": "We are using Moodle Moodle 3.7.3 (Build: 20191111), with Cengage external modules. The Cengage modules work as they should and report a grade back to the Moodle gradebook. The grade value is stored in mdl_grade_grades in the item finalgrade field. However, the gradebook category and course totals do not get updated after Cengage stores the grade. If we manually update the grade book with some other grades, then the totals are updated correctly, including the Cengage data. Cengage insists everything is configured correctly on their end and on our end. Several questions: When/how does Moodle update category and course grade totals? In mdl_grade_grades there is a field, aggregationstatus. Is that a flag that is checked to recalculate category/course totals? What else should I be looking at? Thanks, Floyd",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 26, 2020, 4:03 AM",
          "AuthorName": "Floyd Saner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=142294&course=5",
          "role": [
            "Picture of Floyd Saner"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 430586,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430586",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Gradebook submission data",
          "Text": "When a student submits a grade via the LTI 1.1 Outcomes Service or the LTI Advantage Assignment and Grade Services, is there a way to indicate a submission URL that the gradebook can direct a teacher to in order to grade a student's assignment? Currently, the gradebook only opens the external tool with the linked resource. Canvas provides a `ext_outcome_data_values_accepted` in the LTI 1.1 launch parameters to indicate that outcomes can include a `resultData` value in the grade submission that contains an external URL ( https://canvas.instructure.com/doc/api/file.assignment_tools.html#lti_advantage ). They also provide an optional submission object \" https://canvas.instructure.com/lti/submission \" in the Assignment and Grade Service score request to add additional submission data as well ( https://canvas.instructure.com/doc/api/score.html ). The Assignments and Grade Service spec also indicates a `GradebookResultMessage` that would cover this scenario as well ( https://www.imsglobal.org/spec/lti-ags/v2p0#gradebookresultlaunch-message ). Does Moodle implement this submission URL handling in a different way?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 8, 2022, 4:32 AM",
          "AuthorName": "Jack Grzechowiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4702663&course=5",
          "role": [
            "Picture of Jack Grzechowiak"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Gradebook submission data",
          "Text": "Hi Jack, That isn't possible right now. There's an issue dealing with adding that to the 1.3 consumer codebase - see MDL-69275 . That issue deals with adding support for submission review launches, as described here: https://www.imsglobal.org/spec/lti-sr/v1p0 (login required). That reference to the GradebookResultMessage spec in the AGS2 spec should actually be to the submission review spec - see this forum post - http://www.imsproject.org/forum/learning-tools-interoperability-public-forum/197391 . it seems IMS didn't update that spec as they said they would. Given you're dealing with a launch from Canvas, however, I suspect you're in need of support for this in the Moodle provider code. Unfortunately, we're in the same situation there in that it's an unsupported spec right now. In fact, 1.3 is unsupported right now (coming in 4.0). I think the submission review workflow is something to consider for the future however, so if you create an issue on the tracker, I'd be happy to triage it accordingly. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 4:04 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 378898,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=378898",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTi login Moodle app",
          "Text": "Hi there So I have my 3.5.3 moodle site up and running and LTi is turned on and I have checked the login works fine via the consumer site. The site comes up great in the Moodle app. Very cool. First question: Since some LTi consumers will only be using either the Android or iOS app, how can they use their consumer-side login credentials to login via the App? Second question: if an LTi authentication/enrolment is made via the web, how would they then use the moodle app to login since they would not know the username and password provided by the LTi Provider? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 22, 2018, 2:40 AM",
          "AuthorName": "Graham Courtney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1331055&course=5",
          "role": [
            "Picture of Graham Courtney"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 455045,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455045",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Selling Courses as LTI Tools",
          "Text": "Hello, Our company is looking to take advantage of LTI and sell some of our courses as tools and we wanted to see if others have any experience. Here are some of the questions we have 1. Do we need to set up a new course as a tool for each customer or can the same tool be used across multiple customers? 2. Is there a way to monitor or limit enrollments for customers? Ex. If a school wanted to purchase 50 seats in a practice exam is there a way to limit those enrollments? 3. Is there a way to restrict a customer from resetting a course for a student? (if we sold 50 attempts we would want them to be a 1:1) 4. Best practices for resetting a course if a consumer purchased additional attempts As of right now through some research it seems that providers might sell access on a yearly contract basis with unlimited access.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 3, 2024, 4:20 AM",
          "AuthorName": "John Poeltler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4240848&course=5",
          "role": [
            "Picture of John Poeltler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 354096,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354096",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Use Student ID for LTI Tool instead of moodle id",
          "Text": "Hello, I am running Moodle 3.1 (Build: 20160523) . I have an External Tool that is storing student information based on their Moodle ID. I want Moodle to send the Student ID instead so we can have the data stored over multiple years (we create new Moodle instance every year) without causing conflicts with reused Moodle ID's. The provider of the External Tool is unable to make this change on their end. I've seen some articles here that mentioned adjusting the /mod/lti/locallib.php file. Can someone walk me through what setting up that custom parameter looks like?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 17, 2017, 4:37 AM",
          "AuthorName": "Davian Rodriguez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2151861&course=5",
          "role": [
            "Picture of Davian Rodriguez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 395653,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395653",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI in moodle and security",
          "Text": "Hi I want to start using LTI external tools in my moodle. I'm not referring to my moodle as being a LTI provider, rather the opposite - using LTI tools like \"VitalSource\", \"Codeboard\" etc. as embedded content in my moodle. (LTI consumer) Is there anything my IT security team should know about LTI in moodle? Are there any recommended security practices or measures that should be taken before using LTI tools? whether it's something that the Moodle's admin should configure or the server system administrator should? I'm mostly concerned about security issues like XSS or anything else that might abuse or manipulate our Moodle's system or even Moodle's database . I'm also concerned about privacy issues as I see that there is an option to send a little bit of user data to the LTI tool and I want to make sure that nothing but what was configured by Moodle's admin is sent out. We not only value the privacy of  our users but also the content in our Moodle -  we don't want our content to be somehow visible to anyone that is not a registered user in our Moodle. but mostly I'm considered about the security aspect of this. I have moodle 3.5.1 installed, btw .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 12, 2020, 6:07 PM",
          "AuthorName": "Patrick Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2361311&course=5",
          "role": [
            "Picture of Patrick Scott"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 356240,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356240",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 439797,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439797",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restricting users coming in through LTI",
          "Text": "I am new to the use of LTI. I will describe the context . Please advise the process of implementing LTI in Moodle. We are using Moodle 4.0. We have a set of school-level activities on our Moodle. We are now in discussion with another LMS provider, whose proprietary LMS is also LTI compliant. The LMS provider offers their platform to various partners, who in-turn market the LMS to various schools. It is possible that only a subset of the partners enter into an agreement with us. When their LMS and our Moodle talk to each other through the LTI, how can we ensure that only the partners with whom we have an agreement will have access to the interactives?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 23, 2022, 2:40 PM",
          "AuthorName": "Rameshwar Vupadhyayula",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1000232&course=5",
          "role": [
            "Picture of Rameshwar Vupadhyayula"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restricting users coming in through LTI",
          "Text": "Hi Rameshwar, The first thing to note is that if you're running Moodle 4.0, you'll want to be providing access to the activities over LTI 1.3 (LTI Advantage), not the legacy LTI 1.1/2.0 methods. Everything I'll talk about here relates to LTI Advantage only. The second thing to be aware of is that Moodle, at least in its vanilla form, isn't a multi-tenant application (that's what Moodle Workplace offers additionally). Given you're talking about multiple partners/ tenants on the platform, this is an important point to note. While LTI does provide for multi tenant support in both the tool and platform applications, Moodle is a single tenant tool. Moodle 4.0 therefore doesn't provide the ability to publish content to a specific client or deployment. Any published activities can be seen and consumed by any registered platforms -  provided of course they have been linked properly to begin with (which means they need to have a registration, complete with one or more approved deployment ids). So, what you're describing might be possible, but it sounds like it will depend on whether all the partners (those you have agreements with) always get access to ALL published activities on the Moodle site. If that is the case, then the existing LTI Advantage model will work for you. In this case, you just need to make sure you've got the relevant registration in place for each of the partners. How this registration is achieved will depend on the deployment model used by the external LMS. You'll either end up with a single registration for the external LMS, and one or more deployment ids per partner, or you'll end up with many registrations; each representing a partner and having one or more deployment ids. Either way, as long as the registration and deployment ids are in place for the relevant partners, they'll all have access to all the published content on the site. If you enter into another agreement with a future partner, then (again, depending on the platform's deployment model), you either add another deployment id to the central registration, or you add a new registration entirely. If, on the other hand, the desire is to share select content only with each of the partners, then I'm afraid it's something we don't currently support in Moodle LMS. That is, there isn't currently a way to publish a piece of content (an activity or course) to a specific registration (or deployment), and this is mainly because Moodle wasn't designed with tenancy like this in mind. There's an issue dealing with exploring this, but I've not had time to do so yet. You can see that tracker issuer here: MDL-74233 . Hopefully some of the above information is useful. I know there are perhaps a few foreign concepts like registrations and deployments to digest, but you can find good documentation for these on the 1edtech LTI Advantage page . Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 25, 2022, 11:00 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 468943,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468943",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Tool Not Launching",
          "Text": "Hi, I'm trying to set up an LTI 1.3 tool in Moodle using the provided initiate login URL and public key. The tool configuration completes successfully, but when launching the tool, an error appears: \"Invalid request.\" There is another tool already installed that uses the same configuration (with a different initiate login URL), and it is launching successfully. That tool was added in a previous version of Moodle before the upgrade to version 4.5.4 . We've also tried configuring the tool using two different initiate login URL, but the same error occurred. Is there a way to troubleshoot this further, or alternatively, can a new tool deployment be created based on the existing working one, effectively keeping the same configuration and generating a new deployment ID? From the tool provider's logs, it appears that the final LTI 1.3 launch message is not being received. Are there any recommended steps to troubleshoot potential issues or blocks on the LMS side that might prevent the launch from completing? Please can someone from Moodle assist me with this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 14, 2025, 11:40 PM",
          "AuthorName": "Pedro Santos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7491259&course=5",
          "role": [
            "Picture of Pedro Santos"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 335280,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335280",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "iOS app as external tool with LTI integration",
          "Text": "Hi, I was wondering if it possible to some how integrate an iOS app as an external tool with Moodle. From the documentation I've found, external tools seem like they need to be websites. If I can't make an iOS app and external tool, is there some other way to add an iOS app as an assignment in a course? Thanks, Jared",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 24, 2016, 5:35 AM",
          "AuthorName": "Jared Schaeffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2102696&course=5",
          "role": [
            "Picture of Jared Schaeffer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 213608,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213608",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course copy and external tools",
          "Text": "When I try to copy a course that contains external tools it loses its tool type and throws database errors about the gradebook when I try to fix it.  Is there any workaround for this and is there any way to let the external system know that it is a copied piece of content from another course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 11, 2012, 11:26 PM",
          "AuthorName": "Jamie Albinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1512580&course=5",
          "role": [
            "Picture of Jamie Albinson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 259039,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=259039",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Grades not transmitted",
          "Text": "Here is the picture. LTI provider is running on Moolde 2.6 (course with quizzes). External tool is on Moodle 2.4 So from Moodle 2.4, you consume a course in 2.6. All is set to accept grades from provider, which is set to send grades. It's just not consistantly running. I launched cron manually on both sides. Something seems broken. Any idea where to look? François",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 26, 2014, 4:32 AM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grades not transmitted",
          "Text": "You did turn Web services on both ends so the grade books can talk to each other?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 26, 2014, 5:54 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grades not transmitted",
          "Text": "That was it, I think. Web services were not enabled on provider side. I should have read all the Provider documentation. It says that Web services must be enabled on both sides. However, on the consumer side, Web services is not enabled, and I still get a grade. Thank you John for your quick reply.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 26, 2014, 11:05 PM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 426991,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426991",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Grade Synchronization Schedule",
          "Text": "Hello- I had used Moodle 3.5 as an LTI tool to pass a Moodle Quiz score to the LMS that my school uses.  I remember that there was a setting where I could tell Moodle to pass the grade every 1 min, 30 min, 1 hr, etc.  I think this was in the System Administration under scheduled tasks. Anyway, I went away from using Moodle as an LTI tool for about a  year or so, and now I am back.  This time I am working with Moodle 3.9.  The grades do pass from Moodle to my LMS's gradebook, but it seems to happen at some point overnight.  I would like to set Moodle to pass the grade to the LMS much sooner than that.  I cannot find this setting for some reason.  Can someone kindly point me to where this setting is in the System Administration in Moodle? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 17, 2021, 12:03 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Grade Synchronization Schedule",
          "Text": "Hi Mike, You can find the relevant task in the tool site under Site admin > Server > Tasks > Scheduled tasks . The one you're looking for is named \"Publish as LTI tool grade sync \". Hope that helps. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 17, 2021, 9:59 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Grade Synchronization Schedule",
          "Text": "Hello everyone... I'm using two LMS Moodle 4.10: the first one works as an LTI Provider, where I create quizzes, and the second works as an LTI Consumer, where my students answer the quizzes shared by the LTI Provider. Apparently everything works perfectly, because when students click on the external tool of the quiz link, they are automatically sent and enrolment in Moodle Provider LTI, where they can answer the quiz and receive their grades. However, after completing the quizzes, Moodle Consumer LTI is not receiving student grades back. I tried different settings but nothing worked. As far as I can understand above, Mike Simurdiak has had success with this grade feedback, even if it's only overnight. Anyway, if everyone can help me, by showing me where I am going wrong, I'll be grateful. Thanks. Below is one of my settings: OBS: < ... > (click button) ... (default value) LTI Provider configuration (Login: admin): --------------------------- I. Quiz creation: 1. Turn Edit on 2. Add an activity or resource: Quiz 2.01 General * Name: Training 01 ... 2.02 Timing",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 26, 2021, 2:46 AM",
          "AuthorName": "Sanderson Pereira da Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2356560&course=5",
          "role": [
            "Picture of Sanderson Pereira da Silva"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 276496,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=276496",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "More than basic outcomes...",
          "Text": "Hi all, Using LTI, my app launches and returns a simple score. However, I want to relay further data back to moodle... as well as the score, I want to return the time spent on my tool, and some other data. I understand that LTI 1.1 (as supported by moodle) doesn't allow you to do this... however, I wondered what web services moodle has available to an external tool that would give me this capability. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 10, 2014, 12:37 AM",
          "AuthorName": "Oliver McPhee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1887972&course=5",
          "role": [
            "Picture of Oliver McPhee"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: More than basic outcomes...",
          "Text": "You are correct that LTI 1.1 only supports passing back a numeric grade between 0 and 1.  However, with LTI 2 now supported in Moodle 2.8, the result service should become available soon which supports the addition of a comment field which may meet your needs.  In addition new services for managing line items and results have just been released as a public draft (see http;// www.imsglobal.org/lti ) and also support the comment option and I would expect to be made available within the Moodle module.  If this is not sufficient for your needs, you could also consider writing a custom (bespoke) service which is secured using the LTI credentials.  In that way the same code at your end could work with other platforms which implement the same service.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 20, 2014, 5:20 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 382494,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382494",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Sharing LTI secret with multiple consumers",
          "Text": "Hi, I have a scenario where Blackboard is my institution's main VLE, but moodle is used to provide certain functionality we don't have natively - in this case access to the the STACK question type within moodle quizzes.  Therefore moodle is my provider and Blackboard the consumer. I will omit some details here, but essentially the setup I was considering would involve the same LTI credentials from moodle (with its URL and secret) appearing in multiple Blackboard spaces.  Therefore different student cohorts may potentially be accessing the same quiz on moodle. Can anyone advise if I might encounter any issues with grade and user synchronisation between the two systems?  Or alternatively should the relationship between consumer/provider LTI links always be 1:1? Advice appreciated.  Thanks, Stuart Anderson",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 10:24 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 453680,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453680",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Limit published tools to specific platforms/consumers?",
          "Text": "If a platform has been set up in Moodle do users from that platform have access to every published activity and/or courses? We'd like to grant the LMSes of specific customers access to content which may be specific to that customer. For example, for customer 1 we'd like to give them access to quiz 1, and customer 2 gets access to quiz 2 but no access to quiz 1. We could pre-provision the remote users using Student first launch provisioning mode = \"Existing accounts only (prompt)\" restricting remote users to specific courses. But that adds additional steps: the customer must provide us with learner details ahead of time, we then have to add these learners, and learners must additionally log into our site to link this account with the remote one. With Student first launch provisioning mode = \"New accounts only (automatic)\" is there a way we can publish a tool (quiz 1) but make it available only to registered platform \"Customer 1 LMS\"?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 18, 2023, 10:42 PM",
          "AuthorName": "Leon Stringer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1617763&course=5",
          "role": [
            "Picture of Leon Stringer",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Limit published tools to specific platforms/consumers?",
          "Text": "Hi Leon, Not currently. See MDL-74233 . Any content which is published over 1.3 is technically available to any 1.3 registrations + deployment. There is no way to say \"Here's a link to quiz 1 but it's only going to support launches from customer x\". One workaround that might partially work (I've not tried it and it might not work for your specific case), but which requires the use of deep linking, would be to only provide access to a given tool course/activity to those teacher accounts which you know are from customer x. Basically, you create the tool teacher accounts and make sure they can only access courses/ activities they are supposed to be able to access. That way, when the customer x teacher (on the platform) tries to create the link, they'll only be able to see those resources they have access to in the tool site, based on the access granted to them by said user account. Of course, if you manually create the links, there's nothing technically stopping anybody else from using them because, as I said before, any published activity or course works with any registration. The deep linking workaround only \"works\" via preventing the user from seeing other published resources during deep linking. It sort of depends how you're using it I think.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 19, 2023, 10:21 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Limit published tools to specific platforms/consumers?",
          "Text": "Thanks Jake. My understanding of the workaround is: The Moodle site (provider) is registered with the customer LMS (consumer). On our Moodle site: Create a course with the activity to be published. Publish the activity with Teacher first launch provisioning mode = \"Existing accounts only (prompt)\". Add a user in Moodle for the consumer site's teacher and enrol this on the course with role = teacher. Let's call this mteacher1. The teacher then logs into our Moodle site as mteacher1 in a browser tab so they can link their account in the next step. In a second tab they log into their LMS and attempt to select the published activity (which uses deep linking). The first time they do this they are prompted to link their LMS user to mteacher1. Once the user is linked they see the above activity only. The teacher enrols students onto course in their LMS. When these students access the activity they get automatically-created accounts on Moodle (assuming Student first launch provisioning mode = \"New accounts only (automatic)\"). They can only access the above activity. Does that look correct?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 19, 2023, 8:15 PM",
          "AuthorName": "Leon Stringer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1617763&course=5",
          "role": [
            "Picture of Leon Stringer",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Limit published tools to specific platforms/consumers?",
          "Text": "Yep, that's an excellent summary. I will add that I've not used this approach, nor heard of people using this approach (yet), so there very well may be some quirks along the way. It really comes down to careful access control management in the tool (provider) site. If someone gets hold of a custom param (id=xxxx) and has a valid registration (or you enrol someone from another org into the wrong course), there's nothing technically stopping them from adding a link to that content in their \"not supposed to have access\" LMS/Client. The IMS security framework for 1.3 just doesn't work that way, and we didn't yet build anything over the top to support that kind of registration-level or deployment-level restriction.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 20, 2023, 10:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 197509,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=197509",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Limiting user attempts  for external tool",
          "Text": "How to limit user attempts for External Tool [ET] activity ? this option is in SCORM activity by default, but cant find in ET activity. or do i need to activate it elsewhere? please help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 3, 2012, 5:19 AM",
          "AuthorName": "umesh kumar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=222392&course=5",
          "role": [
            "Picture of umesh kumar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Limiting user attempts  for external tool",
          "Text": "Currently it looks like there is no option for this, but Moodle hands enough information over to the LTI provider that this could be done on that end. This may make a good feature request for upcoming releases.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 13, 2012, 11:02 PM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 383658,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=383658",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "oauth 1.0 signature base string for LTI",
          "Text": "Can someone tell me what parameters go into the signature base string that is used to create the \"oauth_signature\" parameter when Moodle 3.6.3 makes a call to an external tool? I am writing a custom LTI Provider and have connected it to a Moodle external tool. When Moodle calls me, I get the POST parameters in the attachment (with some obfuscation). I need the string that Moodle uses to create the \"oauth_signature\" so I can re-create it and verify. I know the string begins with: \"POST&https%3A%2F%2Fmy_url.com but I need to know what other arguments Moodle puts into this string and in what order. That is, how to generate the string. Please don't refer me to the IMS Global website because I am not a member and they don't seem to make their specs public as near as I can tell. Thanks in advance, Brownell",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 12, 2019, 4:37 AM",
          "AuthorName": "Brownell Chalstrom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=105797&course=5",
          "role": [
            "Picture of Brownell Chalstrom"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: oauth 1.0 signature base string for LTI",
          "Text": "Hello, I have the same problem. Have you come up with a solution since?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 11, 2019, 7:57 PM",
          "AuthorName": "Adnan Hamzeh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2657205&course=5",
          "role": [
            "Picture of Adnan Hamzeh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: oauth 1.0 signature base string for LTI",
          "Text": "Hi, I also try to do the same thing. Please let me know if you have found out in the meantime.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 27, 2019, 1:44 AM",
          "AuthorName": "Andreas Fürlinger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2661876&course=5",
          "role": [
            "Picture of Andreas Fürlinger"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 375085,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=375085",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle External Tools - LTI Version 1.x or 2.0?",
          "Text": "Hi, I'd like to know which version of LTI Tool Consumer Moodle 3.5.1 External Tools is using? I'm trying to develop a Tool Provider for a project but I'm having a hard time finding the proper documentation of Moodle's implementation of LTI, and IMS documentation is quite vague about how to implement their solution. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 27, 2018, 9:48 AM",
          "AuthorName": "RAFAEL AMORIM COELHO RIBEIRO",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2475907&course=5",
          "role": [
            "Picture of RAFAEL AMORIM COELHO RIBEIRO"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle External Tools - LTI Version 1.x or 2.0?",
          "Text": "https://docs.moodle.org/35/en/External_tool_FAQ",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 27, 2018, 11:13 AM",
          "AuthorName": "Darko Miletić",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=431153&course=5",
          "role": [
            "Picture of Darko Miletić",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 455734,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455734",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How we can get ResourceLink Id History info when copy a course",
          "Text": "Hi everyone. Our team is implementing Course Copy using LTI 1.3, according to the documentation we need to use $ResourceLink.id.history but according to this ticket https://tracker.moodle.org/browse/MDL-63545 this variable doesn't implemented at Moodle core. What is the best approach to get information related with the course copy, from activities and resources if we can use that variable in Moodle? Thanks a lot for your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 22, 2024, 12:20 AM",
          "AuthorName": "Daniel Fandino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6288658&course=5",
          "role": [
            "Picture of Daniel Fandino"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How we can get ResourceLink Id History info when copy a course",
          "Text": "I'm only seeing this post now but I have the same concerns. When copying assignments, its not possible to ensure the copy is a true copy if an LMS does not implement $ResourceLink.id.history substitution. IT seems everyone supports Context History, but why only Blackboard and D2L/Brightspace have done the Resource Link history is beyond me. This seems like a major oversight.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 5:20 AM",
          "AuthorName": "Erik Donohoo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5944506&course=5",
          "role": [
            "Picture of Erik Donohoo"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How we can get ResourceLink Id History info when copy a course",
          "Text": "Thanks for the feedback both. Given most of Moodles LTI implimentation was done by the community there are some gaps but once the migration work we currently have on the cards is complete we will look at some issues like this. I'm not sure there is an existing tracker ticket but if not please feel free to create one.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2024, 3:10 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 465033,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465033",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Error \"Internal OIDC initiation server error\"",
          "Text": "Dear community, we are trying to create a link to another page using the External Tool activity. We have received the necessary parameters (Tool URL , Login URL, JWKS URL and Redirect URL), which I have stored in the activity. Unfortunately, when I call up the link I get this error message: \"Internal OIDC initiation server error\" Does anyone know this error message and how to fix it? This is the first time we have done something like this, which is why we are a bit inexperienced here - I would be very grateful for any kind of help. Best regards, Katrin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 7, 2025, 10:32 PM",
          "AuthorName": "Katrin Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6908255&course=5",
          "role": [
            "Picture of Katrin Lee"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error \"Internal OIDC initiation server error\"",
          "Text": "Hi Katrin, First, before using a tool (i.e. before you can create any links), you need to setup the tool registration, which is done via: Site Admin > Plugins > External tool > Manage tools. You'll need to set the LTI version to 1.3 and enter the data you've got. Once you save that tool configuration, you'll see the tool listed on the page, and you can click an icon to \"view configuration details\". This information (Platform ID, Client ID, Deployment ID, Keyset URL, Auth request URL and Access token URL) then needs to be entered in the tool site to complete the registration. The tool vendor will be able to tell you how you'd do that. Once that's done, you'll have a valid registration. You can't do this without Site admin access with LTI 1.3, unlike with 1.1, where you could configure it solely inside a course. Once you've done that, you can go to the the course and use the tool to create links (which might be achieved via deep linking). The tool vendor would have more information on how they want you to create links. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 8, 2025, 11:04 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error \"Internal OIDC initiation server error\"",
          "Text": "Dear Jake, Thank you very much for your input, it really helped me! With your help we got the tool up and running and the connection is established.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 8, 2025, 4:55 PM",
          "AuthorName": "Katrin Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6908255&course=5",
          "role": [
            "Picture of Katrin Lee"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error \"Internal OIDC initiation server error\"",
          "Text": "Glad to hear that, Katrin! All the best Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 9, 2025, 9:08 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450941,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450941",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle missing_registration_token error",
          "Text": "Hi, I am trying to connect Moodle with a Laravel tool using Celtic LTI . I managed to debug most of the issues, but now I am stuck again. When I register the tool manually, I have no way to set the Consumer Key in Moodle. Sadly, this key is required as I am sending back scores from my website to Moodle. I thought that maybe using the Add LTI Advantage button instead would solve this issue. This however does not work. I pinpointed the issue to a call the following endpoint: https://[otherdomain].com/mod/lti/openid-registration.php ceLTIc\\LTI\\Http\\HttpMessage {#2655 ▼ // vendor/celtic/lti/src/Tool.php:950 +ok: false +request: \"{\"application_type\":\"web\",\"client_name\":\"Unnamed tool\",\"response_types\":[\"id_token\"],\"grant_types\":[\"implicit\",\"client_credentials\"], \"initiate_login_uri\":\"https:\\/\\/[ domain ].vip\\/lti\",\"redirect_uris\":[\"https:\\/\\/[domain].vip\\/lti\"], \"jwks_uri\":\"https:\\/\\/[domain].vip\\/jwks\",\"token_endpoint_auth_method\":\"private_key_jwt\", As you can see, I receive back a 401 with response: \"missing_registration_token\". I do not know what I am missing here. Where should I fill in this registration_token? Is this in Moodle or somewhere else? If in Moodle, can you point what I have to fill in where? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 28, 2023, 12:31 AM",
          "AuthorName": "E Schoofs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5728551&course=5",
          "role": [
            "Picture of E Schoofs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle missing_registration_token error",
          "Text": "Hi, I think there are a few things which need unpacking here: LTI 1.3 and LTI Advantage does not use consumer keys. The consumer key is an LTI 1.1 concept (which is based on OAuth1.0), and LTI 1.1 has been deprecated and unsupported for a long while now. Any new tools should be built using LTI 1.3 (OAuth2.0+OIDC). I'm not familiar with that particular library, so I don't know what LTI version it supports. \" When I register the tool manually, I have no way to set the Consumer Key in Moodle. \" Assuming you're creating a 1.1 tool in Moodle, there is a consumer key field on the tool details form (as is there a shared secret field). If you're trying to register the tool using LTI 1.3 and it's a 1.1 tool, this isn't going to work. You need to stick to the version that the tool is using. \"I thought that maybe using the Add LTI Advantage button instead would solve this issue.\" The Add LTI Advantage button is only used when you're creating an LTI 1.3 tool registration using Dynamic Registration (and optional LTI 1.3 specification). If your tool is a 1.1 tool, then you'll need to configure it manually. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 28, 2023, 10:44 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 378479,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=378479",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Returning Grade From LTI Provider Tool",
          "Text": "Can anyone help in verifying if the raw body of the request is right or not ? <? xml version = \"1.0\" encoding = \"UTF-8\"?> <imsx_POXEnvelopeRequest xmlns = \" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXRequestHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>5be973b4701e8</imsx_messageIdentifier> </imsx_POXRequestHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <replaceResultRequest> <resultRecord> <sourcedGUID> <sourcedId>{\"data\":{\"instanceid\":\"12\",\"userid\":\"2\",\"typeid\":\"9\",\"launchid\":2114571173},\"hash\":\"8ba9b9024d44afed5dd750530c875ded19405cbfe0ec27e42d503f744ebba1ad\"}</sourcedId> </sourcedGUID> <result> <resultScore> <language>en-US</language> <textString>1</textString> </resultScore> </result> </resultRecord> </replaceResultRequest> </imsx_POXBody> </imsx_POXEnvelopeRequest>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 12, 2018, 11:03 PM",
          "AuthorName": "Tuhin Sharma",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2551034&course=5",
          "role": [
            "Picture of Tuhin Sharma"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 350213,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350213",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Highest / Average / First / Last Grade for External Tool",
          "Text": "Hi, I am on Moodle 3.1 and have configured the external tool activity to connect to an LTI provider, Maple T.A. 10.  We successfully accept grades from the provider. Every time a student attempts the external tool, the grade is updated in the Moodle gradebook. I would say this is like \"Latest Grade\" setting in Moodle Quizzes. My question is whether one can keep track of  the highest / average / first / last grades of the external tool activity in the gradebook, just like Moodle Quizzes, hopefully by configuring the Moodle side. I note that the history of external tool attempts is stored in both the provider and Moodle. On Moodle side, you can view it in \"Grade History.\" A post which seems related: LTI Submission attempts sorting chronologically in gradebook and submission report https://moodle.org/mod/forum/discuss.php?d=271378",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 2, 2017, 3:15 PM",
          "AuthorName": "Saburo Higuchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=137045&course=5",
          "role": [
            "Picture of Saburo Higuchi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Highest / Average / First / Last Grade for External Tool",
          "Text": "Hi Saburo, Unfortunately the scoring of the students is the responsibility of the LTI provider, not the consumer. LTI only supports sending of one grade. In moodle the quiz module itself manages what grade it sends to the gradebook, and along these lines the tool is responsible for what grade it sends to Moodle. Maple T.A 10 will need to collate the grades and calculate the highest/average/first/last grade before it sends them to Moodle. Do you have a support channel for that tool? You may be able to follow it up with them http://www.maplesoft.com/support/ In the draft outcomes 2 specification multiple grades can be sent but that's more for separate grading items, not attempts. There is a chance it will be possible, so you may want to vote here: https://tracker.moodle.org/browse/MDL-51480 . But of course this will require that your provider also supports outcomes 2 (which is not yet released) Hope this helps, and sorry that we can't solve your problem in moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 4, 2017, 9:50 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Highest / Average / First / Last Grade for External Tool",
          "Text": "Hi John, Thank you for you response. Following your suggestion, we inquired a reseller of Maple T.A. and were told  that the newest version, Maple T.A. 2016.1,  can be configured to return the Highest / Average / Last grade via LTI. We plan to upgrade because this satisfies our demand. Although the upgrade would solve our problem completely,  I imagine an alternative design of Moodle External Tool module, the LTI consumer. Assume that there is only one grading item on an LTI provider.  Students use the external tool repeatedly, say, once a day. The external tool module, if appropriately designed, could record the last grade returned, a single integer, in its own database table every time a student attempts the tool. Then the module could calculate the Highest / Average / Last or some statistical quantity from the table entries  and send it  to the Moodle gradebook, just like the Quiz module does. This could add more flexibility for the case where the LTI provider only returns the last grade.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2017, 6:54 AM",
          "AuthorName": "Saburo Higuchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=137045&course=5",
          "role": [
            "Picture of Saburo Higuchi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 346413,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=346413",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI v1 Consumer outputs XML File instead of the shared course",
          "Text": "Hi, I got a problem with my LTI test site. I have a local instance of moodle 3.2 that has a shared course with the following tool url (v1): http://127.0.0.1:8080/enrol/lti/cartridge.php/1/469e3d601590c1c7f6b6171ef18d86de/cartridge.xml In my second instance of moodle (2.9) I included a external LTI tool with the given URL and secret. When I open this shared course I get nothing but the output of the cartridge. xml file. The request parameters look like this: resource_link_title: LTI v1 resource_link_description: user_id: 2 lis_person_sourcedid: roles: Instructor,urn:lti:sysrole:ims/lis/Administrator,urn:lti:instrole:ims/lis/Administrator context_id: 2 context_label: consumer course context_title: Consumer Course resource_link_id: 2 context_type: CourseSection lis_course_section_sourcedid: lis_result_sourcedid: {\"data\":{\"instanceid\":\"2\",\"userid\":\"2\",\"typeid\":\"2\",\"launchid\":695106945},\"hash\":\"ffc23cf6725b22e4e28a7c6cc170540eb06c0eecb310e8f65e1ac3118a0233e3\"} lis_outcome_service_url: http://127.0.0.1:8090/mod/lti/service.php lis_person_name_given: Admin lis_person_name_family: User lis_person_name_full: Admin User ext_user_username: admin lis_person_contact_email_primary: starhorst@googlemail.com launch_presentation_locale: en ext_lms: moodle-2 tool_consumer_info_product_family_code: moodle tool_consumer_info_version: 2015051108.01 oauth_callback: about:blank lti_version: LTI-1p0 lti_message_type: basic-lti-launch-request tool_consumer_instance_guid: 127.0.0.1 tool_consumer_instance_name: Moodle Consumer launch_presentation_document_target: iframe launch_presentation_return_url: http://127.0.0.1:8090/mod/lti/return.php?course=2&launch_container=3&instanceid=2&sesskey=WtUQJqBvKn Can someone please give me a hint what I'm doing wrong? Best regards Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 25, 2017, 9:23 PM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI v1 Consumer outputs XML File instead of the shared course",
          "Text": "Small update: When I use a moodle 3.2.1 instance as LTI v1 consumer I get this error: Error reading file \" http://127.0.0.1:8080/enrol/lti/cartridge.php/1/469e3d601590c1c7f6b6171ef18d86de/cartridge.xml \" The xml looks like this: https://gist.github.com/anonymous/8d4e4d6cf8929c66bd41360e639c1212",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 25, 2017, 11:15 PM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI v1 Consumer outputs XML File instead of the shared course",
          "Text": "Update: works now. Fixed it by using the \"launch_url\" given in the xml. Also had to set a \"consumer key\" on the lti tool consumer site. Without the consumer does not generate the oauth_secret.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 26, 2017, 8:28 PM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI v1 Consumer outputs XML File instead of the shared course",
          "Text": "Yep that's exactly right. Glad you found a solution Michael. Here's an issue to add back the launch URL https://tracker.moodle.org/browse/MDL-57741 you may want to vote for. In moodle 3.1 onwards the cartridges ( XML ) are supported directly",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 27, 2017, 9:13 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI v1 Consumer outputs XML File instead of the shared course",
          "Text": "Hi Michael Berhorst , In Moodle through LTI integration Do you have any idea about how to Clone the master course and send the user to his private cloned course. Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 30, 2017, 9:43 PM",
          "AuthorName": "ItsMe Rajan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2339915&course=5",
          "role": [
            "Picture of ItsMe Rajan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 353296,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=353296",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Moodle and Canvas grade Passback",
          "Text": "Hi, I am using the LTI Provider in Moodle2.9 to integrate with Canvas LMS. Successfull authentication is happening and users are able to take quiz activity in Moodle. But grades are not passing back to Canvas, I am getting \" Error while processing content unencoding: invalid block \" when cron is executed. Please help me out in finding the cause of the issue. Thank You..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 1, 2017, 2:29 PM",
          "AuthorName": "Niranjan eAbyas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1296953&course=5",
          "role": [
            "Picture of Niranjan eAbyas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Are you in a position where you can upgrade? I believe moodle 3.1's provider is working with canvas. There are reports of it not working again in 3.2 onwards. If you are able to help out at all with more information, especially for the moodle core provider that's appreciated. The issue is here https://tracker.moodle.org/browse/MDL-57703",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 1, 2017, 5:10 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Hi John, Thank you for the reply. What information do you need regarding the issue that I am facing ? Regards, Niranjan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 1, 2017, 10:27 PM",
          "AuthorName": "Niranjan eAbyas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1296953&course=5",
          "role": [
            "Picture of Niranjan eAbyas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "I'm more interested in problems with more recent versions of moodle as we are no longer supporting the plugin. If you can't upgrade, I can suggest that you try using your moodle tool in http://lti.tools/test/tc.php and see if it works. Then try using http://lti.tools/test/tp.php in canvas and see if that works. Then you'll know for sure whether it's the moodle plugin or canvas at fault. Unless of course both work, in which case both are at fault I suppose.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 2, 2017, 9:29 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Hi john, Thank you for sharing the information. I checked with tc.php and everthing is fine. I am not sure how to check the tp.php in canvas. Can you please help me on how we can test the http://lti.tools/test/tp.php it would be more helpful it you can share any document also. Regards, Niranjan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 5, 2017, 4:34 PM",
          "AuthorName": "Niranjan eAbyas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1296953&course=5",
          "role": [
            "Picture of Niranjan eAbyas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Just copy http://lti.tools/test/tp.php into canvas where you normally put the moodle URL . Except set it to LTI 2 Registration URL instead of XML Key is 12345 Secret is secret",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 6, 2017, 8:56 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Hi John, Thank You. I don't find the LTI 2 option in our Canvas instance. We just have the \"Manual Entry\", \"URL\", \"Paste LMS\" and where should I submit the grades to the assessment and see if it passed back to Canvas. Another thing that we observed is that the values \"lis_result_sourcedid\" and \"lis_outcome_service_url\" are not passing to the Moodle. Will it be any cause for grades not passing back ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 21, 2017, 1:00 AM",
          "AuthorName": "Niranjan eAbyas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1296953&course=5",
          "role": [
            "Picture of Niranjan eAbyas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Try URL or manual entry. You may have found the cause with those missing values. Perhaps the LTI instance is not quite configured the best in canvas or they don't support grades. We can find out as we test with the test tool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 21, 2017, 8:45 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle and Canvas grade Passback",
          "Text": "Hi John I am able to fix it. Issue was with the timezone and time.  Time difference between the Canvas and Moodle server should not be more than 5min. If you want to increase, please change below lines, protected $timestamp_threshold = 300; // in seconds, five minutes -- line number--->447 in local/ltiprovider/lms-blti/OAuth.php. Thank You..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 18, 2017, 8:34 PM",
          "AuthorName": "Niranjan eAbyas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1296953&course=5",
          "role": [
            "Picture of Niranjan eAbyas"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 395660,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395660",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Error attempting to manage tools",
          "Text": "I am  running a test installation of Moodle (3.8+) to help with developing an LTI 1.3 tool. When I go to Site Admin: Plugins: External Tool: Manage tools, I get an error \"invalid response detected\". With debugging turned on, the stack trace shows \"Missing following required key in a single structure: platformid\" I'm not sure if I missed some step in setting up my Moodle, or what. Anyone have any ideas? I suspect this may be interfering in working with the LTI tools I am trying to set up.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 13, 2020, 6:45 AM",
          "AuthorName": "Jim Davis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2710999&course=5",
          "role": [
            "Picture of Jim Davis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error attempting to manage tools",
          "Text": "The error is occuring here: https://[my moodle URL ]/lib/ ajax /service.php?sesskey=KsCQ0lMiU5&info=mod_lti_get_tool_proxies A prior call to /lib/ajax/service.php?sesskey=KsCQ0lMiU5&info=mod_lti_get_tool_types returns the current external tools, which do have a platform id.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 15, 2020, 6:42 AM",
          "AuthorName": "Jim Davis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2710999&course=5",
          "role": [
            "Picture of Jim Davis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error attempting to manage tools",
          "Text": "I think the error was related to having upgraded a Moodle 2.x installation. Doing a completely new installation has eliminated the error, though the old LTI 1.0 tool info will need to be re-entered.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 15, 2020, 8:14 AM",
          "AuthorName": "Jim Davis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2710999&course=5",
          "role": [
            "Picture of Jim Davis"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 427910,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427910",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Enabling LTI Advantage for Multiple Courses",
          "Text": "IF I configure an LTI 1.3 tool on my moodle instance for a specific course, is it possible to then expand that configuration to additional courses or at the system level? Or would you need to \"DELETE\" the course configuration of the LTI 1.3 tool and then \"re-install\" at the system level? I know you can add LTI 1.1 tools to specific courses via key/secret but wasn't sure about LTI 1.3 Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 12, 2021, 10:21 AM",
          "AuthorName": "DREW HAMMERBECK",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4355561&course=5",
          "role": [
            "Picture of DREW HAMMERBECK"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Enabling LTI Advantage for Multiple Courses",
          "Text": "Hi Drew, There isn't currently a way to expand this course-level definition out to a wider selection of courses. You would need to do like you say and remove the definition, and recreate at the site level but this will mean a new deployment id, so be mindful of that also. MDL-69489 also might be of use. This hasn't landed yet but deals with course-category level tool restrictions. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2021, 1:23 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452512,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452512",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI integration",
          "Text": "I have recently integrated the McGraw Hill Aleks math program in some of our courses. The problem being is the gradebook synchronization is working but the content  LTI authentication to Aleks fails. A series of arguments are retuned eventually  after sending back a redirect an invalid request error is returned. McGraw Hill Aleks has been working on this also but to no avail? We have gone over all Moodle LTI settings also. Have any of you experienced this with your Moodle installs? As I said the gradebook synchronization is working fine?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 14, 2023, 3:52 AM",
          "AuthorName": "Sonny Herrick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4019144&course=5",
          "role": [
            "Picture of Sonny Herrick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI integration",
          "Text": "Hi Sonny, Can you expand on \"but the content LTI authentication to Aleks fails\"? I'm not sure what that means. If you can explain what you're doing, and where the process fails, that would be great. Also, if you could attach a HAR file (browser network trace log) that would also potentially be helpful. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 14, 2023, 9:26 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI integration",
          "Text": "This may be important, we host our own Moodle site. As I stated the grades from the McGraw Hill ALEKS LMS will synchronize and load to our Moodle gradebook but content will not. Content is the actual links to content on the M.H. ALEKS LMS. to populate the Moodle course to eliminate students going to an external LMS. Below is the information ( logs provided by the McGraw Hill engineers) I have received from McGraw Hill maybe there is something in this. \" These are the arguments we received from the request from the LMS when they clicked on the link to open the assignment popup: \n```text\narg.iss(\nhttps://\nOUR SITE)\n\n\narg.target_link_uri(\nhttps://secure.aleks.com/ltia\n)\n\n\narg.login_hint(3313)\n\n\narg.lti_message_hint(0)\n\n\narg.client_id(aVLgfQz586sswrC)\n\n\narg.lti_deployment_id(11)\n```\n .. and then we return with a redirect to the following URL (back to the LMS): https://OUR SITE/mod/lti/auth.php?response_type=id_token&redirect_uri=https%3A%2F%2Fsecure%2Ealeks%2Ecom%2Fltia&response_mode=form_post&client_id=aVLgfQz586sswrC&scope=openid&state=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9%2EeyJleHAiOjE2OTU2NzQ1MDUsInN0YXRlX2lzcyI6Imh0dHBzOi8vb25saW5lLnN3Y29sbGVnZS5lZHUiLCJzdGF0ZV9jbGllbnRfaWQiOiJhVkxnZlF6NTg2c3N3ckMiLCJzdGF0ZV9ub25jZSI6ImZiYWJiZTAwODMxY2Q2MDVlNTJmOTQ2MDg1OTg1ZjBlOWViMzgzNjUiLCJqdGkiOiJhNDVkMTY2M2JlZmNjMDBmNGU1Njc0MzcxM2YxOGU5OTQ2Njk3YTUxIiwiaWF0IjoxNjk1NjcwNzg1fQ%2EJHSoNJFOsLhVqrwIbo8rLqIQMUlmstnyjAgdEbZbWInIHrfFGVyu2BHCwo%5Fn4EWck9LfHpN5IZ%5F3IaNjlX8sMWP2ilf39pBJH2y4LtiGE8VWktUxygtIdfNp7fZaPK%2Dzx23pIIA6umiflEiWe5xlQZ7IhWogRK2jZb2EfR8Kkx7CuVHCMrR4gvARU8jo2iKIZxZUVQ%2DKVX4rSEDK8JQv1ucT8tMzBPUH%5FQIMs%5FljP325E38VRIgAUTgkSv%5FNHSHTkfJE1CWr8Gi4rfR%2DK7xt2kupVejte68aXPVgXWFhP9TMrVc2%5Fklf9o7qR4ZvLm6By%5F49v2fEq7KJor%5FAGKXlwg&login_hint=3313&lti_message_hint=0&prompt=none&nonce=fbabbe00831cd605e52f946085985f0e9eb38365 Then, the LMS sends the 2 nd request with those arguments: \n```text\narg.error(invalid_request)\n\n\narg.state(eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2OTU2NzQ1MDUsInN)\n```\n So, we received this `invalid_request` error argument after sending back the redirect url above. \"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 14, 2023, 11:28 PM",
          "AuthorName": "Sonny Herrick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4019144&course=5",
          "role": [
            "Picture of Sonny Herrick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI integration",
          "Text": "Hi Sonny, That value of lti_message_hint looks incorrect and isn't what Moodle sends. That must be a JSON string otherwise launches (deep link or otherwise) will fail. I'd suggest looking into why that's being reported as a 0 on the tool system. We certainly don't send 0 during the login initiation request, as you can see in the code here: https://github.com/moodle/moodle/blob/26d0ac156eb346a9409b7e0c3dd3d7703c3a104d/mod/lti/locallib.php#L3660 Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 15, 2023, 9:20 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 433995,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433995",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 OpenSSL Error in Windows",
          "Text": "We are trying to add an LTI 1.3 tool from an external provider and they have given us instructions and a custom URL to setup on the Plugins -> Activity Modules -> External Tools -> Manage Tools page.  When we try to add the tool we receive an error saying \"Exception - OpenSSL unable to sign data\".  When looking at the PHP log, we see the lines below: PHP Warning:  openssl_sign(): supplied key param cannot be coerced into a private key in C:\\inetpub\\ wwwroot \\moodle\\lib\\php-jwt\\src\\JWT.php on line 209 Default exception handler: Exception - OpenSSL unable to sign data Debug: Error code: generalexceptionmessage * line 211 of \\lib\\php-jwt\\src\\JWT.php: DomainException thrown * line 180 of \\lib\\php-jwt\\src\\JWT.php: call to Firebase\\JWT\\JWT::sign() * line 74 of \\mod\\lti\\startltiadvregistration.php: call to Firebase\\JWT\\JWT::encode() For some backgroup, we're running Moodle on: OS: Windows Server 2012 R2 Web server: IIS 8 Moodle Version: 3.11.4 PHP Version: 7.4.27 I've added $CFG->opensslcnf = 'C:/PHP/extras/ssl/openssl.cnf'; to the config.php file, but I'm not 100% sure what the correct syntax is for the path since I've seen it a few different ways.  I've also set an Environment Variable in Windows for OPENSSL_CONF to C:\\PHP\\extras\\ssl\\openssl.cnf, and made sure the openssl.dll PHP extension is enabled.  Beyond that, I'm not sure what else to try. Any help or suggestions would be much appreciated.  Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 4:07 AM",
          "AuthorName": "Reed Sorensen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2164183&course=5",
          "role": [
            "Picture of Reed Sorensen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 OpenSSL Error in Windows",
          "Text": "Hi Reed, I'm no expert on Windows Server setup steps for OpenSSL/Moodle, so I can't comment on that. What I do know and can comment about is how the External Tool module works. First things first: Are you sure the tool supports Dynamic Registration? That field on manage tools is exclusively for use with that specification. If the tool gave you a registration URL, then we're ok. If not, and they gave you instructions on how to setup up manually, then you need to be using the \"Configure a tool manually\" link. So that's the first thing to check and be sure about. Next, we need to openssl conf to be correctly configured in order to generate a private key for use with LTI signing. Currently, this happens in two places: During install/upgrade of a Moodle site (a notice will be thrown if the key couldn't be generated using openssl) When manually configuring a tool As far as I know, we don't try to generate a key when using dynamic registration, and that could be what's tripping you up (and perhaps also needs a fix). Can you please check (but don't post here!) that you have a private key in the mdl_config_plugins table? You can check by running this SQL : \n```text\nSELECT * FROM mdl_config_plugins WHERE plugin = 'mod_lti' AND name = 'privatekey';\n```\n Substituting mdl_ with your DB prefix of course. If you see no records, then that's likely the issue here. Let me know how you go. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 9:57 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 OpenSSL Error in Windows",
          "Text": "Thanks for tips Jake. The instructions they provided to setup the tool only say to enter the URL they provided and click the Add LTI Advantage button, so I'm thinking it is setup for dynamic registration. Running that SQL query did indeed return no results, so I hope that means we're onto something. A couple questions: 1. Do I need to configure openssl.cnf in any way? 2. How would I go about creating a private key? Would upgrading from 3.11.4 to 3.11.5 for instance cause one to be generated? 3. Is there a way to confirm that Moodle can find openssl.cnf to make sure I have the syntax to the file path correct in config.php? I've seen the syntax of the file path a few different ways, but no way to verify which one is correct. I've seen different slashes used: C:\\PHP\\extras\\ssl\\openssl.cnf, C:/PHP/extras/ssl/openssl.cnf, C:\\PHP\\extras\\ssl/openssl.cnf, and C:\\\\PHP\\\\extras\\\\ssl\\\\openssl.cnf. Once again, thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2022, 9:35 PM",
          "AuthorName": "Reed Sorensen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2164183&course=5",
          "role": [
            "Picture of Reed Sorensen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 OpenSSL Error in Windows",
          "Text": "Hi Reed, I'm not 100% sure on the config file requirements for windows. You won't hit that code as part of the upgrade, since that was a step run way back in 3.6.x (IIRC). There is a workaround for your case though. Given Moodle can't generate a key for us during dynamic registration (yet), we'll just hit the manual registration code with a dummy entry, triggering the key generation. Try the following: Go to the manage tools page Click the \"Configure a tool manually\" link Enter a tool name \"Dummy\" Enter a tool URL \" http://google.com \" Change the \"LTI version\" to \"LTI 1.3\" Save This part can go one of 2 ways: If the form saved without any errors, you should be ok. Run your SQL again to check the existence of the key. It should be there. If you see a validation message like \"LTI 1.3 requires a valid openssl.cnf to be configured and\navailable to your web server. Please contact the site administrator to\nconfigure and enable openssl for this site.\" it means your openssl config is not quite right yet and you'll need to fix that and re-run the process again. Once you're done, delete the dummy tool entry from the manage tools page. You now have a stored private key and can use the dynamic registration URL without issue. The above process will confirm the openssl.cnf is configured properly and available to the webserver. If it's not, you'll keep seeing the validation error. I'm going to create an issue in tracker to deal with automatically detecting + fixing this in the dynamic registration workflow, just as we do here for manual. See MDL-74604 which deals with adding this necessary check. Hope that helps! Cheers Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2022, 10:57 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 OpenSSL Error in Windows",
          "Text": "Thank you so much for the assistance and for creating the issue in tracker! Your instructions worked like a charm. Creating the dummy manual external tool did create a private key as confirmed by running the SQL query. I then deleted the dummy external tool and was able to add the real tool by entering the URL and clicking Add LTI Advantage. In case someone else stumbles across this, I did not need to make any edits to openssl.cnf. In config.php I used the syntax $CFG->opensslcnf = 'C:\\PHP\\extras\\ssl\\openssl.cnf';.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 30, 2022, 12:06 AM",
          "AuthorName": "Reed Sorensen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2164183&course=5",
          "role": [
            "Picture of Reed Sorensen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 316546,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=316546",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Outcomes not working on links created in a version previous that 2.8 (when upgraded)",
          "Text": "I created an issue for this https://tracker.moodle.org/browse/MDL-50808 but as a brief summary. If an LTI link is created in a version previous to Moodle 2.8 (lets say 2.5) configured to receive grades and used, the reference to the gradebook created at that point does not work if the server is upgraded. When using the reference (lis_resource_sourcedid) stored by the Tool Provider, Moodle responds with a 404 error. There should be backward compatibility, and my guess is that the bug is in the form the sourcedId is validated when the replaceResult request is received, but it may also be in the reference to the item in the gradebook, so the script for upgrading would be the culpit (this I don't know, I am not that familiar with the internal code). Anyways, the workaround found is to ask students to use the link again. that seems to be rebuilding the reference along with the new ID used as lis_result_sourcedid. JF",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 10, 2015, 1:52 AM",
          "AuthorName": "Jesus Federico",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370546&course=5",
          "role": [
            "Picture of Jesus Federico",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Outcomes not working on links created in a version previous that 2.8 (when upgraded)",
          "Text": "Are you sure that this is an issue between 2.8 and previous versions of Moodle?  Inspecting the code suggests to me that the only recent change to the way the lis_result_sourcedid parameter value is generated was in Moodle 2.6.  Do you know if this issue arises when, for example, upgrading from 2.7 to 2.8?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 10, 2015, 2:31 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Outcomes not working on links created in a version previous that 2.8 (when upgraded)",
          "Text": "Hi Stephen, No, I did not tried from 2.7 to 2.8 because the case I got reported was specifically from 2.5 to 2.8. In the case I was working on (which is closed on our end)  there is no much we can do since the migration is already done, however I can help out narrowing the problem down if needed. I reproduced what the users had in production by a. installing a new 2.5, b. adding and using LTI links, c. migrating to 2.8 d. and finally trying to execute a repplaceResult What I could do is to try the same from 2.7 to 2.8 and 2.5 to 2.6 In what version the \"typeid\" was added to the sourcedId string? Is that the change you mean?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 10, 2015, 11:30 PM",
          "AuthorName": "Jesus Federico",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370546&course=5",
          "role": [
            "Picture of Jesus Federico",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Outcomes not working on links created in a version previous that 2.8 (when upgraded)",
          "Text": "As I understand your post, you are suggesting that the lis_result_sourcedid changed after Moodle 2.5 which caused integrations to fail unless this value was refreshed,  If so, my review of the code suggests that the only change to this value occurred in 2.6 (with the addition of the typeid element) and so my conclusion was that this is probably not a 2.8 issue, but a more general issue of upgrading from a version of Moodle prior to 2.6.  However, if this were the case I would have expected it to be widely known and raised some time ago - before I got involved with this part of the code base.  Have you tried manually adding the typeid element to a sourcedid value after upgrading to see if this is the actual cause?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 11, 2015, 2:00 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352287,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352287",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 2 registration not working only on remote instance of Moodle",
          "Text": "So this is going to sound weird, but I have an app that I am writing and LTI integration for. I am try to get the LTI 2 registration to work for this app. I have it working great on my Moodle instances running on my localhost (both 3.2 and 3.3), however when I try to register my app on a test instance running in AWS (3.2) I get a 400 error and no other output. I have added the tool_profile.json that I am sending to the failing moodle instance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2017, 9:22 PM",
          "AuthorName": "Michael Robellard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2237154&course=5",
          "role": [
            "Picture of Michael Robellard"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 2 registration not working only on remote instance of Moodle",
          "Text": "Hi I think I know two problems that might be causing this: You will need to run your LTI app on a publically available server in order for the AWS instance to access it. Even if you yourself have access to your tool, this won't be enough because moodle needs to send some requests directly to get the tool profile etc. You will need to allow your AWS instance as an origin in your tool. This is because the AWS instance needs to include your tool. To do this (assuming your tool is php) add \n```text\nheader(\"Access-Control-Allow-Origin: \nwww.yourawsdomain.com\n\");\n```\n There should be similar ways to do this in other languages",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 15, 2017, 9:04 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2 registration not working only on remote instance of Moodle",
          "Text": "I am now trying to register the tool from a publicly accessible location and I tried add an Access-Control-Allow-Origin header and I am still getting a 400 when I send the tool profile to the registration url.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 19, 2017, 2:54 AM",
          "AuthorName": "Michael Robellard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2237154&course=5",
          "role": [
            "Picture of Michael Robellard"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2 registration not working only on remote instance of Moodle",
          "Text": "Figured it out! Had nothing to do with Running publicly or Access-Control-Allow-Origin It was Apache . Apache was stripping the Authorization Header coming into the server. In moodle toolproxy.php the response code was being set properly to 401 on line 74 \n```text\npublic function execute($response) {\n\n\n\n\n    $ok = $this->check_tool_proxy(null, $response->get_request_data());\n\n\n    if ($ok) {\n\n\n        $toolproxy = $this->get_service()->get_tool_proxy();\n\n\n    } else {\n\n\n        $toolproxy = null;\n\n\n        $response->set_code(401);\n```\n but then being changed to 400 later on \n```text\n       if (!empty($toolproxy)) {\n\n\n            if ($ok) {\n\n\n                // If all went OK accept the tool proxy.\n\n\n                $toolproxy->state = LTI_TOOL_PROXY_STATE_ACCEPTED;\n\n\n                $toolproxy->toolproxy = $response->get_request_data();\n\n\n                $toolproxy->secret = $toolproxyjson->security_contract->shared_secret;\n\n\n                $toolproxy->vendorcode = $toolproxyjson->tool_profile->product_instance->product_info->product_family->vendor->code;\n\n\n\n\n                $url = $this->get_endpoint();\n\n\n                $body = <<< EOD\n\n\n{\n\n\n  \"@\ncontext\n\" : \"\nhttp://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\n\",\n\n\n  \"@type\" : \"ToolProxy\",\n\n\n  \"@id\" : \"{$url}\",\n\n\n  \"tool_proxy_guid\" : \"{$toolproxy->guid}\"\n\n\n}\n\n\nEOD;\n\n\n                $response->set_code(201);\n\n\n                $response->set_content_type('application/vnd.ims.lti.v2.toolproxy.id+json');\n\n\n                $response->set_body($body);\n\n\n            } else {\n\n\n                // Otherwise reject the tool proxy.\n\n\n                $toolproxy->state = LTI_TOOL_PROXY_STATE_REJECTED;\n\n\n                $response->set_code(400);\n\n\n            }\n\n\n            lti_update_tool_proxy($toolproxy);\n\n\n        } else {\n\n\n            $response->set_code(400);\n\n\n        }\n```\n I think if someone puts a return after the set_code(401) It should start returning a 401 instead of a 400. The fix in apache was simple Just add: \n```text\nSetEnvIf Authorization \"(.*)\" HTTP_AUTHORIZATION=$1\n```\n to the Apache Configuration and problem solved",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 19, 2017, 4:36 AM",
          "AuthorName": "Michael Robellard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2237154&course=5",
          "role": [
            "Picture of Michael Robellard"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2 registration not working only on remote instance of Moodle",
          "Text": "Glad to hear it was solved, and thanks for sharing the solution",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 19, 2017, 8:58 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462984,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462984",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Dynamic registration API is giving error missing_registration_token",
          "Text": "Hi there. I am registering a tool using Dynamic Registration API. Registration endpoint I am calling is https://staging-moodle-4-3-3.companyname.com/mod/lti/openid-registration.php I am passing the registration token received from openid-configuration.php&registration_token=XXX But each time I am getting error as missing_registration_token I am passing registration token in header as follows in Rails. This same code works for canvas and Blackboard. But doesn't work for Moodle. Is it the case that staging site doesn't support dynamic registration or I am missing something? Thank you. \n```text\n  registration_response = HTTParty.post(registration_endpoint,\n\n\n                headers:{\n\n\n                  'Authorization' => \"Bearer #{registration_token}\",\n\n\n                  'Content-Type' => 'application/json'\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 17, 2024, 7:02 PM",
          "AuthorName": "Rahul Khedekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6883661&course=5",
          "role": [
            "Picture of Rahul Khedekar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Can you inspect the web traffic for that particular staging site? logs? Is some infrastructure stripping the Authorization header perhaps? The only reason you'd see that error is if Moodle can't read that header, but I can't guess as to why that would be. We test Moodle-to-Moodle dynamic registration often for various things and don't see an issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 18, 2024, 10:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Thank you for inputs. It turned out that Authorization header was getting stripped out. Git it fixed with help from infra team.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 5, 2024, 3:19 PM",
          "AuthorName": "Rahul Khedekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6883661&course=5",
          "role": [
            "Picture of Rahul Khedekar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Hi! I'd like to add here to devs like me that if you're hosting Moodle on your local environment, you'll get this error if you're not using localtunnel, ngrok or similar to run the code. Here's shortly about LocalTunnel by Gemini: \" LocalTunnel is a valuable tool for developers who need to expose their locally hosted web servers to the internet temporarily. It simplifies testing, collaboration, and sharing during the development process.\" And, yeah, you need to do that to avoid your authorisation header being stripped away. Other option is to rely on demo Moodle at https://sandbox.moodledemo.net/ Happy coding!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 4:17 AM",
          "AuthorName": "Heljä Hietala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7082701&course=5",
          "role": [
            "Picture of Heljä Hietala"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "...and further to this, I'll just add that ngrok is now paywalled (free version has a limited request number that will quickly be exceeded in an LTI-centric dev environment), and localtunnel is VERY slow (to the point of unusable at lot of the time) and often drops entirely. There are other tunneling options like Cloudflare that provide a much better experience.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 12:01 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Hello Jake, I am able to register key using dynamic registration. I am tying to set few parameters to the tool settings I want to set tool_configuration_usage to \"Show in activity chooser and a preconfigured tool\" option and default_launch_container to \"existing window\". In dynamic registration request I am sending these values :tool_configuration => { :tool_configuration_usage => \"show_in_activity_chooser_and_as_preconfigured_tool\", :tool_configuration_url => \"my url\", :default_launch_container => 2 } I also tried \"\"show_as_preconfigured_tool\" but these 2 values are not set correctly. I am not able to find a document about how to set these values. Can you please point to the document where I can set these settings. Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 1:46 PM",
          "AuthorName": "Rahul Khedekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6883661&course=5",
          "role": [
            "Picture of Rahul Khedekar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "The simple answer is that neither \"Tool configuration usage\" nor \"Default launch container\" are configurable via dynamic registration. The former is defaulted to \"Show as a preconfigured tool\" while the latter defaults to \"Embed, without blocks\". These must be changed after tool registration. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 2:05 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Thank you for the help. Can you please point to the document link for different options I can use dynamic registration request?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 3:44 PM",
          "AuthorName": "Rahul Khedekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6883661&course=5",
          "role": [
            "Picture of Rahul Khedekar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Hi Rahul, The specifics of dynamic registration aren't documented on developer docs, so your best bet is to check the codebase. See the registration_to_config()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 4:39 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic registration API is giving error missing_registration_token",
          "Text": "Thank you for sharing details. I will go through the code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 9:28 PM",
          "AuthorName": "Rahul Khedekar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6883661&course=5",
          "role": [
            "Picture of Rahul Khedekar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 356263,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356263",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "'Plugin disabled' next to Publish as LTI tool grade sync in Scheduled Tasks",
          "Text": "Dear Colleagues Passing grades back from Moodle (LTI Provider) to Sakai (Consumer) is working when I click 'Force send grades for all users' in LTI Provider / Grades synchronization report BUT when I try to set it up as a scheduled task in Site administration / Server / Scheduled tasks, I see 'Plugin disabled' in the 'Next run' column. I've checked the settings under Site administration / Plugins / Local plugins / LTI Provider and all looks good - how do I enable this plugin? Many thanks Damion",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 1, 2017, 10:34 PM",
          "AuthorName": "Damion Young",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2067208&course=5",
          "role": [
            "Picture of Damion Young"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 'Plugin disabled' next to Publish as LTI tool grade sync in Scheduled Tasks",
          "Text": "The LTI provider local plugin is now deprecated. What version of moodle are you using? If you are using 3.1 onwards, you should uninstall the LTI provider local plugin and enable the \"Share as LTI tool\" enrolment plugin and the \"LTI\" authentication plugin.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2017, 9:27 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 354412,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354412",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Result Data Extension",
          "Text": "Hello Moodler, We've been looking at getting details results back into moodle LMS through our LTI tool provider (Suppose one url to show result of that user)can moodle support something like resultData extension https://www.edu-apps.org/extensions/index.html https://www.edu-apps.org/extensions/result_data.html",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2017, 3:36 PM",
          "AuthorName": "Gautam Bishwas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=904614&course=5",
          "role": [
            "Picture of Gautam Bishwas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 364233,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=364233",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI does not work in embed mode. Works with new window",
          "Text": "I have setup 2 moodles to talk to each other using LTI (3.1 as provider and 3.4 as consumer). If the LTI course is set to open in a new window (on the consumer), everything is good.  a new window launches with the course on the provider platform. If I embed or embed without blocks, then the frame appears in the consumer moodle, but is always blank.  Frame embedding is switched on in both moodles. Any assistance appreciated...... Les",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 18, 2018, 5:39 PM",
          "AuthorName": "Leslie Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1780644&course=5",
          "role": [
            "Picture of Leslie Foster"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 396402,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396402",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 requires redirect URI to be registered?",
          "Text": "I want to allow instructors to use the same resource-specific URLs, as we have been doing for LTI 1.0,  with LTI 1.3. So that instructors would not need to change their course info in an institution moves from LTI 1.0/1.1 to LTI 1.3. Our tool would detect which version of LTI is being used, and behave accordingly. The resource-specific URLS look something like https://the_tool_domain.com/view/{resource code} However, it appears that Moodle requires any tool URLs to be registered at the admin level (as a redirect URI for the external tool) before a course can use the link. Is there a way around this? If I didn't want to care about backward compatibility, I would put the resource info in a custom parameter, and have one shared redirect URI, but I would like to minimize the work for instructors. For what it's worth, this doesn't seem to be a restriction with the IMS reference platform.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 30, 2020, 6:28 AM",
          "AuthorName": "Jim Davis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2710999&course=5",
          "role": [
            "Picture of Jim Davis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 430255,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430255",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Restrict site access after gaining access through LTI?",
          "Text": "Hi All, I've published an LTI test. With it the name and mailadres of the new LTI user becomes available in the LTI-publishing site. But. With it this user can also login to the LTI site and gains full user access? What strategy to use to limit access. Thanks, Hans",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 24, 2021, 2:12 AM",
          "AuthorName": "Hans B0s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=281831&course=5",
          "role": [
            "Picture of Hans B0s"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restrict site access after gaining access through LTI?",
          "Text": "Hi Hans, When you consume the published tool resource (the assignment or course or whatever), you should be able to decide whether to send PII such as names and emails. If this data is omitted during a launch, the Moodle tool provider won't have access to this and will create the user account using other information from the launch. The Moodle consumer, for example, contains checkboxes allowing the teacher to control whether this information is sent during launches or not. With regard to your query about site access: No, the users won't be able to log in to the site directly. The account is created for use with LTI launches only and, as such, must access the tool provider site via a resource link launch in the consumer/platform site. Hope that helps. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:28 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restrict site access after gaining access through LTI?",
          "Text": "Jake,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2022, 8:26 PM",
          "AuthorName": "Rodolfo Monterroso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4963641&course=5",
          "role": [
            "Picture of Rodolfo Monterroso"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restrict site access after gaining access through LTI?",
          "Text": "Hi Rodolfo, I believe the original LTI provider plugin did in fact have this feature but it was dropped when moving the code into core Moodle. My understanding of the way this feature was built is as follows: 1) It allowed you to configure whether or not the launching user (student or teacher), would be enrolled in the course on launch. This was called automatic enrollment. 2) If automatic enrollment was deselected (a checkbox), it would redirect to the course enrolment page, where the user could then enrol via some other (perhaps paid) means. ( See the old language string here ) There's also MDL-64762 , which references this feature. So, this isn't something we have in core Moodle, no. Perhaps others will have some ideas on how to best achieve what you're looking for. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 17, 2022, 3:06 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 454887,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454887",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Change the Shared Secret via SQL possible.",
          "Text": "Hello folks We're currently use WebWork and the shared secret for that previous application is \"123456\" We've upgraded WebWork to another server and want to change the existing shared secret from \"123456\" to say \"ABCDEF\" Can I just do an sql update and if so, what tables and fields are involved? or do we just do it one by one? could be hundreds for all I know. Which leads me to think.. is there an sql query I could use to output all LTI records? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 30, 2024, 7:17 AM",
          "AuthorName": "Jerry Lau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1324621&course=5",
          "role": [
            "Picture of Jerry Lau",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Change the Shared Secret via SQL possible.",
          "Text": "Hi Dave, It really depends on how you've configured the tools in Moodle. Historically, there have always been 2 ways: \"Instance\" vs \"Tool\" config. 1. Up until Moodle 4.3, we supported per-instance-config, meaning that any instance of the External tool activity could contain it's own local tool config within the activity settings - and that includes secrets. Basically, the tool is configured within the specific activity, not at a wider level. In such a case, the shared secret is stored in the 'password' field of the 'PREFIX_lti' table (your DB prefix will be a real value, not PREFIX, of course). 2. \"Tool\" config is the other way of configuring tools, where the tool is defined at either course or site level (not at the activity instance level). In this case, the relevant value is stored in a particular row of PREFIX_lti_types_config, where the 'typeid' = <the id of the respective PREFIX_lti_types record> and where 'name' = 'password'. Assuming you've configured the tools as in 2, you just need to find the tool configuration(s) and make the update there. If you've permitted tool use at a per-instance level, then it's more complicated as you'll need to update every relevant instance. I hope that gives you something to go on. I'm deliberately not providing any SQL here since that's not the approach I'd advocate. I'd always recommend updating these values through the application as there may be other logic at play that is skipped when dealing directly with the database .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 30, 2024, 12:50 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457510,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457510",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Grade Sync - 401 Unauthorized Error",
          "Text": "I have a learning tool that integrates with Moodle via LTI 1.3. The tool uses Assignments & Grades Services to post grades to Moodle when a learner completes an activity. While posting grades works without issue in the Moodle 4.1 Sandbox , we're experiencing an issue with a particular Moodle 4.1.5 instance. Payload : {userId: \"XXXXX\", scoreGiven: 2.0, scoreMaximum: 10.0, comment: \"\", timestamp: \"2024-04-11T00:09:43.192098\", activityProgress: \"Completed\", gradingProgress: \"FullyGraded\"} Response : {reason:\" Unauthorized \", request:{...}, status: 401 } We have ensured that the student for which grades are being posted is enrolled in the course. Any assistance or ideas on this would be greatly appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 2:01 AM",
          "AuthorName": "Sean Doyle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6144193&course=5",
          "role": [
            "Picture of Sean Doyle"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Sync - 401 Unauthorized Error",
          "Text": "Hi Sean, This kind of problem does come up on this forum from time to time. Unfortunately, that 401 masks a whole range of causes, and we don't have the debugging capabilities yet to be able to surface that nicely for troubleshooting. We definitely need that. See this response on another thread, which links to the code checks responsible for the 401. https://moodle.org/mod/forum/discuss.php?d=439687#p1769659 . The problem in that case was a missing authorization header, but that's not the only cause. If any of the checks fail (missing header, signature check failure), they can result in the 401, but we don't know which one caused it. Sorry that I can't point you right at the issue but hopefully that gives you one or two things to check.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 16, 2024, 9:39 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Sync - 401 Unauthorized Error",
          "Text": "Hi Jake, Thanks for your help, the solution you linked solved the issue for us (with a slight deviation). The LMS administrator let me know that they used CGIPassAuth , \"as a safer way to address the issue without modifying environment variables which may contain side effects\". Thanks again, Sean",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 20, 2024, 4:16 AM",
          "AuthorName": "Sean Doyle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6144193&course=5",
          "role": [
            "Picture of Sean Doyle"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Grade Sync - 401 Unauthorized Error",
          "Text": "Excellent! Hopefully the next person stumbles across this post and finds it useful. Glad you got it sorted.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 22, 2024, 9:25 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460357,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460357",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Barnes & Noble and Other Publishers' LTI 1.3 Tools",
          "Text": "Greetings! We set up the LTI Barnes & Noble [BNC] in late June for this Fall semester. So far things appear to be working with the course and roster sync. I have created the external tool on a test Moodle site at the instructor/teacher level, added some test student accounts, and the connection from Moodle to the BNC portal works fine. We have a few courses that are \"exempt\" from BNC this coming fall and one of those courses wishes to use Macmillan Learning. We have used Macmillan products as LTI 1.0/1.1 in the past when we were running Moode 3.x and Macmillian now has LTI 1.3 support. We are running Moodle 4.1.3 and plan on using Macmillan's 1.3 integration. The conflict concern, any potential of impacting Moodle's performance, and conflict of students/instructor accounts in Macmillan is with the following scenario - I have reached out to both BNC and Macmillian with the same question/concern. Fall 2024 Intro Psych course NOT using BNC - set up the Macmillian LTI 1.3 to sync grades and access publishers' content. This same professor will use the same textbook and the same Macmillian Learning services for the Spring 2025 BUT through Barnes & Noble. The Macmillan LTI 1.3 would not be used in Spring 2025 as all courses that are not exempt must use Barnes & Noble. Has anyone had the same type of scenario with Barnes & Noble and any other publisher's content that is not delivered through Barnes & Noble active at the same time? If so and if you could share your experiences that would be great ... and any other related comments are most welcomed! Thank you - Melanie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2024, 10:26 PM",
          "AuthorName": "Melanie Hoag",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16061&course=5",
          "role": [
            "Picture of Melanie Hoag"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 440219,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440219",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI implemantation on a personal LMS",
          "Text": "Good morning, I have a problem, i want to implement on my LMS (in c#) the LTI functionality so i can acces to all the tools from other websites. I have 0 knowledge on this subject, so i wanted to look up how moodle implements it but the code is very dense and i find it hard to follow. I don't know if someone knows a page or whatever that helps on implementing LTI on my LMS, or if theres another thread or forum where is explained how to incorporate the moodle one implemantation into mine. So far i found nothing, im just really lost and any help would be very appreciated :D",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 4, 2022, 9:01 PM",
          "AuthorName": "Unai Mendez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5262411&course=5",
          "role": [
            "Picture of Unai Mendez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI implemantation on a personal LMS",
          "Text": "Hi Unai, First up, I wouldn't recommend using the mod_lti code as an example of how to implement this in a platform. This code is quite difficult to follow and you'll likely just get bogged down with Moodle-specific detail. Secondly, only focus on LTI 1.3 and LTI advantage. The other specs have been deprecated for some time now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 7, 2022, 9:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI implemantation on a personal LMS",
          "Text": "Hi Jake, Thanks for confirming me to avoid the moodle code hahahahaha. I've been researching for two weeks now but i just found a very big lack of information and no help at all. Also Im new in the programation camp and my company just throwed this subject to me expecting to understand what to do (and i didnt even finished my degree yet) Anyway, I visited all ims webpages related to lti and well... it will be an interesting experience to put it in a way. Thanks again for your response, Hope u have a good day, Unai",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 7, 2022, 3:36 PM",
          "AuthorName": "Unai Mendez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5262411&course=5",
          "role": [
            "Picture of Unai Mendez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 427769,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427769",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Quiz - Short Answer Formatting lost when delivered as LTI",
          "Text": "Tested as an LTI provider: Moodle versions 3.9.6 plus 3.9. plus 3.11+ Tested as an LTI receiver: Moodle versions 3.9.6+ plus 3.10.4 Good afternoon all, After many hours of methodical and extensive testing, where we have tested with and without other plugins being installed so as to eliminate those as a possible causes, we believe we have revealed a bug. Here's what we've found. In brief, the moodle text editor is removed from the question answer box (essay question with response format set to 'HTML Editor' ) when the question is presented to the candidate. If the candidate manually formats their answer by inserting new lines for paragraphs e.t.c. and then submits their answer, the manual formatting is not saved in the moodle database . This makes it difficult for the markers of the question to read, and therefore is both time consuming and annoying which can result in standardisation errors in the manual marking. We set the question format to HTML Editor, because we want the candidates to be able to format their answers, but it doesn't seem possible. The problem only occurs when a combination of two moodle settings are applied. The quiz is delivered as an LTI activity The quiz has a 'duration' time set (i.e exam lasts 60 mins e.t.c.) If we switch off the quiz duration, the problem goes away, but the duration is important for our examination scenario. We believe this to be a bug in the core moodle that has not been raised by anyone else therefore we will raise it on Moodle Tracker , but first I'd welcome others from the community to follow our testing procedure to verify our diagnostic outcome. See the video below for an illustration of the problem. Follow this link. https://iframe.dacast.com/vod/5f4bb0c3721776f95d31843dbc2fcf72/4e2b5ea1-3f6a-e32c-0128-082164be2a8b",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 7, 2021, 10:21 PM",
          "AuthorName": "Peter Ward",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=31376&course=5",
          "role": [
            "Picture of Peter Ward"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Quiz - Short Answer Formatting lost when delivered as LTI",
          "Text": "Thanks for the detailed report, Peter. I'll be interested to see what others report on this behavior. Personally, I've been unable to replicate it locally, using master as both the provider and consumer and with the 'essay' question type (which I think is what you're using - not short answer as mentioned in the title of the post). Just a few follow up questions: How did you set up the quiz question - is it indeed essay? Are you able to replicate this on vanilla Moodle installs? Can you hit this problem in a normal browser session (i.e. not an incognito window)? Can you hit this in other browsers too? Ideally, I'd like to know we we can replicate this in a specific version of vanilla Moodle before we start creating tracker issues. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 8, 2021, 2:04 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz - Short Answer Formatting lost when delivered as LTI",
          "Text": "Hi Jake, Many thanks for your testing. Yes there is a typo in my title, I should have said ' Quiz - Essay Formatting lost when delivered as LTI' We have also reworked our testing process as a result of your findings Jake and can now confirm. The problem we reported does exist in Moodle latest LTS version 3.9.10 (vanilla) The problem does NOT exist in Moodle latest version 3.10.7 (vanilla) The problem does NOT exist in Moodle latest version 3.11.3+ (vanilla) The solution is therefore to upgrade. Thanks for your help Jake.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 11, 2021, 5:43 PM",
          "AuthorName": "Peter Ward",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=31376&course=5",
          "role": [
            "Picture of Peter Ward"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz - Short Answer Formatting lost when delivered as LTI",
          "Text": "Hi Peter, Thanks for the update. I'm glad you were able to pin down the problem to a specific version. Unfortunately, that branch is now in security-only support, so upgrade is indeed the best path here. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 12, 2021, 9:24 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 318682,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318682",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI provider plugin Moodle to Moodle",
          "Text": "Hi, in my institution we have two instances of Moodle and we would like to share the contents of created courses in one of the instances to the other one. Maybe I'm missing something, but I didn't find how to use this plugin in that purpose, please can someone tell me how to create or configure any web service or another feature in order to share contents between two Moodle instances? I will like to be able even to duplicate the content. BTW my version of Moodle is 2.8.6 and when we install the 2.7 (latest) branch of the plugin we had error messages like: Class 'textlib' has-been renamed for the autoloader and is now deprecated. Please use 'core_text' instead. line 102 of /lib/classes/component.php: call to debugging () line? of unknownfile: call to core_component :: classloader () line? of unknownfile: call to spl_autoload_call () line 105 of /local/ltiprovider/edit_form.php: call to class_exists () line 191 of /lib/formslib.php: call to edit_form-> definition () line 102 of /local/ltiprovider/edit.php: call to moodleform-> moodleform () Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 21, 2015, 10:51 PM",
          "AuthorName": "Paula Ardanza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1770946&course=5",
          "role": [
            "Picture of Paula Ardanza"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 453137,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453137",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Dynamic Registration failing (or no action)",
          "Text": "I'm working to setup a LTI provider and was testing the dynamic registration (which looked to be so simple!) based on the documentation at: https://docs.moodle.org/403/en/Publish_as_LTI_tool#Dynamic_Registration Site administration > Plugins > Authentication > Manage authentication and enable LTI (complete) Site administration > Plugins > Enrolments > Manage enrol plugins and enable 'Publish as LTI tool' (complete) Here's a quick video, both Moodle sites (Platform and Tool) are running Moodle 4.2: https://www.loom.com/share/ef89b06464f8445b855977633431cf03?sid=a2d87ebe-e1b1-490b-88a9-d9112c8b5d52 Instead of being able to activate, the page refreshes as if I did nothing. Did I miss something?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 1, 2023, 6:26 AM",
          "AuthorName": "Joseph Thibault",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=322584&course=5",
          "role": [
            "Picture of Joseph Thibault",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Dynamic Registration failing (or no action)",
          "Text": "Hi Joseph, You're doing everything right. What you should see after clicking \"Add LTI Advantage\" is the tool card listed on the page, at which point you'd activate it using the button on the card. In your example, it appears to be getting back to that point, but there's obviously no tool card listed. It's hard to know why the registration has failed (or even if it has), without seeing the network trace, server logs, debugging etc. Are you seeing the platform details updated in the tool site's registration, under the \"platform details\" tab? That's a quick way to check at least one thing. Another thing to note is that It's a one time use token in the registration URL , so it might also be worth trying a fresh app registration on the tool site (and a fresh dynamic registration URL and token in the process). If you can turn on debugging mode on the platform and capture network traces, that may also help track it down. Otherwise, we're left guessing at what the problem might be",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 5, 2023, 11:41 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic Registration failing (or no action)",
          "Text": "Jake (and anyone else in the future), the issue was that the server removed the authorization header from the http requests. It was resolved by adding a configuration through the .htaccess file in the Moodle directory, preventing that authorization header from being removed from requests.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 26, 2024, 11:56 PM",
          "AuthorName": "Joseph Thibault",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=322584&course=5",
          "role": [
            "Picture of Joseph Thibault",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 392288,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=392288",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "Third-party cookies and LTI",
          "Text": "Hi, I have two different versions of moodle running and I've noticed a different in behaviour when third-party cookies are disabled.  This is important because third-party tracking cookies are now blocked for all users\nby default in Firefox version 69.  This\nis also the default on Safari browsers, and Chrome are considering making this\nthe default setting in the future. When using moodle as a provided and embedding moodle quizzes into another VLE via LTI, on moodle 3.4.2 disabling third-party cookies has no detrimental effect.  Users can select the LTI link and moodle is nicely embedded in the consumer (Blackboard in my case). However, on moodle 3.7.2 if third-party cookies are disabled and the user selects an LTI link too moodle, LTI fails and they are bounced to the moodle login page.  The solution here is to set the LTI link to open in a new window, but that's not the behaviour I ideally want. There might be differences between my consumer VLE systems, but I can't think what that might be as both are the same version of software. Anyone else seeing odd behaviour when third-party cookies are disabled?  Any advice? Thanks, Stuart.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 15, 2019, 7:10 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Hello Stuart, Are you running both instances on the same site ( domain name)? If so there are some settings in Administration -> Server -> Session handling that may be helpful to distinguish them.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 20, 2019, 10:41 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Thanks Daniel.  I've tried a few things.  I've set the session cookie to be prefixed with something unique and tried again.  Same result.  I've tried accessing the LTI link using a Chrome incognito session where there should be no clash of cookie session data.  Same result. If I look in the browser console when third-party cookies are blocked and when using moodle version 3.7.2, for Chrome I see: Uncaught DOMException: Failed to read the 'localStorage' property from 'Window': Access is denied for this document. first.js:51 ...for Firefox I see: SecurityError: The operation is insecure. first.js:51 I note that the first.js files are different between moodle versions  3.4.2 and 3.7.2, although line 51 is identical.  When selecting LTI links which point to moodle version 3.4.2 I don't get any javascript errors in the console. So the issue is still a mystery.  What has changed between moodle versions 3.4.2 and 3.7.2 which prevent embedded LTI moodle sessions when third-party cookies are blocked?  Can anyone else reproduce this? Best wishes, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 22, 2019, 6:01 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "first.js is a combination file which is generated to load a lot of js modules used by plugins including third party ones. It is possible one of those is doing something it is not suppose to. What is on line 51?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 22, 2019, 11:12 PM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Chrome reports the error as line 51, column 100. Here: define('core/localstorage', [\"core/config\",\"core/storagewrapper\"],function(a,b){var c=new b(window. localStorage );return{get:function(a){return c.get(a)},set:function(a,b){return c.set(a,b)}}}); So it can't find the localStorage for the window when third-party cookies are blocked.  It's still unclear why this error isn't thrown in the earlier version of moodle I have. Best wishes, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2019, 12:10 AM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "It looks like core/storagewrapper was changed in 3.7 ( MDL-64835 ) to address some caching problem. Which theme are you using? It seems a little odd to me that js would be causing a login issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2019, 3:55 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Hi Daniel,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2019, 5:12 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Do the urls have separate domains or the same domain name?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 23, 2019, 11:46 PM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Same domain name of the two moodle provider services but different in the consumer services - summary below. However, in writing this out, you have flagged up that one key difference is that our production service embeds a moodle instance belonging to the same domain.  But in the test environment, they are different domains.  Though I don't have great knowledge of how this should work, it would seem plausible that where we have the same domain between provider and consumer, the cookies that moodle sets are considered as first-party cookies and not blocked so everything works.  But in the test environment the domains are different, and therefore the cookies that moodle sets are treated as third-party and blocked, breaking LTI embedding.  What do you think? Production service Blackboard consumer : online.manchester.ac.uk (Release 3700.0.2-rel.36+fbf2221) Moodle provider : stack.fse.manchester.ac.uk (Version 3.4.2) Outcome : LTI embedded moodle quizzes open normally within Blackboard. Test service (PPD) Blackboard consumer : manchester-ppd.blackboard.com (Release 3700.0.2-rel.36+fbf2221) Moodle provider : vm-stack-t01.its.manchester.ac.uk (Version 3.7.2) On the PPD server I set a cookie prefix in the session handling admin settings to \"ppd\".  Everything else under session handling is set with the defaults. Outcome : LTI embedded moodle quizzes fail to open correctly in Blackboard and instead bounce the user to a login screen embedding within Blackboard. As a test of my theory about what is going on, I'll see if I can prove this by requesting that our production moodle is registered as an allowed LTI provide on our PPD consumer Blackboard which has a different domain. That will strongly indicate if the issue is down to the version of moodle or a domain issue. Thanks for your support on this. Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 24, 2019, 4:54 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Dear Daniel, Thanks for helping to direct my trail of thought on this. My testing would strongly indicate that the issue I was experiencing was due to using different different domains on the test environment. What it means is that when we upgrade the production environment we shouldn't experience any issues as both will be running on the same domain . I'll document this in our service notes so that no one gets caught out by this in the future. Best wishes, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 24, 2019, 5:42 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Hello Stuart, Thanks for the information. I was a able to set up a test system and have been able to reproduce it. It does seem to be related to the issue I mentioned above. Upgrading will cause the problem on you production system so I would hold up if possible. Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 26, 2019, 1:39 AM",
          "AuthorName": "Daniel Thies",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470073&course=5",
          "role": [
            "Picture of Daniel Thies",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Third-party cookies and LTI",
          "Text": "Hi Daniel, We might have our wires crossed here.  The issue I was experiencing was definitely down to my original testing setup having two difference domains.  I've managed to convince my IT department to authorise the URL to my upgraded (latest version) moodle against my current production Blackboard VLE service.  Both have the same domain name and when third-party cookies are set to be blocked, the issue I experienced when the domains were different does not occur. So in summary, in a setup with a consumer service linking to the latest version of moodle via LTI, as long as they both belong to the same URL domain no issues will be experienced if third-party cookies are blocked. Thanks, Stuart",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 28, 2019, 9:47 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469473,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469473",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Issue when deploying MS LTI",
          "Text": "Hi all, I was testing to deploy MS 365 LTI onto my test instance. Followed this link and finished all necessary configurations. However when attempting to add a resource from MS via 'select content' to my course, it fails with error: Some of your details couldn’t be validated. Investigated further, I found a lot of errors in console like below: Content-Security-Policy: The page’s settings blocked the loading of a resource (font-src) at https://res-1.cdn.office.net/files/fabric-cdn-prod_20230815.002/assets/fonts/segoeui-georgian/segoeui-bold.woff2 because it violates the following directive: “font-src https://res.cdn.office.net/files/ https://res-1.cdn.office.net/files/fabric https://static2.sharepointonline.com https://spoprod-a.akamaihd.net ” 7f53468b-05a7-4da4-888c-d7a7c89b0f45--03903eb6-2b5e-4cb9-8f00-18b6d208d405 I've tried to add CSP header in my virtual host , or registered a new Azure app in case of any misconfiguration in this app, but neither worked. Any suggestions? Regards, Tony",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 20, 2025, 3:08 PM",
          "AuthorName": "Tony Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2516608&course=5",
          "role": [
            "Picture of Tony Zhang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Issue when deploying MS LTI",
          "Text": "I did see one ticket early very similar to mine but i tried both Public keyset that's mentioned there, none worked.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 20, 2025, 3:11 PM",
          "AuthorName": "Tony Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2516608&course=5",
          "role": [
            "Picture of Tony Zhang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431031,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431031",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Firefox 96.0+ Breaking LTIs",
          "Text": "Hi all, we're running into issues with LTIs with the latest release of Firefox (96.0+). I've seen similar issues reported for Canvas, but haven't seen any for Moodle, so wanted to see if anyone else was experiencing this. It's happening for our Kaltura and Zoom LTIs - Kaltura has stated that they plan to patch the issue this weekend, but unsure about Zoom. With Kaltura, it gives an error about 3rd-party cookies, but with Zoom it gives a \"required parameter (url) was missing\" error and creates a strange nested login loop. This happens both when adding a new Zoom activity via External Tool and when clicking on an existing one. Anyone else seeing this? Wanted to make sure there's not anything we're overlooking in Moodle that might solve this. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 21, 2022, 6:55 AM",
          "AuthorName": "Riana Beachy-Hasenick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3931455&course=5",
          "role": [
            "Picture of Riana Beachy-Hasenick"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Firefox 96.0+ Breaking LTIs",
          "Text": "Hi Riana, This is likely because of a change to the way samesite cookies are handled in Firefox 96 (now implicitly set to samesite=lax). We suspected this was coming. Moodle patched this in launches a while back - see MDL-71887 for details. What version of Moodle are you running? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 21, 2022, 9:08 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Firefox 96.0+ Breaking LTIs",
          "Text": "Hi Jake, thanks for your response! That makes sense - we're still running 3.9.7. Looks like it was patched in 3.9.9?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 21, 2022, 11:44 PM",
          "AuthorName": "Riana Beachy-Hasenick",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3931455&course=5",
          "role": [
            "Picture of Riana Beachy-Hasenick"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Firefox 96.0+ Breaking LTIs",
          "Text": "Hi Riana, Yep, that's right. Patched in 3.9.9 as per the fix version/s field. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2022, 9:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 419486,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=419486",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 invalid_request on POST OIDC",
          "Text": "Hello! I try to integrate my simple frontend app with LTI. This is my login response on OIDC POST: { \"scope\": \"openid\", \"response_type\": \"id_token\", \"client_id\": \"my_id\", \"redirect_uri\": \" https://lovely-liger-13.loca.lt/project/submit \", \"login_hint\": \"2\", \"state\": \"DFY7YkpCMGF16Y5by32CsT7MNhJjO8\", \"response_mode\": \"form_post\", \"nonce\": \"DJe0Ld2hr70CgFkHOWaHeeqRN\", \"prompt\": \"none\", \"lti_message_hint\": \"25\" } My configuration at Moodle side: Tool Url: https://lovely-liger-13.loca.lt Public key type: RSA with key provided in the following format: -----BEGIN PUBLIC KEY----- PbhHpvY3V7+gLFPFOjMOy8DJ6rig5jimokHu9zxmTiLtHvpdMCAwEAAQ==... -----END PUBLIC KEY----- Initiate login URL : https://lovely-liger-13.loca.lt/oidc Redirection URL(s): https://lovely-liger-13.loca.lt/project/submit When I try to initiate Launch I get 400 on /project/submit with: \n```text\n{\"error\":\"invalid_request\",\"errors\":[\"Login Response was rejected: invalid_request\"]}\n```\n \n```text\nHow can I investigate it further? Are there some params missing?\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 10, 2021, 6:10 PM",
          "AuthorName": "Mikołaj Buda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4134090&course=5",
          "role": [
            "Picture of Mikołaj Buda"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 237856,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=237856",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Issues opening External Tool Link using Firefox",
          "Text": "We are running Moodle 2.5.1 (Build: 20130815) and are experiencing issues with External Tool links opening in firefox .   An external tool with parameters to open a URL on one of our media servers works fine in Chrome and IE - the new window is launched and the content from the desired URL is visible.  In firefox however the new window is opened and the URL appears but the content of the page is completely blank. Has anyone else experienced and resolved a similar issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 12, 2013, 4:14 AM",
          "AuthorName": "Shelley McLaughlin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1672331&course=5",
          "role": [
            "Picture of Shelley McLaughlin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Issues opening External Tool Link using Firefox",
          "Text": "Could it be related to the external tool itself? What kind of media (you mentionned media server ) are you trying to display through external tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2013, 9:13 PM",
          "AuthorName": "François Lizotte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=421621&course=5",
          "role": [
            "Picture of François Lizotte"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 385142,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=385142",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Disable Login/Logout",
          "Text": "Since my LTI users aren't logging in, is there a way to hide or disable login/logout for them?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 5:57 AM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 426511,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426511",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Using LTI with H5P in a label | Sync with gradebook",
          "Text": "Hello everyone, And thank you in advance for any idea / help. For usability purposes, I am testing the possibility to embed a H5P.com-hosted H5P activity within a Moodle label in order to spare users unnecessary clicks to see content. I follow the following steps : I create a H5P activity on H5P Saas plateform I intergrate it with Moolde through LTI I embed the H5P activity within the label. Thus, the content displays right within each section. By this way of integration, does the H5P activity communicates with the Moodle gradebook ?  Or is it considered a better practice to use the H5P standalone activity within Moodle ? Thanks for any tip ! Laurent",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 6, 2021, 11:07 PM",
          "AuthorName": "Laurent Delvalle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4340261&course=5",
          "role": [
            "Picture of Laurent Delvalle"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 333399,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333399",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "enable gradebook pass back?",
          "Text": "I am trying to integrate zaption into my moodle install. I have it working for the most part but it does not reflect any grade in the grade book for the student after they view the video with the interactive correct choices. Zaption tells me that I need to enable gradebook pass back on the admin side of my moodle . I am in moodle 3.0 Can anyone advise how I might enable gradebook pass back for this LTI? Thank you for any help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 20, 2016, 8:02 AM",
          "AuthorName": "Billy Zwiener",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1168989&course=5",
          "role": [
            "Picture of Billy Zwiener"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: enable gradebook pass back?",
          "Text": "Hi, See: https://docs.moodle.org/30/en/External_tool_settings#General_settings Option that must be enabled is: Accept grades from the tool",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 20, 2016, 3:21 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 336522,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336522",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Detailed quiz results?",
          "Text": "Is it possible to have an external LTI tool report detailed quiz results to Moodle? Right now I can only see how to report a single score. Thanks, Jared",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2016, 3:51 AM",
          "AuthorName": "Jared Schaeffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2102696&course=5",
          "role": [
            "Picture of Jared Schaeffer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Detailed quiz results?",
          "Text": "Jared are you using SCORMs? As I understand it detailed question/answer results are available for a Moodle quiz (I have read) but not normally for SCORM (as I have seen).  Indeed we are actively pursuing this for a client at the moment. We have tried SCORMs with just a terminal quiz but still we only get the percentage grade. Hopefully someone else will come along but I will come back with our progress after we have tried various SCORM formats.  If that fails I guess we will try bespoke as our client needs this type of detail result reporting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2016, 5:35 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Detailed quiz results?",
          "Text": "Thanks Nigel. We aren't currently using SCORM. We just have an external LTI tool that I'm hoping I can get to report more detailed quiz results. I am curious to see what you find with different SCORM formats.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2016, 9:57 PM",
          "AuthorName": "Jared Schaeffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2102696&course=5",
          "role": [
            "Picture of Jared Schaeffer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Detailed quiz results?",
          "Text": "Jared just a quick update. We have dissected a number of SCORMs in the hope we might find someway of triggering something or embedding php but sadly no joy. So that leaves hooking into the code at the point that the grade is calculated as the only answer. We are reluctant to hack Moodle Core but I guess we have no choice.  We'll be looking at this  but not for a few weeks as we need to get Moodle live for our client and our guru resource who I'd trust with this is otherwise occupied. Moodling on ................",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 18, 2016, 2:12 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452786,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452786",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3  Questions",
          "Text": "Hello, I have a question regarding LTI 1.3 and external tools. My company currently has Moodle version 3.10 that uses LTI 1.1/1.3 and uses Kaltura for external tool usage for videos that have LTI capability. My two questions are as follows: Is there a version of Moodle that is strictly using LTI 1.3? i.e. Moodle 4.0? Does the external tool that we use need to have LTI 1.3 as well if we upgrade our Moodle to use LTI 1.3 or is it not required? I am very new to LTI so anything will help. Also, I was told that Moodle 4.0 only uses LTI 1.3, but when looking for this information in the documentations but I couldn't find this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 20, 2023, 11:57 PM",
          "AuthorName": "ELI Team",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5400515&course=5",
          "role": [
            "Picture of ELI Team"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3  Questions",
          "Text": "Hi there, 1. All supported versions of Moodle currently support both 1.1 and 1.3 in the external tool. We've yet to formally make plans to deprecate support for 1.1, despite the fact that 1.1 has been deprecated by 1EdTech for some years now. However, many tools still haven't got their act together an upgraded to 1.3, so we'd find it hard to remove support for this on our platform. I will add, however, that, like tools, we're unable to certify our platform for 1.1 and have been unable to do so for some time. 1EdTech removed 1.1 from their certification suite some time ago since it's deprecated and unsupported by them now. 2. The external tool can use 1.1, but then you're going to consume that tool using the 1.1 part of Moodle's external tool. I.e. a 1.1 tool needs a 1.1-compatible platform, a 1.3 tool needs a 1.3-compatible platform. As per 1, Moodle is both 1.1 and 1.3 compatible so both work. I will say, however, that the tool really should be moving to 1.3 given 1.1 has been deprecated for some time and they will have been unable to certify their tool with 1.1 for some time too. If you want to be confident that the tool is certified with 1EdTech, then your best option is to use 1.3. Bottom line: both work with Moodle and will for some time. Prefer 1.3 if possible, but if the tool only supports 1.1, you can still use it should you choose to do so. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 21, 2023, 9:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 356014,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356014",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.2 LTI not authenticating",
          "Text": "I just installed Moodle 3.2 over LAMP -rhel 7.3, Apache 2.4, Mysql 5.7, PHP 5.6.25) and the site worked fine for several days. Three days in, LTI no longer authenticates. I have back tracked and checked all that I know to do but cannot and correct the issue. ANy ideas would be helpful. thank you. Instead of launching a lab automatically, the LTI authentication window opens requesting login credentials.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 27, 2017, 1:28 AM",
          "AuthorName": "Alana Matthews",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2265310&course=5",
          "role": [
            "Picture of Alana Matthews"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 442733,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=442733",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Cron Error on 1.3 Grade Sync",
          "Text": "Any thoughts Jake on what might be causing this error and what might be done to resolve this within the Grade sync? Is this related to one of the previous grade sync issues? Scheduled task failed: Publish as LTI tool grade sync (enrol_lti\\local\\ltiadvantage\\task\\sync_grades),Argument 3 passed to enrol_lti\\local\\ltiadvantage\\entity\\user::create() must be of the type int, null given, called in /var/app/current/moodle/enrol/lti/classes/local/ltiadvantage/repository/user_repository.php on line 58",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2023, 5:12 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cron Error on 1.3 Grade Sync",
          "Text": "Hi jeff, Thanks for the report. Yes, after a bit of searching, I'm fairly confident I know what causes that. It's an interesting case relating to migration that perhaps slipped through the cracks. Firstly, I'll point out that the third argument to ::create() is the deployment Id, which every LTI Advantage user must have. The LTI Advantage launch guarantees this, as does LTI Advantage member sync. So, any content item published fresh using using LTI Advantage (and which has only ever been launched using LTI Advantage) will have a deployment id for all users. This allows the LTI Advantage grade sync to work properly. What seems to be happening here is that the lti_users query (which returns all lti_users for the respective tool), is returning lti_users which do NOT have a deployment id. What this suggests to me is that the tool itself (or the piece of published content) has been modified from a legacy tool (which had pre-existing users not having the deployment id) to an LTI Advantage tool. This is possible via the UI - through changing the LTI version on the published content. What this essentially results in is: - Some lti_users records are legacy (don't have deployment id) - Some lti_users are LTI Advantage (they correctly have deployment id) This trips up the LTI Advantage grade sync task because it expects to only be dealing with syncs for LTI Advantage users only - so this is a bug you've spotted. In such cases, we need to entirely ignore the legacy enrol_lti_users records (those records not having an lti deployment id).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 6, 2023, 6:07 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron Error on 1.3 Grade Sync",
          "Text": "Thanks Jake. What are the reprodcutions from deleting any records from the \"mdl_enrol_lti_users\" table for users that do not have a \"ltideploymentid\"?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 7, 2023, 7:09 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron Error on 1.3 Grade Sync",
          "Text": "Hi Jeff, I'd suggesting waiting for my advice on the fix issue - which I've created in MDL-76821 . I'm not 100% sure whether we're going to need a data fix for this issue or whether we can handle this in the repository/db layer for the respective LTI versions. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 9, 2023, 2:14 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron Error on 1.3 Grade Sync",
          "Text": "Just a followup from my end. As far as I can tell one of our LTI partners accidentally sent malformed LTI data without a \" ltideploymentid\" which causes the grade sync to break.  When I remove records without a \" ltideploymentid\" the sync continues to work properly. So it looks like the grade sync code might need to be updated to prevent this problem occurring, otherwise the grade sync can be broken.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 9, 2023, 9:04 AM",
          "AuthorName": "jeff mayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2445118&course=5",
          "role": [
            "Picture of jeff mayer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 338206,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=338206",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "External Tool reverts to default",
          "Text": "Hi Everyone, We are running v3.0. We have 2 LTI configurations for the External Tool plugin (VoiceThread and EBSCO Discovery Service).  When courses are migrated into a blank course shell, either through the import function or through a backup/restore, they revert back to the default setting \"Automatic, based on Launch URL \" for an unknown reason.   Has anyone else experienced this and been able to resolve it? Thank you, Ericka",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 20, 2016, 3:03 AM",
          "AuthorName": "Ericka E.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1616201&course=5",
          "role": [
            "Picture of Ericka E."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool reverts to default",
          "Text": "Hi, I just found your post after asking a question about the same issue here: https://moodle.org/mod/forum/discuss.php?d=352677 Have you found a solution to this? Kind regards Robert",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 20, 2017, 1:48 AM",
          "AuthorName": "Robert Schrenk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1812998&course=5",
          "role": [
            "Picture of Robert Schrenk",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool reverts to default",
          "Text": "The export and import of LTI tool types is not yet implemented in moodle. There are a few technical and security implications. But it is being worked on  at https://tracker.moodle.org/browse/MDL-34161 . The best thing you can do is vote and comment there or assist with the patch",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 22, 2017, 8:51 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 411814,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=411814",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI avoid user duplication",
          "Text": "Hi All I have created user manually in moodle and assigned to course. and from LTI if i try to access same course using same user email, first name , last name and username new user is creating in moodle with same user details(User is duplicating). how to avoid duplicate user creation from LTI. if user already exists in moodle then from LTi also same user has to access moodle course. Regards Zuheb",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 7, 2020, 9:16 PM",
          "AuthorName": "Zuheb A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2411153&course=5",
          "role": [
            "Picture of Zuheb A"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI avoid user duplication",
          "Text": "Hi Ruheb, Is it happening if you access the same Provider course or different courses?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 10, 2020, 4:21 PM",
          "AuthorName": "P S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3790833&course=5",
          "role": [
            "Picture of P S"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 200793,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200793",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "About setting conditional release (Restrict access) to external tool",
          "Text": "Dear all, I have problem when I setting Grade condition in external tool. I have three assignment activity which created by PHP as external tool and all setup and linked to the Moodle site. All three assignments were work and can return the score back to the Moodle. The student can go into one external activity and finish the tasks and then return back to Moodle module page. The situation is when I set those activities in Restrict access that the student must finish the first activity and then they can access to next external activity. I found that after the student finish the first one and then return back to Moodle module. The second one still gary in color and cannot access by the student. Even the condition was satified. The student required logout and then login again. The second activity will allow to access. I want to ask what happening since this will not occurs in moodle quiz activity? I want yours can give me some suggestion on setting restrict access to the external tool that it perform like normal Moodle quiz. Thank you for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2012, 5:18 PM",
          "AuthorName": "Sam Shan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1446326&course=5",
          "role": [
            "Picture of Sam Shan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 271378,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=271378",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Submission attempts sorting chronologically in gradebook and submission report",
          "Text": "I currently maintain a Moodle 2.5 site where all of the courses make extensive use of LTI applications for mastery exercises and quizzing. It's very complex and cannot be created as a quiz object due to the interactivity required (questions involve building model electrical circuits where components used and desired outcome are dynamically generated). The challenge I am having is how the submission scores display in the grade book (/moodle/grade/report/grader/index.php?id=[COURSE_ID]) as confirmed by the LTI submissions table (/moodle/mod/lti/grade.php?id=[LTI_ID]&itemnumber=0&userid=[USER_ID]). The submissions table sorts results chronologically by submission date. You can click on the headers to sort other ways, I know, but I only use this page to confirm that the grades displayed in the grade book to also display the latest chronological result. We sometimes have 100+ such assessments in a course of 200+ students, so checking individual submission reports is not possible as they might have 10+ attempts each. Is there anyway to configure the site to display the highest score for a score submit via LTI instead of chronologically? A stakeholder maintains that it used to work this way, but I have my doubts.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 2, 2014, 11:10 PM",
          "AuthorName": "Adrian M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1859787&course=5",
          "role": [
            "Picture of Adrian M"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 410837,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410837",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Showing blocks in published LTI activities",
          "Text": "(I posted this question in the wrong forum first.  This is a better fit.) I would like to export an activity using blocks as an LTI activity.  I was quite surprised that the blocks do not show. Now I understand that I am not the first one to find this to be a problem, and my technical aid has inspected the code to conclude that there is no config setting that we have missed. Is there anyone here who is familiar with the implementation of the LTI module?  I wonder both why it has been designed not to show blocks, and whether one would consider changing it to do so, optionally or otherwise? We do consider implementing a fix of our own. Would such a change be welcomed?   Since LTI is a core feature, I am a reluctant to implement any modifications just on my own ... Thanks a lot in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 21, 2020, 2:57 PM",
          "AuthorName": "George Schaathun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2003093&course=5",
          "role": [
            "Picture of George Schaathun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Showing blocks in published LTI activities",
          "Text": "I think the issue you are describing is MDL-68792 , and the attempt to fix that has not yet succeeded.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 21, 2020, 4:21 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Showing blocks in published LTI activities",
          "Text": "Absolutely. Thanks a lot for the pointer. We'll study the discussion before we move on.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 21, 2020, 8:33 PM",
          "AuthorName": "George Schaathun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2003093&course=5",
          "role": [
            "Picture of George Schaathun"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Showing blocks in published LTI activities",
          "Text": "Actually, I want to embed true blocks, not just fake blocks. Arguably, that makes my request an enhancement, while yours is a bug. I was not aware of the distinction when I posted, so thanks a lot for the knowledge boost. The case is this. We want to add a comment feature to questions, for the students to ask questions, with a direct easy to follow link to the question and instance, be that bug reports, requests for help, general evaluation, or whatever. As far as our own activity, CAPQuiz, is concerned, we could just as well use fake blocks, I think. However, we may want to use it also with the core Quiz, and then an independent block module is a more practical approach. I can imagine there being other applications, but the imagination is not concrete. Is this just me, or would there be in general interest optionally to be able to embed arbitrary blocks in LTI consumed activities ? For my immediate needs, I can probably patch core with one of the ideas considered for MDL-68792 , but such rogue approach is not entirely satisfactory ... :-- George",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2020, 2:54 AM",
          "AuthorName": "George Schaathun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2003093&course=5",
          "role": [
            "Picture of George Schaathun"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450766,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450766",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How do teachers request new LTI",
          "Text": "We spotted a capability mod/lti:requesttooladd which appears to allow people to request new LTIs I can't find any documentation for this and I can't find any link. I've found the code for the page but can't figure where it links from. Can anybody point me in the right direction?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 22, 2023, 5:28 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How do teachers request new LTI",
          "Text": "Hi Howard, I've seen that code before and it appears to be a relic of a long since unused workflow, in which the (LTI 1.1) tool would return to the consumer's return url (mod/lti/return.php) with an 'unsigned' param, at which point the consumer site presents a link to the instructor. Clicking the link creates a pending tool and asks them to follow up with the site admin. It was added when the module was, back in 2011. This really needs to be deprecated and removed, since LTI 1.1 is deprecated, and our 1.3 implementation requires that tool setup is handled by the site administrator anyway. We don't test this legacy tool request feature, nor have we tested this in a long time. Essentially, requesting a tool is an out of band process now and Moodle doesn't provide a feature for this. I believe there are also some legacy site admin views to clean up as part of this deprecation, when we get to it. I'm hoping we can soon. In the meantime, I'd suggest just ignoring this feature entirely as it's for a legacy version of LTI and is also very likely not working. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 26, 2023, 9:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431772,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431772",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Dynamic Client Registration Error",
          "Text": "I have been getting an error when I post my tool's payload to Moodle. I get the error below: Exception - Argument 1 passed to\nmod_lti\\local\\ltiopenid\\registration_helper::registration_to_config()\nmust be of the type array, null given, called in\n[ dirroot ]/mod/lti/openid-registration.php on line 54 What could be some issues? I am certain I have formatted the payload correctly and have included the registration token. Thanks for any help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2022, 5:30 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Dynamic Client Registration Error",
          "Text": "Hi Andrew, I would probably debug that openid-registration.php endpoint somehow (xdebug, print_r in a pinch). The good news is that it's seen the POST and has validated the registration token, so that won't be the issue. Null can be returned from json_decode on this line ( https://github.com/moodle/moodle/blob/ca80d53b38313edfe067184521c67320dbb9bf60/mod/lti/openid-registration.php#L53 ), so that's where I'd start looking. Check the payload, and make sure it can be decoded. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2022, 11:22 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dynamic Client Registration Error",
          "Text": "Thanks again Jake. Turns out the Requests module in Python has a specific argument for handling JSON data. I was just passing it through the old and wrong argument. Thanks for the help :D Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 11, 2022, 10:34 PM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447842,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447842",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.1 Oauth Signature Verification",
          "Text": "Hi, Does anyone have an idea on what parameters is the \"oauth_signature\" generated when a LTI 1.0/1.1 tool is launched and passed to the launch URL ? On the tool launch, I am trying to verify the launch request based on the params received, sign it, and match the generated signature with the one sent in the request. But the signatures are not matching, moodle is sending a lot of parameters with the request, I am not sure based on what all params should I create a base string and then sign it. Any help would be appreciated, thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 19, 2023, 5:35 PM",
          "AuthorName": "Bhavesh Pawar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5661151&course=5",
          "role": [
            "Picture of Bhavesh Pawar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.1 Oauth Signature Verification",
          "Text": "Hi Bhavesh, Firstly, please note that LTI 1.1 has been deprecated for years now and is not recommended by 1EdTech. Tools should be moving to LTI 1.3 and LTI Advantage. Disclaimer aside, you can find an example of the base string in the LTI 1.1 Implementation Guide. https://www.imsglobal.org/specs/ltiv1p1/implementation-guide . Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 20, 2023, 9:29 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.1 Oauth Signature Verification",
          "Text": "Hi Jake, Thanks for your response, I got the same question about the base string used in LTI 1.1 to sign a Deep Linking response. Would you have any clue? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 22, 2023, 9:16 PM",
          "AuthorName": "Antoine Lebaud",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5748888&course=5",
          "role": [
            "Picture of Antoine Lebaud"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 196469,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=196469",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "External Tool - passing the Username?",
          "Text": "I notice that there are controls to share or not share both the launcher's name and email. Is there a way to share the launcher's Username? Or is there a way to use the Custom Parameters to accomplish this? I have searched, but cannot find anything about the format of the Custom Parameters, how they would be entered?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 18, 2012, 6:01 AM",
          "AuthorName": "Joe Ballard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1426540&course=5",
          "role": [
            "Picture of Joe Ballard"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "May I ask why you're looking for this information?  The user_id in the post uniquely identifies the user from moodle to the LTI provider.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 12:46 AM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "Because I'm connecting to a non-LTI provider, sort of a translation layer. For the LMS's we've got working this way so far (Blackboard and D2L), the username has been one of the parameters. So maybe it's an optional LTI parameter that Moodle chooses not to expose? I was hoping to access it through the Custom Parameters, but no luck there. It's kind of a duct-tape approach until the non-LTI provider can properly add LTI support to their product.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 2:44 AM",
          "AuthorName": "Joe Ballard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1426540&course=5",
          "role": [
            "Picture of Joe Ballard"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "This falls into an area I can't speak to.  The spec (1.0 or 1.1) doesn't have a call-out for actually passing that particular piece of data along.  That said, poking around in the 2.2 LTI PHP files, extending the functionality should be pretty straight forward for someone intimate with the guts of moodle.  I would imagine that it would be similar for the pre 2.2 LTI modules as well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 21, 2012, 9:46 PM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "I got to thinking about this a bit more, and if you are in control of the external tool, or can suggest modifications, you COULD write code that takes advange of web services and query the user data that way.  look at core_user_get_users_by_id in the web services documentation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 16, 2012, 1:15 AM",
          "AuthorName": "Eric Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1427218&course=5",
          "role": [
            "Picture of Eric Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "I was wondering if you could post what the URL would look like for \"hitting the service\" To me at least, I can't seem to actually ever \"hit the api\" externally.. it works just fine from the test harness.. but since there is literally 0 documentation on using the API in existance, I can't figure out the correct params like userIds[0]=2&userIds[1]=5 etc.. i'm amazed at how non-existant docs are.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 12, 2012, 8:56 PM",
          "AuthorName": "Roger Studner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1511627&course=5",
          "role": [
            "Picture of Roger Studner"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "I'm in the same situation as Mr. Ballard as I'm also looking for ways to obtain the username for my LTI external tool. My app tool will be used by different universities so I'm looking for a simple solution that can be used on any system. Like Mr. Ballard, I've also worked on other LMS like Blackboard and Canvas, and I've managed to find ways to insert the username in the parameters. But with Moodle, I'm at a lost. I've looked into the web service proposal by Mr. Ellis but I'm somewhat cold to the idea. For one thing, I'd like to minimize the amount of extra services we'd have to run to make our LTI tool work. The other thing is that I feel that it somewhat defeats the purpose of having the LTI since it should be providing us with the basic information that we need. So, basically, are there any other ways to get the username for an LTI external tool? Any hint would be appreciated! Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 3:43 AM",
          "AuthorName": "Shi Qiao Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1489458&course=5",
          "role": [
            "Picture of Shi Qiao Yu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool - passing the Username?",
          "Text": "hello Have any of you got how to get the username ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 9, 2014, 5:18 PM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450648,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450648",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Cartridge URL or Launch URL?",
          "Text": "Hello, I'm using LTI to connect a course on my Moodle 4.2 to a course on a remote site (also Moodle 4.2). In this case, is it better to use the Cartridge URL or the Launch URL or doesn't it matter? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 20, 2023, 2:03 AM",
          "AuthorName": "N W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3256909&course=5",
          "role": [
            "Picture of N W"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cartridge URL or Launch URL?",
          "Text": "Neither. As you'll see in 4.0+, LTI 1.1 is deprecated and you should use LTI 1.3 to publish + consume resources. When you use 1.3, and after you've registered one site with the other, you just use deep linking to select the content to launch into. The deep linking takes care of all the relevant launch configuration stuff. I.e. there is no need for launch or cartridge URLs to be used any more. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 20, 2023, 10:22 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 362182,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=362182",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problems upgrading from 2.9 to 3.3",
          "Text": "I am guessing what is going on with all my shared content when I am upgrading from the plugin LTI Provider to the Share as LTI which is coming with moodle 3.3. Is there a way to migrate all the shared content and the users that have participated on that content?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 28, 2017, 2:43 PM",
          "AuthorName": "Juan Carlos Molina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=217852&course=5",
          "role": [
            "Picture of Juan Carlos Molina"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 385361,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=385361",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Provider : \"you cannot enrol yourself in this course\"",
          "Text": "Hi, I am trying to share a Moodle (3.6) activiry through LTI provider from another Moodle (3.5). It is generally working properly, but sometimes - it seems when the remote user is already created\", I got the error message \"you cannot enrol yourself in this course\"  at the client side. Any idea ? Thanks for help. Laurent.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 18, 2019, 2:20 PM",
          "AuthorName": "Laurent Dairaine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=311695&course=5",
          "role": [
            "Picture of Laurent Dairaine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 328617,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=328617",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.8.10: Course Level LTI Links Break on Restore and Copy",
          "Text": "We use LTI to integrate with TechSmith's Relay for video content.  When backing up or copying course files, the LTI links are not preserved.  This is a considerable time and effort issue requiring significant repopulation of LTI link information. We're running 2.8.10.  Do later versions address this issue? Is there a workaround? Thanks, John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 23, 2016, 8:48 PM",
          "AuthorName": "John Falchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2050254&course=5",
          "role": [
            "Picture of John Falchi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.8.10: Course Level LTI Links Break on Restore and Copy",
          "Text": "Looks like there are a few known issues: https://tracker.moodle.org/issues/?jql=text%20~%20%22restore%22%20AND%20resolution%20%3D%20Unresolved%20AND%20component%20IN%20%28%22External%20Tool%20%28IMS-LTI%29%22%2C%20%22External%20tool%22%29",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2016, 2:57 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.8.10: Course Level LTI Links Break on Restore and Copy",
          "Text": "Yes, I saw these. I was just curious with regards to the workaround that you suggested in one of the forums, Edit this list https://github.com/moodle/moodle/blob/master/mod/lti/backup/moodle2/backup_lti_stepslib.php#L64 in the YU-instance of Moodle to include: resource key’, 'password', We tried this but it did not help.  Which version did you apply it to?  Did it work? Thanks, John",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2016, 3:35 AM",
          "AuthorName": "John Falchi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2050254&course=5",
          "role": [
            "Picture of John Falchi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.8.10: Course Level LTI Links Break on Restore and Copy",
          "Text": "If that simple-minded suggestion does not work, it is going to take someone with time to sit down and properly debug the problem to work out a fix. It is a promising sign that most of the un-fixed issues are assigned to someone, but I don't know how actively they are being worked on.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2016, 6:10 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462512,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462512",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Legacy Moodle tool does not distinguish between LTI users",
          "Text": "Good day everyone! We have been trying to solve the problem for a month now. The external system accesses Moodle as LTI-tool. Version 1.1 (yes, we know that it is outdated, but it is the only thing the external system supports). The problem is that each external user is recognized by Moodle as the same user. So when a second user opens a Moodle page via LTI, they see the first user's grades. What data is transmitted by the external system: \n```text\nlis_outcome_service_url=\nhttps://stepik.org/<span\n class=\"speller-hint\" data-toggle=\"popover\" data-hint=\"0\" data-original-title=\"\" title=\"\">lti</span>/result/\nlis_result_sourcedid=62beeaa6-9c4b-49d1-879c-3643d95b65fa\n<span class=\"speller-hint\" data-toggle=\"popover\" data-hint=\"1\" data-original-title=\"\" title=\"\">lti</span>_message_type=basic-<span class=\"speller-hint\" data-toggle=\"popover\" data-hint=\"2\" data-original-title=\"\" title=\"\">lti</span>-launch-request\n<span class=\"speller-hint\" data-toggle=\"popover\" data-hint=\"3\" data-original-title=\"\" title=\"\">lti</span>_version=LTI-1p0\noauth_callback=about:blank\noauth_consumer_key=jisc.ac.uk\noauth_nonce=1c497d34-67e7-40af-af6d-8ace3d9ce1\noauth_signature=wDI2McWCXM4ab7GkoEV3JjbJA=\noauth_signature_method=HMAC-SHA1\noauth_timestamp=1727452915\noauth_version=1.0\nresource_link_id=29466-50eb-4edf-b908-243106ba0ec6\nroles=Learner\ntool_consumer_info_product_family_code=stepikorg\ntool_consumer_info_version=1.0\n\ntool_consumer_instance_contact_email=help@stepik.org\n\ntool_consumer_instance_description=Stepik\ntool_consumer_instance_guid=stepik.org\ntool_consumer_instance_name=Stepik\ntool_consumer_instance_url=\nhttps://stepik.org\n```\n User ID and Step ID are encrypted in lis_result_sourcedid by the external system. Please help with the following questions: 1. What information might Moodle lack from an external system to distinguish between users? 2. How to log on the Moodle side what LTI data was sent by the external system? Thank you all in advance, have a nice day! (Edited by Jake Dallimore - original submission Tuesday, October 1, 2024, 3:12 PM)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2024, 3:12 PM",
          "AuthorName": "Lilia Urmazova",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5383804&course=5",
          "role": [
            "Picture of Lilia Urmazova"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 333472,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333472",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Pass user groups with a basic launch request",
          "Text": "My use case is an LTI 2.0 tool that provides chat rooms. A teacher will be able to create a chat room for the whole course and a room for each group in the course. When a student launch the tool, he'll see a list of chat rooms he is allowed to enter. A click on a link will get him in the room. In 3.1 there is support for the membership service which let the tool provider retrieve the course participants with their roles and groups. The membership might change dynamically so if the tool need to know the user's groups it forces the tool provider to ask for the complete list of members on each launch request. It will be useful to get the user's groups as part of the basic launch request. With the above use case, when a teacher launch the tool and makes changes to the chat rooms like adding a new room or limiting a room to a specific group, the tool provider will retrieve the updated membership list. When a student launches the tool, the launch request will send his groups and the tool will be able to present only the relevant rooms. Is it possible to use the LIS Group Variables or are they mean for other purpose? https://www.imsglobal.org/specs/ltiv2p0/implementation-guide#toc-76",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 22, 2016, 1:31 AM",
          "AuthorName": "Pablo Platt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1585505&course=5",
          "role": [
            "Picture of Pablo Platt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 425164,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425164",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle LTI 1.1 error in user grade update with a \"null\" grade",
          "Text": "Hello, We are trying to send an LTI 1.1 grade update request to moodle 3.8( http://3plcgmoodleprd.prd-prsn.com/moodle38/ ) instance with a null grade value. Request Body: <? xml version = \"1.0\" encoding = \"UTF-8\"?> <imsx_POXEnvelopeRequest xmlns = \" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXRequestHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>637907331</imsx_messageIdentifier> </imsx_POXRequestHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <replaceResultRequest> <resultRecord> <sourcedGUID> <sourcedId>SampleSourceId</sourcedId> </sourcedGUID> <result> <resultScore> <language>en-US</language> <textString>null</textString> </resultScore> </result> </resultRecord> </replaceResultRequest> </imsx_POXBody> </imsx_POXEnvelopeRequest> For the above request, we got the following response error. <?xml version=\"1.0\" encoding=\"UTF-8\"?> <imsx_POXEnvelopeResponse xmlns=\" http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0 \"> <imsx_POXHeader> <imsx_POXResponseHeaderInfo> <imsx_version>V1.0</imsx_version> <imsx_messageIdentifier>1018505128</imsx_messageIdentifier> <imsx_statusInfo> <imsx_codeMajor>failure</imsx_codeMajor> <imsx_severity>status</imsx_severity> <imsx_description> Score must be numeric </imsx_description> <imsx_messageRefIdentifier>637907331</imsx_messageRefIdentifier> <imsx_operationRefIdentifier>replaceResultRequest</imsx_operationRefIdentifier> </imsx_statusInfo> </imsx_POXResponseHeaderInfo> </imsx_POXHeader> <imsx_POXBody> <replaceResultResponse/> </imsx_POXBody> </imsx_POXEnvelopeResponse> Can we know whether Moodle does not support a \"null\" grade update for LTI 1.1 or is there any other method we can follow to send a grade update request with a \"null\" grade?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 29, 2021, 8:09 PM",
          "AuthorName": "Vinodya Bandara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4263636&course=5",
          "role": [
            "Picture of Vinodya Bandara"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle LTI 1.1 error in user grade update with a \"null\" grade",
          "Text": "Hi Vinodya, That's right, as per the Basic Outcomes specification ( https://www.imsglobal.org/spec/lti-bo/v1p1#basic-outcome-service ), \"The only type of grade supported by this service is a decimal numeric grade in the range from 0.0 - 1.0\". Moodle enforces just that. Hope that helps. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 30, 2021, 2:54 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle LTI 1.1 error in user grade update with a \"null\" grade",
          "Text": "Hi Jake, Thank you so much for the update! It really helps. Regards, Vinodya",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 30, 2021, 9:28 PM",
          "AuthorName": "Vinodya Bandara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4263636&course=5",
          "role": [
            "Picture of Vinodya Bandara"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451263,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451263",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Passing group platform to tool",
          "Text": "Hi! Is it possible to auto enrole a LTI-user to a group in the tool (LTI-provider)? I want to predefine groups in the tool. The activities in the tool are linked to many courses of different platforms. The trainer of the platforms should only see the quiz-attempts of their own students. Regards Markus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 9, 2023, 10:06 PM",
          "AuthorName": "Markus Smole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1772587&course=5",
          "role": [
            "Picture of Markus Smole"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing group platform to tool",
          "Text": "Hi Markus, Unfortunately, this is not currently supported but that kind of a use case is probably common. I'd suggesting raising a ticket in MDL-73813 to address this. We're currently focused on the other side of LTI (Moodle's consumer) for the next little while but getting that issue created there at least lets others vote, discuss, etc. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 10, 2023, 9:36 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group platform to tool",
          "Text": "Update: I've moved the preexisting issue MDL-62662 into the Provider Follow Ups epic, which deals with adding support for this. Looks like there's a patch there and we're making some progress. Feel free to add your vote to that issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2023, 8:53 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing group platform to tool",
          "Text": "Thank you for this information - voting done! Markus",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2023, 2:32 PM",
          "AuthorName": "Markus Smole",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1772587&course=5",
          "role": [
            "Picture of Markus Smole"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 359353,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359353",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How I can use same LTI activity in several courses?",
          "Text": "Hi I should to add same LTI activity to several courses. If I use same ID twice in 'Common module settings' > 'ID number', I get error ' This ID number is already taken'. Any ideas? rgd Arto",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 2, 2017, 3:41 PM",
          "AuthorName": "Arto Aalto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1204894&course=5",
          "role": [
            "Picture of Arto Aalto"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 203967,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=203967",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Initiating contact from desktop application?",
          "Text": "I would like to build a desktop app with LiveCode (formerly Runtime Revolution http://runrev.com ) to provide a complex simulation for my learners. They'll download the application from within the Moodle course. Would the External Tool interface be the right way to let the learner upload their activity in the simulation back to Moodle for inclusion in the Gradebook? Or would I need to use an external website that could receive the scores and act as an LTI provider? That could be problematic for learners-- the more complicated the system is, the more prone to failure.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 1, 2012, 10:01 PM",
          "AuthorName": "Elizabeth Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1413178&course=5",
          "role": [
            "Picture of Elizabeth Dalton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 409360,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409360",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI link id in database?",
          "Text": "I am trying to figure out where the LTI link is in the database . I have an LTI link on a page \" https://mymoodle-example.net/mod/lti/view.php?id=123456 7\" and I want to find the LTI record in the database in one of the tables with the id \"1234567\", but I can't figure out where this ID value is in the Moodle database?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 26, 2020, 3:23 PM",
          "AuthorName": "James .",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1351540&course=5",
          "role": [
            "Picture of James ."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 445524,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=445524",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Does the \"Published as LTI Tools\" include Grade Passback",
          "Text": "This is for LTI 1.3 / LTI Advantage. Does the Moodle Tool support Grade Passback to the Consumer?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 4, 2023, 8:07 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Does the \"Published as LTI Tools\" include Grade Passback",
          "Text": "Yes, it does. This is done via a scheduled task though, so cron needs to be running regularly. Grade sync is configurable on each published activity/course too, but default to 'enabled'. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 5, 2023, 9:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Does the \"Published as LTI Tools\" include Grade Passback",
          "Text": "I think it does..... just knowing it's there is certainly a help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 6, 2023, 3:14 PM",
          "AuthorName": "Ian Stuart",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5547021&course=5",
          "role": [
            "Picture of Ian Stuart"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447113,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447113",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 custom variables",
          "Text": "Hi! quick question about custom parameters . is there a way to provide user and course information like the id/uuid ? I use this variable to maintain some kind of session on my tool. Other LMS use custom parameters in LTI with a set of variable that we can use to get this kind of information but I could not find documentation related to this topic in Moodle. Also, I have notice that the version 4.1 is returning the claim b asicoutcome which in some way I can use to get this kind of information but in version 4.2 this claim was removed. What would be general approach if I would like to maintain compatibility between Moodle's versions ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2023, 12:06 AM",
          "AuthorName": "Javier Galarza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5628762&course=5",
          "role": [
            "Picture of Javier Galarza"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 custom variables",
          "Text": "Hi Javier, You can find the supported substitution parameters in locallib . Of course user id is always provided in launches anyway in 1.3, under the 'sub' claim. If you're using it for uniqueness though, remember that it is only unique within that issuer. Personally, I wouldn't bother with basic outcomes now that you're running 1.3. I'd stick to those services defined in the LTI Advantage suite of specs. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 4:52 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 custom variables",
          "Text": "thanks, that helped me a lot",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 16, 2023, 2:23 AM",
          "AuthorName": "Javier Galarza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5628762&course=5",
          "role": [
            "Picture of Javier Galarza"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450159,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450159",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to include institution/system role for a user",
          "Text": "Hello, As an administrator of a Moodle instance I am testing our LTI tool. I noticed that when I perform a launch as the admin user, the LTI roles claim includes system, institution, and context membership role. However, when I perform a launch as a student or teacher user, only the membership role is included, but not system or institution. What configuration do I need to make in Moodle to include institution roles for users performing LTI launches?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2023, 12:07 AM",
          "AuthorName": "Alina Mackenzie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5801524&course=5",
          "role": [
            "Picture of Alina Mackenzie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to include institution/system role for a user",
          "Text": "Hi Alina, There currently isn't a way to configure Moodle's external tool to do this. You'll get either \"Instructor\" or \"Learner\" (simple name equivalents of http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor and http://purl.imsglobal.org/vocab/lis/v2/membership#Learner , respectively). If this is something you'd like to see improved, you can create a tracker issue for this ( https://tracker.moodle.org ). If you do go down that path, please make sure you include a rationale for the change. See also: MDL-72066 , which deals with expanding the role mappings in the external tool. Hope that helps,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2023, 10:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 386238,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=386238",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Does Moodle support the lticm:options as a LTI consumer?",
          "Text": "A LTI provider for Canvas support the \"lticm:options\". In Canvas, when adding such a tool, it will show up the operations link defined by supporter with the \"lticm:options\". As an example below: <? xml version=\"1.0\" encoding=\"UTF-8\"?>\n<cartridge_basiclti_link xmlns=\" http://www.imsglobal.org/xsd/imslticc_v1p0 \" xmlns:blti=\" http://www.imsglobal.org/xsd/imsbasiclti_v1p0 \" xmlns:lticm=\" http://www.imsglobal.org/xsd/imslticm_v1p0 \" xmlns:lticp=\" http://www.imsglobal.org/xsd/imslticp_v1p0 \" xmlns:xsi=\" http://www.w3.org/2001/XMLSchema-instance \" xsi:schemalocation=\" http://www.imsglobal.org/xsd/imslticc_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticc_v1p0.xsd http://www.imsglobal.org/xsd/imsbasiclti_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imsbasiclti_v1p0p1.xsd http://www.imsglobal.org/xsd/imslticm_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticm_v1p0.xsd http://www.imsglobal.org/xsd/imslticp_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticp_v1p0.xsd \">\n<blti:title>readbook</blti:title>\n<blti:description>\n<!--\n[CDATA[readbook is an open-source, online learning tool focused on tools for digital annotation. readbook allows instructors, students, and co-learners to discover different ways of reading, interpreting, and discussing course materials.]]\n-->\n</blti:description>\n<blti:launch_url>https://***.com/lti</blti:launch_url>\n<blti:icon>https://***.com/sites/all/themes/readbook_stories/favicon.ico</blti:icon>\n<blti:extensions platform=\"canvas.instructure.com\">\n<lticm:property name=\"tool_id\">readbook</lticm:property>\n<lticm:property name=\"icon_url\">https://***.com/sites/all/themes/readbook_stories/favicon.ico</lticm:property>\n<lticm:property name=\"privacy_level\">public</lticm:property>\n<lticm:options name=\"resource_selection\">\n<lticm:property name=\"enabled\">true</lticm:property>\n<lticm:property name=\"url\">https://***.com/lti?destination=/lti_resource_list</lticm:property>\n<lticm:property name=\"text\">Add resources from readbook</lticm:property>\n<lticm:property name=\"selection_width\">800</lticm:property>\n<lticm:property name=\"selection_height\">600</lticm:property>\n</lticm:options>\n<lticm:options name=\"course_navigation\">\n<lticm:property name=\"text\">Manage readbook</lticm:property>\n<lticm:property name=\"enabled\">true</lticm:property>\n<lticm:property name=\"url\">https://***.com/lti?destination=/lti/course/setup</lticm:property>\n<lticm:property name=\"visibility\">admins</lticm:property>\n</lticm:options>\n</blti:extensions>\n</cartridge_basiclti_link>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 12, 2019, 8:21 AM",
          "AuthorName": "wz z",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=250778&course=5",
          "role": [
            "Picture of wz z"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 225868,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=225868",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Ektron and moodle",
          "Text": "I am having my website in EKTRON and looking for some kind of weservice for auto enrolment to moodle courses as some of my courses are auto enrolment and some are manual. Any one know how can I do that. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 2, 2013, 8:41 PM",
          "AuthorName": "Arvinder Rehal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1585747&course=5",
          "role": [
            "Picture of Arvinder Rehal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 406321,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=406321",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI integration - blackboard",
          "Text": "Hi All, I came across Publish LTI in moodle 3.6, so just want to know whether course from moodle can be given to Blackboard LMS. Thanks, Manu M",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 1, 2020, 6:42 PM",
          "AuthorName": "Manu M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2472030&course=5",
          "role": [
            "Picture of Manu M"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 451064,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451064",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Launch Moodle Course from Asp.Net application",
          "Text": "Hello Moodle team, I am trying to launch a moodle course from asp.net application. I have followed the instructions described here: https://docs.moodle.org/402/en/Publish_as_LTI_tool . But this does not give full flow. Could you please explain in detail what all we need to set up and code to launch the moodle course from an asp.net application. Thanks, HV",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2023, 12:41 AM",
          "AuthorName": "Hema Venkategowda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5931894&course=5",
          "role": [
            "Picture of Hema Venkategowda"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Launch Moodle Course from Asp.Net application",
          "Text": "Hi Hema, The docs on the Publication feature really only tell you how to set up one side of the required LTI connection. The other side - the Platform side - will vary depending on the platform being used. I.e. the workflow to setup the tool connection and subsequently launch into the tool (e.g. Moodle in this case) is quite different across the different LMSes. Is your ASP application already LTI certified? Or, are you in the process of trying to build one perhaps? Regards, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 3, 2023, 10:51 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Launch Moodle Course from Asp.Net application",
          "Text": "Thanks for the response Jake. I am trying to build a simple form submit where on the click of a button, we can launch the moodle course. One note here is we don't have the user's password, we only have user's email. Using user's email I am trying to log the user in and redirect the user to appropriate course. Is there a way to do this? I tried to launch a basic Lti Launch request (to tool url /enroll/lti/launch) with parameters but that required id_token and there were some issues with the validation of that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 4, 2023, 12:10 AM",
          "AuthorName": "Hema Venkategowda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5931894&course=5",
          "role": [
            "Picture of Hema Venkategowda"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Launch Moodle Course from Asp.Net application",
          "Text": "Essentially something like this - https://github.com/LtiLibrary/LtiLibrary/wiki/TC-Basic-Launch .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 4, 2023, 3:20 AM",
          "AuthorName": "Hema Venkategowda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5931894&course=5",
          "role": [
            "Picture of Hema Venkategowda"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Launch Moodle Course from Asp.Net application",
          "Text": "Hi Hema, It's certainly a fun challenge building a platform that's capable of handling an LTI launch flow. I'd suggest keeping your focus squarely on the LTI approach instead of a custom solution as this is based on OpenId Connect (at least the current version of LTI is) and is well vetted already. One thing to be particular mindful of is the version of LTI that you're building for. If you see terms like 'consumer key' or 'consumer secret', then you're dealing with LTI 1.1, which is a deprecated specification now. I wouldn't recommend going down this route in 2023. You should definitely be looking at LTI 1.3 and LTI Advantage. The list of resources (spec docs and such) for that standard can be found here: https://www.imsglobal.org/activity/learning-tools-interoperability . The library you've linked looks like it supports 1.1, not 1.3, so isn't going to be suitable. I found the following resource was quite helpful when building a tool for 1.3, but I think it would also be quite good for a general understanding of the resource link launch. In particular, it explains the third party initiated login process quite well and is provides the example code in ASP.NET too - which may be an added bonus for you. https://andyfmiller.com/2018/12/28/launching-an-lti-1-3-resource-link-using-openid-connect-third-party-login/ I hope that helps point you in the right direction. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 4, 2023, 8:51 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Launch Moodle Course from Asp.Net application",
          "Text": "Thank you so much Jake. This is exactly what I was trying to set up as well after researching a bit on the moodle code. The example links you have provided will definitely help. I will give this a try. Thanks again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 5, 2023, 1:41 AM",
          "AuthorName": "Hema Venkategowda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5931894&course=5",
          "role": [
            "Picture of Hema Venkategowda"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 389429,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389429",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI advantage - Access token usage fails with status code 401",
          "Text": "Hello, I configured an external tool in moodle to use LTI 1.3 and was able to generate an access token by sending a POST request to OAuth2 url \"..../moodle/mod/lti/token.php\". As per the LTI advantage security model spec, i used the grant type \"Client_Credentials\". I also provided the necessary scopes as mentioned in the spec. ../lti-ags/scope/lineitem ../spec/lti-ags/scope/result.readonly ../spec/lti-ags/scope/score ../spec/lti-nrps/scope/contextmembership.readonly. I am using the token as a Bearer token to fetch lineitems. In this case, i am receiving a 401 \"Unauthorized\" error. The lineitems url is \".../moodle/mod/lti/services.php/3/lineitems?type_id=3\" and this url is part of the LtiResourceLinkRequest message. Can you please point to what's causing the 401 unauthorized error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 8, 2019, 9:17 PM",
          "AuthorName": "Srinivas Jonnala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2708860&course=5",
          "role": [
            "Picture of Srinivas Jonnala"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI advantage - Access token usage fails with status code 401",
          "Text": "I also encountered this problem with a Moodle instance in Microsoft Azure using Bitnami - the problem was that apache was stripping out the Authentication headers. The fix for me was to set this in the httpd.conf file or alternatively in the vhosts file : \n```text\nSetEnvIf Authorization \"(.*)\" HTTP_AUTHORIZATION=$1\nSetEnvIf Content-Type \"(.*)\" HTTP_CONTENT_TYPE=$1\nSetEnvIf Accept \"(.*)\" HTTP_ACCEPT=$1\n```\n \n```text\nsee: \nhttps://stackoverflow.com/a/47031629\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 27, 2020, 9:29 AM",
          "AuthorName": "Stephen O'Leary",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2892879&course=5",
          "role": [
            "Picture of Stephen O'Leary"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 462916,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462916",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Using LTI to return grade to Moodle from external activity",
          "Text": "Hi All One of my clients uses LTI to launch an external test activity and passes the user credentials as part of the process. Once the user finishes the test is closed. Once the test has been checked usually within 24 hours they currently use Zappier to send the grade back to Moodle. Is there a way to return the grade using LTI instead of Zappier? Thanks Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 15, 2024, 7:01 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Using LTI to return grade to Moodle from external activity",
          "Text": "Hi Gareth, Yes, there sure is. The preferred method is to use the Assignment and grade services (AGS - see https://www.imsglobal.org/spec/lti-ags/v2p0 ) to return the grade. The tool will obviously need to support this specification in order for that to work. Moodle already supports it on the platform/launch side, provided the service and \"Accept grades from the tool\" are both enabled on the tool configuration. Cheers Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2024, 9:08 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Using LTI to return grade to Moodle from external activity",
          "Text": "Excellent, thanks for the prompt response Jake. Cheers Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 16, 2024, 4:51 PM",
          "AuthorName": "Gareth Harris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2413481&course=5",
          "role": [
            "Picture of Gareth Harris"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 468433,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468433",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.11 share course as LTI provider with specific topic or section",
          "Text": "I am using Moodle 3.11 and want to use Moodle as an LTI Provider to share content with a client who will connect as an LTI consumer. However, my client only needs access to one specific topic (section) of the course — not the entire course. I am looking for a way to share just that topic via LTI, so that: The client only sees that specific topic when they access through LTI. Other topics or parts of the course remain hidden or inaccessible. Ideally, I don't want to duplicate the course if possible. I understand that Moodle’s default LTI provider shares the whole course. Are there any plugins, workarounds, or best practices that allow me to publish just a single topic or section via LTI Provider in Moodle 3.11?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 12, 2025, 4:40 PM",
          "AuthorName": "Tanmay Deshmukh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7434171&course=5",
          "role": [
            "Picture of Tanmay Deshmukh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Moodle 3.11 share course as LTI provider with specific topic or section",
          "Text": "Hi Tanmay, I just wanted to clarify that Moodle's tool implementation also permits activity publication in addition to course publication. It probably won't help in you achieve topic publication the way you might expect, but it's something else to consider as a means to grant access to a subset of activities . E.g. you could publish several activities and set up links to those in the platform. Of course a lot of this depends on how you want users to launch into the tool: a single link to course (or section in your example) vs several links to specific items. Hopefully others will be able to chime in regarding their workarounds. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 9, 2025, 10:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 356584,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356584",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "User language always English when starting LTI request",
          "Text": "When starting an LTI request (via the LtiLibray ( https://github.com/andyfmiller/LtiLibrary )) and launch_presentation_locale is set to \"nl-BE\", the user still gets the Moodle page in English. Currently using version Moodle 3.2.2+ (Build: 20170316). Language packs installed: English, Dutch and French. Language settings: default language = Dutch Plugins - enrolments - Publish as LTI tool: Preferred language = Dutch Also when changing the preferred language of the user to Dutch and starting the LTI request again, the preferred language of this user is changed back to English and the page is shown in English. What parameter should be passed in the LTI request so that the preferred language of the user is correctly set (to Dutch)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 9, 2017, 6:19 PM",
          "AuthorName": "Filip Masset",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2270632&course=5",
          "role": [
            "Picture of Filip Masset"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 233252,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233252",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "A bunch of bug-fixes going in to the External tool module",
          "Text": "Between Mark Nielsen and me it has been a good week for getting LTI issues fixed: https://tracker.moodle.org/issues/?jql=Key%20IN%28MDL-40867%2CMDL-40863%2CMDL-40857%2CMDL-40005%2CMDL-36399%29 There is one issue in particular that I wanted to hilight, becuase it is a user-visible change. At the moment, if you set an LTI link ot open in a new window, what happens is Student clicks link. Course page is replaced by an almost blank page saying \"Your thing should open in a new window\". That page then tries to open the new window, but is highly likely to be blocked by your pop-up blocker. But, hopefully the external tool opens in a new Window. After MDL-40867 is fixed, it will work like this: Student clicks link. New window (or tab) opens containing the external tool. The old browser window which contains the course page does not change. I hope everyone agrees that this new behaviour is jsut better, and there is no issue in making this change on the Moodle stable branches. If you disagree, please comment in the bug.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2013, 7:33 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 436729,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436729",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Sessions",
          "Text": "Hello everyone, I am attaching a video as part of a test. https://www.screencast.com/t/VPGn6ykwd6o We have integration between Moodle and Brigthspace. Moodle is the tool provider, and Brigthspace works as a consumer. The conection is NOT LTI 1.3 These are the steps from the video. 1. Open an LTI link (External Learning Tool) to a SCORM Activity. 2. Navigate the SCORM to reach slide 2. 3. Open a new link Quiz as External Resource. 4. Answer a question from the Quiz. 5. Return to the SCORM Activity and advance to the slide 3. 6. Close tab with the SCORM Activity. 7. Open the same SCORM Activity of point 1. --- Issues --- 8. The SCORM Activity allows the students to move to slide 2, but Progress 3 was not saved since the user reached the slide 3. If no Quiz or external tool is open, the progress is saved. 9. Answer a new Question from Quiz opened in point 3. The session was closed and the student was kicked out of the Quiz. Each time a new link is opened, the previous session is terminated. Is this a behaviour that can be modified? Is there a solution in LTI 1.3 to this behaviour? Thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2022, 9:50 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Sessions",
          "Text": "Hi Jan, Yes, this is something that's a problem in legacy launches because we call complete_user_login() for every launch, regardless of whether the user has a existing session or not. The LTI Advantage implementation deliberately doesn't do this. If the mapped user is found to have a session, we use that session instead of starting a new one. This also means that sites can publish and consume resources to/from the same site, using deep linking with LTI Advantage, without running into session issues. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2022, 10:31 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sessions",
          "Text": "Hello Jake, Thanks for your answer. It is very helpful. Do we have any thread that could help us with the implementation of LTI Advantage from Moodle (Tool Provider) to Brightspace (Tool Consumer)? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2022, 11:24 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Sessions",
          "Text": "Hi Jan, This isn't something I've tested personally, but I know some members of the community have set up the D2L integration successfully for launching and grade sync purposes. The D2L docs are probably a good place to start. I imagine setting up a Moodle tool is much the same as setting up any other tool over LTI Advantage. Perhaps others can share their experience here. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2022, 12:00 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 393398,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=393398",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Displaying Quiz grade in Moodle \"Consumer\" site gradebook",
          "Text": "Hi I have successfully integrated an LTI activity from one Moodle site (Provider) into another Moodle site (Consumer) where the content , quizzes and grades show perfectly in the embedded window. But I can not seem to get the grades to then show within the grade-book of the \"Consumer\" site itself. They appear back in the Provider Moodle site perfectly, but just not showing in the Consumer Moodle grade-book. Any ideas ? Cheers Richard",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 13, 2019, 12:37 PM",
          "AuthorName": "Richard Wallace",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1212465&course=5",
          "role": [
            "Picture of Richard Wallace"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 444968,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444968",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "MATLAB Grader LTI 1.3 response problems",
          "Text": "For over\na week I try to get MATLab Grader work probably in Moodle over LTI. The tool\nsetup was straight forward and there’s no problem to integrate MATLab Grader into\na course, so the communication to the Mathwork servers seem to work. But when\nstudents submit an answer in MATLAB Grader they get the following error message: Your\ngrade could not be recorded. The gradebook could not be reached. Try\nresubmitting in a few minutes. If the problem persists, contact the instructor. The\nMoodle setup is a LAMP Setup with ubuntu 20.4. and Moodle 3.11.12. The same\nerror occurs with another LTI tool MyOpenMath, Grades could not saved in the\nMoodle Grade Book. So I guess it is an general problem with the LTI response. From the\napache error log I get this information apended in the text file. Any help\nwould be highly appreciated. Kind regards Olli",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 17, 2023, 5:06 PM",
          "AuthorName": "Olliver Lüppen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861644&course=5",
          "role": [
            "Picture of Olliver Lüppen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: MATLAB Grader LTI 1.3 response problems",
          "Text": "Hi Olli, Those error logs suggest that https://www.myopenmath.com/lti/jwks.php is unreachable by Moodle. So, I'd suggest trying to work out why that is. This isn't used during a launch, but will be used when the tool calls services, which likely explains why you're able to integrate the grader into the course, but unable to receive grades. We've recently patched a proxy awareness issue relating to just this in MDL-73847 , which might be of some interest (4.0+ only I'm afraid, so no support in 3.11). Certainly we expect Moodle to be able to reach the tool JWKS as it needs this to verify messages. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 21, 2023, 11:18 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: MATLAB Grader LTI 1.3 response problems",
          "Text": "Hi Jake, thanks for the quick reply from an older error message i also get an error message for OpenSSL: PHP Warning: file_get_contents(): SSL operation failed with code 1. OpenSSL Error messages:\\nerror:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed in /var/www/html/moodle-3-11-8/mod/lti/locallib.php on line 1366",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 21, 2023, 2:43 PM",
          "AuthorName": "Olliver Lüppen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861644&course=5",
          "role": [
            "Picture of Olliver Lüppen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: MATLAB Grader LTI 1.3 response problems",
          "Text": "Yes, I'd be focused on working out why those certs errors occur. Perhaps \"error:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed\" is what you need to look at. There seem to be a few posts kicking around about that specific error and what it means. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 22, 2023, 10:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: MATLAB Grader LTI 1.3 response problems",
          "Text": "Hi Jake, it seems that i found a solution for my problem there were missing links to certificates in our openssl default folder. I checked the folder with: php -r\n\"print_r(openssl_get_cert_locations()['default_cert_file']);\" the result showed /usr/local/ssl/ on other systems with a working MatLab Grader the code pointed to the folder /usr/lib/ssl/ . The solution was to copy the content from /usr/lib/ssl/ to /usr/local/ssl/. Cheers Olli",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2023, 9:55 PM",
          "AuthorName": "Olliver Lüppen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4861644&course=5",
          "role": [
            "Picture of Olliver Lüppen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 451300,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=451300",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Missing state parameter in LTI 1.3 tool launch in Moodle mobile app",
          "Text": "We're a tool provider utilizing LTI 1.3 and the intergration has been working well in the Moodle web-interface. We've just been informed about a problem when using the Moodle app (iOS) and we've tracked it down to that the state parameter is missing in the launch procedure. More specifically the expected state parameter of the authentication response is missing ( https://www.imsglobal.org/spec/security/v1p0/#step-3-authentication-response ). Our tool then fails because it can't do the necessary CSRF token checks for the login. What can possibly cause the mobile app to not send the state parameter? The problem is only appearing for one of our customers, when we test it ourselves in the Moodle app it behaves a bit differently and works. In our tests it seems it always launches the activity in normal Safari outside of the app while for the customer it seems to launch in-app. We've tried different settings but we've been unable to make it launch in-app (on web we can make it launch in iframes or in a new window but this doesn't seem to have any affect on the mobile app). What is controlling if it launches in-app or with the native browser? How can we make it launch in-app to potentially be able to reproduce the problem? Our test instance of Moodle is 4.0.1+ (Build 20220527)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 10, 2023, 5:57 PM",
          "AuthorName": "Johannes Berg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5968349&course=5",
          "role": [
            "Picture of Johannes Berg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Missing state parameter in LTI 1.3 tool launch in Moodle mobile app",
          "Text": "Hi, this seems to be related to MOBILE-3724 , specifically: In Moodle App 3.9.5 we changed the default behaviour of the app. For 3.11 or higher Moodle sites, by default the app will open the\nLTI activity in the browser to make LTI 1.3 work. There'll be a setting\nin Moodle (Site administration > Mobile\napp > Mobile features > Disabled features > External tool >Launch via site in system browser) to change this default behaviour so LTIs are launched in\nInAppBrowser as they used to To keep backwards compatibility, in Moodle sites older than 3.11\nthe LTIs will still be launched in InAppBrowser by default. However,\nthere's a setting in Moodle 3.9 & 3.10 to disable this behaviour and\nforce the app to open it in browser: Site administration > Mobile\napp > Mobile features > Disabled features > External tool >\nOpen using embedded browser. According to what you said, some users are experiencing this issue while others are not, so it might be possible that some users are using very old versions of the Moodle mobile app? You should ensure that: * Users of the app are using recent versions of the Moodle app * If your client's Moodle site is using Moodle LMS 3.11 onward, the setting \"Site administration > Mobile\napp > Mobile features > Disabled features > External tool >Launch via site in system browser\" is NOT selected * If your client's Moodle site is < 3.1, the setting \"Site administration > Mobile\napp > Mobile features > Disabled features > External tool > Open using embedded browser\" is selected",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 10, 2023, 9:29 PM",
          "AuthorName": "Juan Leyva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49568&course=5",
          "role": [
            "Picture of Juan Leyva",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Missing state parameter in LTI 1.3 tool launch in Moodle mobile app",
          "Text": "Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 10, 2023, 11:21 PM",
          "AuthorName": "Johannes Berg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5968349&course=5",
          "role": [
            "Picture of Johannes Berg"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 437016,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437016",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 and Skillable",
          "Text": "I have followed guidance to build an external tool for linking to LOD from Skillable, and now I can see the content with LTI 1.3, but when I try adding selected content, I get the following error. Exception - Argument 1 passed to Firebase\\JWT\\JWK::parseKeySet() must be of the type array, null given, called in [ dirroot ]/mod/lti/locallib.php on line 1372 I was given the following from the provider: LTI 1.3 Login / Connect URL : <URL> LTI 1.3 Launch URL: <URL> LTI 1.3 JWKS URL: <URL> LTI 1.3 DeepLink URL: <URL> Public LTI 1.3 Key:  <URL> Private LTI 1.3 Key: <URL> Built the tool as follows: External Tool Configuration -> Configure a tool manually. Tool URL: <LTI 1.3 Launch URL> LTI Version: LTI 1.3 Public key type: Keyset URL Public Keyset: <Public LTI 1.3 Key URL> Initiate Login URL: <LTI 1.3 Login / Connect Url:> Redirection URI(s): <LTI 1.3 Launch URL> Custom parameters: None Tool configuration Usage: Show as preconfigured tool when adding an external tool Default launch container: Embed, without blocks Supports Deep Linking (Content-Item Message):  Checked Content Selection URL: <LTI 1.3 DeepLink URL> I then provided back the Platform ID, Client ID, Public keyset URL, Access token URL, and Authentication request URL to the provider and they put those in on their end.  When I go to use the tool and Select Content, I see the labs, but when I click one to add, I get the above error. Any help would be great! Tom",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 6, 2022, 6:37 AM",
          "AuthorName": "Tom Marsland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4997578&course=5",
          "role": [
            "Picture of Tom Marsland"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Did you ever get this resolved? I'm currently seeing the same error with Moodle 3.11.8 and using Gradescope.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2022, 1:36 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Hi Carly, No, I haven't gotten deep linking working yet. Skillable / LOD worked with me to give me a list of lab IDs and I had to add it into each lab activity as a custom parameter of \"LabID=XXXXX\" Tom",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2022, 2:08 AM",
          "AuthorName": "Tom Marsland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4997578&course=5",
          "role": [
            "Picture of Tom Marsland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "I can't be sure (mainly because I don't have access to debug the deep linking launches for either of the tools reported in this thread) but this may turn out to be related to MDL-73847 . If you're able to, I'd suggest testing the patch linked on that issue and reporting back here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2022, 10:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "@Jake, I'm a bit new to patching from those threads - can you give me a quick rundown on how to go about doing that? Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2022, 12:24 PM",
          "AuthorName": "Tom Marsland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4997578&course=5",
          "role": [
            "Picture of Tom Marsland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Hi Tom, You'll need to be familiar with git and then pull in the patch on that linked issue. Some information on that can be found here ( https://docs.moodle.org/dev/Git_for_developers#Peer-reviewing_someone_else.27s_code ). If you're not familiar with the development process, or pulling in patches, then it's probably something we'll need to leave for others to test. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2022, 1:49 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "The team at LOD gave me some settings to update, now this is the error I get. Any advice? Exception - OpenSSL error: error:0909006C:PEM routines:get_name:no start line",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 25, 2022, 2:34 AM",
          "AuthorName": "Tom Marsland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4997578&course=5",
          "role": [
            "Picture of Tom Marsland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Hi Tom, That error appears unrelated to Moodle code. It appears to be openssl specific, perhaps relating to the format of the PEM file. Google will probably tell you more.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 7, 2022, 9:46 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Exception - OpenSSL error: error:0909006C:PEM routines:get_name:no start line could be linked to the setting in the public key field : -----BEGIN PUBLIC KEY----- is missing or there is a \" before -----BEGIN PUBLIC KEY-----",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 11, 2024, 7:38 PM",
          "AuthorName": "Ludo M",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1648362&course=5",
          "role": [
            "Picture of Ludo M"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Skillable",
          "Text": "Hi Tom, I'm looking to add LOD now Skillable to my moodle LMS. I appreciate it if you can let me know if you were able to make it work, and if you did can you walk me through the steps? Thank you I appreciate your time in advance for your response. Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 16, 2023, 4:22 AM",
          "AuthorName": "Marko Marko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1813649&course=5",
          "role": [
            "Picture of Marko Marko"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 348598,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=348598",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Feasibility Analysis of Moodle and LTI",
          "Text": "Hi, I am just starting with LTI 2.0. I read in the LTI documentation that full both-way REST based communication is possible between tool provider and tool consumer. Can anyone please tell me whether these following things are feasible via LTI? 1. Upcoming deadlines in moodle should be synced using my external tool provider. 2. Course created in moodle should be passed on to the tool provider to be created in the tool provider. 3. Roster information from moodle should be synced with the tool provider roster list. 4. Assignment created in the tool provider should automatically get created in moodle or vice - a - versa. Thanks, Omkar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 4, 2017, 5:34 AM",
          "AuthorName": "Omkar Joshi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2210896&course=5",
          "role": [
            "Picture of Omkar Joshi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Feasibility Analysis of Moodle and LTI",
          "Text": "Hi Omkar, An LTI provider is a tool to be included as part of the consumer. It is not really for syncing of courses or assignments etc. For instance if an assignment is created in the tool provider, it will be only part of the tool provider, but the consumer can access it. Could you go into more detail about some of your terms? What do you mean by deadline ? The deadline of the provided tool, or the assignments in the provided tool. What do you mean by roster information ? I hope this helps you understand of the purpose and place of LTI a bit more, and I hope I can help more after reading your reply. (Note that this is beyond just moodle - moodle just follows the spec)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 10:43 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Feasibility Analysis of Moodle and LTI",
          "Text": "Hi John, I have an external web application for managing courses, assignments and participants. I want to integrate this external web application with moodle using LTI. The external web application will act as an LTI tool provider and moodle will act as an LTI consumer. Deadlines are nothing but calendar events, like assignment completion deadline. Whenever I update a deadline for an assignment in my external web application, it should be automatically reflected in moodle for that particular assignment. Roster information is the list of participants(students, TAs) enrolled under a course. Whenever a participant is added / deleted from a course, the participant must also be deleted from the external web application automatically. I hope I am clear. I'm sorry for the confusion.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 2:42 PM",
          "AuthorName": "Omkar Joshi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2210896&course=5",
          "role": [
            "Picture of Omkar Joshi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Feasibility Analysis of Moodle and LTI",
          "Text": "That's not really what LTI is about as I understand it. What you are after is probably best dealt with using webservices: https://docs.moodle.org/32/en/Web_services",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 3:18 PM",
          "AuthorName": "Just H",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=69050&course=5",
          "role": [
            "Picture of Just H"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Feasibility Analysis of Moodle and LTI",
          "Text": "Yes, to second this, web services are what you will need if the syncing of assignments and courses and deadlines (and more specific features like that) is critical to your app. LTI providers are designed to exist as one tool as part of a course on the LTI consumer (generally speaking)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 3:24 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Feasibility Analysis of Moodle and LTI",
          "Text": "Ah I see what you mean. It doesn't sound like LTI can do exactly what you might want. But it can achieve the same goal. It will sync roster information. It can't sync deadlines or courses or assignments. But it can give access to the courses and assignments in your web app. Hope this makes sense",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 7, 2017, 3:22 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453677,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453677",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Request for Assistance: Making \"Show Meetings/Recordings Only\" Checkbox Default in Zoom LTI Integration",
          "Text": "Hello Moodle community, I hope this message finds you well. As a Moodle administrator for [Your Local College], we have been encountering an issue with the Zoom LTI integration. The problem revolves around the display of meetings and recordings within Moodle, where irrelevant content is currently being shown. We are aware that there is a checkbox allowing users to filter and display only relevant meetings or recordings. However, our users frequently overlook this checkbox, leading to confusion and frustration. To enhance user experience and streamline the process, we would like to make the \"Show Meetings/Recordings Only\" checkbox pressed by default. Could you please guide us on how to achieve this customization? Any insights, code snippets, or step-by-step instructions would be greatly appreciated. Thank you in advance for your assistance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 18, 2023, 8:25 PM",
          "AuthorName": "Shraga Dvir",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6152595&course=5",
          "role": [
            "Picture of Shraga Dvir"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Request for Assistance: Making \"Show Meetings/Recordings Only\" Checkbox Default in Zoom LTI Integration",
          "Text": "As this is an LTI tool, Moodle has no control over that behaviour.  This is a disucssion you would need to have with Zoom support.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 19, 2023, 6:37 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 364378,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=364378",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "A problem, issue and a query that will help.",
          "Text": "Hi, Could we integrate third-party content via plugin like LTI or any other so that we can promote and feature our partners content and provide access to courses through our platform but all content remains on our partner's LMS? How to achieve this quickly? Thanks Moodle 3.4",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2018, 10:46 AM",
          "AuthorName": "MoodleKittyCat .",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404085&course=5",
          "role": [
            "Picture of MoodleKittyCat ."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Can AICC compliant courses be LTI'ed into our Moodle LMS?",
          "Text": "Can AICC compliant courses be LTI'ed into our Moodle LMS? If a provider does not know if they are LTI consumer compliant or not. How do we make sure they are or not? What series of questions should we ask? If they are not LTI consumer compliant and then what other options do we have? Thanks (Edited by Mary Cooch to clarify the subject title - original submission Monday, 22 January 2018, 3:38 AM)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2018, 11:38 AM",
          "AuthorName": "MoodleKittyCat .",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1404085&course=5",
          "role": [
            "Picture of MoodleKittyCat ."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can AICC compliant courses be LTI'ed into our Moodle LMS?",
          "Text": "Hello RK. I have just changed the title of this post to make it clearer for others to see and be able to help you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2018, 3:14 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: A problem, issue and a query that will help.",
          "Text": "The short answer is yes - you can use LTI to achieve this. Please see the relevant Moodle docs for help on this functionality. If you have further questions, I suggest that you make them more specific, and outline the steps you have tried, and the specific issues that you have encountered.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 23, 2018, 12:04 PM",
          "AuthorName": "Andrew Lyons",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=268794&course=5",
          "role": [
            "Picture of Andrew Lyons",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 372893,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=372893",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Internal LTI",
          "Text": "Hi there, I attempted to add an internal LTI on my 3.4 Moodle site and it's almost working but not quite! I added the LTI link in course A to a published-as-lti activity in course B. They are both on the same Moodle site. When the student clicks on the LTI link, they can see the activity. However a pop-up appears \"Web service is not available (it doesn't exist or might be disabled)\", and the student is logged out of the Moodle site. When I go to Course A, I can see that the LTI student is enrolled. Can anyone guide me on how I can add the web service please? Or is this 'internal lti' possible yet? Thank you Catherine",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 4, 2018, 7:44 PM",
          "AuthorName": "C Behan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1854471&course=5",
          "role": [
            "Picture of C Behan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 467428,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467428",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Trying to set up LTI external tools on Moodle 4.5 similarly to Moodle 4.1",
          "Text": "Hi all, I post here to share a tracker I registered: https://tracker.moodle.org/browse/MDL-85163 I would like you take a look on it and share your thoughts and experience. The issue goal is to expose the difficulties to set up in the most similar way LTI external tools on Moodle 4.5 to that that was available on 4.1. Its context , as detailed on the tracker, is that we currently have the weekly Moodle 4.1 version on production, and we are planning to migrate to Moodle 4.5 on July. We need to test that current features we offer to teacher are kept. The easy way of configuring LTI external tools at course level on Moodle 4.5 is really hard and generating LTI external tool records at site level, duplicating them when importing LTI tools between Moodle courses. It is somehow an EPIC tracker or summary of detected things that should be improved or fixed. I decided to create a single issue on the tracker since I do not know the exact future of LTI integration on Moodle, as a platform, so that maybe there are proposals that make no sense. Maybe. But at least, they express an experience and viewpoint that we believe should be considered when designing and implementing further things about LTI. From a certain perspective, we are seeing this new LTI External tool configuration at the course level as an impediment and breaking the operation from previous Moodle versions. I do not know exactly when this new option was added. We talk about Moodle 4.5 since we are facing it on our next Moodle migration. In summary, the main goal we are looking for is to enable LTI tools at course level, in a simple and sustainable way. Thanks for your time, Jordi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 10, 2025, 11:45 PM",
          "AuthorName": "Jordi Pujol-Ahulló",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1518376&course=5",
          "role": [
            "Picture of Jordi Pujol-Ahulló",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 263942,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=263942",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "External Tool (LTI) not working in Internet Explorer",
          "Text": "I have a Moodle 2.6.2 running being the LTI provider (using the LTI Provider plugin). My consumer Moodle is 2.6+ and there we use the External tool activity. This works fine using Chrome and other browsers. Using Internet Explorer 9, 10 and 11 it does not work. The link of the External Tool can be clicked and seems to start but ends up showing the login screen. I have experimented with authentication 'No login' and 'Manual' but both do not work. Have deleted all LTI accounts and started from consumer again. I can see that an account is being created on the provider site so some communication is being done. Anyone who has experienced the same and can provide a solution?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 15, 2014, 7:07 PM",
          "AuthorName": "Peter Jonker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=851251&course=5",
          "role": [
            "Picture of Peter Jonker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool (LTI) not working in Internet Explorer",
          "Text": "If you \"can see that an account is being created on the provider site\" then I suspect the issue is not with the LTI launch but with the security policy in your browser refusing to accept the cookie from the tool provider site when it tries to establish a login session.  Does the same behaviour occur when the tool provider is opened in a new window/tab?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 20, 2014, 5:36 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool (LTI) not working in Internet Explorer",
          "Text": "Stephen, Opening the External Tool in a new window/tab pulled the trick. That was every helpful! If I want to stick to embedded I think adjusting my security policy in the browser would help. Have you got any directions on what to look for to make that work? Thanks again! Peter Jonker",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 28, 2014, 10:53 PM",
          "AuthorName": "Peter Jonker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=851251&course=5",
          "role": [
            "Picture of Peter Jonker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool (LTI) not working in Internet Explorer",
          "Text": "I think this blog post may help you: http://www.celtic-project.org/Project_blog/2012/11/A_Learning_Experience_P3P_and If not, let me know.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 29, 2014, 2:12 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 457721,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=457721",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to attach a LTI 1.3 ResourceLink to an Activity?",
          "Text": "Hello, My LTI 1.3 tool doesn't provide DeepLinking currently, how can one attach the ResourceLink directly into an Course Activity?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 22, 2024, 7:46 PM",
          "AuthorName": "Latte Software",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6415970&course=5",
          "role": [
            "Picture of Latte Software"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to attach a LTI 1.3 ResourceLink to an Activity?",
          "Text": "Hi there, How are you identifying the resources? Do you use custom parameter? If so, custom parameters can be set at the link-level, despite the tool being configured at site or course level, which would let you launch into a specific piece of content. You just need to edit the activity settings and click \"Show more\" to see that field. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 23, 2024, 9:15 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to attach a LTI 1.3 ResourceLink to an Activity?",
          "Text": "Hello Jake, Thanks for you response! I am identifying a resource using the`resource_link_id` ( https://www.imsglobal.org/spec/lti/v1p3#resource-link ). Until now, I: 1. Created a Course > Course Format > Type of Activity: External Tool 2. Went to the Course view in Edit Mode > Added an Activity and pointed to my external tool 3. After clicking in my external tool in the previous step, I got into the Activity Form, here is where I am lost, not sure where to put my Resource Link. So I was looking for a field where I could put the URL (for instance: myexternaltool.com/lti-resources/:resource_link_id) directly into the activity. Which when clicked, it would perform a POST request as described here: https://www.imsglobal.org/spec/lti/v1p3#examplelinkrequest",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 23, 2024, 10:02 AM",
          "AuthorName": "Latte Software",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6415970&course=5",
          "role": [
            "Picture of Latte Software"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to attach a LTI 1.3 ResourceLink to an Activity?",
          "Text": "Alright. I think there are a few things to clarify here. Firstly, the resource link id is an id generated by the platform (Moodle in this case), not the tool. Moodle generates this for every resource link (activity instance) and sends it in the launch. You'll need an id generated by your tool to pass in the launch to identify a specific tool resource. How you get that id, and what it looks like, is up to you, but I'd move away from calling it the resource link id, since that has existing meaning within LTI. Once you've got that id from your tool, you should add it as a custom parameter in Moodle. Then, when the tool is launched, and receives the JWT, you will retrieve the custom parameter from the launch data's custom claim ( https://www.imsglobal.org/spec/lti/v1p3#custom-properties-and-variable-substitution ). It's just a name=value pair, added to the \"custom parameters\" form field, which you'll only see once you click \"Show more\" inside the activity instance form when configuring the link.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 23, 2024, 10:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 199266,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=199266",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External Database Authentication Not Working",
          "Text": "Here is the debug info: For odbc Connect(), MemberData_44851 is not used. Place dsn in 1st parameter. (odbc_ms sql ): SET CONCAT_NULL_YIELDS_NULL OFF IM002: [Microsoft][ODBC Driver Manager] Data source name not found and no default driver specified localhost: [Microsoft][ODBC Driver Manager] Data source name not found and no default driver specified (odbc_mssql): SELECT * FROM vw_MoodleFull2 WHERE UserName = '500833' AND Password = '12345' IM002: [Microsoft][ODBC Driver Manager] Data source name not found and no default driver specified With debugging turned off I simply continue to get the invalid login message.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 27, 2012, 10:00 AM",
          "AuthorName": "Stanley Swank II",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=698321&course=5",
          "role": [
            "Picture of Stanley Swank II"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 257199,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=257199",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Error w/ Basic Outcome service reporting missing consumer key (2.6)",
          "Text": "I'm developing a tool provider for a Moodle instance and having trouble submitting grades back to Moodle. Attempting to POST to mod/lti/service.php throws a 404 error & the message 'Consumer key is missing.' (after turning on debugging). I've verified that my tool is producing valid OAuth headers and have even tried POSTing manually generated OAuth headers (both via the 'postman' chrome extension). As far as I can tell, the submitted XML is valid, though I don't think that's ever evaluated. I'm kind of at a loss, here. Anyone have suggestions for further inquiry?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 28, 2014, 12:08 AM",
          "AuthorName": "Benjamin Riggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1771863&course=5",
          "role": [
            "Picture of Benjamin Riggs"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error w/ Basic Outcome service reporting missing consumer key (2.6)",
          "Text": "It turns out the OAuth library I was using (or, rather, the OAuth library that was being used by the LTI library I was using) was the culprit. While I didn't bother to find out the exact fault (my suspicion lies with its handling of the oauth_body_hash parameter), I was able to successfully post a grade using another OAuth library.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 2, 2014, 5:24 AM",
          "AuthorName": "Benjamin Riggs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1771863&course=5",
          "role": [
            "Picture of Benjamin Riggs"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error w/ Basic Outcome service reporting missing consumer key (2.6)",
          "Text": "can u please tell me which library you where using and which u used finally It would be a big help.. please help me save my job.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 4, 2014, 9:18 PM",
          "AuthorName": "vartika sinha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1821039&course=5",
          "role": [
            "Picture of vartika sinha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error w/ Basic Outcome service reporting missing consumer key (2.6)",
          "Text": "It turns out that i (my provider) had to trim hash and secret before sending LTI request to moodle consumer. I was using moodle 2.7 oauth1a google java libs version 20100527",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 17, 2014, 8:19 PM",
          "AuthorName": "vartika sinha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1821039&course=5",
          "role": [
            "Picture of vartika sinha"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 367343,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=367343",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Unable to get LTI content to display",
          "Text": "I have 2 Moodle sites setup and I am trying to test the LTI functionality between them. They are both running version 3.3. In Provider site I have\nenabled the following: ·        \nSite\nAdministration>Plugins>Authentication>Manage Authentication>Enable\nLTI ·        \nSite Administration>Plugins>Enrollments>Manage\nEnroll Plugins>Enable Publish as LTI Tool Once enabled, in the LTI Provider site go to a course>Administration>Users>Enrollment\nMethods>Add Method>Select Publish as LTI Tool. ·        \nEnter a Custom Instance Name ·        \nSelect the Tool to be Published (Entire course\nor a Lesson within the Course).  Choose\nEntire Course. ·        \nUnder Remote System copy the Secret code. ·        \nClick Add Method – You are taken back to the\nEnrollment Methods screen that now displays your new Enrollment Method. ·        \nGo to Administration>Published as LTI Tools ·        \nMake a note of the launch details (cartridge URL and secret) or just the registration URL for the LTI Consumer site. You will need to give the LTI Consumer Site In Consumer site: ·        \nCreate or go to a course (Knowledge Hub Setup\nand Maintenance)>Add a lesson or if a lesson exists Add an\nActivity>Select External Tool as the Activity Type and click Add. ·        \nName the Activity. ·        \nPreconfigured Tool defaults to Automatic, based\non URL.  If I click Add, the screen that\nloads is blank, no error. ·        \nEnter the Tool URL, based on the info provided,\nthis is the Cartridge URL from the Provider (Shown above) ·        \nEnter the Shared Secret ·        \nLogin as a Student ·        \nGo to course and click on the LTI Activity. \n(The course should load at this point, but I just get a blank screen\nwithout any error messages (see below) Any clue as to why the content doesn't load?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 16, 2018, 4:54 AM",
          "AuthorName": "Bob Derezinski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2011048&course=5",
          "role": [
            "Picture of Bob Derezinski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 383457,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=383457",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle Provider : LTI Content-Item configuration",
          "Text": "Hi, I setup a Moodle LTI consummer accessing to activities /courses picked up on a second Moodle instance configured as LTI provider. It is ok but need to setup  at consummer side each activity or course to be mounted manually (i.e., with particular access URL and key). Is there any way to configure consummer and provider in such a way to use the LTI Content Item configuration, allowing  the consummer to choose and pickup one of several activities or courses of the Moodle provider ? The idea could be to access to a sort of catalog of everything accessible to the consummer from the provider. Thanks for your help. Laurent",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 7, 2019, 5:19 AM",
          "AuthorName": "Laurent Dairaine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=311695&course=5",
          "role": [
            "Picture of Laurent Dairaine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 407117,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=407117",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Lineitems",
          "Text": "When I create an assignment in moodle, and then try and get a list of all lineitems in a tool I am working on, the assignment I created does not appear in the lineitem container. Is there a special way you have to create assignments as line items in moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 15, 2020, 4:15 AM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Lineitems",
          "Text": "This document seems to indicate that there is a specific line item service in moodle that I should be able to access. But I am not sure how, any assistance would be appreciated. https://docs.moodle.org/dev/LTI_Gradebook_Services#:~:text=Line%20Item%20is%20a%20gradebook,definition%20the%20line%20items%20URL",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 16, 2020, 7:11 PM",
          "AuthorName": "Thomas O'Connor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3039551&course=5",
          "role": [
            "Picture of Thomas O'Connor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 336549,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336549",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTi generated usernames",
          "Text": "We are using the LTi plugin.  And very nice it is too (after initial struggles). But we understood that the generated usernames in the LTi provider were made up of the consumer identifier #    the launch url supplied by the provider (Moodle LTI) $launch_url = \"http://localhost/local/ltiprovider/tool.php?id=1\"; #    identifier of consumer can be any string(e.g. consumer_LMS) but seems sensible it indicates which consumer when more than one $consumer_key = \"consumerLocation1\"; #    the secret supplied by the provider (Moodle LTI) $secret = \"7c92c079fff371188fc496\"; and a hash of the username. But what we get is : ltiproviderc5ee1a2c0458b53e8d1b0734bc62ec68d8e31ebfd1 Is that what others see and is there any way to get the consumer key to replace ltiprovider so we get in the case of the example above: consumer Location1 c5ee1a2c0458b53e8d1b0734bc62ec68d8e31ebfd1 Very much appreciate any thoughts.  Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 15, 2016, 5:47 PM",
          "AuthorName": "Nigel Hoath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2100154&course=5",
          "role": [
            "Picture of Nigel Hoath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTi generated usernames",
          "Text": "Good question! Related to my \"Really Hard Question\" above. Have you gotten any answers yet?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 30, 2016, 12:08 AM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 368480,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=368480",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "roles in LTI provider site",
          "Text": "Hi All, We have an LTI provider moodle site. Students click on LTI links in an external site to activities in our site and are thus enrolled via LTI as students on those activities. They become a student on our site at activity level. What we want is for these students to automatically get a student role on the course containing these activities. At the moment they do seem to get access to the course automatically but I don't quite know how it works as they do not have any role at all defined at course level. We want teachers who access the course via LTI to be teachers in the course but I'm assuming if we solve the student role assignment, we solve the teacher role assignment! Anyone got any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 5, 2018, 12:26 AM",
          "AuthorName": "tamara evans braun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2018596&course=5",
          "role": [
            "Picture of tamara evans braun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 341161,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=341161",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI Provider with content picker.",
          "Text": "Hi all, I am wondering if anyone has done any work on extending the \"Publish as LTI\" in the newer version of Moodle with a content picker? To be more clear: There are LTI providers that will provide a tool consumer with a launch URL where they are then presented with a picker every time they use it to add modules or courses that they have access to. This eliminates the need to keep adding tools and providing separate LTI links. I have seen the work being done for adding the LTI ContentItem to the plugin ( https://docs.moodle.org/dev/LTI_Content_Item ), but it seems that functionality is for the consumer part of Moodle and not the provider part, unless im missing something. If anyone has any information about this, or could point me in the right direction, or even would just like to chat more about this, please let me know. Thank you in advance Roman",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2016, 3:36 AM",
          "AuthorName": "Roman Stotland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2154285&course=5",
          "role": [
            "Picture of Roman Stotland"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Provider with content picker.",
          "Text": "Hi Roman, In last few days I also did some research on this. It seems that you are right. Hope soon from Moodle side somevody will respond on this. In Moodle 3.2, content item is coming as consumer not as provider. -- Thanks Abhishek Chouhan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 14, 2016, 2:03 PM",
          "AuthorName": "Abhishek Chouhan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2139984&course=5",
          "role": [
            "Picture of Abhishek Chouhan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 425528,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=425528",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 - Proctoring Services in IMS global Spec",
          "Text": "Hello All, I'm trying to achieve LTI 1.3 IMS Proctoring strandards in my project as a tool provider. Does moodle support the LTI 1.3 proctoring spec and how this could be achieved like any specific configuration to be done while external tool in Moodle? Any help will be appreciated! Thanks in advance. Thanks, Vignesh Raju",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 10, 2021, 7:45 PM",
          "AuthorName": "vignesh raju",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4349988&course=5",
          "role": [
            "Picture of vignesh raju"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 - Proctoring Services in IMS global Spec",
          "Text": "Hi Vignesh, Unfortunately, Moodle doesn't currently support the Proctoring Service Spec. I think this would potentially be a nice addition though, but it's not on the roadmap as it stands. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 19, 2021, 10:51 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 354590,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354590",
      "NoOfResponses": 16,
      "ResponsesInList": [
        {
          "Title": "Enhancing support for IMS Content-Item message",
          "Text": "Support for the IMS Content-Item message was added to Moodle 3.3.  This introduces a new, simpler workflow for adding an LTI link to a course.  However, there are use cases involving the creation of multiple items, such as a complete table of contents, which are not yet supported.  Cengage is supporting a project to enhance the support for Moodle as\ndescribed on the project page at https://docs.moodle.org/dev/LTI_ContentItem_Enhacements. Comments and feedback welcome.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 27, 2017, 11:58 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Enhancing support for IMS Content-Item message",
          "Text": "Hi Stephen, Would there be scope within this to look at the use of Content-Item in the text editors so that these items are embedded in Moodle activities (c.f. https://tracker.moodle.org/browse/MDL-56229)? Thanks Alistair",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 28, 2017, 1:25 AM",
          "AuthorName": "Alistair Spark",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1434260&course=5",
          "role": [
            "Picture of Alistair Spark",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enhancing support for IMS Content-Item message",
          "Text": "Hi Alistair, The scope for this work does not include the integration of Content Item flow in text editor as it focuses on streamlining the addition of LTI Links as Course Activities. This is however I agree another great use case for the Content Item Selection Request. Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 20, 2017, 3:59 AM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enhancing support for IMS Content-Item message",
          "Text": "Cengage has updated the Project page with an outline of the proposed changes and I am sure would welcome comments and feedback.  My own questions are: It appears to be the case that for a tool to be able to return multiple content-items it must be added to the Activity Chooser.  Is that the case?  Are there no plans to add support for multiple items to tools which are added via the Add External Tool page? Are there any plans to extend the types of content-items being supported?  For example, to include static HTML? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 25, 2017, 3:44 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Enhancing support for IMS Content-Item message",
          "Text": "Thanks Stephen for the feedback. Here are the responses: 1. Right, there is no plan to change the External Tool flow for now. The External Tool page flow seems really geared to focus on adding one link at a time. We did not find any way that would make the support of multiple items (in particular with autocreate) feel right in that flow, so thus why we propose to keep it untouched for now. 2. There is no plan to support anything else but LTI Links for now, but I see no reason why the implementation once completed could not be extended to support other asset types. Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 25, 2017, 3:43 PM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Opt-in or change default behaviour?",
          "Text": "The proposal is to change the behavior when launching from the Activity chooser to directly go to the Tool Provider UI. This is a change from the current flow where, where, when launching from the Activity Chooser, the user is sent to the External Tool Page with the tool pre-selected. Since this is a change, the current proposal is cautious and makes the new flow an opt-in option, and thus adds an extra setting in the external tool plugin page. The question is whether or not that is truly necessary. The support for Content Item Selection Request is still emerging, and it is a better experience to avoid any in between screen and just show the Tool Provider Add page. As such, should we just remove the opt-in option and just make it the behaviour:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 26, 2017, 6:41 PM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Opt-in or change default behaviour?",
          "Text": "This screencast of how the Content-Item message works in a different LMS/VLE may be of interest here.  Selecting the tool to add takes the user directly to the tool provider and the item is added to the course immediately on return using the title, description, icon and thumbnail provided as part of the selected item.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 26, 2017, 7:20 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Opt-in or change default behaviour?",
          "Text": "I wish we could avoid another checkbox for the content item flow. I wonder if it's possible to just always skip the edit page for anything that supports content-item? But yeah I suppose the setting is the safer choice.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 27, 2017, 9:26 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Opt-in or change default behaviour?",
          "Text": "An alternative to another checkbox might be to change the existing \"Content-Item Message \" checkbox into a select tag with options of \"single item\" and \"multiple items\".  The former would be the default and follow the current workflow.  The latter would send a value of true for allow_multiple and auto_create and skip the \"Add External tool\" page when activated from the activity chooser and bypass it on the return as well (however it was activated).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 27, 2017, 4:52 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Opt-in or change default behaviour?",
          "Text": "The more I think about it, the less I see why we would want to have the old behaviour. Kind of inclined to not proposing any option for now and make it the new behavior at least to begin with unless we hear of a strong case against that. Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 1, 2017, 10:05 PM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Screen Cast added",
          "Text": "Hi! I've added a short screen cast to illustrate the proposed flow: Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2017, 8:14 AM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Screen Cast added",
          "Text": "Thanks Claude. The workflow makes sense and looks good. So if you edit a tool, will you be taken to the content item directly, or to the current edit page? And if we add multiple while editing a tool, what will the behaviour be like?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2017, 9:00 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Screen Cast added",
          "Text": "Not sure if I fully understand which workflow you are referring to as \"edit a tool\", but as I understand the proposal the change only impacts the creation of links within a course.  When the tool is selected from the Activity Chooser it redirects the user to the LTI Tool Provider for them to select/configure one or more content-items to be added to the course.  On being returned to their Moodle course, these item(s) are automatically added to the course page.  (The screencast posted by Claude shows two items being added to the course.)  Once added, these items behave in the same way as any other External Tool (LTI) link; the only thing which has changed is how they were created.  And the change would only apply to those tools which are configured as supporting the Content-Item message and which have been added to the Activity Chooser.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 2, 2017, 5:50 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Screen Cast added",
          "Text": "I see. Thanks Stephen, that answers my question",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 3, 2017, 8:17 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Logic for creating a Grade Item",
          "Text": "Hi! I've added a section in the proposal around the logic to decide or not to add a gradebook column when a link is created. It's a bit more evolved that I would have hoped, and curious to hear feedback to see if that makes sense. Thanks! Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 9, 2017, 5:14 AM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Logic for creating a Grade Item",
          "Text": "After a bit more analysis and the discovery of the handling of Result.autocreate implementation in Moodle, I've revised the proposed flow for Grade Item creation. The key here is that: in the new flow (autocreate: true) regardless that the Tool requires a grade (either by capability OR explicit settings for manual deployment) a grade book column will only be created if there is an explicit Line Item section in the Content Item payload. Hoping to hear if that makes sense? Thanks! Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 11, 2017, 1:30 AM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 382496,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382496",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI sync times and affects on performance",
          "Text": "Hi, I'm about to move into a pilot phase of using moodle as a provider for a Blackboard consumer.  In this case I will be embedding moodle quizzes containing the STACK question type into Blackboard. I have changed a couple of the Scheduled tasks settings for LTI.  I've left the sync_members setting at the default 30 minutes, but reduced the sync_grades settings to every 5 minutes.  My reason for this is that I think students will expect to see grades in Blackboard much more frequently than every 30 minutes and may panic if the grades aren't there is a reasonably timely fashion. I am seeking advice as to whether reducing the grade sync time by so much will cause any significant performance issues?  I expect there to be about 100 quizzes syncing initially, but hope the service to grow to several times this in the coming years. Advice appreciated. Thanks, Stuart.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 10:39 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 235284,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=235284",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Problem with LTI Basic Outcomes Service on Moodle 2.5",
          "Text": "Hi, I am working with a LTI Tool provider compliant with LTI 1.1 (passed IMS Conformance test) that works just fine with Moodle 2.4 (and other LMS). We are using outcome services to access the gradebook. I am testing it out with Moodle 2.5 but the response I am getting each time I try to set a grade or even read the current mark I am getting a 404 Error. I would say that is the way the lis_result_sourcedid is handled but I am not sure. Does someone here knows if anything changed on the LTI component for processing outcomes? I was wondering if anyone else is experiencing this issue. The weird thing to me is that it just happen with Moodle 2.5 Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 23, 2013, 5:43 AM",
          "AuthorName": "Jesus Federico",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370546&course=5",
          "role": [
            "Picture of Jesus Federico",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problem with LTI Basic Outcomes Service on Moodle 2.5",
          "Text": "There are no changes in mod/lti which you can see by comparing stable branches in moodle repository https://github.com/moodle/moodle/compare/MOODLE_24_STABLE...MOODLE_25_STABLE So error is somewhere else. I would suggest to turn on error level to maximum in both PHP.ini and Moodle dev settings on your server and watch what appears there. Also there are some serious errors still present in mod/lti that can break execution of LTI service. For example in mod/lti/OAuthBody.php there are exceptions being thrown without proper namespace prefix. That immediatly cuts the execution in case of an error and you have no clue what is happening. That is exactly what happens in handleOAuthBodyPOST function. So all throw new Exception lines should be replaced with throw new \\ Exception .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2013, 2:07 AM",
          "AuthorName": "Darko Miletić",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=431153&course=5",
          "role": [
            "Picture of Darko Miletić",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 440491,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440491",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Announcement: Major fixes for legacy grade sync",
          "Text": "Good news. I've just had two issues land in the past few days, both resolving major problems with the legacy (LTI 1.1/2.0) provider grade sync. MDL-76113 - fixes grade sync for LTI 2.0 consumers, which was completely broken. MDL-76170 - fixes grade sync for any user who was created via member sync before launching the tool and completing the activity. Both of the issues present themselves in the task logs as: \n```text\nFailed - The grade '0.88' for the user 'XX' in the tool 'YY' for the course 'ZZ' failed to send.\n```\n I expect the fixes will resolve a number of reports by folks on this forum - most of which usually result in \"unable to replicate\". The fix will be included in the upcoming minors for 3.11, 4.0 and the 4.1 major release, so I encourage you to upgrade when able. Many thanks, Jake \n```text\n\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 14, 2022, 12:27 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 279043,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=279043",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Error: Wrong Consumer Key",
          "Text": "Hi all, I am in a debacle here.  I have gained the credentials from chemventage and even from carnegie mellon open learning initiative for the LTI, but after I set up the LTI for each on the Moodle site and try it on any course the same message appears\" Error: wrong consumer key\" ... I tried so many ways and options but none worked... Can anyone help out? Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 25, 2015, 11:22 PM",
          "AuthorName": "Ammar Elhassan ElMerhbi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1027130&course=5",
          "role": [
            "Picture of Ammar Elhassan ElMerhbi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 466295,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=466295",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Not receiving the grades from Moodle",
          "Text": "Hi, We are upgrading our LTI 1.1 to LTI 1.3. So far we are able to launch a course from our (external) application in Moodle. We're very happy with that already. Now we want to receive the grades from the course, but unfortunately this is not working. We're launching the Moodle cource via the \" `LtiResourceLinkRequest` \". In we can see that the `serviceurl` has not been set. We probably need to provide it in a different way. I've added the payload of the `id_token` that we send to Moodle. As you can see the \" `lis_result_sourcedid` \" and \" `lis_outcome_service_url` \" are provided in the \" `https://purl.imsglobal.org/spec/lti-bo/claim/basicoutcome` \". Could someone tell me what we are doing wrong? Thans in advance, Ivar Kanters",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 22, 2025, 12:00 AM",
          "AuthorName": "Ivar Kanters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2779546&course=5",
          "role": [
            "Picture of Ivar Kanters"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Not receiving the grades from Moodle",
          "Text": "Hi Ivar, If you've configured the tool using LTI 1.3, you'll need to use the Assignment and Grades Service (AGS) claims in the launch. Basic Outcomes isn't used within LTI 1.3. Here's a link to the AGS spec and, more specifically, the service claims + scopes you can include in the claim: https://www.imsglobal.org/spec/lti-ags/v2p0#example-service-claims HTH , Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 24, 2025, 9:43 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Not receiving the grades from Moodle",
          "Text": "Hi Jake, Thanks! That's the part I was missing. I will implement that now. Cheers, Ivar",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 24, 2025, 11:56 PM",
          "AuthorName": "Ivar Kanters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2779546&course=5",
          "role": [
            "Picture of Ivar Kanters"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 410930,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410930",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Language over LTI",
          "Text": "How are language preferences set for LTI users? A little test I just did, went as follows 1. Delete the user. 2. Make sure that the default language is set to Norwegian both in the site administration/Language/Language settings, and in the LTI enrolment settings ( server -wide). 3. Open the activity as the same remote user which was deleted.  (From BlackBoard if it matters.) 4. The new user comes in with English as the preferred language. Has anyone managed to select language for LTI users on a multi-lingual server?  What options do I have to control it? I know that I can let the students have course level access to change language for their own account, but this is a bit more cumbersome than I would like. Is there a better approach?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2020, 6:18 PM",
          "AuthorName": "George Schaathun",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2003093&course=5",
          "role": [
            "Picture of George Schaathun"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 424334,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424334",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Feature request: set custom icon to a preconfigured tool",
          "Text": "The possibility to set a custom icon for a preconfigured tool (instead of the external tool generic one) would be very useful. Do you think it is possible, for how the external tools work? In case, where can I add this feature request for external tools?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 12:25 AM",
          "AuthorName": "Chiara Di Terlizzi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4053279&course=5",
          "role": [
            "Picture of Chiara Di Terlizzi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Feature request: set custom icon to a preconfigured tool",
          "Text": "Hi Chiara, You can in fact already do this. Go to Admin > Plugins > Activities > External tool > Manage tools and edit a tool. In the \"Tool settings\" section, click \"Show more\". You'll see an icon and secure icon URL pop up. Set one, and your tool will show up with that icon instead of the generic puzzle piece. Hope that helps! Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 12:12 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Feature request: set custom icon to a preconfigured tool",
          "Text": "Thank you so much! Where should I upload that icon in order to obtain the URL to insert in the field?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 3:34 PM",
          "AuthorName": "Chiara Di Terlizzi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4053279&course=5",
          "role": [
            "Picture of Chiara Di Terlizzi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ri: Re: Feature request: set custom icon to a preconfigured tool",
          "Text": "Hi Chiara, That's a question I can't answer. Maybe one for your organisation to assist with. Perhaps you can upload and store the icon in the same place as other educational resources. In some cases, you may be able to use an image hosted by the tool provider itself, on the provider's site for example. See also MDL-45105 which talks about allowing icon uploads, rather than just relying on an icon URL. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 8, 2021, 9:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 270832,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=270832",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Set due date for LTI activity",
          "Text": "Hi all Is there a way or workaround to show a due date for an LTI activity? we are on 2.5, moving to 2.6+ in the next week Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 26, 2014, 4:01 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Set due date for LTI activity",
          "Text": "I am interested in this as well. I believe there are problems with unpredictable feedback from LTI providers which makes a due date (as used in quizzes and assignments) difficult to implement.  However, being able to set a due date so that External Tool activities appear on the calendar would be very helpful. Being able to set \"Allow submissions from\" and \"Cut-off date\" dates as well would be nice. I have added an issue in the tracker about this: https://tracker.moodle.org/browse/MDL-51430 Please vote for it if it's something you'd like to see.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 16, 2015, 5:09 PM",
          "AuthorName": "Brian Evans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1794484&course=5",
          "role": [
            "Picture of Brian Evans"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 207030,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207030",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "moodle itself as an external tool ...",
          "Text": "Dear moodle-users, I have one moodle installation with a SCORM -package installed, which needs quite a lot of memory. I call this the SCORM-moodle. There also is a grade-outcome from this SCORM. On the other hand, I have many moodle-instances, and the registered users there shall be able to work with the SCORM-package. But I don't want them to install the SCORM on their own moodle-site (I call these HOME-moodles). After they finished their work, the achieved grade should be available in their HOME-moodle. I am wondering, if this is possible with the use of an external activity? In a way, that the user is registered in his/her HOME-moodle, klicks on a Link (coming from the external acitvity), signs in automatically at the SCORM-moodle, works here (maybe not even knowing he has changed the moodle-instance) and gets the grades pushed back to his HOME-moodle. At the moment I can't figure out if this is possible - and especially how. Thanks for any hint! Thomas",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 15, 2012, 5:05 AM",
          "AuthorName": "Thomas Eibel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88286&course=5",
          "role": [
            "Picture of Thomas Eibel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 462501,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=462501",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "External Tool outside the activity picker ... WHY??",
          "Text": "Hi there, Long time no post. The external tool no longer appears on the activity picker. External tool has been moved in a weird place on the \"more \" menu of the course, the interface does not make much sense and several LTI users have asked help about it directly to me. Please fix this interface issue or update the documentation here https://docs.moodle.org/311/en/External_tool Cheers!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 30, 2024, 10:05 PM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool outside the activity picker ... WHY??",
          "Text": "Hello there and nice to hear from you. That documentation refers to Moodle 3.11 and the external tool was moved in Moodle 4.3 so the documentation reflects this from 4.3 onwards: https://docs.moodle.org/403/en/LTI_External_tools (and also https://docs.moodle.org/404/en/LTI_External_tools and canonical link: https://docs.moodle.org/en/LTI_External_tools )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 30, 2024, 10:40 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool outside the activity picker ... WHY??",
          "Text": "Hi Ludo, It's configurable per tool. Either via the tool configuration at site admin, or via the \"Show in activity chooser\" toggle on the course tools page.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2024, 1:12 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool outside the activity picker ... WHY??",
          "Text": "Thanks, Jake and Mary, the \"Show in activity chooser\" toggle on the course tools page, is the key. IMO should be show by default, but now I know is there my problem is fixed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 2, 2024, 9:36 PM",
          "AuthorName": "Ludo (Marc Alier)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22420&course=5",
          "role": [
            "Picture of Ludo (Marc Alier)"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: External Tool outside the activity picker ... WHY??",
          "Text": "That toggle default was chosen in order to respect the existing default behaviour for site tools. Site tools, according to their own default settings (See \"Tool configuration usage\") are not shown in the activity chooser in courses. When we added course-level overrides for this setting (i.e. the toggle), we didn't change that behavior. It's opt-in. If, however, a site tool is configured with \"Show in activity chooser and as a preconfigured tool\" then you'll see that toggle is enabled in all courses. Then, it becomes a per-course opt-out, rather than an opt-in as above.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 3, 2024, 8:56 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 370031,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=370031",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Who wants to help me finish this OER publishing and distribution tool for Moodle?",
          "Text": "Hello All, I am wondering if anyone wants to take a shot at figuring out how to make this work. The functionality we want is from Moodle you can add an External tool that automatically creates a new blog and then allows users from the course to access and publish to the Wordpress blog. We also want to be able to take that blog and use deep LTI linking to export the contents as a cartridge which can be used by Moodle to embed the pages from the blog in a course. The idea is to use the Wordpress PressBooks book authoring plugin with Moodle to produce OER content and distribution in one site. The issue is that I cannot find a LTI plugin that handles both functions: creation and distribution. On one hand the users need to be registered as authors/admins with wordpress during content creation.  During distribution, users need to be registered as subscribers when they are just viewing the blog during distribution.  I was hoping that based on the LTI credentials we could differentiate what wordpress role the user gets in wordpress.  I am not having much luck. This works great for users to go from Moodle to Wordpress and auto-create a blog and add users of a course as authors on Wordpress. However, once the book is created we want to use it to embed as OER content in other courses.  Meaning, you export the wordpress content as a LMS Cartridge For that functionality there is a set of 3 Wordpress plugins by Candela which also uses LTI - LTI, Candela-LTI, and Candela-thin-exports.  The issue is the two LTI plugins do not play nicely on the same Wordpress site. Tools used: LTI tool to connect Moodle to Wordpress where Moodle initiates the creation and user management of new blogs in a Multisite Wordpress setup. https://github.com/celtic-project/wordpress-lti LTI tool set to create lms cartridge, user registration, and lti connection: Candela Github projects: https://github.com/lumenlearning Pressbooks Book Authoring plugin for Wordpress https://pressbooks.org/ Anyone want to help build a open source OER creation and distribution tool with me? I just need help figuring out how to either get both LTI plugins working on the same site or combine the functionality of these two plugins into one. This would be an all-in-one OER content authoring platform that works and plays well with Moodle for both creation and distribution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 1, 2018, 8:28 PM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Who wants to help me finish this OER publishing and distribution tool for Moodle?",
          "Text": "Just an update on this: We ended up using the Pressbooks LTI Provider tool for sharing finished books and content. https://github.com/pressbooks/pressbooks-lti-provider This doesn't help with instantly creating books directly from your LMS but it does allow for sharing and controlling access to your content and it is tightly integrated with Pressbooks.  I really love how nice it all works.  You can export an entire book chapter by chapter as a IMS Cartridge or you can pick any individual chapter to add into your Moodle course. Our initial idea is to have 2 pressbooks sites: Authoring/Instructional Site for book creation as an instructional tool that would allow students to author pages from the LMS in a shared classroom book Publishing/Distribution Site for distribution and publication of finished books. In this regard we can control access to content via the new Pressbooks LTI provider tool and we can also maintain the ability for teachers to create books directly by simply adding an activity within Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 30, 2018, 2:45 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Who wants to help me finish this OER publishing and distribution tool for Moodle?",
          "Text": "Chris, I have been viewing your posts and video and have used them\nto create my own Wordpress Multisite with Pressbooks plugin. I am now in the\nprocess of connecting the new Pressbooks site to Moodle with the LTI Provider\ntool. Before I go to far, and spend a lot of time down this road, I have a\nquestion. I want to use a template Workbook that each user can have\nhis own copy of. They can then edit there own Workbook and it becomes their own\ncreation as they work their way through the book making edits and comments. Is\nthis even possible? I think it is, but I guess I wanted the assurance that I am\nnot wasting to much of my time. Thanks, I know you have got to be super busy and don’t know\nme or owe me any advice, but I appreciate the knowledge you have shared up to\nthis point and hope you can give me some insight into this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 23, 2018, 3:17 AM",
          "AuthorName": "Walter Resendes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2345252&course=5",
          "role": [
            "Picture of Walter Resendes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Who wants to help me finish this OER publishing and distribution tool for Moodle?",
          "Text": "Walter, It doesn't work like that.  It is pretty much a read only kind of platform.  Best for writing and sharing open textbooks etc. Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 2, 2018, 3:06 AM",
          "AuthorName": "Chris Kenniburg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26675&course=5",
          "role": [
            "Picture of Chris Kenniburg",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449226,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449226",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Custom LTI 1.3 implementation in plugin",
          "Text": "Hi! We're developing a Moodle plugin which uses the LTI standard internally for communication with our external services. We explicitly want our own plugin, and not just an External Tool configured via the built-in LTI integration of Moodle. To implement our own LTI flows we are now using a PHP library ( https://github.com/oat-sa/lib-lti1p3-core ), since it looks like Moodle's own LTI implementation is very much coupled to Moodle itself and the functionality can't be reused outside of `mod_lti`. We've been testing and so far at least in Moodle 4.2 everything works fine. * Is there any problem with using our own LTI implementation? I assume Moodle doesn't care what our plugin does internally. * Is there maybe a way to reuse Moodle's own LTI implementation that we've missed, which we should use instead?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 7, 2023, 6:43 PM",
          "AuthorName": "Mathias Kahl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5658489&course=5",
          "role": [
            "Picture of Mathias Kahl",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Custom LTI 1.3 implementation in plugin",
          "Text": "Hi Mathias, The major 'problem' is that your plugin will never get access to any of the improvements we make to LTI in core Moodle and likely isn't subject to any of the access controls, business logic etc surrounding the core implementation either. It's just a totally separate module, for which you bear the maintenance burden. If we add support for tool placements in areas like course navigation, editors, etc. your implementation won't get access to these. If we add improvements allowing tools to be restricted to specific course categories, your implementation won't get access to that either. The aforementioned improvements are very much on the table being worked on and considered right now, so worth factoring in to your decisions. Of course, you haven't said what your plugin will actually do, so I can't speculate as to what features are missing from the core implementation. Perhaps if you add some more detail, I could confirm whether we have any plans to support the relevant workflow/features/extensions. etc. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 8, 2023, 9:58 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Custom LTI 1.3 implementation in plugin",
          "Text": "Thank you, Jake! The plugin doesn't really do much apart for opening our website via LTI, automatically provisioning accounts based on the Moodle account. In principle this could be done via Moodle's built-in LTI, however there are some details that we need full control over (e.g. the deeplinking, which doesn't work for us in the default Moodle flow due to 3rd party cookie issues in iframes). But maybe most importantly, our company wants to have a plugin in the Moodle plugin directory listed and a custom activity in Moodle. Tool placement in editors sounds interesting. Do you mean a way to embed LTI activities using the Rich Text editor? That would be nice to get out of the box, however, that would also currently be an issue for us because of 3rd party cookies being blocked in iframes. :/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 12, 2023, 7:47 PM",
          "AuthorName": "Mathias Kahl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5658489&course=5",
          "role": [
            "Picture of Mathias Kahl",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Custom LTI 1.3 implementation in plugin",
          "Text": "Hi Mathias, The third party cookie situation is quite annoying, yes, but that's not a reason to lean towards plugin-based implementation, IMO . There are already specs dealing with this problem, and we're in the process of implementing them: E.g. MDL-72022 , if your tool depends on cookies. Really, if there's a problem with deep linking or launches (relating to 3rd party cookies) then we need to be addressing this in core Moodle. That kind of thing is considered a bug and will be fixed as a priority.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 14, 2023, 9:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Custom LTI 1.3 implementation in plugin",
          "Text": "Hi Jake! Thanks again for your reply. I'm definitely eagerly awaiting https://tracker.moodle.org/browse/MDL-72022 , and I've stumbled across that and the spec to fix the cookie issue before. As a developer, I'd love nothing more than to just use the default LTI facilities. The problem is just that the requirements we have demand that the integration works right now, and also with some older Moodle versions. Without 3rd party cookies our site cannot be integrated at all. And just today we saw Google's announcement about their plan to phase out 3rd party cookies 100% by Q3 2024. 😅 There are several issues related to cookies. Firstly, the LTI flow itself as implemented right now on our backend requires a session cookie to store the state and nonce used by LTI. Also, the business logic that's in our requirements requires us to detect what user is currently logged in on our site, and it's compared with the moodle user, for various reasons. In general, usage of our plugin requires an account on our site. These accounts are automatically provisioned for Moodle students, but teachers/coursecreators need pre-existing accounts. Also, if they are already logged into our site in another tab, we don't want them to have to authenticate again when using it via Moodle. When MDL-72022 is implemented, that would probably allow our tool to be used with the standard Moodle LTI functions only with minor restrictions (e.g. needing to authenticate manually from within Moodle once, even if already logged on our site). Hopefully then we can just tell Moodle users to use LTI Dynamic Registration to easily add our tool. For now our plan is to just implement some of the LTI flows ourselves with some minor changes - namely, always opening our site in a new tab for resource links as well the deep linking flow. As far as I can see, the \"Select content\" / deep linking feature in Moodle always opens the tool in an embed. I didn't find a way to change that. P.S. After thinking about it some more, I guess it might be possible to detect the missing cookies on the deeplinking page, ask the user to open a new tab, communicate the choice back via postMessage, and then send back the deep link response from within the unauthenticated embed. But that may be a bit sketchy.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 30, 2023, 12:28 AM",
          "AuthorName": "Mathias Kahl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5658489&course=5",
          "role": [
            "Picture of Mathias Kahl",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352254,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352254",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Basiclti.xml authentication approach",
          "Text": "Hello Friends, I created one common cartridge package with BLTI module. My assumption is that when client import CC package in his/her LMS platform, then everything should get import including authorisation key. There  should not be any manual intervention. As per online documentation and sample; in my basiclti. xml file I put all three parameters 1. launch url 2 consumer key (guid) 3 secret key, but when I import my package in moodle, except guid & secret key everything gets imported. I also checked this package with canvas and I am facing same problem there. Herewith I am also attaching my sample package. Please help me to look into right direction.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2017, 1:39 PM",
          "AuthorName": "Shail Jai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=782218&course=5",
          "role": [
            "Picture of Shail Jai"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Basiclti.xml authentication approach",
          "Text": "Interesting, it seems no one has clue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 12:55 PM",
          "AuthorName": "Shail Jai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=782218&course=5",
          "role": [
            "Picture of Shail Jai"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Basiclti.xml authentication approach",
          "Text": "I'm not sure what you used to create it, but it does not look like an XML file to me. Perhaps copy paste the xml here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 1:40 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Basiclti.xml authentication approach",
          "Text": "Hi John, sorry, I just realise that attachment is not in xml format. Here  is the sample code. <?xml version=\"1.0\" encoding=\"UTF-8\"?> <cartridge_basiclti_link xmlns=\" http://www.imsglobal.org/xsd/imslticc_v1p0 \" xmlns:blti = \" http://www.imsglobal.org/xsd/imsbasiclti_v1p0 \" xmlns:lticm =\" http://www.imsglobal.org/xsd/imslticm_v1p0 \" xmlns:lticp =\" http://www.imsglobal.org/xsd/imslticp_v1p0 \" xmlns:xsi = \" http://www.w3.org/2001/XMLSchema-instance \" xsi:schemaLocation = \" http://www.imsglobal.org/xsd/imslticc_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticc_v1p0.xsd http://www.imsglobal.org/xsd/imsbasiclti_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imsbasiclti_v1p0.xsd http://www.imsglobal.org/xsd/imslticm_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticm_v1p0.xsd http://www.imsglobal.org/xsd/imslticp_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticp_v1p0.xsd \"> <blti:title>LMS</blti:title> <blti:description>moodle test</blti:description> <blti:icon></blti:icon> <blti:launch_url> http://example.com/test</blti:launch_url> ; <blti:custom> <lticm:property name=\"guid\">12345</lticm:property> <lticm:property name=\"secret\">abc123456</lticm:property> </blti:custom> <cartridge_bundle identifierref=\"BLTI001_Bundle\"/> <cartridge_icon identifierref=\"BLTI001_Icon\"/> </cartridge_basiclti_link>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 2:30 PM",
          "AuthorName": "Shail Jai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=782218&course=5",
          "role": [
            "Picture of Shail Jai"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Basiclti.xml authentication approach",
          "Text": "Basic LTI is designed to allow you to configure a tool, but the consumer key and secret should be kept private. This is because the cartridge should be public. If your key is also public, it defeats the purpose of the key. https://www.imsglobal.org/specs/ltiv1p0/implementation-guide#toc-5 This should explain why moodle and canvas both ignore it when you include it. But I'm interested to know if there's somewhere in the ims documentation that says it should be included in the cartridge.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 16, 2017, 3:41 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 468853,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=468853",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to setup multiple deployments for Moodle",
          "Text": "Hello, I am using Moodle as an LTI Tool Consumer(Platform) and Panopto as an LTI Tool Provider(Tool). This is an LTI1.3 tool and I want to setup multiple deployment IDs under the same client ID that is used to register the External tool. How can I achieve this in Moodle? I noticed that there is documentation for setting up LTI1.3 Multiple Deployments when Moodle is the LTI Tool Provider: https://docs.moodle.org/500/en/Publish_as_LTI_tool I want to understand how to achieve this with Moodle as the Platform. Please can someone from Moodle assist me with this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 9, 2025, 4:46 AM",
          "AuthorName": "Aishwarya Harpale",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7475953&course=5",
          "role": [
            "Picture of Aishwarya Harpale"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "How to setup multiple deployments for Moodle",
          "Text": "Hi Aishwarya, The simple answer is \"that's unsupported\". Moodle uses a single deployment model. 1:1 registration-to-deployment. If you need another deployment id, that means registering a new tool, which of course means a new client id. Probably not the answer you were looking for, I'm afraid, but that's how the data model is set up.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 9, 2025, 10:27 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "How to setup multiple deployments for Moodle",
          "Text": "Hello Jake, Does Moodle plan on supporting this feature in any of the future releases? Best, Aish",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 9, 2025, 11:08 PM",
          "AuthorName": "Aishwarya Harpale",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7475953&course=5",
          "role": [
            "Picture of Aishwarya Harpale"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "How to setup multiple deployments for Moodle",
          "Text": "There are currently no plans to change the single deployment model, no. That's not to say it can't or won't happen, just that it's not something that's on the LTI roadmap for now. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 10, 2025, 9:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 357211,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=357211",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI database tables",
          "Text": "Tried and tried to find a table containing the LTI Name, Cartridge URL and Shared Secret and failed! Can anyone help please",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 23, 2017, 5:16 AM",
          "AuthorName": "Andrew Shipley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1940245&course=5",
          "role": [
            "Picture of Andrew Shipley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI database tables",
          "Text": "Are you looking for the tables for the consumer (the \"External tool\" module) or the provider (\"Shared as LTI tool\" enrolment plugin)? For the consumer it will be the _lti table. But you may have to check _lti_types mdl_lti_tool_proxies if you used the proxy / auto configure to create it. _enrol_lti_lti2_consumer is the table for the enrol provider. I'm interested to know why you need access to the tables. Generally everything you need to do should be doable from the interface.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 23, 2017, 9:15 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI database tables",
          "Text": "I'm looking to build a report showing custom instance name - cartridge url - secret but can only find the secret within the LTI tables for me to build the SQL statement required",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 23, 2017, 1:39 PM",
          "AuthorName": "Andrew Shipley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1940245&course=5",
          "role": [
            "Picture of Andrew Shipley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 396475,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396475",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How to complete LTI consumer when provider is Scorm",
          "Text": "Hi, I have a situation where the LTI Provider is a Moodle single-activity course containing a Scorm . Scorm status could be 'Incomplete / Complete' or 'Failed / Passed'. I am looking for information on how the consumer side of this LTI construction can be completed. In other words how do I set activity completion on the External Tool in the consumer site. Situation 1: Scorm passes 'Incomplete / Complete' how do I set activity completion on consumer side? Situation 2: Scorm passes 'Failed / Passed' how do I set activity completion on consumer side? Situation 3: Scorm passes grade. Do I set activity completion on consumer side on 'Student should receive grade' in combination with 'Grade to pass'. Any tips are welcome!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 31, 2020, 5:42 PM",
          "AuthorName": "Peter Jonker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=851251&course=5",
          "role": [
            "Picture of Peter Jonker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 429742,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429742",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "VoiceThread and Moodle Cloud",
          "Text": "Hello, I am attempting to setup the external tool for VoiceThread in my Moodle Cloud course.  I am very familiar with how to set-up the assignment after the external tool is set-up, but I am trying to set-it up first.  I found these instructions from VT, but this does not seem to work: https://voicethread.com/howto/moodle-3/ Anybody have directions on how to set this up? Thanking you in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 7, 2021, 2:03 AM",
          "AuthorName": "Nancy W",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4570778&course=5",
          "role": [
            "Picture of Nancy W"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: VoiceThread and Moodle Cloud",
          "Text": "Hi Nancy, I think we're going to need more information. Basically, for others to assist, we'll need to know what you're trying to do and how far you're getting with it. What step are you trying to achieve? Setting up the external tool via site admin > manage tools? What doesn't seem to work? Are there any error messages, etc? Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 7, 2021, 9:22 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 381310,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381310",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Can a Moodle lesson be published as an LTI and re-used within a site?",
          "Text": "I need to create three courses that all contain the same activity 1 and 3 - in this case they are lessons with activity completion required to complete the course with certificates unlocking upon completion. Ideally I would like to create these courses in a way that allows the users to complete activity 1 and 3 only once, as activity 2 will include case studies that cover different variations of the topic. Currently we are looking into the use of meta-courses, but LTI seems to be a more intuitive way to create these lessons to allow for grading to work properly across all three activities , as the progress will get tracked properly. Can anyone suggest if there is a plugin that allows for this kind of cross-course completion tracking?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 22, 2019, 11:35 PM",
          "AuthorName": "Jonny Galvez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2374619&course=5",
          "role": [
            "Picture of Jonny Galvez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can a Moodle lesson be published as an LTI and re-used within a site?",
          "Text": "Great idea, I can think of cases where I'd like to use this feature as well.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2019, 1:00 AM",
          "AuthorName": "Chad Bergeron",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=776385&course=5",
          "role": [
            "Picture of Chad Bergeron"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can a Moodle lesson be published as an LTI and re-used within a site?",
          "Text": "Hi Chad, Would I be right in thinking that this feature doesn't currently exist? Cheers, Jonny",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2019, 5:30 PM",
          "AuthorName": "Jonny Galvez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2374619&course=5",
          "role": [
            "Picture of Jonny Galvez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can a Moodle lesson be published as an LTI and re-used within a site?",
          "Text": "As far as I am aware, not really. You can publish a course as LTI, and you can then link to that course as if it were an external tool, but from my testing so far, you end up creating duplicate user accounts every time someone clicks on the link to the 'external' tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 1, 2019, 6:01 AM",
          "AuthorName": "Chad Bergeron",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=776385&course=5",
          "role": [
            "Picture of Chad Bergeron"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can a Moodle lesson be published as an LTI and re-used within a site?",
          "Text": "Hi Johnny, Chad, I have tried this without success I see there is a tracker issue for this  - please vote for it! https://tracker.moodle.org/browse/MDL-57345",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 1, 2019, 8:28 PM",
          "AuthorName": "C Behan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1854471&course=5",
          "role": [
            "Picture of C Behan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 350318,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350318",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Clarifying moodle LTI behaviour with Blackboard",
          "Text": "Hi, I've been exploring the LTI connector with moodle as the provider and a Blackboard installation as the consumer.  I have successfully configured both ends to allow students and teachers to pass through to a single course, complete gradable activities , and the mark is passed back to Blackboard when the 30 minute chron-job runs. However, my ideal setup is to either: to have a new moodle course created each time the LTI activity is instantiated in a (unique?) Blackboard course by copying an existing template course. OR for a new instance of a single activity type to be created for each LTI instance from Blackboard. In short, I want a single Blackboard course space to link to specific activities within moodle.  With my current set up, many Blackboard courses will link to a single moodle course or activity created on demand.  This is confusing for students and teachers.  I want students in one Blackboard space to access a single moodle area for their specific moodle activities. I appreciate the 2.7 documentation on the separate LTI plugin is old now, but it eludes to how this might (or could) be implemented using the LTI spec.  See section \"Service for context (course) creation, using other courses as template\" https://docs.moodle.org/27/en/LTI_Provider#Service_for_context_.28course.29_creation.2C_using_other_courses_as_template I can find one discussion thread where Abhishek Chouhan says be managed get these custom parameters to work.  There is a longer discussion thread on a different site where it is clearer that his attempts were successful. https://moodle.org/mod/forum/discuss.php?d=339905 Can anyone with plenty of LTI experience confirm if these custom parameters for context creation (or resource duplication) actually work in the latest version of moodle? I welcome you \"managing my expectations\" here. Thanks, Stuart Anderson, University of Manchester, UK",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 4, 2017, 8:06 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Clarifying moodle LTI behaviour with Blackboard",
          "Text": "The create context feature present in the old plugin was not included in core. If you'd like to see it added, could you create an improvement request? It would be great to add your use case to the issue so it's clear what the feature is for. In addition you may be interested in voting for https://tracker.moodle.org/browse/MDL-55444 which would allow moodle to put users from each different consumer into a different group so that they could interact and be graded separately.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 2:07 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Clarifying moodle LTI behaviour with Blackboard",
          "Text": "Thank you John, that's very helpful.  I'm still getting to grips with my Blackboard to moodle LTI integration, but have just made a big step forwards in the last couple of hours. Regarding other differences between the old plugin and post 3.2 integrated LTI functionality.  Under the old documentation, I noticed that there was a recommendation to create extra roles (External Student, External Teacher) where a site uses both local and remote (LTI) users.  I can still the logic of doing that, but I can't find a way to set that as a default for all new LTI instances where as a I got the impression this could be configured as a default under the old plugin.  Am I correct that under the 3.2 implementation you can't set default LTI roles and have to apply them on a case by case basis? Thanks for your help, and yes, I'll think about MDL-55444 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 11:38 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=134840&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Clarifying moodle LTI behaviour with Blackboard",
          "Text": "In the new version the roles are handled for you automatically, so there's no need to map it manually.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2017, 3:06 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Clarifying moodle LTI behaviour with Blackboard",
          "Text": "Hi Stuart LTI is new to me and I have setup a connection with the Blackboard administrator but my entire Moodle page with all site settings appears. Is this supposed to happen? I assumed it would just embed the course in Blackboard without the Moodle Nav bars visible. Is there a different way to tackle this in Moodle or Blackboard? Thanks Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 19, 2017, 4:51 PM",
          "AuthorName": "michael frost",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2328819&course=5",
          "role": [
            "Picture of michael frost"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 385896,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=385896",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Adding LTI link to every course / Adding LTI link to main course nav",
          "Text": "Is it possible to add a an LTI app to every course in Moodle? I know this question was asked a few years ago ( https://moodle.org/mod/forum/discuss.php?d=330654 ) but I was hoping the answer may have changed since then. I'd also like to know if it is possible to add an LTI link to the main course navigation (on the left side of the page in Boost). Such that when a user clicks on the link they launch the LTI app. If Moodle does not support it out of the box, would a plugin allow us to accomplish either of these things? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 2, 2019, 10:51 PM",
          "AuthorName": "Buddy H",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2652022&course=5",
          "role": [
            "Picture of Buddy H"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 416540,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=416540",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to auto-enrol users in course through LTI",
          "Text": "We are using our moodle as an LTI provider for blackboard (for certain assessments). We would like to populate all of the users from the blackboard course before they first click the link to moodle (some of our students need extra time on their tests). I would guess the 'Publish as LTI tool users sync' would take care of that, but it does not. Is there something wrong with my understanding, or is there another problem: the sync service is up and running.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2021, 12:57 AM",
          "AuthorName": "Niels Walet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=14488&course=5",
          "role": [
            "Picture of Niels Walet"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to auto-enrol users in course through LTI",
          "Text": "Hi Niels, Apologies for the late response. I've just started taking care of this forum and am working through a number of old posts still. The short answer to your question is 'Yes' (sort of). It is possible to sync users before the students themselves launch the tool from the consumer site, however, this doesn't really add much because access to the shared resource is dependent on the resource link launch, at which point roles are assigned and access granted. There is a comment way back on the issue that introduced role sync that highlights this limitation: See here . The member sync task is perhaps most useful when revoking access to the resource, when the platform/consumer enrolments change, or the provider's enrolment method end date is reached. I suspect your use case needs some further unpacking too. You mention extra time on tests but I'm curious how you see that working. Is early access to the resource not something you can control (via access control to the resource link for example) on the consumer site? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 21, 2021, 2:31 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 343428,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=343428",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External App integration within Course",
          "Text": "Hi is their any documentation available for creating an external LTI app for moodle which will display the courses,quizzes,questions  in our application inside an iframe of moodle using the  api support. So that we can generate bubble sheets for the quizzes  to accommodate offline evaluation of students and when the students filled up the answer sheet we will sync back the responses to moodle for grading.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 23, 2016, 4:58 PM",
          "AuthorName": "Rahul Chakraborty",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2172861&course=5",
          "role": [
            "Picture of Rahul Chakraborty"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 424124,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424124",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "reinstall the LTI enrollment plugin",
          "Text": "Hello, so I uninstalled the \"Publish as LTI tool\" / \"enrol_lti\" plugin under Plugins->Manage enrol plugins recently. So I wanted to reinstall it now, but I can't find any option to do that. I also don't seem to find it in the Plugins directory as that only seems to host community created plugins and not the \"Official ones\" that come with moodle. So where can I find the files that allow me to install the plugin again? Or can I just download the folder from here https://github.com/moodle/moodle/tree/MOODLE_39_STABLE/enrol/lti and plonk it in my installation without breaking stuff? using Moodle 3.9",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 1, 2021, 5:00 PM",
          "AuthorName": "Jeremy Schulz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4262742&course=5",
          "role": [
            "Picture of Jeremy Schulz",
            "Picture of Core developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: reinstall the LTI enrollment plugin",
          "Text": "HI Jeremy, That's right, it's not listed on the plugins database since it's shipped with core Moodle. You can either checkout that directory again using git (if you're familiar with that kind of thing), or like you said, put the plugin's directory back in place. I would make sure you're getting the source code for your exact version of Moodle though, which you can do via the tags feature on github. E.g. https://github.com/moodle/moodle/releases/tag/v3.9.7 Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2021, 12:39 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: reinstall the LTI enrollment plugin",
          "Text": "Hey, thank you for the info. That certainly helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 8, 2021, 7:00 PM",
          "AuthorName": "Jeremy Schulz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4262742&course=5",
          "role": [
            "Picture of Jeremy Schulz",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431180,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431180",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "Hello. I am attempting to implement LTI 1.3 support to an existing tool. We are testing our tool out on an instance of Moodle. Everything from the LTI Core to Deep Linking works. However, it seems that Moodle does not want to accept its own Bearer token. I keep getting a 401 error upon trying both the Assignment and Grade Service and Name and Role Provisioning Service. Any ideas on what I might be doing wrong? I am able to successfully get the Bearer token, but Moodle does not seem to recognize it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 26, 2022, 5:32 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "Hi Andrew, Sorry to hear you're having issues with this. Firstly, make sure these services are enabled in the pre-configured tool settings. I'm assuming they are though, since you're likely making the service request to the URLs you got in the launch. Also make sure you're definitely including the Auth header correctly in the request and that you're including the correct scopes in the JWT. If you get really stuck, you can probably debug the Moodle mod/lti code as it receives the request, and try to work out where the 401 is coming from (what's the reason, that is), but I'd suggest trying the other things first. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2022, 10:49 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "Hi Jake. Do you know where I can debug Moodle? (Where is the console output going to?)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2022, 8:23 PM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "Like, where can I find the location of the error outputted upon authentication token rejection?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 28, 2022, 3:37 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "What I really meant was stepping through the code using something like xdebug to trace the code path as it's being executed. You might also try enabling developer debugging (via site admin) and tailing the apache error logs (or relevant web server logs). E.g. \n```text\ntail -f /var/log/apache2/error.log\n```\n See also: https://docs.moodle.org/311/en/Debugging Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 28, 2022, 9:44 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 Bearer Token Unable to Authenticate",
          "Text": "Thanks for the tip. We finally figured out the reason why this was occurring. The solution was found on another forum post. Turns out Bitnami 's apache was stripping the header (and thus the authentication token) off of any non-SSL requests. The solution is on the other post: https://moodle.org/mod/forum/discuss.php?d=389429#p1597517",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 29, 2022, 2:30 AM",
          "AuthorName": "Andrew Wang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4740438&course=5",
          "role": [
            "Picture of Andrew Wang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464893,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464893",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restrict access via Deployment ID",
          "Text": "In Moodle, there is no way to restrict a course's LTI enrollment method to a deployment ID.  What is a solution for restricting course access using a specific Deployment ID?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 5, 2025, 10:34 PM",
          "AuthorName": "Raymond Barrett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1943865&course=5",
          "role": [
            "Picture of Raymond Barrett"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restrict access via Deployment ID",
          "Text": "Hi Raymond, There isn't one yet. There is MDL-74233 which captures the general idea though, so feel free to add any thoughts you might have there. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 11:49 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 346661,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=346661",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Building own LTI Consumer for Moodle 3.2 fails at authentication",
          "Text": "Hi, I'm currently stuck creating an own LTI Consumer for Moodle 3.2. Here is the sample code: https://gist.github.com/anonymous/bccbfc82caca18cf7896338475bbaf21 I used the IMSGlobal/LTI Library for creating a consumer and building the request. But all I get is an error: Failed request. Reason: Invalid signature Sometimes it says: Invalid nonce. But at the end it does not work. Using a second moodle 3.2 instance as Consumer works fine. And I really dont see any difference in the basic launch request parameters. Which is totally frustrating. :/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 30, 2017, 10:51 PM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Building own LTI Consumer for Moodle 3.2 fails at authentication",
          "Text": "Update: solved. The code was correct. It was my own fault. The secret I set was never used. :/ It was defaulted to 'secret'.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 31, 2017, 1:05 AM",
          "AuthorName": "Michael Berhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2193024&course=5",
          "role": [
            "Picture of Michael Berhorst"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 332303,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=332303",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "3.1. LTI provider",
          "Text": "HI, I'm trying out the LTI provider in the dev version of 3.1. I've set up the shared external tool in the 3.1 site and I'm attempting to set up the External tool in a 3.0 site. No matter what launch URL I enter I get \" Tool configuration not found for this URL.\" What URL should I use to share a course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2016, 10:56 PM",
          "AuthorName": "Ray Lawrence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7127&course=5",
          "role": [
            "Picture of Ray Lawrence"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 3.1. LTI provider",
          "Text": "Hi Ray, Please see https://tracker.moodle.org/browse/MDL-53977 . Obviously not as nice as directing you to some docs but they are not yet available (or created - sorry!). The replication steps in the description for that issue describes how to set up the provider and consumer. Regards, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2016, 4:51 PM",
          "AuthorName": "Mark Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057750&course=5",
          "role": [
            "Picture of Mark Nelson",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 3.1. LTI provider",
          "Text": "Thanks Mark, I'd missed a few steps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 30, 2016, 7:28 PM",
          "AuthorName": "Ray Lawrence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7127&course=5",
          "role": [
            "Picture of Ray Lawrence"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 366753,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=366753",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "common module settings  - group mode",
          "Text": "The external tool no longer appears to have the complete common module settings including group mode, groupings. This is an important feature when using LTI to filter for groups e.g. Turnitin LTI. Is this feature no longer available or is there some other settings to include this option?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 6, 2018, 5:13 AM",
          "AuthorName": "Anna Gemmell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2172014&course=5",
          "role": [
            "Picture of Anna Gemmell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: common module settings  - group mode",
          "Text": "Hm, you are quite right. I don't see Groups here at all in any version since 2.9 up to current 3.4. I suspect this absence is due to the potential collision of Moodle groups and LIS Groups, which are an LTI feature. Support for LIS Group variables was added into 3.4 https://tracker.moodle.org/browse/MDL-55358 so that the course groups would pass over into groups on the provider app side, if it supported them and requested them. So basically, if your LTI is configured to use groups in some way then it will send them; if not, it will not. The app decides this and there is probably some configuration setting for this or a url parameter to pass, or whatever. I have not used a group aware LTI app yet but the issue to me would be how you designate which groups to use. Since a course may have many groups and groupings and users may be members of multiple groups which have no relation to what the LTI activity does, there would need to be a way to do that. So, for Turnitin, you would need to ask them if they support groups at all and if so, how that is set up on your side. You can still use the Groups/Groupings for the Access restrictions, but that is a different thing. Useful but different.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 10, 2018, 3:39 AM",
          "AuthorName": "Randy Thornton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88992&course=5",
          "role": [
            "Picture of Randy Thornton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 372573,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=372573",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Cohorts and LTI",
          "Text": "Hi, We are trying to set up cohorts and am wondering if there is a way to set up parameters so that a custom field can grab the cohorts. We need to know if there is a cohort ID that can be delivered through LTI so groups can be created in the course for our external tool. Thanks, Tonie",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 27, 2018, 1:05 AM",
          "AuthorName": "Tonie Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2389954&course=5",
          "role": [
            "Picture of Tonie Miller"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cohorts and LTI",
          "Text": "Hi Tonie, Did you ever find a solution to this? I'm trying to do the same thing. Thanks, Veronica",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 14, 2019, 11:03 PM",
          "AuthorName": "Veronica Volz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2564595&course=5",
          "role": [
            "Picture of Veronica Volz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458913,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458913",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Implementing Multiple Line Items per Assignment with LTI 1.3",
          "Text": "Hello everyone, I am currently working on an integration project involving Pressbooks, a WordPress multisite plugin, along with another custom WP plugin we created called Pressbooks LTI. This plugin acts as a Tool from the LTI 1.3 perspective and allows instructors to display Pressbooks chapters (WordPress posts) content within various LMSes including Canvas, Blackboard, Moodle, and D2L. Each Pressbooks chapter can contain one or more gradable activities . We are using the LTI 1.3 Assignment and Grade Services (AGS) to send scores to the LMS. By default, the scores from multiple activities within a single LMS assignment are aggregated into a single line item in the LMS grade book associated with that assignment. However, we aim to create a separate line item for each gradable activity. This means that each LMS assignment would now contain multiple line items, one for each activity. Currently, we are able to create multiple line items for each assignment. However, depending on the LMS, the behavior is not consistent with the default line item created automatically. For example: Canvas returns successful responses when creating line items/sending scores but we are unable to view the newly created line items in the LMS grade book. Moodle on the other hand, created the line items and stored the scores but there seems to be no way to instruct that the created line items are linked to a given assignment. While LTI 1.3 AGS technically supports this functionality, we are curious if anyone has experience implementing it this way. Is this multiple line item approach expected or handled by LMSes like Canvas, Moodle, Blackboard, and D2L? It seems that these LMSes may support multiple line items due to the LTI protocol but are not necessarily designed to work in this manner, instead expecting a single line item per assignment, or maybe we need to make sure that each line item meets certain requirements that the LMS is expecting to receive. Or, is there a different approach you have used to display detailed information about each assignment? We are also looking to engage with consultants in order to help us better understand some of the intricacies of LTI, grade passback and assignments. Any recommendations on candidates for this would be welcome. Thank you for your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 29, 2024, 10:47 PM",
          "AuthorName": "Ricardo A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6485422&course=5",
          "role": [
            "Picture of Ricardo A"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re:  Implementing Multiple Line Items per Assignment with LTI 1.3",
          "Text": "You will find the behaviour will be subtly different per LMS which is mostly to do with the way they handle grade items in grade book.  In Canvas there are no \"manual\" grade items, there is a 1:1 mapping between the column in the grade book and assignments which means some complexity supporting this l.  For Moodle it's possible to create grade book columns not associated with an activirt but that then has complexities because the \"grading\" process is owned by the activity and not the gradebook.  Each LMS has some variation on these concepts so it's an area where a 1 size fits all approach won't quite work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 30, 2024, 8:04 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 215698,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215698",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "External Tool link breaking for Smart Thinking service",
          "Text": "Hi there, We have setup an external link tool for the Smart Thinking service that has been setup for our students. However, the link keeps on breaking and reverting to a blank URL link instead of the external tool link. Any ideas why this could be happening? Any advice or support would be greatly appreciated. Many thanks, Heidi Humphrey",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 12, 2012, 8:06 AM",
          "AuthorName": "Heidi Humphrey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1516765&course=5",
          "role": [
            "Picture of Heidi Humphrey"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: External Tool link breaking for Smart Thinking service",
          "Text": "Moodle has a provision to not allow embedding of itself, if your LTI provider is a Moodle then you need to turn on allow embedding. Page path Home / ► Site administration / ► Security / ► HTTP security it's the 4th box tick. Don't forget to turn Webservices on on both so grades can flow. Hope that helps",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 12, 2012, 10:32 AM",
          "AuthorName": "John Andrewartha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=747340&course=5",
          "role": [
            "Picture of John Andrewartha"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429932,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429932",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI showing full site in fram",
          "Text": "Hi, I'm using Moodle 3.9 als LTI client and 3.11 as provider. Now i've selecte a single activity (it's a questionnaire) on te provider site but on the client site I get the enrire website with access to the activity but also the rest? What can go wrong? I just want the questionnaire activity to become available on the client site and not the rest of the providers site. Anny suggestions? Hans",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 12, 2021, 6:58 PM",
          "AuthorName": "Hans B0s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=281831&course=5",
          "role": [
            "Picture of Hans B0s"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI showing full site in fram",
          "Text": "Hi Hans, That's dictated by something called pagelayout. For admin/teacher launches, you'll see the full view with blocks and nav. As a student, however, we override that pagelayout to the embedded layout (no nav or blocks). This sounds like what you want. Try switching role to student and you should see what I mean. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 13, 2021, 9:50 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI showing full site in fram",
          "Text": "Hi Jake, Thanks, this solved the problem. Hans",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 14, 2021, 12:27 AM",
          "AuthorName": "Hans B0s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=281831&course=5",
          "role": [
            "Picture of Hans B0s"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI showing full site in fram",
          "Text": "Update: Just noticed that two moodle site running in separate browser tabs with different domains causes problems.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 14, 2021, 2:06 AM",
          "AuthorName": "Hans B0s",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=281831&course=5",
          "role": [
            "Picture of Hans B0s"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI showing full site in fram",
          "Text": "Hi Hans, Good to hear that resolved the layout issue for you. Regarding the cross-site issue, there was an issue relating to cross-site cookies that was patched in MDL-71887 . You'll need to be running 3.9.9+ to get access to that patch, however (see fix versions listed on the issue). If that's not the problem, can I ask that you please create a new thread in this forum, describing clearly the versions you're running, what steps you're taking to launch and the problem you're experiencing (exact error message, etc). Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 14, 2021, 10:40 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 373455,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373455",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "New Tracker improvement to LTI experience proposed; please vote!",
          "Text": "I've created a Tracker improvement ticket that will reduce confusion and unexpected gradebook behavior on new instances of LTI tools.  Please read it and vote for it here: https://tracker.moodle.org/browse/MDL-62839 Also, if you have a better understanding of Moodle code than I do, please feel free to contribute a patch! **Summary** When an administrator has configured an LTI tool and has set Accept grades from this tool to \"Delegate to teacher\", Moodle's default behavior is to enable that feature on all new instances of the tool.  Moreover, on the settings page when adding a new LTI instance to a course, this checkbox is initially hidden in the \"Privacy\" section, making it very likely that it will be missed.  Worse still, once grading is (unexpectedly) enabled, a new column in the gradebook will be created, which could cause confusion to students if the teacher did not intend for that to happen. The solution to avoid all of this confusion is simple, and the new Tracker ticket merely suggests that Accept grades from this tool be unchecked by default so that grading in LTI instances is treated as \"opt-in\".  Since there is no administrative setting for this option, a change to core code is needed. Thank you for supporting this idea!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 18, 2018, 12:19 AM",
          "AuthorName": "Glenn Pillsbury",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1184810&course=5",
          "role": [
            "Picture of Glenn Pillsbury"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 446976,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446976",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Context breakout when publishing moodle as a provider",
          "Text": "For several years now we have being running a moodle instance as an LTI 1.1 provider so that we can embed moodle quizzes into another VLE platform - in our setup moodle is the provider and Blackboard is a consumer.  This is so we can take advantage of a specialised quiz question type not available in Blackboard. We always \"Publish as LTI tool\" with \"Tool to be published\" as a the tool (in our case always quizzes).  99.9% of the time it works flawlessly and students click the LTI tool link in Blackboard and moments later see a moodle quiz embedded into the Blackboard content frame and are largely unaware they are using another system.  In the 0.1% case students click the LTI tool link in Blackboard and rather than see the quiz tool, they get dumped on the main moodle course page i.e. context breakout.  This is usually NOT what we want as the moodle course page contains published and unpublished quizzes some of which are not for student consumption (yet). We currently use LTI 1.1 for our integration, but plan to move to LTI 1.3 this summer if we are confident the integration gives us the same or better functionality. Can this community suggest reasons why there should be this \"context breakout\" and how this can be prevented and whether there is the same risk of it occuring when we move to LTI 1.3? Thanks, Stuart Anderson, University of Manchester",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 22, 2023, 9:45 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Context breakout when publishing moodle as a provider",
          "Text": "Hi Stuart, This situation sounds like a bug to me. If the activity is being shared then there should be no reason the student ends up in the course context on launch. If you can reproduce this, I'd suggest creating a tracker issue at https://tracker.moodle.org .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 4:01 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Context breakout when publishing moodle as a provider",
          "Text": "Thanks Jake. I suspect \"reliably\" reproducing this issue will be a problem as there is nothing to indicate this isn't anything other than an intermittent issue. That said, I'll see what we can do. If I do reproduce it, I'll try and see what messages apprear in the browser console. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 5:13 PM",
          "AuthorName": "Stuart Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224478&course=5",
          "role": [
            "Picture of Stuart Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Context breakout when publishing moodle as a provider",
          "Text": "Thanks, Stuart. I suspect the same, unfortunately. Will be interested to see if you find anything.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 5:35 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 361666,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361666",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Uniquely Identify Moodle Course",
          "Text": "Hi, I have an LTI Tool provider which runs perfectly fine with Canvas. When I try to integrate it with Moodle, I face a lot of issues. Some of which have been fixed, for example, Moodle instead of old \"launch_presentation_return_url\", it sends \"content_item_return_url\" etc. Anyway, the issue that I am facing currently is that in my application I need to uniquely identify the course, Moodle doesn't send a unique course identifier, I only get course name and there can be many courses with the same name by same instructor. Is there a way to uniquely identify each course at Tool Provider's end? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 17, 2017, 4:28 AM",
          "AuthorName": "Hamza Manzoor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2345118&course=5",
          "role": [
            "Picture of Hamza Manzoor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 460106,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460106",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTIv 1.3 and Qualtics",
          "Text": "First, has anybody setup an LTI connection with Qualtrics (Student Evaluation) We are having issues with the user id and Qualtrics.  Qualtrics is looking for the id from the profile custom 'User idnumber' this number comes in from our SIS which is the institution identifier. Within the LTI configuration 'custom parameters' we have it set to user_id=$User.id This works only if the user is manually created as I think this is connecting to the Moodle unique id number.  I need help in identifying the field in the Moodle database that points to the optional \"id number' within the profile. Thanks, any help is much appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 7:20 AM",
          "AuthorName": "David Siemens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=169343&course=5",
          "role": [
            "Picture of David Siemens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTIv 1.3 and Qualtics",
          "Text": "Hi David, You can get idnumber by sending a custom param using the substitution variable $Person.sourcedId. e.g. idnumber=$Person.sourcedId Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 10, 2024, 9:10 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 351594,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351594",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Help me. I want to use external tool in moodle 3.2.2+.But, I cannot use this. [What I can do] l can go to external tool setup page. [What I cannot do] I push submit button of setup page. but, I have gotten 500 error message. [error_message] Potential coding error - active database transaction detected during request shutdown:\\n* line 105 of /course/modlib.php: call to moodle_database->start_delegated_transaction()\\n* line 161 of /course/modedit.php: call to add_moduleinfo()\\n, referer: http://(my IP address)/moodle/course/modedit.phpadd=lti&type=&course=2&section=0&return=0&sr=0 [environment] PHP 5.6.30 MySQL 5.6.36 CentOS release 6.9 (Final)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 29, 2017, 7:02 PM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "First, share what you are filling in on the LTI form.  LTI resources were to be opened and usable by all who desire to use them.  Don't think there are any security/privacy issues by sharing that info. Typically, one is entering a url to an XML file. Example: https://www.eduappcenter.com/apps/162#.WQR-aMm1vFQ So does your Moodle have",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 29, 2017, 7:56 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "> Ken Task thank you for your answer. I filled only activity name, tool URL , consumer key, and secret.(This is like LTI 1.1.) There are five extensions of PHP by  \"php -m|grep xml\". libxml xml xmlreader xmlrpc xmlwriter I checked my database using MySQL Tuner. [result of MySQL check](I'm sorry. this is so long...) >>  MySQLTuner 1.6.0 - Major Hayden <major@mhtx.net> >>  Bug reports, feature requests, and downloads at http://mysqltuner.com/ >>  Run with '--help' for additional options and output filtering [--] Skipped version check for MySQLTuner script [OK] Currently running supported MySQL version 5.6.36 [OK] Operating on 64-bit architecture -------- Storage Engine Statistics ------------------------------------------- [--] Status: +ARCHIVE +BLACKHOLE +CSV -FEDERATED +InnoDB +MRG_MYISAM [--] Data in InnoDB tables: 18M (Tables: 370) [OK] Total fragmented tables: 0 -------- Security Recommendations  ------------------------------------------- [OK] There is no anonymous account in all database users [!!] User 'user@localhost' has no password set. [!!] There is not basic password file list ! -------- Performance Metrics ------------------------------------------------- [--] Up for: 26m 28s (484 q [0.305 qps], 113 conn, TX: 545K, RX: 62K) [--] Reads / Writes: 92% / 8% [--] Binary logging is disabled [--] Total buffers: 169.0M global + 1.1M per thread (151 max threads) [OK] Maximum reached memory usage: 170.1M (8.48% of installed RAM) [OK] Maximum possible memory usage: 338.9M (16.89% of installed RAM) [OK] Slow queries: 0% (0/484) [OK] Highest usage of available connections: 0% (1/151) [!!] Aborted connections: 9.73%  (11/113) [OK] Query cache efficiency: 25.2% (78 cached / 310 selects) [OK] Query cache prunes per day: 0 [OK] Sorts requiring temporary tables: 0% (0 temp sorts / 32 sorts) [OK] Temporary tables created on disk: 4% (3 on disk / 70 total) [OK] Thread cache hit rate: 99% (1 created / 113 connections) [OK] Table cache hit rate: 98% (454 open / 461 opened) [OK] Open file limit used: 0% (48/5K) [OK] Table locks acquired immediately: 100% (221 immediate / 221 locks) -------- MyISAM Metrics ----------------------------------------------------- [!!] Key buffer used: 18.2% (1M used / 8M cache) [OK] Key buffer size / total MyISAM indexes: 8.0M/97.0K [!!] Read Key buffer hit rate: 90.0% (10 cached / 1 reads) -------- InnoDB Metrics ----------------------------------------------------- [--] InnoDB is enabled. [OK] InnoDB buffer pool / data size: 128.0M/18.5M [OK] InnoDB buffer pool instances: 1 [!!] InnoDB Used buffer: 21.07% (1726 used/ 8191 total) [OK] InnoDB Read buffer efficiency: 94.58% (30040 hits/ 31761 total) [!!] InnoDB Write buffer efficiency: 0.00% (0 hits/ 1 total) [OK] InnoDB log waits: 0.00% (0 waits / 14 writes) -------- AriaDB Metrics ----------------------------------------------------- [--] AriaDB is disabled. -------- Replication Metrics ------------------------------------------------- [--] No replication slave(s) for this server. [--] This is a standalone server.. -------- Recommendations ----------------------------------------------------- General recommendations: Set up a Password for user with the following SQL statement ( SET PASSWORD FOR 'user'@'SpecificDNSorIp' = PASSWORD('secure_password'); ) MySQL started within last 24 hours - recommendations may be inaccurate Reduce or eliminate unclosed connections and network issues",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 29, 2017, 11:50 PM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "This part: \" I filled only activity name, tool URL , consumer key, and secret.(This is like LTI 1.1.) \" please provide specifics ... to all of them ... the actual entries you made. Tuner output ... one that catches my eye: [!!] Aborted connections: 9.73%  (11/113) Indicates there might be some issues in connectivity between the Moodle code on the web server and the DB server. Apache error logs might also show that. and this one: Reduce or eliminate unclosed connections and network issues Is the DB server on the same server as the moodle code it should be using socket connections. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 12:39 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "> please provide specifics ... to all of them ... the actual entries you made. I'm sorry. I tell you about them. Activity name : LTItest Tool URL : http://49.212.209.129/tool.php Consumer key : 12345 Shared secret : secret other forms : empty or default value(I don't change default customize of moodle 3.2.2+). Masayuki Asano.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 5:35 AM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Thank you! ;) In a test from command line to that URL and php script ... the following is returned ... ﻿ <p style=\"color:red\">Could not establish context : <p> <p>Base String:<br/> <br/></p> <pre> Raw POST Parameters: A lot of info about server where I tried to use it ... not disclosed here for obvious reasons. Raw GET Parameters: Nothing here. So ... what is one supposed to see? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 6:30 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "thank you for your report! It is the response that I want. The program is checking tool about LTI 1.1 POST values. It made and provided IMS GLC two years ago. Latest moodle use LTI 2.0. So, your launch might not catch normally it. I often checked Apache error_log when you advised about it. But, There was not found new message except 'Potential coding error - active database transaction detected during request shutdown:\\n* line 105 of /course/modlib.php: call to moodle_database->start_delegated_transaction()\\n* line 161 of /course/modedit.php: call to add_moduleinfo()\\n, referer: http://160.16.110.61/moodle/course/modedit.php?add=lti&type=&course=2&section=0&return=0&sr=0 \"'... I wander that I can add the other activity(Quiz,chat,and more...) to courses. But,I cannot add only external tools to courses. Would you mind to check php.ini and my.cnf of my moodle server?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 6:59 AM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Huh?   Really?  That was the response you expected?   Uhhhh .... you could have done this test yourself from command line on a Mac or Linux! Not sure what I'd be looking for nor what to suggest for config files as guessing settings isn't a good practice.   So I'll decline the invite. Appears you have linux ... install MySQLTuner to check DB. Someone else has reported a similar error as yours \"transaction detected during request shutdown\" A discussion about it ... 2014 ... but that was about quiz ... https://moodle.org/mod/forum/discuss.php?d=263351 The line reported (161) is in this bit of code: ﻿ if (!empty($fromform->update)) { list($cm, $fromform) = update_moduleinfo($cm, $fromform, $course, $mfor$ } else if (!empty($fromform->add)) { *161        $fromform = add_moduleinfo($fromform, $course, $mform); } else { print_error('invaliddata'); } Google finds quite a few hits on transaction detected during request shutdown' ... https://www.google.com/search?q=transaction+detected+during+request+shutdown&ie=utf-8&oe=utf-8 So ?????? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 8:00 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Mr Ken what I was NOT able to understand happened in my moodle. As a result, My problem was resolved. I could launch LTI formatted data from my moodle 3.2.2+ server to tool provider's server. [What I did] I added the code into course/modlib.php (106～108). <the code> if(!isset($transaction)){ echo \"<script>alert('invalid_error!');</script>\"; } Why did my moodle moved by the code to alert???",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 11:13 AM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Not sure I understand the question, but suggest if you think it's a bug please report it in tracker. https://tracker.moodle.org/secure/Dashboard.jspa When you do, you'll have to provide steps for someone to be able to replicate the problem so you'll have to disclose info ... other wise, no one who is a true programmer can test. Am not a coder. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 1:10 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "Mr.Ken I cannot judge whether these error is bug or not. And. The problem doesn't resolve essentially.Because, It was unstable to add LTI tool.(My check was not enough...sorry.) But, I report Moodle Tracker these phenomenon. Because, honestly speaking, I think that my skill and knowledge about moodle is not enough to resolve the problem. I can only report that There is the problem. But, at least, I could add LTI tool. This is the fact. I cannot thank you enough for this. Thank you! masayuki asano",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 30, 2017, 2:26 PM",
          "AuthorName": "浅野 真之",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2232385&course=5",
          "role": [
            "Picture of 浅野 真之"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: I cannot use external tool in Moodle 3.2.2. help!",
          "Text": "The error seems very strange. Have you tried using the test provider and seeing if you get the same error? http://lti.tools/test/tp.php",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 1, 2017, 8:34 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 410303,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410303",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 3.9, LTI from XYZHomework, Assignment Link returns Blank",
          "Text": "My CC has just updated to Moodle 3.9. I am probably one of the first instructors at our school attempting to link Moodle via LTI to XYZHOMEWORK.com, the class is Pre-Algebra. Working with our school's Moodle Support and the XYZHomework tech we went through all the normal steps per XYZ. My Moodle Course shows all the links to the associated XYZ assignments, but when clicked through, the questions do not appear in the content box on the next page. We deleted and recreated the class and regenerated the LTI. No change was apparent. Next Monday, we will work with the next level of our Moodle Support Chain in case there is a permission setting only she can approve. Any Suggestions on what to look at next? Bill B.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 11, 2020, 9:20 PM",
          "AuthorName": "William Boyke",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3567564&course=5",
          "role": [
            "Picture of William Boyke"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 363186,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=363186",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle and Canvas grade Passback",
          "Text": "I have published a course on Moodle 3.1 with LTI using \"Publish as LTI\" option. When I include this course as assignment in Canvas, it doesn't pass the scores back to Canvas. What could be going wrong here?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 20, 2017, 2:11 AM",
          "AuthorName": "Poonam Agarwal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2359953&course=5",
          "role": [
            "Picture of Poonam Agarwal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 319010,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=319010",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "Hello, I want to implement LTI Tool Provider and I am thinking which version of LTI specification to implement. LTI 2.0 implementation guide says that LTI 2.0 is compatible with version 1.1 but I am suspicious. Is it really possible for lets say LTI 1.1 Consumer to communicate with LTI 2.0 Tool Provider?  If it is, how would tool registration process and Tool Proxy setup go? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 28, 2015, 1:59 AM",
          "AuthorName": "Stefan Vuckovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1986226&course=5",
          "role": [
            "Picture of Stefan Vuckovic"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "Perhaps the language in the LTI 2.0 Implementation Guide is a little too emphatic, but an LTI 2.0 Tool Provider should be able to support a launch from an LTI 1.x Tool Consumer if it allows LTI-1p0 as a permitted value of the lti_version parameter and is able to manually create and pass across a key and secret for the tool consumer to use.  So there are a few small additional requirements needed by a tool provider to include support for LTI 1 in addition to LTI 2.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 28, 2015, 2:46 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "Hello Stephen, How should we (as a Tool Provider) treat consumer key in LTI 2.0 if consumer chooses key that we already have in our system? I would show some kind of error page telling that consumer with that key already exists but I can't do that because they send consumer key (tool proxy guid) as a last step of interaction after I register tool proxy with that consumer and it's too late to show errors. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 21, 2015, 10:23 PM",
          "AuthorName": "Stefan Vuckovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1986226&course=5",
          "role": [
            "Picture of Stefan Vuckovic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "An excellent question!  Originally the answer was that, since the consumer key is expected to be a GUID, this should never arise.  However, for LTI 2.1 IMS proposes to allow a tool consumer to suggest a key to be used for the final tool proxy in the initial tool registration request message.  In this way tool providers can stop processing the request before offering a tool proxy.  For now, however, your main choices, as I see them, are: Do not update the tool proxy with the proposed key when the tool consumer accepts it and contact the customer as their launches will fail (you could return a status=failure parameter when returning the user as well as an lti_msg parameter to explain). Add support for duplicate keys provided their secrets are different, and use a different ID when referencing the tool proxy.  Validating incoming requests would then need to check the signature with the secret from each matching record to determine which customer it was coming from.  Certainly not ideal, but possible. Has this situation ever occurred to you?  I am expecting it to be a very unlikley event.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2015, 2:32 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "No, I don't expect this to happen but I'm just trying to cover all possible cases. Thank you for your suggestions, I think I'll go with option 2 because  it's automated. But now another question comes to my mind. What will happen when Consumer registers for two different set of tools (different registration urls). We will then have different Consumer records for same Consumer. Again, this would be a problem only if we need to track Consumers and their usage of our Tools in some way. I suppose this could be solved by including consumer authentication as part of Deployment UI after receiving tool proxy registration request. This would allow us to match consumer records. Again, thank you Stephen for your suggestions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2015, 7:16 PM",
          "AuthorName": "Stefan Vuckovic",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1986226&course=5",
          "role": [
            "Picture of Stefan Vuckovic"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 2.0 and LTI 1.1 Backwards compatibility",
          "Text": "Another excellent question and one which will hopefully be resolved in LTI 2.1 which will introduce the ability to re-register with a tool provider. In the meantime, with LTI 2.0, you have little choice but have multiple registrations with the same tool consumer if they want to add other tools.  You could try using the tc_profile_url or launch_presentation_return_url URLs (or at least their domains) to identify those coming from the same tool consumer.  Or, as you suggest, you may have given customers some form of key which allows them to identify themselves during the registration process.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2015, 8:13 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 398357,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=398357",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Load Attendance  by LTI standard",
          "Text": "Hey.....! By Facial Recognition a python project i want to mark attendance of present students in class automatically to Moodle account.i have done saving attendance in excel sheet but i could not load attendance to moodle account. Can Anyone guide me regarding this Thanks in Advance.....!😊",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 16, 2020, 3:14 PM",
          "AuthorName": "ABRAR HAIDER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2808095&course=5",
          "role": [
            "Picture of ABRAR HAIDER"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 454683,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=454683",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Up until the recent Moodle release we have been implementing LTI 1.1 content links by overriding the Tool URL on each activity. As this is no longer possible how do we go about implementing the Deep Linking 'Select content' functionality using LTI 1.1? I thought this was only a feature of 1.3? Any advice gratefully received!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 12:03 AM",
          "AuthorName": "Tim Abbott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6216405&course=5",
          "role": [
            "Picture of Tim Abbott"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Hi Tim, Deep linking is definitely supported via 1.1 (see https://www.imsglobal.org/specs/lticiv1p0 ). Sadly, that doesn't mean all tools support it. There's a nearly identical post over in another thread, where I replied a few days back - see https://moodle.org/mod/forum/discuss.php?d=454439#p1825913 I'd definitely like for us to find a middle ground before the next Moodle LTS (4.5). Perhaps that means we need to expose custom params at the instance level again to permit manual link configuration in cases where deep linking isn't possible (we're still assessing that option). However, it's unlikely that middle ground will be to permit the use of URL params to identify specific resources, given the specs have provided other means to do this for quite some time now (custom params and/or deep linking). Thanks for adding another voice to the conversation",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 9:36 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Just following on from Jakes post, I'd be strongly recommending moving to LTI 1.3 given 1.1 is no longer supported by 1EdTech and has some known security issues. LTI 1.3 is more complex but its the modern standard that will continue to be developed long term",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 11:14 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Thanks Brett. Our tool has been updated to support 1.3 but we also need to support 1.1 for some clients sadly!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 6:25 PM",
          "AuthorName": "Tim Abbott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6216405&course=5",
          "role": [
            "Picture of Tim Abbott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Totally understand, Moodle core is in much the same position. Hope the work goes well",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 30, 2024, 1:06 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "I was experimenting with Moodle 4.3 to Moodle 4.3 LTI connectivity recently. Once I had it working it was a bit like magic. However the documentation covers all possibilities, which is understandable but really confusing. I have created a stripped down version that documents just LTI 1.3 (Advantage?) Moodle 4.3 to Moodle 4.3. Would it be useful to add that to the Wiki docs as an option.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 30, 2024, 3:52 PM",
          "AuthorName": "Marcus Green",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2246&course=5",
          "role": [
            "Picture of Marcus Green",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Add away, Marcus.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 30, 2024, 4:39 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Marcus that would be really appreciated. The existing documentation is a bit patchy so the contribution would be greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 31, 2024, 6:10 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "yes please ... that would be helpful... mine does not work",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 1, 2024, 12:50 PM",
          "AuthorName": "Jerry Lau",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1324621&course=5",
          "role": [
            "Picture of Jerry Lau",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Please publish this information !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 11:24 AM",
          "AuthorName": "Angus Denton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1780481&course=5",
          "role": [
            "Picture of Angus Denton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Here you go: https://docs.moodle.org/404/en/LTI_Moodle_to_Moodle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2024, 11:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 4.3+ and LTI 1.1 Content selection",
          "Text": "Many thanks Jake. We are a tool provider so will look into deep linking for 1.1 as that seems like the most intuitive way forward for the end user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 24, 2024, 6:21 PM",
          "AuthorName": "Tim Abbott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6216405&course=5",
          "role": [
            "Picture of Tim Abbott"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 429886,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=429886",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI Customer key",
          "Text": "Hello, I am using the LTI method for the first time, and I am stock ! I hope that someone can help me. I checked the moodle guide https://docs.moodle.org/311/en/Publish_as_LTI_tool and it says \"You will also need to give the LTI consumer site a consumer key - this can be anything you want.\" I cannot find where I generate the customer key ? As far as i understand, I can make it up myself, but where do I write it down ? Thank you so much for your help,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 10, 2021, 7:32 PM",
          "AuthorName": "Sand ipm",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3872425&course=5",
          "role": [
            "Picture of Sand ipm"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Customer key",
          "Text": "Hi, You're right, the consumer key can be anything you like. You need to enter it in the tool settings in the consumer site. The first time the tool is launched, the provider will store information about the consumer, including the key you've used. I will point out that there are implications to using different consumer keys across different tools on the consumer site, however. Because the Moodle provider code uses the consumer key in generating unique identifiers for user accounts, using different consumer keys can result in two user accounts being created on the provider, for the same user on the consumer site. This would occur if the same user launched two tools on the consumer using different consumer keys (i.e each tool is set up to use a different consumer key). If your use case is a single organisation using the tool(s), you probably want to just pick a key and stick with it, making sure that all launches a given user will result in that same account being reused on the provider site. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 13, 2021, 10:00 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Customer key",
          "Text": "hello, thank you so much for your answer, I think that explains why there are so many accounts being created for one single user. I also have an issue with a module inside a module (external tools) being seen as an \"abymed\" window (a window in a window in a window) would you know why this is happening ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 5, 2022, 4:33 PM",
          "AuthorName": "Sand ipm",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3872425&course=5",
          "role": [
            "Picture of Sand ipm"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Customer key",
          "Text": "I'd suggest looking at the docs here: https://docs.moodle.org/311/en/External_tool_settings Look for \"Launch container\" - that deals with the various modes like embed, new window/tab, etc. Hope that helps. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:38 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 392728,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=392728",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Customizing LTI plugin",
          "Text": "We have some requirements which require to customize the LTI plugin. We copied the LTI plugin added some suffix to required files in order to make it work side by side with standard LTI plugin. Installation is working fine. But settings are not appearing on the admin page. Need help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 25, 2019, 4:15 PM",
          "AuthorName": "Bij Gupt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2680690&course=5",
          "role": [
            "Picture of Bij Gupt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 266721,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=266721",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup/Restore Consumer Key and Shared Secret",
          "Text": "Hi, I see there is a tracker ticket ( MDL-36580 ) open for this but I'm looking for a work around or temporary solution. I work for a large post secondary and we use a middle-ware app to clone(backup/restore) courses to create one for each section we offer. One of our courses is using a lot of LTI activities and the Consumer Key and Shared Secret don't get backed up. In the ticket it mentions this is done for security purposes. We are not to concern about security as the backups never leave our servers. Could someone please let me know how I can add these to fields to the backup? Storing them in plain text would be better then editing each activity a pasting it in a over and over. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 15, 2014, 1:44 AM",
          "AuthorName": "Shaun T",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1558732&course=5",
          "role": [
            "Picture of Shaun T"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup/Restore Consumer Key and Shared Secret",
          "Text": "If you want to change this in your site, just edit this list https://github.com/moodle/moodle/blob/master/mod/lti/backup/moodle2/backup_lti_stepslib.php#L64 in your copy of the code. Add \n```text\n'resourcekey',\n'password',\n```\n somewhere. I don't think it is necessary to change the restore code. Please test this yourself before relying on it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 19, 2014, 4:51 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 431079,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=431079",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Jwt token from moodle (lti 1.3)",
          "Text": "Hi! I’ve got jwt token (id_token) from moodle with invalid signature I use jwt.io to decode jwt Help me please",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 23, 2022, 4:16 PM",
          "AuthorName": "alex voronov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4733579&course=5",
          "role": [
            "Picture of alex voronov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Jwt token from moodle (lti 1.3)",
          "Text": "Hi Alex, We're going to need more information to be able to help with issues like this. Can you explain what you're trying to do, how you've configured Moodle (and the tool)? The JWT sent from Moodle is certainly valid, so it's going to be a matter of tracking down the validation problem in the tool code, I suspect. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 24, 2022, 10:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Jwt token from moodle (lti 1.3)",
          "Text": "TY! i've solves the problem Have a nice day",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 30, 2022, 1:36 AM",
          "AuthorName": "alex voronov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4733579&course=5",
          "role": [
            "Picture of alex voronov"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 382563,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382563",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "An error occurred when launching the external tool",
          "Text": "Using Moodle 3.6.2 Stable. I am getting the following error message when I try to launch an activity in a course,  which is set up via the External Tool function: An error occurred when launching the external tool:Sorry, there was an error connecting you to the application. Can anyone tell me what this error is all about?  I have searched and cannot find how to fix this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 16, 2019, 2:07 AM",
          "AuthorName": "Ken Kavanagh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2576708&course=5",
          "role": [
            "Picture of Ken Kavanagh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 356830,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=356830",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Add moodle speechace content in my wordpress  using LTI",
          "Text": "hi i am working in moodle to wordpress LTI tool. i am using speechace in moodle from which i want the speechace lessons to show in my wordpress site i am using the wordpress LTI consumer. after adding the lesson from speechace i got url and secret key, but the url is empty when i go to it. https://pronunciation.personalenglishcenter.com/enrol/lti/tool.php?id=3 thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2017, 5:18 PM",
          "AuthorName": "Tooba Khaliq",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2273194&course=5",
          "role": [
            "Picture of Tooba Khaliq"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 262855,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262855",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI Activity Groups & Grouping",
          "Text": "In Moodle, Groups and Groupings are disabled by default for External tool activity. 1. What is the reason the Groups are disabled for this activity? 2. Do I need to enable them by updating the lti_supports() function?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 26, 2014, 7:45 PM",
          "AuthorName": "Vignesh Gurusamy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1647025&course=5",
          "role": [
            "Picture of Vignesh Gurusamy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Activity Groups & Grouping",
          "Text": "Groups were never implemented because External Tool does not have a local grading interface or a way to separate content by groups within Moodle.  It's possible that the Tool Consumer (in Moodle) could pass the group to the Tool Provider by way of an LIS Group, so that the Tool Provider could decide how to display the information based upon user groups.  However, that feature has not yet been requested.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 1, 2014, 2:26 AM",
          "AuthorName": "Kris Stokking",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=669060&course=5",
          "role": [
            "Picture of Kris Stokking"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Activity Groups & Grouping",
          "Text": "Passing group information to the LTI tool sounds like a sensible suggestion. (Does LTI cope with Moodle's ability to put a user in multiple groups?) Also, I forget, but does 'External tool' have any reporting features these days? If so, it is important (e.g. data protection legislation) for those reports to support separate groups mode (imagine a case where non-editing teachers don't have 'access all groups' and can access those reports). If it helps I can create tracker issues for those two requests, but it might be better if they were done by someone who is more up-to-date than me on on LTI2, and the Moodle add-on.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 1, 2014, 2:31 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Activity Groups & Grouping",
          "Text": "LTI does have a way of handling groups, and that's through the Memberships service with groups. A discussion about getting groups from the Tool Consumer (Moodle) to a Tool Provider is here, but seems to have stalled a bit: https://tracker.moodle.org/browse/MDL-41724",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 10, 2014, 8:50 AM",
          "AuthorName": "John Hoopes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1619455&course=5",
          "role": [
            "Picture of John Hoopes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Activity Groups & Grouping",
          "Text": "We are currently running two instances of Moodle. Students are enrolled on one iteration and connected to our second iteration via LTI. We are looking for a way for any groups created on the first iteration to be automatically created on the second iteration over the LTI connection. According to MDL-50658 it is possible to allow for roster syncing with other programs (e.g. WebPA), but I'm not sure if Moodle itself supports it. I must admit I am new to LTI, so any information would be tremendously helpful. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 14, 2015, 10:23 PM",
          "AuthorName": "Julian Enright",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1972613&course=5",
          "role": [
            "Picture of Julian Enright"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 403061,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403061",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "HELP WITH ERROR 403 Forbidden",
          "Text": "```text\nPLEASE HELP WHEN I LINK MY LTI TOOL AND TRY TO SHOW IT IN THE COURSE SHOWS ME THE ERROR\n```\n 403 Forbidden and shows nothing",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 12, 2020, 7:58 AM",
          "AuthorName": "IEC PUEBLA",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3211731&course=5",
          "role": [
            "Picture of IEC PUEBLA"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 465257,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465257",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Hello, I am getting an error when a new account is provisioned, and the learner/student/teacher needs to agree to the Site Policies when login for the first time. In my case, we are using two Policies and an account is created, but when the user is redirected after agreeing to the Policies, is getting the following error. If I remove the Site Policies, the account is created during the first call and redirection is performed correctly. Thank you very much for any help. line 60 of /enrol/lti/classes/local/ltiadvantage/lib/issuer_database.php: coding_exception thrown line 428 of /lib/lti1p3/src/LtiMessageLaunch.php: call to enrol_lti\\local\\ltiadvantage\\lib\\issuer_database->findRegistrationByIssuer() line 122 of /lib/lti1p3/src/LtiMessageLaunch.php: call to Packback\\Lti1p3\\LtiMessageLaunch->validateRegistration() line 74 of /enrol/lti/launch.php: call to Packback\\Lti1p3\\LtiMessageLaunch::fromCache()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 12:45 PM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Can you share the version of Moodle you're using on the tool site? What type of user is launching when you see that error? E.g. Teacher, Student? And finally, what provisioning mode are you using for that respective role (the setting in the tool's configuration on the tool site)? I would enable developer debugging on the tool site too, so you can get a stack trace with more information when you see that error. At a glance, that error seems related to a missing clientId, but would be good to confirm on your site. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 16, 2025, 1:22 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Thanks for your reply. The platform site is D2L, and the tool site is Moodle 4.3.5 The user is a student, however, the error seems to be the same using a teacher role (not sure about this). Student first launch provisioning mode: New accounts only (automatic) Students must accept Privacy Policy and Terms of Use during the first launch. When this step is removed there are no issues and the student is redirected successfully to the LTI Tool. Error Coding error detected, it must be fixed by a programmer: The param 'clientid' is required. Calling code must either pass in 'client_id' (generated by the platform during registration) or 'id' (found in the initiate login URI created by the tool) to identify the client. Debug info: Error code: codingerror Stack trace:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 18, 2025, 1:08 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Thanks for the info, Jan. Just to dig a bit deeper on this bit: \"Students must accept Privacy Policy and Terms of Use during the first launch\" Are you using tool_policy as the site policy handler? Are both Privacy Policy and Terms of Use being handled by that policy handler, as site policies? Or, is there something else in play? Just trying to rule things out. FWIW (not much) I'm running site policies on my local test tool, and can launch into it, including with several policy acceptance steps, so just trying to work out the specifics of your use case. Also, what browser are you using the do the launches? And finally, are the platform and tool on the same domain , or different domains?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 20, 2025, 10:38 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Thanks, Jake, for the time you are spending on this. Using tool_policy as Site Policy Handler. Privacy Policy and Terms of Use are Site Policies. Using Firefox Different domains. The platform is a Blackboard staging site: https://partner-smoke-test-b.blackboard.com and we use a domain for the Moodle tool. Thanks in advanced.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 21, 2025, 5:05 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Hello Jake, We have tested this again using a clean version of Moodle, the result is the same. When students/teachers need to accept a Policy the platform is throwing the same error consistently. If a policy is not present, there is no error being thrown. Default exception handler: Coding error detected, it must be fixed by a programmer: The param 'clientid' is required. Calling code must either pass in 'client_id' (generated by the platform during registration) or 'id' (found in the initiate login URI created by the tool) to identify the client. Debug: \\nError code: codingerror\\n* line 60 of /enrol/lti/classes/local/ltiadvantage/lib/issuer_database.php: coding_exception thrown\\n* line 428 of /lib/lti1p3/src/LtiMessageLaunch.php: call to enrol_lti\\\\local\\\\ltiadvantage\\\\lib\\\\issuer_database->findRegistrationByIssuer()\\n* line 122 of /lib/lti1p3/src/LtiMessageLaunch.php: call to Packback\\\\Lti1p3\\\\LtiMessageLaunch->validateRegistration()\\n* line 74 of /enrol/lti/launch.php: call to Packback\\\\Lti1p3\\\\LtiMessageLaunch::fromCache()\\n, referer: https://ameserver.ca/admin/tool/policy/view.php?versionid=4&returnurl=https%3A%2F%2Fameserver.ca%2Fadmin%2Ftool%2Fpolicy%2Findex.php Is there any fix for this available from your side? Thank you very much.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 4, 2025, 11:58 AM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error creating new account when user needs to agree to the Sites Policies",
          "Text": "Hello Jake, Just following up on this. Wanted to know if there is some progress or more comments from you. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 14, 2025, 9:28 PM",
          "AuthorName": "Jan Munoz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4313925&course=5",
          "role": [
            "Picture of Jan Munoz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 371681,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371681",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Show quiz navigation block - Moodle as LTI provide",
          "Text": "I am using Moodle 3.4 as a LTI provider for my course in our institution's Canvas implementation. So that each Moodle quiz shows up as its own gradebook item, I am creating individual publish as LTI provider enrollment methods for each quiz. This generally work fine, but the default behavior when the LTI tool launches in Canvas is to hide all of the Moodle blocks. I want to show my students the quiz navigation block so that they can see the timer for timed quizzes. With this block hidden, the timer is also hidden, I figure I can force this block to be shown with a custom parameter, but I do not know which one to pass. I'll settle for a comprehensive list of custom parameters I can pass back to Moodle from Canvas. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 5, 2018, 11:36 PM",
          "AuthorName": "Benjamin Norris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2075988&course=5",
          "role": [
            "Picture of Benjamin Norris"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Show quiz navigation block - Moodle as LTI provide",
          "Text": "Came here to ask the exact same question. Any luck? Closest I've gotten is to show all the blocks, but I don't want headers and all of that. I've used Moodle in the past, but our school district is using Canvas.  My goal is to embed quizzes into Canvas from Moodle so that I can use adaptive questions.  I've used adaptive in the past and prefer it for quick check quizzes.  Unfortunately, Canvas doesn't have anything close. There's other reasons I'd rather be using Moodle full stop, but this one that I haven't found a good work around for yet.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 6, 2018, 11:55 PM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show quiz navigation block - Moodle as LTI provide",
          "Text": "I have not solved this problem. How did you figure out how to show all blocks? I can set them to be visible to instructors only, but not to students. If you have figured out how to show them all to students, I will settle for that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 7, 2018, 12:28 AM",
          "AuthorName": "Benjamin Norris",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2075988&course=5",
          "role": [
            "Picture of Benjamin Norris"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Show quiz navigation block - Moodle as LTI provide",
          "Text": "Confused myself... I can hide blocks for everybody, but haven't figured out how to turn them on. Was thinking if I could turn them on for everybody I could hide what I don't want with CSS .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 7, 2018, 1:10 AM",
          "AuthorName": "Ryan Nutt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1823055&course=5",
          "role": [
            "Picture of Ryan Nutt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469605,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469605",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "External tool (LTI) workflow change after upgrading to Moodle 4.5.4",
          "Text": "Hello, After upgrading from Moodle 4.1.15 to 4.5.4, we noticed that the \"External tool\" option is no longer directly available in the \"Add an activity or resource\" menu. In Moodle 4.1.x: - Site administrators registered the LTI tool with consumer key and shared secret. - Course teachers could simply add an activity, select \"External tool\", and only enter the Tool URL (different per content). - This allowed teachers to add LTI resources without knowing the secret credentials. In Moodle 4.5.4: - The activity chooser does not show \"External tool\" unless the tool is added via \"More > LTI External tools\". - Course teachers are required to know consumer key and shared secret when adding new tools, which is not possible in our organization (these credentials are not shared with teachers). Our ideal use case: - Admins register LTI tools with credentials once. - Course teachers should be able to add LTI activities only by specifying a Tool URL, as before. Question: - Is there any recommended workaround to allow course teachers to add LTI activities with only a Tool URL (without exposing consumer key/secret)? - Or is this simplified workflow no longer supported in Moodle 4.3+? Thank you very much for any guidance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 28, 2025, 7:48 PM",
          "AuthorName": "Sayori Tatsuki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4507461&course=5",
          "role": [
            "Picture of Sayori Tatsuki"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "External tool (LTI) workflow change after upgrading to Moodle 4.5.4",
          "Text": "Hi Sayori, Yes, this was changed in 4.3, as part of MDL-78573 . Now, tools must be created at either site or course level (this part hasn't changed), and used at course level by enabling the tool for use in the activity chooser. It is no longer possible to create specific links using a domain -match approach like in your example, since we've removed that \"External tool\" link from the activity chooser. You must configure the tool and go via that link in the activity chooser.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 4, 2025, 10:07 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "External tool (LTI) workflow change after upgrading to Moodle 4.5.4",
          "Text": "Hi Jake, Thank you very much for your kind and detailed response. I understand now that the only way would be to use custom parameters, but unfortunately the external tool we are working with does not support them. In this case, may I ask if there are really no alternative approaches available? If not, I fully understand, but I just wanted to confirm before giving up on this requirement. Thanks again for your helpful advice and your time. Best regards, Sayori",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 4, 2025, 3:55 PM",
          "AuthorName": "Sayori Tatsuki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4507461&course=5",
          "role": [
            "Picture of Sayori Tatsuki"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "External tool (LTI) workflow change after upgrading to Moodle 4.5.4",
          "Text": "Hi Sayori, At the moment, that's right, since we're unable to configure a link by specifying a specific, custom URL (including any URL parameters). I suspect the tool you're using does not support deep linking either? Otherwise, you'd likely be able to use that as a potential workaround. If deep linking sends back a tool URL, we'll save it; it's just not present for editing in the form any more. Am I right in assuming that the individual resources in your case are each identified by different URL parameters? I'm reading between the lines a little here, but just want to confirm that suspicion. I've seen that pattern used/mentioned elsewhere, and suspect it's what your tool is doing too. Basically, the tool security contract would sit at site level (like you said), and you'd then use different tool URLs (each with a different set of URL params) to identify different resources in the tool. The domain matching would have found the tool previously, and made the launch for the respective resource.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 4, 2025, 5:49 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "External tool (LTI) workflow change after upgrading to Moodle 4.5.4",
          "Text": "Hi Jake, Yes, you are right – in our case, each resource is identified by different URL parameters. I also checked and tested deep linking, but as you suspected, the tool we are using does not support it. Given this, we’ve decided to request the tool provider to add support in line with the Moodle updates. Thank you very much for your clear explanations and guidance! Best regards, Sayori",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 8, 2025, 2:36 PM",
          "AuthorName": "Sayori Tatsuki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4507461&course=5",
          "role": [
            "Picture of Sayori Tatsuki"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 354378,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354378",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Support for Gradebook services",
          "Text": "The IMS Gradebook services (formerly known as Outcomes Management 2) are currently in Candidate Final Draft (pending completion of sample implementations and certification tests before it becomes final and public).  These services are designed to provide LTI tool providers with more control over the management of line items (columns) and results (cells) in the gradebook of an LTI tool consumer.  Cengage is supporting an implementation of these services for Moodle as described on the project page at https://docs.moodle.org/dev/LTI_Gradebook_Services. Comments and feedback welcome.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 22, 2017, 10:49 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Decoupled Line Items and mod_lti",
          "Text": "I've updated the document about our implementation approach and would be happy to hear of any feedback or advice about it. One\nthing to bring to attention was we realized how much the mod_lti module\nis currently gravitating around the presence of a Link. This caused\nsome tension with the decoupled (i.e. link-less) line items, in\nparticular as we want our initial implementation to be contained\nstrictly as a subplugin. We think we have found a workable compromise\nand would love to hear if there are major concerns with the trade-offs\nwe had to take. Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 28, 2017, 10:02 PM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 446166,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=446166",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Failed to make a content selection with LTI 1.3",
          "Text": "Hi, I am a developer of a tool provider. Currently, we are migrating from LTI 1.1 to 1.3. We have built up a deep linking response based on the IMS global spec. The problem we have is Moodle failed to get the content items from response. We have done some PHP code debugging and here is what we found. In file `locallib.php` there is a function named `lti_convert_from_jwt` .  It has a nested if statement to process a claim where the claim value is an array. At line 3455 ``` if (!empty($value) && $mapping['isarray']) { if (is_array($value)) { if (is_array($value[0])) {                             $value = json_encode($value);                         } else {                             $value = implode(',', $value);                         } } } ``` And `$value` is ``` [\" {\\\"type\\\":\\\"link\\\",\\\"title\\\":\\\"testing file 1\\\",\\\"url\\\":\\\"http:\\/\\/localhost:8080\\/fiveo\\/a.png\\\"} \",\" {\\\"type\\\":\\\"link\\\",\\\"title\\\":\\\"testing file 2\\\",\\\"url\\\":\\\"http:\\/\\/localhost:8080\\/fiveo\\/b.png\\\"} \"] ``` Obviously, `$value[0]` is not an array. So above code will execute `$value = implode(',', $value);`. And then later on, this value will be passed to function `lti_convert_content_items` which has a if statement `if (!empty($json) && is_array($json))` (line 1595). The value passed in is a string that cannot be decoded back to an array due to the use of implode) so it never gets processed. We found that if we make the above value as a nested array, Moodle will be happy to select the items. ``` [\"[ {\\\"type\\\":\\\"link\\\",\\\"title\\\":\\\"testing file 1\\\",\\\"url\\\":\\\"http:\\/\\/localhost:8080\\/fiveo\\/a.png\\\"} \",\" {\\\"type\\\":\\\"link\\\",\\\"title\\\":\\\"testing file 2\\\",\\\"url\\\":\\\"http:\\/\\/localhost:8080\\/fiveo\\/b.png\\\"} ]\"] ``` With this value, the nested if statement mentioned above will do `$value = json_encode($value);` instead of the `implode` . So the string passed to `lti_convert_content_items`  can be decoded back to an array. But most importantly, according to the LTI 1.3 spec, the value of `content_items` should not be a nested array. Does anybody have similar issue ? If the problem is on my side such as making a wrong structure,  please let me know by all means. Thanks !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 10:28 AM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Failed to make a content selection with LTI 1.3",
          "Text": "Hi Penghai, I suspect the issue here lies in your implementation, not in Moodle's parsing code (which is well established and has passed LTI certification many times). Per the Deep Linking 2.0 spec ( https://www.imsglobal.org/spec/lti-dl/v2p0#deep-linking-response-message ) the content items claim in the response message should be a JSON array of selected content items. If properly formatted in the JWT, this claim is decoded properly, and results in an array. Here's an example of that content items claim (as Moodle receives it in the JWT - just decoded JSON ) which works just fine: \" https://purl.imsglobal.org/spec/lti-dl/claim/content_items \": [{ \"type\": \"ltiResourceLink\", \"title\": \"An assignment\", \"text\": null, \"url\": \"http://localhost/master/enrol/lti/launch.php\", \"presentation\": { \"documentTarget\": \"iframe\" }, \"custom\": { \"id\": \"76d5c1ef-34b1-4ec6-9c2e-8f13480cc2da\" }, \"lineItem\": { \"scoreMaximum\": 100, \"label\": null } }] I've also closed MDL-78044 accordingly. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2023, 2:34 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Failed to make a content selection with LTI 1.3",
          "Text": "Thanks for your update. Yes it's the problem on my side. I have fixed it. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 4, 2023, 1:55 PM",
          "AuthorName": "Penghai Zhang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5583343&course=5",
          "role": [
            "Picture of Penghai Zhang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 403312,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=403312",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Trying to add a new LTI in a course",
          "Text": "Got the following error when I attempted to add an lti activity to a course.  It seems to occur in one course only.  It is an old test course. Did you remember to make the first column something unique in your call to get_records? Duplicate value 'icon' found in column 'name'. line 885 of /lib/dml/pg sql _native_moodle_database.php: call to debugging() line 1438 of /mod/lti/locallib.php: call to pgsql_native_moodle_database->get_records_sql() line 134 of /mod/lti/mod_form.php: call to lti_get_type_config() line 204 of /lib/formslib.php: call to mod_lti_mod_form->definition() line 99 of /course/moodleform_mod.php: call to moodleform->__construct() line 141 of /course/modedit.php: call to moodleform_mod->__construct() It is executing this query: SELECT name, value FROM mdl_lti_types_config WHERE typeid = 1 UNION ALL SELECT 'toolurl' AS name, baseurl AS value FROM mdl_lti_types WHERE id = 1 UNION ALL SELECT 'icon' AS name, icon AS value FROM mdl_lti_types WHERE id = 1 UNION ALL SELECT 'secureicon' AS name, secureicon AS value FROM mdl_lti_types WHERE id = 1; It does not seem to affect adding an lti to another random course. Any Ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 15, 2020, 3:09 AM",
          "AuthorName": "Eric Katchan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=555818&course=5",
          "role": [
            "Picture of Eric Katchan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 224662,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=224662",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Passing fields like username and idnumber and course idnumber?",
          "Text": "So what's the likelihood that the External Tool(LTI) will be expanded to also pass the user's username and idnumber and pass the course idnumber (often used for enterprise enrollment)? I'm looking at an LTI tool coming from one of our application providers and they've integrated with Blackboard and Canvas but are getting stuck with moodle since the moodle LTI implementation doesn't pass username - the course idnumber would make the tool even more functional. Would creating a tracker item help move this forward?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 16, 2013, 5:21 AM",
          "AuthorName": "Scott Krajewski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=40000&course=5",
          "role": [
            "Picture of Scott Krajewski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing fields like username and idnumber and course idnumber?",
          "Text": "We are also wondering about the possibility of different 'fields' being passed to the External Tool (LTI), especially username. I'm not very technical... is this tracker item going to help address this query? https://tracker.moodle.org/browse/MDL-36224 Or is a new tracker item required? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 12, 2013, 9:07 AM",
          "AuthorName": "Astrid Davine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1329919&course=5",
          "role": [
            "Picture of Astrid Davine"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 395016,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=395016",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "integrate LTI Tools in Asp.Net (vb.Net) application",
          "Text": "Hello, I am a Web Developer. I am new to LTI Tools. I want to integrate in my website https://empower3.empowerlearning.net/ . I do googling more and more about LTI. I found Canvas, Moodle, BlacBoard etc. but I am troubling that I did not get clear information or link where I can find to integrate it in my website. So I have some questions regarding same below I hope I will get satisfied answers 1. What is the full procedure to integrate LTI. 2. What requirements from my side to integrate LTI. 3. LTI is paid or free. 4. Can I integrate LTI Tools directly or need any third party like Canvas, Moodle, Blacboard etc. Thanks, Gaurav Aneja",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 24, 2019, 2:42 PM",
          "AuthorName": "Gaurav Aneja",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2867201&course=5",
          "role": [
            "Picture of Gaurav Aneja"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 359850,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=359850",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Services available for manually configured tools",
          "Text": "This is a discussion area for the enhancement: https://docs.moodle.org/dev/LTI_Services_on_LTI_1x See also tracker issue: https://tracker.moodle.org/browse/MDL-60416 LTI Services access has been artificially constrained to be offered only\nto tools deployed using a Tool Proxy (LTI 2.0). This improvement is to\nmake those services available to manually configured tools too as\noptions in the configuration interface.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 11, 2017, 10:12 PM",
          "AuthorName": "Claude Vervoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=131060&course=5",
          "role": [
            "Picture of Claude Vervoort"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 262337,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262337",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External Tool igoring embed option on mobile",
          "Text": "We are using External Tool module on Moodle 2.5, and we've observed the following inconsistency: An external tool with embed option works properly on desktop browsers, with the content showing inside of the Moodle theme, and the URL on the page is still that of Moodle. However, the same link behaves differently on mobile browsers.  The link would launch as if it were redirected, with the launch URL of the LTI tool showing in the address bar instead of our Moodle's URL, and the content filling the entire window.  This happened on Safari and Chrome on the iPad Air, and the \"default web browser\" and Chrome on Galaxy Tab 10 and Galaxy Nexus. We tested the browsers using just a generic page with iframe and object, and they all work as wanted, with the iframe content staying inside the iframe Has anyone experienced this?  Is there anything in Moodle's External Tool LTI implementation that could have caused this? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 18, 2014, 9:56 AM",
          "AuthorName": "Toan Tran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=938509&course=5",
          "role": [
            "Picture of Toan Tran"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 381417,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=381417",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI links in atto",
          "Text": "Hi everybody, We are using LTI to embed videos hosted from a mediaserver. It would be useful to be able to add LTI links inside activities that have an editor (quiz and page for example) for better integration in course materials. I'm probably not the first one to think about that, but I didn't find anything either in the forums or in the tracker. Does anyone has ideas or project about that? Thanks in advance Jean-Roch",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 24, 2019, 5:55 PM",
          "AuthorName": "Jean-Roch Meurisse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1911669&course=5",
          "role": [
            "Picture of Jean-Roch Meurisse",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 415042,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415042",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Add custom variable to LTI Launch Request and using it",
          "Text": "I use moodle from Laravel through LTI. I  had to pass a specific file path from Laravel to Moodle through the LTI Launch Request, i appended to the parameters. Now i would like to access that variable in the Moodle's LTI content which is a Turnitin Assignment. With firebug i can see in the Tool.php the reference_file_path variable is avaliable in the request header but dont know how to access it in  the TurnitinAssignment/view.php: I tried to read as : $post['reference_file_path'] = optional_param('reference_file_path',0, PARAM_RAW); but in the View.php it does not avaliable Do you have any idea how to access it? Thank you in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 7, 2020, 10:17 PM",
          "AuthorName": "Antony Barela",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2091550&course=5",
          "role": [
            "Picture of Antony Barela"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 373629,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373629",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Membership Service in Moodle 3.5",
          "Text": "Is it still possible to use the Names and Role service (memberships) from a LTI 2.0 (Tool Proxy) tool provider in Moodle 3.5 or higher? I ask for two reasons. First, it appears that the LtiLinkMemberships URL in the launch parameters is invalid. Instead of a valid URL, it is the string \"$LtiLink.memberships.url\". If I use the context membership endpoint, I don't receive any of the names or emails of the users. My tool registration correctly requested the Person.name.given, Person.name.family, Person.email.primary and Person.sourcedId capabilities. I know Moodle 3.5 upgraded to LTI Advantage, but I am unsure if that removed or affected support for LTI 2.X tool providers. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 21, 2018, 5:23 AM",
          "AuthorName": "Cory Buecker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2467102&course=5",
          "role": [
            "Picture of Cory Buecker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 360152,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360152",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI- enrolments and analytics",
          "Text": "We're looking to provide content to another trainer via a LTI connection. Does anyone know or any reporting we can use which will show how many enrolments the other trainer has made against our content? Also are there any other analytics we should know about?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 18, 2017, 7:15 AM",
          "AuthorName": "Roslyn Ridley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1878003&course=5",
          "role": [
            "Picture of Roslyn Ridley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 336209,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=336209",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LtiLibrary - posting grade for all students",
          "Text": "I am trying to use LtiLibrary and post grades to all students under LTI item in the gradebook in Moodle. For now, I can post only grade for a student that click on the LTI like so, var result=LtiLibrary.Core. Outcomes .v1. OutcomesClient .PostScore(Request.Form[ \"lis_outcome_service_url\" ].ToString(), Request.Form[ \"oauth_consumer_key\" ].ToString(), ConfigurationManager .AppSettings[ \"SharedSecret\" ].ToString(), Request.Form[ \"lis_result_sourcedid\" ].ToString() , 0.40); The question is how can I post grade for a student with id 22 (for example), my id is 35 and I am trying to replace it, like so...but it does not allow me to post grade . Any ideas? var result=LtiLibrary.Core.Outcomes.v1. OutcomesClient .PostScore(Request.Form[ \"lis_outcome_service_url\" ].ToString(), Request.Form[ \"oauth_consumer_key\" ].ToString(), ConfigurationManager .AppSettings[ \"SharedSecret\" ].ToString(), Request.Form[ \"lis_result_sourcedid\" ].ToString().Replace( \"\\\"userid\\\":\\\"35\\\"\" , \"\\\"userid\\\":\\\"22\\\"\" ), 0.40);",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 9, 2016, 9:49 AM",
          "AuthorName": "nva nva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106940&course=5",
          "role": [
            "Picture of nva nva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LtiLibrary - posting grade for all students",
          "Text": "You can only send grades to the links that were used. When a LTI link is used and grades are allowed, a gradable object is created and the reference is supposed to be what you get as lis_result_sourcedid. You can not arbitrarily send a grade to an object that doesn't exist. So the users (all) need to make use of the link. This is the case not only for Moodle but for all the LMS I have worked with. This means that in your tool provider you also need to keep track of the launches storing the lis_result_sourcedid parameter received. I would also recommend you to store the lis_outcome_service_url parameter if you are planning to support different LMS. It is not the case for Moodle but for others the endpoint is what really changes. Good luck",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 18, 2016, 10:50 PM",
          "AuthorName": "Jesus Federico",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1370546&course=5",
          "role": [
            "Picture of Jesus Federico",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LtiLibrary - posting grade for all students",
          "Text": "I THANK you! It makes sense, works now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 19, 2016, 3:07 AM",
          "AuthorName": "nva nva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2106940&course=5",
          "role": [
            "Picture of nva nva"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 422536,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=422536",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Activity completion tracking for LTI modules",
          "Text": "Hi there, we have added several self-learning modules from Microsoft with an LTI format. Everything works fine except the tracking. We have configured to \"Students need to see this activity\" to make things easier, but even when the module is completed the checkmark is not generated. It's not a huge issue and we just changed the completion to \"Students can mark the activity as complete\", but I'm just curious: h as someone experienced something similar? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 21, 2021, 6:57 PM",
          "AuthorName": "Beatriz Rojo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1724821&course=5",
          "role": [
            "Picture of Beatriz Rojo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Activity completion tracking for LTI modules",
          "Text": "Hi Beatriz, Really, this should behave no different to any other activity in Moodle. What version of Moodle are you using? Annoyingly, I'm unable to replicate this problem locally. I've just tried setting up an external tool activity locally, (pointing to a test tool). I set up completion with only one rule: \"Students must view this activity to complete it\". When I launched the tool as a test student, the completion was indeed triggered. Thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 4:06 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Activity completion tracking for LTI modules",
          "Text": "Hi Jake, I was wondering if this problem has ever been solved. I am struggling with this for days now and can't find a solution or any documentation about this problem. I can not imagine that I am the only person looking for a solution for this problem. The viewing trigger comes back from the tool, the achieved grade also comes back and is visible, but does not trigger the completion. I hope there is a solution to this problem. Best regards, Joost.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 4, 2022, 7:37 PM",
          "AuthorName": "Joost Wilterdink",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4804940&course=5",
          "role": [
            "Picture of Joost Wilterdink"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Activity completion tracking for LTI modules",
          "Text": "Hi Joost, As I said above, I wasn't yet able to replicate any problem. I did ask for more information, but never got any back. If you can provide those details perhaps we can try again. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 8, 2022, 10:16 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Activity completion tracking for LTI modules",
          "Text": "Thank you Jake for your responds. The version I am using is 3.7.9 (Build 20201109) and with Moodle Cloud version 3.11.1 (Build 20210712) I experience the same problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 8, 2022, 11:19 PM",
          "AuthorName": "Joost Wilterdink",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4804940&course=5",
          "role": [
            "Picture of Joost Wilterdink"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Activity completion tracking for LTI modules",
          "Text": "Thanks for the information, Joost. I'll try to find some time to test this soon. Just a heads up that it might be a little while before I do since we're quite busy with the 4.0 release at the moment. It may be that because the grade is updated via an API call, it's not firing the relevant event (or calling relevant core API) to trigger completion - but at this stage that's just a hunch. Will need to confirm it. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2022, 10:34 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 334908,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=334908",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Unable to pass information from Moodle External Tool to LTI connector for WP from SPV software",
          "Text": "I am trying to implement a SSO (single sign on) from Moodle to a WP multi-site, with sites already created. I hacked the LTI connector code (doconnect.php) to remove blog creation and just log users into existing multi-sites. This works fine. The problem is that there is no information being passed from Moodle accept for the userid. The context , resource link, all are not being passed. So there is no way for me to switch to a particular site based. I would like the use to be switched to a particular site depending on the origin (context) in Moodle such as different courses. I found no useful way to embed any parameter in the External Tool in the custom parameters section since I do not know the format. If I could pass the context in some way then I could direct the user to desired site among the multi-site. I thank you for any help in this regard.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2016, 11:35 PM",
          "AuthorName": "Madhu Avasarala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1725642&course=5",
          "role": [
            "Picture of Madhu Avasarala"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unable to pass information from Moodle External Tool to LTI connector for WP from SPV software",
          "Text": "Solved. Moodle passes the user details (name and id) and also the resource link. The resource link title is the course fullname followed by : followed by shortname. This can be filtered and mapped to different sites as desired. In effect you can get SSO from Moodle to Wordpress multi-site. This is very powerful as it combines 2 very powerful software packages with a SSO (Moodle centric). My scenario is Moodle as the main tool for school management as well as LMS.  SSO into Wordpress sites for payments through woocommerce and also for intranet outside of Moodle. Thanks to Simon Booth for his excellent software http://projects.oscelot.org/gf/download/frsrelease/959/6037/wordpress-lti-1.2.00.zip The modifications are very easy( http://projects.oscelot.org/gf/project/wordpress-lti/forum/?action=ForumBrowse&forum_id=2167&_forum_action=ForumMessageBrowse&thread_id=863 )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 18, 2016, 3:01 AM",
          "AuthorName": "Madhu Avasarala",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1725642&course=5",
          "role": [
            "Picture of Madhu Avasarala"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 438091,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438091",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Does \"Select Content\" requires \"Add new External tool\" permission?",
          "Text": "We have disabled the \"Add new external tool\" permission for users. We thought that any pre-configured tool could be added by the users even if we disabled the permission. However, Kaltura video quiz cannot be added as it seems like \"select content\" is relevant to adding the tool. It could be that \"Select content\" requires permission to add a new tool in Moodle. Is there a way to allow users to use a pre-configured Kaltura video quiz without enabling \"add new external too\" permission?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 10, 2022, 12:35 AM",
          "AuthorName": "Olivia Jeon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4459296&course=5",
          "role": [
            "Picture of Olivia Jeon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Does \"Select Content\" requires \"Add new External tool\" permission?",
          "Text": "Hi Olivia, I'd suggest checking out the discussion over on https://moodle.org/mod/forum/discuss.php?d=434214 . I think that will probably answer your questions around LTI capabilities. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 14, 2022, 11:33 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 393845,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=393845",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Taking payment before giving out the LTI URLs",
          "Text": "Hi there, I have college clients who want to integrate our course into their LMS (ex: Canvas). However, I need to take payment from individual students before I place our course inside their LMS. Otherwise, students can access for free inside their LMS provider Are there any workarounds here or payment gateways you've used? Thanks, Danny Rubin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 24, 2019, 9:27 AM",
          "AuthorName": "Danny Rubin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2362205&course=5",
          "role": [
            "Picture of Danny Rubin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 465728,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465728",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI and Calendar interraction",
          "Text": "After beginning the transition from \" Turnitin Tool 2\" to Turnitin's LTI 1.3 integration, I was surprised to see user complaints that the due dates for assignments no longer appear on the calendar. I was even more surprised to find out that LTI integrations seem to be incapable of pushing due dates or reminders to the calendar. I'm curious why this is the case, especially as it seems to be an open feature request for an extremely long time ( MDL-51430 ). LTI 1.3 seems to possess startDateTime and endDateTime as variables, are these values inconsistently used in a way that would prevent LTI assignments from reliably interacting with the calendar? Or is it simply a matter of LTI instances not having a due date column?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 3, 2025, 11:32 PM",
          "AuthorName": "Jason Massimino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5830684&course=5",
          "role": [
            "Picture of Jason Massimino"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI and Calendar interraction",
          "Text": "Most of the LTI implementation in Moodle was done by the commuinity and this was never a priority. We are currently moving LTI from a module to a core subsystem, Turn It in is helping with this work as there will also be enhancements to their LTI integration which as dependent on the move to core. The issue you listed is a high priority to be done once the core move is done, TII, Microsoft, and several other vendors have expressed that this is a major issue for their users so we are keen to resolve this. I dont have a timeline at the moment given the amount of othe work to be completed first but 5.2 would be the latest I would want to get to this if practical.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 4, 2025, 8:06 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 335950,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335950",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Content Item and Membership Service",
          "Text": "Hi We're a LTI tool provider. I'm trying to understand which Moodle versions (if any) support the IMS Global specifications for Content Item and Membership Service with LTI. Also, is anyone aware of a LTI solution with Moodle which passes on group membership from Moodle to a LTI tool. I.e., if you use groups within a Moodle course, pass on information on whether a student is a member of such a group to a LTI tool? Thanks Jacov",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2016, 8:47 PM",
          "AuthorName": "Jacov Mostovicz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1389176&course=5",
          "role": [
            "Picture of Jacov Mostovicz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 465106,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=465106",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI not working in 4.5 on Windows",
          "Text": "Not sure if this is the right place, so forgive me if not. I was trying to implement LTI sharing (both ends) in my all-new moodle 4.5 installation.  This failed just exactly as described in https://moodle.org/mod/forum/discuss.php?d=433995 . This is because on my windows, the default ssl config file directory is underneath the PHP installation directory where I certainly do not want to allow access for the IUSR user (which is the one IIS happens to run with). However, the proposed fix (setting $CFG->opensslcnf) doesn't work as this configuration option is used inconsistently in moodle 4.5. It works as expected for mnet, as there is the following code there (e.g. mnet/lib.php): \n```text\n  if (!empty($CFG->opensslcnf)) { \n\n\n    //allow specification of openssl.cnf especially for Windows installs\n    $new_key = openssl_pkey_new(array(\"config\" => $CFG->opensslcnf));\n  } else {\n    $new_key = openssl_pkey_new();\n  }\n```\n However, in all other places, $CFG->opensslcnf is not used. For example (mod\\lti\\upgradelib.php): \n```text\n        $config = array(\n\n\n            \"digest_alg\" => \"sha256\",\n\n\n            \"private_key_bits\" => 2048,\n\n\n            \"private_key_type\" => OPENSSL_KEYTYPE_RSA,\n\n\n        );\n\n\n        $res = openssl_pkey_new($config);\n```\n I did not see another solution than patching the core source: \n```text\n$config = [\n    \"digest_alg\" => \"sha256\",\n\n\n    \"private_key_bits\" => 2048,\n    \"private_key_type\" => OPENSSL_KEYTYPE_RSA,\n        ] + (empty($CFG->opensslcnf) ? [] : [\"config\" => $CFG->opensslcnf]);\n```\n I would suggest that all occurences of `openssl_pkey_new` (), `openssl_csr_new` (), `openssl_csr_sign` (), `openssl_pkcs12_export` () and `openssl_pkcs12_create` () should be fixed accordingly. Or is there a better solution I overlooked? Regards, Christoph PS: I also tried to set windows global environment `OPENSSL_CONF` but it did not work and also, I wouldn't want to change the value for all applications running on my host .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 10, 2025, 1:40 AM",
          "AuthorName": "Christoph Künkel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=331548&course=5",
          "role": [
            "Picture of Christoph Künkel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI not working in 4.5 on Windows",
          "Text": "Unfortunately I was too quick to post this. Although my proposed solution works for the call to openssl_pkey_new(), it subsequently fails for the call to openssl_sign() in lib\\php-jwt\\src\\JWT.php. This function does not have a $config option. Ok, then bite the bullet I thought and gave the web server access to the default path (which I apparently can't change). Then, the calls to openssl_pkey_new() work without providing the \"config\" member in $conf. However, the call to openssl_sign() now fails with a new/different error code returned by openssl_error_string(): error:24070079:random number generator:RAND_write_file:Cannot open file I have no idea where this file is meant to be created. As it seems to be a temporary file, I checked both $_SERVER['TMP'] and $_SERVER['TEMP'] but both exist and are writable to the web server . Any help appreciated, Christoph",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 10, 2025, 6:17 PM",
          "AuthorName": "Christoph Künkel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=331548&course=5",
          "role": [
            "Picture of Christoph Künkel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 361490,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361490",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Deleting users on the consumer site",
          "Text": "Hi, If a user is deleted on the consumer site should it's status be updated on the provider site e.g. deleted or some sort of suspension? I've had a good look around and run crons multiple times to no avail.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 14, 2017, 9:17 PM",
          "AuthorName": "Ray Lawrence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7127&course=5",
          "role": [
            "Picture of Ray Lawrence"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 371759,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371759",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Course grade won't transfer with LTI between Moodles",
          "Text": "Hello, I have two Moodle 3.3.5 instances but the course grade doesn't sync to the LTI customer from the LTI provider. Current course grade for user 94 is from the course 44 is 318,00 = Natural of the all rated activites. enrol_lti\\task\\sync_grades gives an error: Execute scheduled task: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades) ... started 10:46:09. Current memory use 16.6Mt. Starting - Grade sync for shared tool '1' for the course '44'. Failed - The grade '0.51290322580645' for the user '94' in the tool '1' for the course '44' failed to send. Skipping - Invalid grade for the user '92' in the tool '1' for the course '44'. Completed - Synced grades for tool '1' in the course '44'. Processed 2 users; sent 0 grades. ... used 10 dbqueries ... used 30.015266895294 seconds Scheduled task complete: Publish as LTI tool grade sync (enrol_lti\\task\\sync_grades) Any Advice?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 7, 2018, 3:52 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course grade won't transfer with LTI between Moodles",
          "Text": "If i change course grade calculation to simple weighted means it doesn't help, no grade is passed from LTI provider to LTI customer Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 7, 2018, 4:04 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grade won't transfer with LTI between Moodles",
          "Text": "Hello Urpo, I have the same problem: When I use 2 Moodle instances both working with version 3.5.1, after the remote user (from LTI consumer) completes the activity, he can view the grade from the activity page ( Your final grade for this quiz is 6.67/10.00.) And also in LTI provider site, admin user can see the grade of the remote user. But in LTI consumer page, when the student and also the admin, want to check grade report the grade can not be viewed. When I run the cron task (enrol_lti\\task\\sync_grades) from the LTI provider site as admin, the error message is like this: \n```text\nStarting - Grade sync for shared tool '14' for the course '100'.\nFailed - The grade '0.666667' for the user '739' in the tool '14' for the course '100' failed to send.\n```\n \n```text\nCompleted - Synced grades for tool '14' in the course '100'. Processed 1 users; sent 0 grades\n```\n Did you find a solution for your case?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 30, 2018, 10:33 PM",
          "AuthorName": "Tansu PANCAR",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2429676&course=5",
          "role": [
            "Picture of Tansu PANCAR"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grade won't transfer with LTI between Moodles",
          "Text": "Hello, It was an firewall issue for me, after solving it grade synced fine.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 6, 2018, 9:26 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grade won't transfer with LTI between Moodles",
          "Text": "Hi Urpo Karhula, Thanks for sharing, apologies I have to bump this thread. Would you be able to share whether the firewall on provider or consumer part? Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 28, 2019, 7:18 AM",
          "AuthorName": "Eric Kuncoro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=773592&course=5",
          "role": [
            "Picture of Eric Kuncoro"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course grade won't transfer with LTI between Moodles",
          "Text": "Most likely Consumer part..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 26, 2019, 3:38 PM",
          "AuthorName": "T Thakar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1625015&course=5",
          "role": [
            "Picture of T Thakar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452170,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452170",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Connect Moodle to Github Classroom via LTI",
          "Text": "Hello everyone. We're trying to use github classRoom with moodle. We followed all steps of the documentation: https://docs.github.com/es/education/manage-coursework-with-github-classroom/teach-with-github-classroom/register-a-learning-management-system-with-github-classroom We registered the LMS, created and set the external tool in moodle, created the organization and some assignments. But when we select the pre configured tool we named \"GitHub ClassRoom\" and click on \"Select content\" we are redirected to https://classroom.github.com/lti1p3/openid-connect/redirect and we get error 500: Internal server error/We're sorry, but something went wrong./Try going back to classroom dashboard ]( https://classroom.github.com ) We noticed there are other posts related to error 500 but they are not exactly what's happening to us. We have done several tests and we have even set our organization as public to avoid permissions problems. Our Moodle version is 4.1.5. We have reported this issue to Github, but we would appreciate any help Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 3, 2023, 8:56 PM",
          "AuthorName": "Jorge Merino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1771648&course=5",
          "role": [
            "Picture of Jorge Merino"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 333374,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333374",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to backup External Tools?",
          "Text": "When you do a backup of a course with External Tools the resource_link_ids of the External Tools aren't preserved. Though we need to identify an instance of an External Tool somehow and there seems to be no other way then using the resource_link_id. How can one guarantee that these Ids are preserved by the backup?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 19, 2016, 11:24 PM",
          "AuthorName": "Robin Woll",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2055006&course=5",
          "role": [
            "Picture of Robin Woll"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to backup External Tools?",
          "Text": "There are trackers regarding this : MDL-54122 , MDL-36580 , MDL-34161",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 8, 2016, 2:50 AM",
          "AuthorName": "John Provasnik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1815298&course=5",
          "role": [
            "Picture of John Provasnik",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464853,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464853",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "M 4.4 & LTI - Can no longer edit Tool URL",
          "Text": "We are using Moodle 4.4.4, just updated last month and about to start our first term of classes on this version. I have just had an issue with two different external tool providers where they require teachers to add course-specific info to the launch URL in order for our Moodle to connect to their tool.  However, that field is not longer on the Edit Settings screen.  If the tool is using LTI 1.1, then we can provide instructions for teachers to add that tool directly.  If the tool is using LTI 1.3, however, teachers cannot set that up on their own without admin assistance. I have one tool that is trying to use the LTI 1.3 protocol, but they are requiring teachers to enter a course-specific Tool launch URL.  How can we support these kinds of LTI providers?  Is there way for me to reveal the Tool URL field to our teachers?  Perhaps a setting somewhere?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 3, 2025, 12:50 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: M 4.4 & LTI - Can no longer edit Tool URL",
          "Text": "Hi Carly, For 1.1, as you say, each tool can be configured directly in the course. One tool per URL. Or, the tool can use deep linking (though I suspect they haven't implemented that). For 1.3, this should be achieved via Deep Linking (a requirement for LTI Advantage). Tools can either provide a custom param (or several), identifying the content to be launched, or they can pass back the tool URL to use. Moodle will store either one (or both) and use them in the launch. The URL isn't manually configurable, however, custom params are (you'll see custom params in the \"Show more\" part of the form). If the tool can use a custom param instead of a custom URL, then they can use that method instead. Hope that helps Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 6, 2025, 11:45 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 350662,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350662",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "No grades synced to Moodle-consumer via LTI",
          "Text": "Hi there, I've two Moodle installations: Moodle-consumer and Moodle-provider. In the Moodle-provider, I've published a Quiz activity as LTI Tool, and integrated it into the Moodle-consumer. Now, I can get access to the Quiz from the Moodle-consumer via LTI, but when the Quiz is finished, the grade isn't synced to the Moodle-consumer. And meanwhile, in the Moodle-provider here is now a new created user from Moodle-consumer, and grade from the Quiz. But no grade synced to Moodle-consumer, so there is only '-' on the Grades page. In Moodle-provider's Publish as LTI tool settings, I haven't set up any actions/restrictions 'prior to grades synchronisation', so I expect grades to be synced immediately I pass the Quiz from Moodle-consumer. But as I said already, there're no grades synced to to Moodle-consumer. Can anybody help? How do I chech that at least the Moodle-provider sends proper data back to the Moodle-consumer, with student info and his/her grades? I am trying to use LTI4WIN ( http://www.spvsoftwareproducts.com/win/lti4win/ ) as LTI Consumer Emulator, but I don't understand how to see the outcomes there, which is turned on in the settings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 1:37 AM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "Sorry to hear you have hit problems. To help diagnose what's going on could you answer the following questions: Is cron set up and running on the moodle provider site? Is \"accept grades\" ticked on the moodle consumer site (external tool settings)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 8:44 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "Is cron set up and running on the moodle provider site? Maybe it doesn't work automatically, but some tasks are being done when I go to https:\\\\MySite.com\\admin\\cron.php?password=MyPass (this is allowed in admin setting) and also via command line, Regarding 'sync grades task', for all grades to be synced I get messages, that either the grades are same (though there is '0' in Provider and '-' in Consumer, which is different ), or that ' Skippin g - Invalid grade for the user '1029' in the tool '2' for the course '10006' . Is \"accept grades\" ticked on the moodle consumer site (external tool settings)? Yes. Maybe it's worth mentioning that my moodle's source code files were slighlty edited. Particularly, the behaviour of the ' Start Attempt ' button was changed: now it redirects to my other site, where a student does his test and then, the data with grades and other stuff is sent back to Moodle via Web-Service function, which stores it to quiz_attemts table. Could all 'sync grades' failures occure due to the system is confused, that there is some grade for the quiz , but no questions within and therefore no marks for each question ? And in Moodle, what's different between marks and grades? Thank you,  highly appreciate your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 11:29 PM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "Very likely that the modified code is the cause. Although it won't get confused regarding the questions. We can figure it out - what values are showing on the gradebook for the quiz on the provider site before you run the sync grades task? I'd try again with someone with a grade. 0 is complex behaviour as we have to handle the differences between the way LTI wants us to treat it and the way moodle treats it. I'll be interested to see if that is the cause of the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 9:02 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "I tried with grades >0, again no synchonization. I then learned that on Provider side, LTI grabs grades from grade_grades table, field finalgrade .But I don't get how this table is filled, how new row is added: there're fields which I cannot understand how they're filled, particularly itemid - what is it? So I see these solutions: Add rows to grade_grades table with finalgrade field to be grabbed by LTI code. But need to know, how to correctly form the row; Change LTI so it looks for grades to be synced in another table . Is it possible? Again, help here is always highly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 10:13 PM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "On the provider side the grade logic is provided by the module in question, not LTI or an LTI module. We can't and shouldn't need to change this logic. Are you saying grade_grades finalgrade has the wrong value? What module are you sharing via LTI?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2017, 3:05 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No grades synced to Moodle-consumer via LTI",
          "Text": "On the provider side the grade logic is provided by the module in question, not LTI or an LTI module Yes, I understand this. LTI only reads grades from grade_grades table and then syncs them with Consumer. We can't and shouldn't need to change this logic. Ok, not change where from LTI grabs grades and how then they're synced with consumer, right? Are you saying grade_grades finalgrade has the wrong value? No, my grade_grades table doesn't get filled at all , because as I said I changed how my mod/quiz works. In my case, pressing Start|Re- Attempt button redirects to some quiz on my another, non-Moodle web-site with all USERID, quizID and other needed data. Then, the web-site returns sumgrades to my Moodle, and my Moodle stores grades to quiz_attempts and some other tables. When I learned these days, that LTI reads grades from grade_grades table , I tried fill this table manually along with other tables ( quiz_attempts and some other tables), but I didn't succeed. I then learned that this table can't be changed maually, and one should use grade_update function instead. I tried to call this function, but again no success without any warnings. The question now is, how do I fill the grade_grades table? What function should I call? What module are you sharing via LTI? Quiz Thank you, appreciate help here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 13, 2017, 11:19 PM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "回應: No grades synced to Moodle-consumer via LTI",
          "Text": "I had the same problem as yours on moodle 2.9, and I found that it seems some part\nin the code was not finished by the developer. I upgraded to moodle 3.0\nand the problem solved.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 11, 2017, 4:00 PM",
          "AuthorName": "Adrian Cheung",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2224900&course=5",
          "role": [
            "Picture of Adrian Cheung"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回應: No grades synced to Moodle-consumer via LTI",
          "Text": "Mine is 3.1.0+",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 10:17 PM",
          "AuthorName": "v k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2110437&course=5",
          "role": [
            "Picture of v k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回應: No grades synced to Moodle-consumer via LTI",
          "Text": "I am facing the same problem with moodle 2.9 and I cannot understand why my grades are not sent back to the consumer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 19, 2017, 4:06 PM",
          "AuthorName": "Juan Carlos Molina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=217852&course=5",
          "role": [
            "Picture of Juan Carlos Molina"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 回應: No grades synced to Moodle-consumer via LTI",
          "Text": "Are you using the old lti provider plugin from the plugins DB? If it's possible to upgrade your moodle version, I'd recommend it -- we updated all that code.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 20, 2017, 8:13 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 373883,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=373883",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Duplicating external tool loses consumer key and shared secret: working as intended?",
          "Text": "On our Moodle 3.3 site, I am setting up multiple links to InQuizitive chapter quizzes using the external tool module.  The only difference between them is the name and the URL , so it would be super simple and easy to just duplicate it and modify those 2 properties.  Unfortunately, the consumer key and shared secret do not get copied over with the rest of the information, so I also have to expand the options and fill in those blanks.  I'm just wondering if this is a bug in Moodle, a problem with how our administrators have it set up, or something that was intended by the Devs?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 27, 2018, 3:04 AM",
          "AuthorName": "Doc Billingsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2469281&course=5",
          "role": [
            "Picture of Doc Billingsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 361121,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=361121",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Need to integrate My web app with users coming from a moodle",
          "Text": "I am having one PHP web application and another one 3rd party have moodle application. One user have registered in both my web application and moodle. I need to get that user information from 3rd party moodle application using LTI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 7, 2017, 6:48 PM",
          "AuthorName": "ItsMe Rajan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2339915&course=5",
          "role": [
            "Picture of ItsMe Rajan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 350517,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350517",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Incorrect sesskey while responding to LTI Content Item",
          "Text": "Hi there! I'm a developer and am trying to turn my application into an LTI Tool Provider. I'm using Moodle4Mac ( MAMP , Moodle 3.2) as my Tool Consumer to test my implementation of Content Item support. I am able to receive and authenticate ContentItemSelectionRequest requests from Moodle. I am constructing a response which I believe matches the LTI spec for a ContentItemSelection. I am signing it with oauth and sending it to the url that is given in the request, in my case: uri: 'http://localhost:8888/moodle32/mod/lti/contentitem_return.php?course=2&id=4&sesskey=qqF8Vn However, I get a 404 response from Moodle, with an html body that says: Incorrect sesskey submitted, form not accepted! This is surprising... since I am submitting the sesskey right there in the url. I am at a loss of how to debug this further... I've seen some users having issues with sesskey elsewhere, but I don't know enough about Moodle itself to really be able to dig further. Is this an issue with what I am sending to Moodle? Or is it something about my Moodle session setup?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 7, 2017, 11:15 AM",
          "AuthorName": "Denis L",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2225680&course=5",
          "role": [
            "Picture of Denis L"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Incorrect sesskey while responding to LTI Content Item",
          "Text": "Can you check the request is using the URL given by moodle each time? This error sounds like its using an old url (maybe correct once) and using that each time instead. Are there any more details you can give us?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 1:51 PM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 417704,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=417704",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI redirects some users to wrong url",
          "Text": "Hello, Let me start with that I am very new to Moodle and PHP. We are using Smarthinking service and we put a  simple link on a WordPress site to redirect users to this service. (for example, courses.mysite.com/mod/lti/view.php?id=123) When we click the link we are redirected to an O365 login page then smarthinking service page, however, some users are redirected to a course on Moodle instead of smarthinking service page. Do you have any idea why this can be possible? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 3, 2021, 10:28 PM",
          "AuthorName": "Vanc Vanc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4042039&course=5",
          "role": [
            "Picture of Vanc Vanc"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 280245,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=280245",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Help with External Tool and wordpress",
          "Text": "Hello. We are using Moodle 2.7 and want to link up with a college course wordpress account. Very new to this area. Is there a  'dummy' guide to the process? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 12, 2015, 8:46 PM",
          "AuthorName": "Julie Harding",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=211898&course=5",
          "role": [
            "Picture of Julie Harding"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Help with External Tool and wordpress",
          "Text": "If you want to connect your Moodle course with WordPress using LTI, then I recommend that you take a look at the integration available at http://www.spvsoftwareproducts.com/php/wordpress-lti/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 12, 2015, 9:24 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461004,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461004",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Quiz Results + Grade Sync Behaviour",
          "Text": "The University of Otago is utilising Moodle for STACK question types, and because Moodle is not our main LMS (this is Blackboard), we use the grade sync feature to send Moodle quiz results back to Blackboard. This mostly works without issues, however, we have noticed a few scenarios where the grade sync doesn't behave as we'd anticipate. There are a couple of scenarios I have been able to test and rule out as to why the grades don't sync. However, there is one odd scenario that I hope someone can explain the behaviour(s) I'm seeing. What I am testing: A student who follows the LTI link from Blackboard to Moodle and then clicks 'Attempt Quiz' but does not provide any answers to the quiz. By clicking 'Attempt Quiz, ' they're added to the 'Results' section of the particular quiz (important for grade sync). The quiz then closes due to a due date passing. The student gave no answers. Results: 1.    Before the due date, the grade sync was not sending a grade as the submission was still in progress. The grade sync for this states: a.    Starting - Grade sync for shared tool '207' for the course '25'. b.    Skipping - Invalid grade for the user '591' in the tool '207' for the course '25'. c.    Completed - Synced grades for tool '207' in the course '25'. Processed 1 users; sent 0 grades. 2.    After the due date, the grade sync still has the same outcome, just a different reason (see line B) a.    Starting - Grade sync for shared tool '207' for the course '25'. b.    Not sent - The grade for the user '591' in the tool '207' for the course '25' was not sent as the grades are the same. c.    Completed - Synced grades for tool '207' in the course '25'. Processed 1 users; sent 0 grades. NOTE: at this point, if the student attempts to access the quiz again, they're shown a screen that states, ' Your final grade for this quiz is 0.00/2.00 ' and this 0.00 grade is also viewable in the 'grades' area of the course. 3.    I then manually overrode the 0.00 grade to… 0.00 and saved this. Yet still, the grade sync remains the same as point 2 above. 4.    I then overrode the grade to 1 (from 0.00). Sure enough, it worked: a.    Starting - Grade sync for shared tool '207' for the course '25'. b. Success - The grade '0.5' for the user '591' in the tool '207' for the course '25' was sent. 5.    I then overrode the grade back to 0.00 (from 1, which was 0.5 based on scaling within Moodle), and again the grade sync was successful a.    Starting - Grade sync for shared tool '207' for the course '25'. b. Success - The grade '0' for the user '591' in the tool '207' for the course '25' was sent. c.    Completed - Synced grades for tool '207' in the course '25'. Processed 1 users; sent 1 grades. So, I suppose I'm trying to understand why Moodle does not trigger the initial 0.00 grade (after the due date) to be sent in the first grade sync after the due date? Instead, Moodle continues to send the same grade as before to the due date (incomplete/in progress), yet the student can see their 0.00 mark in Moodle. Any guidance surrounding this would be much appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 12, 2024, 11:10 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Quiz Results + Grade Sync Behaviour",
          "Text": "I am just wondering if this is more of an issue with Grade sych than the quiz. I think I will move this to the LTI forum. (If that was wrong, it can be moved back.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 12, 2024, 6:20 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz Results + Grade Sync Behaviour",
          "Text": "Thanks, Tim, definitely more suited to this forum.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 13, 2024, 4:27 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz Results + Grade Sync Behaviour",
          "Text": "I hope I can help with this since I've gotten fairly familiar with grade_sync: The message you see in 1b means that the grade for the quiz is NULL; the sync grades task won't send any data when the student hasn't made an attempt yet. (Since NULL !== round(0,5) ) When the due date closes on the quiz, the grade for the quiz changes from NULL to 0, and you get the message in 2b since the lastgrade value it compares against to see if it needs to send a grade update is initialized to 0.00000 , and they are now equal. Changing it from 0.5 and then back to 0.0 does what you'd expect and what you've witnessed, since it's comparing the current grade against that lastgrade recorded, which you're changing to get the behavior you want. If this is undesirable, and grades of 0 should be sent when the due date is arrived at but not before (if Blackboard isn't treating a failure to make an attempt as a 0 score), initializing lastgrade to NULL instead might be a good fix, but hard to write a database upgrade to accomplish to backfill existing lastgrade values that may be 0.00000 or may be NULL. My follow-up questions are: what kind of problem does this cause, and is it specific to integrations with Blackboard as the LTI platform?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 12, 2024, 9:31 PM",
          "AuthorName": "Liam Moran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1535199&course=5",
          "role": [
            "Picture of Liam Moran",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Quiz Results + Grade Sync Behaviour",
          "Text": "Morning Liam, Thanks so much for the explanation, given we don't use Moodle as a main LMS rather just an intemediary for a particular question type my knowledge on the system is quite limited, so I appreciate your help! The answer you've supplied makes complete sense, many thanks for this. Adressing your follow up question: it doesn't particularly pose a problem perse as the 0 grade can be input manually in Blackboard grade centre. Our teachers would just prefer that quizzes that haven't been attempted by users are sent to Blackboard via grade sync as a zero once the due date arrives (saves a bit of manual work). It was also hoped that those who never follow the LTI link from Blackboard to the Moodle quiz would also be in the same boat. However, these users never populate in the results table of the Moodle quiz (due to not clicking the link) so aren't included in the grade sync log.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 13, 2024, 4:39 AM",
          "AuthorName": "Caleb Marfell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6392139&course=5",
          "role": [
            "Picture of Caleb Marfell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 459258,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=459258",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 activities added via content selection revert to 'embed'",
          "Text": "Hi, I'm having trouble with adding multiple activities via LTI 1.3 content selection on M4.1. We need activities added via content selection to open in a new window to work properly. If you add one activity, you can set the launch container for it which is kind of OK, although it seems to always revert to 'embed' even if the tool launch container is set which isn't ideal. If you add more than one activity in a single content selection window then there's no option to change the launch container setting after you've selected the activities and they all revert to 'embed', leaving the teacher to manually update each one. I was looking for an admin setting for this but I can't see one, is it a known issue? thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 10, 2024, 10:15 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 activities added via content selection revert to 'embed'",
          "Text": "Hi Greg, Each content item returned to the platform can contain a placementAdvice->presentationDocumentTarget property, which Moodle will take and map to a launch container (embed, new window etc.). Basically, the tool guides the decision. With Moodle-to-Moodle, for example, we'll send over a value of 'iframe', which maps to 'embed', so that's expected in that particular case. With data coming from other tools, your guess is as good as mine. It's also worth noting that the mapping code will also run for multiple content items, so if they're all sending across 'iframe', then they'll all be mapped to 'embed'. And yes, this does override the 'default launch container' specified in the tool definition - again, expected. You can see the logic here: https://github.com/moodle/moodle/blob/67f739499b3840ffc4cfae5a5a04c8dcd33bf3ab/mod/lti/locallib.php#L1515-L1516 Without seeing the payload of your content items, it's hard to guess what's going on here and it may, in fact, be completed expected behaviour. Of course, it's probably still quite annoying to have to go back and manually update x number of links to set \"new window\", given you can't set that during the import of multiple items. That's possibly a good candidate for an improvement request in tracker. Hope that gives you something to go on. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 11, 2024, 9:23 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 activities added via content selection revert to 'embed'",
          "Text": "Thanks Jake. This example is Moodle-to-Moodle, so is it the case that if I add multiple items there is no setting that can influence the launch container at present (i.e. they will all embed regardless)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 13, 2024, 9:05 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 activities added via content selection revert to 'embed'",
          "Text": "Yeah, that's right. The lti1p3 library, which we use for the tool, sets documentTarget='iframe' for each content item in the response. Then, since the platform has a very limited view (i.e. just a summary of the items coming over, no form) we cannot change the mapping to iframe during creation. It must be done, as you've found, after the link creation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 14, 2024, 9:11 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 activities added via content selection revert to 'embed'",
          "Text": "Perfect, thanks Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 14, 2024, 9:57 PM",
          "AuthorName": "Greg Myles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1380650&course=5",
          "role": [
            "Picture of Greg Myles"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 405405,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=405405",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "How to create LTI api in core php project",
          "Text": "My requirement is, need to create LTI api which supportable to moodle, anyone have idea how to create / implement LTI api in my project (core php project). Then these LTI api communicate with moodle using LTI tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 16, 2020, 3:26 PM",
          "AuthorName": "Bhupendra Singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3333399&course=5",
          "role": [
            "Picture of Bhupendra Singh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to create LTI api in core php project",
          "Text": "This is not really a Moodle-specific question. The point about LTI tools is that if you follow the standards, your app will work with any LMS. I don't acutally know the tnaswer to your quetsion, becasue I have never done it. However, fi you Google, there are various guides available, of which this seems to have the best title: Writing LTI stuff .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 16, 2020, 6:04 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create LTI api in core php project",
          "Text": "Hi Tim Hunt, Thanks for you support. It is possible to call moodle LTI  by postman. If yes how can be used that ?. Give some  idea about.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2020, 12:50 PM",
          "AuthorName": "Bhupendra Singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3333399&course=5",
          "role": [
            "Picture of Bhupendra Singh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to create LTI api in core php project",
          "Text": "Sorry, I don't know. I hope somebody else does.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 17, 2020, 4:14 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352292,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352292",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI and Evasys",
          "Text": "Moodle 3.1.1+ (Build: 20160811) Version 2016052301.06 Stable version Has anyone integrated Evasys data via LTI/external tool?  I seem to have added the URL but that is far as I have got - this is the first time I have had a go at this.  When I go to add the activity it is not on my list. Evasys have provided passwords/links but I am not sure where I should be putting them.  We aim to provide feedback data on each course. thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2017, 11:45 PM",
          "AuthorName": "Sandra Watts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=387632&course=5",
          "role": [
            "Picture of Sandra Watts"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI and Evasys",
          "Text": "If you are provided with a password, this may be the secret you need to use. I'd try adding the tool manually. Go to Site administration > Plugins > Activity modules > External tool > Manage tools and click \"configure a tool manually\". The link should be pasted into \"Tool URL\". Then set shared secret to the \"password\" you were given. If you weren't given a \"key\" or \"username\" try just typing anything there, for instance your site name. You may want to just make it all one word. E.g. \"acmecorporation\" Let me know if this helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 15, 2017, 8:51 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 416572,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=416572",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "plagiarism tools options",
          "Text": "Dear All, I would like to ask about what other good options you can use for plagiarism different from Turnitin as they are now increasing their prices every year? Is there any one using different tool in his/her college/university? and how good it is? Thank you all and looking forward to hearing from you all. Salim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2021, 2:41 PM",
          "AuthorName": "Salim Al Waili",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=491074&course=5",
          "role": [
            "Picture of Salim Al Waili"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: plagiarism tools options",
          "Text": "At a UK MoodleMoot a few years ago, Mark Glynn from DCU talked about their move to Urkund. It's on the list at https://moodle.com/news/moodlemoot-uk-ireland-2017-video-presentations-now-available/ so you might be able to find a video.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2021, 9:48 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: plagiarism tools options",
          "Text": "Thanks for sharing this Tim. Good to know that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 13, 2021, 11:57 PM",
          "AuthorName": "Salim Al Waili",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=491074&course=5",
          "role": [
            "Picture of Salim Al Waili"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: plagiarism tools options",
          "Text": "the moodle.org plugins database also allows you to see how many registered sites are using a plagiarism plugin - see here for all the plagiarism plugins ordered by the registered sites: https://moodle.org/plugins/?q=type:plagiarism%20sort-by:sites",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2021, 3:54 AM",
          "AuthorName": "Dan Marsden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21591&course=5",
          "role": [
            "Picture of Dan Marsden",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: plagiarism tools options",
          "Text": "Thank you Dan. That's a good idea. Salim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2021, 12:47 PM",
          "AuthorName": "Salim Al Waili",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=491074&course=5",
          "role": [
            "Picture of Salim Al Waili"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450918,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450918",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Announcement: Changes to LTI in Moodle 4.4 and beyond",
          "Text": "As many people in this forum may be aware, Moodle HQ is currently undertaking work to improve the LTI experience in the LMS.  The first steps in this work will be released in Moodle 4.3 with an improved configuration experience for course level LTI's.  The next steps however will require some significant changes to the LTI infrastructure before we can move forward in any significant way. I announced as part of my talk at the Global Moodle Moot that HQ is working with TurnItIn to move the existing mod_lti into a core subsystem for Moodle LMS.  TurnItIn will be doing the majority of this work as it is their aim to replace their existing 3 plugins with a single LTI integration.  In addition to this move to core they will also be implementing additional LTI Placements, and implementing a new LTI assett processor extension to facilitate their requirements.  Importantly it has been agreed that all work that will be undertaken will be in a standards compliant way and will be reusable by any other vendor or user of Moodle which is fantastic for the broader community.   Importantly this lays the ground work for additional placements to be added such as an LTI placement in the editor, course navigation etc. which is not currently possible. At this point the target timelines are Moodle 4.4 for the move to core and 4.5 for the implementation of the assett processor, this is obviously subject to change but this is the current intent.  Over the period of the move from Mod_LTI to core HQ will not be accepting additional changes to Mod_LTI to avoid code merge conflicts and the community doing work that will need to be re-implemented later.   If changes are to UI and other non- mod-lti related pieces we would consider them but please feel free to contact me and disucss if in doubt. I'm really excited about this move forward for the platform and I'm really looking forward to seeing how we can leverage this new capability once it is in place. (Edited by Jake Dallimore - original submission Wednesday, September 27, 2023, 3:50 PM) (Edited by Jake Dallimore - original submission Wednesday, September 27, 2023, 3:50 PM)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 27, 2023, 3:50 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI and Moodle",
          "Text": "Thanks Brett. Just want to clarify one little bit for others reading this (because we do get a fair few tool users on this forum) : The proposed changes will only impact the Platform side of Moodle's LTI implementation, not the Tool side. In terms of core changes, we're only talking about moving a good chunk of mod_lti plugin (and all of its associated source and service subplugins) into core. Nothing in Moodle's tool implementation ( enrol_lti , auth_lti ) will be changed or moved. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 27, 2023, 4:34 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI and Moodle",
          "Text": "Thanks for the clarfications Jake, much appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 27, 2023, 5:32 PM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI and Moodle",
          "Text": "Thanks Brett! - Awesome to see Turnitin funding this development - the work planned looks like it will provide a really great base for future LTI improvements that wouldn't easily be possible without this first step - looking forward to seeing this work land in the core release!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 28, 2023, 4:57 AM",
          "AuthorName": "Dan Marsden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21591&course=5",
          "role": [
            "Picture of Dan Marsden",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 349762,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=349762",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI not working when embeding",
          "Text": "Hi, I am loading a survey tool from one Moodle 3.2 instance to another using LTI. It works when loading in a new/exciting window but it doesn't work when 'embed/embed without blocks'. I have 'Allow frame embedding' on ob both sites. Is there any extra settings I need to do/enable to have the embedding work properly? Regards, Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 24, 2017, 8:02 PM",
          "AuthorName": "Chris Mat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1951394&course=5",
          "role": [
            "Picture of Chris Mat"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI not working when embeding",
          "Text": "Yep allow frame embedding on the provider site should be all you need. Are either of the sites using https? This can cause a problem if the consumer site is and the provider site isn't, because you can't embed insecure (http) content in secure content (https) If you open the console of your browser can you see any errors? (An easy way to get to the console is to right click, inspect element, then click console)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2017, 9:36 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not working when embeding",
          "Text": "Thanks John. One Moodle was using SSL but the other was not. I enabled SSL on the other Moodle and it worked. That was very helpful. Thanks. Now, is there any way to embed only the activity? I am not interested in showing the whole Moodle inside another Moodle. I can use the CSS display: none; to hide the header, footer, breadcrumbs and menu but I wonder if there's a better way or a setting I have missed. Regards, Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 27, 2017, 11:46 PM",
          "AuthorName": "Chris Mat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1951394&course=5",
          "role": [
            "Picture of Chris Mat"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not working when embeding",
          "Text": "When a student logs in, they will see only the activity and no header/menu. A teacher needs access to the header and menus to do a lot of things, however if you don't want the teacher to see those either, set the custom parameters to \"force_embed=1\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 28, 2017, 8:29 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not working when embeding",
          "Text": "Hi John, This was really helpful. Thank you very much for your quick reply and for help. Regards, Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 28, 2017, 5:13 PM",
          "AuthorName": "Chris Mat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1951394&course=5",
          "role": [
            "Picture of Chris Mat"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI not working when embeding",
          "Text": "Glad I could help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 29, 2017, 8:50 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 430867,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=430867",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "LTI Grade Sync: Grade update timing",
          "Text": "Folks, I must have missed it, but is there a setting that controls how long after a user finished a grade sync-able item that it starts sending a grade back to a provider?  We have the admin.php cron job going once a minute but the latency seems to be >10 minutes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 4:01 AM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI Grade Sync: Grade update timing",
          "Text": "Hi Kenwrick, The main cron run should be every minute (as recommended in docs), however, the individual scheduled tasks can be configured via Site admin > Server > Scheduled tasks. The one you're looking for is called \"Publish as LTI tool grade sync\" (\\enrol_lti\\local\\ltiadvantage\\task\\sync_grades). Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 3:30 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI Grade Sync: Grade update timing",
          "Text": "Thank you Jake!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 17, 2022, 4:03 PM",
          "AuthorName": "Kenwrick Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224065&course=5",
          "role": [
            "Picture of Kenwrick Chan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 397148,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=397148",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle as LTI provider - authenticate into existing Moodle user",
          "Text": "Hi, We are running both Canvas and Moodle. I would like to use the \"Moodle as LTI provider\" capability to allow users that are logged in to Canvas to seamlessly access a course in Moodle. I have set up the LTI on Canvas and on Moodle. When a user launches the LTI from Canvas, then a new user is created on Moodle with  the correct name and email address and with a username that looks like this: \n```text\nenrol_lti54e2fbac742e02437015152990ee6f6c45032457\n```\n Instead of this, what I want is for the username to be created based on the Canvas username, or if that username already exists in Moodle, to authenticate into the existing user and enrol then onto the relevant Moodle course as per the LTI link. Does anyone know how I can do this? I have tried to put custom parameters into the Canvas LTI but this is guesswork as I don't know what value Moodle would be looking for (if any). Thanks, Pete",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 6:59 PM",
          "AuthorName": "Pete Howard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2055311&course=5",
          "role": [
            "Picture of Pete Howard"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle as LTI provider - authenticate into existing Moodle user",
          "Text": "Hi Pete even i need same feature. Help me if you found solution for this. i want to avoid user duplication using LTI if user is already exists with same user details. Thanks Zuheb",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 7, 2020, 9:21 PM",
          "AuthorName": "Zuheb A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2411153&course=5",
          "role": [
            "Picture of Zuheb A"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 413578,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=413578",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Gradebook Issue: lis_result_sourcedid passing as \"{\"",
          "Text": "When students are launching into our tool the value of lis_result_sourcedid is being passed as \"{\". For this reason, when we attempt to post a grade the call fails. I have search all over and have not been able to figure out the cause of this. I have seen this across clients so it does not seem to be specific to a single client of ours. Any help would be much appreciated. Also this is an LTI 1.0/1.1 tool. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 10, 2020, 4:33 AM",
          "AuthorName": "Jason Fill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3844085&course=5",
          "role": [
            "Picture of Jason Fill"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Gradebook Issue: lis_result_sourcedid passing as \"{\"",
          "Text": "Hi Jason, If the launch happens over 1.1 like you say, the value Moodle sends for lis_result_sourcedid will be a JSON string, which can then be saved by tools and sent back during grade sync. That '{' is only the first character. I'd suggest troubleshooting the launch and seeing why the rest of the data isn't present in that field. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 21, 2021, 2:52 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 374930,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374930",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "LTI consumer users are free to explore provider site",
          "Text": "Hey folks, Does anyone have any insight into whether this is expected or not.... I've created a course on my Moodle site which I then publish as an LTI tool.  When I consume this course via the launch URL , the corresponding user created for me on the Moodle site is able to navigate around the entire site.  Is there not a way of restricting the session to the course only? In the old local_ltiprovider plugin there was a setting 'forcenavigation' which would be used to redirect users to the course/mod if they tried to stray off the path. By the way, I am using Moodle 3.5. Cheers, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 23, 2018, 2:08 AM",
          "AuthorName": "Eric Richer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2314782&course=5",
          "role": [
            "Picture of Eric Richer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI consumer users are free to explore provider site",
          "Text": "Hello Eric, Today I noticed a scenario similar to what you mentioned. Case 1: LTI Provider: Moodle 3.5.2 LTI Consumer: Moodle 3.5.2 I shared a specific content (not the whole course) The navigation is normal, when I access from LTI Consumer, the content on LTI Provider is opened and no blocks from the provider is shown. When I shared the whole course, I can see the navigation blocks from Provider Moodle and navigate between different activities . Case 2 LTI Provider: Moodle 3.5.2 LTI Consumer: Open EdX I shared a specific content (not the whole course) There is no problem at the login and the content from Moodle is shown in the consumer side, but the navigation blocks from the moodle are also shown, and the user can navigate in the menu and between blocks, as if all course is shared: Does anyone experience similar issue? Especially with Open Edx or other non-Moodle platform as LTI Consumer? Regards, Tansu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 2, 2018, 10:45 PM",
          "AuthorName": "Tansu PANCAR",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2429676&course=5",
          "role": [
            "Picture of Tansu PANCAR"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI consumer users are free to explore provider site",
          "Text": "Hi, I've been playing around with LTI publication and consumption lately and here is what I noticed. When Moodle is an LTI provider, it will display contents using an embedded template (i.e. with no navigation whatsoever). This applies only for users with the student role on the consumer LMS, not for teachers (and higher roles) who will see the full navigation. To disable the navigation for everyone, 'force_embed=1' must be added as a custom parameter on the consumer system. I could confirm on the LTI test tools: http://lti.tools/saltire I couldn't find a way to force this form the provider Moodle, which is a pity in my opinion. Cheers, Max",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 22, 2019, 12:23 AM",
          "AuthorName": "Maxime Taisne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1100855&course=5",
          "role": [
            "Picture of Maxime Taisne"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI consumer users are free to explore provider site",
          "Text": "Hi all Is it worth adding this as a tracker for Moodle? Expected behaviour as an LTI provider is to 1. The Moodle LTI provider to have an option to force embed (needed both when sharing a course and when users are higher in privilege than student) 2. LTI consumer user should not be able to see \"the rest of the site\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2020, 5:09 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 390251,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=390251",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Moodle to Moodle LTI Content selection",
          "Text": "Hi All, I have two Moodle instances, one serving as a repository (R), the other as an LMS (L). I use LTI for the integration of shared courses or activities in (L). It is working but it seems necessary to declare each LTI object shared from (R) in (L). I'm looking if it's possible to declare (R) as \"External Tool\" once and then to have the possibility to display a kind of catalog of the LTI objects available in (R) from (L). On the client side (L), when configuring the external tool configuration, there is indeed a \"Content Selection URL \" field that seems to be made for this, but what is the URL to indicate for a Moodle LTI provider server ? Any idea ? Thanks. Laurent",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 29, 2019, 12:11 AM",
          "AuthorName": "Laurent Dairaine",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=311695&course=5",
          "role": [
            "Picture of Laurent Dairaine"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle to Moodle LTI Content selection",
          "Text": "Probably a bit late for you and sorry to say I don't have the answer, but we will need to build such a capability for specific Modules (classes). If you are going to do this from scratch you probably want a local plugin \"/local/ltisync\". If we get around to it I will try to come back here and remember to update this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 11, 2020, 7:02 PM",
          "AuthorName": "Brian Merritt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1530538&course=5",
          "role": [
            "Picture of Brian Merritt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 440477,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=440477",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Passing Consumer Usernames to Moodle with 'Publish as LTI Tool'",
          "Text": "Hi, We are experimenting\nwith using the handy 'Publish as LTI Tool' plugin to link Moodle quizzes to courses in our\nmain LMS (Blackboard Learn), creating and managing Moodle user accounts in the\nprocess. This is working well with one small limitation: we’re interested\nin passing Blackboard usernames to Moodle but adding custom parameters to the\nLTI config, such as username=$User.username or username=@X@user.id@X@, doesn’t seem to work. When a Blackboard user's account is created in Moodle after they click a Bb link to a published Moodle resource for the first time (or by user synchronization), their Moodle\nusername is invariably Moodle-generated and of the form: enrol_lti[hex_number]. We are currently running Moodle 3.1 so LTI1.3 unfortunately isn’t an\noption for us just yet (though hopefully not far away!). I wonder if anyone can advise if sending usernames is doable and if so how? I know that utilising the Publish as LTI Tool to link Moodle Quizzes etc to Blackboard has previously been discussed, but couldn't see an answer to this specific question - apologies if there is and I've missed it! Thanks in advance Ben",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 13, 2022, 1:05 PM",
          "AuthorName": "Ben F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5279999&course=5",
          "role": [
            "Picture of Ben F"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Passing Consumer Usernames to Moodle with 'Publish as LTI Tool'",
          "Text": "Hi Ben, This isn't currently possible. The username is created by Moodle as the user account is created on launch, using a combination of things like the consumer key and the consumer's user id. This was done so that we can uniquely find the user at a later point in time (such as during service calls, etc.) using things we'll always have access to (consumerkey, userid). This is the same story in the LTI 1.3 provider; the username, at least for users which are automatically created during launch or member sync, is generated by Moodle. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 14, 2022, 11:30 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Passing Consumer Usernames to Moodle with 'Publish as LTI Tool'",
          "Text": "Hi Jake, Thanks very much for your quick and informative reply – really grateful for the confirmation and background. It’s not overly important and I suppose if we were determined to get Consumer LMS usernames across to Moodle somehow or other, we could test passing them into one of the other existing profile fields, or else a bespoke field. Thanks again! Ben",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 14, 2022, 1:26 PM",
          "AuthorName": "Ben F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5279999&course=5",
          "role": [
            "Picture of Ben F"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 334244,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=334244",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Receiving 404 error while posting grades to Moodle",
          "Text": "Whenever we are trying to post grades to Moodle ( http://moodle.johnwiley.com.au/mod/lti/service.php ) from external tool, we are getting 404 error. Below is the error description: ( The Http Server replied with a 4XX status\ncodeBW-HTTP-100000HTTP/1.1404Not Foundtext/html;\ncharset=utf-8sameoriginclosetext/javascriptennoneThu, 02 Jun 2016 00:41:00\nGMTIE=edgetext/cssno-cacheprivate, pre-check=0, post-check=0, max-age=0,\nno-transformPHP/5.5.13MoodleSession=gpiq1pgivbvv8lq53r7svid904;\npath=/ApachePCFET0NUWVBFIGh0bWw+CjxodG1sICBkaXI9Imx0ciIgbGFuZz0iZW4iIHhtbDpsYW5nPSJlbiI+CjxoZWFkPgogICAgPHRpdGxlPkVycm9yPC90aXRsZT4KICAgIDxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgaHJlZj0iaHR0cDovL21vb2RsZS5qb2hud2lsZXkuY29tLmF1L3RoZW1lL2ltYWdlLnBocC93aWxleV93aWxwL3RoZW1lLzE0NTY5Njg5MTEvZmF2aWNvbiIgLz4KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04IiAvPgo8bWV0YSBuYW1lPSJrZXl3b3JkcyIgY29udGVudD0ibW9vZGxlLCBFcnJvciIgLz4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgovLzwhW0NEQVRBWwp2YXIgTSA9IHt9OyBNLnl1aSA9IHt9OwpNLnBhZ2Vsb2Fkc3RhcnR0aW1lID0gbmV3IERhdGUoKTsKTS5jZmcgPSB7Ind3d3Jvb3QiOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdSIsInNlc3NrZXkiOiIzTWF6SzBDWGlUIiwibG9hZGluZ2ljb24iOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdVwvdGhlbWVcL2ltYWdlLnBocFwvd2lsZXlfd2lscFwvY29yZVwvMTQ1Njk2ODkxMVwvaVwvbG9hZGluZ19zbWFsbCIsInRoZW1lcmV2IjoiMTQ1Njk2ODkxMSIsInNsYXNoYXJndW1lbnRzIjoxLCJ0aGVtZSI6IndpbGV5X3dpbHAiLCJqc3JldiI6IjE0NTY5NjM4MjAiLCJzdmdpY29ucyI6dHJ1ZX07dmFyIHl1aTFDb25maWdGbiA9IGZ1bmN0aW9uKG1lKSB7aWYoLy1za2lufHJlc2V0fGZvbnRzfGdyaWRzfGJhc2UvLnRlc3QobWUubmFtZSkpe21lLnR5cGU9J2Nzcyc7bWUucGF0aD1tZS5wYXRoLnJlcGxhY2UoL1wuanMvLCcuY3NzJyk7bWUucGF0aD1tZS5wYXRoLnJlcGxhY2UoL1wveXVpMi1za2luLywnL2Fzc2V0cy9za2lucy9zYW0veXVpMi1za2luJyl9fTsKdmFyIHl1aTJDb25maWdGbiA9IGZ1bmN0aW9uKG1lKSB7dmFyIHBhcnRzPW1lLm5hbWUucmVwbGFjZSgvXm1vb2RsZS0vLCcnKS5zcGxpdCgnLScpLGNvbXBvbmVudD1wYXJ0cy5zaGlmdCgpLG1vZHVsZT1wYXJ0c1swXSxtaW49Jy1taW4nO2lmKC8tKHNraW58Y29yZSkkLy50ZXN0KG1lLm5hbWUpKXtwYXJ0cy5wb3AoKTttZS50eXBlPSdjc3MnO21pbj0nJ307aWYobW9kdWxlKXt2YXIgZmlsZW5hbWU9cGFydHMuam9pbignLScpO21lLnBhdGg9Y29tcG9uZW50KycvJyttb2R1bGUrJy8nK2ZpbGVuYW1lK21pbisnLicrbWUudHlwZX1lbHNlIG1lLnBhdGg9Y29tcG9uZW50KycvJytjb21wb25lbnQrJy4nK21lLnR5cGV9OwpZVUlfY29uZmlnID0geyJkZWJ1ZyI6ZmFsc2UsImJhc2UiOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdVwvbGliXC95dWlsaWJcLzMuMTUuMFwvIiwiY29tYm9CYXNlIjoiaHR0cDpcL1wvbW9vZGxlLmpvaG53aWxleS5jb20uYXVcL3RoZW1lXC95dWlfY29tYm8ucGhwPyIsImNvbWJpbmUiOnRydWUsImZpbHRlciI6bnVsbCwiaW5zZXJ0QmVmb3JlIjoiZmlyc3R0aGVtZXNoZWV0IiwiZ3JvdXBzIjp7Inl1aS1wYXRjaGVkIjp7ImNvbWJpbmUiOnRydWUsInJvb3QiOiIzLjE1LjBfMVwvIiwicGF0dGVybnMiOnsiZGQtZHJhZyI6eyJncm91cCI6Inl1aS1wYXRjaGVkIn0sImRkLWdlc3R1cmVzIjp7Imdyb3VwIjoieXVpLXBhdGNoZWQifX0sIm1vZHVsZXMiOnsiZGQtZHJhZyI6W10sImRkLWdlc3R1cmVzIjpbXX19LCJ5dWkyIjp7ImJhc2UiOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdVwvbGliXC95dWlsaWJcLzJpbjNcLzIuOS4wXC9idWlsZFwvIiwiY29tYm9CYXNlIjoiaHR0cDpcL1wvbW9vZGxlLmpvaG53aWxleS5jb20uYXVcL3RoZW1lXC95dWlfY29tYm8ucGhwPyIsImNvbWJpbmUiOnRydWUsImV4dCI6ZmFsc2UsInJvb3QiOiIyaW4zXC8yLjkuMFwvYnVpbGRcLyIsInBhdHRlcm5zIjp7Inl1aTItIjp7Imdyb3VwIjoieXVpMiIsImNvbmZpZ0ZuIjp5dWkxQ29uZmlnRm59fX0sIm1vb2RsZSI6eyJuYW1lIjoibW9vZGxlIiwiYmFzZSI6Imh0dHA6XC9cL21vb2RsZS5qb2hud2lsZXkuY29tLmF1XC90aGVtZVwveXVpX2NvbWJvLnBocD9tXC8xNDU2OTYzODIwXC8iLCJjb21iaW5lIjp0cnVlLCJjb21ib0Jhc2UiOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdVwvdGhlbWVcL3l1aV9jb21iby5waHA/IiwiZXh0IjpmYWxzZSwicm9vdCI6Im1cLzE0NTY5NjM4MjBcLyIsInBhdHRlcm5zIjp7Im1vb2RsZS0iOnsiZ3JvdXAiOiJtb29kbGUiLCJjb25maWdGbiI6eXVpMkNvbmZpZ0ZufX0sImZpbHRlciI6bnVsbCwibW9kdWxlcyI6eyJtb29kbGUtY29yZS1ub3RpZmljYXRpb24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWRpYWxvZ3VlIiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWFsZXJ0IiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWNvbmZpcm0iLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZXhjZXB0aW9uIiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWFqYXhleGNlcHRpb24iXX0sIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1kaWFsb2d1ZSI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsInBhbmVsIiwiZXZlbnQta2V5IiwiZGQtcGx1Z2luIiwibW9vZGxlLWNvcmUtd2lkZ2V0LWZvY3VzYWZ0ZXJjbG9zZSIsIm1vb2RsZS1jb3JlLWxvY2tzY3JvbGwiXX0sIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1hbGVydCI6eyJyZXF1aXJlcyI6WyJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZGlhbG9ndWUiXX0sIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1jb25maXJtIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1kaWFsb2d1ZSJdfSwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWV4Y2VwdGlvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZGlhbG9ndWUiXX0sIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1hamF4ZXhjZXB0aW9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1kaWFsb2d1ZSJdfSwibW9vZGxlLWNvcmUtZm9ybWF1dG9zdWJtaXQiOnsicmVxdWlyZXMiOlsiYmFzZSIsImV2ZW50LWtleSJdfSwibW9vZGxlLWNvcmUtaGFuZGxlYmFycyI6eyJjb25kaXRpb24iOnsidHJpZ2dlciI6ImhhbmRsZWJhcnMiLCJ3aGVuIjoiYWZ0ZXIifX0sIm1vb2RsZS1jb3JlLWFjdGlvbm1lbnUiOnsicmVxdWlyZXMiOlsiYmFzZSIsImV2ZW50Iiwibm9kZS1ldmVudC1zaW11bGF0ZSJdfSwibW9vZGxlLWNvcmUtYmxvY2tzIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiaW8iLCJkb20iLCJkZCIsImRkLXNjcm9sbCIsIm1vb2RsZS1jb3JlLWRyYWdkcm9wIiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uIl19LCJtb29kbGUtY29yZS1wb3B1cGhlbHAiOnsicmVxdWlyZXMiOlsibW9vZGxlLWNvcmUtdG9vbHRpcCJdfSwibW9vZGxlLWNvcmUtZG9jayI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImV2ZW50LWN1c3RvbSIsImV2ZW50LW1vdXNlZW50ZXIiLCJldmVudC1yZXNpemUiLCJlc2NhcGUiLCJtb29kbGUtY29yZS1kb2NrLWxvYWRlciJdfSwibW9vZGxlLWNvcmUtZG9jay1sb2FkZXIiOnsicmVxdWlyZXMiOlsiZXNjYXBlIl19LCJtb29kbGUtY29yZS10b29sdGlwIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiaW8tYmFzZSIsIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1kaWFsb2d1ZSIsImpzb24tcGFyc2UiLCJ3aWRnZXQtcG9zaXRpb24iLCJ3aWRnZXQtcG9zaXRpb24tYWxpZ24iLCJldmVudC1vdXRzaWRlIiwiY2FjaGUtYmFzZSJdfSwibW9vZGxlLWNvcmUtY2hlY2tuZXQiOnsicmVxdWlyZXMiOlsiYmFzZS1iYXNlIiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWFsZXJ0IiwiaW8tYmFzZSJdfSwibW9vZGxlLWNvcmUtbWFpbnRlbmFuY2Vtb2RldGltZXIiOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiXX0sIm1vb2RsZS1jb3JlLWxvY2tzY3JvbGwiOnsicmVxdWlyZXMiOlsicGx1Z2luIiwiYmFzZS1idWlsZCJdfSwibW9vZGxlLWNvcmUtZHJhZ2Ryb3AiOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiLCJpbyIsImRvbSIsImRkIiwiZXZlbnQta2V5IiwiZXZlbnQtZm9jdXMiLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24iXX0sIm1vb2RsZS1jb3JlLWZvcm1jaGFuZ2VjaGVja2VyIjp7InJlcXVpcmVzIjpbImJhc2UiLCJldmVudC1mb2N1cyJdfSwibW9vZGxlLWNvcmUtY2hvb3NlcmRpYWxvZ3VlIjp7InJlcXVpcmVzIjpbImJhc2UiLCJwYW5lbCIsIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbiJdfSwibW9vZGxlLWNvcmUtZXZlbnQiOnsicmVxdWlyZXMiOlsiZXZlbnQtY3VzdG9tIl19LCJtb29kbGUtY29yZV9hdmFpbGFiaWxpdHktZm9ybSI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImV2ZW50IiwicGFuZWwiLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZGlhbG9ndWUiLCJqc29uIl19LCJtb29kbGUtYmFja3VwLWNvbmZpcm1jYW5jZWwiOnsicmVxdWlyZXMiOlsibm9kZSIsIm5vZGUtZXZlbnQtc2ltdWxhdGUiLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tY29uZmlybSJdfSwibW9vZGxlLWJhY2t1cC1iYWNrdXBzZWxlY3RhbGwiOnsicmVxdWlyZXMiOlsibm9kZSIsImV2ZW50Iiwibm9kZS1ldmVudC1zaW11bGF0ZSIsImFuaW0iXX0sIm1vb2RsZS1jYWxlbmRhci1ldmVudG1hbmFnZXIiOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiLCJldmVudC1tb3VzZWVudGVyIiwib3ZlcmxheSIsIm1vb2RsZS1jYWxlbmRhci1ldmVudG1hbmFnZXItc2tpbiJdfSwibW9vZGxlLWNvdXJzZS1tYW5hZ2VtZW50Ijp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiaW8tYmFzZSIsIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1leGNlcHRpb24iLCJqc29uLXBhcnNlIiwiZGQtY29uc3RyYWluIiwiZGQtcHJveHkiLCJkZC1kcm9wIiwiZGQtZGVsZWdhdGUiLCJub2RlLWV2ZW50LWRlbGVnYXRlIl19LCJtb29kbGUtY291cnNlLXV0aWwiOnsicmVxdWlyZXMiOlsibm9kZSJdLCJ1c2UiOlsibW9vZGxlLWNvdXJzZS11dGlsLWJhc2UiXSwic3VibW9kdWxlcyI6eyJtb29kbGUtY291cnNlLXV0aWwtYmFzZSI6e30sIm1vb2RsZS1jb3Vyc2UtdXRpbC1zZWN0aW9uIjp7InJlcXVpcmVzIjpbIm5vZGUiLCJtb29kbGUtY291cnNlLXV0aWwtYmFzZSJdfSwibW9vZGxlLWNvdXJzZS11dGlsLWNtIjp7InJlcXVpcmVzIjpbIm5vZGUiLCJtb29kbGUtY291cnNlLXV0aWwtYmFzZSJdfX19LCJtb29kbGUtY291cnNlLW1vZGNob29zZXIiOnsicmVxdWlyZXMiOlsibW9vZGxlLWNvcmUtY2hvb3NlcmRpYWxvZ3VlIiwibW9vZGxlLWNvdXJzZS1jb3Vyc2ViYXNlIl19LCJtb29kbGUtY291cnNlLWNhdGVnb3J5ZXhwYW5kZXIiOnsicmVxdWlyZXMiOlsibm9kZSIsImV2ZW50LWtleSJdfSwibW9vZGxlLWNvdXJzZS1kcmFnZHJvcCI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImlvIiwiZG9tIiwiZGQiLCJkZC1zY3JvbGwiLCJtb29kbGUtY29yZS1kcmFnZHJvcCIsIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbiIsIm1vb2RsZS1jb3Vyc2UtY291cnNlYmFzZSIsIm1vb2RsZS1jb3Vyc2UtdXRpbCJdfSwibW9vZGxlLWNvdXJzZS1mb3JtYXRjaG9vc2VyIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwibm9kZS1ldmVudC1zaW11bGF0ZSJdfSwibW9vZGxlLWNvdXJzZS10b29sYm94ZXMiOnsicmVxdWlyZXMiOlsibm9kZSIsImJhc2UiLCJldmVudC1rZXkiLCJub2RlIiwiaW8iLCJtb29kbGUtY291cnNlLWNvdXJzZWJhc2UiLCJtb29kbGUtY291cnNlLXV0aWwiXX0sIm1vb2RsZS1mb3JtLXNob3J0Zm9ybXMiOnsicmVxdWlyZXMiOlsibm9kZSIsImJhc2UiLCJzZWxlY3Rvci1jc3MzIl19LCJtb29kbGUtZm9ybS1wYXNzd29yZHVubWFzayI6eyJyZXF1aXJlcyI6WyJub2RlIiwiYmFzZSJdfSwibW9vZGxlLWZvcm0tc2hvd2FkdmFuY2VkIjp7InJlcXVpcmVzIjpbIm5vZGUiLCJiYXNlIiwic2VsZWN0b3ItY3NzMyJdfSwibW9vZGxlLXF1ZXN0aW9uLXByZXZpZXciOnsicmVxdWlyZXMiOlsiYmFzZSIsImRvbSIsImV2ZW50LWRlbGVnYXRlIiwiZXZlbnQta2V5IiwiY29yZV9xdWVzdGlvbl9lbmdpbmUiXX0sIm1vb2RsZS1xdWVzdGlvbi1jaG9vc2VyIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1jb3JlLWNob29zZXJkaWFsb2d1ZSJdfSwibW9vZGxlLXF1ZXN0aW9uLXNlYXJjaGZvcm0iOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiXX0sIm1vb2RsZS1xdWVzdGlvbi1xYmFua21hbmFnZXIiOnsicmVxdWlyZXMiOlsibm9kZSIsInNlbGVjdG9yLWNzczMiXX0sIm1vb2RsZS1hdmFpbGFiaWxpdHlfY29tcGxldGlvbi1mb3JtIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiZXZlbnQiLCJtb29kbGUtY29yZV9hdmFpbGFiaWxpdHktZm9ybSJdfSwibW9vZGxlLWF2YWlsYWJpbGl0eV9kYXRlLWZvcm0iOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiLCJldmVudCIsImlvIiwibW9vZGxlLWNvcmVfYXZhaWxhYmlsaXR5LWZvcm0iXX0sIm1vb2RsZS1hdmFpbGFiaWxpdHlfZ3JhZGUtZm9ybSI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImV2ZW50IiwibW9vZGxlLWNvcmVfYXZhaWxhYmlsaXR5LWZvcm0iXX0sIm1vb2RsZS1hdmFpbGFiaWxpdHlfZ3JvdXAtZm9ybSI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImV2ZW50IiwibW9vZGxlLWNvcmVfYXZhaWxhYmlsaXR5LWZvcm0iXX0sIm1vb2RsZS1hdmFpbGFiaWxpdHlfZ3JvdXBpbmctZm9ybSI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImV2ZW50IiwibW9vZGxlLWNvcmVfYXZhaWxhYmlsaXR5LWZvcm0iXX0sIm1vb2RsZS1hdmFpbGFiaWxpdHlfcHJvZmlsZS1mb3JtIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiZXZlbnQiLCJtb29kbGUtY29yZV9hdmFpbGFiaWxpdHktZm9ybSJdfSwibW9vZGxlLW1vZF9hc3NpZ24taGlzdG9yeSI6eyJyZXF1aXJlcyI6WyJub2RlIiwidHJhbnNpdGlvbiJdfSwibW9vZGxlLW1vZF9xdWl6LWF1dG9zYXZlIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIiwiZXZlbnQiLCJldmVudC12YWx1ZWNoYW5nZSIsIm5vZGUtZXZlbnQtZGVsZWdhdGUiLCJpby1mb3JtIl19LCJtb29kbGUtbWVzc2FnZV9haXJub3RpZmllci10b29sYm94ZXMiOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiLCJpbyJdfSwibW9vZGxlLWJsb2NrX25hdmlnYXRpb24tbmF2aWdhdGlvbiI6eyJyZXF1aXJlcyI6WyJiYXNlIiwiaW8tYmFzZSIsIm5vZGUiLCJldmVudC1zeW50aGV0aWMiLCJldmVudC1kZWxlZ2F0ZSIsImpzb24tcGFyc2UiXX0sIm1vb2RsZS1maWx0ZXJfZ2xvc3NhcnktYXV0b2xpbmtlciI6eyJyZXF1aXJlcyI6WyJiYXNlIiwibm9kZSIsImlvLWJhc2UiLCJqc29uLXBhcnNlIiwiZXZlbnQtZGVsZWdhdGUiLCJvdmVybGF5IiwibW9vZGxlLWNvcmUtZXZlbnQiLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tYWxlcnQiXX0sIm1vb2RsZS1maWx0ZXJfbWF0aGpheGxvYWRlci1sb2FkZXIiOnsicmVxdWlyZXMiOlsibW9vZGxlLWNvcmUtZXZlbnQiXX0sIm1vb2RsZS1lZGl0b3JfYXR0by1lZGl0b3IiOnsicmVxdWlyZXMiOlsibm9kZSIsImlvIiwib3ZlcmxheSIsImVzY2FwZSIsImV2ZW50IiwiZXZlbnQtc2ltdWxhdGUiLCJldmVudC1jdXN0b20iLCJ5dWktdGhyb3R0bGUiLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZGlhbG9ndWUiLCJtb29kbGUtZWRpdG9yX2F0dG8tcmFuZ3kiLCJoYW5kbGViYXJzIiwidGltZXJzIl19LCJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIjp7InJlcXVpcmVzIjpbIm5vZGUiLCJiYXNlIiwiZXNjYXBlIiwiZXZlbnQiLCJldmVudC1vdXRzaWRlIiwiaGFuZGxlYmFycyIsImV2ZW50LWN1c3RvbSIsInRpbWVycyJdfSwibW9vZGxlLWVkaXRvcl9hdHRvLW1lbnUiOnsicmVxdWlyZXMiOlsibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWRpYWxvZ3VlIiwibm9kZSIsImV2ZW50IiwiZXZlbnQtY3VzdG9tIl19LCJtb29kbGUtZWRpdG9yX2F0dG8tcmFuZ3kiOnsicmVxdWlyZXMiOltdfSwibW9vZGxlLXJlcG9ydF9ldmVudGxpc3QtZXZlbnRmaWx0ZXIiOnsicmVxdWlyZXMiOlsiYmFzZSIsImV2ZW50Iiwibm9kZSIsIm5vZGUtZXZlbnQtZGVsZWdhdGUiLCJkYXRhdGFibGUiLCJhdXRvY29tcGxldGUiLCJhdXRvY29tcGxldGUtZmlsdGVycyJdfSwibW9vZGxlLXJlcG9ydF9sb2dsaXZlLWZldGNobG9ncyI6eyJyZXF1aXJlcyI6WyJiYXNlIiwiZXZlbnQiLCJub2RlIiwiaW8iLCJub2RlLWV2ZW50LWRlbGVnYXRlIl19LCJtb29kbGUtZ3JhZGVyZXBvcnRfZ3JhZGVyLXNjcm9sbHZpZXciOnsicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiXX0sIm1vb2RsZS10b29sX2NhcGFiaWxpdHktc2VhcmNoIjp7InJlcXVpcmVzIjpbImJhc2UiLCJub2RlIl19LCJtb29kbGUtdGhlbWVfYm9vdHN0cmFwYmFzZS1ib290c3RyYXAiOnsicmVxdWlyZXMiOlsibm9kZSIsInNlbGVjdG9yLWNzczMiXX0sIm1vb2RsZS1hc3NpZ25mZWVkYmFja19lZGl0cGRmLWVkaXRvciI6eyJyZXF1aXJlcyI6WyJiYXNlIiwiZXZlbnQiLCJub2RlIiwiaW8iLCJncmFwaGljcyIsImpzb24iLCJldmVudC1tb3ZlIiwicXVlcnlzdHJpbmctc3RyaW5naWZ5LXNpbXBsZSIsIm1vb2RsZS1jb3JlLW5vdGlmaWNhdGlvbi1kaWFsb2ciLCJtb29kbGUtY29yZS1ub3RpZmljYXRpb24tZXhjZXB0aW9uIiwibW9vZGxlLWNvcmUtbm90aWZpY2F0aW9uLWFqYXhleGNlcHRpb24iXX0sIm1vb2RsZS1hdHRvX2FjY2Vzc2liaWxpdHljaGVja2VyLWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJjb2xvci1iYXNlIiwibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9fYWNjZXNzaWJpbGl0eWhlbHBlci1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9fYWxpZ24tYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX2JvbGQtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX2NoYXJtYXAtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX2NsZWFyLWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b19jb2xsYXBzZS1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9fZW1vdGljb24tYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX2VxdWF0aW9uLWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIiwibW9vZGxlLWNvcmUtZXZlbnQiLCJpbyIsImV2ZW50LXZhbHVlY2hhbmdlIiwidGFidmlldyIsImFycmF5LWV4dHJhcyJdfSwibW9vZGxlLWF0dG9faHRtbC1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiIsImV2ZW50LXZhbHVlY2hhbmdlIl19LCJtb29kbGUtYXR0b19pbWFnZS1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9faW5kZW50LWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b19pdGFsaWMtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX2xpbmstYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX21hbmFnZWZpbGVzLWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b19tYW5hZ2VmaWxlcy11c2VkZmlsZXMiOnsicmVxdWlyZXMiOlsibm9kZSIsImVzY2FwZSJdfSwibW9vZGxlLWF0dG9fbWVkaWEtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX25vYXV0b2xpbmstYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX29yZGVyZWRsaXN0LWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b19ydGwtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX3N0cmlrZS1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9fc3Vic2NyaXB0LWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b19zdXBlcnNjcmlwdC1idXR0b24iOnsicmVxdWlyZXMiOlsibW9vZGxlLWVkaXRvcl9hdHRvLXBsdWdpbiJdfSwibW9vZGxlLWF0dG9fdGFibGUtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iLCJtb29kbGUtZWRpdG9yX2F0dG8tbWVudSIsImV2ZW50IiwiZXZlbnQtdmFsdWVjaGFuZ2UiXX0sIm1vb2RsZS1hdHRvX3RpdGxlLWJ1dHRvbiI6eyJyZXF1aXJlcyI6WyJtb29kbGUtZWRpdG9yX2F0dG8tcGx1Z2luIl19LCJtb29kbGUtYXR0b191bmRlcmxpbmUtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX3VuZG8tYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX0sIm1vb2RsZS1hdHRvX3Vub3JkZXJlZGxpc3QtYnV0dG9uIjp7InJlcXVpcmVzIjpbIm1vb2RsZS1lZGl0b3JfYXR0by1wbHVnaW4iXX19fSwiZ2FsbGVyeSI6eyJuYW1lIjoiZ2FsbGVyeSIsImJhc2UiOiJodHRwOlwvXC9tb29kbGUuam9obndpbGV5LmNvbS5hdVwvbGliXC95dWlsaWJcL2dhbGxlcnlcLyIsImNvbWJpbmUiOnRydWUsImNvbWJvQmFzZSI6Imh0dHA6XC9cL21vb2RsZS5qb2hud2lsZXkuY29tLmF1XC90aGVtZVwveXVpX2NvbWJvLnBocD8iLCJleHQiOmZhbHNlLCJyb290IjoiZ2FsbGVyeVwvMTQ1Njk2MzgyMFwvIiwicGF0dGVybnMiOnsiZ2FsbGVyeS0iOnsiZ3JvdXAiOiJnYWxsZXJ5In19fX0sIm1vZHVsZXMiOnsiY29yZV9maWxlcGlja2VyIjp7Im5hbWUiOiJjb3JlX2ZpbGVwaWNrZXIiLCJmdWxscGF0aCI6Imh0dHA6XC9cL21vb2RsZS5qb2hud2lsZXkuY29tLmF1XC9saWJcL2phdmFzY3JpcHQucGhwXC8xNDU2OTYzODIwXC9yZXBvc2l0b3J5XC9maWxlcGlja2VyLmpzIiwicmVxdWlyZXMiOlsiYmFzZSIsIm5vZGUiLCJub2RlLWV2ZW50LXNpbXVsYXRlIiwianNvbiIsImFzeW5jLXF1ZXVlIiwiaW8tYmFzZSIsImlvLXVwbG9hZC1pZnJhbWUiLCJpby1mb3JtIiwieXVpMi10cmVldmlldyIsInBhbmVsIiwiY29va2llIiwiZGF0YXRhYmxlIiwiZGF0YXRhYmxlLXNvcnQiLCJyZXNpemUtcGx1Z2luIiwiZGQtcGx1Z2luIiwiZXNjYXBlIiwibW9vZGxlLWNvcmVfZmlsZXBpY2tlciJdfX19OwpNLnl1aS5sb2FkZXIgPSB7bW9kdWxlczoge319OwoKLy9dXT4KPC9zY3JpcHQ+CjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Imh0dHA6Ly9tb29kbGUuam9obndpbGV5LmNvbS5hdS90aGVtZS95dWlfY29tYm8ucGhwPzMuMTUuMC9jc3NyZXNldC9jc3NyZXNldC1taW4uY3NzJmFtcDszLjE1LjAvY3NzZm9udHMvY3NzZm9udHMtbWluLmNzcyZhbXA7My4xNS4wL2Nzc2dyaWRzL2Nzc2dyaWRzLW1pbi5jc3MmYW1wOzMuMTUuMC9jc3NiYXNlL2Nzc2Jhc2UtbWluLmNzcyIgLz48bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJodHRwOi8vbW9vZGxlLmpvaG53aWxleS5jb20uYXUvdGhlbWUveXVpX2NvbWJvLnBocD9yb2xsdXAvMy4xNS4wL3l1aS1tb29kbGVzaW1wbGUtbWluLmNzcyIgLz48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwOi8vbW9vZGxlLmpvaG53aWxleS5jb20uYXUvdGhlbWUveXVpX2NvbWJvLnBocD9yb2xsdXAvMy4xNS4wXzEveXVpLW1vb2RsZXNpbXBsZS1taW4uanMmYW1wO3JvbGx1cC8xNDU2OTYzODIwL21jb3JlLW1pbi5qcyI+PC9zY3JpcHQ+PHNjcmlwdCBpZD0iZmlyc3R0aGVtZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyI+LyoqIFJlcXVpcmVkIGluIG9yZGVyIHRvIGZpeCBzdHlsZSBpbmNsdXNpb24gcHJvYmxlbXMgaW4gSUUgd2l0aCBZVUkgKiovPC9zY3JpcHQ+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iaHR0cDovL21vb2RsZS5qb2hud2lsZXkuY29tLmF1L3RoZW1lL3N0eWxlcy5waHAvd2lsZXlfd2lscC8xNDU2OTY4OTExL2FsbCIgLz4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iaHR0cDovL21vb2RsZS5qb2hud2lsZXkuY29tLmF1L2xpYi9qYXZhc2NyaXB0LnBocC8xNDU2OTYzODIwL2xpYi9qYXZhc2NyaXB0LXN0YXRpYy5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KCjxib2R5IGlkPSJwYWdlLXNpdGUtaW5kZXgiIGNsYXNzPSJmb3JtYXQtc2l0ZSBjb3Vyc2UgcGF0aC1zaXRlIGRpci1sdHIgbGFuZy1lbiB5dWktc2tpbi1zYW0geXVpMy1za2luLXNhbSBtb29kbGUtam9obndpbGV5LWNvbS1hdSBwYWdlbGF5b3V0LWJhc2UgY291cnNlLTEgY29udGV4dC0xIG5vdGxvZ2dlZGluIGNvbnRlbnQtb25seSI+CjxkaXYgY2xhc3M9InNraXBsaW5rcyI+PGEgY2xhc3M9InNraXAiIGhyZWY9IiNtYWluY29udGVudCI+U2tpcCB0byBtYWluIGNvbnRlbnQ8L2E+PC9kaXY+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KLy88IVtDREFUQVsKZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgKz0gJyBqc2VuYWJsZWQnOwovL11dPgo8L3NjcmlwdD4KCgo8ZGl2IGlkPSJwYWdlIj4KICAgIDxkaXYgaWQ9InBhZ2UtaGVhZGVyIj4KICAgICAgICA8ZGl2IGlkPSJwYWdlLWhlYWRlci13cmFwcGVyIiBjbGFzcz0id3JhcHBlciBjbGVhcmZpeCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3M9ImhlYWRlcm1haW4gaW5zaWRlIj5XaWxleSBBdXN0cmFsaWE8L2gxPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVybWVudSI+PGRpdiBjbGFzcz0ibG9naW5pbmZvIj5Zb3UgYXJlIG5vdCBsb2dnZWQgaW4uICg8YSBocmVmPSJodHRwOi8vbW9vZGxlLmpvaG53aWxleS5jb20uYXUvbG9naW4vaW5kZXgucGhwIj5Mb2cgaW48L2E+KTwvZGl2PiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmF2YmFyIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndyYXBwZXIgY2xlYXJmaXgiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJyZWFkY3J1bWIiPjxzcGFuIGNsYXNzPSJhY2Nlc3NoaWRlIj5QYWdlIHBhdGg8L3NwYW4+PHVsIHJvbGU9Im5hdmlnYXRpb24iPjxsaT48YSBocmVmPSJodHRwOi8vbW9vZGxlLmpvaG53aWxleS5jb20uYXUvIj5Ib21lPC9hPjwvbGk+PC91bD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJuYXZidXR0b24iPiA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAKPCEtLSBFTkQgT0YgSEVBREVSIC0tPgo8ZGl2IGlkPSJwYWdlLWNvbnRlbnQtd3JhcHBlciIgY2xhc3M9IndyYXBwZXIgY2xlYXJmaXgiPgogICAgPGRpdiBpZD0icGFnZS1jb250ZW50Ij4KICAgICAgICA8ZGl2IGlkPSJyZWdpb24tbWFpbi1ib3giPgogICAgICAgICAgICA8ZGl2IGlkPSJyZWdpb24tcG9zdC1ib3giPgoKICAgICAgICAgICAgICAgIDxkaXYgaWQ9InJlZ2lvbi1tYWluLXdyYXAiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InJlZ2lvbi1tYWluIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVnaW9uLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiByb2xlPSJtYWluIj48c3BhbiBpZD0ibWFpbmNvbnRlbnQiPjwvc3Bhbj48ZGl2IGRhdGEtcmVsPSJmYXRhbGVycm9yIiBjbGFzcz0iYm94IGVycm9yYm94Ij48cCBjbGFzcz0iZXJyb3JtZXNzYWdlIj5FeGNlcHRpb24gLSBDb25zdW1lciBrZXkgaXMgbWlzc2luZy48L3A+PHAgY2xhc3M9ImVycm9yY29kZSI+PGEgaHJlZj0iaHR0cDovL2RvY3MubW9vZGxlLm9yZy8yNy9lbi9lcnJvci9tb29kbGUvZ2VuZXJhbGV4Y2VwdGlvbm1lc3NhZ2UiPk1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBlcnJvcjwvYT48L3A+PC9kaXY+PGRpdiBjbGFzcz0iY29udGludWVidXR0b24iPjxmb3JtIG1ldGhvZD0iZ2V0IiBhY3Rpb249Imh0dHA6Ly9tb29kbGUuam9obndpbGV5LmNvbS5hdS8iPjxkaXY+PGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkNvbnRpbnVlIiAvPjwvZGl2PjwvZm9ybT48L2Rpdj48L2Rpdj4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CjwvZGl2PgoKPCEtLSBTVEFSVCBPRiBGT09URVIgLS0+CiAgICAgICAgPGRpdiBpZD0icGFnZS1mb290ZXIiIGNsYXNzPSJ3cmFwcGVyIj4KICAgICAgICA8cCBjbGFzcz0iaGVscGxpbmsiPjwvcD4KICAgICAgICA8ZGl2IGNsYXNzPSJsb2dpbmluZm8iPllvdSBhcmUgbm90IGxvZ2dlZCBpbi4gKDxhIGhyZWY9Imh0dHA6Ly9tb29kbGUuam9obndpbGV5LmNvbS5hdS9sb2dpbi9pbmRleC5waHAiPkxvZyBpbjwvYT4pPC9kaXY+PGRpdiBjbGFzcz0ic2l0ZWxpbmsiPjxhIHRpdGxlPSJNb29kbGUiIGhyZWY9Imh0dHA6Ly9tb29kbGUub3JnLyI+PGltZyBzcmM9Imh0dHA6Ly9tb29kbGUuam9obndpbGV5LmNvbS5hdS90aGVtZS9pbWFnZS5waHAvd2lsZXlfd2lscC9jb3JlLzE0NTY5Njg5MTEvbW9vZGxlbG9nbyIgYWx0PSJtb29kbGVsb2dvIiAvPjwvYT48L2Rpdj4gICAgPC9kaXY+CiAgICA8L2Rpdj4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgovLzwhW0NEQVRBWwpNLnN0ciA9IHsibW9vZGxlIjp7Imxhc3Rtb2RpZmllZCI6Ikxhc3QgbW9kaWZpZWQiLCJuYW1lIjoiTmFtZSIsImVycm9yIjoiRXJyb3IiLCJpbmZvIjoiSW5mb3JtYXRpb24iLCJ2aWV3YWxsY291cnNlcyI6IlZpZXcgYWxsIGNvdXJzZXMiLCJtb3JlaGVscCI6Ik1vcmUgaGVscCIsImxvYWRpbmdoZWxwIjoiTG9hZGluZy4uLiIsImNhbmNlbCI6IkNhbmNlbCIsInllcyI6IlllcyIsImNvbmZpcm0iOiJDb25maXJtIiwibm8iOiJObyIsImFyZXlvdXN1cmUiOiJBcmUgeW91IHN1cmU/IiwiY2xvc2VidXR0b250aXRsZSI6IkNsb3NlIiwidW5rbm93bmVycm9yIjoiVW5rbm93biBlcnJvciJ9LCJyZXBvc2l0b3J5Ijp7InR5cGUiOiJUeXBlIiwic2l6ZSI6IlNpemU6IiwiaW52YWxpZGpzb24iOiJJbnZhbGlkIEpTT04gc3RyaW5nIiwibm9maWxlc2F0dGFjaGVkIjoiTm8gZmlsZXMgYXR0YWNoZWQiLCJmaWxlcGlja2VyIjoiRmlsZSBwaWNrZXIiLCJsb2dvdXQiOiJMb2dvdXQiLCJub2ZpbGVzYXZhaWxhYmxlIjoiTm8gZmlsZXMgYXZhaWxhYmxlIiwibm9yZXBvc2l0b3JpZXNhdmFpbGFibGUiOiJTb3JyeSwgbm9uZSBvZiB5b3VyIGN1cnJlbnQgcmVwb3NpdG9yaWVzIGNhbiByZXR1cm4gZmlsZXMgaW4gdGhlIHJlcXVpcmVkIGZvcm1hdC4iLCJmaWxlZXhpc3RzZGlhbG9naGVhZGVyIjoiRmlsZSBleGlzdHMiLCJmaWxlZXhpc3RzZGlhbG9nX2VkaXRvciI6IkEgZmlsZSB3aXRoIHRoYXQgbmFtZSBoYXMgYWxyZWFkeSBiZWVuIGF0dGFjaGVkIHRvIHRoZSB0ZXh0IHlvdSBhcmUgZWRpdGluZy4iLCJmaWxlZXhpc3RzZGlhbG9nX2ZpbGVtYW5hZ2VyIjoiQSBmaWxlIHdpdGggdGhhdCBuYW1lIGhhcyBhbHJlYWR5IGJlZW4gYXR0YWNoZWQiLCJyZW5hbWV0byI6IlJlbmFtZSB0byBcInskYX1cIiIsInJlZmVyZW5jZXNleGlzdCI6IlRoZXJlIGFyZSB7JGF9IGFsaWFzXC9zaG9ydGN1dCBmaWxlcyB0aGF0IHVzZSB0aGlzIGZpbGUgYXMgdGhlaXIgc291cmNlIiwic2VsZWN0IjoiU2VsZWN0In0sImJsb2NrIjp7ImFkZHRvZG9jayI6Ik1vdmUgdGhpcyB0byB0aGUgZG9jayIsInVuZG9ja2l0ZW0iOiJVbmRvY2sgdGhpcyBpdGVtIiwiZG9ja2Jsb2NrIjoiRG9jayB7JGF9IGJsb2NrIiwidW5kb2NrYmxvY2siOiJVbmRvY2sgeyRhfSBibG9jayIsInVuZG9ja2FsbCI6IlVuZG9jayBhbGwiLCJoaWRlZG9ja3BhbmVsIjoiSGlkZSB0aGUgZG9jayBwYW5lbCIsImhpZGVwYW5lbCI6IkhpZGUgcGFuZWwifSwibGFuZ2NvbmZpZyI6eyJ0aGlzZGlyZWN0aW9udmVydGljYWwiOiJidHQifSwiYWRtaW4iOnsiY29uZmlybWF0aW9uIjoiQ29uZmlybWF0aW9uIn19OwovL11dPgo8L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgovLzwhW0NEQVRBWwp2YXIgbmF2dHJlZWV4cGFuc2lvbnMxODA4ID0gW3siaWQiOiJleHBhbmRhYmxlX2JyYW5jaF8wX2NvdXJzZXMiLCJrZXkiOiJjb3Vyc2VzIiwidHlwZSI6MH1dOwovL11dPgo8L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgovLzwhW0NEQVRBWwpZVUkoKS51c2UoJ25vZGUnLCBmdW5jdGlvbihZKSB7Ck0udXRpbC5sb2FkX2Zsb3dwbGF5ZXIoKTsKc2V0VGltZW91dCgiZml4X2NvbHVtbl93aWR0aHMoKSIsIDIwKTsKWS51c2UoIm1vb2RsZS1jb3JlLWRvY2stbG9hZGVyIixmdW5jdGlvbigpIHtNLmNvcmUuZG9jay5sb2FkZXIuaW5pdExvYWRlcigpOwp9KTsKWS51c2UoIm1vb2RsZS1ibG9ja19uYXZpZ2F0aW9uLW5hdmlnYXRpb24iLGZ1bmN0aW9uKCkge00uYmxvY2tfbmF2aWdhdGlvbi5pbml0X2FkZF90cmVlKHsiaWQiOiIxODA4IiwiaW5zdGFuY2UiOiIxODA4IiwiY2FuZG9jayI6dHJ1ZSwiY291cnNlbGltaXQiOiIyMCIsImV4cGFuc2lvbmxpbWl0IjowfSk7Cn0pOwpZLnVzZSgibW9vZGxlLWJsb2NrX25hdmlnYXRpb24tbmF2aWdhdGlvbiIsZnVuY3Rpb24oKSB7TS5ibG9ja19uYXZpZ2F0aW9uLmluaXRfYWRkX3RyZWUoeyJpZCI6IjE4MDkiLCJpbnN0YW5jZSI6IjE4MDkiLCJjYW5kb2NrIjp0cnVlfSk7Cn0pOwpNLnV0aWwuaGVscF9wb3B1cHMuc2V0dXAoWSk7ClkudXNlKCJtb29kbGUtY29yZS1wb3B1cGhlbHAiLGZ1bmN0aW9uKCkge00uY29yZS5pbml0X3BvcHVwaGVscCgpOwp9KTsKIE0udXRpbC5qc19wZW5kaW5nKCdyYW5kb201NzRmODA5Yzk0ODRkMicpOyBZLm9uKCdkb21yZWFkeScsIGZ1bmN0aW9uKCkgeyBNLnV0aWwuanNfY29tcGxldGUoImluaXQiKTsgIE0udXRpbC5qc19jb21wbGV0ZSgncmFuZG9tNTc0ZjgwOWM5NDg0ZDInKTsgfSk7Cgp9KTsKLy9dXT4KPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nstatusCode: 404  reasonPhrase: Not Found ) The \"lis_result_sourceid\" parameter value looks like this: {\"data\":{\"instanceid\":\"13865\",\"userid\":\"3265\",\"launchid\":807679975},\"hash\":\"d6946f6462026eb9d962fd18ef99d54a47cb57a88ba737e11c06c91c62a4e130\"} does it have anything to do with this? Please suggest what could be the possible reason for this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 6, 2016, 6:12 PM",
          "AuthorName": "Mayur Agarwal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2096729&course=5",
          "role": [
            "Picture of Mayur Agarwal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Receiving 404 error while posting grades to Moodle",
          "Text": "The current version of Moodle for this site is v2.7 . The issue still persists. Please advice.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2016, 6:46 PM",
          "AuthorName": "Mayur Agarwal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2096729&course=5",
          "role": [
            "Picture of Mayur Agarwal"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 444969,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=444969",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 and WAF",
          "Text": "Hello, We have a moodle 3.9 with LTI 1.3 activities running. If we go through a WAF in reverse proxy mode (Checkpoint) all the LTI 1.3 activities stop working. Any ideas? Thank's and regards.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 17, 2023, 6:26 PM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Sorry to hear you're having trouble. It would be great if you could expand on \"stop working\". Is there a specific error displayed during the launch process, for example? MDL-73847 could be what you're seeing (without more information it's impossible to know though). Keep in mind that this is only fixed in 4.0+ too. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 21, 2023, 11:07 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Hello, MatLab Grader does not show anything else in the browser or logs files after the REDIRECT, we think that it remains in the authentication jump. With Zoom, displays error \"Invalid Request Data (2507).\" WAF (checkpoint) is in monitor mode. That is, it does not block any request. With LTI 1.1 activities we don't have this problem but they are obviously deprecated. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 22, 2023, 8:26 PM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "It might help to look at the network trace for the launch (which includes auth). You can capture that, in Chrome as HAR file ( https://support.google.com/admanager/answer/10358597?hl=en ). If you could attach that here that may be helpful. Also, just to clarify: if your issue is with the launch, it won't relate to the tracker issue I linked above, sorry. That issue only deals with proxy awareness in the service calls so just ignore that. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 23, 2023, 11:02 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "```text\nSorry for taking so long to reply.\n\nAttached the requested HAR file.\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 9, 2023, 12:40 AM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Hello again, I found this thread on this forum https://github.com/Cvmcosta/ltijs/issues/56 which I think is related to what happens to me with a reverse proxy. I think the request fails because Moodle is not on the same machine as where the validation request (/mod/lti/auth.php) originates. The lti_state2 cookie is not set in the header of said request. Can the validation request be forwarded to the reverse proxy instead of locally? and in that case it would be possible to configure a field in the configuration page of the lti tool to adjust the value of the reverse proxy address. Another option I'm considering is to reconfigure the reverse proxy (nginx) using a redirect for those /mod/lti destinations Thanks in advance and greetings",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2023, 3:15 AM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Thanks for attaching that HAR file. Unfortunately, it's a bad file and causes errors when imported into Chrome. Can you send another one? You can confirm it's valid by dragging it into the network tab of chrome. Perhaps you can also explain your setup in more detail. I don't quite follow when you say that Moodle isn't on the same machine as mod/lti/auth.php. Thanks again, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 5:02 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Hello again, Basicly the escheme is (al servers has public IPs) Scenario A ( Matlab Grader, Zoom and LTI activities are running OK ) ( Browser User <=> The Moodle site ) Scenario B ( Matlab Grader, Zoom and LTI the same activities are running not ok ) ( Browser User <=> reverse proxy (WAF) <=> The same Moodle site, same database ) The redirection to waf is make by DNS. The HAR file was capture with Firefox , sorry. We have found that in the Scenario B the 302 redirect request from User's browser has not efect: User view White page or a blank iframe ( the lti_state cookie are ok sorry for older confused post: were tests) We have found that the failure was in the trust relationship of the server certificates, and now we have all lti 1.3 tools running again passing throw the waf. Thank you very much, Hope this can help other with this issue Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 8, 2023, 2:52 AM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Excellent! Glad you managed to get it working and very good to know it's not a problem which needed resolving in Moodle. Thanks for the follow up reply. I'm sure it will help others.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 8, 2023, 9:12 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "```text\nGreetings again\n\n\n\n\nWhen the provider of the Moodle LTI tool requests the page\nmod/lti/certs.php and moodle is configured through a WAF, the request fails showing no errors.\nThe same request being moodle behind HA proxy works correctly.\n\nPerhaps some request verification check could be set into mod/lti/certs.php code to help administrators.\n\n\n\n\nThank's and regards\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 12, 2023, 8:06 PM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Hi, As mentioned above (see MDL-73847 ), there was a known issue when accessing mod/lti/certs through a proxy. That's resolved now, but not in 3.9, which I believe you're still using. You'll need to be running 4.0.7 at a minimum to see that fix. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 13, 2023, 9:52 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Hello, To rule out issues with the Moodle update version, we tested the issue with Moodle 4.1.2+ without success and the issue persists $version = 2022112802.05;",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2023, 2:56 PM",
          "AuthorName": "A. gtdino",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133465&course=5",
          "role": [
            "Picture of A. gtdino"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and WAF",
          "Text": "Given the complexity of the setup, unless there's a crystal clear description, and steps to reproduce it, issue like this can be hard to reproduce and it becomes less likely someone will work on it, were a tracker issue to be created (and may just sit there in jira for some time unfortunately). Can a reverse proxy nginx container be used instead to trigger the same problem? That would assist in reproduction of the problem. Can you see the requests hitting the Moodle site? You're of course welcome to create an issue on tracker.moodle.org, but without all the information we can get, it becomes very hard to reproduce and runs the risk of being closed. I will add that that file (mod/lti/certs.php) is a public file so should\nalways be accessible. I.e. the tool should be able to read it any time. Can you access the file directly? You say it's fails with no errors, but what about the HTTP trace? Hope that helps and sorry I can't be of more help, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2023, 4:48 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 354736,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354736",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Change in LTI URL and Other assets",
          "Text": "Hi all, I work for a company who is undergoing rebranding. We have a solution which is LTI compatible which integrate with institutes Moodle systems. Due to rebranding, our LTI callback URL will be updated with a new domain . We will also update our other branding assets. Our clients, embed LTI link in multiple places like course, student dashboard , Menu item, etc. They also have text and image associated with sections to promotion using our solution. My question is if Moodle administrators update external URL in the configuration once, will it reflect with updated details at all the other sections within Moodle? Secondly, Is there a way we can update associated images and text in bulk for any Moodle section? I have seen bulk course/student import sheets, but is there something similar to update content and images. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 30, 2017, 1:46 PM",
          "AuthorName": "Bhavin Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255472&course=5",
          "role": [
            "Picture of Bhavin Patel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 434166,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=434166",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to identify a TestUser in a resource link request",
          "Text": "Hi, Is there a way to identify when a Moodle teacher who has switched to a student role is following a resource link from Moodle to an LTI tool? I know that IMS defines the http://purl.imsglobal.org/vocab/lti/system/person#TestUser role for this use case when an instructor gets into a student-preview mode ( https://www.imsglobal.org/spec/lti/v1p3#lti-vocabulary-for-system-roles ). I've been doing some tests with a teacher and a course. When the teacher is in his \"regular\" role I'm getting http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor in https://purl.imsglobal.org/spec/lti/claim/roles claim. But when the teacher switches to a student role I'm getting http://purl.imsglobal.org/vocab/lis/v2/membership#Learner I'm trying to figure out what to do to identify if that user is a teacher who has switched to a student role. I was thinking about asking for the course enrollment list and checking if he is a teacher in the course. That will probably work, but it doesn't seem to be a good solution in terms of performance. That will mean that every course member will make an enrollment list request to Moodle every time he goes through a resource link. Is there a way to do that without getting the enrollment list explicitly? I was thinking about custom parameters ( https://www.imsglobal.org/spec/lti/v1p3#customproperty ) but I'm not sure if this is possible and if so, which parameter can give me that kind of information. Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 3, 2022, 7:41 PM",
          "AuthorName": "Aitor Cuesta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4898934&course=5",
          "role": [
            "Picture of Aitor Cuesta"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to identify a TestUser in a resource link request",
          "Text": "I can see a few options: During launch - write an lti_source plugin which can augment the launch with per-user params, including all 'other' roles for the user. Essentially, you code something that allows you to send roles in the custom parameters on a per-user basis, since core doesn't provide a substitution param for roles. You can see https://github.com/moodle/moodle/blob/3b2234ee76b44afe291123838f852de108eeb8e3/mod/lti/locallib.php#L3744 for the params supported by core (note the lack of other context roles). After the launch - using the Name and Role Provisioning Service. As mentioned, perhaps a clunky way to achieve this. Really, we need to expand our support for roles, so we can just use the IMS roles like you say. Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 4, 2022, 1:44 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 412868,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=412868",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Multiple Moodle Instances, LTI, and Conflicting $Userids",
          "Text": "Hello All, We have two campuses that are using two different Moodle instances.  They both have a Practical Nursing program, and therefore both access a 3rd Party content provider through a LTI External Tool.  The two Moodle sites are under the same domain .  The LTI tool is not differentiating between the two sub domains when students access the resource with the same generated $Userid #'s. Example: Moodle instances are subs of main domain: domain.com/pn domain.com/spn Student 1: testuser1@domain.com Moodle Site 1 generated $Userid=116 Student 2: testuser2@doamin.com Moodle Site 2 generated $Userid=116 Student 1 accesses the External tool First:  Has access granted and shows their username in external portal. Student 2 accesses the External tool Second:  Access is granted, but shows Student 1's username in external portal. Any work completed by Student 2 in the external site is recorded on Student 1's grades My question is:  Is there any way to configure the tool or Moodle to differentiate between the two students even though they have the same Moodle generated $Userid #'s?  Maybe in the custom parameters of the tool?  I know I have read that the $Userid is the key to the database is Moodle, and that you should not try to change it, so looking for other solutions to this issue. Thanks in advance for any help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 27, 2020, 10:56 PM",
          "AuthorName": "Clint Webb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3798730&course=5",
          "role": [
            "Picture of Clint Webb"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 224585,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=224585",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "External tool changes breadcrumb links",
          "Text": "Hi, I'm using a Joomdle system, and embedding Moodle in an iFrame using that and want to have Moodle working completely within that frame. One problem that is happening is that when an external tool activity is used (I'm using catapult) that gets embedded in another frame within the frame, which is fine, but it seems as though all of the links outside that frame in the normal Moodle frame get a 'target=\"_top\"' added to them. I'm guessing that this is a built in thing with the way Moodle handles iframes so that links don't end up opening within the external tool frame. But the problem is, this ends up opening Moodle outside of the Joomdle frame when breadcrumbs are used to navigate back, because of the _top. I've been searching through everything I can think of, the php files in the mod/lti folder, the navigationlib.php, etc. And I can not find out where this _top is coming from. I'm thinking that if I can just change that to _self, or remove it completely, it might solve this problem. Does anyone know how Moodles handles this, and where that _top is coming from?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 15, 2013, 8:39 AM",
          "AuthorName": "Jake McGrath",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1528203&course=5",
          "role": [
            "Picture of Jake McGrath"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 421832,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421832",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to configure Deep link launch URLs with path parameters and query parameters for Moodle v3.8, 3.9 & 3.10?",
          "Text": "We are implementing LTI 1.3 Deep linking functionality for moodle 3.8, 3.9, 3.10 and as per our design deep link launch URLs have path parameters and query parameters. However, w hen these links are launched the following error is observed: error: invalid_request error_description: Unregistered redirect_uri https:// Deep link launch url> Please guide us on how can we add URLs with dynamic path parameters and query parameters to the redirect_urls section of the tool? Does moodle support wildcards?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 5, 2021, 7:27 PM",
          "AuthorName": "Shanushika Iswera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4230448&course=5",
          "role": [
            "Picture of Shanushika Iswera"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to configure Deep link launch URLs with path parameters and query parameters for Moodle v3.8, 3.9 & 3.10?",
          "Text": "Hi Shanushika, It sounds like you're building a tool that returns content items via the deep linking content selection flow. Normally, the custom property of the linkitem ( https://www.imsglobal.org/lti/model/mediatype/application/vnd/ims/lti/v1/contentitems%2Bjson/index.html#LtiLinkItem ) is what's used to return arbitrary data alongside a content item (e.g. guid of the item), for use in the subsequent launch of said item later on, via a generic launch URL (tool/launch.php). Then, during launch, the custom claim ( http://www.imsglobal.org/spec/lti/v1p3/#custom-properties-and-variable-substitution ) is used to send this information over to the tool. Effectively you're using a claim to send this data back and forth, rather than via URL params. Does this answer your question? Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 10, 2021, 2:46 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 437062,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437062",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI Names and Roles membership returns unauthorized",
          "Text": "We are having the same issue as described in this thread: Moodle in English: LTI 1.3 got an access token but getting list of members still fails, any reason why? However, there was no resolution to that thread. Can get an access token, but the request to get membership fails with 401 Unauthorized. This works with a local instance of Moodle, but not with a client's Moodle instance. Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2022, 2:13 AM",
          "AuthorName": "Victor Bushong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5014680&course=5",
          "role": [
            "Picture of Victor Bushong"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 321105,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=321105",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Hello, Can anyone help me troubleshoot an LTI OAuth signature not matching up?  The issue was discovered using moodlecloud against our production tool provider.  I then reproduced the issue using MoodleCloud against my development tool provider.  However, when I use the latest (2015100200, but I have also tried v2.9.0) Moodle code running from my laptop, everything works fine.  Local Moodle and my dev tool provider produce the same signature and I don't encounter the error. Method: HMAC-SHA1 Secret: debugsecret String to be signed: \n```text\n==================================================================================\n\n\nPOST&https%3A%2F%2Fintegrations.digication.dev%2Fblackboard%2Flti%2F&context_id%3D\n\n\n3%26context_label%3DWRT101%26context_title%3DWriting%2520101%26context_type%3DCour\n\n\nseSection%26custom_debug%3D1%26ext_lms%3Dmoodle-2%26ext_user_username%3Dadmin%26la\n\n\nunch_presentation_document_target%3Diframe%26launch_presentation_locale%3Den%26lau\n\n\nnch_presentation_return_url%3Dhttps%253A%252F%252Fdigication.moodlecloud.com%252Fm\n\n\nod%252Flti%252Freturn.php%253Fcourse%253D3%2526launch_container%253D3%2526instance\n\n\nid%253D2%2526sesskey%253DlBG4GXnXi0%26lis_course_section_sourcedid%3D%26lis_person\n\n\n_contact_email_primary%3Djyan%2540statewood.edu%26lis_person_name_family%3DYan%26l\n\n\nis_person_name_full%3DJeffrey%2520Yan%26lis_person_name_given%3DJeffrey%26lis_pers\n\n\non_sourcedid%3D%26lti_message_type%3Dbasic-lti-launch-request%26lti_version%3DLTI-\n\n\n1p0%26oauth_callback%3Dabout%253Ablank%26oauth_consumer_key%3Ddebugkey%26oauth_non\n```\n I generated: gow2C7X3he1JvEKoM+clvHGIjII= MoodleCloud sent: j2rayHrF4BBNFOj7SvuBZoerMTI= Thanks for taking a look!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 4:11 AM",
          "AuthorName": "Peter Lefferts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2007668&course=5",
          "role": [
            "Picture of Peter Lefferts"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Are you able to access the base string generated at each end to compare the two?  You may find the page at http://lti.tools/oauth useful in checking signature calculations.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 4:53 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "As far as I know, I am not able to see the base string from moodle cloud . Is there a way to do that? Thanks for the link - however, I already tried looking at that tool early and reached its upper limit for number of parameters.  I believe the signature generation is correct since it worked locally.  There must be something different in the base strings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 5:09 AM",
          "AuthorName": "Peter Lefferts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2007668&course=5",
          "role": [
            "Picture of Peter Lefferts"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "I have removed the limit on the number of parameters for the signature calculation tool, and it confirms the signature you have generated.  I do not know anything about moodle cloud, but have you tried a local version of the same release of Moodle as it is running? I assume you have checked the obvious - that is, the key and secret are\nentered correctly in Moodle Cloud with no surplus whitespace around the\nvalues.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 5:34 AM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Yes to both- I've double checked key and secret, and (although I can't be sure what version moodle cloud is running) I chose v2.9.0 to test against locally based on the tool_consumer_info_version sent from moodle cloud. \n```text\n2015051102\n```\n Aside: Any idea what the \"02\" means? This shows \"00\" : https://github.com/moodle/moodle/blob/v2.9.0/version.php#L32 Does anyone know how to reach out to the moodlecloud folks?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 6:30 AM",
          "AuthorName": "Peter Lefferts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2007668&course=5",
          "role": [
            "Picture of Peter Lefferts"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Hi both - if you think this might be a bug you can  report it on our tracker here: Moodle Cloud bugs Also Stephen, maybe it might be useful to get yourself a Moodle cloud site for any future possible related issues?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 1:53 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Thanks Mary- I posted here but then found the problem when attempting to reproduce the issue on a new moodlecloud domain . https://tracker.moodle.org/browse/CLOUD-4 Please close this bug- the problem turned out to be that the course external tool configuration can override the consumer secret field, and it had auto-populated with a random value.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 9:36 PM",
          "AuthorName": "Peter Lefferts",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2007668&course=5",
          "role": [
            "Picture of Peter Lefferts"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Invalid Signature on MoodleCloud (works fine locally)",
          "Text": "Glad you resolved the issue.  But the fact that the course external tool configuration is being auto-populated with a random value for the secret sounds like a bug to me.  Are you able to replicate this issue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 6, 2015, 10:15 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450172,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450172",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 JWT error on Moodle 3.11.9",
          "Text": "We are still on Moodle 3.11.9 until later in November, although we have patched our servers recently.  We are experiencing errors related to the MDL-77077 tracker item.  On our servers it appears that the 3rd party library of Firebase was upgraded to version 6.6 - which has a new parameter 'alg'.  And while a good chunk of our LTI tools work just fine, a few do not.  They throw errors on trying to parse the keyset. We cannot upgrade production at this point, it's less than a week until our fall term starts.  Is it reasonable to downgrade the Firebase JWT library to a version before they introduced this new parameter?  What version would that be?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2023, 5:23 AM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 JWT error on Moodle 3.11.9",
          "Text": "Hi Carly, The php-jwt library included in lib/php-jwt needs to be version 5.2.0 on Moodle 3.11.x. We ship that specific version and all bets are off if sites change/upgrade that. MDL-77077 is an issue that relates only to 4.0+ versions of Moodle, since 3.11.x doesn't have the LTI 1.3 provider yet. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2023, 10:24 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 JWT error on Moodle 3.11.9",
          "Text": "Jake, Thanks for the response. Do you know if there are any down-sides to trying to downgrade php-jwt?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2023, 10:28 PM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 JWT error on Moodle 3.11.9",
          "Text": "Hi Carly, The person who made that change know the details of that better than I. There may have been some third party piece of code that needed the upgrade - I'm really just guessing though. All I can say is that installations shouldn't be changing the versions of these shipped libraries. We test each release with the shipped version and can make no guarantees about the state of things should that version be changed. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 7, 2023, 10:43 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 JWT error on Moodle 3.11.9",
          "Text": "We finally resolved the issue after much time debugging. The php-jwt library was not the issue, instead our security officer was agressive in blocking some traffic.  🤦🏻‍♀️",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 7, 2023, 8:40 PM",
          "AuthorName": "Carly Born",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9098&course=5",
          "role": [
            "Picture of Carly Born"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 272314,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=272314",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "How to authenticate moodle LTI launch request",
          "Text": "Hi, I've created a LTI tool that I'm integrating with moodle. I have created a consumer key and secret but I'm unsure how do I validate (authenticate) the launch request. Here is the raw request that I'm receiving, so I'm guessing I need to validate the oauth_signature to authenticate the request. Are there any guides or examples to help me with this? I would really appreciate any help! POST http://ltitest.cloudapp.net/launch HTTP/1.1 Host: ltitest.cloudapp.net User-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64; rv:32.0) Gecko/20100101 Firefox /32.0 Accept: text/html,application/ xhtml + xml ,application/xml;q=0.9,*/*;q=0.8",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 11, 2014, 9:14 AM",
          "AuthorName": "Sam A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1865106&course=5",
          "role": [
            "Picture of Sam A"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to authenticate moodle LTI launch request",
          "Text": "Are you creating lti tool provider? You need to use different oauth libraries in order to generate a signature from secret and the lti post message. LTI uses oauth 1.1a so you need libraries that implement oauth 1.1a corresponding to your tool language. I hope i have understood your question correctly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 11, 2014, 8:15 PM",
          "AuthorName": "vartika sinha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1821039&course=5",
          "role": [
            "Picture of vartika sinha"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to authenticate moodle LTI launch request",
          "Text": "Hello . I'm looking for something. Could you tell me how you managed to get this information? :: oauth_version=1.0&oauth_nonce=d8e900f0b71e76c4b12e89681c9b5cb9&oauth_timestamp=1412987714&oauth_consumer_key=username&resource_link_id=1&resource_link_title=tool&resource_link_description=&user_id=2&roles=Instructor%2Curn%3Alti%3Asysrole%3Aims%2Flis%2FAdministrator&context_id=2&context_label=My+first+course&context_title=My+first+course&launch_presentation_locale=en&lis_result_sourcedid=%7B%22data%22%3A%7B%22instanceid%22%3A%221%22%2C%22userid%22%3A%222%22%2C%22launchid%22%3A449414780%7D%2C%22hash%22%3A%2226f6510ff6e91e1a7814805190c01a9e9d02575de135d7a1483a70626bae8782%22%7D&lis_outcome_service_url=http%3A%2F%2Fdemo.moodle.net%2Fmod%2Flti%2Fservice.php&lis_person_name_given=Admin&lis_person_name_family=User&lis_person_name_full=Admin+User&lis_person_contact_email_primary=demo%40moodle.a&ext_lms=moodle-2&tool_consumer_info_product_family_code=moodle&tool_consumer_info_version=2014051202&oauth_callback=about%3Ablank&lti_version=LTI-1p0&lti_message_type=basic-lti-launch-request&tool_consumer_instance_guid=demo.moodle.net&launch_presentation_return_url=http%3A%2F%2Fdemo.moodle.net%2Fmod%2Flti%2Freturn.php%3Fcourse%3D2%26launch_container%3D3%26instanceid%3D1&oauth_signature_method=HMAC-SHA1&oauth_signature=JmFLDbhi%2FstYEFTSNA%2F44biCQkM%3D&ext_submit=Press+to+launch+this+activity",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 9, 2014, 5:14 PM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to authenticate moodle LTI launch request",
          "Text": "Hi Alejandro, that information is posted to you via moodle. Eg... When you setup an external tool you should specify a launch URL , consumerKey and consumerSecret. Then, moodle will post all the necessary data to your launch URL as http headers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 10, 2014, 12:32 AM",
          "AuthorName": "Oliver McPhee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1887972&course=5",
          "role": [
            "Picture of Oliver McPhee"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to authenticate moodle LTI launch request",
          "Text": "Thank you very much for your answer. Now I have configured a LTI Provider and LTI Consumer. Everything works and both communicate. But what I want to know is how do you get this information ? ¿ Looking at the source code of the page? Thanks for replying",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 10, 2014, 1:14 AM",
          "AuthorName": "alejandro martinez garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886823&course=5",
          "role": [
            "Picture of alejandro martinez garcia"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to authenticate moodle LTI launch request",
          "Text": "You should find sample code on the IMS developers site to help with this: http://developers.imsglobal.org My own approach is to use a class library to handle the validation of launch requests; I have open source libraries for both PHP ( http://www.spvsoftwareproducts.com/php/lti_tool_provider/ ) and Java ( http://www.spvsoftwareproducts.com/java/lti_tool_provider/ ), but the actual code which does the message verification is just a few lines; for example; try { $store = new LTI_OAuthDataStore($this); $ server = new OAuthServer($store); $method = new OAuthSignatureMethod_HMAC_SHA1(); $server->add_signature_method($method); $request = OAuthRequest::from_request(); $res = $server->verify_request($request); } catch (Exception $e) { // invalid request } see the class library for details of the LTI_OAuthDataStore class but it is merely a way of providing the secret for a key and allows a nonce value to be checked against those used in previous requests.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 20, 2014, 5:27 PM",
          "AuthorName": "Stephen Vickers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1785723&course=5",
          "role": [
            "Picture of Stephen Vickers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 449959,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449959",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "LTI authentication request url returning 404",
          "Text": "I have been trying to integrate my lti provider tool into moodle. i configured the tool as an external tool in moodle and currently stuck in the lti authentication process. The launch request works fine and it calls the endpoint in my server . but the authentication request url http://localhost:8888/moodle402/mod/lti/auth.php returns a 404. Since i had trouble getting this to work for days, i ended up trying to authenticate using a oauth 2 server plugin for moodle (since i will be only needing the SSO feature of lti), even that url returns a 404. If anyone can help with this, would really appreciate it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 30, 2023, 6:08 PM",
          "AuthorName": "Kalsha Samarajeewa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5722659&course=5",
          "role": [
            "Picture of Kalsha Samarajeewa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI authentication request url returning 404",
          "Text": "Hi Kalsha, I assume both your tool and your platform are running locally, right? You can't host one on localhost and the other on a public domain as the OIDC handshake needs tool and platform to be able to access one another. If you can post more information about the launch (a network trace for example), we might be able to point you in the right direction. As it stands, there really isn't enough information in your post. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 1, 2023, 10:11 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 365994,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=365994",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "LTI activity Grades no longer updating 3.1",
          "Text": "We've been using LTI to integrate a 3rd party assessment tool with our moodle. The 3rd party app is launched via a link on the course page, when complete a grade is sent back to moodle and stored in the grade book. This has been working preferably until a week ago. The app still launches but the grades do not update. The error \"Message signature not\nvalid\" is returned. When trying the test tool http://lti.tools/test/tp.php , the grade doesn't return . We just get an error. This suddenly stopped working last Monday.  The assessment developer has not changed anything. The moodle host says the server and ip changed but nothing else. Any suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 20, 2018, 1:14 AM",
          "AuthorName": "Shiv R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2249552&course=5",
          "role": [
            "Picture of Shiv R"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 391133,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=391133",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Global shared secret",
          "Text": "The old ltiprovider plugin written by Juan Leyva had a Global Shared Secret configuration option to allow for one secret to be used across all courses in the same site.  I don't see a corresponding feature in the Publish as LTI tool functionality.  It seems like you have a generate or configure a secret for each course or activity separately.  Is that really the case or am I missing something? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 18, 2019, 6:23 AM",
          "AuthorName": "Adrian Croft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2769371&course=5",
          "role": [
            "Picture of Adrian Croft"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 427972,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427972",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Safari not working unless \"Prevent cross-site tracking\" is disabled",
          "Text": "We are using “Published as LTI tools\" feature on a course. When using the Safari browser (version 14.1.2.)  with \"Prevent cross-site tracking\" enabled and accessing the course activities from within the external system we are prompted for login details but still can't access the content as we are again prompted for login details. In the external system, we set the content to open in a new window but this did not solve the problem. When we disable \"Prevent cross-site tracking\" in Safari, it works ok: We are not prompted for login details and can access the content published as LTI tools ok. I noticed in https://tracker.moodle.org/browse/MOBILE-3724 (Fix LTI 1.3 launch in the app) that the first testing step is: Before testing this in iOS, please go to iOS native settings, select Safari and then disable \"Prevent Cross-Site Tracking\". Does this mean there is no way to code around the \"Prevent cross-site tracking\" in Safari or is this a bug? E.g. I was wondering whether adding SameSite=None to the cookies might do the trick? Thanks, Barry",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 13, 2021, 7:18 PM",
          "AuthorName": "Barry Oosthuizen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=520295&course=5",
          "role": [
            "Picture of Barry Oosthuizen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Safari not working unless \"Prevent cross-site tracking\" is disabled",
          "Text": "Hi Barry, Firstly, can you tell me what version of Moodle you're running? This issue was patched recently in MDL-71887 but you'll need be running one of 3.9.9+ 3.10.6+ or 3.11.1+ to get that fix. The issue you linked is a Mobile issue and doesn't relate to standard Moodle. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 18, 2021, 1:12 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 458705,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=458705",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI - Manually created external tools",
          "Text": "I work for a content vendor that supplies pre-built course cartridges to customers in various supported LMS, including Moodle.  Our courses are created and housed on our own instance of moodle, and then copied to partner sites using backup and restore.  The cartridges contain individual external tool links that link directly back to our lesson content stored on our servers. At this time we are using LTI 1.1 but are trying to make the move to LTI 1.3. We recently started testing Moodle 4.4 to make sure there are no issues with our cartridges and found that the manual tool creation with direct links are no longer supported.  This means that all the links, in all our 200+ course catalogue are not editable.  (We frequently customize course content on a per course/per customer basis using custom parameters.) I see from the documentation and other posts that I should be able to recreate a link manually by linking to the LTI 1.3 tool and breaking out the custom parameters from the direct link and adding them to a box, but recreating thousands of links is a big lift.  (And I haven't been able to test if this works yet.) Does anyone know if there is a way to allow back access to the tool URL so that we can continue to use direct links? If there is not a way, are LTI 1.3 tool links that I create in courses on our own site transferable to another site that will use a different tool connection/authentication variables?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2024, 2:16 AM",
          "AuthorName": "Nicole Burden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6473469&course=5",
          "role": [
            "Picture of Nicole Burden"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI - Manually created external tools",
          "Text": "Hi Nicole, That's an interesting case. I think there are few bits to confirm first: Yes, we've moved away from the previous per-instance configuration, in line with the general notion of Deep Linking / Content Selection. This means the tool URL is only editable at the tool configuration (site or course tool level). There are no plans to reintroduce per-instance modification of the tool URL outside of the tool configuration. There are other ways to pass any required custom data (custom params). We do still support the inclusion of custom params. If a tool needs an identifier during a launch (or anything else it would like to customise on a per-link level aka instance level), it can be passed this way, as it could before (This feature was restored in, I think, 4.4.1, and can be seen under \"Show more\" in the form). We still support any manually configured links as a backward compatibility measure. These will work, but can't be modified any more and new manually configured instance cannot be created. Then, in answer to your two questions: There is no way to restore edit access to the tool URL at the instance level, no. The difference between the security models for 1.1 (OAuth 1.0) vs 1.3 (OAuth 2.0) might be a hurdle to overcome when adopting 1.3. The former can handle security on a per-link basis (key, secret), but of course has been deprecated and is out of support for a good while now. The latter cannot do this, and the trust must be set up at the site level between the platform/consumer site (your individual client/partner sites) and the tool/provider (your lesson tool). As a result of the above, you won't currently be able to use your existing approach to lesson distribution because the site tools (i.e. the platform-tool registrations) aren't included in backups. Any activity instances (lti links) that were linked to a 1.3 tool in your Moodle site will just become detached links and will be reported as manually configured instances when restored into the client/partner sites. I.e. it's not sufficient to just distribute standalone links any more; you also need to ensure you have the platform-tool registration, which isn't included in backups. That requirement is just the nature of LTI 1.3. When you go down the 1.3 route you'll very likely find that you'll be better off using deep linking to set up the client/partner links. Of course that's at odds with the notion of prebuilt courses..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2024, 10:42 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI - Manually created external tools",
          "Text": "Jake, Thank you for your detailed reply. We have not encountered this issue with other LMS where we are moving to LTI 1.3, so far, we've been able to continue our use of direct links (that are editable) in tandem with a sitewide LTI 1.3 setup, so this change came as a surprise. We do not add key and secrets to each link, we add site level, customer specific, LTI 1.1 providers that match the existing direct links to the base tool URL in the tool setup. We expected that LTI 1.3 setups would do the same. It puts a pretty big wrench in our current distribution model and may limit our support for moodle going forward. We will continue to investigate new ways to deliver content. Thanks again, NB",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 23, 2024, 8:54 PM",
          "AuthorName": "Nicole Burden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6473469&course=5",
          "role": [
            "Picture of Nicole Burden"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI - Manually created external tools",
          "Text": "Thanks for the clarification, Nicole. It shows there are definitely some gaps in my understanding of your setup - apologies. So, it sounds like you can disregard what I said about backup and restore being the limiting factor with 1.3. You're already impacted by that site tool limitation (1.1 site tools aren't included in backups either). Presumably, you've set up the tool definitions outside of the backup/restore process. Any of your restored links are domain -match the site-level tool during launch - and this part works the same across 1.1 and 1.3. The real issue is not able to edit the existing manually created links in your catalogue, because we've deprecated per-instance config (i.e. the form is now locked). Got it. If you were to move to 1.3 (and leaving aside the issues of link recreation and the need to use custom params instead of URL params), I can confirm any 1.3 links included in backups, when restored, would also domain match a 1.3 site-level tool in the destination site. So, assuming you had these links, the means of transferring them is still fine and they'd still be able to launch, provided the site-level tool definition was there. Just like with 1.1 instances.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2024, 11:05 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI - Manually created external tools",
          "Text": "Yes, we setup the LTI 1.1 provider outside of the backup/restore process because every customer has their own key and secret. Being able to re-use the link across copies is very good news, thank you for the update. I am still unsure if I can break apart our base link but hoping it will work once I get the chance to test. Being able to add or remove custom parameters on those links is very important to us for individual customer customization, so we would love to see that updated in the future.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 24, 2024, 8:43 PM",
          "AuthorName": "Nicole Burden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6473469&course=5",
          "role": [
            "Picture of Nicole Burden"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 215594,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215594",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Owncloud and Moodle",
          "Text": "Hi people,\n\nI create this post to explain my problem and ocasionally find some solution:\n\nI want to use the external tool called OwnCloud to create a \"virtual disk\" for every course admin. The behavior i want to obtain is that if i put some files in a local folder on my pc, these files will automatically being uploaded into Moodle's running server and then, using filepicker i'll can select these files without upload another time because are already uploaded, a function similar to dropbox but implemented in moodle's server.\n\nThe question is if there are some plugin that do this function already, because if it is already created, I will use my efforts to develop something else.\n\nThanks for all answers in advance !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 9, 2012, 10:56 PM",
          "AuthorName": "Tuma Dremola",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1523634&course=5",
          "role": [
            "Picture of Tuma Dremola"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 371073,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=371073",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course Category as LTI Custom Parameter",
          "Text": "Hello, everyone; Within the tool I am currently developing, it would be very convenient to know the category containing the course from which the tool has been launched. I am aware I can send some dynamic custom parameters as \"custom_SectionSourcedID = $CourseSection.sourcedId\" but I can't find anything related to course categories. Is there any way to send the category the course belongs to as a custom LTI parameter to the external LTI Tool?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 23, 2018, 4:13 PM",
          "AuthorName": "Pablo Garcia de los Salmones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2407052&course=5",
          "role": [
            "Picture of Pablo Garcia de los Salmones"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 447935,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447935",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 submit score throws error",
          "Text": "Hi. I am having issue when sumbitting scores to moodle using lti 1.3 integration. I am following official imsglobal spec. In external tool for IMS LTI Assignment and Grade services I have selected \"Use this service for grade sync and column management\". Then I make a post request to lineitemurl/scores with token in the header and score in the body like: {\nActivityProgress = ActivityProgress.Completed,\nGradingProgress = GradingProgess.FullyGraded,\nScoreGiven = scoreReceived,\nScoreMaximum = 100,\nTimeStamp = DateTime.UtcNow,\nUserId = ltiRequest.UserId\n} but getting in reply that score is incorrect: Error:\"Incorrect score received{\\\"activityProgress\\\":\\\"Completed\\\",\\\"comment\\\":null,\\\"gradingProgress\\\":\\\"FullyGraded\\\",\\\"scoreGiven\\\":80.0,\\\"scoreMaximum\\\":100.0,\\\"timestamp\\\":\\\"2023-06-21T16:14:31.0469841Z\\\",\\\"userId\\\":\\\"7\\\"}\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 22, 2023, 1:04 AM",
          "AuthorName": "Vitalii Volkov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5664519&course=5",
          "role": [
            "Picture of Vitalii Volkov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 submit score throws error",
          "Text": "Hi Vitalii, What stands out here is the backslashes in the body. That's breaking the JSON , and shouldn't be there. If you remove that, the grade should be processed fine. Hope that helps, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 22, 2023, 9:46 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 submit score throws error",
          "Text": "Hey, thanks for your help. I tried what you proposed so now instead of sending string content as I was doing before I am sending json content an before sending it doesn't have any backslashes, i also verified that context is [RFC4627] compatible, but I still get backslashes in the error and I suspect It’s possible that the backslashes are not actually part of the request body that is being sent to the API, but are instead being added by the logging mechanism in Moodle when the error message is generated to escape \" character in the string. I also read this spec http://www.imsglobal.org/sites/default/files/lti/ltiv2p1/model/mediatype/application/vnd/ims/lis/v1/score+json/index.html#_RFC4627_ and added mentioned as mandatory 2 fields: @type and @context. But I still getting the same error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2023, 1:43 AM",
          "AuthorName": "Vitalii Volkov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5664519&course=5",
          "role": [
            "Picture of Vitalii Volkov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 submit score throws error",
          "Text": "Hi Vitalii, Firstly, I would only be looking at the official AGS 2.0 specification document: https://www.imsglobal.org/spec/lti-ags/v2p0/#score-publish-service (login is required to view). That has all you need there. That spec also links to the OpenAPI spec for score posting: https://www.imsglobal.org/spec/lti-ags/v2p0/openapi/#/default/Scores.POST . Neither of these list those additional @type and @context fields, so definitely remove those. Re logging, the short answer is no. Moodle has rather poor debugging within LTI and unfortunately this leads to situations like yours, where it's hard to isolate the problem. The only other option would be to manually debug this using a local Moodle install - provided you have access to that. Then I'd be stepping through the code with breakpoints, etc. You can see the code responsible for this validation here: https://github.com/moodle/moodle/blob/27cbb5965ea34dc142a519cfa72be8cdab353156/mod/lti/service/gradebookservices/classes/local/resources/scores.php#L173C1-L186 A quick look at your (original) request and my suspicion would fall on: it can't decode the JSON (due to backslashes). Moodle doesn't add these as part of the exception generation (you can see that here: https://github.com/moodle/moodle/blob/27cbb5965ea34dc142a519cfa72be8cdab353156/mod/lti/service/gradebookservices/classes/local/resources/scores.php#L186 ), hence my first comment about these being suspect. They could, of course, be added somewhere between Moodle and where you're seeing the error reported in your tool/postman/etc. I can't speak for that. the is_user_gradable_in_course() check. Make sure the user \"7\" is in the course and is a student. Failing those obvious things, I'd be falling back on the 'debug a local Moodle' approach mentioned above. It's just too hard to guess at what it might be otherwise. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2023, 10:03 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 submit score throws error",
          "Text": "Hi again, Indeed the problem was because the user was not enrolled on the course and had admin permissions so it was possible to launch the course without being enrolled. Error saying \"invalid score\" is quite misleading though, but I am glad you sent me the code responsible for that. Thank you for your help and useful links. Cheers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2023, 7:16 PM",
          "AuthorName": "Vitalii Volkov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5664519&course=5",
          "role": [
            "Picture of Vitalii Volkov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 submit score throws error",
          "Text": "I couldn't agree more about the need for better debugging. Most of the errors in mod/lti are extremely unhelpful. Glad you got past it in this instance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 26, 2023, 5:17 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 461599,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=461599",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Has Moodle deprecated LTI 1.1?",
          "Text": "Hi, Is there an official statement from Moodle that says that LTI 1.1 has been deprecated? I have some conflicting information about what is supported or not. For example, there is this page ( https://docs.moodle.org/404/en/Publish_as_LTI_tool , updated 11 January 2024, at 16:16) that clearly outlines the LTI 1.1 and 12.0 are deprecated. However, this site ( https://docs.moodle.org/404/en/LTI_External_tools , updated 26 March 2024, at 09:55), indicates that ONLY LTI 2.0 is deprecated. If there is an official statement or spec sheet, that would be great. Thanks Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 31, 2024, 11:20 PM",
          "AuthorName": "Chris Swinney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=430091&course=5",
          "role": [
            "Picture of Chris Swinney"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Has Moodle deprecated LTI 1.1?",
          "Text": "Thanks pointing out some of the documentation is in need of updating, the second document should mention LTI 1.1 is also deprecated. I'll look to get that updated. For reference Moodle has not been able to certify LTI 1.1 since 2021 and LTI 1.0, 1.1, 1.1.1, .1.2 and 2.0 have been completly deprecated by 1EdTech since 2022 or earlier. There are known security issues with LTI 1.1 particularly as it uses the OAuth 1.0 which has known issues, specifically session fixation attacks which could allow a user to get unauthorised access to things like grade endpoints and PII amoung other issues with the standard. We are not removing LTI 1.1 support as there are still a very large number of tools that have not moved to LT I1.3, but equally there will be no HQ resources dedicated to resolving LTI 1.1 related issues. We may accept community patches from time to time related to LTI 1.1 but they wont be a priority. At the moment any community contributions are on hold as we are migrating LTI from a module to core, this is only temporary however. 1EdTechs Notice of Deprecation https://www.1edtech.org/lti-security-announcement-and-deprecation-schedule",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 2, 2024, 8:02 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Has Moodle deprecated LTI 1.1?",
          "Text": "Just wanted to clarify that, to my knowledge, the earlier OAuth 1.0 session fixation problem you mentioned has no part to play with LTI 1.0 since LTI 1.0 doesn't involve user authorization flows. Also, at the time when LTI 1.0 arrived, OAuth 1.0a had already been released and was widely adopted anyway. If there were a problem, IMS would have included mitigation for that in the LTI spec (or an updated spec). I believe later-life LTI 1.0 and 1.1 did receive a security advisory around CSRF though, and I don't think Moodle adopted that particular update (1.1.2 and 1.0.1 - see https://www.imsglobal.org/spec/lti/security-update/v1p0#introduction-0 ). Re the provider code (\"Publish as LTI tool\" ), this feature (LTI 1.1 publication of tools) has been clearly marked as deprecated in Moodle's UI for quite a number of Moodle versions now. We probably do need to drop that from the platform entirely in future given sites have had ample time to upgrade to 1.3 by now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 2, 2024, 12:05 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Has Moodle deprecated LTI 1.1?",
          "Text": "Hi, Both @jake and @brett; thanks for the replies. There is a difference in the terms \"deprecated\" and \"supported\". It seems clear that whilst no active development from the Moodle team or security patches are to be published that relate to LTI 1.1 (thus, it appears to be deprecated), the fact that you are still creating a Moodle version that can integrate with LTI 1.1. tools, it is still supported (similar to what Brett suggested). Still, it would be good to see an official schedule for the deprecation and end of the support cycle of these (and other) components. @Jake, I represent a Tool software manufacturer (CloudShare), and we have only released our LTI 1.3 integration option in the past few weeks! While I know IMS/EdTech (I am never sure which is the ultimate source of truth for LTI) has deprecated LTI 1.1 for some time, it has taken us until now to schedule the developmental resource to build the LTI 1.3 integration. I suspect that other smaller tool manufacturers are in similar positions. Many years ago, as a customer of CloudShare (before I was an employee), I poked CloudShare to update their integration, so it took quite some time.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 2, 2024, 9:55 PM",
          "AuthorName": "Chris Swinney",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=430091&course=5",
          "role": [
            "Picture of Chris Swinney"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Has Moodle deprecated LTI 1.1?",
          "Text": "Chris, the situation you described is exacly why we are not planning to remove LTI 1.1 at this point.  There are a lot of providers in similar situations.  There will be seveal versions warning when we finally make the decision to remove LTI 1.1 but that will be a number years away at the earliest.  Most other major LMS continue to support LTI 1.1 for similar reasons.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 3, 2024, 9:26 AM",
          "AuthorName": "Brett Dalton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5396237&course=5",
          "role": [
            "Picture of Brett Dalton",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Has Moodle deprecated LTI 1.1?",
          "Text": "Hi Chris, Yep. As Brett said, that's the reason we still include our existing platform/consumer (the 'External tool' module) implementation in core. Moodle also ships a tool implementation though (\"Publish as LTI tool\"), and it was that which I was referring to above. Worth clarifying because often people don't know that we support both sides of LTI.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 3, 2024, 9:35 AM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 353423,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=353423",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Publish as an LTI Tool and Schoology",
          "Text": "Hello- I am trying to get add Moodle activities into Schoology as an external tool and I cannot get it to work.  I went into the Moodle Sandbox and enabled all three of these things as suggested by the moodle docs page: https://docs.moodle.org/33/en/Publish_as_LTI_tool \" Go to Site administration > Plugins > Authentication > Manage authentication and enable LTI Go to Site administration > Plugins > Enrolments > Manage enrol plugins and enable 'Publish as LTI tool' It is recommended that the site administration setting 'Allow frame embedding' is enabled (in \"Site Administration > Security > HTTP security\") so that tools are displayed within a frame rather than in a new window.\" In the Moodle Sandbox site I created a one-question quiz and I tried to get the quiz to work on the basic edition of Schoology.  If I put the launch cartridge URL from Moodle into the URL box on Schoology, I get this in Schoology when I try to launch the tool: Quiz https://demo.moodle.net/theme/image.php/boost/theme/1496445138/faviconhttps://demo.moodle.net/theme/image.php/boost/theme/1496445138/favicon https://demo.moodle.net/enrol/lti/tool.php?id=1https://demo.moodle.net/enrol/lti/tool.php?id=1 https://demo.moodle.net/theme/image.php/boost/theme/1496445138/faviconhttps://demo.moodle.net/theme/image.php/boost/theme/1496445138/favicon Sandbox Moodle sandbox demo https://demo.moodle.net/ Placing the Moodle registration URL into the Schoology Parameters box does nothing.  If I place the Moodle registration URL into the URL box on Schoology, it takes me to the Moodle demo site with an error and then leads me to the main Moodle Sandbox page. I made sure to complete all of this before the Sandbox site reset itself. Anyone get Published Moodle LTI tools to work in Schoology?  If so, could you elaborate on how to get it to work? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 3, 2017, 9:05 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Just as an update.  I created the LTI tool in the moodle sandbox like I did before and added it as an external tool in Moodle v 2.9 that I am currently running.  Moodle 2.9 spits out the same thing as Schoology does when I run the external tool.  I wonder if I am missing an admin setting or something.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 4, 2017, 4:44 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "It sounds like schoology does not support cartridges. Open the cartridge in your browser, and copy the launch url instead. In the case above this would be https://demo.moodle.net/enrol/lti/tool.php?id=1 although by now demo. moodle.net will have been reset so that tool will need to be created again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 6, 2017, 8:41 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Hi John- Thanks for the reply.  If I do that and post into Schoology, I just get the error message \"Sorry, there was an error connecting you to the application.\" If I create an LTI tool in the Moodle Demo Sandbox, I can't even it it to work when I add it as an external tool to the Mount Orange Demo Moodle Site.  This is the error that the Mount Orange site gives me \"An error occurred when launching the external tool:Sorry, there was an error connecting you to the application.\" Is it possible that LTI tools published with the Moodle Demo Sandbox cannot actually be run due to some setting? Before I know that it is an error with Schoology, I should be sure to get it working in Moodle first.  I would think that Moodle published LTIs should be compatible with Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 14, 2017, 7:01 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Are you also copying the secret and typing in a consumer key? Moodle LTI published tools are compatible with Moodle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 14, 2017, 9:23 AM",
          "AuthorName": "John Okely",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1779959&course=5",
          "role": [
            "Picture of John Okely"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Yes, I do copy the secret and enter in a consumer key. The Mount Orange site cannot seem to use an external tool from the Moodle sandbox site.  It loads the icon ok on the main page, but gives this error when trying to import a news forum as an external tool \"An error occurred when launching the external tool:Sorry, there was an error connecting you to the application.\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 20, 2017, 11:21 PM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "I have enabled Publish as LTI authentication and enrolment on the School demo site but it will be another hour before the site change actually takes place, but if you want to try again in a few hours, perhaps you can let us know how you get on?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 21, 2017, 12:26 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Thanks for doing that Mary.  I published one of the news forms on the mount orange school site as an LTI tool and tried to import it into Moodle 2.9 as an external tool.  When I use the . xml link, the screen is blank.  When I try the LTI v 1 link, it says that it is not supported.  Did you enable frame embedding on the mount orange site?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2017, 9:20 PM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "Yes, Allow frame embedding is enabled. You could also try on the Sandbox site demo.moodle.net where you can have admin rights to set it up yourself and double check.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2017, 9:56 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "I was able to get it to work eventually, but I had to publish as an LTI tool on a different Moodle site than either the Moodle sandbox or the Mount Orange site.  I am wondering if those sites have some sort of setting preventing it from working. LTI tools from Moodle do appear to work in Schoology (I tried the forum as well as quizes with question types multiple choice and drag and drop into text).  However, Schoology only uses LTI v 1.0, so I had to change the link from the v 2.0 .xml that Moodle originally gives you. Thanks for all your help Mary and John.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 1, 2017, 12:31 AM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Publish as an LTI Tool and Schoology",
          "Text": "I can get the LTI to work and it will pass quiz grades from Moodle to Schoology. What I cannot get to work is to have Schoology pass the student's name to Moodle.  Right now when I log into Moodle, the student name is listed as something like \"enrol_lti6bc413f070ac15e35789037218a672880c523ebb\" instead of the student's actual name.  Is there some setting when I can get the student's actual name passed to Moodle? This will make it easier for me to review any student attempts.  Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 27, 2017, 10:52 PM",
          "AuthorName": "Mike Simurdiak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473917&course=5",
          "role": [
            "Picture of Mike Simurdiak"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 441192,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=441192",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "LTI 1.3 and Ngrok",
          "Text": "Hi, I would like to ask for help. I am following this ticket: https://tracker.moodle.org/browse/MDL-66920 And would like to try the steps. However, I can't make the ngrok to work. I get an error: redirected too many times. Can you please give me the correct setting in config.php? (It is in this step: As LTI 1.3 launches require to access to the platform public key set, the moodle instance must be reachable from the internet. Consider using ngrok ( https://ngrok.com). and update config.php) Here is my current config.php ?php  // Moodle configuration file unset($CFG); global $CFG; $CFG = new stdClass(); $CFG->dbtype    = ' mariadb '; $CFG->dblibrary = 'native'; $CFG->dbhost    = 'localhost'; $CFG->dbname    = 'moodle'; $CFG->dbuser    = 'root'; $CFG->dbpass    = ''; $CFG->prefix    = 'mdl_'; $CFG->dboptions = array ( 'dbpersist' => 0, 'dbport' => '', 'dbsocket' => '', 'dbcollation' => 'utf8mb4_unicode_ci', ); $CFG-> wwwroot = ' https://46bd-52-142-205-163.eu.ngrok.io '; $CFG-> dataroot = 'C:\\\\Users\\\\Moodle\\\\Downloads\\\\Moodleextracted\\\\ server \\\\moodledata'; $CFG->admin     = 'admin'; $CFG->directorypermissions = 0777; require_once(__DIR__ . '/lib/setup.php'); // There is no php closing tag in this file, // it is intentional because it prevents trailing whitespace problems! Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 2, 2022, 5:58 PM",
          "AuthorName": "Ken Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5318133&course=5",
          "role": [
            "Picture of Ken Yu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: LTI 1.3 and Ngrok",
          "Text": "That's an easy one, Ken. Just set: $CFG->sslproxy = true; when using ngrok https and it'll work fine. Also recommend registering for ngrok (free) so you can benefit from the increased traffic allowance it provides. Cheers,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2023, 12:14 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Ngrok",
          "Text": "Thanks Jake but it doesn't work on my end. After I browse thru ngrok url, it will redirect to http://localhost. I forgot to mention, I installed the windows package (using XAMPP/ MySql ). I think it only works on provisioning your own apache, moodle and my sql .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2023, 2:11 PM",
          "AuthorName": "Ken Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5318133&course=5",
          "role": [
            "Picture of Ken Yu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Ngrok",
          "Text": "Hi Ken, There are two lines you need to set in config.php to use ngrok. I had assumed you already had the first but it sounds like you don't. Add these two below the existing $CFG-> wwwroot line (or comment that one out). $CFG->wwwroot = ' https://XXXXX.ngrok.io/imaster' ; // Use your ngrok URL here of course. $CFG->sslproxy = true; And that's it. That should work just fine. Cheers, Jake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2023, 2:49 PM",
          "AuthorName": "Jake Dallimore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2079338&course=5",
          "role": [
            "Picture of Jake Dallimore",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: LTI 1.3 and Ngrok",
          "Text": "Amazing! It works now! Thanks a lot Jake!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 13, 2023, 3:27 PM",
          "AuthorName": "Ken Yu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5318133&course=5",
          "role": [
            "Picture of Ken Yu"
          ],
          "IsInitialPost": false
        }
      ]
    }
  ]
}